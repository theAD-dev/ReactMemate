"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[6408],{74777:(e,s,a)=>{a.r(s),a.d(s,{default:()=>A});var l=a(65043),t=a(73898),i=a(83627),n=a(49367),r=a(24858),c=a(35475),d=a(18403),m=a(93747),o=a(47097),u=a(72018),x=a(9642),h=a(64824),j=a(55797),N=a(72052),p=a(80899),v=a(64016),g=a(76557),y=a(48417),f=a(61745),b=a(70579);const A=()=>{const{trialHeight:e}=(0,y.$)(),[s,a]=(0,l.useState)("industries"),[A,w]=(0,l.useState)(null),{data:C,refetch:S}=(0,m.I)({queryKey:["getCategoriesList"],queryFn:g.He,enabled:!0}),$=p.Ik({name:p.Yj().required("Name is required"),value:p.Yj().required("Value is required")}).required(),{register:k,handleSubmit:q,setValue:V,reset:B,formState:{errors:I}}=(0,r.mN)({resolver:(0,d.t)($),defaultValues:{name:"",value:""}});(0,l.useEffect)((()=>{A&&(async e=>{const s=await(0,g.Nq)(e);V("name",s.name),V("value",s.value)})(A)}),[A]);(0,m.I)({queryKey:["industry",A],queryFn:()=>(0,g.Nq)(A),enabled:!!A,onSuccess:e=>{V("name",e.name),V("value",e.value)}});const D=(0,o.n)({mutationFn:e=>(0,g.zp)(e),onSuccess:()=>{S(),M()}}),H=(0,o.n)({mutationFn:async e=>{let{id:s,data:a}=e;if(!s)throw new Error("Industry ID is missing");return await(0,g.E3)(s,a)},onSuccess:()=>{S(),M()}}),E=(0,o.n)({mutationFn:async e=>{if(!e)throw new Error("Industry ID is missing");return await(0,g.ul)(e)},onSuccess:()=>{S(),M()}}),F=e=>{A?H.mutate({id:A,data:e}):D.mutate(e),M()},[z,T]=(0,l.useState)(!1),[W,_]=(0,l.useState)(!1),M=()=>{T(!1),B(),_(!1),w(null)},K=(0,b.jsx)("div",{className:`${v.A.modalHeader}`,children:(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,b.jsx)("div",{className:v.A.circledesignstyle,children:(0,b.jsx)("div",{className:v.A.out,children:(0,b.jsx)(t.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,b.jsx)("span",{className:`white-space-nowrap ${v.A.headerTitle}`,children:"Edit Category"})]})}),Y=(0,b.jsx)("div",{className:`${v.A.modalHeader}`,children:(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,b.jsx)("div",{className:v.A.circledesignstyle,children:(0,b.jsx)("div",{className:v.A.out,children:(0,b.jsx)(t.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,b.jsx)("span",{className:`white-space-nowrap ${v.A.headerTitle}`,children:"Create Category"})]})}),L=(0,b.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,b.jsx)(u.$,{className:"outline-button",onClick:()=>E.mutate(A),children:"Delete"}),(0,b.jsx)(u.$,{className:"solid-button",style:{width:"132px"},onClick:q(F),children:"Save Details"})]}),P=(0,b.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,b.jsx)(u.$,{className:"outline-button",onClick:M,children:"Cancel"}),(0,b.jsx)(u.$,{className:"solid-button",style:{width:"132px"},onClick:q(F),children:"Save Details"})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.mg,{children:(0,b.jsx)("title",{children:"MeMate - Customers Discount Category"})}),(0,b.jsx)("div",{className:"settings-wrap",children:(0,b.jsxs)("div",{className:"settings-wrapper",children:[(0,b.jsx)(f.A,{activeTab:s,setActiveTab:a}),(0,b.jsxs)("div",{className:"settings-content setModalelBoots",children:[(0,b.jsxs)("div",{className:"headSticky",children:[(0,b.jsx)("h1",{children:"Customers Settings"}),(0,b.jsx)("div",{className:"contentMenuTab",children:(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsx)(c.N_,{to:"/settings/customerssettings/industries",children:"Industries"})}),(0,b.jsx)("li",{className:"menuActive",children:(0,b.jsx)(c.N_,{to:"/settings/customerssettings/customers-discount-category",children:"Customers Discount Category"})})]})})]}),(0,b.jsx)("div",{className:`content_wrap_main ${v.A.tablePrimeBar}`,style:{paddingBottom:`${e}px`},children:(0,b.jsx)("div",{className:"content_wrapper",children:(0,b.jsxs)("div",{className:"listwrapper",children:[(0,b.jsxs)("div",{className:"topHeadStyle pb-4",children:[(0,b.jsx)("h2",{children:"Customers Discount Category"}),(0,b.jsxs)(u.$,{label:"Add New",onClick:()=>_(!0),children:[" ",(0,b.jsx)(i.A,{color:"#000000",size:20})]})]}),(0,b.jsxs)(h.b,{value:C,tableStyle:{minWidth:"50rem"},children:[(0,b.jsx)(x.V,{field:"name",header:"Category Name",style:{width:"70%"}}),(0,b.jsx)(x.V,{field:"value",header:"Value",style:{width:"376px"},className:"text-left"}),(0,b.jsx)(x.V,{field:"edit",header:"Edit",body:e=>"Regular"===e.name||"regular"===e.name?"":(0,b.jsx)(t.A,{onClick:()=>{return s=e.id,w(s),void T(!0);var s},style:{cursor:"pointer"},size:24,color:"#667085"}),style:{width:"56px"},className:"text-end"})]}),(0,b.jsxs)(j.l,{visible:z,modal:!0,header:K,footer:L,className:`${v.A.modal} custom-modal`,onHide:M,children:[(0,b.jsxs)("div",{className:"d-flex flex-column",children:[(0,b.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Category name"}),(0,b.jsx)(N.S,{...k("name"),className:v.A.inputBox}),I.name&&(0,b.jsx)("small",{className:"p-error",children:I.name.message})]}),(0,b.jsxs)("div",{className:"mt-3 d-flex flex-column",children:[(0,b.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Value"}),(0,b.jsx)(N.S,{...k("value"),className:v.A.inputBox}),I.value&&(0,b.jsx)("small",{className:"p-error",children:I.value.message})]})]}),(0,b.jsxs)(j.l,{visible:W,modal:!0,header:Y,footer:P,className:`${v.A.modal} custom-modal`,onHide:M,children:[(0,b.jsxs)("div",{className:"d-flex flex-column",children:[(0,b.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Category name"}),(0,b.jsx)(N.S,{...k("name"),placeholder:"Industry name",className:v.A.inputBox}),I.name&&(0,b.jsx)("small",{className:"p-error",children:I.name.message})]}),(0,b.jsxs)("div",{className:"mt-3 d-flex flex-column",children:[(0,b.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Value"}),(0,b.jsx)(N.S,{...k("value"),placeholder:"Category Value",className:v.A.inputBox}),I.value&&(0,b.jsx)("small",{className:"p-error",children:I.value.message})]})]})]})})})]})]})})]})}}}]);
//# sourceMappingURL=6408.8a19a968.chunk.js.map