"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[2741],{22741:(e,s,l)=>{l.r(s),l.d(s,{default:()=>E});var t=l(65043),i=l(14282),a=l(75329),r=l(49367),n=l(2028),o=l(46229),d=l(36766),c=l(11281),x=l(83855);const p="job-chat_floatButton__eX1pR";var u=l(70579);const h=()=>{(0,t.useRef)(null);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("button",{className:`${p} border-0`,children:(0,u.jsx)(x.A,{color:"#344054",onClick:e=>{}})})})};var m=l(39759),v=l(3494),j=l(38161),f=l(27066),g=l(93747),b=l(58387),N=l(54972),_=l(75218),C=l(5328),S=l(44621);const w={filterBox:"job-filters_filterBox__6Lx8F",mainTagsWrapper:"job-filters_mainTagsWrapper__vDLaR",tagsInputContainer:"job-filters_tagsInputContainer__1LOC6",tagItemsWrap:"job-filters_tagItemsWrap__LYyiY",tagItemWrap:"job-filters_tagItemWrap__HK47T",status:"job-filters_status__lY9kZ",DRAFT:"job-filters_DRAFT__f-PXx",OPEN:"job-filters_OPEN__IjkSs",ASSIGNED:"job-filters_ASSIGNED__eL8ic",CONFIRMED:"job-filters_CONFIRMED__nehaB",DECLINED:"job-filters_DECLINED__T+R+p",SUBMITTED:"job-filters_SUBMITTED__LHp7Y",FINISHED:"job-filters_FINISHED__T88Ey",IN_PROGRESS:"job-filters_IN_PROGRESS__L0VLe",DropdownItem:"job-filters_DropdownItem__BOmrz",searchBox:"job-filters_searchBox__PqHrZ"};var A=l(90386),y=l(58027);const D=e=>{let{setFilters:s,filter:l}=e;const[a,r]=(0,t.useState)(!1),[n,o]=(0,t.useState)("worker"),[d,c]=(0,t.useState)([]),[x,p]=(0,t.useState)([]),[h,D]=(0,t.useState)([]),[I,k]=(0,t.useState)(""),E=[{label:"Draft",value:"draft",className:"DRAFT"},{label:"Open",value:"1",className:"OPEN"},{label:"Assigned",value:"2",className:"ASSIGNED"},{label:"Submitted",value:"3",className:"SUBMITTED"},{label:"Finished",value:"4",className:"FINISHED"},{label:"In Progress",value:"in_progress",className:"IN_PROGRESS"},{label:"Declined",value:"6",className:"DECLINED"},{label:"Confirmed",value:"a",className:"CONFIRMED"}],L=(0,g.I)({queryKey:["mobileUser"],queryFn:A.tD});(0,t.useEffect)((()=>(document.addEventListener("click",(e=>{e.target.closest(".job-filters")||e.target.closest(".job-filters *")||r(!1)})),()=>{document.removeEventListener("click",(e=>{e.target.closest(".job-filters")||e.target.closest(".job-filters *")||r(!1)}))})),[]),(0,t.useEffect)((()=>{var e,s;l.status?null!==(e=l.status)&&void 0!==e&&e.length&&c(l.status.map((e=>e.value))):c([]),l.worker?null!==(s=l.worker)&&void 0!==s&&s.length&&p(l.worker||[]):p([])}),[l]);return(0,t.useEffect)((()=>{var e,s;const l=(null===L||void 0===L||null===(e=L.data)||void 0===e||null===(s=e.users)||void 0===s?void 0:s.filter((e=>"disconnected"!==e.status)))||[];if(""===(null===I||void 0===I?void 0:I.trim()))return void D(l);const t=l.filter((e=>{var s,l;return(null===(s=e.first_name)||void 0===s?void 0:s.toLowerCase().includes(I.toLowerCase()))||(null===(l=e.last_name)||void 0===l?void 0:l.toLowerCase().includes(I.toLowerCase()))}));D(t)}),[I,null===L||void 0===L?void 0:L.data]),(0,u.jsxs)("div",{className:"job-filters",children:[(0,u.jsx)("button",{className:`${w.filterBox}`,onClick:()=>r(!a),children:(0,u.jsx)(m.A,{})}),a&&(0,u.jsxs)(S.A,{id:"controlled-tab-example",activeKey:n,onSelect:e=>o(e),className:"filtterBoxWrapper",style:{marginLeft:"5px",marginTop:"5px"},children:[(0,u.jsxs)(C.A,{eventKey:"Worker",title:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v.A,{color:"#667085",size:16}),"Worker"]}),children:[(0,u.jsxs)("div",{className:w.searchBox,children:[(0,u.jsx)("div",{style:{position:"absolute",top:"7px",left:"18px"},children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,u.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,u.jsx)("input",{type:"text",placeholder:"Search",value:I,onChange:e=>k(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"260px",border:"1px solid #D0D5DD",color:"#424242",padding:"10px 10px 10px 36px",fontSize:"14px",height:"40px"}})]}),null===h||void 0===h?void 0:h.map((e=>(0,u.jsxs)("div",{className:(0,b.A)(w.DropdownItem),onClick:()=>p((s=>null!==s&&void 0!==s&&s.some((s=>s.id===e.id))?s.filter((s=>s.id!==e.id)):s?[...s,e]:[e])),children:[(0,u.jsxs)("div",{className:"d-flex gap-2 align-items-center w-100",children:[(0,u.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"40px",overflow:"hidden",border:"1px solid #dedede"},children:(0,u.jsx)(y.A,{photo:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),(0,u.jsxs)("div",{className:"ellipsis-width",style:{maxWidth:"200px"},children:[e.first_name," ",e.last_name]})]}),null!==x&&void 0!==x&&x.some((s=>s.id===e.id))?(0,u.jsx)(j.A,{color:"#1AB2FF",size:20}):null]},e.id))),(0,u.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,u.jsx)(i.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{r(!1),s((e=>{const{worker:s,...l}=e;return l})),p([])},children:"Cancel"}),(0,u.jsx)(i.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{if(r(!1),null===x||void 0===x||!x.length)return;let e=x.map((e=>({...e,label:e.first_name+" "+e.last_name})));s((s=>({...s,worker:[...e]})))},children:"Apply"})]})]}),(0,u.jsxs)(C.A,{eventKey:"status",title:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.A,{color:"#667085",size:16}),"Status"]}),children:[(0,u.jsx)("div",{className:"job-status",style:{height:"350px",overflow:"auto",marginLeft:"0px",padding:"6px 10px"},children:E.map((e=>(0,u.jsxs)("div",{className:"d-flex align-items-center gap-3 p-2 mb-2",children:[(0,u.jsx)(N.S,{checked:d.includes(e.value),onChange:s=>{c((l=>s.checked?[...l,e.value]:l.filter((s=>s!==e.value))))}}),(0,u.jsx)(_.v,{className:`status ${w[e.className]} font-14`,label:e.label})]},e.value)))}),(0,u.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,u.jsx)(i.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{r(!1),s((e=>{const{status:s,...l}=e;return l})),c([])},children:"Cancel"}),(0,u.jsx)(i.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{if(r(!1),null===d||void 0===d||!d.length)return;const e=E.filter((e=>d.includes(e.value)));s((s=>({...s,status:e})))},children:"Apply"})]})]})]})]})};var I=l(56741);const k=e=>{var s,l;let{filter:t,setFilters:a}=e;console.log("filter: ",t);return(0,u.jsx)(u.Fragment,{children:(null===(s=Object.keys(t))||void 0===s?void 0:s.length)>0&&(0,u.jsx)("div",{className:w.mainTagsWrapper,children:null===(l=Object.entries(t))||void 0===l?void 0:l.map((e=>{let[s,l]=e;return(0,u.jsx)("div",{children:(null===l||void 0===l?void 0:l.length)>0&&(0,u.jsx)("div",{className:w.tagsInputContainer,children:(0,u.jsxs)("ul",{className:w.tagItemsWrap,children:[l.map(((e,r)=>(0,u.jsxs)("li",{className:w.tagItemWrap,children:[null===e||void 0===e?void 0:e.label,(null===l||void 0===l?void 0:l.length)>1&&(0,u.jsx)(i.A,{variant:"link",size:"sm",style:{marginLeft:"5px",padding:0},onClick:()=>((e,s)=>{const l={...t},i=l[e].filter((e=>e!==s));0===i.length?delete l[e]:l[e]=i,a(l)})(s,e),children:(0,u.jsx)(I.A,{color:"#F96969",size:15})})]},r))),(0,u.jsx)(i.A,{variant:"link",size:"sm",style:{marginLeft:"0px",padding:0},onClick:()=>(e=>{const s={...t};delete s[e],a(s)})(s),children:(0,u.jsx)(I.A,{color:"#F96969",size:20})})]})})},s)}))})})},E=()=>{const e=(0,t.useRef)(null),[s,l]=(0,t.useState)(0),[x,p]=(0,t.useState)(!1),[m,v]=(0,t.useState)(!1),[j,f,g]=(0,n.d7)("",400),[b,N]=(0,t.useState)([]),[_,C]=(0,t.useState)({});return(0,u.jsxs)("div",{className:"jobs-page",children:[(0,u.jsx)(r.mg,{children:(0,u.jsx)("title",{children:"MeMate - Jobs"})}),(0,u.jsxs)("div",{className:`topbar ${null!==b&&void 0!==b&&b.length?d.A.active:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,u.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==b&&void 0!==b&&b.length?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h6",{className:d.A.selectedCount,children:["Selected: ",null===b||void 0===b?void 0:b.length]}),(0,u.jsx)("div",{className:"filtered-box",children:(0,u.jsx)("button",{className:`${d.A.filterBox}`,onClick:()=>{return s=!0,void(e.current?e.current.exportCSV({selectionOnly:s}):console.error("DataTable ref is null"));var s},children:(0,u.jsx)(a.A,{})})})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"filtered-box",children:(0,u.jsx)(D,{setFilters:C,filter:_})}),(0,u.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,u.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,u.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,u.jsx)("input",{type:"text",placeholder:"Search",value:j,onChange:e=>g(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,u.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,u.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Jobs"}),(0,u.jsx)(i.A,{className:`${d.A.newButton}`,onClick:()=>p(!0),children:"New"})]}),(0,u.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,u.jsx)("h1",{className:`${d.A.total} mb-0`,children:"Total"}),(0,u.jsxs)("div",{className:`${d.A.totalCount}`,children:[s," Jobs"]})]})]}),Object.keys(_).length>0&&(0,u.jsx)(k,{setFilters:C,filter:_}),(0,u.jsx)(o.A,{ref:e,searchValue:f,setTotal:l,selected:b,setSelected:N,refetch:m,setRefetch:v,createJobVisible:p,isCreateJobVisible:x,isFilterEnabled:Object.keys(_).length>0,filters:_}),(0,u.jsx)(h,{}),(0,u.jsx)(c.A,{visible:x,setVisible:p,setRefetch:v})]})}}}]);
//# sourceMappingURL=2741.f0609cb1.chunk.js.map