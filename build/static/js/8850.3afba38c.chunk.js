"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[8850],{28676:(e,n,t)=>{t.d(n,{C:()=>y});var r=t(65043),o=t(84052),i=t(2028),s=t(4504);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(null,arguments)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}function p(e,n,t){return(n=c(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u={root:function(e){var n=e.props;return(0,s.xW)("p-icon-field",{"p-icon-field-right":"right"===n.iconPosition,"p-icon-field-left":"left"===n.iconPosition})}},d=t(41828).x.extend({defaultProps:{__TYPE:"IconField",__parentMetadata:null,children:void 0,className:null,iconPosition:"right"},css:{classes:u}});function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=r.memo(r.forwardRef((function(e,n){var t=(0,r.useRef)(n),l=(0,i.qV)(),c=(0,r.useContext)(o.UM),p=d.getProps(e,c),u=d.setMetaData(m(m({props:p},p.__parentMetadata),{},{context:{iconPosition:p.iconPosition}})),f=u.ptm,y=u.cx,b=l({className:(0,s.xW)(p.className,y("root",{iconPosition:p.iconPosition}))},d.getOtherProps(p),f("root"));return r.createElement("div",a({},b,{ref:t}),r.Children.map(p.children,(function(e,n){return(0,r.cloneElement)(e,{iconPosition:p.iconPosition})})))})));y.displayName="IconField"},70016:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var r=t(65043),o=t(61072),i=t(14282),s=t(38294),a=t(95192),l=t(36237),c=t(44541),p=t(73216),u=t(35475),d=t(64018),f=t(63712),m=t(56328),y=t(33074),b=t(70579);const v=()=>{const{id:e}=(0,p.g)(),n=(0,p.Zp)(),t=(0,r.useRef)(null),[v,h]=(0,r.useState)(null),[g,j]=(0,r.useState)(!1),[x]=(0,r.useState)({payment_terms:1,category:"",phone:{country:"",number:""},contact_persons:[{}],addresses:[{title:"Main Location",country:1}]});return(0,b.jsx)("div",{className:"newQuotePage existingClients borderSkyColor",children:(0,b.jsxs)("div",{style:{height:"calc(100vh - 249px)"},children:[(0,b.jsx)("div",{className:"newQuoteBack",children:(0,b.jsx)(u.k2,{to:e?"/sales/newquote/selectyourclient/existing-clients":"/sales/newquote/selectyourclient/new-clients",children:(0,b.jsxs)("button",{children:[(0,b.jsx)(s.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,b.jsxs)("div",{className:"newQuoteContent h-100",children:[(0,b.jsx)("div",{className:"navStepClient",children:(0,b.jsxs)("ul",{children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{children:(0,b.jsx)(a.A,{color:"#D0D5DD",size:15})})," ",(0,b.jsx)("p",{children:"Choose Client"})]}),(0,b.jsxs)("li",{className:"activeClientTab",children:[(0,b.jsx)("span",{children:(0,b.jsx)(l.A,{color:"#D0D5DD",size:15})})," ",(0,b.jsx)("p",{children:"Client Information"})," "]}),(0,b.jsxs)("li",{className:"deactiveColorBox",children:[(0,b.jsx)("span",{children:(0,b.jsx)(c.A,{color:"#D0D5DD",size:15})})," ",(0,b.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,b.jsxs)("div",{className:"individual height customscrollBar",children:[(0,b.jsx)("div",{className:"formgroupWrap1",children:(0,b.jsx)("ul",{className:"mt-4",children:(0,b.jsx)("li",{children:(0,b.jsxs)(u.k2,{className:"ActiveClient businessTab",to:"#",children:[(0,b.jsx)("span",{children:(0,b.jsx)(c.A,{color:"#1AB2FF ",size:24})})," Business Client"]})})})}),(0,b.jsx)("div",{className:"formgroupboxs businessFormInQuote",style:{padding:"24px 10px 0px 10px"},children:(0,b.jsxs)(o.A,{className:"text-left pt-3 rounded px-2",style:{background:"#fff"},children:[(0,b.jsx)("h2",{style:{marginBottom:"16px"},children:"Company Details"}),(0,b.jsx)(y.A,{photo:v,setPhoto:h,ref:t,onSubmit:async e=>{const t=new FormData;t.append("name",e.name),e.abn&&t.append("abn",e.abn);const r=(null===e||void 0===e?void 0:e.phone)&&(0,d.l)(e.phone);if(null!==r&&void 0!==r&&r.nationalNumber&&t.append("phone",e.phone),t.append("email",e.email),e.website&&t.append("website",e.website),t.append("payment_terms",e.payment_terms),"0"!=e.category&&t.append("category",e.category),t.append("industry",e.industry),e.description&&t.append("description",e.description),e.addresses.forEach(((e,n)=>{e.city&&(t.append(`addresses[${n}]address`,e.address),t.append(`addresses[${n}]city`,e.city),t.append(`addresses[${n}]postcode`,e.postcode),t.append(`addresses[${n}]is_main`,e.is_main),t.append(`addresses[${n}]title`,e.title))})),e.contact_persons.forEach(((e,n)=>{if(e.firstname||e.email){t.append(`contact_persons[${n}]firstname`,e.firstname),t.append(`contact_persons[${n}]lastname`,e.lastname),t.append(`contact_persons[${n}]email`,e.email);const r=(null===e||void 0===e?void 0:e.phone)&&(0,d.l)(e.phone);null!==r&&void 0!==r&&r.nationalNumber&&t.append(`contact_persons[${n}]phone`,e.phone),t.append(`contact_persons[${n}]position`,e.position),t.append(`contact_persons[${n}]is_main`,e.is_main)}})),null!==v&&void 0!==v&&v.croppedImageBlob){const e=(0,f.Ak)(6);t.append("photo",null===v||void 0===v?void 0:v.croppedImageBlob,`${e}.jpg`)}try{j(!0);const e=localStorage.getItem("access_token"),r=await fetch("https://dev.memate.com.au/api/v1/clients/business/new/",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t});if(r.ok){m.oR.success("New client created successfully");const e=await r.json();n(`/sales/newquote/selectyourclient/client-information/scope-of-work/${null===e||void 0===e?void 0:e.id}`)}else{const e=await r.json();m.oR.error(e||"Failed to create new client. Please try again.")}}catch(o){console.log("Error in creating new business client: ",o),m.oR.error("Failed to create new client. Please try again.")}finally{j(!1)}},defaultValues:x,deleteAddress:()=>{},deleteContact:()=>{}})]})})]}),(0,b.jsxs)("div",{className:"individual bottomBox",children:[(0,b.jsx)(u.N_,{to:"/sales",children:(0,b.jsx)(i.A,{type:"button",className:"cancel-button",children:"Cancel"})}),(0,b.jsx)(i.A,{type:"button",disabled:g,onClick:()=>{t.current&&t.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},className:"submit-button",children:g?"Loading...":"Next Step"})]})]})]})})}},72052:(e,n,t)=>{t.d(n,{S:()=>h});var r=t(65043),o=t(84052),i=t(41828),s=t(2028),a=t(2224),l=t(1356),c=t(4504);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(null,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){var n=function(e,n){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==u(n)?n:n+""}function f(e,n,t){return(n=d(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m={root:function(e){var n=e.props,t=e.isFilled,r=e.context;return(0,c.xW)("p-inputtext p-component",{"p-disabled":n.disabled,"p-filled":t,"p-invalid":n.invalid,"p-variant-filled":n.variant?"filled"===n.variant:r&&"filled"===r.inputStyle})}},y=i.x.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,iconPosition:null},css:{classes:m}});function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=r.memo(r.forwardRef((function(e,n){var t=(0,s.qV)(),u=r.useContext(o.UM),d=y.getProps(e,u),f=y.setMetaData(v(v({props:d},d.__parentMetadata),{},{context:{disabled:d.disabled,iconPosition:d.iconPosition}})),m=f.ptm,b=f.cx,h=f.isUnstyled;(0,i.j)(y.css.styles,h,{name:"inputtext",styled:!0});var g=r.useRef(n);r.useEffect((function(){c.BF.combinedRefs(g,n)}),[g,n]);var j=r.useMemo((function(){return c.BF.isNotEmpty(d.value)||c.BF.isNotEmpty(d.defaultValue)}),[d.value,d.defaultValue]),x=c.BF.isNotEmpty(d.tooltip);r.useEffect((function(){var e;j||null!==(e=g.current)&&void 0!==e&&e.value?c.DV.addClass(g.current,"p-filled"):c.DV.removeClass(g.current,"p-filled")}),[d.disabled,j]);var O=t({className:(0,c.xW)(d.className,b("root",{context:u,isFilled:j})),onBeforeInput:function(e){d.onBeforeInput&&d.onBeforeInput(e),d.keyfilter&&a.Q.onBeforeInput(e,d.keyfilter,d.validateOnly)},onInput:function(e){var n=e.target,t=!0;d.keyfilter&&d.validateOnly&&(t=a.Q.validate(e,d.keyfilter)),d.onInput&&d.onInput(e,t),c.BF.isNotEmpty(n.value)?c.DV.addClass(n,"p-filled"):c.DV.removeClass(n,"p-filled")},onKeyDown:function(e){d.onKeyDown&&d.onKeyDown(e),d.keyfilter&&a.Q.onKeyPress(e,d.keyfilter,d.validateOnly)},onPaste:function(e){d.onPaste&&d.onPaste(e),d.keyfilter&&a.Q.onPaste(e,d.keyfilter,d.validateOnly)}},y.getOtherProps(d),m("root"));return r.createElement(r.Fragment,null,r.createElement("input",p({ref:g},O)),x&&r.createElement(l.m,p({target:g,content:d.tooltip,pt:m("tooltip")},d.tooltipOptions)))})));h.displayName="InputText"},74532:(e,n,t)=>{t.d(n,{m:()=>y});var r=t(65043),o=t(2028),i=t(84052),s=t(41828),a=t(4504);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(null,arguments)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function p(e){var n=function(e,n){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==c(n)?n:n+""}function u(e,n,t){return(n=p(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=s.x.extend({defaultProps:{__TYPE:"InputIcon",__parentMetadata:null,className:null,iconPosition:null},css:{classes:{root:"p-input-icon"}}});function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=r.memo(r.forwardRef((function(e,n){var t=(0,r.useRef)(n),s=(0,o.qV)(),c=(0,r.useContext)(i.UM),p=d.getProps(e,c),u=d.setMetaData(m(m({props:p},p.__parentMetadata),{},{context:{iconPosition:p.iconPosition}})),f=u.ptm,y=u.cx,b=s({className:(0,a.xW)(p.className,y("root"))},d.getOtherProps(p),f("root"));return r.createElement(r.Fragment,null,r.createElement("span",l({},b,{ref:t}),p.children))})));y.displayName="InputIcon"},93740:(e,n,t)=>{t.d(n,{p:()=>c});var r=t(65043),o=t(84052),i=t(41828),s=t(2028),a=t(4504),l=i.x.extend({defaultProps:{__TYPE:"ProgressSpinner",id:null,style:null,className:null,strokeWidth:"2",fill:"none",animationDuration:"2s",children:void 0},css:{classes:{root:"p-progress-spinner",spinner:"p-progress-spinner-svg",circle:"p-progress-spinner-circle"},styles:"\n@layer primereact {\n    .p-progress-spinner {\n        position: relative;\n        margin: 0 auto;\n        width: 100px;\n        height: 100px;\n        display: inline-block;\n    }\n    \n    .p-progress-spinner::before {\n        content: '';\n        display: block;\n        padding-top: 100%;\n    }\n    \n    .p-progress-spinner-svg {\n        animation: p-progress-spinner-rotate 2s linear infinite;\n        height: 100%;\n        transform-origin: center center;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n    }\n    \n    .p-progress-spinner-circle {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: 0;\n        stroke: #d62d20;\n        animation: p-progress-spinner-dash 1.5s ease-in-out infinite, p-progress-spinner-color 6s ease-in-out infinite;\n        stroke-linecap: round;\n    }\n}\n\n@keyframes p-progress-spinner-rotate {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@keyframes p-progress-spinner-dash {\n    0% {\n        stroke-dasharray: 1, 200;\n        stroke-dashoffset: 0;\n    }\n    50% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -35px;\n    }\n    100% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -124px;\n    }\n}\n\n@keyframes p-progress-spinner-color {\n    100%,\n    0% {\n        stroke: #d62d20;\n    }\n    40% {\n        stroke: #0057e7;\n    }\n    66% {\n        stroke: #008744;\n    }\n    80%,\n    90% {\n        stroke: #ffa700;\n    }\n}\n",inlineStyles:{spinner:function(e){return{animationDuration:e.props.animationDuration}}}}}),c=r.memo(r.forwardRef((function(e,n){var t=(0,s.qV)(),c=r.useContext(o.UM),p=l.getProps(e,c),u=r.useRef(null),d=l.setMetaData({props:p}),f=d.ptm,m=d.cx,y=d.sx,b=d.isUnstyled;(0,i.j)(l.css.styles,b,{name:"progressspinner"}),r.useImperativeHandle(n,(function(){return{props:p,getElement:function(){return u.current}}}));var v=t({id:p.id,ref:u,style:p.style,className:(0,a.xW)(p.className,m("root")),role:"progressbar","aria-busy":!0},l.getOtherProps(p),f("root")),h=t({className:m("spinner"),viewBox:"25 25 50 50",style:y("spinner")},f("spinner")),g=t({className:m("circle"),cx:"50",cy:"50",r:"20",fill:p.fill,strokeWidth:p.strokeWidth,strokeMiterlimit:"10"},f("circle"));return r.createElement("div",v,r.createElement("svg",h,r.createElement("circle",g)))})));c.displayName="ProgressSpinner"},96141:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(65043),o=t(65173),i=t.n(o),s=["color","size","title","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(null,arguments)}var l=(0,r.forwardRef)((function(e,n){var t=e.color,o=void 0===t?"currentColor":t,i=e.size,l=void 0===i?"1em":i,c=e.title,p=void 0===c?null:c,u=e.className,d=void 0===u?"":u,f=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,s);return r.createElement("svg",a({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:o,className:["bi","bi-plus",d].filter(Boolean).join(" ")},f),p?r.createElement("title",null,p):null,r.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));l.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const c=l}}]);
//# sourceMappingURL=8850.3afba38c.chunk.js.map