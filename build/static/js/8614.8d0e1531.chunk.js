"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[8614],{1340:(e,s,l)=>{l.d(s,{A:()=>I});var n=l(65043),a=l(61072),r=l(78602),t=l(14282),o=l(44541),i=l(96141),d=l(24858),c=l(17380),m=l(18403),u=l(93747),p=l(58387),h=l(88060),x=l(28676),v=l(74532),g=l(72052),f=l(27932),j=l(80899);const y={circledesignstyle:"supplier-form_circledesignstyle__-wJJ3",out:"supplier-form_out__-S7y7",tab:"supplier-form_tab__n7WH0",iconBox:"supplier-form_iconBox__d+lNt",tabText:"supplier-form_tabText__59Ovb",active:"supplier-form_active__9Q5p1",bgGreay:"supplier-form_bgGreay__ueCI3",fileUploadBox:"supplier-form_fileUploadBox__6TEtO",uploadedImgBox:"supplier-form_uploadedImgBox__CNI5t",uploadedText1:"supplier-form_uploadedText1__QqneJ",uploadedText2:"supplier-form_uploadedText2__Imz03",lable:"supplier-form_lable__8PPJB",inputText:"supplier-form_inputText__vF8up",error:"supplier-form_error__gA9RK",phoneInput:"supplier-form_phoneInput__oxqVV",countrySelector:"supplier-form_countrySelector__8p44J",headingInputs:"supplier-form_headingInputs__+VkEU",dropdownSelect:"supplier-form_dropdownSelect__5Gs0P",tempDelete:"supplier-form_tempDelete__EstTd",tempAdd:"supplier-form_tempAdd__wxX42"};var b=l(59638),A=l(27472),N=l(62924),w=l(63882),_=l(70579);const S=j.Ik({name:j.Yj().required("Company name is required"),email:j.Yj().nullable().transform((e=>""===e?null:e)).matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Invalid email address").notRequired(),contact_persons:j.YO().of(j.Ik({email:j.Yj().nullable().email("Invalid contact email format").test("is-valid","Contact email must be a valid email if provided",(e=>!e||j.Yj().email().isValidSync(e)))}))}).required(),I=(0,n.forwardRef)(((e,s)=>{var l;let{photo:j,setPhoto:I,onSubmit:$,defaultValues:P}=e;const[C,T]=(0,n.useState)(!1),[E,F]=(0,n.useState)(0),B=(0,N.PV)(),[R,U]=(0,n.useState)(""),[L,G]=(0,n.useState)(""),[z,O]=(0,n.useState)({}),k=(0,u.I)({queryKey:["countries"],queryFn:b.X6,enabled:!0}),q=(0,u.I)({queryKey:["states",R],queryFn:()=>(0,b.nP)(R),enabled:!!R,retry:1}),D=(0,u.I)({queryKey:["cities",L],queryFn:()=>(0,b.i6)(L),enabled:!!L});(0,n.useEffect)((()=>{L&&(async e=>{if(e&&!z[e]){const s=await(0,b.i6)(e);O((l=>({...l,[e]:s})))}})(L)}),[L]);const{control:V,register:J,handleSubmit:H,setValue:K,watch:Y,formState:{errors:M}}=(0,d.mN)({resolver:(0,m.t)(S),defaultValues:P}),{fields:Q,append:X,remove:Z}=(0,d.jz)({control:V,name:"contact_persons"}),{fields:W,append:ee,remove:se}=(0,d.jz)({control:V,name:"addresses"});return(0,n.useEffect)((()=>{var e;if(null!==P&&void 0!==P&&null!==(e=P.addresses)&&void 0!==e&&e.length&&E<P.addresses.length){const e=null===P||void 0===P?void 0:P.addresses[E],s=null===e||void 0===e?void 0:e.country,l=null===e||void 0===e?void 0:e.state;s!==R?U(s):l!==L?G(l):F((e=>e+1))}}),[P,E,R,L]),(0,_.jsxs)("form",{ref:s,onSubmit:H($),children:[(0,_.jsxs)(a.A,{className:(0,p.A)(y.bgGreay,"pt-0"),children:[(0,_.jsxs)(r.A,{sm:12,children:[(0,_.jsxs)("div",{className:(0,p.A)(y.fileUploadBox),onClick:()=>T(!0),children:[(0,_.jsx)("div",{className:(0,p.A)(y.uploadedImgBox,"rounded"),children:j?(0,_.jsx)("img",{src:(null===j||void 0===j?void 0:j.croppedImageBase64)||j,alt:"profile"}):(0,_.jsx)(o.A,{size:32,color:"#667085"})}),(0,_.jsxs)("p",{className:(0,p.A)("mb-0",y.uploadedText1),children:[(0,_.jsx)("span",{className:(0,p.A)("mb-0",y.uploadedText2),children:"Click to upload"})," or drag and drop"]}),(0,_.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,_.jsx)(w.A,{show:C,setShow:T,setPhoto:I})]}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsxs)("label",{className:(0,p.A)(y.lable),children:["Company Name",(0,_.jsx)("span",{className:"required",children:"*"})]}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:M.name&&(0,_.jsx)("img",{src:A.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...J("name"),className:(0,p.A)(y.inputText,{[y.error]:M.name}),placeholder:"Enter company name"})]}),M.name&&(0,_.jsx)("p",{className:"error-message",children:M.name.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Email"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:M.email&&(0,_.jsx)("img",{src:A.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...J("email"),className:(0,p.A)(y.inputText,{[y.error]:M.email}),placeholder:"example@email.com"})]}),M.email&&(0,_.jsx)("p",{className:"error-message",children:M.email.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Website"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:M.website&&(0,_.jsx)("img",{src:A.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...J("website"),className:(0,p.A)(y.inputText,{[y.error]:M.website}),placeholder:"www.example.com"})]}),M.website&&(0,_.jsx)("p",{className:"error-message",children:M.website.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Phone number"}),(0,_.jsx)(d.xI,{name:"phone",control:V,render:e=>{let{field:s}=e;return(0,_.jsx)(c.LR,{defaultCountry:"au",value:"string"===typeof s.value?s.value:"",className:"phoneInput",containerClass:y.countrySelector,onChange:s.onChange})}}),M.phone&&(0,_.jsx)("p",{className:"error-message",children:M.phone.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"ABN"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:M.abn&&(0,_.jsx)("img",{src:A.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...J("abn",{onChange:e=>{const s=e.target.value.replace(/\D/g,"");K("abn",s,{shouldValidate:!0})},onPaste:e=>{e.preventDefault();const s=e.clipboardData.getData("text").replace(/\D/g,"");K("abn",s,{shouldValidate:!0})}}),className:(0,p.A)(y.inputText,{[y.error]:M.abn}),placeholder:"32 635 443 221"})]}),M.abn&&(0,_.jsx)("p",{className:"error-message",children:M.abn.message})]})})]}),(0,_.jsx)("h2",{className:(0,p.A)(y.headingInputs,"mt-4"),children:"Service"}),(0,_.jsxs)(a.A,{className:(0,p.A)(y.bgGreay,""),children:[(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.label),children:"Industry"}),(0,_.jsx)(d.xI,{name:"industry",control:V,render:e=>{var s;let{field:l}=e;return(0,_.jsx)(h.m,{...l,options:B&&(null===(s=B.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value)},className:(0,p.A)(y.dropdownSelect,"dropdown-height-fixed",{[y.error]:M.industry}),style:{height:"46px"},scrollHeight:"380px",value:l.value,loading:null===B||void 0===B?void 0:B.isFetching,placeholder:"Select Industry",filter:!0,filterInputAutoFocus:!0,disabled:(null===P||void 0===P?void 0:P.name)&&"supplier"!==(null===P||void 0===P?void 0:P.type)})}}),M.industry&&(0,_.jsx)("p",{className:"error-message",children:null===(l=M.industry)||void 0===l?void 0:l.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.label),children:"Service"}),(0,_.jsx)(d.xI,{name:"service",control:V,render:e=>{var s,l,n;let{field:a}=e;return(0,_.jsx)(h.m,{...a,options:B&&(null===(s=B.data)||void 0===s||null===(l=s.find((e=>e.id===Y("industry"))))||void 0===l||null===(n=l.services)||void 0===n?void 0:n.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{a.onChange(e.value)},className:(0,p.A)(y.dropdownSelect,"dropdown-height-fixed",{[y.error]:M.service}),style:{height:"46px"},scrollHeight:"380px",value:a.value,loading:null===B||void 0===B?void 0:B.isFetching,placeholder:"Select Service",emptyMessage:Y("industry")?"No services found":"Select an industry first",filter:!0,filterInputAutoFocus:!0,disabled:(null===P||void 0===P?void 0:P.name)&&"supplier"!==(null===P||void 0===P?void 0:P.type)})}}),M.service&&(0,_.jsx)("span",{className:"error-message",children:M.service.message})]})}),(0,_.jsx)(r.A,{sm:12,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Notes"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"75%"},children:M.note&&(0,_.jsx)("img",{src:A.A,alt:"error-icon"})}),(0,_.jsx)(f.Z,{...J("note"),rows:4,cols:30,className:(0,p.A)(y.inputText,{[y.error]:M.note}),style:{resize:"none"},placeholder:"Enter a note..."})]}),M.note&&(0,_.jsx)("p",{className:"error-message",children:M.note.message})]})})]}),(0,_.jsx)("h2",{className:(0,p.A)(y.headingInputs,"mt-4"),children:"Contact Person"}),(0,_.jsx)(a.A,{children:Q.map(((e,s)=>{var l,n,o,m,u,h,f,j,b,N,w,S,I,$,P,C,T,E,F,B,R;return(0,_.jsxs)("div",{children:[(0,_.jsx)("input",{type:"hidden",...J(`contact_persons.${s}.is_main`),value:0===s}),(0,_.jsxs)(a.A,{className:(0,p.A)(y.bgGreay),children:[(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"First Name"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(l=M.contact_persons)||void 0===l||null===(n=l[s])||void 0===n?void 0:n.firstname)&&(0,_.jsx)("img",{src:A.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...J(`contact_persons.${s}.firstname`),rows:5,cols:30,className:(0,p.A)(y.inputText,{[y.error]:null===(o=M.contact_persons)||void 0===o||null===(m=o[s])||void 0===m?void 0:m.firstname}),style:{resize:"none"},placeholder:"Jhon"})]})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Last Name"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(u=M.contact_persons)||void 0===u||null===(h=u[s])||void 0===h?void 0:h.lastname)&&(0,_.jsx)("img",{src:A.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...J(`contact_persons.${s}.lastname`),rows:5,cols:30,className:(0,p.A)(y.inputText,{[y.error]:null===(f=M.contact_persons)||void 0===f||null===(j=f[s])||void 0===j?void 0:j.lastname}),style:{resize:"none"},placeholder:"Doe"})]})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Email"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(b=M.contact_persons)||void 0===b||null===(N=b[s])||void 0===N?void 0:N.email)&&(0,_.jsx)("img",{src:A.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...J(`contact_persons.${s}.email`),rows:5,cols:30,className:(0,p.A)(y.inputText,{[y.error]:null===(w=M.contact_persons)||void 0===w||null===(S=w[s])||void 0===S?void 0:S.email}),style:{resize:"none"},placeholder:"golden@harvest.com"})]}),(null===(I=M.contact_persons)||void 0===I||null===($=I[s])||void 0===$?void 0:$.email)&&(0,_.jsx)("p",{className:"error-message",children:null===(P=M.contact_persons)||void 0===P||null===(C=P[s])||void 0===C||null===(T=C.email)||void 0===T?void 0:T.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Phone (Optional)"}),(0,_.jsx)(d.xI,{name:`contact_persons.${s}.phone`,control:V,render:e=>{let{field:s}=e;return(0,_.jsx)(c.LR,{defaultCountry:"au",value:s.value||"",className:"phoneInput",containerClass:y.countrySelector,onChange:e=>s.onChange(e)})}})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Position"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(E=M.contact_persons)||void 0===E||null===(F=E[s])||void 0===F?void 0:F.position)&&(0,_.jsx)("img",{src:A.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...J(`contact_persons.${s}.position`),rows:5,cols:30,className:(0,p.A)(y.inputText,{[y.error]:null===(B=M.contact_persons)||void 0===B||null===(R=B[s])||void 0===R?void 0:R.position}),style:{resize:"none"},placeholder:"Manager"})]})]})}),(0,_.jsx)(r.A,{sm:6})]}),(0,_.jsxs)(r.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==s&&(0,_.jsx)(t.A,{type:"button",className:(0,p.A)(y.tempDelete),onClick:()=>Z(s),children:"Delete"}),s===Q.length-1&&(0,_.jsxs)(t.A,{type:"button",className:(0,p.A)(y.tempAdd),onClick:()=>X({}),children:["Add New ",(0,_.jsx)(i.A,{size:24,color:"#106b99"})]})]})]},e.id)}))}),(0,_.jsx)("h2",{className:(0,p.A)(y.headingInputs,"mt-4"),children:"Locations"}),(0,_.jsx)(a.A,{children:W.map(((e,s)=>{var l,n,o,c,m,u,f,j,b,N,w,S,I,$,P,C,T,E,F,B,R,O,H,K,Q,X,Z,le,ne,ae,re,te,oe,ie,de,ce,me,ue,pe,he,xe,ve;return(0,_.jsxs)("div",{children:[(0,_.jsx)("input",{type:"hidden",...J(`addresses.${s}.is_main`),value:0===s}),(0,_.jsxs)(a.A,{className:(0,p.A)(y.bgGreay),children:[(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Location Name (Optional)"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:(null===(l=M.addresses)||void 0===l||null===(n=l[s])||void 0===n?void 0:n.title)&&(0,_.jsx)("img",{src:A.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...J(`addresses.${s}.title`),className:(0,p.A)(y.inputText,{[y.error]:null===(o=M.addresses)||void 0===o||null===(c=o[s])||void 0===c?void 0:c.title}),placeholder:"Enter location name"})]}),(null===(m=M.addresses)||void 0===m||null===(u=m[s])||void 0===u?void 0:u.title)&&(0,_.jsx)("p",{className:"error-message",children:null===(f=M.addresses)||void 0===f||null===(j=f[s])||void 0===j||null===(b=j.title)||void 0===b?void 0:b.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Country"}),(0,_.jsx)(d.xI,{name:`addresses.${s}.country`,control:V,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,_.jsx)(h.m,{...l,options:k&&(null===(s=k.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),U(e.value)},className:(0,p.A)(y.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:null===k||void 0===k?void 0:k.isFetching,placeholder:"Select a country",filterInputAutoFocus:!0})}}),(null===(N=M.addresses)||void 0===N||null===(w=N[s])||void 0===w?void 0:w.country)&&(0,_.jsx)("p",{className:"error-message",children:null===(S=M.addresses)||void 0===S||null===(I=S[s])||void 0===I||null===($=I.country)||void 0===$?void 0:$.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"State"}),(0,_.jsx)(d.xI,{name:`addresses.${s}.state`,control:V,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,_.jsx)(h.m,{...l,options:q&&(null===(s=q.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),G(e.value)},className:(0,p.A)(y.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:null===q||void 0===q?void 0:q.isFetching,placeholder:"Select a state",filter:!0,filterInputAutoFocus:!0})}}),(null===(P=M.addresses)||void 0===P||null===(C=P[s])||void 0===C?void 0:C.state)&&(0,_.jsx)("p",{className:"error-message",children:null===(T=M.addresses)||void 0===T||null===(E=T[s])||void 0===E||null===(F=E.state)||void 0===F?void 0:F.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"City/Suburb"}),(0,_.jsx)(d.xI,{name:`addresses.${s}.city`,control:V,defaultValue:"",render:e=>{var l;let{field:n}=e;const a=Y(`addresses.${s}.state`);return(0,_.jsx)(h.m,{...n,options:(null===(l=z[a])||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(e.value)},className:(0,p.A)(y.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:n.value,loading:a===L&&(null===D||void 0===D?void 0:D.isFetching),placeholder:"Select a city",filter:!0,filterInputAutoFocus:!0})}}),(null===(B=M.addresses)||void 0===B||null===(R=B[s])||void 0===R?void 0:R.city)&&(0,_.jsx)("p",{className:"error-message",children:null===(O=M.addresses)||void 0===O||null===(H=O[s])||void 0===H||null===(K=H.city)||void 0===K?void 0:K.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Street Address"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:(null===(Q=M.addresses)||void 0===Q||null===(X=Q[s])||void 0===X?void 0:X.address)&&(0,_.jsx)("img",{src:A.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...J(`addresses.${s}.address`),className:(0,p.A)(y.inputText,{[y.error]:null===(Z=M.addresses)||void 0===Z||null===(le=Z[s])||void 0===le?void 0:le.address}),placeholder:"Enter street address"})]}),(null===(ne=M.addresses)||void 0===ne||null===(ae=ne[s])||void 0===ae?void 0:ae.address)&&(0,_.jsx)("p",{className:"error-message",children:null===(re=M.addresses)||void 0===re||null===(te=re[s])||void 0===te||null===(oe=te.address)||void 0===oe?void 0:oe.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,p.A)(y.lable),children:"Postcode"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:(null===(ie=M.addresses)||void 0===ie||null===(de=ie[s])||void 0===de?void 0:de.postcode)&&(0,_.jsx)("img",{src:A.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...J(`addresses.${s}.postcode`),keyfilter:"int",className:(0,p.A)(y.inputText,{[y.error]:null===(ce=M.addresses)||void 0===ce||null===(me=ce[s])||void 0===me?void 0:me.postcode}),placeholder:"Enter postcode"})]}),(null===(ue=M.addresses)||void 0===ue||null===(pe=ue[s])||void 0===pe?void 0:pe.postcode)&&(0,_.jsx)("p",{className:"error-message",children:null===(he=M.addresses)||void 0===he||null===(xe=he[s])||void 0===xe||null===(ve=xe.postcode)||void 0===ve?void 0:ve.message})]})})]}),(0,_.jsxs)(r.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==s&&(0,_.jsx)(t.A,{type:"button",className:(0,p.A)(y.tempDelete),onClick:()=>se(s),children:"Delete"}),s===W.length-1&&(0,_.jsxs)(t.A,{type:"button",className:(0,p.A)(y.tempAdd),onClick:()=>ee({country:1}),children:["Add New ",(0,_.jsx)(i.A,{size:24,color:"#106b99"})]})]})]},e.id)}))})]})}))},12671:(e,s,l)=>{l.d(s,{IQ:()=>a,IR:()=>t,JP:()=>i,oF:()=>o,rg:()=>d,wx:()=>r,x1:()=>c});var n=l(20701);const a=async()=>(0,n.y)("/settings/accounting/",{method:"GET"}),r=async(e,s)=>{const l=`/settings/accounting/${e}/`,a={method:"PUT",body:s};return(0,n.y)(l,a)},t=async()=>(0,n.y)("/suppliers/industries/",{method:"GET"}),o=async(e,s)=>{const l=`/suppliers/industries/${e}/`,a={method:"PUT",body:s};return(0,n.y)(l,a)},i=async()=>(0,n.y)("/references/xero-codes/",{method:"GET"}),d=async()=>(0,n.y)("/account_codes/",{method:"GET"}),c=async()=>(0,n.y)("/account_codes/sync/",{method:"PUT"})},14834:(e,s,l)=>{function n(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l=parseFloat(e);return isNaN(l)?"0.00":s&&Math.abs(l)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(l):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}l.d(s,{m:()=>n})},20793:(e,s,l)=>{e.exports=l.p+"static/media/NodataImg.ee3ccbdc6b7e66284e17.png"},31342:(e,s,l)=>{l.d(s,{f:()=>n});const n=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:n="GET",headers:a={},body:r}=s,t=localStorage.getItem("access_token"),o=r instanceof FormData,i={"Content-Type":o?"multipart/form-data":"application/json",...a};l&&(i.Authorization=`Bearer ${t}`);const d={method:n,headers:i,body:o?r:JSON.stringify(r),redirect:"follow"};try{const s=new URL(e),l=await fetch(s,d),n=l.headers.get("Content-Type");if(!l.ok){var c;let e=null;e=n&&n.includes("application/json")?await l.json():await l.text(),401===l.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const s=new Error((null===(c=e)||void 0===c?void 0:c.message)||`HTTP error! Status: ${l.status}`);throw s.status=l.status,s.data=e,s}if(n&&n.includes("application/json"))return await l.json();return{message:"Non-JSON response",body:await l.text()}}catch(m){throw console.error("Fetch API error:",m),m}}},52781:(e,s,l)=>{l.d(s,{Jj:()=>r,O5:()=>i,Xq:()=>t,tg:()=>d,xe:()=>o});var n=l(31342);const a="https://dev.memate.com.au/api/v1",r=async function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4?arguments[4]:void 0;const o=(e-1)*s,i=new URL(`${a}/suppliers/`);return i.searchParams.append("limit",s),i.searchParams.append("offset",o),l&&i.searchParams.append("search",l),r&&i.searchParams.append("ordering",r),t&&i.searchParams.append("deleted",1),(0,n.f)(i.toString(),{method:"GET"})},t=async e=>{const s=new URL(`${a}${`/suppliers/${e}/`}`);return(0,n.f)(s.toString(),{method:"GET"})},o=async function(e,s,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5?arguments[5]:void 0;const i=(s-1)*l,d=new URL(`${a}${`/suppliers/history/${e}/`}`);return d.searchParams.append("limit",l),d.searchParams.append("offset",i),r&&d.searchParams.append("name",r),t&&d.searchParams.append("ordering",t),o&&d.searchParams.append("deleted",1),(0,n.f)(d.toString(),{method:"GET"})},i=async e=>{const s=new URL(`${a}${`/suppliers/${e}/`}`);return(0,n.f)(s.toString(),{method:"DELETE"})},d=async e=>{const s=new URL(`${a}${`/suppliers/restore/${e}/`}`);return(0,n.f)(s.toString(),{method:"POST"})}},54967:(e,s,l)=>{l.d(s,{Ab:()=>i,dg:()=>d,fr:()=>c,Ay:()=>m});var n=l(65043),a=l(44541),r=l(95192);const t="image-avatar_clientImg__-nnRU";var o=l(70579);const i=e=>{let{has_photo:s,photo:l,is_business:t,size:i}=e;const[d,c]=(0,n.useState)(!1),m=t?a.A:r.A;return(0,o.jsx)(o.Fragment,{children:s&&l&&!d?(0,o.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,o.jsx)(m,{color:"#667085",size:i})})},d=e=>{var s,l,a;let{has_photo:r,photo:t,name:i}=e;const[d,c]=(0,n.useState)(!1),m=i&&(null===i||void 0===i||null===(s=i.split(" "))||void 0===s||null===(l=s.map((e=>e[0])))||void 0===l||null===(a=l.join(""))||void 0===a?void 0:a.toUpperCase())||"";return(0,o.jsx)(o.Fragment,{children:r&&t&&!d?(0,o.jsx)("img",{src:t,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):m})},c=e=>{let{name:s,size:l=14}=e;const n=s.split(" ").map((e=>e[0])).join("").toUpperCase();return(0,o.jsx)("span",{style:{fontSize:`${l}px`},children:n})},m=e=>{let{has_photo:s,photo:l,is_business:i}=e;const[d,c]=(0,n.useState)(!1),m=i?a.A:r.A;return(0,o.jsx)("div",{className:`d-flex justify-content-center align-items-center ${t} ${i?"":"rounded-circle"}`,style:{overflow:"hidden"},children:s&&l&&!d?(0,o.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,o.jsx)(m,{color:"#667085"})})}},59638:(e,s,l)=>{l.d(s,{EZ:()=>t,F1:()=>f,Fl:()=>u,OF:()=>i,QK:()=>x,Ql:()=>o,X6:()=>d,Ye:()=>v,ab:()=>j,i6:()=>m,kB:()=>y,nP:()=>c,o6:()=>h,oO:()=>r,oo:()=>p,zZ:()=>g});var n=l(31342);const a="https://dev.memate.com.au/api/v1",r=async e=>{const s=new URL(`${a}${`/clients/restore/${e}/`}`);return(0,n.f)(s.toString(),{method:"POST"})},t=async e=>{const s=new URL(`${a}${`/clients/${e}/`}`);return(0,n.f)(s.toString(),{method:"GET"})},o=async()=>{const e=new URL(`${a}/references/clients/categories/`);return(0,n.f)(e.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${a}/references/clients/industries/`);return(0,n.f)(e.toString(),{method:"GET"})},d=async()=>{const e=new URL(`${a}/references/countries/`),s=await(0,n.f)(e.toString(),{method:"GET"},!1),l=[1];return(null===s||void 0===s?void 0:s.filter((e=>l.includes(e.id))))||[]},c=async e=>{const s=new URL(`${a}${`/references/states/${e}/`}`);return(0,n.f)(s.toString(),{method:"GET"},!1)},m=async e=>{const s=new URL(`${a}${`/references/cities/${e}/`}`);return(0,n.f)(s.toString(),{method:"GET"},!1)},u=async()=>{const e=new URL(`${a}/references/desktop-users/`);return(0,n.f)(e.toString(),{method:"GET"})},p=async function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4?arguments[4]:void 0;const o=(e-1)*s,i=new URL(`${a}/clients/`);return i.searchParams.append("limit",s),i.searchParams.append("offset",o),l&&i.searchParams.append("search",l),r&&i.searchParams.append("ordering",r),t&&i.searchParams.append("deleted",1),(0,n.f)(i.toString(),{method:"GET"})},h=async function(e,s,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const o=(s-1)*l,i=new URL(`${a}${`/clients/${e}/orders/`}`);return i.searchParams.append("limit",l),i.searchParams.append("offset",o),r&&i.searchParams.append("number",r),t&&i.searchParams.append("ordering",t),(0,n.f)(i.toString(),{method:"GET"})},x=async e=>{const s=new URL(`${a}${`/clients/address/${e}/main`}`);return(0,n.f)(s.toString(),{method:"PUT"})},v=async e=>{const s=new URL(`${a}${`/clients/contact-persons/${e}/main`}`);return(0,n.f)(s.toString(),{method:"PUT"})},g=async e=>{const s=new URL(`${a}${`/clients/delete/${e}/`}`);return(0,n.f)(s.toString(),{method:"DELETE"})},f=async e=>{const s=new URL(`${a}${`/clients/contact-persons/${e}/delete/`}`);return(0,n.f)(s.toString(),{method:"DELETE"})},j=async e=>{const s=new URL(`${a}${`/clients/address/${e}/delete/`}`);return(0,n.f)(s.toString(),{method:"DELETE"})},y=async e=>{const s={method:"PUT",body:{unique_id:e}},l=new URL(`${a}/projects/back/`);return(0,n.f)(l.toString(),s)}},62924:(e,s,l)=>{l.d(s,{Od:()=>o,PV:()=>t,Xn:()=>r,c2:()=>i});var n=l(93747),a=l(12671);const r=()=>(0,n.I)({queryKey:["accounting-list"],queryFn:a.IQ}),t=()=>(0,n.I)({queryKey:["industry-service-list"],queryFn:a.IR}),o=()=>(0,n.I)({queryKey:["xero-codes-list"],queryFn:a.JP}),i=()=>(0,n.I)({queryKey:["account-code-list"],queryFn:a.rg})},63882:(e,s,l)=>{l.d(s,{A:()=>h});var n=l(65043),a=l(32952),r=l(14282),t=l(76163),o=l(69956),i=l(89488),d=l(55683),c=l(58387),m=l(29853);const u={title:"file-uploader_title__+HTTy",previewSection:"file-uploader_previewSection__mnNRf",previewBox:"file-uploader_previewBox__j6psm",previewBoxImg1:"file-uploader_previewBoxImg1__SR-1w",rectangle:"file-uploader_rectangle__dFhi8",previewBoxImg2:"file-uploader_previewBoxImg2__zYCKK",previewBoxImg3:"file-uploader_previewBoxImg3__YNTWI",previewBoxImg4:"file-uploader_previewBoxImg4__cRl+e",previewBoxImg5:"file-uploader_previewBoxImg5__GzHFj",previewActions:"file-uploader_previewActions__UO1dp",label:"file-uploader_label__Udhfq",label2:"file-uploader_label2__cY-JF"};var p=l(70579);const h=e=>{let{show:s,setShow:l,setPhoto:h,additionalDesign:x,shape:v="rect",aspect:g=1}=e;const[f,j]=(0,n.useState)([]),[y,b]=(0,n.useState)({x:0,y:0}),[A,N]=(0,n.useState)(1),[w,_]=(0,n.useState)(0),[S,I]=(0,n.useState)(null),[$,P]=(0,n.useState)({}),C=(0,n.useCallback)(((e,s)=>{I(s)}),[]),T=(0,n.useCallback)((async()=>{if(!f.length||!S)return;const e=document.createElement("canvas"),s=e.getContext("2d"),l=new Image;l.src=f[0].preview,await new Promise((e=>l.onload=e)),e.width=S.width,e.height=S.height,s.translate(e.width/2,e.height/2),s.rotate(w*Math.PI/180),s.translate(-e.width/2,-e.height/2),s.drawImage(l,S.x,S.y,S.width,S.height,0,0,S.width,S.height);return e.toDataURL("image/jpeg")}),[f,S,w]),E=async()=>{const e=await T();e&&P({img2:e,img3:e,img4:e,img5:e})};(0,n.useEffect)((()=>{E()}),[A,y,w,f,S]);const{getRootProps:F,getInputProps:B}=(0,i.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{j(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,p.jsxs)(a.A,{style:{zIndex:1111},show:s,centered:!0,onHide:()=>l(!1),onShow:E,children:[(0,p.jsx)(a.A.Header,{closeButton:!0,children:(0,p.jsx)(a.A.Title,{children:(0,p.jsx)("span",{className:`${u.title}`,children:"Edit Photo"})})}),(0,p.jsxs)(a.A.Body,{children:[x,(0,p.jsxs)("div",{className:`${u.previewSection}`,children:[(0,p.jsxs)("div",{className:`${u.previewBox}`,children:[(0,p.jsx)("div",{className:(0,c.A)(u.previewBoxImg1,"round"===v?"rounded-circle":"",1===g?u.square:u.rectangle),children:(0,p.jsx)(d.Ay,{image:f.length>0?f[0].preview:null,crop:y,zoom:A,cropShape:v,rotation:w,onCropChange:b,onZoomChange:N,onCropComplete:C,aspect:g,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,p.jsx)("div",{className:(0,c.A)(u.previewBoxImg2,"round"===v?"rounded-circle":"",1===g?u.square:u.rectangle),children:$.img2&&(0,p.jsx)("img",{src:$.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,p.jsx)("div",{className:(0,c.A)(u.previewBoxImg3,"round"===v?"rounded-circle":"",1===g?u.square:u.rectangle),children:$.img3&&(0,p.jsx)("img",{src:$.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,p.jsx)("div",{className:(0,c.A)(u.previewBoxImg4,"round"===v?"rounded-circle":"",1===g?u.square:u.rectangle),children:$.img4&&(0,p.jsx)("img",{src:$.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,p.jsx)("div",{className:(0,c.A)(u.previewBoxImg5,"round"===v?"rounded-circle":"",1===g?u.square:u.rectangle),children:$.img5&&(0,p.jsx)("img",{src:$.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,p.jsxs)("div",{className:`${u.previewActions}`,children:[(0,p.jsxs)(m.A.Group,{children:[(0,p.jsx)(m.A.Label,{className:`${u.label}`,children:"Zoom"}),(0,p.jsx)(m.A.Range,{value:A,min:1,max:3,step:.1,className:"custom-range",onChange:e=>N(e.target.value)})]}),(0,p.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,p.jsxs)(r.A,{className:"text-button",onClick:()=>{_((e=>(e+90)%360))},children:[(0,p.jsx)(t.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,p.jsxs)("div",{...F({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,p.jsx)("input",{...B()}),(0,p.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,p.jsx)(o.A,{})}),(0,p.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,p.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,p.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,p.jsxs)(a.A.Footer,{className:"d-flex justify-content-end",children:[(0,p.jsx)(r.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),j([]),P({}),h(null),l(!1)},children:"Cancel"}),(0,p.jsx)(r.A,{className:"solid-button",onClick:async()=>{const e=await T(),s=function(e,s){const l=atob(e.split(",")[1]),n=new ArrayBuffer(l.length),a=new Uint8Array(n);for(let r=0;r<l.length;r++)a[r]=l.charCodeAt(r);return new Blob([n],{type:s})}(e,"image/jpeg");h({croppedImageBase64:e,croppedImageBlob:s}),l(!1)},children:"Save Photo"})]})]})}},75329:(e,s,l)=>{l.d(s,{A:()=>d});var n=l(65043),a=l(65173),r=l.n(a),t=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},o.apply(null,arguments)}var i=(0,n.forwardRef)((function(e,s){var l=e.color,a=void 0===l?"currentColor":l,r=e.size,i=void 0===r?"1em":r,d=e.title,c=void 0===d?null:d,m=e.className,u=void 0===m?"":m,p=function(e,s){if(null==e)return{};var l,n,a=function(e,s){if(null==e)return{};var l={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(s.includes(n))continue;l[n]=e[n]}return l}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],s.includes(l)||{}.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}(e,t);return n.createElement("svg",o({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:a,className:["bi","bi-download",u].filter(Boolean).join(" ")},p),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),n.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"}))}));i.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const d=i},96141:(e,s,l)=>{l.d(s,{A:()=>d});var n=l(65043),a=l(65173),r=l.n(a),t=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},o.apply(null,arguments)}var i=(0,n.forwardRef)((function(e,s){var l=e.color,a=void 0===l?"currentColor":l,r=e.size,i=void 0===r?"1em":r,d=e.title,c=void 0===d?null:d,m=e.className,u=void 0===m?"":m,p=function(e,s){if(null==e)return{};var l,n,a=function(e,s){if(null==e)return{};var l={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(s.includes(n))continue;l[n]=e[n]}return l}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],s.includes(l)||{}.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}(e,t);return n.createElement("svg",o({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:a,className:["bi","bi-plus",u].filter(Boolean).join(" ")},p),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));i.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const d=i},99868:(e,s,l)=>{l.d(s,{A:()=>x});var n=l(65043),a=l(14282),r=l(38294),t=l(35475),o=l(58387);const i="no-data-found-template_noDataBox__HgeT1",d="no-data-found-template_title__P5uV2",c="no-data-found-template_subTitle__zMBB-",m="no-data-found-template_supportext__pHg2P";var u=l(20793),p=l(32808),h=l(70579);const x=e=>{let{isDataExist:s=!0}=e;const[l,x]=(0,n.useState)(!1);return(0,h.jsxs)("div",{className:(0,o.A)(i),children:[(0,h.jsx)("div",{className:"position-relative d-flex flex-column",children:(0,h.jsx)("img",{src:u,alt:"no-data"})}),s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{className:(0,o.A)(d),children:"There is no results"}),(0,h.jsxs)("p",{className:(0,o.A)(c),children:["The user you are looking for doesn't exist. ",(0,h.jsx)("br",{}),"Here are some helpful links:"]}),(0,h.jsx)(t.N_,{to:"/",children:(0,h.jsxs)(a.A,{className:"outline-button",style:{marginBottom:"32px"},children:[" ",(0,h.jsx)(r.A,{})," Go back"]})}),(0,h.jsx)(t.N_,{onClick:()=>x(!0),to:"#",children:(0,h.jsx)("span",{className:(0,o.A)(m),children:"Support"})})]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("h2",{className:(0,o.A)(d),children:"No historical records yet."})}),(0,h.jsx)(p.A,{setVisible:x,visible:l})]})}}}]);
//# sourceMappingURL=8614.8d0e1531.chunk.js.map