"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[3074],{33074:(e,l,s)=>{s.d(l,{A:()=>F});var a=s(65043),n=s(61072),i=s(78602),r=s(14282),d=s(44541),o=s(96141),t=s(24858),c=s(17380),m=s(18403),u=s(93747),x=s(58387),h=s(54972),p=s(88060),v=s(28676),j=s(74532),A=s(72052),g=s(27932),b=s(93740),f=s(80899),N=s(20685),y=s(59638),C=s(88780),w=s(57189),_=s(27472),S=s(63882),I=s(70579);const q=f.Ik({name:f.Yj().required("Company name is required"),abn:f.Yj().nullable().transform((e=>""===e?null:e)).matches(/^\d{11}$/,"ABN must be an 11-digit number").notRequired(),email:f.Yj().nullable().transform((e=>""===e?null:e)).matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Invalid email address").notRequired(),payment_terms:f.ai().typeError("Enter a valid payment terms").required("Payment terms are required"),category:f.ai().typeError("Enter a valid category").required("Category is required"),contact_persons:f.YO().of(f.Ik({email:f.Yj().nullable().email("Invalid contact email format").test("is-valid","Contact email must be a valid email if provided",(e=>!e||f.Yj().email().isValidSync(e)))})),add_to_mailchimp:f.zM(),mailchimp_list_id:f.Yj().when("add_to_mailchimp",{is:!0,then:e=>e.required("Please select a mailing list"),otherwise:e=>e.notRequired()})}).required(),F=(0,a.forwardRef)(((e,l)=>{var s;let{photo:f,setPhoto:F,onSubmit:P,defaultValues:T,deleteAddress:k,deleteContact:E}=e;const{session:$}=(0,w.As)(),[z,D]=(0,a.useState)(!1),[O,G]=(0,a.useState)(!1),[V,B]=(0,a.useState)(0),[L,M]=(0,a.useState)({type:null,index:null}),Y=(0,u.I)({queryKey:["categories"],queryFn:y.Ql}),H=(0,u.I)({queryKey:["industries"],queryFn:y.OF}),R=(0,u.I)({queryKey:["mailchimp-lists"],queryFn:C.Yn,enabled:O&&(null===$||void 0===$?void 0:$.has_mailchimp)}),[K,J]=(0,a.useState)(""),[W,Q]=(0,a.useState)(""),[U,X]=(0,a.useState)({}),Z=(0,u.I)({queryKey:["countries"],queryFn:y.X6,enabled:!0}),ee=(0,u.I)({queryKey:["states",K],queryFn:()=>(0,y.nP)(K),enabled:!!K,retry:1}),le=(0,u.I)({queryKey:["cities",W],queryFn:async()=>(0,y.i6)(W),enabled:!!W,keepPreviousData:!0});(0,a.useEffect)((()=>{W&&(async e=>{if(e&&!U[e]){const l=await(0,y.i6)(e);X((s=>({...s,[e]:l})))}})(W)}),[W]);const{control:se,register:ae,handleSubmit:ne,watch:ie,formState:{errors:re},setValue:de}=(0,t.mN)({resolver:(0,m.t)(q),defaultValues:T}),{fields:oe,append:te,remove:ce}=(0,t.jz)({control:se,name:"contact_persons"}),{fields:me,append:ue,remove:xe}=(0,t.jz)({control:se,name:"addresses"}),he=ie("email");return(0,a.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.addresses)&&void 0!==e&&e.length&&V<T.addresses.length){const e=T.addresses[V],l=e.country,s=e.state;l!==K?J(l):s!==W?Q(s):B((e=>e+1))}}),[T,V,K,W]),(0,a.useEffect)((()=>{var e;if(null!==Y&&void 0!==Y&&null!==(e=Y.data)&&void 0!==e&&e.length&&!T.category){var l;let e=null===(l=Y.data)||void 0===l?void 0:l.find((e=>"regular"===e.name.toLowerCase()));e.name&&de("category",e.id)}}),[null===Y||void 0===Y?void 0:Y.data,T,de]),(0,I.jsxs)("form",{ref:l,onSubmit:ne(P),children:[(0,I.jsxs)(n.A,{className:(0,x.A)(N.A.bgGreay,"pt-0"),children:[(0,I.jsxs)(i.A,{sm:12,children:[(0,I.jsxs)("div",{className:(0,x.A)(N.A.fileUploadBox),onClick:()=>D(!0),children:[(0,I.jsx)("div",{className:(0,x.A)(N.A.uploadedImgBox,"rounded"),children:f?(0,I.jsx)("img",{src:(null===f||void 0===f?void 0:f.croppedImageBase64)||f,alt:"img"}):(0,I.jsx)(d.A,{size:32,color:"#667085"})}),(0,I.jsx)("p",{className:(0,x.A)("mb-0",N.A.uploadedText1),children:(0,I.jsx)("span",{className:(0,x.A)("mb-0",N.A.uploadedText2),children:"Click to upload"})}),(0,I.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,I.jsx)(S.A,{show:z,setShow:D,setPhoto:F})]}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsxs)("label",{className:(0,x.A)(N.A.lable),children:["Company Name",(0,I.jsx)("span",{className:"required",children:"*"})]}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{children:re.name&&(0,I.jsx)("img",{src:_.A,className:"mb-3",alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae("name"),className:(0,x.A)(N.A.inputText,{[N.A.error]:re.name}),placeholder:"Enter company name"})]}),re.name&&(0,I.jsx)("p",{className:"error-message",children:re.name.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Industry"}),(0,I.jsx)(t.xI,{name:"industry",control:se,render:e=>{var l;let{field:s}=e;return(0,I.jsx)(p.m,{...s,options:H&&(null===(l=H.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{s.onChange(e.value)},className:(0,x.A)(N.A.dropdownSelect,"dropdown-height-fixed",{[N.A.error]:re.industry}),style:{height:"46px"},scrollHeight:"380px",value:s.value,loading:null===H||void 0===H?void 0:H.isFetching,placeholder:"Select Industry",filter:!0,filterInputAutoFocus:!0})}}),re.industry&&(0,I.jsx)("p",{className:"error-message",children:null===(s=re.industry)||void 0===s?void 0:s.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"ABN"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{children:re.abn&&(0,I.jsx)("img",{src:_.A,className:"mb-3",alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae("abn",{onChange:e=>{const l=e.target.value.replace(/\D/g,"");de("abn",l,{shouldValidate:!0})},onPaste:e=>{e.preventDefault();const l=e.clipboardData.getData("text").replace(/\D/g,"");de("abn",l,{shouldValidate:!0})}}),className:(0,x.A)(N.A.inputText,{[N.A.error]:re.abn}),placeholder:"32 635 443 221"})]}),re.abn&&(0,I.jsx)("p",{className:"error-message",children:re.abn.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Phone number"}),(0,I.jsx)(t.xI,{name:"phone",control:se,render:e=>{let{field:l}=e;return(0,I.jsx)(c.LR,{defaultCountry:"au",value:"string"===typeof l.value?l.value:"",className:"phoneInput rounded",containerClass:N.A.countrySelector,onChange:l.onChange,style:{border:"1px solid "+(re.phone?"red":"#dedede")}})}}),re.phone&&(0,I.jsx)("p",{className:"error-message",children:re.phone.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Email"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{children:re.email&&(0,I.jsx)("img",{src:_.A,className:"mb-3",alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae("email"),className:(0,x.A)(N.A.inputText,{[N.A.error]:re.email}),placeholder:"example@email.com"})]}),re.email&&(0,I.jsx)("p",{className:"error-message",children:re.email.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Website"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{children:re.website&&(0,I.jsx)("img",{src:_.A,className:"mb-3",alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae("website"),className:(0,x.A)(N.A.inputText,{[N.A.error]:re.website}),placeholder:"www.example.com"})]}),re.website&&(0,I.jsx)("p",{className:"error-message",children:re.website.message})]})})]}),(0,I.jsx)("h2",{className:(0,x.A)(N.A.headingInputs,"mt-4"),children:"Payment Terms"}),(0,I.jsxs)(n.A,{className:(0,x.A)(N.A.bgGreay),children:[(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsxs)("label",{className:(0,x.A)(N.A.lable),children:["Payment Terms",(0,I.jsx)("span",{className:"required",children:"*"})]}),(0,I.jsx)(t.xI,{name:"payment_terms",control:se,render:e=>{let{field:l}=e;return(0,I.jsx)(p.m,{...l,options:[{value:1,label:"COD"},{value:0,label:"Prepaid"},{value:7,label:"Week"},{value:14,label:"Two weeks"},{value:30,label:"One month"}]||0,onChange:e=>{l.onChange(e.value)},className:(0,x.A)(N.A.dropdownSelect,"dropdown-height-fixed",{[N.A.error]:re.payment_terms}),style:{height:"46px"},value:l.value,scrollHeight:"380px",placeholder:"Select payment terms",filterInputAutoFocus:!0})}}),re.payment_terms&&(0,I.jsx)("p",{className:"error-message",children:re.payment_terms.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsxs)("label",{className:(0,x.A)(N.A.lable),children:["Customers Discount Category",(0,I.jsx)("span",{className:"required",children:"*"})]}),(0,I.jsx)(t.xI,{name:"category",control:se,render:e=>{var l;let{field:s}=e;return(0,I.jsx)(p.m,{...s,options:[...Y&&(null===(l=Y.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:`${e.name} - ${e.value}%`}))))||[]],onChange:e=>{s.onChange(e.value)},className:(0,x.A)(N.A.dropdownSelect,"dropdown-height-fixed",{[N.A.error]:re.category}),style:{height:"46px"},value:s.value,loading:null===Y||void 0===Y?void 0:Y.isFetching,placeholder:"Select a category",scrollHeight:"380px",filterInputAutoFocus:!0})}}),re.category&&(0,I.jsx)("p",{className:"error-message",children:re.category.message})]})})]}),(0,I.jsx)("h2",{className:(0,x.A)(N.A.headingInputs,"mt-4"),children:"Contact Person"}),(0,I.jsx)(n.A,{children:oe.map(((e,l)=>{var s,a,d,m,u,h,p,g,f,y,C,w,S,q,F,P,T,k,$,z,D,O,G,V,B,Y,H,R,K,J,W,Q,U,X,Z,ee,le,ne,ie,de;return(0,I.jsxs)("div",{children:[(0,I.jsx)("input",{type:"hidden",...ae(`contact_persons.${l}.is_main`),value:0===l}),(0,I.jsxs)(n.A,{className:(0,x.A)(N.A.bgGreay),children:[(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"First Name"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{style:{top:"40%"},children:(null===(s=re.contact_persons)||void 0===s||null===(a=s[l])||void 0===a?void 0:a.firstname)&&(0,I.jsx)("img",{src:_.A,alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae(`contact_persons.${l}.firstname`),rows:5,cols:30,className:(0,x.A)(N.A.inputText,{[N.A.error]:null===(d=re.contact_persons)||void 0===d||null===(m=d[l])||void 0===m?void 0:m.firstname}),style:{resize:"none"},placeholder:"Jhon"})]}),(null===(u=re.contact_persons)||void 0===u||null===(h=u[l])||void 0===h?void 0:h.firstname)&&(0,I.jsx)("p",{className:"error-message",children:null===(p=re.contact_persons)||void 0===p||null===(g=p[l])||void 0===g||null===(f=g.firstname)||void 0===f?void 0:f.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Last Name"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{style:{top:"40%"},children:(null===(y=re.contact_persons)||void 0===y||null===(C=y[l])||void 0===C?void 0:C.lastname)&&(0,I.jsx)("img",{src:_.A,alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae(`contact_persons.${l}.lastname`),rows:5,cols:30,className:(0,x.A)(N.A.inputText,{[N.A.error]:null===(w=re.contact_persons)||void 0===w||null===(S=w[l])||void 0===S?void 0:S.lastname}),style:{resize:"none"},placeholder:"Doe"})]}),(null===(q=re.contact_persons)||void 0===q||null===(F=q[l])||void 0===F?void 0:F.lastname)&&(0,I.jsx)("p",{className:"error-message",children:null===(P=re.contact_persons)||void 0===P||null===(T=P[l])||void 0===T||null===(k=T.lastname)||void 0===k?void 0:k.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Email"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{style:{top:"40%"},children:(null===($=re.contact_persons)||void 0===$||null===(z=$[l])||void 0===z?void 0:z.email)&&(0,I.jsx)("img",{src:_.A,alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae(`contact_persons.${l}.email`),rows:5,cols:30,className:(0,x.A)(N.A.inputText,{[N.A.error]:null===(D=re.contact_persons)||void 0===D||null===(O=D[l])||void 0===O?void 0:O.email}),style:{resize:"none"},placeholder:"golden@harvest.com"})]}),(null===(G=re.contact_persons)||void 0===G||null===(V=G[l])||void 0===V?void 0:V.email)&&(0,I.jsx)("p",{className:"error-message",children:null===(B=re.contact_persons)||void 0===B||null===(Y=B[l])||void 0===Y||null===(H=Y.email)||void 0===H?void 0:H.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Phone number"}),(0,I.jsx)(t.xI,{name:`contact_persons.${l}.phone`,control:se,render:e=>{var s,a;let{field:n}=e;return(0,I.jsx)(c.LR,{defaultCountry:"au",value:n.value||"",className:"phoneInput rounded",containerClass:N.A.countrySelector,onChange:e=>n.onChange(e),style:{border:"1px solid "+(null!==(s=re.contact_persons)&&void 0!==s&&null!==(a=s[l])&&void 0!==a&&a.phone?"red":"#dedede")}})}}),(null===(R=re.contact_persons)||void 0===R||null===(K=R[l])||void 0===K?void 0:K.phone)&&(0,I.jsx)("p",{className:"error-message",children:null===(J=re.contact_persons)||void 0===J||null===(W=J[l])||void 0===W?void 0:W.phone.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Position"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{style:{top:"40%"},children:(null===(Q=re.contact_persons)||void 0===Q||null===(U=Q[l])||void 0===U?void 0:U.position)&&(0,I.jsx)("img",{src:_.A,alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae(`contact_persons.${l}.position`),rows:5,cols:30,className:(0,x.A)(N.A.inputText,{[N.A.error]:null===(X=re.contact_persons)||void 0===X||null===(Z=X[l])||void 0===Z?void 0:Z.position}),style:{resize:"none"},placeholder:"Manager"})]}),(null===(ee=re.contact_persons)||void 0===ee||null===(le=ee[l])||void 0===le?void 0:le.position)&&(0,I.jsx)("p",{className:"error-message",children:null===(ne=re.contact_persons)||void 0===ne||null===(ie=ne[l])||void 0===ie||null===(de=ie.position)||void 0===de?void 0:de.message})]})}),(0,I.jsx)(i.A,{sm:6})]}),(0,I.jsxs)(i.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==l&&(0,I.jsxs)(r.A,{type:"button",className:(0,x.A)(N.A.tempDelete),onClick:()=>(async(e,l)=>{M({type:"contact",index:e}),l&&await E(l),ce(e),M({type:null,index:null})})(l,e.uniqeId),disabled:!("contact"!==(null===L||void 0===L?void 0:L.type)||L.index!==l),children:["Delete ","contact"===(null===L||void 0===L?void 0:L.type)&&L.index===l?(0,I.jsx)(b.p,{style:{width:"20px",height:"20px"}}):""]}),l===oe.length-1&&(0,I.jsxs)(r.A,{type:"button",className:(0,x.A)(N.A.tempAdd),onClick:()=>te({}),children:["Add New ",(0,I.jsx)(o.A,{size:24,color:"#106b99"})]})]})]},e.id)}))}),(0,I.jsx)("h2",{className:(0,x.A)(N.A.headingInputs,"mt-4"),children:"Locations"}),(0,I.jsx)(n.A,{children:me.map(((e,l)=>{var s,a,d,c,m,u,h,g,f,y,C,w,S,q,F,P,T,E,$,z,D,O,G,V,B,Y,H,R,K,X,ne,de,oe,te,ce,he,pe,ve,je,Ae,ge,be;return(0,I.jsxs)("div",{children:[(0,I.jsx)("input",{type:"hidden",...ae(`addresses.${l}.is_main`),value:0===l}),(0,I.jsxs)(n.A,{className:(0,x.A)(N.A.bgGreay),children:[(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Location Name"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{children:(null===(s=re.addresses)||void 0===s||null===(a=s[l])||void 0===a?void 0:a.title)&&(0,I.jsx)("img",{src:_.A,className:"mb-3",alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae(`addresses.${l}.title`),className:(0,x.A)(N.A.inputText,{[N.A.error]:null===(d=re.addresses)||void 0===d||null===(c=d[l])||void 0===c?void 0:c.title}),placeholder:"Enter location name"})]}),(null===(m=re.addresses)||void 0===m||null===(u=m[l])||void 0===u?void 0:u.title)&&(0,I.jsx)("p",{className:"error-message",children:null===(h=re.addresses)||void 0===h||null===(g=h[l])||void 0===g||null===(f=g.title)||void 0===f?void 0:f.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Country"}),(0,I.jsx)(t.xI,{name:`addresses.${l}.country`,control:se,defaultValue:"",render:e=>{var l;let{field:s}=e;return(0,I.jsx)(p.m,{...s,options:Z&&(null===(l=Z.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{s.onChange(e.value),J(e.value)},className:(0,x.A)(N.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:s.value,loading:null===Z||void 0===Z?void 0:Z.isFetching,placeholder:"Select a country",scrollHeight:"380px",filterInputAutoFocus:!0})}}),(null===(y=re.addresses)||void 0===y||null===(C=y[l])||void 0===C?void 0:C.country)&&(0,I.jsx)("p",{className:"error-message",children:null===(w=re.addresses)||void 0===w||null===(S=w[l])||void 0===S||null===(q=S.country)||void 0===q?void 0:q.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"State"}),(0,I.jsx)(t.xI,{name:`addresses.${l}.state`,control:se,defaultValue:"",render:e=>{var l;let{field:s}=e;return(0,I.jsx)(p.m,{...s,options:ee&&(null===(l=ee.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{s.onChange(e.value),Q(e.value)},className:(0,x.A)(N.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:s.value,loading:null===ee||void 0===ee?void 0:ee.isFetching,placeholder:"Select a state",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(F=re.addresses)||void 0===F||null===(P=F[l])||void 0===P?void 0:P.state)&&(0,I.jsx)("p",{className:"error-message",children:null===(T=re.addresses)||void 0===T||null===(E=T[l])||void 0===E||null===($=E.state)||void 0===$?void 0:$.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"City/Suburb"}),(0,I.jsx)(t.xI,{name:`addresses.${l}.city`,control:se,defaultValue:"",render:e=>{var s;let{field:a}=e;const n=ie(`addresses.${l}.state`);return(0,I.jsx)(p.m,{...a,options:(null===(s=U[n])||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{a.onChange(e.value)},className:(0,x.A)(N.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:a.value,loading:n===W&&(null===le||void 0===le?void 0:le.isFetching),disabled:null===le||void 0===le?void 0:le.isFetching,placeholder:"Select a city",emptyMessage:n?"No cities found":"Select a state first",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(z=re.addresses)||void 0===z||null===(D=z[l])||void 0===D?void 0:D.city)&&(0,I.jsx)("p",{className:"error-message",children:null===(O=re.addresses)||void 0===O||null===(G=O[l])||void 0===G||null===(V=G.city)||void 0===V?void 0:V.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Street Address"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{children:(null===(B=re.addresses)||void 0===B||null===(Y=B[l])||void 0===Y?void 0:Y.address)&&(0,I.jsx)("img",{src:_.A,className:"mb-3",alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae(`addresses.${l}.address`),className:(0,x.A)(N.A.inputText,{[N.A.error]:null===(H=re.addresses)||void 0===H||null===(R=H[l])||void 0===R?void 0:R.address}),placeholder:"Enter street address"})]}),(null===(K=re.addresses)||void 0===K||null===(X=K[l])||void 0===X?void 0:X.address)&&(0,I.jsx)("p",{className:"error-message",children:null===(ne=re.addresses)||void 0===ne||null===(de=ne[l])||void 0===de||null===(oe=de.address)||void 0===oe?void 0:oe.message})]})}),(0,I.jsx)(i.A,{sm:6,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Postcode"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{children:(null===(te=re.addresses)||void 0===te||null===(ce=te[l])||void 0===ce?void 0:ce.postcode)&&(0,I.jsx)("img",{src:_.A,className:"mb-3",alt:"error-icon"})}),(0,I.jsx)(A.S,{...ae(`addresses.${l}.postcode`),keyfilter:"int",className:(0,x.A)(N.A.inputText,{[N.A.error]:null===(he=re.addresses)||void 0===he||null===(pe=he[l])||void 0===pe?void 0:pe.postcode}),placeholder:"Enter postcode"})]}),(null===(ve=re.addresses)||void 0===ve||null===(je=ve[l])||void 0===je?void 0:je.postcode)&&(0,I.jsx)("p",{className:"error-message",children:null===(Ae=re.addresses)||void 0===Ae||null===(ge=Ae[l])||void 0===ge||null===(be=ge.postcode)||void 0===be?void 0:be.message})]})})]}),(0,I.jsxs)(i.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==l&&(0,I.jsxs)(r.A,{type:"button",className:(0,x.A)(N.A.tempDelete),onClick:()=>(async(e,l)=>{M({type:"address",index:e}),l&&await k(l),xe(e),M({type:null,index:null})})(l,e.uniqeId),disabled:!("address"!==(null===L||void 0===L?void 0:L.type)||L.index!==l),children:["Delete ","address"===(null===L||void 0===L?void 0:L.type)&&L.index===l?(0,I.jsx)(b.p,{style:{width:"20px",height:"20px"}}):""]}),l===me.length-1&&(0,I.jsxs)(r.A,{type:"button",className:(0,x.A)(N.A.tempAdd),onClick:()=>ue({country:1}),children:["Add New ",(0,I.jsx)(o.A,{size:24,color:"#106b99"})]})]})]},e.id)}))}),(0,I.jsx)("h2",{className:(0,x.A)(N.A.headingInputs),children:"Client Description"}),(0,I.jsx)(n.A,{className:(0,x.A)(N.A.bgGreay),children:(0,I.jsx)(i.A,{sm:12,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,I.jsx)("label",{className:(0,x.A)(N.A.lable),children:"Description"}),(0,I.jsxs)(v.C,{children:[(0,I.jsx)(j.m,{style:{top:"75%"},children:re.description&&(0,I.jsx)("img",{src:_.A,alt:"error-icon"})}),(0,I.jsx)(g.Z,{...ae("description"),rows:5,cols:30,className:(0,x.A)(N.A.inputText,{[N.A.error]:re.description}),style:{resize:"none"},placeholder:"Enter a description..."})]}),re.description&&(0,I.jsx)("p",{className:"error-message",children:re.description.message})]})})}),(null===$||void 0===$?void 0:$.has_mailchimp)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h2",{className:(0,x.A)(N.A.headingInputs),children:"Mailchimp Integration"}),(0,I.jsxs)(n.A,{className:(0,x.A)(N.A.bgGreay),children:[(0,I.jsxs)(i.A,{sm:12,children:[(0,I.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,I.jsx)(t.xI,{name:"add_to_mailchimp",control:se,render:e=>{let{field:l}=e;return(0,I.jsx)(h.S,{inputId:"add_to_mailchimp",checked:l.value||!1,onChange:e=>{l.onChange(e.checked),G(e.checked)},disabled:!he})}}),(0,I.jsx)("label",{htmlFor:"add_to_mailchimp",className:(0,x.A)(N.A.lable,"mb-0"),children:"Add to Mailchimp mailing list"})]}),!he&&(0,I.jsx)("p",{className:"text-muted",style:{fontSize:"12px",marginTop:"-8px",marginBottom:"12px"},children:"Please enter an email address to enable this option"})]}),O&&(0,I.jsx)(i.A,{sm:12,children:(0,I.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,I.jsxs)("label",{className:(0,x.A)(N.A.lable),children:["Mailing List",(0,I.jsx)("span",{className:"required",children:"*"})]}),(0,I.jsx)(t.xI,{name:"mailchimp_list_id",control:se,render:e=>{var l;let{field:s}=e;return(0,I.jsx)(p.m,{...s,options:Array.isArray(null===R||void 0===R||null===(l=R.data)||void 0===l?void 0:l.lists)?R.data.lists.map((e=>({value:e.id,label:e.name}))):[],onChange:e=>{s.onChange(e.value)},className:(0,x.A)(N.A.dropdownSelect,"dropdown-height-fixed",{[N.A.error]:re.mailchimp_list_id}),style:{height:"46px"},value:s.value,loading:null===R||void 0===R?void 0:R.isFetching,placeholder:"Select a mailing list",scrollHeight:"380px",filterInputAutoFocus:!0,emptyMessage:null!==R&&void 0!==R&&R.isFetching?"Loading...":"No mailing lists found"})}}),re.mailchimp_list_id&&(0,I.jsx)("p",{className:"error-message",children:re.mailchimp_list_id.message})]})})]})]})]})}))},96141:(e,l,s)=>{s.d(l,{A:()=>t});var a=s(65043),n=s(65173),i=s.n(n),r=["color","size","title","className"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var s=arguments[l];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},d.apply(null,arguments)}var o=(0,a.forwardRef)((function(e,l){var s=e.color,n=void 0===s?"currentColor":s,i=e.size,o=void 0===i?"1em":i,t=e.title,c=void 0===t?null:t,m=e.className,u=void 0===m?"":m,x=function(e,l){if(null==e)return{};var s,a,n=function(e,l){if(null==e)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(l.includes(a))continue;s[a]=e[a]}return s}(e,l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],l.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(e,r);return a.createElement("svg",d({ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-plus",u].filter(Boolean).join(" ")},x),c?a.createElement("title",null,c):null,a.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));o.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const t=o}}]);
//# sourceMappingURL=3074.655fc9f2.chunk.js.map