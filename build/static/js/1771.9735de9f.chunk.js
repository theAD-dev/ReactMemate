"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[1771],{42265:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/Avatar.58594ab62b53fb25ff3255321cd11118.svg"},12532:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/taskEditIcon.5073a6098e75cbfe59e3f782e1a2d772.svg"},84678:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/new-task.1f7c3f35d1b3af6863cc0437d88ae2f1.svg"},42052:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/task-details.6c24fdfe452b19f485da192519e9cbe3.svg"},72796:(e,t,n)=>{n.d(t,{Nl:()=>r,_x:()=>d,dd:()=>s,mM:()=>c,wW:()=>o});const a="https://dev.memate.com.au/api/v1",s=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const s={method:"GET",headers:t};try{const t=new URL(`${a}/tasks/${e}/`),n=await fetch(t,s);return await n.json()}catch(o){throw console.error("Tasks fetch error:",o),o}},o=async(e,t)=>{const n=new Headers,s=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${s}`),n.append("Content-Type","application/json");const o={method:"PUT",headers:n,body:JSON.stringify(e)};try{const e=new URL(`${a}/tasks/update/${t}/`),n=await fetch(e,o);return await n.json()}catch(r){throw console.error("Tasks fetch error:",r),r}},r=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const s={method:"POST",headers:t,body:JSON.stringify(e),redirect:"follow"};try{const e=await fetch(`${a}/tasks/new/`,s);return await e.text()}catch(o){throw console.error(o),o}},c=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const s={method:"DELETE",headers:t,redirect:"follow"};try{const t=new URL(`${a}/tasks/delete/${e}/`);if((await fetch(t,s)).ok)return{message:"Task deleted successfully"};throw new Error("Error during deleting")}catch(o){throw console.error("Tasks fetch error:",o),o}},d=async(e,t)=>{const n=new Headers,s=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${s}`),n.append("Content-Type","application/json");const o={method:"PATCH",headers:n,body:JSON.stringify({finished:t}),redirect:"follow"};try{const t=new URL(`${a}/tasks/complete/${e}/`),n=await fetch(t,o);return await n.json()}catch(r){throw console.error("Tasks fetch error:",r),r}}},79106:(e,t,n)=>{n.d(t,{Af:()=>c,U9:()=>o,aU:()=>i,gg:()=>r,lC:()=>d});var a=n(31342);const s="https://dev.memate.com.au/api/v1",o=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;const c=(e-1)*t,d=new URL(`${s}/tasks/`);return d.searchParams.append("limit",t),d.searchParams.append("offset",c),n&&d.searchParams.append("name",n),o&&d.searchParams.append("ordering",o),r&&d.searchParams.append("deleted",1),(0,a.f)(d.toString(),{method:"GET"})},r=async e=>{const t=new URL(`${s}${`/tasks/${e}`}`);return(0,a.f)(t.toString(),{method:"GET"})},c=async e=>{const t={method:"POST",body:e},n=new URL(`${s}/tasks/new/`);return(0,a.f)(n.toString(),t)},d=async(e,t)=>{const n={method:"PUT",body:t},o=new URL(`${s}${`/tasks/update/${e}`}`);return(0,a.f)(o.toString(),n)},i=async()=>{const e=new URL(`${s}/references/all-users/`);return(0,a.f)(e.toString(),{method:"GET"})}},35470:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(65043),s=n(63040),o=n(34168),r=n(70579);const c=(e,t)=>{const n={month:"short",day:"numeric"};return`${new Date(e).toLocaleDateString("en-US",n)} - ${new Date(t).toLocaleDateString("en-US",n)}`},d=e=>{let{startDate:t,endDate:n}=e;return(0,r.jsx)("div",{className:"dateSelectdTaskBar",children:c(t,n)})},i=e=>{let{setDateRange:t,dateRange:n}=e;console.log("dateRange: ",n);const[c,i]=(0,a.useState)(!1),l=(0,a.useRef)(null),p=e=>{l.current&&!l.current.contains(e.target)&&i(!1)};return(0,a.useEffect)((()=>(c?document.addEventListener("mousedown",p):document.removeEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)})),[c]),(0,r.jsxs)("div",{className:"select-date",style:{position:"relative"},ref:l,children:[(0,r.jsx)("div",{onClick:()=>i((e=>!e)),style:{cursor:"pointer"},children:null!==n&&void 0!==n&&n.startDate&&null!==n&&void 0!==n&&n.endDate?(0,r.jsx)(d,{startDate:n.startDate,endDate:n.endDate}):(0,r.jsx)("span",{className:"iconStyleCircle iconStyleCircleRight "+(c?"active":""),children:(0,r.jsx)(s.A,{color:c?"#1AB2FF":"#475467",size:18})})}),c&&(0,r.jsx)("div",{className:"select-date-range",style:{position:"absolute",bottom:"40px",background:"#fff",zIndex:1e3},children:(0,r.jsx)(o.A,{onDataApply:e=>{t(e),i(!1)},dateRange:n,onClose:()=>i(!1)})})]})}},34168:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(65043),s=(n(7245),n(27965)),o=n(70579);const r=e=>{let{onDataApply:t,dateRange:n,onClose:r}=e;const[c,d]=(0,a.useState)([]),i=(0,a.useRef)(null),[l,p]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(!1),[g,y]=(0,a.useState)("");(0,a.useEffect)((()=>{n&&(d([null===n||void 0===n?void 0:n.startDate,null===n||void 0===n?void 0:n.endDate]),p(null===n||void 0===n?void 0:n.startDate),m(null===n||void 0===n?void 0:n.endDate))}),[]),(0,a.useEffect)((()=>{const e=new Date,t=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;y(t)}),[]);(0,a.useEffect)((()=>{if(2===c.length){const e=c[0],t=c[1];p(e),m(t)}else if(1===c.length){const e=c[0];p(e)}}),[c]);(0,a.useEffect)((()=>{}),[f]);const w=()=>{const e=new Date;d([e,e])};return(0,a.useEffect)((()=>{if(l||u){if(l&&u){const e={year:"numeric",month:"short",day:"numeric"},t=`<p>${`${new Date(l).toLocaleDateString("en-US",e)} - ${new Date(u).toLocaleDateString("en-US",e)}`}</p><span class="today-span" style="cursor: pointer">Today</span>`,n=document.querySelector(".flatpickr-months");if(n){const e=document.querySelector(".custom-div");if(e)e.innerHTML=t;else{const e=document.createElement("div");e.className="custom-div",e.innerHTML=t,n.parentNode.insertBefore(e,n.nextSibling)}}}}else{const e=new Date;p(e),m(e)}}),[l,u]),(0,a.useEffect)((()=>{const e=document.querySelector(".today-span");return e&&e.addEventListener("click",w),()=>{e&&e.removeEventListener("click",w)}}),[l,u]),(0,o.jsxs)("div",{children:[(0,o.jsx)(s.A,{options:{dateFormat:"Y-m-d",mode:"range",locale:{firstDayOfWeek:1},inline:!0},value:c,onChange:e=>{d(e)},ref:i}),(0,o.jsxs)("div",{className:"calenderBut",children:[(0,o.jsx)("button",{className:"tabCancel",onClick:()=>{d([]),p(null),m(null),h(!1),r&&r();const e=document.querySelector(".custom-div p");e&&(e.textContent=`${g}`)},children:"Cancel"}),(0,o.jsx)("button",{className:"tabApply",onClick:()=>{h(!0),t({startDate:l,endDate:u});const e=document.querySelector(".tags-input-container .rangedatepicker .mainWrapperTags");e&&(e.textContent=`${l.toISOString().split("T")[0]} - ${u.toISOString().split("T")[0]}`)},children:"Apply"})]})]})}},86809:()=>{}}]);
//# sourceMappingURL=1771.9735de9f.chunk.js.map