"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[3613],{70016:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(65043),o=n(61072),i=n(14282),a=n(38294),s=n(95192),l=n(36237),c=n(44541),p=n(73216),u=n(35475),d=n(63712),f=n(56328),m=n(33074),y=n(70579);const b=()=>{const{id:e}=(0,p.g)(),t=(0,p.Zp)(),n=(0,r.useRef)(null),[b,v]=(0,r.useState)(null),[h,j]=(0,r.useState)(!1),[g]=(0,r.useState)({payment_terms:1,category:"",phone:{country:"",number:""},contact_persons:[{}],addresses:[{title:"Main Location",country:1}]});return(0,y.jsx)("div",{className:"newQuotePage existingClients borderSkyColor",children:(0,y.jsxs)("div",{style:{height:"calc(100vh - 249px)"},children:[(0,y.jsx)("div",{className:"newQuoteBack",children:(0,y.jsx)(u.k2,{to:e?"/sales/newquote/selectyourclient/existing-clients":"/sales/newquote/selectyourclient/new-clients",children:(0,y.jsxs)("button",{children:[(0,y.jsx)(a.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,y.jsxs)("div",{className:"newQuoteContent h-100",children:[(0,y.jsx)("div",{className:"navStepClient",children:(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:(0,y.jsx)(s.A,{color:"#D0D5DD",size:15})})," ",(0,y.jsx)("p",{children:"Choose Client"})]}),(0,y.jsxs)("li",{className:"activeClientTab",children:[(0,y.jsx)("span",{children:(0,y.jsx)(l.A,{color:"#D0D5DD",size:15})})," ",(0,y.jsx)("p",{children:"Client Information"})," "]}),(0,y.jsxs)("li",{className:"deactiveColorBox",children:[(0,y.jsx)("span",{children:(0,y.jsx)(c.A,{color:"#D0D5DD",size:15})})," ",(0,y.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,y.jsxs)("div",{className:"individual height customscrollBar",children:[(0,y.jsx)("div",{className:"formgroupWrap1",children:(0,y.jsx)("ul",{className:"mt-4",children:(0,y.jsx)("li",{children:(0,y.jsxs)(u.k2,{className:"ActiveClient businessTab",to:"#",children:[(0,y.jsx)("span",{children:(0,y.jsx)(c.A,{color:"#1AB2FF ",size:24})})," Business Client"]})})})}),(0,y.jsx)("div",{className:"formgroupboxs businessFormInQuote",style:{padding:"24px 10px 0px 10px"},children:(0,y.jsxs)(o.A,{className:"text-left pt-3 rounded px-2",style:{background:"#fff"},children:[(0,y.jsx)("h2",{style:{marginBottom:"16px"},children:"Company Details"}),(0,y.jsx)(m.A,{photo:b,setPhoto:v,ref:n,onSubmit:async e=>{const n=new FormData;if(n.append("name",e.name),e.abn&&n.append("abn",e.abn),n.append("phone",e.phone),n.append("email",e.email),e.website&&n.append("website",e.website),n.append("payment_terms",e.payment_terms),"0"!=e.category&&n.append("category",e.category),n.append("industry",e.industry),e.description&&n.append("description",e.description),e.addresses.forEach(((e,t)=>{e.city&&(n.append(`addresses[${t}]address`,e.address),n.append(`addresses[${t}]city`,e.city),n.append(`addresses[${t}]postcode`,e.postcode),n.append(`addresses[${t}]is_main`,e.is_main),n.append(`addresses[${t}]title`,e.title))})),e.contact_persons.forEach(((e,t)=>{(e.firstname||e.email)&&(n.append(`contact_persons[${t}]firstname`,e.firstname),n.append(`contact_persons[${t}]lastname`,e.lastname),n.append(`contact_persons[${t}]email`,e.email),n.append(`contact_persons[${t}]phone`,e.phone),n.append(`contact_persons[${t}]position`,e.position),n.append(`contact_persons[${t}]is_main`,e.is_main))})),null!==b&&void 0!==b&&b.croppedImageBlob){const e=(0,d.Ak)(6);n.append("photo",null===b||void 0===b?void 0:b.croppedImageBlob,`${e}.jpg`)}try{j(!0);const e=localStorage.getItem("access_token"),r=await fetch("https://app.memate.com.au/api/v1/clients/business/new/",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:n});if(r.ok){f.oR.success("New client created successfully");const e=await r.json();t(`/sales/newquote/selectyourclient/client-information/scope-of-work/${null===e||void 0===e?void 0:e.id}`)}else{const e=await r.json();f.oR.error(e||"Failed to create new client. Please try again.")}}catch(r){console.log("Error in creating new business client: ",r),f.oR.error("Failed to create new client. Please try again.")}finally{j(!1)}},defaultValues:g,deleteAddress:()=>{},deleteContact:()=>{}})]})})]}),(0,y.jsxs)("div",{className:"individual bottomBox",children:[(0,y.jsx)(u.N_,{to:"/sales",children:(0,y.jsx)(i.A,{type:"button",className:"cancel-button",children:"Cancel"})}),(0,y.jsx)(i.A,{type:"button",disabled:h,onClick:()=>{n.current&&n.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},className:"submit-button",children:h?"Loading...":"Next Step"})]})]})]})})}},28676:(e,t,n)=>{n.d(t,{C:()=>m});var r=n(65043),o=n(84052),i=n(2028),a=n(4504);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var p={root:function(e){var t=e.props;return(0,a.xW)("p-icon-field",{"p-icon-field-right":"right"===t.iconPosition,"p-icon-field-left":"left"===t.iconPosition})}},u=n(41828).x.extend({defaultProps:{__TYPE:"IconField",__parentMetadata:null,children:void 0,className:null,iconPosition:"right"},css:{classes:p}});function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=c(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=r.memo(r.forwardRef((function(e,t){var n=(0,r.useRef)(t),l=(0,i.qV)(),c=(0,r.useContext)(o.UM),p=u.getProps(e,c),d=u.setMetaData(f(f({props:p},p.__parentMetadata),{},{context:{iconPosition:p.iconPosition}})),m=d.ptm,y=d.cx,b=l({className:(0,a.xW)(p.className,y("root",{iconPosition:p.iconPosition}))},u.getOtherProps(p),m("root"));return r.createElement("div",s({},b,{ref:n}),p.children)})));m.displayName="IconField"},74532:(e,t,n)=>{n.d(t,{m:()=>f});var r=n(65043),o=n(2028),i=n(84052),a=n(41828),s=n(4504);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function p(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var u=a.x.extend({defaultProps:{__TYPE:"InputIcon",__parentMetadata:null,className:null},css:{classes:{root:"p-input-icon"}}});function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=r.memo(r.forwardRef((function(e,t){var n=(0,r.useRef)(t),a=(0,o.qV)(),c=(0,r.useContext)(i.UM),f=u.getProps(e,c),m=u.setMetaData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=p(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({props:f},f.__parentMetadata)),y=m.ptm,b=m.cx,v=a({className:(0,s.xW)(f.className,b("root"))},u.getOtherProps(f),y("root"));return r.createElement(r.Fragment,null,r.createElement("span",l({},v,{ref:n}),f.children))})));f.displayName="InputIcon"},72052:(e,t,n)=>{n.d(t,{S:()=>v});var r=n(65043),o=n(84052),i=n(41828),a=n(2028),s=n(2224),l=n(1356),c=n(4504);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var f={root:function(e){var t=e.props,n=e.isFilled,r=e.context;return(0,c.xW)("p-inputtext p-component",{"p-disabled":t.disabled,"p-filled":n,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:r&&"filled"===r.inputStyle})}},m=i.x.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1},css:{classes:f}});function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=d(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=r.memo(r.forwardRef((function(e,t){var n=(0,a.qV)(),u=r.useContext(o.UM),d=m.getProps(e,u),f=m.setMetaData(b(b({props:d},d.__parentMetadata),{},{context:{disabled:d.disabled}})),y=f.ptm,v=f.cx,h=f.isUnstyled;(0,i.j)(m.css.styles,h,{name:"inputtext",styled:!0});var j=r.useRef(t);r.useEffect((function(){c.BF.combinedRefs(j,t)}),[j,t]);var g=r.useMemo((function(){return c.BF.isNotEmpty(d.value)||c.BF.isNotEmpty(d.defaultValue)}),[d.value,d.defaultValue]),O=c.BF.isNotEmpty(d.tooltip),x=n({className:(0,c.xW)(d.className,v("root",{context:u,isFilled:g})),onBeforeInput:function(e){d.onBeforeInput&&d.onBeforeInput(e),d.keyfilter&&s.Q.onBeforeInput(e,d.keyfilter,d.validateOnly)},onInput:function(e){var t=e.target,n=!0;d.keyfilter&&d.validateOnly&&(n=s.Q.validate(e,d.keyfilter)),d.onInput&&d.onInput(e,n),c.BF.isNotEmpty(t.value)?c.DV.addClass(t,"p-filled"):c.DV.removeClass(t,"p-filled")},onKeyDown:function(e){d.onKeyDown&&d.onKeyDown(e),d.keyfilter&&s.Q.onKeyPress(e,d.keyfilter,d.validateOnly)},onPaste:function(e){d.onPaste&&d.onPaste(e),d.keyfilter&&s.Q.onPaste(e,d.keyfilter,d.validateOnly)}},m.getOtherProps(d),y("root"));return r.createElement(r.Fragment,null,r.createElement("input",p({ref:j},x)),O&&r.createElement(l.m,p({target:j,content:d.tooltip,pt:y("tooltip")},d.tooltipOptions)))})));v.displayName="InputText"},38294:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(65043),o=n(65173),i=n.n(o),a=["color","size","title","className"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=(0,r.forwardRef)((function(e,t){var n=e.color,o=e.size,i=e.title,c=e.className,p=l(e,a);return r.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-chevron-left",c].filter(Boolean).join(" ")},p),i?r.createElement("title",null,i):null,r.createElement("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"}))}));c.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const p=c}}]);
//# sourceMappingURL=3613.a47f2866.chunk.js.map