{"version":3,"file":"static/js/9439.8fa471ce.chunk.js","mappings":"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","sources":["../node_modules/suneditor/src/lang|/Users/souravsantra/Develop/freelance/charru-tower/ReactMemate-main/node_modules/suneditor/src/lang|sync|/^/.//.*/.js$","shared/ui/editor/sun-editor-component.js","webpack://memateapp/./src/components/Business/features/sales-features/create-proposal/file-uploader/file-uploader.module.scss?611f","components/Business/features/sales-features/create-proposal/file-uploader/file-uploader.js","components/Business/features/sales-features/create-proposal/file-uploader/utils.js","shared/ui/editor/editor-header-template.js"],"sourcesContent":["var map = {\n\t\"./ckb.js\": 23743,\n\t\"./cs.js\": 7333,\n\t\"./da.js\": 11664,\n\t\"./de.js\": 30844,\n\t\"./en.js\": 5460,\n\t\"./es.js\": 6151,\n\t\"./fa.js\": 96062,\n\t\"./fr.js\": 27755,\n\t\"./he.js\": 3296,\n\t\"./hu.js\": 33776,\n\t\"./index.js\": 70559,\n\t\"./it.js\": 54762,\n\t\"./ja.js\": 80074,\n\t\"./km.js\": 27671,\n\t\"./ko.js\": 20665,\n\t\"./lv.js\": 90749,\n\t\"./nl.js\": 66449,\n\t\"./pl.js\": 48599,\n\t\"./pt_br.js\": 48366,\n\t\"./ro.js\": 73100,\n\t\"./ru.js\": 34638,\n\t\"./se.js\": 55111,\n\t\"./tr.js\": 10057,\n\t\"./ua.js\": 79657,\n\t\"./ur.js\": 64640,\n\t\"./zh_cn.js\": 25277\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 32224;","import { useCallback, useRef, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport SunEditor from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css';\n\nconst SunEditorComponent = ({\n    value = '',\n    onChange,\n    placeholder = 'Enter content...',\n    height = 299,\n    showTable = true,\n    showLink = true,\n    disabled = false,\n    className = '',\n    customOptions = {},\n    onLoad,\n    onFocus,\n    onBlur,\n    enableS3Upload = false,\n    s3UploadEndpoint = null,\n    uploadId = null,\n    ...props\n}) => {\n\n    // State for upload progress and drag states\n    const [uploadProgress, setUploadProgress] = useState({});\n    const [processingBase64, setProcessingBase64] = useState(false);\n    \n    // Cache to store already uploaded base64 images to prevent duplicate uploads\n    const uploadCacheRef = useRef(new Map());\n\n    // Clean up cache periodically to prevent memory leaks\n    useEffect(() => {\n        const cleanupInterval = setInterval(() => {\n            const cache = uploadCacheRef.current;\n            if (cache.size > 50) { // Limit cache to 50 entries\n                const entries = Array.from(cache.entries());\n                const toKeep = entries.slice(-25); // Keep latest 25 entries\n                uploadCacheRef.current = new Map(toKeep);\n                // console.log('Cleaned up upload cache, kept', toKeep.length, 'entries');\n            }\n        }, 60000); // Check every minute\n\n        return () => clearInterval(cleanupInterval);\n    }, []);\n\n    // Auto-clear upload progress error/success after a delay\n    useEffect(() => {\n        if (uploadProgress.error || uploadProgress.success) {\n            const timer = setTimeout(() => {\n                setUploadProgress({});\n            }, 2000);\n            return () => clearTimeout(timer);\n        }\n    }, [uploadProgress.error, uploadProgress.success]);\n\n    // Ref for SunEditor instance (populated in handleLoad)\n    const editorInstanceRef = useRef(null);\n    \n    // Keep currentContentRef in sync with value prop (for reference only)\n    const currentContentRef = useRef(value);\n    \n    useEffect(() => {\n        currentContentRef.current = value;\n    }, [value]);    // Utility function to check if an image is already hosted on S3\n    const isS3Image = useCallback((src) => {\n        if (!src || typeof src !== 'string') return false;\n        \n        // Check for common S3 URL patterns\n        const s3Patterns = [\n            /^https?:\\/\\/.*\\.s3\\..*\\.amazonaws\\.com\\//,\n            /^https?:\\/\\/s3\\..*\\.amazonaws\\.com\\//,\n            /^https?:\\/\\/.*\\.s3\\.amazonaws\\.com\\//,\n            /^https?:\\/\\/.*\\.digitaloceanspaces\\.com\\//,\n            // Add your specific S3 bucket pattern here if needed\n            new RegExp(`^https?://${process.env.REACT_APP_S3_BUCKET || '.*'}\\\\.s3\\\\..*\\\\.amazonaws\\\\.com/`)\n        ];\n        \n        return s3Patterns.some(pattern => pattern.test(src));\n    }, []);\n\n    // Utility function to detect all images in content and categorize them\n    const categorizeImages = useCallback((content) => {\n        const allImageRegex = /<img[^>]+src=\"([^\"]+)\"[^>]*>/gi;\n        const base64Images = [];\n        const s3Images = [];\n        const otherImages = [];\n        let match;\n        \n        while ((match = allImageRegex.exec(content)) !== null) {\n            const fullMatch = match[0];\n            const src = match[1];\n            \n            if (src.startsWith('data:image/')) {\n                // Extract format and base64 data for base64 images\n                const base64Match = src.match(/^data:image\\/([^;]+);base64,(.+)$/);\n                if (base64Match) {\n                    base64Images.push({\n                        fullMatch,\n                        format: base64Match[1],\n                        base64Data: base64Match[2],\n                        src,\n                        index: match.index\n                    });\n                }\n            } else if (isS3Image(src)) {\n                s3Images.push({\n                    fullMatch,\n                    src,\n                    index: match.index\n                });\n            } else {\n                otherImages.push({\n                    fullMatch,\n                    src,\n                    index: match.index\n                });\n            }\n        }\n        \n        return { base64Images, s3Images, otherImages };\n    }, [isS3Image]);\n\n    // Utility function to convert base64 to File object\n    const base64ToFile = useCallback((base64Data, format, filename) => {\n        // Remove data URL prefix if present\n        const base64String = base64Data.replace(/^data:image\\/[a-z]+;base64,/, '');\n        \n        // Convert base64 to binary data\n        const byteCharacters = atob(base64String);\n        const byteNumbers = new Array(byteCharacters.length);\n        \n        for (let i = 0; i < byteCharacters.length; i++) {\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\n        }\n        \n        const byteArray = new Uint8Array(byteNumbers);\n        const blob = new Blob([byteArray], { type: `image/${format}` });\n        \n        return new File([blob], filename, { type: `image/${format}` });\n    }, []);\n\n    // Upload base64 image to S3 and return the S3 URL (with caching)\n    const uploadBase64ImageToS3 = useCallback(async (base64Data, format) => {\n        if (!enableS3Upload) return null;\n\n        // Create a hash of the base64 data for caching\n        const base64Hash = btoa(base64Data.substring(0, 100)); // Use first 100 chars as hash\n        \n        // Check if this image was already uploaded\n        if (uploadCacheRef.current.has(base64Hash)) {\n            const cachedUrl = uploadCacheRef.current.get(base64Hash);\n            // console.log('Using cached S3 URL for image:', cachedUrl);\n            return cachedUrl;\n        }\n\n        try {\n            const timestamp = Date.now();\n            const filename = `image-${timestamp}.${format}`;\n            const file = base64ToFile(base64Data, format, filename);\n\n            // Get signed URL\n            const accessToken = localStorage.getItem('access_token');\n            const endpoint = s3UploadEndpoint || `${process.env.REACT_APP_BACKEND_API_URL}/proposals/file/${uploadId}/`;\n\n            const response = await axios.post(\n                endpoint,\n                { file_name: filename },\n                {\n                    headers: {\n                        Authorization: `Bearer ${accessToken}`,\n                    },\n                }\n            );\n\n            const { url } = response.data;\n            if (!url) {\n                throw new Error(\"Failed to get upload URL\");\n            }\n\n            // Upload to S3\n            await axios.put(url, file, {\n                headers: {\n                    \"Content-Type\": \"\",\n                },\n            });\n\n            // Get the S3 URL (remove query parameters)\n            const s3Url = url.split(\"?\")[0] || \"\";\n            \n            // Cache the uploaded image\n            uploadCacheRef.current.set(base64Hash, s3Url);\n            // console.log('Cached new upload:', s3Url);\n            \n            return s3Url;\n\n        } catch (error) {\n            console.error(\"Error uploading base64 image to S3:\", error);\n            throw error;\n        }\n    }, [enableS3Upload, s3UploadEndpoint, uploadId, base64ToFile]);\n\n\n\n    // Render upload progress overlay\n    const renderUploadProgress = () => {\n        if (!uploadProgress?.uploading && !uploadProgress?.success && !uploadProgress?.error && !processingBase64) return null;\n\n        return (\n            <div style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                backgroundColor: 'rgba(255, 255, 255, 0.9)',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                zIndex: 1000,\n                borderRadius: '4px'\n            }}>\n                {(uploadProgress.uploading || processingBase64) && (\n                    <>\n                        <div style={{\n                            width: '60px',\n                            height: '60px',\n                            border: '4px solid #f3f3f3',\n                            borderTop: '4px solid #3498db',\n                            borderRadius: '50%',\n                            animation: 'spin 1s linear infinite',\n                            marginBottom: '16px'\n                        }}></div>\n                        <div style={{\n                            fontSize: '14px',\n                            fontWeight: '500',\n                            color: '#333',\n                            marginBottom: '8px'\n                        }}>\n                            {processingBase64 ? 'Processing images...' : 'Uploading image...'}\n                        </div>\n                        {uploadProgress.uploading && (\n                            <>\n                                <div style={{\n                                    width: '200px',\n                                    height: '6px',\n                                    backgroundColor: '#f0f0f0',\n                                    borderRadius: '3px',\n                                    overflow: 'hidden'\n                                }}>\n                                    <div style={{\n                                        width: `${uploadProgress.progress}%`,\n                                        height: '100%',\n                                        backgroundColor: '#3498db',\n                                        transition: 'width 0.3s ease'\n                                    }}></div>\n                                </div>\n                                <div style={{\n                                    fontSize: '12px',\n                                    color: '#666',\n                                    marginTop: '4px'\n                                }}>\n                                    {uploadProgress.progress}%\n                                </div>\n                            </>\n                        )}\n                    </>\n                )}\n                {uploadProgress.success && (\n                    <div style={{ textAlign: 'center' }}>\n                        <div style={{\n                            width: '50px',\n                            height: '50px',\n                            backgroundColor: '#27ae60',\n                            borderRadius: '50%',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            margin: '0 auto 16px'\n                        }}>\n                            <span style={{ color: 'white', fontSize: '24px' }}>✓</span>\n                        </div>\n                        <div style={{ fontSize: '14px', color: '#27ae60' }}>\n                            Upload completed!\n                        </div>\n                    </div>\n                )}\n                {uploadProgress.error && (\n                    <div style={{ textAlign: 'center' }}>\n                        <div style={{\n                            width: '50px',\n                            height: '50px',\n                            backgroundColor: '#e74c3c',\n                            borderRadius: '50%',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            margin: '0 auto 16px'\n                        }}>\n                            <span style={{ color: 'white', fontSize: '24px' }}>✗</span>\n                        </div>\n                        <div style={{ fontSize: '14px', color: '#e74c3c' }}>\n                            Upload failed\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    };\n\n\n\n    // Default button configuration\n    const getButtonList = () => {\n        const buttons = [\n            ['undo', 'redo'],\n            ['bold', 'italic', 'underline', 'strike'],\n            ['formatBlock'],\n            ['list'],\n            ['align'],\n            ['image'],\n        ];\n\n        // Conditionally add buttons based on props\n        if (showLink) buttons.push(['link']);\n        if (showTable) buttons.push(['table']);\n\n        return buttons;\n    };\n\n\n    // Default SunEditor configuration\n    const defaultOptions = {\n        buttonList: getButtonList(),\n        height: height,\n        placeholder: placeholder,\n        showPathLabel: false,\n        charCounter: false,\n        resizingBar: false,\n        disable: disabled,\n        // Custom image handler for S3 upload\n        imageUploadUrl: enableS3Upload ? null : undefined,\n        // Table configuration\n        table: {\n            headerStyle: 'background-color: #f8f9fa; font-weight: bold; padding: 8px; min-width: 50px; border: none;',\n            cellStyle: 'padding: 8px; min-width: 50px; border: none;'\n        },\n        // Image configuration\n        imageUploadHeader: enableS3Upload ? undefined : {\n            'Authorization': `Bearer ${localStorage.getItem('access_token') || ''}`\n        },\n        // Format options\n        formats: ['p', 'div', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n        // Font options\n        font: ['Arial', 'Helvetica', 'Georgia', 'Times New Roman', 'Courier New'],\n        fontSize: [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72],\n        // Color options\n        colorList: [\n            ['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F3F7', '#FFFFFF'],\n            ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'],\n            ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'],\n            ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'],\n            ['#E76363', '#FF9C63', '#FFCE63', '#9CDE9C', '#63B5CE', '#639CFF', '#9C63E7', '#CE639C'],\n            ['#E73131', '#FF7031', '#FFB531', '#73DE73', '#319CCE', '#3173FF', '#7331E7', '#CE3173'],\n            ['#9C0000', '#B56308', '#9C9C00', '#089C00', '#008294', '#0031FF', '#4A0A77', '#9C005A'],\n            ['#630000', '#7B3900', '#636300', '#006300', '#005A6B', '#002173', '#290A4A', '#630039']\n        ]\n    };\n\n    // Merge custom options with default options\n    const editorOptions = {\n        ...defaultOptions,\n        ...customOptions,\n        // Ensure buttonList is properly merged\n        buttonList: customOptions.buttonList || defaultOptions.buttonList\n    };\n\n    const handleChange = async (content) => {\n        // Check if S3 upload is enabled and content contains images\n        if (enableS3Upload && content && typeof content === 'string') {\n            const { base64Images, s3Images } = categorizeImages(content);\n            \n            // Only process base64 images (skip S3 images to prevent re-upload)\n            if (base64Images.length > 0) {\n                setProcessingBase64(true);\n                \n                try {\n                    let updatedContent = content;\n                    \n                    // Process each base64 image\n                    for (const imageMatch of base64Images) {\n                        const { fullMatch, format, base64Data } = imageMatch;\n                        \n                        // Upload to S3\n                        const s3Url = await uploadBase64ImageToS3(base64Data, format);\n                        \n                        if (s3Url) {\n                            // Replace base64 image with S3 URL in content\n                            const newImgTag = fullMatch.replace(\n                                /src=\"data:image\\/[^;]+;base64,[^\"]+\"/,\n                                `src=\"${s3Url}\"`\n                            );\n                            updatedContent = updatedContent.replace(fullMatch, newImgTag);\n                            console.log('Replaced base64 image with S3 URL:', s3Url);\n                        }\n                    }\n                    \n                    setProcessingBase64(false);\n                    \n                    // Call onChange with updated content containing S3 URLs\n                    if (onChange && updatedContent !== content) {\n                        onChange(updatedContent);\n                        return;\n                    }\n                } catch (error) {\n                    console.error('Error processing base64 images:', error);\n                    setProcessingBase64(false);\n                    toast.error('Failed to upload images. Please try again.');\n                }\n            } else if (s3Images.length > 0) {\n                // Content has S3 images but no new base64 images to process\n                console.log('Content contains only S3 images, no upload needed');\n            }\n        }\n        \n        // If no base64 images or S3 upload disabled, proceed normally\n        if (onChange) {\n            onChange(content);\n        }\n    };\n\n    const handleLoad = (sunEditor) => {\n        // Store the editor instance for later use\n        editorInstanceRef.current = sunEditor;\n\n        if (onLoad) {\n            onLoad(sunEditor);\n        }\n    };\n\n    const handleFocus = (event, sunEditor) => {\n        if (onFocus) {\n            onFocus(event, sunEditor);\n        }\n    };\n\n    const handleBlur = (event, sunEditor) => {\n        if (onBlur) {\n            onBlur(event, sunEditor);\n        }\n    };\n\n    return (\n        <>\n            <style>{`\n                @keyframes spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n                .sun-editor-wrapper .se-wrapper-inner *,\n                .sun-editor .se-resizing-container {\n                    z-index: 0 !important;\n                }\n            `}</style>\n            <div\n                className={`sun-editor-wrapper ${className}`}\n                style={{ position: 'relative' }}\n            >\n                <SunEditor\n                    setOptions={editorOptions}\n                    setContents={value}\n                    onChange={handleChange}\n                    onLoad={handleLoad}\n                    onFocus={handleFocus}\n                    onBlur={handleBlur}\n                    {...props}\n                />\n\n                {/* Upload Progress Overlay */}\n                {renderUploadProgress()}\n            </div>\n        </>\n    );\n};\n\nexport default SunEditorComponent;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"file-uploader_title__MJFJ7\",\"previewSection\":\"file-uploader_previewSection__ot4jI\",\"previewBox\":\"file-uploader_previewBox__KC4if\",\"previewBoxImg1\":\"file-uploader_previewBoxImg1__rKP04\",\"previewBoxImg2\":\"file-uploader_previewBoxImg2__7XwSP\",\"previewBoxImg3\":\"file-uploader_previewBoxImg3__7luuQ\",\"previewBoxImg4\":\"file-uploader_previewBoxImg4__EcGdL\",\"previewBoxImg5\":\"file-uploader_previewBoxImg5__2ZZPh\",\"previewActions\":\"file-uploader_previewActions__r3LWm\",\"label\":\"file-uploader_label__pWhYK\",\"label2\":\"file-uploader_label2__N-JEM\"};","import React, { useCallback, useEffect, useState } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport { ArrowClockwise, CloudUpload } from 'react-bootstrap-icons';\nimport { useDropzone } from 'react-dropzone';\nimport Cropper from 'react-easy-crop';\nimport clsx from 'clsx';\nimport Form from 'react-bootstrap/Form';\nimport { toast } from 'sonner';\nimport styles from './file-uploader.module.scss';\nimport { base64ToBlob } from './utils';\n\nconst FileUploader = ({ show, setShow, setPhoto, additionalDesign, shape=\"rect\" }) => {\n    const [files, setFiles] = useState([]);\n    const [crop, setCrop] = useState({ x: 0, y: 0 });\n    const [zoom, setZoom] = useState(1);\n    const [rotation, setRotation] = useState(0);\n    const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n    const [croppedImages, setCroppedImages] = useState({});\n\n    const handleClose = () => setShow(false);\n\n    const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n        setCroppedAreaPixels(croppedAreaPixels);\n    }, []);\n\n    const getCroppedImg = useCallback(async () => {\n        if (!files.length || !croppedAreaPixels) return;\n\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        const img = new Image();\n        img.src = files[0].preview;\n        await new Promise((resolve) => (img.onload = resolve));\n\n        // Set canvas dimensions to the cropped area's dimensions\n        canvas.width = croppedAreaPixels.width;\n        canvas.height = croppedAreaPixels.height;\n\n        // Translate canvas to center to rotate around the center\n        ctx.translate(canvas.width / 2, canvas.height / 2);\n        ctx.rotate((rotation * Math.PI) / 180);\n        ctx.translate(-canvas.width / 2, -canvas.height / 2);\n\n        ctx.drawImage(\n            img,\n            croppedAreaPixels.x,\n            croppedAreaPixels.y,\n            croppedAreaPixels.width,\n            croppedAreaPixels.height,\n            0,\n            0,\n            croppedAreaPixels.width,\n            croppedAreaPixels.height\n        );\n\n        const base64Image = canvas.toDataURL('image/jpeg');\n        return base64Image;\n    }, [files, croppedAreaPixels, rotation]);\n\n    const generateCroppedImages = async () => {\n        const croppedImage = await getCroppedImg();\n        if (croppedImage) {\n            setCroppedImages({\n                img2: croppedImage,\n                img3: croppedImage,\n                img4: croppedImage,\n                img5: croppedImage,\n            });\n        }\n    };\n\n    useEffect(() => {\n        generateCroppedImages();\n    }, [zoom, crop, rotation, files, croppedAreaPixels]);\n\n    const {\n        getRootProps,\n        getInputProps\n    } = useDropzone({\n        maxFiles: 1,\n        accept: {\n            'image/*': []\n        },\n        onDrop: acceptedFiles => {\n            setFiles(acceptedFiles.map(file => Object.assign(file, {\n                preview: URL.createObjectURL(file)\n            })));\n        }\n    });\n\n    const remove = (e) => {\n        e.stopPropagation();\n        setFiles([]);\n        setCroppedImages({});\n        setShow(false);\n    };\n\n    const rotateImage = () => {\n        setRotation((prevRotation) => (prevRotation + 90) % 360);\n    };\n\n    const handleImage = async () => {\n        const croppedImageBase64 = await getCroppedImg();\n        if (!croppedImageBase64) return toast.error('Please select a photo');\n        const croppedImageBlob = base64ToBlob(croppedImageBase64, 'image/jpeg');\n        setPhoto({ croppedImageBase64, croppedImageBlob });\n        setShow(false);\n        setFiles([]);\n        setCroppedImages({});\n    };\n\n    return (\n        <Modal style={{ zIndex: 1111 }} show={show} centered onHide={handleClose} onShow={generateCroppedImages}>\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    <span className={`${styles.title}`}>Edit Photo</span>\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {additionalDesign}\n                <div className={`${styles.previewSection}`}>\n                    <div className={`${styles.previewBox}`}>\n                        <div className={clsx(styles.previewBoxImg1, shape === 'round' ? 'rounded-circle' : '')}>\n                            <Cropper\n                                image={files.length > 0 ? files[0].preview : null}\n                                crop={crop}\n                                zoom={zoom}\n                                cropShape={shape}\n                                rotation={rotation}\n                                onCropChange={setCrop}\n                                onZoomChange={setZoom}\n                                onCropComplete={onCropComplete}\n                                aspect={3/2} // or remove this if you want a flexible aspect ratio\n                                restrictPosition={false} // Allow full movement within the bounds\n                                style={{\n                                    containerStyle: {\n                                        width: '100%',\n                                        height: '100%',\n                                        position: 'relative',\n                                    },\n                                    cropAreaStyle: {\n                                        width: '100%',\n                                        height: '100%',\n                                    },\n                                    mediaStyle: {\n                                        width: '100%',\n                                        height: '100%',\n                                        objectFit: 'contain',\n                                    },\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <div className={`${styles.previewActions}`}>\n                        <Form.Group>\n                            <Form.Label className={`${styles.label}`}>Zoom</Form.Label>\n                            <Form.Range\n                                value={zoom}\n                                min={1}\n                                max={3}\n                                step={0.1}\n                                className='custom-range'\n                                onChange={(e) => setZoom(e.target.value)}\n                            />\n                        </Form.Group>\n                        <div className='d-flex align-item-center pt-4 ms-4' style={{ gap: '8px' }}>\n                            <Button className='text-button' onClick={rotateImage}>\n                                <ArrowClockwise color='#106B99' size={24} />\n                                Rotate\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n\n                <div {...getRootProps({ className: 'dropzone d-flex justify-content-center align-items-center flex-column' })} style={{ width: '100%', height: '126px', background: '#fff', borderRadius: '4px', border: '1px solid #EAECF0', marginTop: '16px' }}>\n                    <input {...getInputProps()} />\n                    <button type='button' className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', border: '1px solid #EAECF0', background: '#fff', borderRadius: '8px', marginBottom: '16px' }}>\n                        <CloudUpload />\n                    </button>\n                    <p className='mb-0' style={{ color: '#475467', fontSize: '14px' }}><span style={{ color: '#106B99', fontWeight: '600' }}>Click to upload</span> or drag and drop</p>\n                    <span style={{ color: '#475467', fontSize: '12px' }}>SVG, PNG, JPG or GIF (max. 800x400px)</span>\n                </div>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-end'>\n                <Button className='outline-button' onClick={remove}>Cancel</Button>\n                <Button className='solid-button' onClick={handleImage}>Save Photo</Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default FileUploader;\n","import { nanoid } from \"nanoid\";\n\nexport function base64ToBlob(base64, mime) {\n    const byteString = atob(base64.split(',')[1]);\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type: mime });\n}\n\nexport const base64ToFile = (base64String) => {\n    const photoHintId = nanoid(6);\n    const fileName = `${photoHintId}.jpg`;\n    const byteString = atob(base64String.split(',')[1]); // Decode Base64 string\n    const mimeString = base64String.split(',')[0].split(':')[1].split(';')[0]; // Get MIME type\n\n    const arrayBuffer = new ArrayBuffer(byteString.length);\n    const uint8Array = new Uint8Array(arrayBuffer);\n\n    for (let i = 0; i < byteString.length; i++) {\n        uint8Array[i] = byteString.charCodeAt(i);\n    }\n\n    return new File([uint8Array], fileName, { type: mimeString });\n};","export const renderHeader = () => {\n    return (\n        <>\n            <span className=\"ql-formats\">\n                <button className=\"ql-bold me-1\" aria-label=\"Bold\"></button>\n                <button className=\"ql-italic me-1\" aria-label=\"Italic\"></button>\n                <button className=\"ql-underline me-1\" aria-label=\"Underline\"></button>\n            </span>\n            <span className=\"ql-formats\">\n                <button className=\"ql-list me-1\" value=\"ordered\" aria-label=\"Ordered List\" />\n                <button className=\"ql-list me-1\" value=\"bullet\" aria-label=\"Unordered List\" />\n                <button className=\"ql-indent me-1\" value=\"-1\" aria-label=\"Indent\" />\n                <button className=\"ql-indent me-1\" value=\"+1\" aria-label=\"Outdent\" />\n            </span>\n            <span className=\"ql-formats\">\n                <select className=\"ql-size me-1\">\n                    <option value=\"small\">Small</option>\n                    <option value=\"\" selected>Normal</option>\n                    <option value=\"large\">Large</option>\n                    <option value=\"huge\">Huge</option>\n                </select>\n                <select className=\"ql-color me-1\" />\n                <button className=\"ql-link me-1\" value=\"+1\" aria-label=\"Outdent\" />\n            </span>\n        </>\n    );\n};"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","_ref","value","onChange","placeholder","height","showTable","showLink","disabled","className","customOptions","onLoad","onFocus","onBlur","enableS3Upload","s3UploadEndpoint","uploadId","props","uploadProgress","setUploadProgress","useState","processingBase64","setProcessingBase64","uploadCacheRef","useRef","Map","useEffect","cleanupInterval","setInterval","cache","current","size","toKeep","Array","from","entries","slice","clearInterval","error","success","timer","setTimeout","clearTimeout","editorInstanceRef","currentContentRef","isS3Image","useCallback","src","RegExp","process","REACT_APP_S3_BUCKET","some","pattern","test","categorizeImages","content","allImageRegex","base64Images","s3Images","otherImages","match","exec","fullMatch","startsWith","base64Match","push","format","base64Data","index","base64ToFile","filename","base64String","replace","byteCharacters","atob","byteNumbers","length","i","charCodeAt","byteArray","Uint8Array","blob","Blob","type","File","uploadBase64ImageToS3","async","base64Hash","btoa","substring","has","get","Date","now","file","accessToken","localStorage","getItem","endpoint","response","axios","post","file_name","headers","Authorization","url","data","put","s3Url","split","set","console","defaultOptions","buttonList","getButtonList","buttons","showPathLabel","charCounter","resizingBar","disable","imageUploadUrl","undefined","table","headerStyle","cellStyle","imageUploadHeader","formats","font","fontSize","colorList","editorOptions","_jsxs","_Fragment","children","_jsx","style","position","SunEditor","setOptions","setContents","updatedContent","imageMatch","newImgTag","log","toast","sunEditor","handleFocus","event","handleBlur","uploading","top","left","right","bottom","backgroundColor","display","flexDirection","alignItems","justifyContent","zIndex","borderRadius","width","border","borderTop","animation","marginBottom","fontWeight","color","overflow","progress","transition","marginTop","textAlign","margin","show","setShow","setPhoto","additionalDesign","shape","files","setFiles","crop","setCrop","x","y","zoom","setZoom","rotation","setRotation","croppedAreaPixels","setCroppedAreaPixels","croppedImages","setCroppedImages","onCropComplete","croppedArea","getCroppedImg","canvas","document","createElement","ctx","getContext","img","Image","preview","Promise","onload","translate","rotate","Math","PI","drawImage","toDataURL","generateCroppedImages","croppedImage","img2","img3","img4","img5","getRootProps","getInputProps","useDropzone","maxFiles","accept","onDrop","acceptedFiles","assign","URL","createObjectURL","Modal","centered","onHide","handleClose","onShow","Header","closeButton","Title","styles","Body","clsx","Cropper","image","cropShape","onCropChange","onZoomChange","aspect","restrictPosition","containerStyle","cropAreaStyle","mediaStyle","objectFit","Form","Group","Label","Range","min","max","step","target","gap","Button","onClick","rotateImage","prevRotation","ArrowClockwise","background","CloudUpload","Footer","stopPropagation","croppedImageBase64","croppedImageBlob","base64","mime","byteString","ab","ArrayBuffer","ia","base64ToBlob","renderHeader","selected"],"sourceRoot":""}