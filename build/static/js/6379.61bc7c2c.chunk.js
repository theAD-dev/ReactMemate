"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[6379],{10586:(e,t,s)=>{s.d(t,{$R:()=>o,Bu:()=>i,D3:()=>u,JP:()=>a,Rv:()=>d,Wz:()=>x,a_:()=>h,eY:()=>c,ik:()=>p,md:()=>r});var l=s(31342);const n="https://app.memate.com.au/api/v1",r=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4?arguments[4]:void 0;const i=(e-1)*t,o=new URL(`${n}/expenses/`);return o.searchParams.append("limit",t),o.searchParams.append("offset",i),s&&o.searchParams.append("search",s),r&&o.searchParams.append("ordering",r),a&&o.searchParams.append("status","not_paid"),(0,l.f)(o.toString(),{method:"GET"})},a=async()=>{const e=new URL(`${n}/references/xero-codes/`);return(0,l.f)(e.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${n}/references/projects/`);return(0,l.f)(e.toString(),{method:"GET"})},o=async e=>{const t=new URL(`${n}${`/expenses/update/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},d=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/expenses/new/`);return(0,l.f)(s.toString(),t)},c=async(e,t)=>{const s={method:"PUT",body:t},r=new URL(`${n}${`/expenses/update/${e}/`}`);return(0,l.f)(r.toString(),s)},u=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/expenses/paid/`);return(0,l.f)(s.toString(),t)},p=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/expenses/unpaid/`);return(0,l.f)(s.toString(),t)},h=async e=>{const t={method:"PUT",body:e},s=new URL(`${n}/expenses/to-xero/`);return(0,l.f)(s.toString(),t)},x=async e=>{const t=new URL(`${n}${`/expenses/delete/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})}},97810:(e,t,s)=>{s.r(t),s.d(t,{default:()=>G});var l=s(65043),n=s(14282),r=s(75329),a=s(39759),i=s(49367),o=s(2028),d=s(22927),c=s(58387),u=s(72018),p=s(9642),h=s(64824);const x={active:"task_active__XHjXL",selectedCount:"task_selectedCount__KCjbh",filterBox:"task_filterBox__Vl8TJ",newButton:"task_newButton__FgzVj",total:"task_total__iv2al",totalCount:"task_totalCount__g7jIX",shadowRight:"task_shadowRight__POYJ0",clientName:"task_clientName__bfmFM",complete:"task_complete__zEIDq",pending:"task_pending__4JfNO",projectImg:"task_projectImg__SdMAS",projectText:"task_projectText__2Lg5C",projectNumber:"task_projectNumber__bQcj7"};var m=s(79106),v=s(48417),g=s(58027),j=s(27734),f=s(99868),y=s(33183),b=s(93747),w=s(47097),N=s(61424),A=s(65975),_=s(72796),C=s(42265),k=s(42052),O=s(47994),T=s(51038),S=s(95192),B=s(8129),z=s(73722),E=s(56328),$=s(10586),P=s(12532),R=s(84678),F=s(35470),I=s(70579);const L=e=>{if(!e)return null;return new Date(1e3*+e)},D=e=>{var t,s,r,a,i,o,d,c,u,p;let{show:h,setShow:x,refetch:v,taskId:j,setTaskId:f,defaultValue:y}=e;const A=(0,l.useRef)(null),[C,k]=(0,l.useState)(!1),[D,M]=(0,l.useState)(""),[V,U]=(0,l.useState)(""),[q,H]=(0,l.useState)(""),[G,W]=(0,l.useState)(null),[Z,J]=(0,l.useState)(null),[K,X]=(0,l.useState)({taskTitle:!1,description:!1,project:!1,user:!1,date:!1});(0,l.useEffect)((()=>{var e,t;j&&y&&(M(null===y||void 0===y?void 0:y.title),U(null===y||void 0===y?void 0:y.description),H(null===y||void 0===y||null===(e=y.project)||void 0===e?void 0:e.id),W(null===y||void 0===y||null===(t=y.user)||void 0===t?void 0:t.id),J({startDate:L(null===y||void 0===y?void 0:y.from_date),endDate:L(null===y||void 0===y?void 0:y.to_date)}))}),[j,y]);const Y=()=>{M(""),U(""),H(""),W(null),J(null),k(!1),X({taskTitle:!1,description:!1,project:!1,user:!1,date:!1})},Q=(0,b.I)({queryKey:["getProjectsList"],queryFn:$.Bu}),ee=(0,b.I)({queryKey:["getUserList"],queryFn:m.aU}),te=(0,b.I)({queryKey:["getMobileUserList"],queryFn:m.gy});(0,l.useEffect)((()=>{h||Y()}),[h]);const se=(0,w.n)({mutationFn:e=>j?(0,m.lC)(j,e):(0,m.Af)(e),onSuccess:()=>{v(),x(!1),Y(),j&&f(null),E.oR.success(`Task ${j?"updated":"created"} successfully`)},onError:e=>{console.error(`Error ${j?"updating":"creating"} task:`,e),E.oR.error(`Failed to ${j?"update":"create"} client. Please try again.`)}});(0,l.useEffect)((()=>{if(C){X({taskTitle:!D,description:!V,project:!q,user:!G,date:!Z})}}),[D,V,q,G,Z,C]);const le=(0,w.n)({mutationFn:e=>(0,_.mM)(j),onSuccess:()=>{console.log("Delete success"),x(!1),v()},onError:e=>{console.error("Error creating task:",e)}});return(0,I.jsxs)(N.A,{show:h,centered:!0,onHide:()=>x(!1),className:"task-form",children:[(0,I.jsx)(N.A.Header,{closeButton:!0,children:(0,I.jsxs)(N.A.Title,{children:[(0,I.jsx)("img",{src:j?P.A:R.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,I.jsxs)("span",{className:"modal-task-title",children:[j?"Edit":"New"," Task"]})]})}),(0,I.jsxs)(N.A.Body,{style:{background:"#f9fafb"},children:[(0,I.jsxs)(z.A.Group,{className:"mb-3",children:[(0,I.jsx)(z.A.Label,{children:"Task Title"}),(0,I.jsxs)(O.A,{children:[(0,I.jsx)(z.A.Control,{required:!0,type:"text",placeholder:"Enter task title",value:D,onChange:e=>M(e.target.value)}),(0,I.jsx)(O.A.Text,{children:(0,I.jsx)(T.A,{})})]}),K.taskTitle&&(0,I.jsx)(z.A.Text,{className:"text-danger",children:"Task title is required"})]}),(0,I.jsxs)(z.A.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(z.A.Label,{children:"Description"}),(0,I.jsx)(z.A.Control,{as:"textarea",rows:3,placeholder:"Enter a description...",value:V,onChange:e=>U(e.target.value),required:!0}),K.description&&(0,I.jsx)(z.A.Text,{className:"text-danger",children:"Description is required"})]}),(0,I.jsxs)(z.A.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,I.jsx)(z.A.Label,{children:"Project Task"}),(0,I.jsx)(B.m,{options:(null===Q||void 0===Q||null===(t=Q.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:`${e.number}: ${e.reference}`}))))||[],onChange:e=>{H(e.value),console.log("e.value: ",e.value)},className:"w-100 outline-none",style:{height:"46px"},value:q,loading:null===Q||void 0===Q?void 0:Q.isFetching,placeholder:"Select project",filter:!0}),K.project&&(0,I.jsx)(z.A.Text,{className:"text-danger",children:"Project task is required"})]})]}),(0,I.jsxs)("div",{className:"d-flex align-items-center border-top px-3 py-2",children:[(0,I.jsxs)("div",{className:"d-flex align-items-center gap-4",children:[!G&&(0,I.jsx)(S.A,{color:null!==(s=A.current)&&void 0!==s&&null!==(r=s.panel)&&void 0!==r&&null!==(a=r.element)&&void 0!==a&&a.offsetParent?"#1AB2FF":"#475467",size:22,style:{position:"relative",left:"10px",zIndex:1},onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.show()},className:"me-3 cursor-pointer"}),(0,I.jsx)(B.m,{ref:A,options:[{label:"Desktop User",items:(null===ee||void 0===ee||null===(i=ee.data)||void 0===i||null===(o=i.users)||void 0===o||null===(d=o.filter((e=>null===e||void 0===e?void 0:e.is_active)))||void 0===d?void 0:d.map((e=>({value:null===e||void 0===e?void 0:e.id,label:`${null===e||void 0===e?void 0:e.first_name} ${null===e||void 0===e?void 0:e.last_name}`||(null===e||void 0===e?void 0:e.first_name)||"-",photo:(null===e||void 0===e?void 0:e.photo)||"",has_photo:null===e||void 0===e?void 0:e.has_photo}))))||[]},{label:"Mobile User",items:(null===te||void 0===te||null===(c=te.data)||void 0===c||null===(u=c.users)||void 0===u||null===(p=u.filter((e=>"disconnected"!==(null===e||void 0===e?void 0:e.status))))||void 0===p?void 0:p.map((e=>({value:null===e||void 0===e?void 0:e.id,label:`${null===e||void 0===e?void 0:e.first_name} ${null===e||void 0===e?void 0:e.last_name}`||(null===e||void 0===e?void 0:e.first_name)||"-",photo:(null===e||void 0===e?void 0:e.photo)||"",has_photo:null===e||void 0===e?void 0:e.has_photo}))))||[]}],onChange:e=>{W(e.value)},valueTemplate:e=>(0,I.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,I.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"0px solid #dedede"},children:(0,I.jsx)(g.A,{photo:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),null===e||void 0===e?void 0:e.label]}),itemTemplate:e=>(0,I.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,I.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:(0,I.jsx)(g.A,{photo:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),null===e||void 0===e?void 0:e.label]}),className:"outline-none border-0 p-0",style:{width:G?"fit-content":"0px",height:G?"46px":"0px",zIndex:G?"1":"0",position:"relative",left:G?"0px":"-60px",top:G?"0px":"-15px"},value:G,dropdownIcon:(0,I.jsx)(I.Fragment,{}),collapseIcon:(0,I.jsx)(I.Fragment,{}),placeholder:"Select project",filter:!0,optionGroupLabel:"label",optionGroupChildren:"items"})]}),(0,I.jsx)(F.A,{dateRange:Z,setDateRange:J})]}),(K.user||K.date)&&(0,I.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"16px",padding:"0 30px 8px 30px"},children:[K.user&&(0,I.jsx)(z.A.Text,{className:"text-danger",children:"User is required"}),K.date&&(0,I.jsx)(z.A.Text,{className:"text-danger",children:"Date is required"})]}),(0,I.jsxs)(N.A.Footer,{className:"d-flex justify-content-between",children:[(0,I.jsx)(n.A,{type:"button",className:"delete-button",onClick:()=>{le.mutate()},children:le.isPending?"Loading...":"Delete Task"}),(0,I.jsx)(n.A,{type:"button",className:"save-button",onClick:()=>{k(!0);const e={taskTitle:!D,description:!V,project:!q,user:!G,date:!Z};X(e),e.taskTitle||e.description||e.user||e.date||se.mutate({title:D,description:V,project:q,user:G,from_date:Z.startDate,to_date:Z.endDate})},children:se.isPending?"Loading...":(j?"Update":"Create")+" Task"})]})]})},M=()=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary",size:"lg"})}),(0,I.jsx)(A.A,{as:"p",animation:"wave",children:(0,I.jsx)(A.A,{xs:12,bg:"secondary",style:{height:"80px"},size:"lg"})}),(0,I.jsx)("table",{className:"task-deatils-table w-100",children:(0,I.jsxs)("tbody",{children:[(0,I.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})}),(0,I.jsx)("td",{style:{paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})})]}),(0,I.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})}),(0,I.jsx)("td",{style:{paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})})]}),(0,I.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})}),(0,I.jsx)("td",{style:{paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})})]}),(0,I.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})}),(0,I.jsx)("td",{style:{paddingBottom:"12px"},children:(0,I.jsx)(A.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,I.jsx)(A.A,{xs:12,bg:"secondary"})})})]})]})})]}),V=e=>{var t,s;let{view:r,setView:a,taskId:i,setTaskId:o,reInitialize:d}=e;const[c,u]=(0,l.useState)(!1),{isFetching:p,data:h}=(0,b.I)({queryKey:["taskId",i],queryFn:()=>(0,m.gg)(i),enabled:!!i,retry:1,cacheTime:0}),x=(0,w.n)({mutationFn:e=>(0,_._x)(i,e),onSuccess:()=>{v(),o(null),d()},onError:e=>{console.error("Error updating task:",e)}}),v=()=>a(!1),g=e=>{var t;if(!e)return"-";return null===(t=new Date(1e3*+e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))||void 0===t?void 0:t.replace(/,/g,"")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(N.A,{show:r,centered:!0,onHide:v,children:[(0,I.jsx)(N.A.Header,{closeButton:!0,children:(0,I.jsxs)(N.A.Title,{children:[(0,I.jsx)("img",{src:k.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,I.jsx)("span",{className:"modal-task-title",children:"Task Details"})]})}),(0,I.jsx)(N.A.Body,{children:p?(0,I.jsx)(M,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{className:"task-title",children:(null===h||void 0===h?void 0:h.title)||"-"}),(0,I.jsx)("p",{className:"task-description",children:(null===h||void 0===h?void 0:h.description)||"-"}),(0,I.jsx)("table",{className:"task-deatils-table",children:(0,I.jsxs)("tbody",{children:[(0,I.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"Project Task"}),(0,I.jsx)("td",{style:{paddingBottom:"12px"},children:null!==h&&void 0!==h&&h.project&&h.project.reference?h.project.reference:"-"})]}),(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"ID"}),(0,I.jsx)("td",{style:{paddingBottom:"12px"},children:(null===h||void 0===h?void 0:h.number)||"-"})]}),(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"Assigned"}),(0,I.jsxs)("td",{style:{paddingBottom:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,I.jsx)("img",{src:null!==h&&void 0!==h&&null!==(t=h.user)&&void 0!==t&&t.has_photo?null===h||void 0===h?void 0:h.user.photo:C.A,alt:"img-assigned",style:{width:"24px",height:"24px",borderRadius:"50%"}}),(0,I.jsx)("span",{children:(null===h||void 0===h||null===(s=h.user)||void 0===s?void 0:s.full_name)||"-"})]})]}),(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"Date"}),(0,I.jsxs)("td",{style:{paddingBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,I.jsx)("span",{children:g(null===h||void 0===h?void 0:h.from_date)}),(0,I.jsx)(y.A,{size:20,color:"#475467"}),(0,I.jsx)("span",{children:g(null===h||void 0===h?void 0:h.to_date)})]})]})]})})]})}),p?(0,I.jsxs)(N.A.Footer,{children:[(0,I.jsx)(A.A,{as:"p",animation:"wave",children:(0,I.jsx)(A.A,{xs:12,bg:"secondary",style:{height:"40px",width:"93px",borderRadius:"4px"},size:"lg"})}),(0,I.jsx)(A.A,{as:"p",animation:"wave",children:(0,I.jsx)(A.A,{xs:12,bg:"secondary",style:{height:"40px",width:"93px",borderRadius:"4px"},size:"lg"})})]}):(0,I.jsxs)(N.A.Footer,{children:[(0,I.jsx)(n.A,{className:"edit-button",onClick:function(){v(),u(!0)},children:"Edit Task"}),null!==h&&void 0!==h&&h.finished?(0,I.jsx)(n.A,{className:"incomplete-button",onClick:()=>x.mutate(!1),children:x.isPending?(0,I.jsx)(I.Fragment,{children:"Loading..."}):(0,I.jsxs)(I.Fragment,{children:["Incomplete",(0,I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",children:(0,I.jsx)("path",{d:"M20 10.5C20 16.0228 15.5228 20.5 10 20.5C4.47715 20.5 0 16.0228 0 10.5C0 4.97715 4.47715 0.5 10 0.5C15.5228 0.5 20 4.97715 20 10.5ZM15.0379 6.71209C14.6718 6.34597 14.0782 6.34597 13.7121 6.71209C13.7032 6.72093 13.6949 6.73029 13.6872 6.74013L9.34674 12.2709L6.72985 9.65403C6.36373 9.28791 5.77014 9.28791 5.40402 9.65403C5.0379 10.0201 5.0379 10.6137 5.40402 10.9799L8.71208 14.2879C9.0782 14.654 9.67179 14.654 10.0379 14.2879C10.0461 14.2798 10.0538 14.2712 10.061 14.2622L15.0512 8.02434C15.404 7.65727 15.3995 7.07371 15.0379 6.71209Z",fill:"#F04438"})})]})}):(0,I.jsx)(n.A,{className:"complete-button",onClick:()=>x.mutate(!0),children:x.isPending?(0,I.jsx)(I.Fragment,{children:"Loading..."}):(0,I.jsxs)(I.Fragment,{children:["Complete",(0,I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",children:(0,I.jsx)("path",{d:"M20 10.5C20 16.0228 15.5228 20.5 10 20.5C4.47715 20.5 0 16.0228 0 10.5C0 4.97715 4.47715 0.5 10 0.5C15.5228 0.5 20 4.97715 20 10.5ZM15.0379 6.71209C14.6718 6.34597 14.0782 6.34597 13.7121 6.71209C13.7032 6.72093 13.6949 6.73029 13.6872 6.74013L9.34674 12.2709L6.72985 9.65403C6.36373 9.28791 5.77014 9.28791 5.40402 9.65403C5.0379 10.0201 5.0379 10.6137 5.40402 10.9799L8.71208 14.2879C9.0782 14.654 9.67179 14.654 10.0379 14.2879C10.0461 14.2798 10.0538 14.2712 10.061 14.2622L15.0512 8.02434C15.404 7.65727 15.3995 7.07371 15.0379 6.71209Z",fill:"#17B26A"})})]})})]})]}),(0,I.jsx)(D,{show:c,setShow:u,taskId:i,setTaskId:o,defaultValue:h,refetch:d})]})},U=e=>{const t=new Date(1e3*e);return`${t.getDate()} ${new Intl.DateTimeFormat("en-US",{month:"short"}).format(t)} ${t.getFullYear()}`},q=(0,l.forwardRef)(((e,t)=>{let{searchValue:s,setTotal:n,selected:r,setSelected:a,refetch:i,setRefetch:o}=e;const{trialHeight:y}=(0,v.$)(),b=(0,l.useRef)(null),[w,N]=(0,l.useState)(!1),[A,_]=(0,l.useState)(null),[C,k]=(0,l.useState)(1),[O,T]=(0,l.useState)([]),[S,B]=(0,l.useState)({sortField:"id",sortOrder:-1}),[z,E]=(0,l.useState)({sortField:"id",sortOrder:-1}),[$,P]=(0,l.useState)(!0),[R,F]=(0,l.useState)(!1);(0,l.useEffect)((()=>{k(1)}),[s,i]),(0,l.useEffect)((()=>{(async()=>{F(!0);let e="";1===(null===z||void 0===z?void 0:z.sortOrder)?e=`${z.sortField}`:-1===(null===z||void 0===z?void 0:z.sortOrder)&&(e=`-${z.sortField}`);const t=await(0,m.U9)(C,25,s,e);var l;(n((()=>(null===t||void 0===t?void 0:t.count)||0)),1===C)?T(t.results):(null===t||void 0===t||null===(l=t.results)||void 0===l?void 0:l.length)>0&&T((e=>{const s=new Set(e.map((e=>e.id))),l=t.results.filter((e=>!s.has(e.id)));return[...e,...l]}));B(z),P(t.count!==O.length),F(!1)})()}),[C,s,z,i]),(0,l.useEffect)((()=>{if(O.length>0&&$){b.current=new IntersectionObserver((e=>{e[0].isIntersecting&&k((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&b.current.observe(e)}return()=>{b.current&&b.current.disconnect()}}),[O,$]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(h.b,{ref:t,value:O,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:`calc(100vh - 175px - ${y}px)`,className:"border",selection:r,onSelectionChange:e=>a(e.value),loading:R,loadingIcon:j.A,emptyMessage:(0,I.jsx)(f.A,{isDataExist:!!s}),sortField:null===S||void 0===S?void 0:S.sortField,sortOrder:null===S||void 0===S?void 0:S.sortOrder,onSort:e=>{const{sortField:t,sortOrder:s}=e;E({sortField:t,sortOrder:s}),k(1)},rowClassName:e=>null!==e&&void 0!==e&&e.deleted?x.deletedRow:"",children:[(0,I.jsx)(p.V,{selectionMode:"multiple",headerClassName:"ps-4 border-end-0",bodyClassName:"show-on-hover border-end-0 ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,I.jsx)(p.V,{field:"number",header:"Task ID",body:e=>(0,I.jsxs)("div",{className:"d-flex align-items-center justify-content-center show-on-hover",children:[(0,I.jsx)("div",{children:e.number}),(0,I.jsx)(u.$,{label:"Open",onClick:()=>{_(null===e||void 0===e?void 0:e.id),N(!0)},className:"primary-text-button ms-3 show-on-hover-element",text:!0})]}),style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,I.jsx)(p.V,{field:"title",header:"Task Title",body:e=>(0,I.jsx)("div",{className:"ellipsis-width",style:{maxWidth:"300px"},children:e.title}),style:{minWidth:"150px"},bodyClassName:`${x.shadowRight}`,headerClassName:`${x.shadowRight}`,frozen:!0}),(0,I.jsx)(p.V,{field:"user.full_name",header:"Assigne",body:e=>{var t,s,l,n;const r=`${null===e||void 0===e?void 0:e.user.full_name}`,a=`${null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.alias}`;return(0,I.jsxs)("div",{className:"d-flex align-items-center",children:[(0,I.jsx)("div",{className:`d-flex justify-content-center align-items-center ${x.clientName}`,style:{width:"30px",height:"30px",borderRadius:"50%",overflow:"hidden"},children:null!==e&&void 0!==e&&null!==(s=e.user)&&void 0!==s&&s.has_photo?(0,I.jsx)(g.A,{has_photo:null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.has_photo,photo:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.photo,is_business:!1}):a}),r]})},style:{minWidth:"208px"}}),(0,I.jsx)(p.V,{field:"finished",header:"Status",body:e=>(0,I.jsx)("div",{className:`${x.time} ${e.finished?x.complete:x.pending}`,children:e.finished?"Complete":"Not Complete"}),style:{minWidth:"120px"}}),(0,I.jsx)(p.V,{field:"project.reference",header:"Project",body:e=>{var t,s;return(0,I.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,I.jsx)("div",{className:(0,c.A)(x.projectImg,"d-flex align-items-center justify-content-center"),children:(0,I.jsx)(d.A,{color:"#475467",size:13})}),(0,I.jsxs)("div",{children:[(0,I.jsx)("h1",{className:(0,c.A)(x.projectText,"mb-0"),children:null===e||void 0===e||null===(t=e.project)||void 0===t?void 0:t.reference}),(0,I.jsx)("h6",{className:(0,c.A)(x.projectNumber,"mb-0"),children:null===e||void 0===e||null===(s=e.project)||void 0===s?void 0:s.number})]})]})},style:{minWidth:"460px"}}),(0,I.jsx)(p.V,{field:"from_date",header:"Start Date",body:e=>U(e.from_date),style:{minWidth:"100px"},sortable:!0}),(0,I.jsx)(p.V,{field:"to_date",header:"Due Date",body:e=>U(e.to_date),style:{minWidth:"100px"},sortable:!0})]}),(0,I.jsx)(V,{view:w,setView:N,taskId:A,setTaskId:_,reInitialize:()=>o((e=>!e))})]})})),H=q,G=()=>{const e=(0,l.useRef)(null),[t,s]=(0,l.useState)(0),[d,c]=(0,l.useState)(!1),[u,p,h]=(0,o.d7)("",400),[m,v]=(0,l.useState)([]),[g,j]=(0,l.useState)(!1);return(0,I.jsxs)("div",{className:"jobs-page",children:[(0,I.jsx)(i.mg,{children:(0,I.jsx)("title",{children:"MeMate - Tasks"})}),(0,I.jsxs)("div",{className:`topbar ${null!==m&&void 0!==m&&m.length?x.active:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,I.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==m&&void 0!==m&&m.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("h6",{className:x.selectedCount,children:["Selected: ",null===m||void 0===m?void 0:m.length]}),(0,I.jsx)("div",{className:"filtered-box",children:(0,I.jsx)("button",{className:`${x.filterBox}`,onClick:()=>{return t=!0,void(e.current?e.current.exportCSV({selectionOnly:t}):console.error("DataTable ref is null"));var t},children:(0,I.jsx)(r.A,{})})})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"filtered-box",children:(0,I.jsx)("button",{className:`${x.filterBox}`,onClick:()=>{},children:(0,I.jsx)(a.A,{size:20})})}),(0,I.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,I.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,I.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,I.jsx)("input",{type:"text",placeholder:"Search",value:u,onChange:e=>h(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,I.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,I.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Tasks"}),(0,I.jsx)(n.A,{onClick:()=>c(!0),className:`${x.newButton}`,children:"New"})]}),(0,I.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,I.jsx)("h1",{className:`${x.total} mb-0`,children:"Total"}),(0,I.jsxs)("div",{className:`${x.totalCount}`,children:[t," Jobs"]})]})]}),(0,I.jsx)(H,{ref:e,searchValue:p,setTotal:s,selected:m,setSelected:v,refetch:g,setRefetch:j}),(0,I.jsx)(D,{show:d,setShow:c,refetch:()=>j((e=>!e))})]})}},99868:(e,t,s)=>{s.d(t,{A:()=>m});var l=s(65043),n=s(14282),r=s(38294),a=s(35475),i=s(58387);const o="no-data-found-template_noDataBox__HgeT1",d="no-data-found-template_title__P5uV2",c="no-data-found-template_subTitle__zMBB-",u="no-data-found-template_supportext__pHg2P";var p=s(20793),h=s(63919),x=s(70579);const m=e=>{let{isDataExist:t=!0}=e;const[s,m]=(0,l.useState)(!1);return(0,x.jsxs)("div",{className:(0,i.A)(o),children:[(0,x.jsx)("div",{className:"position-relative d-flex flex-column",children:(0,x.jsx)("img",{src:p,alt:"no-data"})}),t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:(0,i.A)(d),children:"There is no results"}),(0,x.jsxs)("p",{className:(0,i.A)(c),children:["The user you are looking for doesn't exist. ",(0,x.jsx)("br",{}),"Here are some helpful links:"]}),(0,x.jsx)(a.N_,{to:"/",children:(0,x.jsxs)(n.A,{className:"outline-button",style:{marginBottom:"32px"},children:[" ",(0,x.jsx)(r.A,{})," Go back"]})}),(0,x.jsx)(a.N_,{onClick:()=>m(!0),to:"#",children:(0,x.jsx)("span",{className:(0,i.A)(u),children:"Support"})})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("h2",{className:(0,i.A)(d),children:"No historical records yet."})}),(0,x.jsx)(h.A,{setVisible:m,visible:s})]})}},33183:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(65043),n=s(65173),r=s.n(n),a=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var s,l,n=function(e,t){if(null==e)return{};var s,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var d=(0,l.forwardRef)((function(e,t){var s=e.color,n=e.size,r=e.title,d=e.className,c=o(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-arrow-right",d].filter(Boolean).join(" ")},c),r?l.createElement("title",null,r):null,l.createElement("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"}))}));d.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},63040:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(65043),n=s(65173),r=s.n(n),a=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var s,l,n=function(e,t){if(null==e)return{};var s,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var d=(0,l.forwardRef)((function(e,t){var s=e.color,n=e.size,r=e.title,d=e.className,c=o(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-calendar2-event",d].filter(Boolean).join(" ")},c),r?l.createElement("title",null,r):null,l.createElement("path",{d:"M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"}),l.createElement("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"}),l.createElement("path",{d:"M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5z"}))}));d.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},38294:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(65043),n=s(65173),r=s.n(n),a=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var s,l,n=function(e,t){if(null==e)return{};var s,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var d=(0,l.forwardRef)((function(e,t){var s=e.color,n=e.size,r=e.title,d=e.className,c=o(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-chevron-left",d].filter(Boolean).join(" ")},c),r?l.createElement("title",null,r):null,l.createElement("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"}))}));d.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},75329:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(65043),n=s(65173),r=s.n(n),a=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var s,l,n=function(e,t){if(null==e)return{};var s,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var d=(0,l.forwardRef)((function(e,t){var s=e.color,n=e.size,r=e.title,d=e.className,c=o(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-download",d].filter(Boolean).join(" ")},c),r?l.createElement("title",null,r):null,l.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),l.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"}))}));d.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},22927:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(65043),n=s(65173),r=s.n(n),a=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var s,l,n=function(e,t){if(null==e)return{};var s,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var d=(0,l.forwardRef)((function(e,t){var s=e.color,n=e.size,r=e.title,d=e.className,c=o(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-file-text",d].filter(Boolean).join(" ")},c),r?l.createElement("title",null,r):null,l.createElement("path",{d:"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"}),l.createElement("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"}))}));d.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},47994:(e,t,s)=>{s.d(t,{A:()=>h});var l=s(98139),n=s.n(l),r=s(65043),a=s(67852),i=s(21068),o=s(19334),d=s(70579);const c=r.forwardRef(((e,t)=>{let{className:s,bsPrefix:l,as:r="span",...i}=e;return l=(0,a.oU)(l,"input-group-text"),(0,d.jsx)(r,{ref:t,className:n()(s,l),...i})}));c.displayName="InputGroupText";const u=c,p=r.forwardRef(((e,t)=>{let{bsPrefix:s,size:l,hasValidation:i,className:c,as:u="div",...p}=e;s=(0,a.oU)(s,"input-group");const h=(0,r.useMemo)((()=>({})),[]);return(0,d.jsx)(o.A.Provider,{value:h,children:(0,d.jsx)(u,{ref:t,...p,className:n()(c,s,l&&`${s}-${l}`,i&&"has-validation")})})}));p.displayName="InputGroup";const h=Object.assign(p,{Text:u,Radio:e=>(0,d.jsx)(u,{children:(0,d.jsx)(i.A,{type:"radio",...e})}),Checkbox:e=>(0,d.jsx)(u,{children:(0,d.jsx)(i.A,{type:"checkbox",...e})})})},19334:(e,t,s)=>{s.d(t,{A:()=>n});const l=s(65043).createContext(null);l.displayName="InputGroupContext";const n=l},96440:e=>{var t=function(){};e.exports=t},20793:(e,t,s)=>{e.exports=s.p+"static/media/NodataImg.ee3ccbdc6b7e66284e17.png"}}]);
//# sourceMappingURL=6379.61bc7c2c.chunk.js.map