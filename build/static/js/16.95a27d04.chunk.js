"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[16],{70016:(e,s,r)=>{r.r(s),r.d(s,{default:()=>k});var a=r(65043),l=r(38294),t=r(95192),n=r(36237),i=r(44541),o=r(66415),c=r(33361),d=r(544),m=r(73216),u=r(35475),p=r(24858),h=r(18403),x=r(80899),v=r(63712),j=r(61072),g=r(78602),y=r(14282),f=r(27472),b=r(90922),N=r(53193),w=r(69285),A=r(17380),C=r(37970),_=r(93747),E=r(47097),I=r(59638),q=r(63882),S=r(56328),P=r(70579);const O=x.Ik({name:x.Yj().required("Company name is required"),category:x.ai().typeError("Enter a valid category").required("Category is required"),abn:x.Yj().required("ABN is required"),phone:x.Yj({country:x.Yj().required("Country is required"),number:x.Yj().required("Phone number is required")}),email:x.Yj().email("Invalid email").required("Email is required"),website:x.Yj().url("Invalid URL").required("URL is required"),addresses:x.YO().of(x.Ik({country:x.Yj().required("Country is required"),address:x.Yj().required("Address is required"),city:x.ai().typeError("City must be a number").required("City is required"),state:x.ai().typeError("State must be a number").required("State is required"),postcode:x.Yj().required("Postcode is required"),is_main:x.zM().default(!1).required("Main address selection is required")})).required(),contact_persons:x.YO().of(x.Ik({firstname:x.Yj().required("First name is required"),lastname:x.Yj().required("Last name is required"),phone:x.Yj({country:x.Yj().required("Country is required"),number:x.Yj().required("Phone number is required")}),email:x.Yj().email("Invalid email").required("Email is required"),position:x.Yj().required("Position is required"),is_main:x.zM().default(!1).required("Main contact selection is required")})).required(),industry:x.ai().typeError("Enter a valid industry").required("Industry is required"),payment_terms:x.ai().typeError("Enter a valid payment terms").required("Payment terms are required")}).required();function z(e){let{photo:s,setPhoto:r}=e;const[l,t]=(0,a.useState)(!1);return(0,P.jsxs)("section",{className:"container mb-3",style:{marginTop:"24px",padding:"0px"},children:[(0,P.jsx)("label",{className:"mb-2",style:{color:"#475467",fontSize:"14px",fontWeight:"500"},children:"App Logo"}),(0,P.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{width:"100%",minHeight:"126px",padding:"16px",background:"#fff",borderRadius:"4px",border:"1px solid #D0D5DD"},children:[null!==s&&void 0!==s&&s.croppedImageBase64?(0,P.jsx)("div",{className:"text-center",children:(0,P.jsx)("img",{alt:"uploaded-file",src:null===s||void 0===s?void 0:s.croppedImageBase64,style:{width:"64px",height:"64px",marginBottom:"12px"}})}):(0,P.jsx)("button",{type:"button",onClick:()=>t(!0),className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",padding:"10px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"4px",marginBottom:"16px"},children:(0,P.jsx)(d.A,{})}),(0,P.jsx)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:(0,P.jsx)("span",{style:{color:"#1AB2FF",fontWeight:"600",cursor:"pointer"},onClick:()=>t(!0),children:"Click to upload"})}),(0,P.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,P.jsx)(q.A,{show:l,setShow:t,setPhoto:r})]})}const k=()=>{var e,s;const{id:r}=(0,m.g)(),d=(0,m.Zp)(),[x,q]=(0,a.useState)({}),[k,B]=(0,a.useState)(""),[$,F]=(0,a.useState)(""),T=(0,_.I)({queryKey:["categories"],queryFn:I.Ql}),D=(0,_.I)({queryKey:["industries"],queryFn:I.OF}),L=(0,_.I)({queryKey:["countries"],queryFn:I.X6,enabled:!0}),M=(0,_.I)({queryKey:["states",k],queryFn:()=>(0,I.nP)(k),enabled:!!k,retry:1}),R=(0,_.I)({queryKey:["cities",$],queryFn:()=>(0,I.i6)($),enabled:!!$}),[Y,V]=(0,a.useState)({phone:{country:"",number:""},contact_persons:[{}],addresses:[{}]}),{control:W,register:H,handleSubmit:G,setValue:U,formState:{errors:K}}=(0,p.mN)({resolver:(0,h.t)(O),defaultValues:Y}),{fields:Q,append:J,remove:Z}=(0,p.jz)({control:W,name:"contact_persons"}),{fields:X,append:ee,remove:se}=(0,p.jz)({control:W,name:"addresses"});(0,a.useEffect)((()=>{if(r){(async()=>{const e={name:"Sample Company",category:1,industry:1,abn:"123456789",phone:"1234567890",email:"sample@example.com",website:"http://example.com",payment_terms:30,contact_persons:[{firstname:"John",lastname:"Doe",email:"john.doe@example.com",phone:"1234567890",position:"Manager"}],addresses:[{country:"US",city:1,address:"5th Avenue",state:2,postcode:"10001"}]};V(e),Object.entries(e).forEach((e=>{let[s,r]=e;return U(s,r)}))})()}}),[r,U]);(0,E.n)({mutationFn:e=>(0,I.Qv)(e),onSuccess:e=>{console.log("response: ",e),e.client?d(`/sales/newquote/selectyourclient/client-information/scope-of-work/${e.client}`):alert("Business Client could not be created. Try again later.")},onError:e=>{console.error("Error creating task:",e),alert(e.message)}});return(0,P.jsx)("form",{onSubmit:G((async e=>{const s=new FormData;if(r)console.log("Updating record:",e);else{if(s.append("name",e.name),s.append("abn",e.abn),s.append("phone",e.phone),s.append("email",e.email),s.append("website",e.website),s.append("payment_terms",e.payment_terms),s.append("category",e.category),s.append("industry",e.industry),e.addresses.forEach(((e,r)=>{s.append(`addresses[${r}]address`,e.address),s.append(`addresses[${r}]city`,e.city),s.append(`addresses[${r}]postcode`,e.postcode),s.append(`addresses[${r}]is_main`,e.is_main),s.append(`addresses[${r}]title`,e.title)})),e.contact_persons.forEach(((e,r)=>{s.append(`contact_persons[${r}]firstname`,e.firstname),s.append(`contact_persons[${r}]lastname`,e.lastname),s.append(`contact_persons[${r}]email`,e.email),s.append(`contact_persons[${r}]phone`,e.phone),s.append(`contact_persons[${r}]position`,e.position),s.append(`contact_persons[${r}]is_main`,e.is_main)})),null!==x&&void 0!==x&&x.croppedImageBlob){const e=(0,v.Ak)(6);s.append("photo",null===x||void 0===x?void 0:x.croppedImageBlob,`${e}.jpg`)}try{const e=localStorage.getItem("access_token"),r=await fetch("https://dev.memate.com.au/api/v1/clients/business/new/",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});if(r.ok){const e=await r.json();d(`/sales/newquote/selectyourclient/client-information/scope-of-work/${null===e||void 0===e?void 0:e.client}`)}else console.error("Failed to upload:",r.statusText),S.oR.error("Failed to create new client. Please try again.")}catch(a){console.error("Error uploading:",a),S.oR.error("Failed to create new client. Please try again.")}}})),children:(0,P.jsx)("div",{className:"newQuotePage existingClients borderSkyColor",children:(0,P.jsxs)("div",{style:{height:"calc(100vh - 249px)"},children:[(0,P.jsx)("div",{className:"newQuoteBack",children:(0,P.jsx)(u.k2,{to:r?"/sales/newquote/selectyourclient/existing-clients":"/sales/newquote/selectyourclient/new-clients",children:(0,P.jsxs)("button",{children:[(0,P.jsx)(l.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,P.jsxs)("div",{className:"newQuoteContent h-100",children:[(0,P.jsx)("div",{className:"navStepClient",children:(0,P.jsxs)("ul",{children:[(0,P.jsxs)("li",{children:[(0,P.jsx)("span",{children:(0,P.jsx)(t.A,{color:"#D0D5DD",size:15})})," ",(0,P.jsx)("p",{children:"Choose Client"})]}),(0,P.jsxs)("li",{className:"activeClientTab",children:[(0,P.jsx)("span",{children:(0,P.jsx)(n.A,{color:"#D0D5DD",size:15})})," ",(0,P.jsx)("p",{children:"Client Information"})," "]}),(0,P.jsxs)("li",{className:"deactiveColorBox",children:[(0,P.jsx)("span",{children:(0,P.jsx)(i.A,{color:"#D0D5DD",size:15})})," ",(0,P.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,P.jsxs)("div",{className:"individual height customscrollBar",children:[(0,P.jsx)("div",{className:"formgroupWrap1",children:(0,P.jsx)("ul",{className:"mt-4",children:(0,P.jsx)("li",{children:(0,P.jsxs)(u.k2,{className:"ActiveClient businessTab",to:"#",children:[(0,P.jsx)("span",{children:(0,P.jsx)(i.A,{color:"#1AB2FF ",size:24})})," Business Client"]})})})}),(0,P.jsxs)("div",{className:"formgroupboxs",style:{paddingTop:"24px"},children:[(0,P.jsxs)(j.A,{className:"text-left",children:[(0,P.jsx)("h2",{style:{marginBottom:"16px"},children:"Company Details"}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Company Name"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.name?"error-border":""),children:[(0,P.jsx)("input",{...H("name"),placeholder:"Company Name"}),K.name&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),K.name&&(0,P.jsx)("p",{className:"error-message",children:K.name.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Customer Category"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.category?"error-border":""),children:[(0,P.jsx)(N.A,{className:"customerCategory",sx:{m:0,minWidth:"102%"},children:(0,P.jsxs)(w.A,{displayEmpty:!0,...H("category"),inputProps:{"aria-label":"Without label"},IconComponent:K.category?"":o.A,defaultValue:"",style:{color:"#667085"},children:[(0,P.jsx)(C.A,{value:"",children:"Select category"}),T&&T.data&&(null===(e=T.data)||void 0===e?void 0:e.map((e=>(0,P.jsx)(C.A,{value:e.id,children:e.name},e.id))))]})}),K.category&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle",style:{position:"relative",right:"26px"}})]}),K.category&&(0,P.jsx)("p",{className:"error-message",children:K.category.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"ABN"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.abn?"error-border":""),children:[(0,P.jsx)("input",{...H("abn"),placeholder:"ABN"}),K.abn&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),K.abn&&(0,P.jsx)("p",{className:"error-message",children:K.abn.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup phoneInputBoxStyle mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Phone number"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.phone?"error-border":""),children:[(0,P.jsx)(p.xI,{name:"phone",control:W,render:e=>{var s,r;let{field:a}=e;return(0,P.jsx)(A.LR,{defaultCountry:"au",country:null===(s=a.value)||void 0===s?void 0:s.country,value:null===(r=a.value)||void 0===r?void 0:r.number,onChange:e=>a.onChange(e)})}}),K.phone&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),K.phone&&(0,P.jsx)("p",{className:"error-message",children:K.phone.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-2 mt-0",children:[(0,P.jsx)("label",{children:"Email"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.email?"error-border":""),children:[(0,P.jsx)(c.A,{color:"#667085",style:{width:"20px",height:"20px"}}),(0,P.jsx)("input",{...H("email"),placeholder:"Email",style:{paddingLeft:"8px"}}),K.email&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),K.email&&(0,P.jsx)("p",{className:"error-message",children:K.email.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-2 mt-0",children:[(0,P.jsx)("label",{children:"Website"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.website?"error-border":""),children:[(0,P.jsx)("input",{...H("website"),placeholder:"Website"}),K.website&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),K.website&&(0,P.jsx)("p",{className:"error-message",children:K.website.message})]})})]}),(0,P.jsx)("div",{className:"formgroupboxs text-left",style:{marginTop:"24px"},children:X.map(((e,s)=>{var r,a,l,t,n,i,o,c,d,m,u,h,x,v,N,w,A,C,_;return(0,P.jsxs)("div",{className:"address",children:[(0,P.jsx)("h2",{style:{marginBottom:"16px",marginTop:"16px"},children:0===s?"Main Company Address":"Secondary Company Address"}),(0,P.jsx)("input",{type:"hidden",...H(`addresses.${s}.is_main`),value:0===s}),(0,P.jsxs)(j.A,{className:"text-left",children:[(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Country"}),(0,P.jsx)(p.xI,{name:`addresses.${s}.country`,control:W,defaultValue:"",render:e=>{var r,a,l,t;let{field:n}=e;return(0,P.jsx)(b.Ay,{...n,placeholder:"Select country",className:"custom-select-country "+(null!==(r=K.addresses)&&void 0!==r&&null!==(a=r[s])&&void 0!==a&&a.country?"error-border":""),options:L&&(null===L||void 0===L||null===(l=L.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(null===e||void 0===e?void 0:e.value),B(null===e||void 0===e?void 0:e.value)},value:null===L||void 0===L||null===(t=L.data)||void 0===t?void 0:t.find((e=>e.value===n.value))})}}),(null===(r=K.addresses)||void 0===r||null===(a=r[s])||void 0===a?void 0:a.country)&&(0,P.jsx)("p",{className:"error-message",children:null===(l=K.addresses)||void 0===l?void 0:l[s].country.message})]})}),(0,P.jsx)(g.A,{sm:6}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"State"}),(0,P.jsx)(p.xI,{name:`addresses.${s}.state`,control:W,defaultValue:"",render:e=>{var r,a,l,t;let{field:n}=e;return(0,P.jsx)(b.Ay,{...n,placeholder:"Select state",className:"custom-select-country "+(null!==(r=K.addresses)&&void 0!==r&&null!==(a=r[s])&&void 0!==a&&a.state?"error-border":""),options:M&&(null===M||void 0===M||null===(l=M.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(null===e||void 0===e?void 0:e.value),F(null===e||void 0===e?void 0:e.value),U(`addresses.${s}.city`,null)},value:null===M||void 0===M||null===(t=M.data)||void 0===t?void 0:t.find((e=>e.value===n.value))})}}),(null===(t=K.addresses)||void 0===t||null===(n=t[s])||void 0===n?void 0:n.state)&&(0,P.jsx)("p",{className:"error-message",children:K.addresses[s].state.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"City/Suburb"}),(0,P.jsx)(p.xI,{name:`addresses.${s}.city`,control:W,defaultValue:"",render:e=>{var r,a,l,t;let{field:n}=e;return(0,P.jsx)(b.Ay,{...n,placeholder:"Select city",className:"custom-select-country "+(null!==(r=K.addresses)&&void 0!==r&&null!==(a=r[s])&&void 0!==a&&a.state?"error-border":""),options:R&&(null===R||void 0===R||null===(l=R.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>n.onChange(null===e||void 0===e?void 0:e.value),value:null===R||void 0===R||null===(t=R.data)||void 0===t?void 0:t.find((e=>e.value===n.value))})}}),(null===(i=K.addresses)||void 0===i||null===(o=i[s])||void 0===o?void 0:o.city)&&(0,P.jsx)("p",{className:"error-message",children:K.addresses[s].city.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Street Address"}),(0,P.jsxs)("div",{className:"inputInfo "+(null!==(c=K.addresses)&&void 0!==c&&null!==(d=c[s])&&void 0!==d&&d.address?"error-border":""),children:[(0,P.jsx)("input",{...H(`addresses.${s}.address`),placeholder:"Address"}),(null===(m=K.addresses)||void 0===m||null===(u=m[s])||void 0===u?void 0:u.address)&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),(null===(h=K.addresses)||void 0===h||null===(x=h[s])||void 0===x?void 0:x.address)&&(0,P.jsx)("p",{className:"error-message",children:K.addresses[s].address.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Postcode"}),(0,P.jsxs)("div",{className:"inputInfo "+(null!==(v=K.addresses)&&void 0!==v&&null!==(N=v[s])&&void 0!==N&&N.postcode?"error-border":""),children:[(0,P.jsx)("input",{...H(`addresses.${s}.postcode`),placeholder:"Postcode"}),(null===(w=K.addresses)||void 0===w||null===(A=w[s])||void 0===A?void 0:A.postcode)&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),(null===(C=K.addresses)||void 0===C||null===(_=C[s])||void 0===_?void 0:_.postcode)&&(0,P.jsx)("p",{className:"error-message",children:K.addresses[s].postcode.message})]})}),(0,P.jsxs)(g.A,{sm:12,className:"d-flex justify-content-end align-items-center",style:{gap:"8px"},children:[0!==s&&(0,P.jsx)(y.A,{type:"button",className:"delete-button-client",onClick:()=>se(s),children:"Delete Address"}),s===X.length-1&&(0,P.jsxs)(y.A,{type:"button",className:"add-button-client",onClick:()=>ee({}),children:["Add New",(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,P.jsx)("path",{d:"M10.0001 4.1665V15.8332M4.16675 9.99984H15.8334",stroke:"#344054",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]},e.id)}))}),(0,P.jsx)("div",{className:"formgroupboxs text-left",style:{marginTop:"24px"},children:Q.map(((e,s)=>{var r,a,l,t,n,i,o,d,m,u,h,x,v,b,N,w,C,_,E,I,q,S,O,z,k,B,$,F,T,D;return(0,P.jsxs)("div",{className:"contact-person",children:[(0,P.jsx)("h2",{style:{marginBottom:"16px",marginTop:"16px"},children:0===s?"Contact Person":"Other Contact Person"}),(0,P.jsx)("input",{type:"hidden",...H(`contact_persons.${s}.is_main`),value:0===s}),(0,P.jsxs)(j.A,{className:"text-left",children:[(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"First Name"}),(0,P.jsxs)("div",{className:"inputInfo "+(null!==(r=K.contact_persons)&&void 0!==r&&null!==(a=r[s])&&void 0!==a&&a.firstname?"error-border":""),children:[(0,P.jsx)("input",{...H(`contact_persons.${s}.firstname`),placeholder:"First Name"}),(null===(l=K.contact_persons)||void 0===l||null===(t=l[s])||void 0===t?void 0:t.firstname)&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),(null===(n=K.contact_persons)||void 0===n||null===(i=n[s])||void 0===i?void 0:i.firstname)&&(0,P.jsx)("p",{className:"error-message",children:K.contact_persons[s].firstname.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Last Name"}),(0,P.jsxs)("div",{className:"inputInfo "+(null!==(o=K.contact_persons)&&void 0!==o&&null!==(d=o[s])&&void 0!==d&&d.lastname?"error-border":""),children:[(0,P.jsx)("input",{...H(`contact_persons.${s}.lastname`),placeholder:"Last Name"}),(null===(m=K.contact_persons)||void 0===m||null===(u=m[s])||void 0===u?void 0:u.lastname)&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),(null===(h=K.contact_persons)||void 0===h||null===(x=h[s])||void 0===x?void 0:x.lastname)&&(0,P.jsx)("p",{className:"error-message",children:K.contact_persons[s].lastname.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Phone"}),(0,P.jsxs)("div",{className:"inputInfo "+(null!==(v=K.contact_persons)&&void 0!==v&&null!==(b=v[s])&&void 0!==b&&b.phone?"error-border":""),children:[(0,P.jsx)(p.xI,{name:`contact_persons.${s}.phone`,control:W,render:e=>{var r,a,l,t,n,i;let{field:o}=e;return(0,P.jsx)(A.LR,{country:null===(r=o.value)||void 0===r||null===(a=r.contact_persons)||void 0===a||null===(l=a[s])||void 0===l?void 0:l.country,value:null===(t=o.value)||void 0===t||null===(n=t.contact_persons)||void 0===n||null===(i=n[s])||void 0===i?void 0:i.number,onChange:e=>o.onChange(e)})}}),(null===(N=K.contact_persons)||void 0===N||null===(w=N[s])||void 0===w?void 0:w.phone)&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),(null===(C=K.contact_persons)||void 0===C||null===(_=C[s])||void 0===_?void 0:_.phone)&&(0,P.jsx)("p",{className:"error-message",children:K.contact_persons[s].phone.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Email"}),(0,P.jsxs)("div",{className:"inputInfo "+(null!==(E=K.contact_persons)&&void 0!==E&&null!==(I=E[s])&&void 0!==I&&I.email?"error-border":""),children:[(0,P.jsx)(c.A,{color:"#667085",style:{width:"20px",height:"20px"}}),(0,P.jsx)("input",{...H(`contact_persons.${s}.email`),placeholder:"Email",style:{paddingLeft:"8px"}}),(null===(q=K.contact_persons)||void 0===q||null===(S=q[s])||void 0===S?void 0:S.email)&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),(null===(O=K.contact_persons)||void 0===O||null===(z=O[s])||void 0===z?void 0:z.email)&&(0,P.jsx)("p",{className:"error-message",children:K.contact_persons[s].email.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Position"}),(0,P.jsxs)("div",{className:"inputInfo "+(null!==(k=K.contact_persons)&&void 0!==k&&null!==(B=k[s])&&void 0!==B&&B.position?"error-border":""),children:[(0,P.jsx)("input",{...H(`contact_persons.${s}.position`),placeholder:"Position"}),(null===($=K.contact_persons)||void 0===$||null===(F=$[s])||void 0===F?void 0:F.position)&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle"})]}),(null===(T=K.contact_persons)||void 0===T||null===(D=T[s])||void 0===D?void 0:D.position)&&(0,P.jsx)("p",{className:"error-message",children:K.contact_persons[s].position.message})]})}),(0,P.jsxs)(g.A,{sm:12,className:"d-flex justify-content-end align-items-center",style:{gap:"8px"},children:[0!==s&&(0,P.jsx)(y.A,{type:"button",className:"delete-button-client",onClick:()=>Z(s),children:"Delete Contact"}),s===Q.length-1&&(0,P.jsxs)(y.A,{type:"button",className:"add-button-client",onClick:()=>J({}),children:["Add New",(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,P.jsx)("path",{d:"M10.0001 4.1665V15.8332M4.16675 9.99984H15.8334",stroke:"#344054",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]},e.id)}))}),(0,P.jsxs)(j.A,{className:"text-left",style:{paddingTop:"24px"},children:[(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Industry"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.industry?"error-border":""),children:[(0,P.jsx)(N.A,{className:"customerCategory",sx:{m:0,minWidth:"102%"},children:(0,P.jsxs)(w.A,{displayEmpty:!0,...H("industry"),inputProps:{"aria-label":"Without label"},IconComponent:K.industry?"":o.A,defaultValue:"",style:{color:"#667085"},children:[(0,P.jsx)(C.A,{value:"",children:"Select Industry"}),(null===D||void 0===D||null===(s=D.data)||void 0===s?void 0:s.map((e=>(0,P.jsx)(C.A,{value:e.id,children:e.name},e.id))))||[]]})}),(0,P.jsx)("input",{...H("industry"),placeholder:"Industry"}),K.industry&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle",style:{position:"relative",right:"26px"}})]}),K.industry&&(0,P.jsx)("p",{className:"error-message",children:K.industry.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsxs)("div",{className:"formgroup mb-3 mt-0",children:[(0,P.jsx)("label",{children:"Payment Terms"}),(0,P.jsxs)("div",{className:"inputInfo "+(K.payment_terms?"error-border":""),children:[(0,P.jsx)(N.A,{className:"customerCategory",sx:{m:0,minWidth:"102%"},children:(0,P.jsxs)(w.A,{displayEmpty:!0,...H("payment_terms"),inputProps:{"aria-label":"Without label"},IconComponent:K.payment_terms?"":o.A,placeholder:"Select category",defaultValue:"",style:{color:"#667085"},children:[(0,P.jsx)(C.A,{value:"",children:"Select Payment Terms"}),(0,P.jsx)(C.A,{value:"1",children:"COD"}),(0,P.jsx)(C.A,{value:"0",children:"Prepaid"}),(0,P.jsx)(C.A,{value:"7",children:"Week"}),(0,P.jsx)(C.A,{value:"14",children:"Two weeks"}),(0,P.jsx)(C.A,{value:"30",children:"One month"})]})}),K.payment_terms&&(0,P.jsx)("img",{className:"ExclamationCircle",src:f.A,alt:"Exclamation Circle",style:{position:"relative",right:"26px"}})]}),K.payment_terms&&(0,P.jsx)("p",{className:"error-message",children:K.payment_terms.message})]})}),(0,P.jsx)(g.A,{sm:6,children:(0,P.jsx)(z,{photo:x,setPhoto:q})})]})]})]}),(0,P.jsxs)("div",{className:"individual bottomBox",children:[(0,P.jsx)(u.N_,{to:"/sales",children:(0,P.jsx)(y.A,{type:"button",className:"cancel-button",children:"Cancel"})}),(0,P.jsx)(y.A,{type:"submit",className:"submit-button",children:"Next Step"})]})]})]})})})}},63882:(e,s,r)=>{r.d(s,{A:()=>w});var a=r(65043),l=r(73722),t=r(61424),n=r(14282),i=r(33155),o=r(55683);const c="file-uploader_title__+HTTy",d="file-uploader_previewSection__mnNRf",m="file-uploader_previewBox__j6psm",u="file-uploader_previewBoxImg1__SR-1w",p="file-uploader_previewBoxImg2__zYCKK",h="file-uploader_previewBoxImg3__YNTWI",x="file-uploader_previewBoxImg4__cRl+e",v="file-uploader_previewBoxImg5__GzHFj",j="file-uploader_previewActions__UO1dp",g="file-uploader_label__Udhfq";var y=r(76163),f=r(69956);var b=r(58387),N=r(70579);const w=e=>{let{show:s,setShow:r,setPhoto:w,additionalDesign:A,shape:C="rect"}=e;const[_,E]=(0,a.useState)([]),[I,q]=(0,a.useState)({x:0,y:0}),[S,P]=(0,a.useState)(1),[O,z]=(0,a.useState)(0),[k,B]=(0,a.useState)(null),[$,F]=(0,a.useState)({}),T=(0,a.useCallback)(((e,s)=>{B(s)}),[]),D=(0,a.useCallback)((async()=>{if(!_.length||!k)return;const e=document.createElement("canvas"),s=e.getContext("2d"),r=new Image;r.src=_[0].preview,await new Promise((e=>r.onload=e)),e.width=k.width,e.height=k.height,s.translate(e.width/2,e.height/2),s.rotate(O*Math.PI/180),s.translate(-e.width/2,-e.height/2),s.drawImage(r,k.x,k.y,k.width,k.height,0,0,k.width,k.height);return e.toDataURL("image/jpeg")}),[_,k,O]),L=async()=>{const e=await D();e&&F({img2:e,img3:e,img4:e,img5:e})};(0,a.useEffect)((()=>{L()}),[S,I,O,_,k]);const{getRootProps:M,getInputProps:R}=(0,i.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{E(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,N.jsxs)(t.A,{style:{zIndex:1111},show:s,centered:!0,onHide:()=>r(!1),onShow:L,children:[(0,N.jsx)(t.A.Header,{closeButton:!0,children:(0,N.jsx)(t.A.Title,{children:(0,N.jsx)("span",{className:`${c}`,children:"Edit Photo"})})}),(0,N.jsxs)(t.A.Body,{children:[A,(0,N.jsxs)("div",{className:`${d}`,children:[(0,N.jsxs)("div",{className:`${m}`,children:[(0,N.jsx)("div",{className:(0,b.A)(u,"round"===C?"rounded-circle":""),children:(0,N.jsx)(o.Ay,{image:_.length>0?_[0].preview:null,crop:I,zoom:S,cropShape:C,rotation:O,onCropChange:q,onZoomChange:P,onCropComplete:T,aspect:1,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,N.jsx)("div",{className:(0,b.A)(p,"round"===C?"rounded-circle":""),children:$.img2&&(0,N.jsx)("img",{src:$.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,b.A)(h,"round"===C?"rounded-circle":""),children:$.img3&&(0,N.jsx)("img",{src:$.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,b.A)(x,"round"===C?"rounded-circle":""),children:$.img4&&(0,N.jsx)("img",{src:$.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,b.A)(v,"round"===C?"rounded-circle":""),children:$.img5&&(0,N.jsx)("img",{src:$.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,N.jsxs)("div",{className:`${j}`,children:[(0,N.jsxs)(l.A.Group,{children:[(0,N.jsx)(l.A.Label,{className:`${g}`,children:"Zoom"}),(0,N.jsx)(l.A.Range,{value:S,min:1,max:3,step:.1,className:"custom-range",onChange:e=>P(e.target.value)})]}),(0,N.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,N.jsxs)(n.A,{className:"text-button",onClick:()=>{z((e=>(e+90)%360))},children:[(0,N.jsx)(y.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,N.jsxs)("div",{...M({className:"dropzone d-flex justify-content-center align-items-center flex-column"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,N.jsx)("input",{...R()}),(0,N.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,N.jsx)(f.A,{})}),(0,N.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,N.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,N.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,N.jsxs)(t.A.Footer,{className:"d-flex justify-content-end",children:[(0,N.jsx)(n.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),E([]),F({}),w(null),r(!1)},children:"Cancel"}),(0,N.jsx)(n.A,{className:"solid-button",onClick:async()=>{const e=await D(),s=function(e,s){const r=atob(e.split(",")[1]),a=new ArrayBuffer(r.length),l=new Uint8Array(a);for(let t=0;t<r.length;t++)l[t]=r.charCodeAt(t);return new Blob([a],{type:s})}(e,"image/jpeg");w({croppedImageBase64:e,croppedImageBlob:s}),r(!1)},children:"Save Photo"})]})]})}},44541:(e,s,r)=>{r.d(s,{A:()=>d});var a=r(65043),l=r(65173),t=r.n(l),n=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}function o(e,s){if(null==e)return{};var r,a,l=function(e,s){if(null==e)return{};var r,a,l={},t=Object.keys(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||(l[r]=e[r]);return l}(e,s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var c=(0,a.forwardRef)((function(e,s){var r=e.color,l=e.size,t=e.title,c=e.className,d=o(e,n);return a.createElement("svg",i({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-building",c].filter(Boolean).join(" ")},d),t?a.createElement("title",null,t):null,a.createElement("path",{d:"M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"}),a.createElement("path",{d:"M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"}))}));c.propTypes={color:t().string,size:t().oneOfType([t().string,t().number]),title:t().string,className:t().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c},33361:(e,s,r)=>{r.d(s,{A:()=>d});var a=r(65043),l=r(65173),t=r.n(l),n=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}function o(e,s){if(null==e)return{};var r,a,l=function(e,s){if(null==e)return{};var r,a,l={},t=Object.keys(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||(l[r]=e[r]);return l}(e,s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var c=(0,a.forwardRef)((function(e,s){var r=e.color,l=e.size,t=e.title,c=e.className,d=o(e,n);return a.createElement("svg",i({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-envelope",c].filter(Boolean).join(" ")},d),t?a.createElement("title",null,t):null,a.createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"}))}));c.propTypes={color:t().string,size:t().oneOfType([t().string,t().number]),title:t().string,className:t().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c},36237:(e,s,r)=>{r.d(s,{A:()=>d});var a=r(65043),l=r(65173),t=r.n(l),n=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}function o(e,s){if(null==e)return{};var r,a,l=function(e,s){if(null==e)return{};var r,a,l={},t=Object.keys(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||(l[r]=e[r]);return l}(e,s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var c=(0,a.forwardRef)((function(e,s){var r=e.color,l=e.size,t=e.title,c=e.className,d=o(e,n);return a.createElement("svg",i({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-info-square",c].filter(Boolean).join(" ")},d),t?a.createElement("title",null,t):null,a.createElement("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),a.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))}));c.propTypes={color:t().string,size:t().oneOfType([t().string,t().number]),title:t().string,className:t().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c},544:(e,s,r)=>{r.d(s,{A:()=>d});var a=r(65043),l=r(65173),t=r.n(l),n=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}function o(e,s){if(null==e)return{};var r,a,l=function(e,s){if(null==e)return{};var r,a,l={},t=Object.keys(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||(l[r]=e[r]);return l}(e,s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)r=t[a],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var c=(0,a.forwardRef)((function(e,s){var r=e.color,l=e.size,t=e.title,c=e.className,d=o(e,n);return a.createElement("svg",i({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-upload",c].filter(Boolean).join(" ")},d),t?a.createElement("title",null,t):null,a.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),a.createElement("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"}))}));c.propTypes={color:t().string,size:t().oneOfType([t().string,t().number]),title:t().string,className:t().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c}}]);
//# sourceMappingURL=16.95a27d04.chunk.js.map