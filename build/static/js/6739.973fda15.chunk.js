"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[6739],{14834:(e,t,n)=>{function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=parseFloat(e);return isNaN(n)?"0.00":t&&Math.abs(n)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(n):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}n.d(t,{m:()=>l})},17030:(e,t,n)=>{n.d(t,{DY:()=>o,Dc:()=>a,MY:()=>y,VL:()=>p,Vn:()=>c,WL:()=>i,_0:()=>f,ax:()=>s,cM:()=>m,jH:()=>h,mL:()=>u,sl:()=>x,tA:()=>d,zw:()=>v});var l=n(31342);const r="https://dev.memate.com.au/api/v1",s=async e=>{const t=new URL(`${r}/references/calc-indexes/`);return 1===e&&t.searchParams.append("all",1),(0,l.f)(t.toString(),{method:"GET"})},a=async e=>{const t=new URL(`${r}${`/references/calculators/${e}/`}`),n=await(0,l.f)(t.toString(),{method:"GET"});return Array.isArray(n)?n.filter((e=>!e.deleted)):n&&!n.deleted?n:null},i=async e=>{const t=new URL(`${r}${`/projects/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},o=async e=>{const t={method:"POST",body:e},n=new URL(`${r}/sales/new-request/`);return(0,l.f)(n.toString(),t)},c=async(e,t)=>{if(!e)throw new Error("No id found");const n={method:"PUT",body:t},s=new URL(`${r}${`/sales/projects/${e}/`}`);return(0,l.f)(s.toString(),n)},d=async e=>{const t={method:"POST",body:e},n=new URL(`${r}/projects/merges/new/`);return(0,l.f)(n.toString(),t)},u=async e=>{const t=new URL(`${r}${`/projects/merges/${e}/delete/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},p=async e=>{const t={method:"POST",body:e},n=new URL(`${r}/settings/departments/`);return(0,l.f)(n.toString(),t)},m=async(e,t)=>{if(!e)return;const n={method:"PUT",body:t},s=new URL(`${r}${`/settings/departments/update/${e}/`}`);return(0,l.f)(s.toString(),n)},v=async e=>{const t={method:"POST",body:e},n=new URL(`${r}/settings/sub-departments/`);return(0,l.f)(n.toString(),t)},f=async(e,t)=>{if(!e)return;const n={method:"PUT",body:t},s=new URL(`${r}${`/settings/sub-departments/update/${e}/`}`);return(0,l.f)(s.toString(),n)},h=async(e,t)=>{const n={method:"POST",body:t},s=new URL(`${r}${`/references/calculators/${e}/new/`}`);return(0,l.f)(s.toString(),n)},x=async(e,t,n)=>{const s={method:"PUT",body:n},a=new URL(`${r}${`/references/calculators/${e}/update/${t}/`}`);return(0,l.f)(a.toString(),s)},y=async e=>{const t=new URL(`${r}${e}`);return(0,l.f)(t.toString(),{method:"DELETE"})}},27643:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var l=n(65043),r=n(61072),s=n(78602),a=n(83627),i=n(65173),o=n.n(i),c=["color","size","title","className"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},d.apply(null,arguments)}var u=(0,l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,a=void 0===s?"1em":s,i=e.title,o=void 0===i?null:i,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)n=s[l],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,c);return l.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:r,className:["bi","bi-chevron-up",p].filter(Boolean).join(" ")},m),o?l.createElement("title",null,o):null,l.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"}))}));u.propTypes={color:o().string,size:o().oneOfType([o().string,o().number]),title:o().string,className:o().string};const p=u;var m=n(66415),v=n(48792),f=n(73898),h=n(56741),x=["color","size","title","className"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},y.apply(null,arguments)}var g=(0,l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,a=void 0===s?"1em":s,i=e.title,o=void 0===i?null:i,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)n=s[l],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,x);return l.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:r,className:["bi","bi-backspace",d].filter(Boolean).join(" ")},u),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"}),l.createElement("path",{d:"M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"}))}));g.propTypes={color:o().string,size:o().oneOfType([o().string,o().number]),title:o().string,className:o().string};const j=g;var b=["color","size","title","className"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},w.apply(null,arguments)}var N=(0,l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,a=void 0===s?"1em":s,i=e.title,o=void 0===i?null:i,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)n=s[l],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,b);return l.createElement("svg",w({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:r,className:["bi","bi-save",d].filter(Boolean).join(" ")},u),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"}))}));N.propTypes={color:o().string,size:o().oneOfType([o().string,o().number]),title:o().string,className:o().string};const _=N;var S=n(93202),C=n(49367),A=n(93747),E=n(58387),O=n(21052),F=n(55797),R=n(79255),P=n(72052),k=n(27932),$=n(93740),z=n(74856),T=n(14282),B=n(56328);const M={wraper:"calculators_wraper__aewG6",topHeadBorder:"calculators_topHeadBorder__mfKCt","p-highlight":"calculators_p-highlight__3d9zk",innerExpandIcon:"calculators_innerExpandIcon__7485N",innerCollapseIcon:"calculators_innerCollapseIcon__aNrMn",accorHeadbox:"calculators_accorHeadbox__f+ij1","p-icon":"calculators_p-icon__NQaQ7",hoverToShow:"calculators_hoverToShow__S4I4X",downBoxStyle:"calculators_downBoxStyle__-Xc7q",iconSpace:"calculators_iconSpace__ZEbgh",creaeDepartment:"calculators_creaeDepartment__toV7V",accorHeadStyle:"calculators_accorHeadStyle__vUjqD",accorInHeadStyle:"calculators_accorInHeadStyle__TUddA",innerBoxStyle:"calculators_innerBoxStyle__QFtjy",calculateBox:"calculators_calculateBox__zaz7B",boxcal:"calculators_boxcal__LdDA4",profit:"calculators_profit__65eR-",RItem:"calculators_RItem__nCFaj",deleteOutline:"calculators_deleteOutline__9D2St",delete:"calculators_delete__+52fT",create:"calculators_create__mEJIe",editBut:"calculators_editBut__QEaEh",contentStyle:"calculators_contentStyle__rkbzC",modelStyleBoxstatus:"calculators_modelStyleBoxstatus__OxGQ8",iconborderStyle:"calculators_iconborderStyle__Peyjs",stepBoxStylePayment:"calculators_stepBoxStylePayment__VwrhK",inputInfo:"calculators_inputInfo__LCuyT",modal:"calculators_modal__Kc6BD",modalHeader:"calculators_modalHeader__w-xRT",headerTitle:"calculators_headerTitle__JxbZh",circledesignstyle:"calculators_circledesignstyle__OS-4Z",out:"calculators_out__nhZ8X",inputBox:"calculators_inputBox__HLy1o",editIcon:"calculators_editIcon__zJxtm",deleteIcon:"calculators_deleteIcon__qWFbY",inputNumber:"calculators_inputNumber__t4+mu",inputNumber2:"calculators_inputNumber2__feIc7",bottom:"calculators_bottom__MVPLM",editIconBox:"calculators_editIconBox__c5sps",editIconBox2:"calculators_editIconBox2__rx5xR",edidcodtUpdate:"calculators_edidcodtUpdate__1NIAn"};var I=n(94819),D=n(17030);const L=n.p+"static/media/confirm-img.798ad3693ffcf996930da9c6e63e7908.svg";var H=n(70579);const q=e=>{let{title:t,api:n,refetch:r,isOutline:s=!1}=e;const[a,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!1),d=(0,H.jsx)("div",{className:`${M.modalHeader}`,children:(0,H.jsx)("div",{className:"w-100 d-flex justify-content-center align-items-center gap-2",children:(0,H.jsxs)("span",{className:`white-space-nowrap mt-2 mb-2 ${M.headerTitle}`,children:["Are you sure you want to delete ",t,"?"]})})}),u=(0,H.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,H.jsx)(T.A,{className:"outline-button",onClick:()=>c(!1),children:"Cancel"}),(0,H.jsxs)(T.A,{className:"danger-button",onClick:async()=>{try{i(!0),await(0,D.MY)(n),r(),B.oR.success(`${t} deleted successfully`),c(!1)}catch(e){console.log("err: ",e),B.oR.error(`Failed to delete ${t}. Please try again.`)}finally{i(!1)}},disabled:a,children:["Delete ",t," ",a&&(0,H.jsx)($.p,{style:{width:"20px",height:"20px",color:"#fff"}})]})]});return(0,H.jsxs)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,H.jsxs)(T.A,{className:s?M.deleteOutline:M.delete,onClick:e=>c(!0),children:[(0,H.jsx)(I.A,{color:"#B42318",size:18,className:"me-2"}),"Delete ",t]}),(0,H.jsx)(F.l,{visible:o,modal:!0,header:d,footer:u,className:`${M.modal} custom-modal`,style:{width:"670px"},onHide:()=>c(!1),children:(0,H.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:(0,H.jsx)("img",{src:L,alt:"confirm"})})})]})};var U=n(14834);const V=e=>{let t=parseFloat(null===e||void 0===e?void 0:e.cost)||0,n=0,l=parseFloat(null===e||void 0===e?void 0:e.profit_type_value)||0;return"MRK"===(null===e||void 0===e?void 0:e.profit_type)?n=t+t*(l/100):"MRG"===(null===e||void 0===e?void 0:e.profit_type)?n=t/(1-l/100):"AMN"===(null===e||void 0===e?void 0:e.profit_type)&&(n=t+l),(0,U.m)(parseFloat(n).toFixed(2))},G=e=>{let{calculator:t,index:n,refetch:a,tempCalculator:i,setTempCalculator:o,editId:c,setEditId:d}=e;const[u,p]=(0,l.useState)(!1),[m,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{if("MRG"===(null===i||void 0===i?void 0:i.profit_type)){let e=(null===i||void 0===i?void 0:i.profit_type_value)||0;e>100&&(e=99.99),o((t=>({...t,profit_type_value:e})))}}),[i]);return(0,l.useEffect)((()=>{m&&i!==t&&c===t.id&&o(t)}),[m,t,c]),(0,l.useEffect)((()=>{if(m&&i&&c===t.id){let e=(parseFloat(null===i||void 0===i?void 0:i.cost)||0)*(parseFloat(null===i||void 0===i?void 0:i.quantity)||0),t=parseFloat(null===i||void 0===i?void 0:i.profit_type_value)||0;"MRK"===(null===i||void 0===i?void 0:i.profit_type)?e+=e*t/100:"MRG"===(null===i||void 0===i?void 0:i.profit_type)?e/=1-t/100:"AMN"===(null===i||void 0===i?void 0:i.profit_type)&&(e+=t);let n=parseFloat(null===i||void 0===i?void 0:i.discount)||0,l=parseFloat(e-e*n/100).toFixed(2);l!==i.total&&o((e=>({...e,total:l})))}}),[i,m,c,t.id,o]),(0,H.jsx)("div",{className:`${M.contentStyle}`,children:m&&c===t.id?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("h6",{className:"font-14",style:{color:"#475467"},children:["Full Description ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsx)(k.Z,{autoResize:!0,value:null===i||void 0===i?void 0:i.description,onChange:e=>o((t=>({...t,description:e.target.value}))),className:"w-100 border mb-3",rows:5,style:{height:"145px",overflow:"auto",resize:"none"}}),(0,H.jsxs)(r.A,{className:M.edidcodtUpdate,children:[(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex gap-2 justify-content-between align-items-center ",children:[(0,H.jsxs)("div",{className:"left",children:[(0,H.jsxs)("label",{children:["Cost ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsx)(R.Y,{className:(0,E.A)(M.inputNumber),prefix:"$",value:parseFloat((null===i||void 0===i?void 0:i.cost)||0),onValueChange:e=>o((t=>({...t,cost:e.value}))),maxFractionDigits:2,minFractionDigits:2,inputId:"minmaxfraction"})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",padding:"4px",background:"#EBF8FF",marginTop:"25px"},children:(0,H.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsxs)("label",{children:["Markup/Margin ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,H.jsx)(R.Y,{className:(0,E.A)(M.inputNumber2),value:parseFloat((null===i||void 0===i?void 0:i.profit_type_value)||0),onValueChange:e=>o((t=>({...t,profit_type_value:e.value}))),maxFractionDigits:2,minFractionDigits:2,max:"MRG"===(null===i||void 0===i?void 0:i.profit_type)?99.99:void 0}),(0,H.jsxs)("select",{value:null===i||void 0===i?void 0:i.profit_type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>o((t=>({...t,profit_type:e.target.value}))),children:[(0,H.jsx)("option",{value:"MRG",children:"MRG %"}),(0,H.jsx)("option",{value:"AMN",children:"AMT $"}),(0,H.jsx)("option",{value:"MRK",children:"MRK %"})]})]})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsx)("label",{className:"mb-2",children:"Unit Price"}),(0,H.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,H.jsxs)("strong",{children:["$",V(i)]})})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF",marginTop:"30px"},children:(0,H.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsxs)("label",{children:["Quantity/Hours ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,H.jsx)(R.Y,{className:(0,E.A)(M.inputNumber2),inputId:"withoutgrouping",value:parseInt((null===i||void 0===i?void 0:i.quantity)||0),onValueChange:e=>o((t=>({...t,quantity:e.value})))}),(0,H.jsxs)("select",{value:null===i||void 0===i?void 0:i.type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>o((t=>({...t,type:e.target.value}))),children:[(0,H.jsx)("option",{value:"Cost",children:"1/Q"}),(0,H.jsx)("option",{value:"Hourly",children:"1/H"})]})]})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,H.jsxs)(s.A,{children:[(0,H.jsx)("label",{className:"mb-2",children:"Sub Total:"}),(0,H.jsxs)("strong",{children:["$ ",(0,U.m)(parseFloat((null===i||void 0===i?void 0:i.total)||0))]})]})]}),(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,H.jsx)("span",{}),(0,H.jsxs)("div",{className:(0,E.A)(M.RItem),children:[(0,H.jsxs)(T.A,{className:M.deleteOutline,onClick:()=>{v(!1),d(null),o(null)},children:[(0,H.jsx)(j,{color:"#B42318",size:18,className:"me-2"}),"Cancel"]}),(0,H.jsxs)(T.A,{className:M.editBut,disabled:u,onClick:async()=>{if(null===i||void 0===i||!i.description)return void B.oR.error("Description is required.");if(null===i||void 0===i||!i.cost)return void B.oR.error("Cost is required.");if(null===i||void 0===i||!i.profit_type_value)return void B.oR.error("Markup/Margin is required.");if(null===i||void 0===i||!i.quantity)return void B.oR.error("Quantity/Hours is required.");let e={title:null===i||void 0===i?void 0:i.title,description:null===i||void 0===i?void 0:i.description,type:"Cost"===(null===i||void 0===i?void 0:i.type)?0:1,cost:null===i||void 0===i?void 0:i.cost,quantity:null===i||void 0===i?void 0:i.quantity,profit_type:null===i||void 0===i?void 0:i.profit_type,profit_type_value:null===i||void 0===i?void 0:i.profit_type_value,total:null===i||void 0===i?void 0:i.total};try{p(!0),await(0,D.sl)(n,t.id,e),B.oR.success("Calculator updated successfully."),v(!1),d(null),a(n),o(null)}catch(l){console.log("Error during updating calculator",l),B.oR.error("Failed to update calculator. Please try again.")}finally{p(!1)}},children:[u?(0,H.jsx)($.p,{className:"me-2",style:{width:"18px",height:"18px"}}):(0,H.jsx)(_,{color:"#106B99",size:18,className:"me-2"}),"Save Calculator"]})]})]})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("h6",{className:"font-14",style:{color:"#667085",fontWeight:400},children:"Description"}),(0,H.jsx)("p",{style:{whiteSpace:"pre-line"},children:(null===t||void 0===t?void 0:t.description)||""}),(0,H.jsxs)(r.A,{children:[(0,H.jsxs)(s.A,{children:[(0,H.jsx)("label",{children:"Cost"}),(0,H.jsxs)("strong",{children:["$",(0,U.m)(parseFloat((null===t||void 0===t?void 0:t.cost)||0).toFixed(2))]})]}),(0,H.jsxs)(s.A,{children:[(0,H.jsx)("label",{children:"Margin/Markup"}),(0,H.jsxs)("strong",{children:[parseFloat((null===t||void 0===t?void 0:t.profit_type_value)||0).toFixed(2)," ","AMN"===(null===t||void 0===t?void 0:t.profit_type)?"AMT $":"MRG"===(null===t||void 0===t?void 0:t.profit_type)?"MRG %":"MRK %"]})]}),(0,H.jsxs)(s.A,{children:[(0,H.jsx)("label",{children:"Unit Price"}),(0,H.jsxs)("strong",{children:["$",(0,U.m)(V(t))]})]}),(0,H.jsxs)(s.A,{children:[(0,H.jsx)("label",{children:"Quantity/Hours"}),(0,H.jsx)("strong",{children:(0,U.m)(parseFloat((null===t||void 0===t?void 0:t.quantity)||0))})]}),(0,H.jsxs)(s.A,{children:[(0,H.jsx)("label",{children:"Sub Total:"}),(0,H.jsxs)("strong",{children:["$",(0,U.m)(parseFloat(t.total||0).toFixed(2))]})]})]}),(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,H.jsx)("span",{}),(0,H.jsxs)("div",{className:(0,E.A)(M.RItem),children:[(0,H.jsx)(q,{title:"Calculator",isOutline:!0,api:`/references/calculators/delete/${t.id}/`,refetch:()=>a(n)}),(0,H.jsxs)(T.A,{className:M.editBut,onClick:()=>{v(!0),d(t.id)},children:[(0,H.jsx)(f.A,{color:"#106B99",size:18,className:"me-2"}),"Edit Calculator"]})]})]})]})})},K=e=>{let{tempCalculator:t,setTempCalculator:n,index:a,name:i,refetch:o,cancelCreateCalculator:c}=e;const[d,u]=(0,l.useState)(!1);(0,l.useEffect)((()=>{"MRG"===t.profit_type&&n((e=>({...e,profit_type_value:Math.min(e.profit_type_value,99.99)})))}),[t.profit_type,t.profit_type_value]);const p=(0,l.useMemo)((()=>{let e=(parseFloat(t.cost)||0)*(parseFloat(t.quantity)||0),n=parseFloat(t.profit_type_value)||0;"MRK"===t.profit_type?e+=e*n/100:"MRG"===t.profit_type?e/=1-n/100:"AMN"===t.profit_type&&(e+=n);let l=parseFloat(t.discount)||0;return parseFloat(e-e*l/100).toFixed(2)}),[t.cost,t.quantity,t.profit_type,t.profit_type_value,t.discount]);(0,l.useEffect)((()=>{p!==t.total&&n((e=>({...e,total:p})))}),[p,t.total]);return(0,H.jsxs)("div",{className:`${M.contentStyle}`,children:[(0,H.jsxs)("h6",{children:["Full Description",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsx)(k.Z,{autoResize:!0,value:null===t||void 0===t?void 0:t.description,onChange:e=>n((t=>({...t,description:e.target.value}))),className:"w-100 border mb-3",rows:5,style:{height:"145px",overflow:"auto",resize:"none",outline:"none",boxShadow:"none"}}),(0,H.jsxs)(r.A,{className:M.edidcodtUpdate,children:[(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex gap-2 justify-content-between align-items-center",children:[(0,H.jsxs)("div",{className:"left",children:[(0,H.jsxs)("label",{children:["Cost ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsx)(R.Y,{className:(0,E.A)(M.inputNumber),prefix:"$",value:(null===t||void 0===t?void 0:t.cost)&&parseFloat((null===t||void 0===t?void 0:t.cost)||0),onValueChange:e=>n((t=>({...t,cost:e.value}))),maxFractionDigits:2,minFractionDigits:2,placeholder:"$0.00",inputId:"minmaxfraction"})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",padding:"4px",background:"#EBF8FF",marginTop:"20px"},children:(0,H.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsxs)("label",{className:"d-block text-center",children:["Markup/Margin ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,H.jsx)(R.Y,{className:(0,E.A)(M.inputNumber2),value:parseFloat((null===t||void 0===t?void 0:t.profit_type_value)||0),onValueChange:e=>n((t=>({...t,profit_type_value:parseFloat(e.value)}))),max:"MRG"===(null===t||void 0===t?void 0:t.profit_type)?99.99:void 0,maxFractionDigits:2,minFractionDigits:2,placeholder:"0.00"}),(0,H.jsxs)("select",{value:null===t||void 0===t?void 0:t.profit_type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>n((t=>({...t,profit_type:e.target.value}))),children:[(0,H.jsx)("option",{value:"MRG",children:"MRG %"}),(0,H.jsx)("option",{value:"AMN",children:"AMT $"}),(0,H.jsx)("option",{value:"MRK",children:"MRK %"})]})]})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsx)("label",{className:"mb-2",children:"Unit Price"}),(0,H.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,H.jsxs)("strong",{children:["$ ",V(t)]})})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF",marginTop:"35px"},children:(0,H.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,H.jsx)(s.A,{children:(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsxs)("label",{children:["Quantity/Hours ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,H.jsx)(R.Y,{className:(0,E.A)(M.inputNumber2),inputId:"withoutgrouping",placeholder:"0",value:(null===t||void 0===t?void 0:t.quantity)&&parseInt((null===t||void 0===t?void 0:t.quantity)||0),onValueChange:e=>n((t=>({...t,quantity:e.value})))}),(0,H.jsxs)("select",{value:null===t||void 0===t?void 0:t.type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>n((t=>({...t,type:e.target.value}))),children:[(0,H.jsx)("option",{value:"Cost",children:"1/Q"}),(0,H.jsx)("option",{value:"Hourly",children:"1/H"})]})]})]}),(0,H.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",marginTop:"20px"},children:"="})]})}),(0,H.jsxs)(s.A,{children:[(0,H.jsx)("label",{className:"mb-2",children:"Sub Total:"}),(0,H.jsxs)("strong",{children:["$ ",(0,U.m)(parseFloat((null===t||void 0===t?void 0:t.total)||0).toFixed(2))]})]})]}),(0,H.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,H.jsx)("span",{}),(0,H.jsxs)("div",{className:(0,E.A)(M.RItem),children:[(0,H.jsxs)(T.A,{className:M.delete,onClick:()=>c(null),children:[(0,H.jsx)(j,{color:"#B42318",size:18,className:"me-2"}),"Cancel"]}),(0,H.jsxs)(T.A,{className:M.create,disabled:d,onClick:async()=>{if(!t.description)return void B.oR.error("Description is required.");if(!t.cost)return void B.oR.error("Cost is required.");if(!t.profit_type_value)return void B.oR.error("Markup/Margin is required.");if(!t.quantity)return void B.oR.error("Quantity/Hours is required.");const e={title:i||"",description:t.description,type:"Cost"===t.type?0:1,cost:t.cost,quantity:t.quantity,profit_type:t.profit_type,profit_type_value:t.profit_type_value,total:t.total};try{u(!0),await(0,D.jH)(a,e),B.oR.success("Calculator created successfully."),c(null),o(a),n({profit_type:"MRK",profit_type_value:0,cost:void 0,quantity:1,discount:0,total:0,description:"",type:"Cost"})}catch(l){console.error("Error during creating calculator",l),B.oR.error("Failed to create calculator. Please try again.")}finally{u(!1)}},children:[d?(0,H.jsx)($.p,{className:"me-2",style:{width:"18px",height:"18px"}}):(0,H.jsx)(_,{color:"#106B99",size:18,className:"me-2"}),"Save Calculator"]})]})]})]})},Q=e=>{let{calculators:t=[],index:n,name:r,refetch:s,isNewCreate:a,cancelCreateCalculator:i}=e;const[o,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(null),[p,m]=(0,l.useState)({profit_type:"MRK",profit_type_value:0,cost:void 0,quantity:1,discount:0,total:0,description:"",type:"Cost"}),v=t.filter(((e,t,n)=>t===n.findIndex((t=>t.id===e.id&&!(null!==e&&void 0!==e&&e.deleted)))));let f=v;null!==d&&void 0!==d&&d.id&&(f=v.filter((e=>e.id!==d.id)));const h=((e,t)=>{let n=0,l=0;null===e||void 0===e||e.forEach((e=>{let t=parseFloat(null===e||void 0===e?void 0:e.cost)||0,r=parseFloat(null===e||void 0===e?void 0:e.quantity)||0;n+=parseFloat(t*r||0),l+=parseFloat((null===e||void 0===e?void 0:e.total)||0)}));let r=0,s=0;"ex"===t?(r=.1*l,s=l+r):"in"===t?(s=l,r=.1*s/1.1,l=s-r):"no"===t&&(r=0,s=l);const a=l-n;return{budget:parseFloat(n).toFixed(2),operationalProfit:parseFloat(a).toFixed(2),subtotal:parseFloat(l).toFixed(2),tax:parseFloat(r).toFixed(2),total:parseFloat(s).toFixed(2)}})([...f,p,d],"ex");return(0,l.useEffect)((()=>{a&&m({profit_type:"MRK",profit_type_value:0,cost:void 0,quantity:1,discount:0,total:0,description:"",type:"Cost"})}),[a]),(0,H.jsxs)("div",{children:[a&&(0,H.jsx)(K,{index:n,name:r,refetch:s,cancelCreateCalculator:i,tempCalculator:p,setTempCalculator:m}),null===v||void 0===v?void 0:v.map((e=>(0,H.jsx)(G,{index:n,calculator:e,refetch:s,tempCalculator:d,setTempCalculator:u,editId:o,setEditId:c},e.id))),(0,H.jsx)("div",{className:M.calculateBox,children:(0,H.jsxs)("ul",{children:[(0,H.jsxs)("li",{children:[(0,H.jsxs)("div",{className:`${M.boxcal}`,children:[(0,H.jsx)("h6",{children:"Budget"}),(0,H.jsxs)("strong",{children:["$",(0,U.m)(+h.budget)]})]}),(0,H.jsxs)("div",{className:`${M.profit} ${M.boxcal}`,children:[(0,H.jsx)("h6",{children:"Operational Profit"}),(0,H.jsxs)("strong",{children:["$",(0,U.m)(+h.operationalProfit)]})]})]}),(0,H.jsxs)("li",{children:[(0,H.jsxs)("div",{className:`${M.boxcal}`,children:[(0,H.jsx)("h6",{children:"Total"}),(0,H.jsxs)("strong",{children:["$",(0,U.m)(+h.total)]})]}),(0,H.jsxs)("div",{className:`${M.boxcal}`,children:[(0,H.jsx)("h6",{children:"Total + GST"}),(0,H.jsxs)("strong",{children:["$",(0,U.m)(+h.total+ +h.tax)]})]})]})]})})]})},Y=()=>(0,H.jsxs)("div",{style:{padding:"16px 24px 16px 52px"},children:[(0,H.jsx)(z.E,{width:"10rem",className:"mb-2"}),(0,H.jsx)(z.E,{className:"mb-2"}),(0,H.jsx)(z.E,{className:"mb-2"}),(0,H.jsx)(z.E,{className:"mb-2"}),(0,H.jsxs)(r.A,{children:[(0,H.jsxs)(s.A,{sm:3,children:[(0,H.jsx)(z.E,{width:"4rem",className:"mb-2"}),(0,H.jsx)(z.E,{width:"8rem",className:"mb-2"})]}),(0,H.jsxs)(s.A,{sm:3,children:[(0,H.jsx)(z.E,{width:"4rem",className:"mb-2"}),(0,H.jsx)(z.E,{width:"5rem",className:"mb-2"})]}),(0,H.jsxs)(s.A,{sm:3,children:[(0,H.jsx)(z.E,{width:"4rem",className:"mb-2"}),(0,H.jsx)(z.E,{width:"8rem",className:"mb-2"})]})]}),(0,H.jsxs)(r.A,{children:[(0,H.jsxs)(s.A,{sm:2,className:"py-3 px-2",children:[(0,H.jsx)(z.E,{width:"3rem",className:"mb-2"}),(0,H.jsx)(z.E,{width:"100%",className:"mb-2"})]}),(0,H.jsxs)(s.A,{sm:2,className:"py-3 px-2",children:[(0,H.jsx)(z.E,{width:"3rem",className:"mb-2"}),(0,H.jsx)(z.E,{width:"100%",className:"mb-2"})]}),(0,H.jsx)(s.A,{sm:6}),(0,H.jsxs)(s.A,{sm:2,className:"py-3",children:[(0,H.jsx)(z.E,{width:"3rem",className:"mb-2"}),(0,H.jsx)(z.E,{width:"100%",className:"mb-2"})]})]})]}),W=e=>{let{visible:t,setVisible:n,refetch:r,editDepartment:s,setEditDepartment:a}=e;const[i,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)("");(0,l.useEffect)((()=>{null!==s&&void 0!==s&&s.name&&d(null===s||void 0===s?void 0:s.name)}),[null===s||void 0===s?void 0:s.name]);const u=()=>{n(!1),d(""),a({id:null,name:null})},p=(0,H.jsx)("div",{className:`${M.modalHeader}`,children:(0,H.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,H.jsx)("div",{className:M.circledesignstyle,children:(0,H.jsx)("div",{className:M.out,children:(0,H.jsx)(S.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,H.jsx)("span",{className:`white-space-nowrap ${M.headerTitle}`,children:null!==s&&void 0!==s&&s.id?"Edit Department":"Create Department"})]})}),m=(0,H.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,H.jsx)(T.A,{className:"outline-button",onClick:u,children:"Cancel"}),(0,H.jsx)(T.A,{className:"solid-button",style:{width:"132px"},onClick:async()=>{try{if(c){if(o(!0),null!==s&&void 0!==s&&s.id)await(0,D.cM)(null===s||void 0===s?void 0:s.id,{name:c}),B.oR.success("Department updated successfully."),a({id:null,name:null});else{await(0,D.VL)({name:c}),B.oR.success("New department created successfully.");const e=document.querySelector(".content_wrap_main");e&&setTimeout((()=>{e.scrollTo({top:e.scrollHeight+100,behavior:"smooth"})}),500)}r(),u()}}catch(e){console.error(`Error ${null!==s&&void 0!==s&&s.id?"updating":"creating"} department:`,e),B.oR.error(`Failed to ${null!==s&&void 0!==s&&s.id?"update":"create"} department. Please try again.`)}finally{o(!1)}},disabled:(null===c||void 0===c?void 0:c.length)<1,children:i?"Loading...":"Save Details"})]});return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(F.l,{visible:t,modal:!0,header:p,footer:m,className:`${M.modal} custom-modal`,onHide:u,children:(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsxs)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:["Department name ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsx)(P.S,{value:c,onChange:e=>d(e.target.value),className:M.inputBox})]})})})},Z=e=>{let{visible2:t,setVisible2:n,refetch:r,editSubDepartment:s,setEditSubDepartment:a}=e;const[i,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(""),u=null===s||void 0===s?void 0:s.parent;(0,l.useEffect)((()=>{null!==s&&void 0!==s&&s.name&&d(null===s||void 0===s?void 0:s.name)}),[null===s||void 0===s?void 0:s.name]);const p=()=>{n(!1),d(""),a({id:null,name:null,parent:null})},m=(0,H.jsx)("div",{className:`${M.modalHeader}`,children:(0,H.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,H.jsx)("div",{className:M.circledesignstyle,children:(0,H.jsx)("div",{className:M.out,children:(0,H.jsx)(S.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,H.jsx)("span",{className:`white-space-nowrap ${M.headerTitle}`,children:null!==s&&void 0!==s&&s.id?"Edit Product / Service ":"Create Product / Service "})]})}),v=(0,H.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,H.jsx)(T.A,{className:"outline-button",onClick:p,children:"Cancel"}),(0,H.jsx)(T.A,{className:"solid-button",style:{width:"132px"},onClick:async()=>{try{if(c){if(!u)return B.oR.error("Parent id not found");o(!0),null!==s&&void 0!==s&&s.id?(await(0,D._0)(null===s||void 0===s?void 0:s.id,{name:c,parent:u}),B.oR.success("Product or Service updated successfully."),a({id:null,name:null,parent:null})):(await(0,D.zw)({name:c,parent:u}),B.oR.success("New product or service created successfully.")),r(),p()}}catch(e){console.error(`Error ${null!==s&&void 0!==s&&s.id?"updating":"creating"} product or service :`,e),B.oR.error(`Failed to ${null!==s&&void 0!==s&&s.id?"update":"create"} product or service . Please try again.`)}finally{o(!1)}},disabled:(null===c||void 0===c?void 0:c.length)<1,children:i?"Loading...":"Save Details"})]});return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(F.l,{visible:t,modal:!0,header:m,footer:v,className:`${M.modal} custom-modal`,onHide:p,children:(0,H.jsxs)("div",{className:"d-flex flex-column",children:[(0,H.jsxs)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:["Product or Service Name ",(0,H.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,H.jsx)(P.S,{value:c,onChange:e=>d(e.target.value),className:M.inputBox})]})})})},X=()=>{var e,t;const[n,r]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(null),[d,u]=(0,l.useState)({id:null,name:null}),[h,x]=(0,l.useState)(null),[y,g]=(0,l.useState)({}),[j,b]=(0,l.useState)(void 0),[w,N]=(0,l.useState)(void 0),_=(0,A.I)({queryKey:["departments"],queryFn:()=>(0,D.ax)(1),enabled:!0}),S=async e=>{const t=await(0,D.Dc)(e);g((n=>({...n,[e]:t||[]})))};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(C.mg,{children:(0,H.jsx)("title",{children:"MeMate - Departments"})}),(0,H.jsx)("div",{className:"headSticky",children:(0,H.jsx)("h1",{children:"Calculators"})}),(0,H.jsx)("div",{className:(0,E.A)(M.wraper,"content_wrap_main"),children:(0,H.jsx)("div",{className:"content_wrapper",children:(0,H.jsxs)("div",{className:"listwrapper",children:[(0,H.jsxs)("div",{className:`topHeadStyle pb-4 ${M.topHeadBorder}`,children:[(0,H.jsx)("h2",{children:"Departments"}),(0,H.jsxs)("button",{onClick:()=>r(!0),className:"outline-button",children:["Create Department ",(0,H.jsx)(a.A,{color:"#000000",size:20,className:"mb-1 ms-1"})]})]}),(0,H.jsx)("div",{children:(0,H.jsx)(O.n,{activeIndex:j,onTabChange:e=>b(e.index),expandIcon:(0,H.jsx)("div",{className:"expandIcon",children:(0,H.jsx)(p,{size:16,color:"#344054"})}),collapseIcon:(0,H.jsx)("div",{className:"collapseIcon",children:(0,H.jsx)(m.A,{size:16,color:"#106B99"})}),onTabOpen:()=>{N(void 0)},children:null===_||void 0===_||null===(e=_.data)||void 0===e||null===(t=e.filter((e=>!(null!==e&&void 0!==e&&e.deleted))))||void 0===t?void 0:t.map(((e,t)=>{var n;const l=null===e||void 0===e||null===(n=e.subindexes)||void 0===n?void 0:n.filter((e=>!(null!==e&&void 0!==e&&e.deleted)));return(0,H.jsx)(O.g,{className:(0,E.A)(M.accorHeadbox,"main-accordion-header"),header:(0,H.jsxs)("span",{className:"d-flex align-items-center justify-content-between",children:[(0,H.jsxs)("div",{className:"d-flex align-items-center",children:[(0,H.jsx)(v.A,{color:"#98A2B3",size:16,style:{cursor:"move"}}),(0,H.jsx)("span",{className:(0,E.A)(M.accorHeadStyle,"active-header-text ms-2"),children:e.name}),(0,H.jsx)("div",{className:(0,E.A)(M.editIconBox,"editItem"),onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),r(!0),u(t)})(t,{id:e.id,name:e.name}),style:{visibility:"hidden"},children:(0,H.jsx)(f.A,{color:"#106B99",size:16})})]}),(0,H.jsxs)("div",{className:(0,E.A)(M.RItem,"editItem"),style:{visibility:"hidden",marginRight:"14px"},children:[(0,H.jsx)(q,{title:"Department",api:`/settings/departments/delete/${e.id}/`,refetch:_.refetch}),(0,H.jsxs)(T.A,{className:M.create,onClick:n=>((e,t,n)=>{e.preventDefault(),e.stopPropagation(),x({parent:t}),i(!0),b(n)})(n,e.id,t),children:[(0,H.jsx)(a.A,{color:"#106B99",size:18,className:"me-2"}),"Product / Service"]})]})]}),children:(0,H.jsx)(O.n,{activeIndex:w,onTabChange:e=>N(e.index),className:"innnerAccordian",expandIcon:(0,H.jsx)("div",{className:(0,E.A)(M.innerExpandIcon),children:(0,H.jsx)(p,{size:16,color:"#344054"})}),collapseIcon:(0,H.jsx)("div",{className:(0,E.A)(M.innerCollapseIcon),children:(0,H.jsx)(m.A,{size:16,color:"#106B99"})}),onTabOpen:e=>{const t=l[e.index].id;S(t)},onTabClose:()=>!1,children:null===l||void 0===l?void 0:l.map(((t,n)=>(0,H.jsx)(O.g,{className:(0,E.A)(M.innerBoxStyle,M.innerAccordionTab),header:(0,H.jsxs)("span",{className:"d-flex align-items-center justify-content-between",children:[(0,H.jsxs)("div",{className:"d-flex align-items-center",children:[(0,H.jsx)(v.A,{color:"#98A2B3",size:16,style:{cursor:"move",position:"relative",top:"2px",left:"-40px"}}),(0,H.jsx)("span",{className:(0,E.A)(M.accorHeadStyle,"active-header-text"),children:t.name}),(0,H.jsx)("div",{className:(0,E.A)(M.editIconBox2,"editItem"),onClick:n=>((e,t,n,l)=>{e.preventDefault(),e.stopPropagation(),x({id:t,parent:n,name:l}),i(!0)})(n,t.id,e.id,t.name),style:{visibility:"hidden"},children:(0,H.jsx)(f.A,{color:"#106B99",size:16})})]}),(0,H.jsxs)("div",{className:(0,E.A)(M.RItem,"editItem"),style:{visibility:"hidden"},children:[(0,H.jsx)(q,{title:"Product / Service ",api:`/settings/sub-departments/delete/${t.id}/`,refetch:_.refetch}),(0,H.jsxs)(T.A,{className:M.create,onClick:e=>((e,t,n)=>{e.preventDefault(),e.stopPropagation(),c(t),N(n),S(t)})(e,t.id,n),children:[(0,H.jsx)(a.A,{color:"#106B99",size:18,className:"me-2"}),"Create Calculator"]})]})]}),children:y[t.id]?(0,H.jsx)(Q,{index:t.id,isNewCreate:o===t.id,cancelCreateCalculator:c,refetch:S,calculators:y[t.id],name:t.name}):(0,H.jsx)(Y,{})},t.id)))})},e.id)}))})})]})})}),(0,H.jsx)(W,{visible:n,setVisible:r,refetch:_.refetch,editDepartment:d,setEditDepartment:u}),(0,H.jsx)(Z,{visible2:s,setVisible2:i,refetch:_.refetch,editSubDepartment:h,setEditSubDepartment:x})]})}},31342:(e,t,n)=>{n.d(t,{f:()=>l});const l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:l="GET",headers:r={},body:s}=t,a=localStorage.getItem("access_token"),i=s instanceof FormData,o={"Content-Type":i?"multipart/form-data":"application/json",...r};n&&(o.Authorization=`Bearer ${a}`);const c={method:l,headers:o,body:i?s:JSON.stringify(s),redirect:"follow"};try{const t=new URL(e),n=await fetch(t,c),l=n.headers.get("Content-Type");if(!n.ok){var d;let e=null;e=l&&l.includes("application/json")?await n.json():await n.text(),401===n.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const t=new Error((null===(d=e)||void 0===d?void 0:d.message)||`HTTP error! Status: ${n.status}`);throw t.status=n.status,t.data=e,t}if(l&&l.includes("application/json"))return await n.json();return{message:"Non-JSON response",body:await n.text()}}catch(u){throw console.error("Fetch API error:",u),u}}},32370:(e,t,n)=>{n.d(t,{v:()=>a});var l=n(65043),r=n(51414);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},s.apply(null,arguments)}var a=l.memo(l.forwardRef((function(e,t){var n=r.z.getPTI(e);return l.createElement("svg",s({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),l.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))})));a.displayName="ChevronRightIcon"},45154:(e,t,n)=>{n.d(t,{D:()=>a});var l=n(65043),r=n(51414);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},s.apply(null,arguments)}var a=l.memo(l.forwardRef((function(e,t){var n=r.z.getPTI(e);return l.createElement("svg",s({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),l.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))})));a.displayName="ChevronDownIcon"},56741:(e,t,n)=>{n.d(t,{A:()=>c});var l=n(65043),r=n(65173),s=n.n(r),a=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i.apply(null,arguments)}var o=(0,l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,o=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)n=s[l],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r,className:["bi","bi-x",p].filter(Boolean).join(" ")},m),d?l.createElement("title",null,d):null,l.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}))}));o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=o},66415:(e,t,n)=>{n.d(t,{A:()=>c});var l=n(65043),r=n(65173),s=n.n(r),a=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i.apply(null,arguments)}var o=(0,l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,o=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)n=s[l],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r,className:["bi","bi-chevron-down",p].filter(Boolean).join(" ")},m),d?l.createElement("title",null,d):null,l.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"}))}));o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=o},74856:(e,t,n)=>{n.d(t,{E:()=>f});var l=n(65043),r=n(84052),s=n(41828),a=n(2028),i=n(4504);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=o(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function d(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={root:function(e){var t=e.props;return(0,i.xW)("p-skeleton p-component",{"p-skeleton-circle":"circle"===t.shape,"p-skeleton-none":"none"===t.animation})}},p=s.x.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:u,inlineStyles:{root:{position:"relative"}},styles:'\n@layer primereact {\n    .p-skeleton {\n        position: relative;\n        overflow: hidden;\n    }\n    \n    .p-skeleton::after {\n        content: "";\n        animation: p-skeleton-animation 1.2s infinite;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(-100%);\n        z-index: 1;\n    }\n    \n    .p-skeleton-circle {\n        border-radius: 50%;\n    }\n    \n    .p-skeleton-none::after {\n        animation: none;\n    }\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n'}});function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=l.memo(l.forwardRef((function(e,t){var n=(0,a.qV)(),o=l.useContext(r.UM),c=p.getProps(e,o),d=p.setMetaData({props:c}),u=d.ptm,m=d.cx,f=d.sx,h=d.isUnstyled;(0,s.j)(p.css.styles,h,{name:"skeleton"});var x=l.useRef(null);l.useImperativeHandle(t,(function(){return{props:c,getElement:function(){return x.current}}}));var y=c.size?{width:c.size,height:c.size,borderRadius:c.borderRadius}:{width:c.width,height:c.height,borderRadius:c.borderRadius},g=n({ref:x,className:(0,i.xW)(c.className,m("root")),style:v(v({},y),f("root")),"aria-hidden":!0},p.getOtherProps(c),u("root"));return l.createElement("div",g)})));f.displayName="Skeleton"},93202:(e,t,n)=>{n.d(t,{A:()=>c});var l=n(65043),r=n(65173),s=n.n(r),a=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i.apply(null,arguments)}var o=(0,l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,o=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)n=s[l],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r,className:["bi","bi-plus-circle",p].filter(Boolean).join(" ")},m),d?l.createElement("title",null,d):null,l.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),l.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=o},93740:(e,t,n)=>{n.d(t,{p:()=>c});var l=n(65043),r=n(84052),s=n(41828),a=n(2028),i=n(4504),o=s.x.extend({defaultProps:{__TYPE:"ProgressSpinner",id:null,style:null,className:null,strokeWidth:"2",fill:"none",animationDuration:"2s",children:void 0},css:{classes:{root:"p-progress-spinner",spinner:"p-progress-spinner-svg",circle:"p-progress-spinner-circle"},styles:"\n@layer primereact {\n    .p-progress-spinner {\n        position: relative;\n        margin: 0 auto;\n        width: 100px;\n        height: 100px;\n        display: inline-block;\n    }\n    \n    .p-progress-spinner::before {\n        content: '';\n        display: block;\n        padding-top: 100%;\n    }\n    \n    .p-progress-spinner-svg {\n        animation: p-progress-spinner-rotate 2s linear infinite;\n        height: 100%;\n        transform-origin: center center;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n    }\n    \n    .p-progress-spinner-circle {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: 0;\n        stroke: #d62d20;\n        animation: p-progress-spinner-dash 1.5s ease-in-out infinite, p-progress-spinner-color 6s ease-in-out infinite;\n        stroke-linecap: round;\n    }\n}\n\n@keyframes p-progress-spinner-rotate {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@keyframes p-progress-spinner-dash {\n    0% {\n        stroke-dasharray: 1, 200;\n        stroke-dashoffset: 0;\n    }\n    50% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -35px;\n    }\n    100% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -124px;\n    }\n}\n\n@keyframes p-progress-spinner-color {\n    100%,\n    0% {\n        stroke: #d62d20;\n    }\n    40% {\n        stroke: #0057e7;\n    }\n    66% {\n        stroke: #008744;\n    }\n    80%,\n    90% {\n        stroke: #ffa700;\n    }\n}\n",inlineStyles:{spinner:function(e){return{animationDuration:e.props.animationDuration}}}}}),c=l.memo(l.forwardRef((function(e,t){var n=(0,a.qV)(),c=l.useContext(r.UM),d=o.getProps(e,c),u=l.useRef(null),p=o.setMetaData({props:d}),m=p.ptm,v=p.cx,f=p.sx,h=p.isUnstyled;(0,s.j)(o.css.styles,h,{name:"progressspinner"}),l.useImperativeHandle(t,(function(){return{props:d,getElement:function(){return u.current}}}));var x=n({id:d.id,ref:u,style:d.style,className:(0,i.xW)(d.className,v("root")),role:"progressbar","aria-busy":!0},o.getOtherProps(d),m("root")),y=n({className:v("spinner"),viewBox:"25 25 50 50",style:f("spinner")},m("spinner")),g=n({className:v("circle"),cx:"50",cy:"50",r:"20",fill:d.fill,strokeWidth:d.strokeWidth,strokeMiterlimit:"10"},m("circle"));return l.createElement("div",x,l.createElement("svg",y,l.createElement("circle",g)))})));c.displayName="ProgressSpinner"},94819:(e,t,n)=>{n.d(t,{A:()=>c});var l=n(65043),r=n(65173),s=n.n(r),a=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i.apply(null,arguments)}var o=(0,l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,o=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)n=s[l],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,a);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r,className:["bi","bi-trash",p].filter(Boolean).join(" ")},m),d?l.createElement("title",null,d):null,l.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),l.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))}));o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=o}}]);
//# sourceMappingURL=6739.973fda15.chunk.js.map