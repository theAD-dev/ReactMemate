{"version":3,"file":"static/js/8941.5d5d5ac0.chunk.js","mappings":"kOACA,MAAMA,EAAeC,mCAERC,EAAoBC,UAC/B,MACMC,EAAU,CACdC,OAAQ,OACRC,KAAMC,GAEFC,EAAM,IAAIC,IAAI,GAAGT,wBACvB,OAAOU,EAAAA,EAAAA,GAASF,EAAIG,WAAYP,EAAQ,EAG7BQ,EAAiBT,MAAOU,EAAIN,KACvC,MACMH,EAAU,CACdC,OAAQ,OACRC,KAAM,CAACQ,SAAUP,IAEbC,EAAM,IAAIC,IAAI,GAAGT,IALN,mBAAmBa,QAMpC,OAAOH,EAAAA,EAAAA,GAASF,EAAIG,WAAYP,EAAQ,EAG7BW,EAAaZ,UACxB,MAAMa,EAAY,IAAIC,QAChBC,EAAcC,aAAaC,QAAQ,gBACzCJ,EAAUK,OAAO,gBAAiB,UAAUH,KAE5C,MAAMI,EAAiB,CACrBjB,OAAQ,MACRkB,QAASP,EACTQ,SAAU,UAGZ,IACE,MAAMC,QAAiBC,MAAM,GAAG1B,WAAuBsB,GAEvD,aADqBG,EAASE,MAEhC,CAAE,MAAOC,GAEP,MADAC,QAAQD,MAAM,uBAAwBA,GAChCA,CACR,GAKWE,EAAkB3B,MAAO4B,EAAcC,KAClD,MAAMhB,EAAY,IAAIC,QAChBC,EAAcC,aAAaC,QAAQ,gBACzCJ,EAAUK,OAAO,gBAAiB,UAAUH,KAC5CF,EAAUK,OAAO,eAAgB,oBAEjC,MAAMC,EAAiB,CACrBjB,OAAQ,MACRkB,QAASP,EACTV,KAAM2B,KAAKC,UAAU,CAAEC,WAAYH,IACnCR,SAAU,UAGZ,IACE,MAAMC,QAAiBC,MAAM,GAAG1B,WAAsB+B,WAAuBT,GAE7E,IAAKG,EAASW,GAAI,CAChB,MAAMC,QAAkBZ,EAASE,OACjC,MAAM,IAAIW,MAAM,yCAAyCb,EAASc,WAAWF,IAC/E,CAEA,MAAMG,QAAef,EAASE,OAI9B,OAFqBa,EAAOC,OAASR,KAAKS,MAAMF,GAAU,IAG5D,CAAE,MAAOZ,GAEP,MADAC,QAAQD,MAAM,4BAA6BA,GACrCA,CACR,GAGWe,EAAUxC,UACrB,MACMC,EAAU,CACdC,OAAQ,MACRC,KAAM,CAAEsC,IAAKA,IAETpC,EAAM,IAAIC,IAAI,GAAGT,uBACvB,OAAOU,EAAAA,EAAAA,GAASF,EAAIG,WAAYP,EAAQ,EAG7ByC,EAAW1C,UACtB,MACMC,EAAU,CACdC,OAAQ,MACRC,KAAM,CAAEsC,IAAKA,IAETpC,EAAM,IAAIC,IAAI,GAAGT,wBACvB,OAAOU,EAAAA,EAAAA,GAASF,EAAIG,WAAYP,EAAQ,EA0B7B0C,EAAgB3C,MAAO4B,EAAcgB,KAChD,MAAM/B,EAAY,IAAIC,QAChBC,EAAcC,aAAaC,QAAQ,gBACzCJ,EAAUK,OAAO,gBAAiB,UAAUH,KAC5CF,EAAUK,OAAO,eAAgB,oBACjC,MAAMC,EAAiB,CACrBjB,OAAQ,OACRkB,QAASP,EACTV,KAAM2B,KAAKC,UAAUa,GACrBvB,SAAU,UAGZ,IACE,MAAMC,QAAiBC,MAAM,GAAG1B,WAAsB+B,cAA0BT,GAChF,OAAIG,EAASW,GACJX,GAEPI,QAAQmB,IAAI,SAAUvB,EAASc,QACxB,KAEX,CAAE,MAAOX,GAEP,OADAC,QAAQmB,IAAI,SAAUpB,GACf,IACT,GAKWqB,EAAiB9C,MAAO4B,EAAcmB,KACjD,MAAMlC,EAAY,IAAIC,QAChBC,EAAcC,aAAaC,QAAQ,gBACzCJ,EAAUK,OAAO,gBAAiB,UAAUH,KAC5CF,EAAUK,OAAO,eAAgB,oBAEjC,MAAMC,EAAiB,CACrBjB,OAAQ,MACRkB,QAASP,EACTV,KAAM2B,KAAKC,UAAU,CAAEiB,KAAMD,EAAaE,UAAWrB,IACrDP,SAAU,UAGZ,IACE,MAAMC,QAAiBC,MAAM,GAAG1B,WAAsB+B,UAAsBT,GAE5E,IAAKG,EAASW,GAAI,CAChB,MAAMC,QAAkBZ,EAASE,OACjC,MAAM,IAAIW,MAAM,wCAAwCb,EAASc,WAAWF,IAC9E,CAEA,MAAMG,QAAef,EAASE,OAI9B,OAFqBa,EAAOC,OAASR,KAAKS,MAAMF,GAAU,IAG5D,CAAE,MAAOZ,GAEP,MADAC,QAAQD,MAAM,2BAA4BA,GACpCA,CACR,GAOWyB,EAAoBlD,UAC/B,MAAMa,EAAY,IAAIC,QAChBC,EAAcC,aAAaC,QAAQ,gBACzCJ,EAAUK,OAAO,gBAAiB,UAAUH,KAC5CF,EAAUK,OAAO,eAAgB,oBAEjC,MAIMC,EAAiB,CACrBjB,OAAQ,MACRkB,QAASP,EACTV,KAPU2B,KAAKC,UAAU,CACzB,IAAOoB,IAOP9B,SAAU,UAGN+B,QAAkBC,QAAQC,IAAI,CAClC/B,MAAM,GAAG1B,sBAAkCsB,KAI7C,aADmBkC,QAAQC,IAAIF,EAAUG,KAAIjC,GAAYA,EAASkC,SACvD,EAKAC,EAAqBzD,UAChC,MAAMa,EAAY,IAAIC,QAChBC,EAAcC,aAAaC,QAAQ,gBACzCJ,EAAUK,OAAO,gBAAiB,UAAUH,KAC5CF,EAAUK,OAAO,eAAgB,oBAEjC,MAAMC,EAAiB,CACrBjB,OAAQ,OACRkB,QAASP,EACTQ,SAAU,UAGNC,QAAiBC,MAAM,GAAG1B,WAAsB+B,eAA2BT,GAEjF,aADqBG,EAASkC,QAChB,EAAE,EA+BLE,EAAoB1D,UAC/B,MAAMa,EAAY,IAAIC,QAChBC,EAAcC,aAAaC,QAAQ,gBACzCJ,EAAUK,OAAO,gBAAiB,UAAUH,KAC5CF,EAAUK,OAAO,eAAgB,oBAEjC,MAIMC,EAAiB,CACrBjB,OAAQ,MACRkB,QAASP,EACTV,KAPU2B,KAAKC,UAAU,CACzB,IAAOoB,IAOP9B,SAAU,UAIN+B,QAAkBC,QAAQC,IAAI,CAClC/B,MAAM,GAAG1B,uBAAmCsB,KAI9C,aADmBkC,QAAQC,IAAIF,EAAUG,KAAIjC,GAAYA,EAASkC,SACvD,C,sNCvRb,SAAgB,YAAc,gCAAgC,YAAc,gCAAgC,aAAe,iCAAiC,IAAM,wBAAwB,MAAQ,0BAA0B,eAAiB,mCAAmC,gBAAkB,oCAAoC,aAAe,iCAAiC,IAAM,wBAAwB,IAAM,wBAAwB,OAAS,2BAA2B,SAAW,8B,0BCeje,MAsCMG,GArCFC,EAAAA,EAAAA,MAAA,QAAMC,UAAU,aAAYC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,UAAU,aAAW,UACvCE,EAAAA,EAAAA,KAAA,UAAQF,UAAU,YAAY,aAAW,YACzCE,EAAAA,EAAAA,KAAA,UAAQF,UAAU,eAAe,aAAW,eAC5CE,EAAAA,EAAAA,KAAA,UAAQF,UAAU,YAAY,aAAW,mBACzCE,EAAAA,EAAAA,KAAA,UAAQF,UAAU,gBAAgB,aAAW,gBAC7CE,EAAAA,EAAAA,KAAA,UACIF,UAAU,UACVG,MAAM,UACN,aAAW,kBAEfD,EAAAA,EAAAA,KAAA,UACIF,UAAU,UACVG,MAAM,SACN,aAAW,iBAEfD,EAAAA,EAAAA,KAAA,UAAQF,UAAU,WAAWG,MAAM,GAAG,aAAW,gBACjDD,EAAAA,EAAAA,KAAA,UACIF,UAAU,WACVG,MAAM,SACN,aAAW,kBAEfD,EAAAA,EAAAA,KAAA,UACIF,UAAU,WACVG,MAAM,QACN,aAAW,iBAEfD,EAAAA,EAAAA,KAAA,UACIF,UAAU,WACVG,MAAM,UACN,aAAW,aAEfD,EAAAA,EAAAA,KAAA,UAAQF,UAAU,UAAU,aAAW,iBACvCE,EAAAA,EAAAA,KAAA,UAAQF,UAAU,WAAW,aAAW,kBACxCE,EAAAA,EAAAA,KAAA,UAAQF,UAAU,gBAAgB,aAAW,kBAsqBrD,EAjqB6BI,IAA0G,IAADC,EAAAC,EAAAC,EAAAC,EAAA,IAAxG,KAAEC,EAAI,QAAEC,EAAO,SAAEC,EAAQ,eAAEC,EAAc,WAAEC,EAAU,kBAAEC,EAAiB,gBAAEC,GAAkB,GAAOX,EAC7H,MAAMY,GAAKC,EAAAA,EAAAA,QAAO,MACZC,EAAcjD,KAAKS,MAAMyC,OAAOhE,aAAaC,QAAQ,gBAAkB,OACtEgE,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAIC,IAASF,EAAAA,EAAAA,UAAS,KACtBG,EAAIC,IAASJ,EAAAA,EAAAA,UAAS,KACtBK,EAAKC,IAAUN,EAAAA,EAAAA,UAAS,KACxBO,EAASC,IAAcR,EAAAA,EAAAA,UAAS,OAChC3D,EAAMoE,IAAWT,EAAAA,EAAAA,UAAS,OAC1BU,EAAWC,IAAgBX,EAAAA,EAAAA,UAAS,OAEpCY,EAAQC,IAAab,EAAAA,EAAAA,UAAS,CAAC,IAC/Bc,EAAgBC,IAAqBf,EAAAA,EAAAA,UAAS,IAC/CgB,GAAkBrB,EAAAA,EAAAA,QAAO,MACzBsB,GAAmBtB,EAAAA,EAAAA,QAAO,MAC1BuB,IAAmBvB,EAAAA,EAAAA,QAAO,OACzBwB,GAAQC,KAAapB,EAAAA,EAAAA,WAAS,IAC9BqB,GAASC,KAActB,EAAAA,EAAAA,WAAS,GAGjCuB,IAAeC,EAAAA,EAAAA,cAAaC,GACX,6BACDC,KAAKD,EAAMtE,SAC9B,IAGGwE,IAAqBH,EAAAA,EAAAA,cAAaI,IAC/BA,GAAoC,IAAtBA,EAAWC,QACvBD,EAAWE,OAAML,GAASF,GAAaE,MAC/C,CAACF,KAGEQ,IAAmBP,EAAAA,EAAAA,cAAaI,GAC7BA,GAAoC,IAAtBA,EAAWC,OACvBD,EAAWI,QAAOP,IAAUF,GAAaE,KADG,IAEpD,CAACF,KAGEU,IAAkBT,EAAAA,EAAAA,cAAaI,GAC5BA,GAAoC,IAAtBA,EAAWC,OACvBD,EAAWI,QAAOP,GAASF,GAAaE,KADI,IAEpD,CAACF,KAGEW,IAA4BV,EAAAA,EAAAA,cAAY,KAC1C,IAAIW,GAAY,EAGhB,GAAIlC,EAAG4B,OAAS,EAAG,CACf,MAAMO,EAAkBL,GAAiB9B,GACrCmC,EAAgBP,OAAS,IACzBtF,QAAQmB,IAAI,2BAA4B0E,GACxClC,EAAM+B,GAAgBhC,IACtBkC,GAAY,EAEpB,CAGA,GAAIhC,EAAG0B,OAAS,EAAG,CACf,MAAMQ,EAAkBN,GAAiB5B,GACrCkC,EAAgBR,OAAS,IACzBtF,QAAQmB,IAAI,2BAA4B2E,GACxCjC,EAAM6B,GAAgB9B,IACtBgC,GAAY,EAEpB,CAGA,GAAI9B,EAAIwB,OAAS,EAAG,CAChB,MAAMS,EAAmBP,GAAiB1B,GACtCiC,EAAiBT,OAAS,IAC1BtF,QAAQmB,IAAI,4BAA6B4E,GACzChC,EAAO2B,GAAgB5B,IACvB8B,GAAY,EAEpB,CAEA,OAAQA,CAAS,GAClB,CAAClC,EAAIE,EAAIE,EAAK0B,GAAkBE,MAE5BM,GAAiBC,KAAuBxC,EAAAA,EAAAA,UAAS,MAWlDyC,GAAcA,KAChBrD,GAAQ,GACHI,IAXLO,EAAQ,IACRG,EAAM,IACNE,EAAM,IACNE,EAAO,IACPE,EAAW,IACXC,EAAQ,IACR+B,GAAoB,MAKW,EAG7BE,IAAqBC,EAAAA,EAAAA,GAAS,CAChCC,SAAU,CAAC,iBACXC,QAASC,EAAAA,GACTC,UAAW5D,IAGT6D,IAAiBL,EAAAA,EAAAA,GAAS,CAC5BC,SAAU,CAAC,yBACXC,QAASI,EAAAA,GACTF,UAAW5D,IAGT+D,IAA6BP,EAAAA,EAAAA,GAAS,CACxCC,SAAU,CAAC,oBACXC,QAASM,EAAAA,GACTJ,UAAW5D,IAGTiE,IAAaT,EAAAA,EAAAA,GAAS,CACxBC,SAAU,CAAC,aAAcL,IACzBM,QAASA,KAAMQ,EAAAA,EAAAA,IAASd,IACxBQ,UAAWR,GACXe,MAAO,KAGXC,EAAAA,EAAAA,YAAU,KACiC,IAADC,EAAAC,EAAAC,EAAR,OAA1BR,SAA0B,IAA1BA,IAAAA,GAA4BjI,OACE,OAA1BiI,SAA0B,IAA1BA,IAAgC,QAANM,EAA1BN,GAA4BjI,YAAI,IAAAuI,GAAhCA,EAAkCG,gBAA4C,OAA1BT,SAA0B,IAA1BA,IAAgC,QAANO,EAA1BP,GAA4BjI,YAAI,IAAAwI,GAAhCA,EAAkCG,wBACtF7D,EAAkC,OAA1BmD,SAA0B,IAA1BA,IAAgC,QAANQ,EAA1BR,GAA4BjI,YAAI,IAAAyI,OAAN,EAA1BA,EAAkCC,gBAE1C5D,EAAQ,2BAGhB,IAAKwC,IAAqC,OAAlBG,SAAkB,IAAlBA,IAAAA,GAAoBzH,MAAQuE,EAAmB,CAAC,IAADqE,EACnE,MAAMC,EAAqC,OAAlBpB,SAAkB,IAAlBA,IAAwB,QAANmB,EAAlBnB,GAAoBzH,YAAI,IAAA4I,OAAN,EAAlBA,EAA0BE,MAAMC,GAAaA,EAASC,OAASzE,IACpFsE,GAAkBtB,GAAoC,OAAhBsB,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBvI,GAChE,IAED,CAACmH,GAAoBQ,GAA4B1D,EAAmB+C,KAEvE,MA8DM2B,GAAUC,IAAW,IAADC,EAAAC,EACtB,MAAMC,GAAa,OAALH,QAAK,IAALA,GAAY,QAAPC,EAALD,EAAOG,aAAK,IAAAF,OAAP,EAALA,EAAcG,gBAAiB,GAC7C,IAAIC,EAAmD,QAA7CH,EAAG/E,EAAelB,KAAKnD,GAAUA,EAAKwG,eAAO,IAAA4C,OAAA,EAA1CA,EAA4CrC,QAAOP,GAASA,IACzE+C,EAASA,EAAOxC,QAAQP,IAAWxB,EAAGwE,SAAShD,KAC/C+C,EAASA,EAAOxC,QAAQP,IAAWtB,EAAGsE,SAAShD,KAC/C+C,EAASA,EAAOxC,QAAQP,IAAWpB,EAAIoE,SAAShD,KAEhD+C,EAASA,EAAOxC,QAAQP,GACpBA,EAAM8C,cAAcE,SAASH,KAGjCvD,EAAkByD,EAAO,EAgDvBE,GAAUA,KACZR,KACIlD,EAAgB2D,SAAS3D,EAAgB2D,QAAQxF,MAAM,EAGzDyF,GAAWA,KACbV,KACIjD,EAAiB0D,SAAS1D,EAAiB0D,QAAQxF,MAAM,EAG3D0F,GAAWA,KACbX,KACIhD,GAAiByD,SAASzD,GAAiByD,QAAQxF,MAAM,EAsEjE,OAnEAoE,EAAAA,EAAAA,YAAU,KACN,GAAkB,OAAdjE,QAAc,IAAdA,GAAAA,EAAgBuC,OAAQ,CAAC,IAADiD,EACxB,IAAIN,EAAmD,QAA7CM,EAAGxF,EAAelB,KAAKnD,GAAUA,EAAKwG,eAAO,IAAAqD,OAAA,EAA1CA,EAA4C9C,QAAOP,GAASA,IACzEV,EAAkByD,EACtB,IACD,CAAClF,KAGJiE,EAAAA,EAAAA,YAAU,KACN,GAAItD,EAAG4B,OAAS,EAAG,CACf,MAAMO,EAAkBL,GAAiB9B,GACzC,GAAImC,EAAgBP,OAAS,EAAG,CAC5BtF,QAAQmB,IAAI,mCAAoC0E,GAChD,MAAM2C,EAAc9C,GAAgBhC,GACpCC,EAAM6E,EACV,CACJ,IACD,CAAC9E,EAAI8B,GAAkBE,MAE1BsB,EAAAA,EAAAA,YAAU,KACN,GAAIpD,EAAG0B,OAAS,EAAG,CACf,MAAMQ,EAAkBN,GAAiB5B,GACzC,GAAIkC,EAAgBR,OAAS,EAAG,CAC5BtF,QAAQmB,IAAI,mCAAoC2E,GAChD,MAAM0C,EAAc9C,GAAgB9B,GACpCC,EAAM2E,EACV,CACJ,IACD,CAAC5E,EAAI4B,GAAkBE,MAE1BsB,EAAAA,EAAAA,YAAU,KACN,GAAIlD,EAAIwB,OAAS,EAAG,CAChB,MAAMS,EAAmBP,GAAiB1B,GAC1C,GAAIiC,EAAiBT,OAAS,EAAG,CAC7BtF,QAAQmB,IAAI,oCAAqC4E,GACjD,MAAMyC,EAAc9C,GAAgB5B,GACpCC,EAAOyE,EACX,CACJ,IACD,CAAC1E,EAAK0B,GAAkBE,MAE3BsB,EAAAA,EAAAA,YAAU,KACNhE,GAAYyF,IAAI,IACTA,EACHzE,QAASA,EACT0E,WAAY5I,EACZ6I,WAAYpF,EACZG,GAAM,OAAFA,QAAE,IAAFA,OAAE,EAAFA,EAAI5E,cACJ8E,EAAG0B,OAAS,GAAK,CAAE1B,GAAIA,EAAG9E,eAC1BgF,EAAIwB,OAAS,GAAK,CAAExB,IAAKA,EAAIhF,eAC7BqF,GAAa,CAAEA,UAAWA,MAC/B,GACJ,CAACH,EAASlE,EAAMyD,EAAMG,EAAIE,EAAIE,EAAKK,EAAWnB,KAEjDgE,EAAAA,EAAAA,YAAU,KACqB,IAAD4B,EAAAC,EAAR,OAAdpC,SAAc,IAAdA,IAAAA,GAAgB/H,MAChB0F,EAA2B,OAAdqC,SAAc,IAAdA,IAAoB,QAANmC,EAAdnC,GAAgB/H,YAAI,IAAAkK,GAAiE,QAAjEC,EAApBD,EAAsBpB,MAAMC,GAAaA,EAASzI,KAAOqE,EAAYyF,yBAAgB,IAAAD,OAAvE,EAAdA,EAAuF7J,GACxG,GACD,CAAe,OAAdyH,SAAc,IAAdA,QAAc,EAAdA,GAAgB/H,KAAM2E,EAAYyF,mBAEtC9B,EAAAA,EAAAA,YAAU,KAAO,IAAD+B,EAAAC,EACZ9E,GAAkB,OAAV2C,SAAU,IAAVA,IAAgB,QAANkC,EAAVlC,GAAYnI,YAAI,IAAAqK,OAAN,EAAVA,EAAkBtK,OAAQ,IAClCwF,EAAqB,OAAV4C,SAAU,IAAVA,IAAgB,QAANmC,EAAVnC,GAAYnI,YAAI,IAAAsK,OAAN,EAAVA,EAAkBhF,SAC7BM,GAAW2E,IAAM,IAAWA,EAAQjF,SAAS,MAC7CM,GAAW2E,IAAM,IAAWA,EAAQnJ,MAAM,KAAS,GACpD,CAAW,OAAV+G,SAAU,IAAVA,QAAU,EAAVA,GAAYnI,QAGZwD,EAAAA,EAAAA,MAACgH,EAAAA,EAAK,CACFtG,KAAMA,EACNuG,UAAQ,EACRC,OAAQlD,GACR/D,UAAU,eACVkH,KAAK,KAAIjH,SAAA,EAETC,EAAAA,EAAAA,KAAC6G,EAAAA,EAAMI,OAAM,CAACC,aAAW,EAAAnH,UACrBC,EAAAA,EAAAA,KAAA,OAAKF,UAAW,GAAGqH,EAAMC,cAAcrH,UACnCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCAAuCC,UAClDC,EAAAA,EAAAA,KAAA,QAAMF,UAAW,gCAAgCqH,EAAME,cAActH,SAAC,sBAMlFF,EAAAA,EAAAA,MAACgH,EAAAA,EAAMS,KAAI,CAAAvH,SAAA,EACPF,EAAAA,EAAAA,MAAC0H,EAAAA,EAAG,CAAAxH,SAAA,EACAF,EAAAA,EAAAA,MAAC2H,EAAAA,EAAG,CAACC,GAAI,EAAG3H,UAAU,OAAMC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKsH,MAAO,CAAEO,SAAU,YAAa3H,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMS,aAAa7H,SAAC,UAC3CC,EAAAA,EAAAA,KAAC6H,EAAAA,EAAQ,CACL3L,QACKoI,KAAwD,OAA1BA,SAA0B,IAA1BA,QAA0B,EAA1BA,GAA4BjI,OAAS,CAAC,CACjE4D,MAAiC,OAA1BqE,SAA0B,IAA1BA,IAAgC,QAANnE,EAA1BmE,GAA4BjI,YAAI,IAAA8D,OAAN,EAA1BA,EAAkC4E,eACzC+C,MAAO,GAA6B,OAA1BxD,SAA0B,IAA1BA,IAAgC,QAANlE,EAA1BkE,GAA4BjI,YAAI,IAAA+D,OAAN,EAA1BA,EAAkC2E,oBAEhD,GAEJjF,WAAW6H,EAAAA,EAAAA,GACPR,EAAMY,eACN,+BAEJZ,MAAO,CAAEa,OAAQ,OAAQC,YAAa,QACtCC,YAAY,oBACZC,SAAWC,IACPjH,EAAQiH,EAAEnI,OACVgC,GAAW2E,IAAM,IAAWA,EAAQ1F,MAAM,KAAS,EAEvDjB,MAAOiB,EACPmH,sBAAsB,QAGvB,OAANrG,QAAM,IAANA,OAAM,EAANA,EAAQd,QACLlB,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAE,+BAG3CC,EAAAA,EAAAA,KAACwH,EAAAA,EAAG,CAACC,GAAI,EAAG3H,UAAU,OAAMC,UACxBF,EAAAA,EAAAA,MAAA,OAAKsH,MAAO,CAAEO,SAAU,YAAa3H,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMS,aAAa7H,SAAC,eAC3CC,EAAAA,EAAAA,KAAC6H,EAAAA,EAAQ,CACL3L,QACK4H,KAC0B,QADRzD,EACfyD,GAAmBzH,YAAI,IAAAgE,OAAA,EAAvBA,EAAyBb,KAAK8I,IAAa,CACvCrI,MAAOqI,EAAc3L,GACrBmL,MAAO,GAAGQ,EAAcC,aAEhC,GAEJzI,WAAW6H,EAAAA,EAAAA,GACPR,EAAMY,eACN,+BAEJZ,MAAO,CAAEa,OAAQ,OAAQC,YAAa,QACtCC,YAAY,kBACZC,SAAWC,IACPxE,GAAoBwE,EAAEnI,MAAM,EAEhCA,MAAO0D,GACP6E,QAA2B,OAAlB1E,SAAkB,IAAlBA,QAAkB,EAAlBA,GAAoB2E,WAC7BJ,sBAAsB,KAE1BrI,EAAAA,EAAAA,KAAA,OAAKF,UAAWqH,EAAMuB,aAAcC,QAAUP,GAAMtH,EAAGiF,QAAQ6C,OAAOR,GAAGrI,UACrEC,EAAAA,EAAAA,KAAC6I,EAAAA,EAAU,CAAC7B,KAAM,GAAI8B,MAAM,iBAEhCjJ,EAAAA,EAAAA,MAACkJ,EAAAA,EAAY,CAACC,IAAKlI,EAAGf,SAAA,EAClBC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,UAAUqH,MAAO,CAAE2B,MAAO,UAAWG,WAAY,QAASlJ,SAAC,+CACxEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAAUqH,MAAO,CAAE2B,MAAO,UAAWG,WAAY,QAASlJ,SAAA,CAAC,uCAAmCC,EAAAA,EAAAA,KAAA,SAAM,yCAA2CA,EAAAA,EAAAA,KAAA,SAAK,6BAKnLH,EAAAA,EAAAA,MAAC0H,EAAAA,EAAG,CAAAxH,SAAA,EACAF,EAAAA,EAAAA,MAAC2H,EAAAA,EAAG,CAACC,GAAI,GAAI3H,UAAU,OAAMC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EAC/BF,EAAAA,EAAAA,MAAA,OAAKsH,MAAO,CAAEO,SAAU,YAAc5H,UAAWqH,EAAM+B,gBAAgBnJ,SAAA,EACnEC,EAAAA,EAAAA,KAAA,OAAKmH,MAAO,CAAEgC,MAAO,QAAUrJ,UAAWqH,EAAMiC,OAChDpJ,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMS,aAAa7H,SAAC,QAC3CC,EAAAA,EAAAA,KAACqJ,EAAAA,EAAY,CACTL,IAAK5G,EACLnC,MAAOoB,EACPiI,eAAgBhE,GAChB6C,SAAWC,IACP9G,EAAM8G,EAAEnI,OACRgC,GAAW2E,IAAM,IAAWA,EAAQvF,IAAI,EAAOkI,WAAW,KAAS,EAEvEC,UAAQ,EACRC,YAAavH,EACbyG,QAAS7C,GACTA,QAASA,GACT4D,QApOTtB,IACnB,MAAMuB,EAAevB,EAAEwB,OAAO3J,MAC9B,GAAI0J,EAAa9D,SAAS,MAAkB,UAAVuC,EAAEyB,IAAiB,CACjD,MAAMjE,EAAS+D,EAAaG,MAAM,UAAU1G,QAAQP,GAAUA,IAExDsD,EAAcP,EAAOxC,QAAOP,GAASF,GAAaE,KACxDvB,GAAO8E,GAAS,IAAI,IAAI2D,IAAI,IAAI3D,KAASD,OAErCA,EAAYlD,SAAW2C,EAAO3C,QAAUkD,EAAYlD,OAAS,GAC7DhB,GAAW2E,IAAM,IAAWA,EAAQvF,IAAI,EAAOkI,WAAW,MAE9DnB,EAAEwB,OAAO3J,MAAQ,EACrB,GAyN4B+J,OAAS5B,IACL,MAAMuB,EAAevB,EAAEwB,OAAO3J,MAAM1B,OAChCoL,IACIhH,GAAagH,IACbrI,GAAO8E,GAAS,IAAI,IAAI2D,IAAI,IAAI3D,EAAMuD,OACtC1H,GAAW2E,IAAM,IAAWA,EAAQvF,IAAI,EAAOkI,WAAW,OAE1DtH,GAAW2E,IAAM,IAAWA,EAAQ2C,WAAW,MAEnDnB,EAAEwB,OAAO3J,MAAQ,GACrB,EAEJH,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMkC,aAAc,SACpCnB,YAAY,WAGpBlI,EAAAA,EAAAA,KAACiK,EAAAA,EAAM,CACHnK,WAAW6H,EAAAA,EAAAA,GAAKR,EAAM+C,IAAK,CAAE,CAAC/C,EAAMgD,QAAS5H,KAC7CoG,QAASA,KAAQnG,IAAWD,IAASf,EAAM,GAAG,EAAIzB,SACrD,QAGDC,EAAAA,EAAAA,KAACiK,EAAAA,EAAM,CACHnK,WAAW6H,EAAAA,EAAAA,GAAKR,EAAM+C,IAAK,CAAE,CAAC/C,EAAMgD,QAAS1H,KAC7CkG,QAASA,KAAQjG,IAAYD,IAAUf,EAAO,GAAG,EAAI3B,SACxD,YAIE,OAANiC,QAAM,IAANA,OAAM,EAANA,EAAQX,OAAa,OAANW,QAAM,IAANA,GAAAA,EAAQuH,aACpBvJ,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAE,0BAEhC,OAANiC,QAAM,IAANA,OAAM,EAANA,EAAQuH,aACL1J,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAE,+CAC5B,OAANiC,QAAM,IAANA,OAAM,EAANA,EAAQwB,kBAAmBxB,EAAOwB,gBAAgBP,OAAS,IACxDpD,EAAAA,EAAAA,MAAA,KAAGC,UAAU,0BAA0BqH,MAAO,CAAEiD,SAAU,OAAQtB,MAAO,WAAY/I,SAAA,CAAC,mBACjEiC,EAAOwB,gBAAgB6G,KAAK,eAO7D9H,KACA1C,EAAAA,EAAAA,MAAC2H,EAAAA,EAAG,CAACC,GAAI,EAAG3H,UAAU,OAAMC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKsH,MAAO,CAAEO,SAAU,YAAa3H,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAKmH,MAAO,CAAEgC,MAAO,QAAUrJ,UAAWqH,EAAMiC,OAChDpJ,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMS,aAAa7H,SAAC,QAC3CC,EAAAA,EAAAA,KAACqJ,EAAAA,EAAY,CACTL,IAAK3G,EACLpC,MAAOsB,EACP+H,eAAgBhE,GAChB6C,SAAWC,IACP5G,EAAM4G,EAAEnI,OACRgC,GAAW2E,IAAM,IAAWA,EAAQrF,IAAI,KAAS,EAErDiI,UAAQ,EACRC,YAAavH,EACbyG,QAAS3C,GACTF,QAASE,GACT0D,QAnRRtB,IACpB,MAAMuB,EAAevB,EAAEwB,OAAO3J,MAC9B,GAAI0J,EAAa9D,SAAS,MAAkB,UAAVuC,EAAEyB,IAAiB,CACjD,MAAMjE,EAAS+D,EAAaG,MAAM,UAAU1G,QAAQP,GAAUA,IAExDsD,EAAcP,EAAOxC,QAAOP,GAASF,GAAaE,KACxDrB,GAAO4E,GAAS,IAAI,IAAI2D,IAAI,IAAI3D,KAASD,OAErCA,EAAYlD,SAAW2C,EAAO3C,QAC9BhB,GAAW2E,IAAM,IAAWA,EAAQrF,IAAI,MAE5C6G,EAAEwB,OAAO3J,MAAQ,EACrB,GAwQ4B+J,OAAS5B,IACL,MAAMuB,EAAevB,EAAEwB,OAAO3J,MAAM1B,OAChCoL,IACIhH,GAAagH,IACbnI,GAAO4E,GAAS,IAAI,IAAI2D,IAAI,IAAI3D,EAAMuD,OACtC1H,GAAW2E,IAAM,IAAWA,EAAQrF,IAAI,OAExCU,GAAW2E,IAAM,IAAWA,EAAQrF,IAAI,MAE5C6G,EAAEwB,OAAO3J,MAAQ,GACrB,EAEJH,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMkC,aAAc,SACpCnB,YAAY,WAGb,OAANlG,QAAM,IAANA,OAAM,EAANA,EAAQT,MACL1B,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAE,+CAC5B,OAANiC,QAAM,IAANA,OAAM,EAANA,EAAQyB,kBAAmBzB,EAAOyB,gBAAgBR,OAAS,IACxDpD,EAAAA,EAAAA,MAAA,KAAGC,UAAU,0BAA0BqH,MAAO,CAAEiD,SAAU,OAAQtB,MAAO,WAAY/I,SAAA,CAAC,mBACjEiC,EAAOyB,gBAAgB4G,KAAK,eASjE5H,KAAW5C,EAAAA,EAAAA,MAAC2H,EAAAA,EAAG,CAACC,GAAI,EAAG3H,UAAU,OAAMC,SAAA,EACnCF,EAAAA,EAAAA,MAAA,OAAKsH,MAAO,CAAEO,SAAU,YAAa3H,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAKmH,MAAO,CAAEgC,MAAO,QAAUrJ,UAAWqH,EAAMiC,OAChDpJ,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMS,aAAa7H,SAAC,SAC3CC,EAAAA,EAAAA,KAACqJ,EAAAA,EAAY,CACTL,IAAK1G,GACLrC,MAAOwB,EACP6H,eAAgBhE,GAChB6C,SAAWC,IACP1G,EAAO0G,EAAEnI,OACTgC,GAAW2E,IAAM,IAAWA,EAAQnF,KAAK,KAAS,EAEtD+H,UAAQ,EACRC,YAAavH,EACbyG,QAAS1C,GACTH,QAASG,GACTyD,QAnTRtB,IACpB,MAAMuB,EAAevB,EAAEwB,OAAO3J,MAC9B,GAAI0J,EAAa9D,SAAS,MAAkB,UAAVuC,EAAEyB,IAAiB,CACjD,MAAMjE,EAAS+D,EAAaG,MAAM,UAAU1G,QAAQP,GAAUA,IAExDsD,EAAcP,EAAOxC,QAAOP,GAASF,GAAaE,KACxDnB,GAAQ0E,GAAS,IAAI,IAAI2D,IAAI,IAAI3D,KAASD,OAEtCA,EAAYlD,SAAW2C,EAAO3C,QAC9BhB,GAAW2E,IAAM,IAAWA,EAAQnF,KAAK,MAE7C2G,EAAEwB,OAAO3J,MAAQ,EACrB,GAwS4B+J,OAAS5B,IACL,MAAMuB,EAAevB,EAAEwB,OAAO3J,MAAM1B,OAChCoL,IACIhH,GAAagH,IACbjI,GAAQ0E,GAAS,IAAI,IAAI2D,IAAI,IAAI3D,EAAMuD,OACvC1H,GAAW2E,IAAM,IAAWA,EAAQnF,KAAK,OAEzCQ,GAAW2E,IAAM,IAAWA,EAAQnF,KAAK,MAE7C2G,EAAEwB,OAAO3J,MAAQ,GACrB,EAEJH,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMkC,aAAclC,EAAM1F,IAAK,SAC/CyG,YAAY,YAGb,OAANlG,QAAM,IAANA,OAAM,EAANA,EAAQP,OACL5B,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAE,gDAC5B,OAANiC,QAAM,IAANA,OAAM,EAANA,EAAQ0B,mBAAoB1B,EAAO0B,iBAAiBT,OAAS,IAC1DpD,EAAAA,EAAAA,MAAA,KAAGC,UAAU,0BAA0BqH,MAAO,CAAEiD,SAAU,OAAQtB,MAAO,WAAY/I,SAAA,CAAC,mBACjEiC,EAAO0B,iBAAiB2G,KAAK,gBAOtExK,EAAAA,EAAAA,MAAC2H,EAAAA,EAAG,CAACC,GAAI,GAAI3H,UAAU,OAAMC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKsH,MAAO,CAAEO,SAAU,YAAa3H,SAAA,EACjCC,EAAAA,EAAAA,KAAA,OAAKmH,MAAO,CAAEgC,MAAO,QAAUrJ,UAAWqH,EAAMiC,OAChDpJ,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMS,aAAa7H,SAAC,aAC3CF,EAAAA,EAAAA,MAACyK,EAAAA,EAAS,CAAAvK,SAAA,EACNC,EAAAA,EAAAA,KAACuK,EAAAA,EAAS,CAAAxK,UACK,OAAVyE,SAAU,IAAVA,QAAU,EAAVA,GAAYiE,cAAczI,EAAAA,EAAAA,KAACwK,EAAAA,EAAe,CAACrD,MAAO,CAAEgC,MAAO,OAAQnB,OAAQ,OAAQN,SAAU,WAAY+C,IAAK,aAEnHzK,EAAAA,EAAAA,KAAC0K,EAAAA,EAAS,CACNzK,MAAO0B,EACP7B,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMwD,SAAU,SAChCxD,MAAO,CAAEc,YAAa,SACtBE,SAAWC,IACPxG,EAAWwG,EAAEwB,OAAO3J,OACpBgC,GAAW2E,IAAM,IAAWA,EAAQjF,SAAS,KAAS,EAE1DuG,YAAY,8DAIjB,OAANlG,QAAM,IAANA,OAAM,EAANA,EAAQL,WACL3B,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAE,4BAG3CF,EAAAA,EAAAA,MAAC2H,EAAAA,EAAG,CAACC,GAAI,GAAI3H,UAAU,OAAMC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA2BqH,MAAO,CAAEO,SAAU,YAAa3H,SAAA,EACtEC,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMyD,OAAO7K,SAAC,aACrCC,EAAAA,EAAAA,KAACuK,EAAAA,EAAS,CAACpD,MAAO,CAAEO,SAAU,WAAYmD,MAAO,OAAQJ,IAAK,OAAQK,OAAQ,GAAI/K,UACnE,OAAVyE,SAAU,IAAVA,QAAU,EAAVA,GAAYiE,cAAczI,EAAAA,EAAAA,KAACwK,EAAAA,EAAe,CAACrD,MAAO,CAAEgC,MAAO,OAAQnB,OAAQ,OAAQN,SAAU,WAAY+C,IAAK,aAEnHzK,EAAAA,EAAAA,KAAC+K,EAAAA,EAAM,CACH5D,MAAO,CAAE6D,UAAW,SACpBC,eAAgBrL,EAChBK,MAAOxC,EACPyK,YAAY,yBACZgD,aAAe9C,IACXvG,EAAQuG,EAAE+C,WACVlJ,GAAW2E,IAAM,IAAWA,EAAQnJ,MAAM,KAAS,QAIxD,OAANuE,QAAM,IAANA,OAAM,EAANA,EAAQvE,QACLuC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAE,4BAG3CC,EAAAA,EAAAA,KAACwH,EAAAA,EAAG,CAACC,GAAI,GAAG1H,UACRF,EAAAA,EAAAA,MAAA,OAAKsH,MAAO,CAAEO,SAAU,YAAa3H,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SAAOF,WAAW6H,EAAAA,EAAAA,GAAKR,EAAMS,aAAa7H,SAAC,eAC3CC,EAAAA,EAAAA,KAAC6H,EAAAA,EAAQ,CACL3L,QACKkI,KACsB,QADR9D,EACX8D,GAAe/H,YAAI,IAAAiE,OAAA,EAAnBA,EAAqBd,KAAK4F,IAAQ,CAC9BnF,MAAOmF,EAASzI,GAChBmL,MAAO,GAAG1C,EAASmD,aAE3B,GAEJ6C,eAAe,sBACftL,WAAW6H,EAAAA,EAAAA,GACPR,EAAMY,eACN,+BAEJZ,MAAO,CAAEa,OAAQ,OAAQC,YAAa,QACtCC,YAAY,mBACZC,SAAWC,IACPrG,EAAaqG,EAAEnI,MAAM,EAEzBA,MAAO6B,EACP0G,QAAuB,OAAdpE,SAAc,IAAdA,QAAc,EAAdA,GAAgBqE,WACzBJ,sBAAsB,gBAM1CxI,EAAAA,EAAAA,MAACgH,EAAAA,EAAMwE,OAAM,CAACvL,UAAU,iCAAgCC,SAAA,EACpDC,EAAAA,EAAAA,KAAA,YACAH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC7CF,EAAAA,EAAAA,MAACoK,EAAAA,EAAM,CAACnK,UAAU,iBAAiB6I,QAAS9E,GAAY9D,SAAA,CAAC,SAC9C,QAEXF,EAAAA,EAAAA,MAACoK,EAAAA,EAAM,CAACqB,SAAkB,OAAR7K,QAAQ,IAARA,OAAQ,EAARA,EAAU8K,UAAWzL,UAAU,eAAe6I,QA3gB/D1M,UACb,IAAIuP,EAAa,EACjBvJ,EAAU,CAAC,GAaX,GAVuBqB,MAEnB3F,QAAQmB,IAAI,kDAGXoC,MACCsK,EACFvJ,GAAW2E,IAAM,IAAWA,EAAQ1F,MAAM,OAG3B,KAAb,OAAFG,QAAE,IAAFA,OAAE,EAAFA,EAAI4B,UACFuI,EACFvJ,GAAW2E,IAAM,IAAWA,EAAQvF,IAAI,WACrC,IAAK0B,GAAmB1B,GAAK,GAC9BmK,EACF,MAAMC,EAAgBtI,GAAiB9B,GACvC1D,QAAQmB,IAAI,qBAAsB2M,GAClCxJ,GAAW2E,IAAM,IAAWA,EAAQvF,IAAI,EAAMkI,WAAW,EAAM/F,gBAAiBiI,KACpF,CAEA,GAAIlK,EAAG0B,OAAS,IAAMF,GAAmBxB,GAAK,GACxCiK,EACF,MAAMC,EAAgBtI,GAAiB5B,GACvC5D,QAAQmB,IAAI,qBAAsB2M,GAClCxJ,GAAW2E,IAAM,IAAWA,EAAQrF,IAAI,EAAMkC,gBAAiBgI,KACnE,CAEA,GAAIhK,EAAIwB,OAAS,IAAMF,GAAmBtB,GAAM,GAC1C+J,EACF,MAAMC,EAAgBtI,GAAiB1B,GACvC9D,QAAQmB,IAAI,sBAAuB2M,GACnCxJ,GAAW2E,IAAM,IAAWA,EAAQnF,KAAK,EAAMiC,iBAAkB+H,KACrE,CAEK9J,MACC6J,EACFvJ,GAAW2E,IAAM,IAAWA,EAAQjF,SAAS,OAG5ClE,MACC+N,EACFvJ,GAAW2E,IAAM,IAAWA,EAAQnJ,MAAM,OAG1C+N,GAEJ/K,EAASiL,OAAO,CACZ/J,UACA0E,WAAY5I,EACZ6I,WAAYpF,EACZG,GAAM,OAAFA,QAAE,IAAFA,OAAE,EAAFA,EAAI5E,cACJ8E,EAAG0B,OAAS,GAAK,CAAE1B,GAAIA,EAAG9E,eAC1BgF,EAAIwB,OAAS,GAAK,CAAExB,IAAKA,EAAIhF,eAC7BqF,GAAa,CAAEA,UAAWA,IAChC,EAgd4F/B,SAAA,CAAC,OAC1E,MACK,OAARU,QAAQ,IAARA,OAAQ,EAARA,EAAU8K,YAAa1K,KACrBb,EAAAA,EAAAA,KAACwK,EAAAA,EAAe,CACZrD,MAAO,CAAEgC,MAAO,OAAQnB,OAAQ,OAAQc,MAAO,qBAM/D,C","sources":["APIs/SalesApi.js","webpack://memateapp/./src/ui/send-email-2/send-email.module.scss?3bd9","ui/send-email-2/send-email.jsx"],"sourcesContent":["import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const draftSalesRequest = async (data) => {\n  const endpoint = `/sales/new-request/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const assignManagers = async (id, data) => {\n  const endpoint = `/sales/managers/${id}/`;\n  const options = {\n    method: 'POST',\n    body: {managers: data}\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const fetchSales = async () => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/`, requestOptions);\n    const result = await response.text();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\n\n// Sales Note Api\nexport const fetchSalesNotes = async (saleUniqueId, updatedNote) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify({ sales_note: updatedNote }),\n    redirect: 'follow',\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/notes/`, requestOptions);\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Sales notes update failed with status ${response.status}: ${errorText}`);\n    }\n\n    const result = await response.text();\n\n    const parsedResult = result.trim() ? JSON.parse(result) : null;\n\n    return parsedResult;\n  } catch (error) {\n    console.error('Sales notes update error:', error);\n    throw error;\n  }\n};\n\nexport const markWon = async (ids) => {\n  const endpoint = `/sales/status/won/`;\n  const options = {\n    method: 'PUT',\n    body: { ids: ids }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markLost = async (ids) => {\n  const endpoint = `/sales/status/lost/`;\n  const options = {\n    method: 'PUT',\n    body: { ids: ids }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\n// Sale Won Api\nexport const fetchWon = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  const raw = JSON.stringify({\n    \"ids\": [saleUniqueId]\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n  const response = await fetch(`${API_BASE_URL}/sales/status/won/`, requestOptions);\n  const result = await response.json();\n  return result[0];\n};\n\n\n// Sale Contact Api\nexport const fetchContacts = async (saleUniqueId, formData) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  const requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: JSON.stringify(formData),\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/contacts/`, requestOptions);\n    if (response.ok) {\n      return response;\n    } else {\n      console.log('Error:', response.status);\n      return null;\n    }\n  } catch (error) {\n    console.log('Error:', error);\n    return null;\n  }\n};\n\n\n// Sale Lead Api\nexport const fetchSaleslead = async (saleUniqueId, updatedLead) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify({ lead: updatedLead, unique_id: saleUniqueId }),\n    redirect: 'follow',\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/lead/`, requestOptions);\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Sales lead update failed with status ${response.status}: ${errorText}`);\n    }\n\n    const result = await response.text();\n\n    const parsedResult = result.trim() ? JSON.parse(result) : null;\n\n    return parsedResult;\n  } catch (error) {\n    console.error('Sales lead update error:', error);\n    throw error;\n  }\n};\n\n\n\n\n// Sale Multi Won Api\nexport const fetchMultipleData = async (selectedUniqueIds) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const raw = JSON.stringify({\n    \"ids\": selectedUniqueIds\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw, // Include the body here\n    redirect: \"follow\"\n  };\n\n  const responses = await Promise.all([\n    fetch(`${API_BASE_URL}/sales/status/won/`, requestOptions), // Pass requestOptions directly\n  ]);\n\n  const data = await Promise.all(responses.map(response => response.json()));\n  return data;\n};\n\n\n// Sale DUPLICATE Api\nexport const fetchduplicateData = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/duplicate/`, requestOptions);\n  const result = await response.json();\n  return result[0];\n};\n\n\n\n\n// Sale history Api\nexport const fetchhistoryData = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/history/`, requestOptions);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n\n\n\n\n// Sale Multi Lost Api\nexport const fetchMultipleLost = async (selectedUniqueIds) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const raw = JSON.stringify({\n    \"ids\": selectedUniqueIds\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw, // Include the body here\n    redirect: \"follow\"\n  };\n\n\n  const responses = await Promise.all([\n    fetch(`${API_BASE_URL}/sales/status/lost/`, requestOptions), // Pass requestOptions directly\n  ]);\n\n  const data = await Promise.all(responses.map(response => response.json()));\n  return data; // Return data to handleMoveToManagementWon function\n};\n\n\n\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-email_headerTitle__50KUB\",\"customLabel\":\"send-email_customLabel__r5xED\",\"templateInfo\":\"send-email_templateInfo__mWkVT\",\"bag\":\"send-email_bag__wtdwK\",\"lable\":\"send-email_lable__+kNCa\",\"dropdownSelect\":\"send-email_dropdownSelect__RY5w8\",\"autoCompleteBox\":\"send-email_autoCompleteBox__fWZ7C\",\"AutoComplete\":\"send-email_AutoComplete__m9YI5\",\"bcc\":\"send-email_bcc__BwFzl\",\"box\":\"send-email_box__Zlmer\",\"active\":\"send-email_active__vEx4h\",\"inputBox\":\"send-email_inputBox__NpU2b\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Modal, Row } from \"react-bootstrap\";\nimport { InfoCircle } from 'react-bootstrap-icons';\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport style from \"./send-email.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendDynamicEmailForm = ({ show, setShow, mutation, contactPersons, setPayload, defaultTemplateId, isAddingContact = false }) => {\n    const op = useRef(null);\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n\n    // Email validation function\n    const isValidEmail = useCallback((email) => {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email.trim());\n    }, []);\n\n    // Validate array of emails\n    const validateEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return true; // Empty array is valid\n        return emailArray.every(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Get invalid emails from array\n    const getInvalidEmails = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => !isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Clean email array by removing invalid emails\n    const cleanEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Validate and clean all email fields\n    const validateAndCleanAllEmails = useCallback(() => {\n        let hasErrors = false;\n        \n        // Check TO emails\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Found invalid TO emails:', invalidToEmails);\n                setTo(cleanEmailArray(to));\n                hasErrors = true;\n            }\n        }\n        \n        // Check CC emails\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Found invalid CC emails:', invalidCcEmails);\n                setCC(cleanEmailArray(cc));\n                hasErrors = true;\n            }\n        }\n        \n        // Check BCC emails\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Found invalid BCC emails:', invalidBccEmails);\n                setBCC(cleanEmailArray(bcc));\n                hasErrors = true;\n            }\n        }\n        \n        return !hasErrors; // Return true if no errors found\n    }, [to, cc, bcc, getInvalidEmails, cleanEmailArray]);\n\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n    const reset = () => {\n        setFrom([]);\n        setTo([]);\n        setCC([]);\n        setBCC([]);\n        setSubject([]);\n        setText([]);\n        setEmailTemplatedId(null);\n    };\n\n    const handleClose = () => {\n        setShow(false);\n        if (!defaultTemplateId) reset();\n    };\n\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n        enabled: !!show,\n    });\n\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n        enabled: !!show,\n    });\n\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n        enabled: !!show,\n    });\n\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n\n        if (!emailTemplateId && emailTemplateQuery?.data && defaultTemplateId) {\n            const activeTemplateId = emailTemplateQuery?.data?.find((template) => template.type === defaultTemplateId);\n            if (activeTemplateId) setEmailTemplatedId(activeTemplateId?.id);\n        }\n\n    }, [emailTemplateQuery, outgoingEmailTemplateQuery, defaultTemplateId, emailTemplateId]);\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        // First, validate and clean all email arrays\n        const allEmailsValid = validateAndCleanAllEmails();\n        if (!allEmailsValid) {\n            console.log('Some emails were invalid and have been cleaned');\n        }\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        } else if (!validateEmailArray(to)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(to);\n            console.log('Invalid TO emails:', invalidEmails);\n            setErrors((others) => ({ ...others, to: true, toInvalid: true, invalidToEmails: invalidEmails }));\n        }\n\n        if (cc.length > 0 && !validateEmailArray(cc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(cc);\n            console.log('Invalid CC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, cc: true, invalidCcEmails: invalidEmails }));\n        }\n\n        if (bcc.length > 0 && !validateEmailArray(bcc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(bcc);\n            console.log('Invalid BCC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, bcc: true, invalidBccEmails: invalidEmails }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n\n        mutation.mutate({\n            subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        });\n    };\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setTo((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length && validEmails.length > 0) {\n                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, cc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setBCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, bcc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    // Auto-clean invalid emails from arrays\n    useEffect(() => {\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Auto-cleaning invalid TO emails:', invalidToEmails);\n                const validEmails = cleanEmailArray(to);\n                setTo(validEmails);\n            }\n        }\n    }, [to, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Auto-cleaning invalid CC emails:', invalidCcEmails);\n                const validEmails = cleanEmailArray(cc);\n                setCC(validEmails);\n            }\n        }\n    }, [cc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Auto-cleaning invalid BCC emails:', invalidBccEmails);\n                const validEmails = cleanEmailArray(bcc);\n                setBCC(validEmails);\n            }\n        }\n    }, [bcc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n\n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    return (\n        <Modal\n            show={show}\n            centered\n            onHide={handleClose}\n            className='invoice-form'\n            size='lg'\n        >\n            <Modal.Header closeButton>\n                <div className={`${style.modalHeader}`}>\n                    <div className=\"w-100 d-flex align-items-center gap-2\">\n                        <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                            Send email\n                        </span>\n                    </div>\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <Row>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>FROM</label>\n                            <Dropdown\n                                options={\n                                    (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                        value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                        label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                    }])) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '60px' }}\n                                placeholder=\"Select from email\"\n                                onChange={(e) => {\n                                    setFrom(e.value);\n                                    setErrors((others) => ({ ...others, from: false }));\n                                }}\n                                value={from}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                        {errors?.from && (\n                            <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (emailTemplateQuery &&\n                                        emailTemplateQuery.data?.map((emailTemplate) => ({\n                                            value: emailTemplate.id,\n                                            label: `${emailTemplate.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setEmailTemplatedId(e.value);\n                                }}\n                                value={emailTemplateId}\n                                loading={emailTemplateQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                            <div className={style.templateInfo} onClick={(e) => op.current.toggle(e)}>\n                                <InfoCircle size={16} color='#737374ff' />\n                            </div>\n                            <OverlayPanel ref={op}>\n                                <p className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>Choose from your existing templates here.</p>\n                                <div className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>To edit or add new templates, go to<br /> Profile Settings &gt; Templates &gt; Email<br/> Templates.</div>\n                            </OverlayPanel>\n                        </div>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex gap-3 w-100\">\n                            <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>TO</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef}\n                                    value={to}\n                                    completeMethod={search}\n                                    onChange={(e) => {\n                                        setTo(e.value);\n                                        setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus}\n                                    onFocus={onFocus}\n                                    onKeyUp={onInputChange}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setTo((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, toInvalid: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"TO\"\n                                />\n                            </div>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showCC })}\n                                onClick={() => { setShowCC(!showCC); setCC([]); }}\n                            >\n                                CC\n                            </Button>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showBCC })}\n                                onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                            >\n                                BCC\n                            </Button>\n                        </div>\n                        {errors?.to && !errors?.toInvalid && (\n                            <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                        )}\n                        {errors?.toInvalid && (\n                            <div>\n                                <p className=\"error-message mb-0\">{\"Please enter valid email addresses for TO\"}</p>\n                                {errors?.invalidToEmails && errors.invalidToEmails.length > 0 && (\n                                    <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                        Invalid emails: {errors.invalidToEmails.join(', ')}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </Col>\n                    {\n                        showCC &&\n                        <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>CC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef2}\n                                    value={cc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setCC(e.value);\n                                        setErrors((others) => ({ ...others, cc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus2}\n                                    onFocus={onFocus2}\n                                    onKeyUp={onInputChange2}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, cc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, cc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"CC\"\n                                />\n                            </div>\n                            {errors?.cc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for CC\"}</p>\n                                    {errors?.invalidCcEmails && errors.invalidCcEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidCcEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n\n                    {\n                        showBCC && <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '60px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>BCC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef3}\n                                    value={bcc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setBCC(e.value);\n                                        setErrors((others) => ({ ...others, bcc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus3}\n                                    onFocus={onFocus3}\n                                    onKeyUp={onInputChange3}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, bcc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, bcc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                    placeholder=\"BCC\"\n                                />\n                            </div>\n                            {errors?.bcc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for BCC\"}</p>\n                                    {errors?.invalidBccEmails && errors.invalidBccEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidBccEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n                    <Col sm={12} className='mb-2'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>SUBJECT</label>\n                            <IconField>\n                                <InputIcon>\n                                    {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                </InputIcon>\n                                <InputText\n                                    value={subject}\n                                    className={clsx(style.inputBox, 'w-100')}\n                                    style={{ paddingLeft: '100px' }}\n                                    onChange={(e) => {\n                                        setSubject(e.target.value);\n                                        setErrors((others) => ({ ...others, subject: false }));\n                                    }}\n                                    placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                                />\n                            </IconField>\n                        </div>\n                        {errors?.subject && (\n                            <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                            <label className={clsx(style.lable)}>Message</label>\n                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <Editor\n                                style={{ minHeight: \"150px\" }}\n                                headerTemplate={header}\n                                value={text}\n                                placeholder='Enter a description...'\n                                onTextChange={(e) => {\n                                    setText(e.htmlValue);\n                                    setErrors((others) => ({ ...others, text: false }));\n                                }}\n                            />\n                        </div>\n                        {errors?.text && (\n                            <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12}>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Signature</label>\n                            <Dropdown\n                                options={\n                                    (signatureQuery &&\n                                        signatureQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                panelClassName='px880-dropdown-item'\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select signature\"\n                                onChange={(e) => {\n                                    setSignature(e.value);\n                                }}\n                                value={signature}\n                                loading={signatureQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-between'>\n                <span></span>\n                <div className=\"d-flex justify-content-end gap-2\">\n                    <Button className=\"outline-button\" onClick={handleClose}>\n                        Cancel{\" \"}\n                    </Button>\n                    <Button disabled={mutation?.isPending} className=\"solid-button\" onClick={onSubmit}>\n                        Send{\" \"}\n                        {(mutation?.isPending || isAddingContact) && (\n                            <ProgressSpinner\n                                style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default SendDynamicEmailForm;"],"names":["API_BASE_URL","process","draftSalesRequest","async","options","method","body","data","url","URL","fetchAPI","toString","assignManagers","id","managers","fetchSales","myHeaders","Headers","accessToken","localStorage","getItem","append","requestOptions","headers","redirect","response","fetch","text","error","console","fetchSalesNotes","saleUniqueId","updatedNote","JSON","stringify","sales_note","ok","errorText","Error","status","result","trim","parse","markWon","ids","markLost","fetchContacts","formData","log","fetchSaleslead","updatedLead","lead","unique_id","fetchMultipleData","selectedUniqueIds","responses","Promise","all","map","json","fetchduplicateData","fetchMultipleLost","header","_jsxs","className","children","_jsx","value","_ref","_outgoingEmailTemplat4","_outgoingEmailTemplat5","_emailTemplateQuery$d2","_signatureQuery$data2","show","setShow","mutation","contactPersons","setPayload","defaultTemplateId","isAddingContact","op","useRef","profileData","window","from","setFrom","useState","to","setTo","cc","setCC","bcc","setBCC","subject","setSubject","setText","signature","setSignature","errors","setErrors","filteredEmails","setFilteredEmails","autoCompleteRef","autoCompleteRef2","autoCompleteRef3","showCC","setShowCC","showBCC","setShowBCC","isValidEmail","useCallback","email","test","validateEmailArray","emailArray","length","every","getInvalidEmails","filter","cleanEmailArray","validateAndCleanAllEmails","hasErrors","invalidToEmails","invalidCcEmails","invalidBccEmails","emailTemplateId","setEmailTemplatedId","handleClose","emailTemplateQuery","useQuery","queryKey","queryFn","getEmailTemplates","enabled","signatureQuery","getSignatureTemplates","outgoingEmailTemplateQuery","getOutgoingEmail","emailQuery","getEmail","retry","useEffect","_outgoingEmailTemplat","_outgoingEmailTemplat2","_outgoingEmailTemplat3","outgoing_email","outgoing_email_verified","_emailTemplateQuery$d","activeTemplateId","find","template","type","search","event","_event$query","_contactPersons$map","query","toLowerCase","emails","includes","onFocus","current","onFocus2","onFocus3","_contactPersons$map2","validEmails","prev","email_body","from_email","_signatureQuery$data","_signatureQuery$data$","email_signature","_emailQuery$data","_emailQuery$data2","others","Modal","centered","onHide","size","Header","closeButton","style","modalHeader","headerTitle","Body","Row","Col","sm","position","clsx","customLabel","Dropdown","label","dropdownSelect","height","paddingLeft","placeholder","onChange","e","filterInputAutoFocus","emailTemplate","name","loading","isFetching","templateInfo","onClick","toggle","InfoCircle","color","OverlayPanel","ref","lineHeight","autoCompleteBox","width","bag","AutoComplete","completeMethod","toInvalid","multiple","suggestions","onKeyUp","currentValue","target","key","split","Set","onBlur","Button","box","active","fontSize","join","IconField","InputIcon","ProgressSpinner","top","InputText","inputBox","lable","right","zIndex","Editor","minHeight","headerTemplate","onTextChange","htmlValue","panelClassName","Footer","disabled","isPending","errorCount","invalidEmails","mutate"],"sourceRoot":""}