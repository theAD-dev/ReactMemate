"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[2553],{14834:(e,t,s)=>{function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=parseFloat(e);return isNaN(s)?"0.00":t&&Math.abs(s)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(s):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}s.d(t,{m:()=>a})},31342:(e,t,s)=>{s.d(t,{f:()=>a});const a=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:a="GET",headers:i={},body:o}=t,r=localStorage.getItem("access_token"),n=o instanceof FormData,l={"Content-Type":n?"multipart/form-data":"application/json",...i};s&&(l.Authorization=`Bearer ${r}`);const c={method:a,headers:l,body:n?o:JSON.stringify(o),redirect:"follow"};try{const t=new URL(e),s=await fetch(t,c),a=s.headers.get("Content-Type");if(!s.ok){var d;let e=null;e=a&&a.includes("application/json")?await s.json():await s.text(),401===s.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const t=new Error((null===(d=e)||void 0===d?void 0:d.message)||`HTTP error! Status: ${s.status}`);throw t.status=s.status,t.data=e,t}if(a&&a.includes("application/json"))return await s.json();return{message:"Non-JSON response",body:await s.text()}}catch(x){throw console.error("Fetch API error:",x),x}}},62260:(e,t,s)=>{s.d(t,{KN:()=>n,W2:()=>r,jC:()=>l});var a=s(55917),i=s(31342);const o="https://dev.memate.com.au/api/v1",r=async e=>{const t=new URL(`${o}/statistics/executive/`);return e&&t.searchParams.append("year",e),(0,i.f)(t.toString(),{method:"GET"})},n=async(e,t)=>{console.log("month: ",t),console.log("year: ",e);const s=new URL(`${o}${`/statistics/key-results/${e}/${t}/`}`);return(0,i.f)(s.toString(),{method:"GET"})},l=async(e,t)=>{const s=new Date(e),r=new Date(t),n=new Date(e);n.setFullYear(n.getFullYear()-1);const l=new Date(t);l.setFullYear(l.getFullYear()-1);const c=`${(0,a.A)(s,"yyyy-MM-dd")}:${(0,a.A)(r,"yyyy-MM-dd")}`,d=`${(0,a.A)(n,"yyyy-MM-dd")}:${(0,a.A)(l,"yyyy-MM-dd")}`,x=new URL(`${o}${`/statistics/overview/${c}/${d}/`}`);return(0,i.f)(x.toString(),{method:"GET"})}},92553:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T,verticalLinePlugin:()=>S});var a=s(65043),i=s(15258),o=s(14282),r=s(61072),n=s(78602),l=s(13846),c=s(35284),d=s(7006),x=s(84232),p=s(4313),g=s(45592),u=s(76748),m=s(68974),_=s(79006),h=s(77527),b=s(49367),v=s(35475),y=s(93747),f=s(76361),A=s(119),j=s(58387),B=s(75600),N=s(62260),w=s(99033),F=s(48417),C=s(14834),k=s(70579);const S={id:"verticalLine",beforeDatasetsDraw:e=>{const t=null===e||void 0===e?void 0:e.tooltip,s=null===e||void 0===e?void 0:e.ctx,a=null===e||void 0===e?void 0:e.chartArea;if(t&&t._active&&t._active.length>0){const e=t._active[0].element.x;s.save(),s.lineWidth=2,s.strokeStyle="#1AB2FF",s.beginPath(),s.moveTo(e,a.top),s.lineTo(e,a.bottom),s.stroke(),s.restore()}}};f.t1.register(...f.$L,A.A,S);const T=()=>{const{trialHeight:e}=(0,F.$)(),[t,s]=(0,a.useState)(2025),[f,A]=(0,a.useState)({}),[S,T]=(0,a.useState)({}),[P,D]=(0,a.useState)({}),R=(new Date).getFullYear(),E=Array.from({length:5},((e,t)=>R-t)),L=a.useMemo((()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[]),$=(0,y.I)({queryKey:["getExecutiveStatistics",t],queryFn:()=>(0,N.W2)(t),enabled:!!t,retry:1});return(0,a.useEffect)((()=>{var e;const s=getComputedStyle(document.documentElement),a=s.getPropertyValue("--text-color"),i=s.getPropertyValue("--text-color-secondary"),o=s.getPropertyValue("--surface-border"),r=null===$||void 0===$||null===(e=$.data)||void 0===e?void 0:e.statistics;let n=[],l=[],c=[],d=[],x=[];for(const t in r)n.push(parseFloat(r[t].total_income)),l.push(parseFloat(r[t].operating_profit)),c.push(parseFloat(r[t].cost_of_sale)),d.push(parseFloat(r[t].labor)),x.push(parseFloat(r[t].operating_expense));if(t===R){const e=(new Date).getMonth();n=n.slice(0,e),l=l.slice(0,e),c=c.slice(0,e),d=d.slice(0,e),x=x.slice(0,e)}const p=n.reduce(((e,t)=>e+t),0),g=l.reduce(((e,t)=>e+t),0),u=c.reduce(((e,t)=>e+t),0),m=d.reduce(((e,t)=>e+t),0),_=x.reduce(((e,t)=>e+t),0);D({total_income:p,operating_profit:g,cost_of_sale:u,labor:m,operating_expense:_});const h={labels:L,datasets:[{label:"Total Income",data:n,fill:!0,tension:0,borderWidth:2,borderColor:"#475467",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(71, 84, 103, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(0,"rgba(71, 84, 103, 0.20)"),t.addColorStop(1,"rgba(71, 84, 103, 0.00)"),t}(),pointRadius:4,pointHoverRadius:5,pointBackgroundColor:"#475467",pointBorderColor:"#475467",pointBorderWidth:0},{label:"Operational Profit",data:l,fill:!0,tension:0,borderWidth:2,borderColor:"#17B26A",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(23, 178, 106, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(.0596,"rgba(23, 178, 106, 0.20)"),t.addColorStop(.9749,"rgba(23, 178, 106, 0.04)"),t}(),pointRadius:4,pointHoverRadius:5,pointBackgroundColor:"#17B26A",pointBorderColor:"#17B26A",pointBorderWidth:0},{label:"Cost of Sale",data:c,fill:!0,tension:0,borderWidth:2,borderColor:"#F04438",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(240, 68, 56, 0.3)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(.1,"rgba(240, 68, 56, 0.30)"),t.addColorStop(1,"rgba(240, 68, 56, 0.06)"),t}(),pointRadius:4,pointHoverRadius:5,pointBackgroundColor:"#F04438",pointBorderColor:"#F04438",pointBorderWidth:0},{label:"Labor",data:d,fill:!0,tension:0,borderWidth:2,borderColor:"#F79009",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(247, 144, 9, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(0,"rgba(247, 144, 9, 0.20)"),t.addColorStop(1,"rgba(247, 144, 9, 0.00)"),t}(),pointRadius:4,pointHoverRadius:5,pointBackgroundColor:"#F79009",pointBorderColor:"#F79009",pointBorderWidth:0},{label:"Operating Expense",data:x,tension:0,fill:!0,borderWidth:2,borderColor:"#1AB2FF",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(26, 178, 255, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(0,"rgba(26, 178, 255, 0.20)"),t.addColorStop(1,"rgba(26, 178, 255, 0.00)"),t}(),pointRadius:4,pointHoverRadius:5,pointBackgroundColor:"#1AB2FF",pointBorderColor:"#1AB2FF",pointBorderWidth:0}]};const b={maintainAspectRatio:!1,aspectRatio:.6,plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",color:a,boxHeight:5,generateLabels:e=>e.data.datasets.map(((t,s)=>({text:t.label,fillStyle:t.borderColor||t.backgroundColor,strokeStyle:t.borderColor,pointStyle:"circle",hidden:!e.isDatasetVisible(s),index:s})))}},title:{display:!0,text:"Financial Overview",position:"top",align:"start",color:"#101828",font:{size:18},padding:5},subtitle:{display:!0,text:"Track how your rating compares to your industry average.",position:"top",align:"start",font:{size:14},color:"#475467",padding:0},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"#fff",titleColor:"#667085",bodyColor:"#667085",borderColor:"#f2f2f2",borderWidth:1,callbacks:{label:function(e){const t=e.dataset.label,s=e.raw;return`${t}: $${(0,C.m)(s)}`},footer:function(){return"Hover over the chart to see values"}}},interaction:{mode:"index",intersect:!1},elements:{line:{borderWidth:2},point:{radius:4}}},scales:{x:{ticks:{color:i},grid:{color:o}},y:{beginAtZero:!1,ticks:{color:i,callback:function(e){return Math.abs(e)>=1e3?"$"+(e/1e3).toFixed(1)+"k":"$"+e}},grid:{color:o}}}};A(h),T(b)}),[null===$||void 0===$?void 0:$.data]),(0,a.useEffect)((()=>{const e=new Date;s(e.getUTCFullYear())}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b.mg,{children:(0,k.jsx)("title",{children:"MeMate - Executive"})}),(0,k.jsxs)("div",{className:`topbar ${w.A.borderTopbar}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,k.jsxs)(v.N_,{to:"/statistics/executive",style:{background:"#F9F5FF"},className:(0,j.A)(w.A.activeTab,"d-flex align-items-center px-2 py-1"),children:[(0,k.jsx)(d.A,{color:"#9E77ED",size:16,className:"me-2"}),(0,k.jsx)("span",{className:w.A.topbartext,style:{color:"#9E77ED"},children:"Executive"})]}),(0,k.jsxs)(v.N_,{to:"/statistics/sales-conversion",className:(0,j.A)("d-flex align-items-center px-2 py-1",w.A.disabledLink),children:[(0,k.jsx)(x.A,{color:"#17B26A",size:16,className:"me-2"}),(0,k.jsx)("span",{className:w.A.topbartext,children:"Conversion"})]}),(0,k.jsxs)(v.N_,{to:"/statistics/overview",className:(0,j.A)("d-flex align-items-center px-2 py-1"),children:[(0,k.jsx)(p.A,{color:"#F04438",size:16,className:"me-2"}),(0,k.jsx)("span",{className:w.A.topbartext,children:"Overview"})]}),(0,k.jsxs)(v.N_,{to:"/statistics/key-results",className:"d-flex align-items-center px-2 py-1",children:[(0,k.jsx)(g.A,{color:"#667085",size:16,className:"me-2"}),(0,k.jsx)("span",{className:w.A.topbartext,children:"Key Results"})]}),(0,k.jsxs)(v.N_,{className:(0,j.A)("d-flex align-items-center px-2 py-1",w.A.disabledLink),children:[(0,k.jsx)(u.A,{color:"#084095",size:16,className:"me-2"}),(0,k.jsx)("span",{className:w.A.topbartext,children:"Reports"})]}),(0,k.jsxs)(v.N_,{className:(0,j.A)("d-flex align-items-center px-2 py-1",w.A.disabledLink),children:[(0,k.jsx)(m.A,{color:"#F79009",size:16,className:"me-2"}),(0,k.jsx)("span",{className:w.A.topbartext,children:"GA Widgets"})]}),(0,k.jsxs)(v.N_,{to:"/statistics/profitability",className:(0,j.A)("d-flex align-items-center px-2 py-1"),children:[(0,k.jsx)(_.A,{color:"#15B79E",size:16,className:"me-2"}),(0,k.jsx)("span",{className:w.A.topbartext,children:"Profitability"})]})]}),(0,k.jsxs)("div",{className:(0,j.A)(w.A.keyResults),style:{padding:"24px",marginBottom:"20px",overflow:"auto",height:`calc(100vh - 175px - ${e}px)`,background:"#F8F9FC"},children:[(0,k.jsx)("h2",{className:(0,j.A)(w.A.keyResultsTitle),children:"Executive"}),(0,k.jsxs)(i.A,{children:[(0,k.jsxs)(i.A.Toggle,{as:o.A,className:(0,j.A)(w.A.button,"outline-button mx-auto"),children:[(0,k.jsx)(h.A,{color:"#475467",size:16}),t]}),(0,k.jsx)(i.A.Menu,{children:E.map((e=>(0,k.jsx)(i.A.Item,{eventKey:e,active:e===t,onClick:()=>(e=>{s(e)})(e),children:e},e)))})]}),(0,k.jsx)("div",{className:"d-flex justify-content-center gap-0",style:{marginTop:"16px",borderBottom:"1px solid var(--Gray-200, #EAECF0)",background:"#F8F9FC"}}),(0,k.jsxs)(r.A,{children:[(0,k.jsx)(n.A,{xs:8,children:(0,k.jsx)(l.A,{className:"mt-3 border-0",children:(0,k.jsx)(c.A,{className:"ps-3 pe-1",children:(0,k.jsx)(B.t,{type:"line",data:f,options:S})})})}),(0,k.jsxs)(n.A,{xs:4,className:"pt-3",children:[(0,k.jsxs)("div",{className:(0,j.A)(w.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#FCFCFD"},children:[(0,k.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,k.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#475467"})}),(0,k.jsx)("span",{className:w.A.title,children:"Total Income"})]}),(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("span",{className:w.A.money,children:["$",(0,C.m)(P.total_income||0)]}),(0,k.jsx)(o.A,{className:(0,j.A)("text-button p-0",w.A.disabledLink),children:"View Invoices"})]})]}),(0,k.jsxs)("div",{className:(0,j.A)(w.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#F6FEF9"},children:[(0,k.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,k.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#17B26A"})}),(0,k.jsx)("span",{className:w.A.title,children:"Operational Profit"})]}),(0,k.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,k.jsxs)("span",{className:w.A.money,children:["$",(0,C.m)(P.operating_profit||0)]})})]}),(0,k.jsxs)("div",{className:(0,j.A)(w.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#FFFBFA"},children:[(0,k.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,k.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#F04438"})}),(0,k.jsx)("span",{className:w.A.title,children:"Cost of Sale"})]}),(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("span",{className:w.A.money,children:["$",(0,C.m)(P.cost_of_sale||0)]}),(0,k.jsx)(o.A,{className:(0,j.A)("text-button p-0",w.A.disabledLink),children:"View Sales"})]})]}),(0,k.jsxs)("div",{className:(0,j.A)(w.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#FFFCF5"},children:[(0,k.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,k.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#F79009"})}),(0,k.jsx)("span",{className:w.A.title,children:"Labor"})]}),(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("span",{className:w.A.money,children:["$",(0,C.m)(P.labor||0)]}),(0,k.jsx)(o.A,{className:(0,j.A)("text-button p-0",w.A.disabledLink),children:"View People"})]})]}),(0,k.jsxs)("div",{className:(0,j.A)(w.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#F2FAFF"},children:[(0,k.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,k.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#1AB2FF"})}),(0,k.jsx)("span",{className:w.A.title,children:"Operating Expense"})]}),(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("span",{className:w.A.money,children:["$",(0,C.m)(P.operating_expense||0)]}),(0,k.jsx)(o.A,{className:(0,j.A)("text-button p-0",w.A.disabledLink),children:"View Expenses"})]})]})]})]})]})]})}},99033:(e,t,s)=>{s.d(t,{A:()=>a});const a={borderTopbar:"statistics_borderTopbar__ljqaY",topbartext:"statistics_topbartext__HchJJ",box:"statistics_box__DcXrH",executiveBox:"statistics_executiveBox__ObZsN",executiveBox2:"statistics_executiveBox2__SboXU",executiveBox3:"statistics_executiveBox3__E-b3x",executiveBox4:"statistics_executiveBox4__4Nkgv",executiveBox5:"statistics_executiveBox5__opcH1",executiveBox6:"statistics_executiveBox6__+Ewe4",boxTitle:"statistics_boxTitle__NOx9r",boxSubtitle:"statistics_boxSubtitle__sP+Le",activeTab:"statistics_activeTab__lcBPp",disabledLink:"statistics_disabledLink__cVJyk",keyResults:"statistics_keyResults__Z6mVH",keyResultsTitle:"statistics_keyResultsTitle__FGClX",button:"statistics_button__yOhzt",monthName:"statistics_monthName__VNpP0",activeButton:"statistics_activeButton__a9d6t",chartBox:"statistics_chartBox__Ge0H+",rightBox:"statistics_rightBox__QVbDu",firstBox:"statistics_firstBox__NX8+s",secondBox:"statistics_secondBox__4-TxO",divider:"statistics_divider__Q+7Li",chartTextBox:"statistics_chartTextBox__vhgGM",chartTextLabel:"statistics_chartTextLabel__RSz82",boxlable:"statistics_boxlable__IDKF0",uptoDate:"statistics_uptoDate__yB-dd",target:"statistics_target__AkTXB",daysComplete:"statistics_daysComplete__TO81g",daysTotal:"statistics_daysTotal__hVKuy",circularProgressDiv:"statistics_circularProgressDiv__4qwlG",chartProgressText:"statistics_chartProgressText__IJ6Eo",text1:"statistics_text1__l19kj",ProgressBar:"statistics_ProgressBar__c-oQT",progressDefaultClass:"statistics_progressDefaultClass__-FFkg",ProgressBarInner:"statistics_ProgressBarInner__FYOyj",ProgressBarInner2:"statistics_ProgressBarInner2__Fll52",ProgressBarInner3:"statistics_ProgressBarInner3__HvY8O",ProgressBarInner4:"statistics_ProgressBarInner4__ngmi9",ProgressInnerBar:"statistics_ProgressInnerBar__yxRlG",ProgressInnerBarPercentage:"statistics_ProgressInnerBarPercentage__JRRCl",rightBoxDiv:"statistics_rightBoxDiv__M-E12",title:"statistics_title__PE0MJ",money:"statistics_money__i+Zbv",dateRangeSelector:"statistics_dateRangeSelector__9FaSI",dateRangeDropdown:"statistics_dateRangeDropdown__5DtSu",graphHeader:"statistics_graphHeader__IuB-s",graphHeaderLeft:"statistics_graphHeaderLeft__ZgmxU",graphHeaderLeftText:"statistics_graphHeaderLeftText__W44Ps",changePositive:"statistics_changePositive__M3RP9",changeNeutral:"statistics_changeNeutral__x8XEe",dateLabel:"statistics_dateLabel__xbQES",value:"statistics_value__qJhHh",bottomText:"statistics_bottomText__40PQh",calendar:"statistics_calendar__eDJFd",borderRadiusRightZero:"statistics_borderRadiusRightZero__4dtcG"}}}]);
//# sourceMappingURL=2553.12919e69.chunk.js.map