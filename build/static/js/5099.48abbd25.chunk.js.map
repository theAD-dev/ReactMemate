{"version":3,"file":"static/js/5099.48abbd25.chunk.js","mappings":"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","sources":["utils/html-preservers.js","webpack://memateapp/./src/components/layout/settings/templates/email-signature-template/premium-email-signatures.module.scss?3aa7","webpack://memateapp/./src/components/layout/settings/templates/email-signature-template/signature-html-editor.module.scss?9d44","components/layout/settings/templates/email-signature-template/signature-html-editor.js","components/layout/settings/templates/email-signature-template/social-icons-base64.js","components/layout/settings/templates/email-signature-template/create-email-signature-template.js"],"sourcesContent":["/**\n * Utility functions for preserving HTML structure in rich text editors\n */\n\n/**\n * Preserves the structure of email signature HTML\n * @param {string} html - The HTML content to preserve\n * @returns {string} - The preserved HTML content\n */\nexport const preserveEmailSignatureHtml = (html) => {\n  if (!html) return '';\n\n  // Handle pasted content from Microsoft Outlook or other email clients\n  // which might include extra markup or styles\n  const cleanHtml = cleanPastedHtml(html);\n\n  // Don't process if it's not a signature template\n  if (!cleanHtml.includes('class=\"email-signature\"') &&\n      !cleanHtml.includes(\"class='email-signature'\") &&\n      !cleanHtml.includes('class=email-signature')) {\n    // If it doesn't have the email-signature class, but looks like a signature,\n    // try to wrap it in our signature container\n    if (looksLikeSignature(cleanHtml)) {\n      return wrapAsSignature(cleanHtml);\n    }\n    return cleanHtml;\n  }\n\n  // Create a temporary div to parse the HTML\n  const tempDiv = document.createElement('div');\n  tempDiv.innerHTML = cleanHtml;\n\n  // Find the email signature container\n  const signatureDiv = tempDiv.querySelector('.email-signature') || tempDiv;\n\n  // Preserve table structure\n  const tables = signatureDiv.querySelectorAll('table');\n  tables.forEach(table => {\n    // Ensure tables have proper email client compatibility styles\n    if (!table.style.borderCollapse) {\n      table.style.borderCollapse = 'collapse';\n    }\n\n    // Ensure cellpadding and cellspacing are preserved\n    if (!table.hasAttribute('cellpadding')) {\n      table.setAttribute('cellpadding', '0');\n    }\n\n    if (!table.hasAttribute('cellspacing')) {\n      table.setAttribute('cellspacing', '0');\n    }\n\n    if (!table.hasAttribute('border')) {\n      table.setAttribute('border', '0');\n    }\n  });\n\n  // Preserve image dimensions and styles\n  const images = signatureDiv.querySelectorAll('img');\n  images.forEach(img => {\n    // Ensure images have width and height\n    if (img.style.width && !img.hasAttribute('width')) {\n      img.setAttribute('width', img.style.width);\n    }\n\n    if (img.style.height && !img.hasAttribute('height')) {\n      img.setAttribute('height', img.style.height);\n    }\n\n    // Fix image paths if they're relative\n    if (img.src && img.src.startsWith('cid:')) {\n      // For embedded images in emails (Content-ID), we can't display these\n      // Replace with a placeholder\n      img.setAttribute('data-original-src', img.src);\n      img.src = 'https://via.placeholder.com/150x50?text=Embedded+Image';\n    } else if (img.src && !img.src.startsWith('http') && !img.src.startsWith('data:')) {\n      // For relative paths, we can't display these either\n      img.setAttribute('data-original-src', img.src);\n      img.src = 'https://via.placeholder.com/150x50?text=Image';\n    }\n\n    // For base64 images, they should work as-is\n  });\n\n  // Preserve link styles\n  const links = signatureDiv.querySelectorAll('a');\n  links.forEach(link => {\n    if (!link.style.textDecoration) {\n      link.style.textDecoration = 'none';\n    }\n  });\n\n  return tempDiv.innerHTML;\n};\n\n/**\n * Cleans HTML pasted from email clients like Outlook\n * @param {string} html - The pasted HTML content\n * @returns {string} - Cleaned HTML content\n */\nconst cleanPastedHtml = (html) => {\n  if (!html) return '';\n\n  // Remove common problematic elements from Outlook and other email clients\n  let cleaned = html;\n\n  // Remove MS Office namespace elements and attributes\n  cleaned = cleaned.replace(/<\\/?o:[^>]+>/gi, ''); // Remove Office namespace tags\n  cleaned = cleaned.replace(/<\\/?m:[^>]+>/gi, ''); // Remove Math namespace tags\n  cleaned = cleaned.replace(/<\\/?v:[^>]+>/gi, ''); // Remove VML namespace tags\n  cleaned = cleaned.replace(/<\\/?w:[^>]+>/gi, ''); // Remove Word namespace tags\n\n  // Remove MS Office specific attributes\n  cleaned = cleaned.replace(/\\s+class=\"?Mso[a-zA-Z]+\"?/gi, ''); // Remove Mso classes\n  cleaned = cleaned.replace(/\\s+style=\"mso-[^\"]*\"/gi, ''); // Remove mso- style attributes\n\n  // Remove HTML comments\n  cleaned = cleaned.replace(/<!--[\\s\\S]*?-->/g, '');\n\n  // Remove excessive whitespace\n  cleaned = cleaned.replace(/\\s{2,}/g, ' ');\n\n  return cleaned;\n};\n\n/**\n * Checks if HTML content looks like an email signature\n * @param {string} html - The HTML content to check\n * @returns {boolean} - True if it looks like a signature\n */\nconst looksLikeSignature = (html) => {\n  if (!html) return false;\n\n  // Common patterns found in email signatures\n  const signaturePatterns = [\n    /<table[^>]*>/i, // Contains tables\n    /mailto:/i, // Contains email links\n    /tel:/i, // Contains phone links\n    /<img[^>]*>/i, // Contains images\n    /\\b(?:regards|sincerely|cheers|best|thank you)\\b/i, // Common signature closings\n    /\\b(?:phone|tel|mobile|email|web|website|address)\\b/i, // Common signature fields\n    /\\b(?:facebook|twitter|linkedin|instagram)\\b/i // Social media references\n  ];\n\n  // Check if at least 2 patterns match\n  const matchCount = signaturePatterns.filter(pattern => pattern.test(html)).length;\n  return matchCount >= 2;\n};\n\n/**\n * Wraps HTML content in an email signature container\n * @param {string} html - The HTML content to wrap\n * @returns {string} - Wrapped HTML content\n */\nconst wrapAsSignature = (html) => {\n  return `<div class=\"email-signature\" style=\"font-family: Arial, sans-serif; max-width: 500px; color: #333333; line-height: 1.4; width: 100%; background-color: transparent;\">${html}</div>`;\n};\n\n/**\n * Sanitizes HTML to prevent XSS attacks while preserving structure\n * @param {string} html - The HTML content to sanitize\n * @returns {string} - The sanitized HTML content\n */\nexport const sanitizeHtml = (html) => {\n  if (!html) return '';\n\n  // Create a temporary div to parse the HTML\n  const tempDiv = document.createElement('div');\n  tempDiv.innerHTML = html;\n\n  // Remove potentially dangerous elements and attributes\n  const scripts = tempDiv.querySelectorAll('script');\n  scripts.forEach(script => script.remove());\n\n  const iframes = tempDiv.querySelectorAll('iframe');\n  iframes.forEach(iframe => iframe.remove());\n\n  const objects = tempDiv.querySelectorAll('object');\n  objects.forEach(object => object.remove());\n\n  const embeds = tempDiv.querySelectorAll('embed');\n  embeds.forEach(embed => embed.remove());\n\n  // Remove on* attributes\n  const allElements = tempDiv.querySelectorAll('*');\n  allElements.forEach(el => {\n    Array.from(el.attributes).forEach(attr => {\n      if (attr.name.startsWith('on')) {\n        el.removeAttribute(attr.name);\n      }\n    });\n  });\n\n  return tempDiv.innerHTML;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"formSection\":\"premium-email-signatures_formSection__CBm0c\",\"previewSection\":\"premium-email-signatures_previewSection__E7ztA\",\"templateSelector\":\"premium-email-signatures_templateSelector__Bljsp\",\"templateOptions\":\"premium-email-signatures_templateOptions__VAXvB\",\"templateOption\":\"premium-email-signatures_templateOption__JgXrW\",\"selected\":\"premium-email-signatures_selected__1uBci\",\"thumbnailContainer\":\"premium-email-signatures_thumbnailContainer__iJyEr\",\"templateName\":\"premium-email-signatures_templateName__orKRl\",\"imageUploadSection\":\"premium-email-signatures_imageUploadSection__wJQ3L\",\"imageUploadContainer\":\"premium-email-signatures_imageUploadContainer__9inOP\",\"imageUploadBox\":\"premium-email-signatures_imageUploadBox__MEiIx\",\"uploadIcon\":\"premium-email-signatures_uploadIcon__bmv8V\",\"hasImage\":\"premium-email-signatures_hasImage__OlqNS\",\"removeImageButton\":\"premium-email-signatures_removeImageButton__dTX1v\",\"socialMediaSection\":\"premium-email-signatures_socialMediaSection__Hb1N7\",\"socialMediaList\":\"premium-email-signatures_socialMediaList__Z72L0\",\"socialMediaItem\":\"premium-email-signatures_socialMediaItem__rpgfY\",\"socialIcon\":\"premium-email-signatures_socialIcon__8nF7y\",\"active\":\"premium-email-signatures_active__V-sO8\",\"previewCard\":\"premium-email-signatures_previewCard__DuLP-\",\"previewHeader\":\"premium-email-signatures_previewHeader__Hyisy\",\"previewBody\":\"premium-email-signatures_previewBody__rdooU\",\"emailPreview\":\"premium-email-signatures_emailPreview__StYuf\",\"emailHeader\":\"premium-email-signatures_emailHeader__aYSRL\",\"emailHeaderItem\":\"premium-email-signatures_emailHeaderItem__6XG73\",\"emailBody\":\"premium-email-signatures_emailBody__xRmx6\",\"emailSignature\":\"premium-email-signatures_emailSignature__VIN0+\",\"compatibilityInfo\":\"premium-email-signatures_compatibilityInfo__mAb3R\",\"compatibilityList\":\"premium-email-signatures_compatibilityList__HA7FL\",\"compatibilityItem\":\"premium-email-signatures_compatibilityItem__6eaid\",\"compatibilityIcon\":\"premium-email-signatures_compatibilityIcon__0rTwL\",\"label\":\"premium-email-signatures_label__QYLIw\",\"inputBox\":\"premium-email-signatures_inputBox__4FR5Y\",\"textarea\":\"premium-email-signatures_textarea__0d0YR\"};","// extracted by mini-css-extract-plugin\nexport default {\"signatureEditor\":\"signature-html-editor_signatureEditor__sf2Oy\",\"editorToolbar\":\"signature-html-editor_editorToolbar__WnLm+\",\"viewToggle\":\"signature-html-editor_viewToggle__zEIP-\",\"viewButton\":\"signature-html-editor_viewButton__KUUwc\",\"pasteButton\":\"signature-html-editor_pasteButton__rKXgU\",\"pasteArea\":\"signature-html-editor_pasteArea__0hmL4\",\"pasteInstructions\":\"signature-html-editor_pasteInstructions__b4dNW\",\"pasteTarget\":\"signature-html-editor_pasteTarget__OEfDR\",\"pasteActions\":\"signature-html-editor_pasteActions__xVWBu\",\"editorContainer\":\"signature-html-editor_editorContainer__1OM26\",\"editorSide\":\"signature-html-editor_editorSide__xL4ak\",\"previewSide\":\"signature-html-editor_previewSide__erR3R\",\"editorHeader\":\"signature-html-editor_editorHeader__i8Mep\",\"previewHeader\":\"signature-html-editor_previewHeader__5BxD7\",\"editorControls\":\"signature-html-editor_editorControls__P2Sxi\",\"htmlLabel\":\"signature-html-editor_htmlLabel__VSKQz\",\"previewPane\":\"signature-html-editor_previewPane__V-PEO\",\"previewPlaceholder\":\"signature-html-editor_previewPlaceholder__Ucj1o\",\"previewPlaceholderContent\":\"signature-html-editor_previewPlaceholderContent__C-pqs\",\"previewPlaceholderIcon\":\"signature-html-editor_previewPlaceholderIcon__R2Mnu\",\"codePane\":\"signature-html-editor_codePane__EoR+z\"};","import React, { useState, useEffect, useRef } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { Code, Clipboard } from 'react-bootstrap-icons';\nimport { toast } from 'sonner';\nimport styles from './signature-html-editor.module.scss';\n\n/**\n * A specialized editor for email signatures that preserves HTML structure\n * @param {Object} props - Component props\n * @param {string} props.value - The HTML content\n * @param {Function} props.onChange - Function to call when content changes\n * @param {string} props.placeholder - Placeholder text\n */\nconst SignatureHtmlEditor = ({ value, onChange, placeholder }) => {\n  const textareaRef = useRef(null);\n  const pasteAreaRef = useRef(null);\n  const [internalValue, setInternalValue] = useState(value || '');\n  const [showPasteArea, setShowPasteArea] = useState(false);\n\n  // Update internal value when prop value changes\n  useEffect(() => {\n    setInternalValue(value || '');\n  }, [value]);\n\n  // Handle changes to the HTML textarea\n  const handleHtmlChange = (e) => {\n    const newValue = e.target.value;\n    setInternalValue(newValue);\n    onChange(newValue);\n  };\n\n  // Handle paste from clipboard\n  const handlePaste = (e) => {\n    // Get clipboard data\n    const clipboardData = e.clipboardData || window.clipboardData;\n    const pastedData = clipboardData.getData('text/html') || clipboardData.getData('text');\n\n    if (pastedData) {\n      // Set the value directly without any processing\n      setInternalValue(pastedData);\n      onChange(pastedData);\n      setShowPasteArea(false);\n      toast.success('Signature pasted successfully!');\n    }\n  };\n\n  // Toggle paste area\n  const togglePasteArea = () => {\n    setShowPasteArea(!showPasteArea);\n    // Focus the paste area when shown\n    if (!showPasteArea) {\n      setTimeout(() => {\n        if (pasteAreaRef.current) {\n          pasteAreaRef.current.focus();\n        }\n      }, 100);\n    }\n  };\n\n  return (\n    <div className={styles.signatureEditor}>\n\n      <div className={styles.editorContainer}>\n        <div className={styles.editorSide}>\n          <div className={styles.editorHeader}>\n            <h5>Signature</h5>\n            <div className={styles.editorControls}>\n              <div className={styles.htmlLabel}>\n                <Code size={14} /> HTML\n              </div>\n              <Button\n                variant=\"outline-primary\"\n                size=\"sm\"\n                className=\"text-button\"\n                onClick={togglePasteArea}\n              >\n                <Clipboard size={14} /> Paste Signature\n              </Button>\n            </div>\n          </div>\n\n          {showPasteArea && (\n            <div className={styles.pasteArea}>\n              <div className={styles.pasteInstructions}>\n                <p>Paste your signature below (Ctrl+V or Cmd+V):</p>\n                <div\n                  ref={pasteAreaRef}\n                  className={styles.pasteTarget}\n                  contentEditable\n                  onPaste={handlePaste}\n                  tabIndex={0}\n                >\n                  Click here and paste your signature\n                </div>\n                <div className={styles.pasteActions}>\n                  <Button size=\"sm\" variant=\"secondary\" onClick={() => setShowPasteArea(false)}>Cancel</Button>\n                </div>\n              </div>\n            </div>\n          )}\n          <Form.Control\n            as=\"textarea\"\n            ref={textareaRef}\n            className={styles.codePane}\n            value={internalValue}\n            onChange={handleHtmlChange}\n            placeholder={placeholder}\n            rows={30}\n          />\n        </div>\n\n        <div className={styles.previewSide}>\n          <div className={styles.previewHeader}>\n            <h5 style={{ padding: '12px' }}>Preview</h5>\n          </div>\n          <div className={styles.previewPane}>\n            {internalValue ? (\n              <div style={{ marginRight: 'auto' }} dangerouslySetInnerHTML={{ __html: internalValue }} />\n            ) : (\n              <div className={styles.previewPlaceholder}>\n                <div className={styles.previewPlaceholderContent}>\n                  <div className={styles.previewPlaceholderIcon}>\n                    <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path d=\"M20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4Z\" stroke=\"#D0D5DD\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      <path d=\"M22 6L12 13L2 6\" stroke=\"#D0D5DD\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                    </svg>\n                  </div>\n                  <h6>Your signature preview will appear here</h6>\n                  <p>Enter your signature in the editor or paste an existing one</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignatureHtmlEditor;\n","// Base64-encoded social media icons for email signatures\n// These are embedded directly in the HTML to ensure they display in email clients\n\nexport const socialIcons = {\n  linkedin: `${process.env.REACT_APP_URL}/social-icons/linkedin.png`,\n  twitter: `${process.env.REACT_APP_URL}/social-icons/twitter.png`,\n  facebook: `${process.env.REACT_APP_URL}/social-icons/facebook.png`,\n  instagram: `${process.env.REACT_APP_URL}/social-icons/instagram.png`,\n  github: `${process.env.REACT_APP_URL}/social-icons/github.png`,\n  youtube: `${process.env.REACT_APP_URL}/social-icons/youtube.png`,\n  website: `${process.env.REACT_APP_URL}/social-icons/website.png`,\n};\n","import React, { useEffect, useState } from 'react';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport { Button, Col, Form, Modal, OverlayTrigger, Row, Tooltip } from 'react-bootstrap';\nimport {\n    ChevronLeft,\n    Eye,\n    PencilSquare,\n    Upload,\n    XCircle,\n    Linkedin,\n    Twitter,\n    Instagram,\n    Facebook,\n    Github,\n    Youtube,\n    Globe,\n    CheckCircle\n} from \"react-bootstrap-icons\";\nimport { Helmet } from 'react-helmet-async';\nimport { Link, useNavigate, useParams, useSearchParams } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { Checkbox } from 'primereact/checkbox';\nimport { Dropdown } from 'primereact/dropdown';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from 'primereact/inputtext';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport { preserveEmailSignatureHtml } from '../../../../../utils/html-preservers';\nimport style from '../job-template.module.scss';\nimport premiumStyle from './premium-email-signatures.module.scss';\nimport SignatureHtmlEditor from './signature-html-editor';\nimport { socialIcons } from './social-icons-base64';\nimport { createEmailSignature, deleteEmailSignature, getEmailSignature, setDefaultEmailSignature, updateEmailSignature } from '../../../../../APIs/email-template';\nimport { useTrialHeight } from '../../../../../app/providers/trial-height-provider';\nimport Sidebar from '../../Sidebar';\n\n\n\n\n// Premium template data with HTML thumbnails\nconst premiumTemplates = [\n    {\n        id: 'minimal',\n        title: 'Minimal',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"height:6px;width:60%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:40%;background:#e4e7ec;margin-bottom:12px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:90%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:80%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"display:flex;gap:4px;margin-top:12px;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A clean, minimal signature without dividers'\n    },\n    {\n        id: 'single-column',\n        title: 'Single Column',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"width:24px;height:24px;background:#e4e7ec;border-radius:50%;margin-bottom:8px;\"></div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"height:6px;width:60%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:40%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:90%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:80%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"display:flex;gap:4px;margin-top:4px;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#E1306C;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A clean, single-column signature with dividers'\n    },\n    {\n        id: 'two-column',\n        title: 'Two Column',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"display:flex;margin-bottom:8px;\">\n          <div style=\"width:24px;height:24px;background:#e4e7ec;border-radius:50%;\"></div>\n          <div style=\"margin-left:8px;width:calc(100% - 32px);\">\n            <div style=\"height:6px;width:70%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:50%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n          </div>\n        </div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"display:flex;\">\n          <div style=\"width:30%;\">\n            <div style=\"width:24px;height:24px;background:#e4e7ec;border-radius:4px;\"></div>\n          </div>\n          <div style=\"width:70%;\">\n            <div style=\"height:6px;width:90%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:80%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n          </div>\n        </div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"display:flex;gap:4px;margin-top:4px;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#E1306C;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A two-column signature with photo and logo'\n    },\n    {\n        id: 'vertical',\n        title: 'Vertical',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"width:24px;height:24px;background:#e4e7ec;border-radius:50%;margin:0 auto 8px;\"></div>\n        <div style=\"height:6px;width:60%;background:#e4e7ec;margin:0 auto 6px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:40%;background:#e4e7ec;margin:0 auto 6px;border-radius:4px;\"></div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"width:30%;margin:0 auto;\">\n          <div style=\"width:24px;height:24px;background:#e4e7ec;border-radius:4px;margin:0 auto;\"></div>\n        </div>\n        <div style=\"height:6px;width:90%;background:#e4e7ec;margin:8px auto 4px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:80%;background:#e4e7ec;margin:0 auto 4px;border-radius:4px;\"></div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"display:flex;gap:4px;margin:4px auto;width:fit-content;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#E1306C;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A vertical signature with centered content'\n    },\n    {\n        id: 'modern-divider',\n        title: 'Modern Divider',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"display:flex;margin-bottom:8px;\">\n          <div style=\"width:24px;height:24px;background:#e4e7ec;border-radius:50%;\"></div>\n          <div style=\"margin-left:8px;width:calc(100% - 32px);\">\n            <div style=\"height:6px;width:70%;background:#00BCD4;margin-bottom:6px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:50%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n          </div>\n        </div>\n        <div style=\"height:1px;width:100%;background:#00BCD4;margin:8px 0;\"></div>\n        <div style=\"height:6px;width:90%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:80%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"height:1px;width:100%;background:#00BCD4;margin:8px 0;\"></div>\n        <div style=\"display:flex;gap:4px;margin-top:4px;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#E1306C;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A modern signature with colored dividers'\n    },\n    {\n        id: 'photo-left',\n        title: 'Photo Left',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"display:flex;margin-bottom:8px;\">\n          <div style=\"width:30px;height:30px;background:#e4e7ec;border-radius:50%;margin-right:8px;\"></div>\n          <div style=\"width:calc(100% - 38px);\">\n            <div style=\"height:6px;width:70%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:50%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:90%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:80%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n          </div>\n        </div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"display:flex;gap:4px;margin-top:4px;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#E1306C;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A signature with photo on the left side'\n    },\n    {\n        id: 'photo-right',\n        title: 'Photo Right',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"display:flex;margin-bottom:8px;\">\n          <div style=\"width:calc(100% - 38px);\">\n            <div style=\"height:6px;width:70%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:50%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:90%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n            <div style=\"height:6px;width:80%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n          </div>\n          <div style=\"width:30px;height:30px;background:#e4e7ec;border-radius:50%;margin-left:8px;\"></div>\n        </div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"display:flex;gap:4px;margin-top:4px;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#E1306C;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A signature with photo on the right side'\n    },\n    {\n        id: 'logo-banner',\n        title: 'Logo Banner',\n        type: 'Premium',\n        htmlThumbnail: `\n      <div style=\"width:100%;height:100%;padding:8px;background:#f9fafb;border-radius:4px;\">\n        <div style=\"height:20px;background:#e4e7ec;margin-bottom:8px;border-radius:4px;display:flex;align-items:center;justify-content:center;\">\n          <div style=\"width:40px;height:12px;background:#ffffff;border-radius:2px;\"></div>\n        </div>\n        <div style=\"height:6px;width:60%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:40%;background:#e4e7ec;margin-bottom:6px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:90%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"height:6px;width:80%;background:#e4e7ec;margin-bottom:4px;border-radius:4px;\"></div>\n        <div style=\"height:1px;width:100%;background:#e4e7ec;margin:8px 0;\"></div>\n        <div style=\"display:flex;gap:4px;margin-top:4px;\">\n          <div style=\"height:8px;width:8px;background:#4285F4;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#3b5998;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#000000;border-radius:50%;\"></div>\n          <div style=\"height:8px;width:8px;background:#E1306C;border-radius:50%;\"></div>\n        </div>\n      </div>\n    `,\n        description: 'A signature with a logo banner at the top'\n    }\n];\n\n// Social media platforms\nconst socialPlatforms = [\n    { id: 'linkedin', name: 'LinkedIn', icon: Linkedin, color: '#0A66C2' },\n    { id: 'twitter', name: 'Twitter', icon: Twitter, color: '#1DA1F2' },\n    { id: 'instagram', name: 'Instagram', icon: Instagram, color: '#E4405F' },\n    { id: 'facebook', name: 'Facebook', icon: Facebook, color: '#1877F2' },\n    { id: 'github', name: 'GitHub', icon: Github, color: '#181717' },\n    { id: 'youtube', name: 'YouTube', icon: Youtube, color: '#FF0000' },\n    { id: 'website', name: 'Website', icon: Globe, color: '#0E85C7' }\n];\n\nconst CreateEmailSignatureTemplate = () => {\n    const { trialHeight } = useTrialHeight();\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const has_work_subscription = !!profileData?.has_work_subscription;\n    const has_twilio = !!profileData?.has_twilio;\n    const navigate = useNavigate();\n    const { id } = useParams();\n    const [searchParams] = useSearchParams();\n    const templateId = searchParams.get('templateId');\n\n    const [title, setTitle] = useState(\"\");\n    const [text, setText] = useState(null);\n    const [errors, setErrors] = useState({});\n    const [isEdit, setIsEdit] = useState(false);\n    const [activeTab, setActiveTab] = useState('job-templates');\n    const [showPreview, setShowPreview] = useState(false);\n    const [previewDevice, setPreviewDevice] = useState('desktop'); // 'desktop', 'tablet', or 'mobile'\n\n    // Premium signature fields\n    const [selectedTemplate, setSelectedTemplate] = useState(templateId || premiumTemplates[0].id);\n    const [fullName, setFullName] = useState('');\n    const [jobTitle, setJobTitle] = useState('');\n    const [company, setCompany] = useState('');\n    const [email, setEmail] = useState('');\n    const [phone, setPhone] = useState('');\n    const [website, setWebsite] = useState('');\n    const [address, setAddress] = useState('');\n    const [profileImage, setProfileImage] = useState(null);\n    const [companyLogo, setCompanyLogo] = useState(null);\n    const [socialLinks, setSocialLinks] = useState({});\n    const [activeSocials, setActiveSocials] = useState([]);\n\n    // Advanced customization options\n    const [fontFamily, setFontFamily] = useState('Arial, sans-serif');\n    const [primaryColor, setPrimaryColor] = useState('#00BCD4'); // Default teal color\n    const [textColor, setTextColor] = useState('#333333');\n    const [secondaryTextColor, setSecondaryTextColor] = useState('#666666');\n    const [linkColor, setLinkColor] = useState('#0E85C7');\n    const [fontSize, setFontSize] = useState('normal'); // 'small', 'normal', 'large'\n    const [backgroundColor, setBackgroundColor] = useState('transparent');\n    const [dividerStyle, setDividerStyle] = useState('solid'); // 'solid', 'dashed', 'dotted'\n    const [dividerWidth, setDividerWidth] = useState('1px'); // '1px', '2px', '3px'\n    const [dividerColor, setDividerColor] = useState('#0E85C7'); // Default to primary color\n    const [profileImageStyle, setProfileImageStyle] = useState('circle'); // 'circle', 'square', 'rounded'\n    const [profileImageSize, setProfileImageSize] = useState('medium'); // 'small', 'medium', 'large'\n    const [companyLogoSize, setCompanyLogoSize] = useState('medium'); // 'small', 'medium', 'large'\n    const [previewKey, setPreviewKey] = useState(0); // Used to force preview re-render\n    const [showAdvancedOptions, setShowAdvancedOptions] = useState(false);\n    const [isDefault, setIsDefault] = useState(false);\n\n    // Handle social media toggle\n    const toggleSocialPlatform = (platformId) => {\n        if (activeSocials.includes(platformId)) {\n            setActiveSocials(activeSocials.filter(id => id !== platformId));\n        } else {\n            setActiveSocials([...activeSocials, platformId]);\n        }\n    };\n\n    // Handle social media link change\n    const handleSocialLinkChange = (platformId, value) => {\n        setSocialLinks({\n            ...socialLinks,\n            [platformId]: value\n        });\n    };\n\n    // Handle image upload with validation and optimization\n    const handleImageUpload = (e, type) => {\n        const file = e.target.files[0];\n        if (!file) return;\n\n        // Validate file type\n        const validTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n        if (!validTypes.includes(file.type)) {\n            toast.error('Please upload a valid image file (JPEG, PNG, GIF, or WebP)');\n            return;\n        }\n\n        // Validate file size (max 2MB)\n        if (file.size > 2 * 1024 * 1024) {\n            toast.error('Image size should be less than 2MB');\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            // Create an image element to get dimensions\n            const img = new Image();\n            img.onload = () => {\n                // Create a canvas to resize the image if needed\n                const canvas = document.createElement('canvas');\n                let width = img.width;\n                let height = img.height;\n\n                // Resize if image is too large (max dimension 800px)\n                const maxDimension = 800;\n                if (width > maxDimension || height > maxDimension) {\n                    if (width > height) {\n                        height = Math.round(height * (maxDimension / width));\n                        width = maxDimension;\n                    } else {\n                        width = Math.round(width * (maxDimension / height));\n                        height = maxDimension;\n                    }\n\n                    canvas.width = width;\n                    canvas.height = height;\n                    const ctx = canvas.getContext('2d');\n                    ctx.drawImage(img, 0, 0, width, height);\n\n                    // Convert to optimized data URL\n                    const optimizedDataUrl = canvas.toDataURL('image/jpeg', 0.85);\n\n                    if (type === 'profile') {\n                        setProfileImage(optimizedDataUrl);\n                    } else if (type === 'logo') {\n                        setCompanyLogo(optimizedDataUrl);\n                    }\n                } else {\n                    // Use original image if it's already small enough\n                    if (type === 'profile') {\n                        setProfileImage(event.target.result);\n                    } else if (type === 'logo') {\n                        setCompanyLogo(event.target.result);\n                    }\n                }\n            };\n            img.src = event.target.result;\n        };\n        reader.onerror = () => {\n            toast.error('Error reading file');\n        };\n        reader.readAsDataURL(file);\n    };\n\n    // Remove uploaded image\n    const removeImage = (type) => {\n        if (type === 'profile') {\n            setProfileImage(null);\n        } else if (type === 'logo') {\n            setCompanyLogo(null);\n        }\n    };\n    const signatureQuery = useQuery({\n        queryKey: [\"getEmailSignature\", id],\n        queryFn: () => getEmailSignature(id),\n        enabled: !!id && id !== '0',\n        retry: 1,\n    });\n    const mutation = useMutation({\n        mutationFn: (templateData) => ((id && id !== '0') ? updateEmailSignature(id, templateData) : createEmailSignature(templateData)),\n        onSuccess: () => {\n            toast.success(\"Template saved successfully!\");\n            navigate('/settings/templates/email-signatures/');\n        },\n        onError: (error) => {\n            console.error(\"Error saving template:\", error);\n            toast.error(\"Failed to save the template. Please try again.\");\n        },\n    });\n    const deleteMutation = useMutation({\n        mutationFn: () => (id && deleteEmailSignature(id)),\n        onSuccess: () => {\n            toast.success(\"Template deleted successfully!\");\n            navigate('/settings/templates/email-signatures/');\n        },\n        onError: (error) => {\n            console.error(\"Error deleting template:\", error);\n            toast.error(\"Failed to delete the template. Please try again.\");\n        },\n    });\n\n    const setDefaultTemplateMutation = useMutation({\n        mutationFn: () => setDefaultEmailSignature(id),\n        onSuccess: () => {\n            toast.success(\"Default template set successfully!\");\n        },\n        onError: (error) => {\n            console.error(\"Error setting default template:\", error);\n            toast.error(\"Failed to set the default template. Please try again.\");\n        },\n    });\n\n    // Function to get company logo size based on selection\n    const getCompanyLogoSize = (size) => {\n        switch (size) {\n            case 'small':\n                return { height: '40px', width: '40px' };\n            case 'large':\n                return { height: '80px', width: '80px' };\n            case 'medium':\n            default:\n                return { height: '60px', width: '60px' };\n        }\n    };\n\n    // Function to get profile image size based on selection\n    const getProfileImageSize = (size) => {\n        switch (size) {\n            case 'small':\n                return { width: '40px', height: '40px' };\n            case 'large':\n                return { width: '80px', height: '80px' };\n            case 'medium':\n            default:\n                return { width: '60px', height: '60px' };\n        }\n    };\n\n    // Generate HTML for the signature based on selected template and user inputs\n    const generateSignatureHTML = () => {\n        // Get font size in pixels based on selection\n        const getFontSize = (size) => {\n            switch (size) {\n                case 'small': return { base: '13px', heading: '15px' };\n                case 'large': return { base: '15px', heading: '18px' };\n                default: return { base: '14px', heading: '16px' }; // normal\n            }\n        };\n\n        // Get border radius based on style\n        const getIconRadius = (style) => {\n            switch (style) {\n                case 'square': return '0';\n                case 'rounded': return '4px';\n                default: return '50%'; // circle\n            }\n        };\n\n        // Get profile image styling\n        const getProfileImageStyle = () => {\n            const radius = getIconRadius(profileImageStyle);\n            const isCircle = profileImageStyle === 'circle';\n\n            if (isCircle) {\n                // For circle style, ensure perfect circular cropping\n                return `border-radius: ${radius}; object-fit: cover; aspect-ratio: 1/1; overflow: hidden;`;\n            } else {\n                return `border-radius: ${radius};`;\n            }\n        };\n\n        // Get border style for dividers\n        const getBorderStyle = (style, width) => {\n            return `${width} ${style} ${dividerColor}`;\n        };\n\n        // Only responsive styles for media queries\n        const responsiveStyles = `\n            /* Responsive styles */\n            @media screen and (max-width: 480px) {\n                .email-signature .mobile-stack {\n                    display: block !important;\n                    width: 100% !important;\n                    padding-right: 0 !important;\n                    padding-bottom: 15px !important;\n                }\n                .email-signature .mobile-text-center {\n                    text-align: center !important;\n                }\n                .email-signature .mobile-img-center {\n                    margin: 0 auto !important;\n                }\n            }\n        `;\n\n        // Generate social media icons HTML\n        const socialIconsHTML = activeSocials.map(platformId => {\n            const platform = socialPlatforms.find(p => p.id === platformId);\n            const link = socialLinks[platformId] || '#';\n            // Use Base64 encoded icons to ensure they display in email clients\n            return `\n                <a href=\"${link}\" class=\"social-icon\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline-block; margin-right: 8px; margin-bottom: 8px; text-decoration: none;\">\n                    <img src=\"${socialIcons[platformId] || socialIcons['website']}\"\n                         alt=\"${platform.name}\" width=\"24\" height=\"24\"\n                         style=\"border: none; display: inline-block; padding: 2px;\" />\n                </a>\n            `;\n        }).join('');\n\n        // Different templates\n        let signatureHTML = '';\n\n        switch (selectedTemplate) {\n            case 'single-column':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"font-family: ${fontFamily}; max-width: 500px; color: ${textColor}; line-height: 1.4; width: 100%; background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse: collapse; width: 100%;\">\n                            <tr>\n                                <td class=\"mobile-text-center\" style=\"padding: 0; vertical-align: top; text-align: left;\">\n                                    ${profileImage ? `<div style=\"width: ${getProfileImageSize(profileImageSize).width}; height: ${getProfileImageSize(profileImageSize).height}; ${profileImageStyle === 'circle' ? 'overflow: hidden; border-radius: 50%;' : ''} margin-bottom: 10px;\">\n                                        <img src=\"${profileImage}\" alt=\"${fullName}\" width=\"${getProfileImageSize(profileImageSize).width.replace('px', '')}\" height=\"${getProfileImageSize(profileImageSize).height.replace('px', '')}\" style=\"border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; -ms-interpolation-mode: bicubic; ${getProfileImageStyle()}; display: block;\" class=\"mobile-img-center\" />\n                                    </div>` : ''}\n                                    <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 10px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"text-decoration: none; color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"text-decoration: none; color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"text-decoration: none; color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                    <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                                    ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                `;\n                break;\n\n            case 'two-column':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"font-family: ${fontFamily}; max-width: 500px; color: ${textColor}; line-height: 1.4; width: 100%; background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse: collapse; width: 100%;\">\n                            <tr>\n                                ${profileImage ? `\n                                <td class=\"mobile-stack\" style=\"padding-right: 15px; width: 80px; vertical-align: center;\">\n                                    ${profileImage ? `<div style=\"width: ${getProfileImageSize(profileImageSize).width}; height: ${getProfileImageSize(profileImageSize).height}; ${profileImageStyle === 'circle' ? 'overflow: hidden; border-radius: 50%;' : ''} margin-bottom: 0;\">\n                                        <img src=\"${profileImage}\" alt=\"${fullName}\" width=\"${getProfileImageSize(profileImageSize).width.replace('px', '')}\" height=\"${getProfileImageSize(profileImageSize).height.replace('px', '')}\" style=\"${getProfileImageStyle()}; display: block;\" class=\"mobile-img-center\" />\n                                    </div>` : ''}\n                                </td>` : ''}\n                                <td class=\"mobile-text-center\">\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 0px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                </td>\n                            </tr>\n                        </table>\n                        <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse: collapse; width: 100%;\">\n                            <tr>\n                                ${companyLogo ? `\n                                <td class=\"mobile-stack\" style=\"padding-right: 15px; width: 80px; vertical-align: top;\">\n                                    ${companyLogo ? `<img src=\"${companyLogo}\" alt=\"${company}\" height=\"${getCompanyLogoSize(companyLogoSize).height.replace('px', '')}\" style=\"display: block; margin-top: 10px; width: ${getCompanyLogoSize(companyLogoSize).width};\" class=\"mobile-img-center\" />` : ''}\n                                </td>` : ''}\n                                <td class=\"mobile-stack mobile-text-center\" style=\"vertical-align: top;\">\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"text-decoration: none; color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"text-decoration: none; color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"text-decoration: none; color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                        <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                        ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                    </div>\n                `;\n                break;\n\n            case 'vertical':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"font-family: ${fontFamily}; max-width: 500px; color: ${textColor}; line-height: 1.4; width: 100%; background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse: collapse; width: 100%;\">\n                            <tr>\n                                <td class=\"mobile-text-center\" style=\"text-align: center;\">\n                                    ${profileImage ? `<div style=\"width: ${getProfileImageSize(profileImageSize).width}; height: ${getProfileImageSize(profileImageSize).height}; ${profileImageStyle === 'circle' ? 'overflow: hidden; border-radius: 50%;' : ''} margin: 0 auto 10px;\">\n                                        <img src=\"${profileImage}\" alt=\"${fullName}\" width=\"${getProfileImageSize(profileImageSize).width.replace('px', '')}\" height=\"${getProfileImageSize(profileImageSize).height.replace('px', '')}\" style=\"${getProfileImageStyle()}; display: block;\" />\n                                    </div>` : ''}\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 10px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                    <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                                    ${companyLogo ? `<img src=\"${companyLogo}\" alt=\"${company}\" height=\"${getCompanyLogoSize(companyLogoSize).height}\" style=\"display: block; margin: 10px auto; width: ${getCompanyLogoSize(companyLogoSize).width};\" />` : ''}\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"text-decoration: none; color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"text-decoration: none; color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"text-decoration: none; color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                    <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                                    ${socialIconsHTML ? `<div style=\"margin-top: 10px; text-align: center;\">${socialIconsHTML}</div>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                `;\n                break;\n\n            case 'modern-divider':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"font-family: ${fontFamily}; max-width: 500px; color: ${textColor}; line-height: 1.4; width: 100%; background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse: collapse; width: 100%;\">\n                            <tr>\n                                ${profileImage ? `\n                                <td class=\"mobile-stack\" style=\"padding-right: 15px; width: 80px; vertical-align: top;\">\n                                    <div style=\"width: ${getProfileImageSize(profileImageSize).width}; height: ${getProfileImageSize(profileImageSize).height}; ${profileImageStyle === 'circle' ? 'overflow: hidden; border-radius: 50%;' : ''} margin-top: 10px;\">\n                                        <img src=\"${profileImage}\" alt=\"${fullName}\" width=\"${getProfileImageSize(profileImageSize).width.replace('px', '')}\" height=\"${getProfileImageSize(profileImageSize).height.replace('px', '')}\" style=\"${getProfileImageStyle()}; display: block;\" class=\"mobile-img-center\" />\n                                    </div>\n                                </td>` : ''}\n                                <td class=\"mobile-stack mobile-text-center\" style=\"vertical-align: top;\">\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${primaryColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 10px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                </td>\n                            </tr>\n                        </table>\n                        <div style=\"border-bottom: ${dividerWidth} ${dividerStyle} ${dividerColor}; margin: 10px 0;\"></div>\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"border-collapse: collapse; width: 100%;\">\n                            <tr>\n                                <td>\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"text-decoration: none; color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"text-decoration: none; color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"text-decoration: none; color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                        <div style=\"border-bottom: ${dividerWidth} ${dividerStyle} ${primaryColor}; margin: 10px 0;\"></div>\n                        ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                    </div>\n                `;\n                break;\n\n            case 'photo-left':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width: 100%;\">\n                            <tr>\n                                ${profileImage ? `\n                                <td class=\"mobile-stack\" style=\"padding-right: 15px; width: 80px; vertical-align: top;\">\n                                    <div style=\"width: ${getProfileImageSize(profileImageSize).width}; height: ${getProfileImageSize(profileImageSize).height}; ${profileImageStyle === 'circle' ? 'overflow: hidden; border-radius: 50%;' : ''} margin-top: 10px;\">\n                                        <img src=\"${profileImage}\" alt=\"${fullName}\" width=\"${getProfileImageSize(profileImageSize).width.replace('px', '')}\" height=\"${getProfileImageSize(profileImageSize).height.replace('px', '')}\" style=\"${getProfileImageStyle()}; display: block;\" class=\"mobile-img-center\" />\n                                    </div>\n                                </td>` : ''}\n                                <td class=\"mobile-stack mobile-text-center\" style=\"vertical-align: top;\">\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                        <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                        ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                    </div>\n                `;\n                break;\n\n            case 'photo-right':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width: 100%;\">\n                            <tr>\n                                <td class=\"mobile-stack mobile-text-center\" style=\"vertical-align: top;\">\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                </td>\n                                ${profileImage ? `\n                                <td class=\"mobile-stack\" style=\"padding-left: 15px; width: 80px; vertical-align: top;\">\n                                    <div style=\"width: ${getProfileImageSize(profileImageSize).width}; height: ${getProfileImageSize(profileImageSize).height}; ${profileImageStyle === 'circle' ? 'overflow: hidden; border-radius: 50%;' : ''} margin-top: 10px;\">\n                                        <img src=\"${profileImage}\" alt=\"${fullName}\" width=\"${getProfileImageSize(profileImageSize).width.replace('px', '')}\" height=\"${getProfileImageSize(profileImageSize).height.replace('px', '')}\" style=\"${getProfileImageStyle()}; display: block;\" class=\"mobile-img-center\" />\n                                    </div>\n                                </td>` : ''}\n                            </tr>\n                        </table>\n                        <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                        ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                    </div>\n                `;\n                break;\n\n            case 'logo-banner':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"background-color: ${backgroundColor};\">\n                        ${companyLogo ? `\n                        <div style=\"background-color: ${primaryColor}; padding: 10px; text-align: center; margin-bottom: 15px;\">\n                            <img src=\"${companyLogo}\" alt=\"${company}\" height=\"${getCompanyLogoSize(companyLogoSize).height}\" style=\"display: inline-block; width: ${getCompanyLogoSize(companyLogoSize).width};\" />\n                        </div>` : ''}\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width: 100%;\">\n                            <tr>\n                                ${profileImage ? `\n                                <td class=\"mobile-stack\" style=\"padding-right: 15px; width: 80px; vertical-align: top;\">\n                                    <div style=\"width: ${getProfileImageSize(profileImageSize).width}; height: ${getProfileImageSize(profileImageSize).height}; ${profileImageStyle === 'circle' ? 'overflow: hidden; border-radius: 50%;' : ''} margin-top: 10px;\">\n                                        <img src=\"${profileImage}\" alt=\"${fullName}\" width=\"${getProfileImageSize(profileImageSize).width.replace('px', '')}\" height=\"${getProfileImageSize(profileImageSize).height.replace('px', '')}\" style=\"${getProfileImageStyle()}; display: block;\" class=\"mobile-img-center\" />\n                                    </div>\n                                </td>` : ''}\n                                <td class=\"mobile-stack mobile-text-center\" style=\"vertical-align: top;\">\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                        <div style=\"border-bottom: ${getBorderStyle(dividerStyle, dividerWidth)}; margin: 10px 0;\"></div>\n                        ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                    </div>\n                `;\n                break;\n\n            case 'minimal':\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width: 100%;\">\n                            <tr>\n                                <td class=\"mobile-text-center\">\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 10px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` at ${company}` : ''}</p>\n                                    ${email ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"mailto:${email}\" style=\"color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${phone ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"tel:${phone}\" style=\"color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\"><a href=\"${website}\" style=\"color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 3px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${address}</p>` : ''}\n                                    ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                `;\n                break;\n\n            // Keep the default case for backward compatibility\n            default:\n                signatureHTML = `\n                    <div class=\"email-signature\" style=\"background-color: ${backgroundColor};\">\n                        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                            <tr>\n                                <td>\n                                    <h3 style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).heading}; color: ${textColor}; font-weight: 600; font-family: ${fontFamily};\">${fullName}</h3>\n                                    <p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">${jobTitle}${company ? ` | ${company}` : ''}</p>\n                                    ${phone ? `<p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\">Phone: <a href=\"tel:${phone}\" style=\"color: ${textColor};\">${phone}</a></p>` : ''}\n                                    ${email ? `<p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\">Email: <a href=\"mailto:${email}\" style=\"color: ${linkColor};\">${email}</a></p>` : ''}\n                                    ${website ? `<p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; font-family: ${fontFamily};\">Website: <a href=\"${website}\" style=\"color: ${linkColor};\">${website}</a></p>` : ''}\n                                    ${address ? `<p style=\"margin: 0 0 5px 0; font-size: ${getFontSize(fontSize).base}; color: ${secondaryTextColor}; font-family: ${fontFamily};\">Address: ${address}</p>` : ''}\n                                    ${socialIconsHTML ? `<div style=\"margin-top: 10px;\">${socialIconsHTML}</div>` : ''}\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                `;\n        }\n\n        // Add style tag for responsive styles only\n        return `<style type=\"text/css\">${responsiveStyles}</style>${signatureHTML}`;\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setErrors({});\n\n        const newErrors = {};\n        if (!title) newErrors.title = true;\n        if (!text && !fullName) newErrors.fullName = true;\n        if (!text && !email) newErrors.email = true;\n\n        if (Object.keys(newErrors).length > 0) {\n            setErrors(newErrors);\n            return;\n        }\n\n        const signatureHTML = generateSignatureHTML();\n\n        // Make sure to preserve the HTML structure when saving\n        const finalHtml = text ? preserveEmailSignatureHtml(text) : signatureHTML;\n\n        const templateData = {\n            name: title,\n            text: finalHtml,\n        };\n\n        // Removed console.log to prevent unnecessary re-renders\n        toast.success(\"Saving your email signature...\");\n        mutation.mutate(templateData);\n    };\n\n    const handleDelete = () => {\n        if (id) {\n            deleteMutation.mutate();\n        }\n    };\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setTitle(signatureQuery?.data?.name);\n            setText(signatureQuery?.data?.text);\n            setIsDefault((profileData.email_signature === signatureQuery?.data?.id) || false);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n\n    return (\n        <div className='settings-wrap'>\n            <Helmet>\n                <title>MeMate - Email Signature Template</title>\n            </Helmet>\n            <div className=\"settings-wrapper\">\n                <Sidebar activeTab={activeTab} setActiveTab={setActiveTab} />\n                <div className=\"settings-content setModalelBoots\">\n                    <div className='headSticky' style={{ position: 'relative' }}>\n                        <h1>Templates</h1>\n                        <div className='contentMenuTab'>\n                            <ul>\n                                <li><Link to=\"/settings/templates/email-templates\">Email Templates</Link></li>\n                                <li className='menuActive'><Link to=\"/settings/templates/email-signatures\">Email Signatures</Link></li>\n                                <li><Link to=\"/settings/templates/proposal-templates\">Proposal Templates</Link></li>\n                                {!has_work_subscription ? (\n                                    <OverlayTrigger\n                                        key=\"top\"\n                                        placement=\"top\"\n                                        overlay={\n                                            <Tooltip className='TooltipOverlay width-300' id=\"tooltip-job-templates\">\n                                                Work environment is not available for this subscription type\n                                            </Tooltip>\n                                        }\n                                    >\n                                        <li style={{ opacity: '.5', cursor: 'not-allowed' }}><Link to=\"#\">Job Templates</Link></li>\n                                    </OverlayTrigger>\n                                ) : (\n                                    <li><Link to=\"/settings/templates/job-templates\">Job Templates</Link></li>\n                                )}\n                                {!has_twilio ? (\n                                    <OverlayTrigger\n                                        key=\"top\"\n                                        placement=\"top\"\n                                        overlay={\n                                            <Tooltip className='TooltipOverlay width-300' id=\"tooltip-job-templates\">\n                                                Your Twilio account has not been set up yet.\n                                            </Tooltip>\n                                        }\n                                    >\n                                        <li style={{ opacity: '.5', cursor: 'not-allowed' }}><Link to=\"#\">SMS Templates</Link></li>\n                                    </OverlayTrigger>\n                                ) : (\n                                    <li><Link to=\"/settings/templates/sms-templates\">SMS Templates</Link></li>\n                                )}\n                            </ul>\n                        </div>\n                    </div>\n\n                    {/* Email Signature Preview Modal */}\n                    <Modal show={showPreview} onHide={() => setShowPreview(false)} size=\"lg\" centered>\n                        <Modal.Header closeButton>\n                            <Modal.Title className=\"font-16 mb-0 p-2\">{title || \"Email Signature Preview\"}</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>\n                            <div className=\"d-flex justify-content-center mb-3\">\n                                <div className=\"d-flex gap-2\">\n                                    <Button\n                                        onClick={() => setPreviewDevice('desktop')}\n                                        className={previewDevice === 'desktop' ? 'info-button' : 'outline-button'}\n                                    >\n                                        <i className=\"bi bi-laptop\"></i> Desktop\n                                    </Button>\n                                    <Button\n                                        onClick={() => setPreviewDevice('tablet')}\n                                        className={previewDevice === 'tablet' ? 'info-button' : 'outline-button'}\n                                    >\n                                        <i className=\"bi bi-tablet\"></i> Tablet\n                                    </Button>\n                                    <Button\n                                        onClick={() => setPreviewDevice('mobile')}\n                                        className={previewDevice === 'mobile' ? 'info-button' : 'outline-button'}\n                                    >\n                                        <i className=\"bi bi-phone\"></i> Mobile\n                                    </Button>\n                                </div>\n                            </div>\n                            <div\n                                className={style.emailPreviewContainer}\n                                style={{\n                                    maxWidth: previewDevice === 'desktop' ? '100%' : previewDevice === 'tablet' ? '768px' : '375px',\n                                    margin: '0 auto'\n                                }}\n                            >\n                                <div className={style.emailPreviewHeader}>\n                                    <div className={style.emailPreviewHeaderItem}>\n                                        <strong>From:</strong> Your Name &lt;your.email@example.com&gt;\n                                    </div>\n                                    <div className={style.emailPreviewHeaderItem}>\n                                        <strong>To:</strong> Recipient &lt;recipient@example.com&gt;\n                                    </div>\n                                    <div className={style.emailPreviewHeaderItem}>\n                                        <strong>Subject:</strong> Email with Signature\n                                    </div>\n                                </div>\n                                <div className={style.emailPreviewBody}>\n                                    <p>Hello,</p>\n                                    <p>This is a sample email message. Your actual email content would appear here.</p>\n                                    <p>Best regards,</p>\n                                    <div className={style.emailSignature}>\n                                        {\n                                            text ? <div key={previewKey} className={style.emailSignatureContent} dangerouslySetInnerHTML={{ __html: preserveEmailSignatureHtml(text) }} /> :\n                                                <div key={previewKey} className={style.emailSignatureContent} dangerouslySetInnerHTML={{ __html: generateSignatureHTML() }} />\n                                        }\n                                    </div>\n                                </div>\n                            </div>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <Button className=\"outline-button\" variant=\"secondary\" onClick={() => setShowPreview(false)}>\n                                Close\n                            </Button>\n                        </Modal.Footer>\n                    </Modal>\n\n                    <div className={`content_wrap_main mt-0`} style={{ background: '#F9FAFB', paddingBottom: `${trialHeight}px` }}>\n                        <div className='content_wrapper d-block px-3' style={{ paddingTop: '24px', paddingBottom: '100px' }}>\n                            <Link to='/settings/templates/email-signatures/' className={clsx(style.transparent, 'text-button border px-0')} style={{ width: \"fit-content\", marginBottom: '16px' }}>\n                                <ChevronLeft color=\"#475467\" size={20} /> <span style={{ color: '#475467' }}>Go Back</span>\n                            </Link>\n\n                            <div className='d-flex align-items-center w-100'>\n                                {\n                                    isEdit ? (\n                                        <>\n                                            <InputText onBlur={() => setIsEdit(false)} className={clsx(style.inputBox, style.templateName, style.transparent, 'me-2 p-0')} value={title} onChange={(e) => {\n                                                setTitle(e.target.value);\n                                                setErrors((others) => ({ ...others, title: false }));\n                                            }} autoFocus\n                                                placeholder='[ Template ]'\n                                            />\n                                        </>\n                                    ) : <span className={clsx(style.templateName, 'me-2')}>{title || \"[ Template Name ]\"}</span>\n                                }\n                                <div style={{ width: '30px' }}>\n                                    {signatureQuery?.isFetching ?\n                                        <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px' }} />\n                                        : <PencilSquare color='#106B99' onClick={() => setIsEdit(true)} size={16} style={{ cursor: 'pointer' }} />\n                                    }\n                                </div>\n                            </div>\n                            {errors?.title && (\n                                <p className=\"error-message mb-0\">{\"Title is required\"}</p>\n                            )}\n\n                            <div className={style.divider}></div>\n                            {!id ? (\n                                <Row className=\"mt-4\">\n                                    {/* Left Column - Form */}\n                                    <Col md={7}>\n                                        <div className={premiumStyle.formSection}>\n                                            <h3>Select your template</h3>\n                                            <div className={premiumStyle.templateSelector}>\n                                                <div className={premiumStyle.templateOptions}>\n                                                    {premiumTemplates.map(template => (\n                                                        <div\n                                                            key={template.id}\n                                                            className={clsx(\n                                                                premiumStyle.templateOption,\n                                                                { [premiumStyle.selected]: selectedTemplate === template.id }\n                                                            )}\n                                                            onClick={() => setSelectedTemplate(template.id)}\n                                                        >\n                                                            <div\n                                                                className={premiumStyle.thumbnailContainer}\n                                                                dangerouslySetInnerHTML={{ __html: template.htmlThumbnail }}\n                                                            ></div>\n                                                            <div className={premiumStyle.templateName}>{template.title}</div>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            </div>\n\n                                            <h3>Personal Information</h3>\n                                            <Form>\n                                                <Row>\n                                                    <Col md={6}>\n                                                        <Form.Group className=\"mb-3\">\n                                                            <Form.Label className={premiumStyle.label}>Full Name <span className=\"text-danger\">*</span></Form.Label>\n                                                            <Form.Control\n                                                                type=\"text\"\n                                                                value={fullName}\n                                                                onChange={(e) => {\n                                                                    setFullName(e.target.value);\n                                                                    setErrors(prev => ({ ...prev, fullName: false }));\n                                                                }}\n                                                                isInvalid={errors.fullName}\n                                                                placeholder=\"John Doe\"\n                                                                className={premiumStyle.inputBox}\n                                                            />\n                                                            {errors.fullName && <Form.Text className=\"text-danger\">Full name is required</Form.Text>}\n                                                        </Form.Group>\n                                                    </Col>\n                                                    <Col md={6}>\n                                                        <Form.Group className=\"mb-3\">\n                                                            <Form.Label className={premiumStyle.label}>Job Title</Form.Label>\n                                                            <Form.Control\n                                                                type=\"text\"\n                                                                value={jobTitle}\n                                                                onChange={(e) => setJobTitle(e.target.value)}\n                                                                placeholder=\"Marketing Manager\"\n                                                                className={premiumStyle.inputBox}\n                                                            />\n                                                        </Form.Group>\n                                                    </Col>\n                                                </Row>\n\n                                                <Row>\n                                                    <Col md={6}>\n                                                        <Form.Group className=\"mb-3\">\n                                                            <Form.Label className={premiumStyle.label}>Email <span className=\"text-danger\">*</span></Form.Label>\n                                                            <Form.Control\n                                                                type=\"email\"\n                                                                value={email}\n                                                                onChange={(e) => {\n                                                                    setEmail(e.target.value);\n                                                                    setErrors(prev => ({ ...prev, email: false }));\n                                                                }}\n                                                                isInvalid={errors.email}\n                                                                placeholder=\"john.doe@example.com\"\n                                                                className={premiumStyle.inputBox}\n                                                            />\n                                                            {errors.email && <Form.Text className=\"text-danger\">Email is required</Form.Text>}\n                                                        </Form.Group>\n                                                    </Col>\n                                                    <Col md={6}>\n                                                        <Form.Group className=\"mb-3\">\n                                                            <Form.Label className={premiumStyle.label}>Phone</Form.Label>\n                                                            <Form.Control\n                                                                type=\"text\"\n                                                                value={phone}\n                                                                onChange={(e) => setPhone(e.target.value)}\n                                                                placeholder=\"+1 (555) 123-4567\"\n                                                                className={premiumStyle.inputBox}\n                                                            />\n                                                        </Form.Group>\n                                                    </Col>\n                                                </Row>\n\n                                                <Row>\n                                                    <Col md={6}>\n                                                        <Form.Group className=\"mb-3\">\n                                                            <Form.Label className={premiumStyle.label}>Company</Form.Label>\n                                                            <Form.Control\n                                                                type=\"text\"\n                                                                value={company}\n                                                                onChange={(e) => setCompany(e.target.value)}\n                                                                placeholder=\"Acme Inc.\"\n                                                                className={premiumStyle.inputBox}\n                                                            />\n                                                        </Form.Group>\n                                                    </Col>\n                                                    <Col md={6}>\n                                                        <Form.Group className=\"mb-3\">\n                                                            <Form.Label className={premiumStyle.label}>Website</Form.Label>\n                                                            <Form.Control\n                                                                type=\"text\"\n                                                                value={website}\n                                                                onChange={(e) => setWebsite(e.target.value)}\n                                                                placeholder=\"https://example.com\"\n                                                                className={premiumStyle.inputBox}\n                                                            />\n                                                        </Form.Group>\n                                                    </Col>\n                                                </Row>\n\n                                                <Form.Group className=\"mb-3\">\n                                                    <Form.Label className={premiumStyle.label}>Address</Form.Label>\n                                                    <Form.Control\n                                                        type=\"text\"\n                                                        value={address}\n                                                        className={premiumStyle.inputBox}\n                                                        onChange={(e) => setAddress(e.target.value)}\n                                                        placeholder=\"123 Main St, City, State, 12345\"\n                                                    />\n                                                </Form.Group>\n                                            </Form>\n\n                                            <h3>Images</h3>\n                                            <div className={premiumStyle.imageUploadSection}>\n                                                <div className={premiumStyle.imageUploadContainer}>\n                                                    <div>\n                                                        <Form.Label>Profile Picture</Form.Label>\n                                                        {profileImage ? (\n                                                            <div className={clsx(premiumStyle.imageUploadBox, premiumStyle.hasImage)}>\n                                                                <img src={profileImage} alt=\"Profile\" />\n                                                                <button\n                                                                    className={premiumStyle.removeImageButton}\n                                                                    onClick={() => removeImage('profile')}\n                                                                    type=\"button\"\n                                                                >\n                                                                    <XCircle size={14} />\n                                                                </button>\n                                                            </div>\n                                                        ) : (\n                                                            <label className={premiumStyle.imageUploadBox}>\n                                                                <Upload className={premiumStyle.uploadIcon} size={24} />\n                                                                <p>Upload Image</p>\n                                                                <input\n                                                                    type=\"file\"\n                                                                    accept=\"image/*\"\n                                                                    style={{ display: 'none' }}\n                                                                    onChange={(e) => handleImageUpload(e, 'profile')}\n                                                                />\n                                                            </label>\n                                                        )}\n                                                    </div>\n\n                                                    <div>\n                                                        <Form.Label>Company Logo</Form.Label>\n                                                        {companyLogo ? (\n                                                            <div className={clsx(premiumStyle.imageUploadBox, premiumStyle.hasImage)}>\n                                                                <img\n                                                                    src={companyLogo}\n                                                                    alt=\"Company Logo\"\n                                                                    style={{\n                                                                        height: getCompanyLogoSize(companyLogoSize).height,\n                                                                        width: getCompanyLogoSize(companyLogoSize).width\n                                                                    }}\n                                                                />\n                                                                <button\n                                                                    className={premiumStyle.removeImageButton}\n                                                                    onClick={() => removeImage('logo')}\n                                                                    type=\"button\"\n                                                                >\n                                                                    <XCircle size={14} />\n                                                                </button>\n                                                            </div>\n                                                        ) : (\n                                                            <label className={premiumStyle.imageUploadBox}>\n                                                                <Upload className={premiumStyle.uploadIcon} size={24} />\n                                                                <p>Upload Logo</p>\n                                                                <input\n                                                                    type=\"file\"\n                                                                    accept=\"image/*\"\n                                                                    style={{ display: 'none' }}\n                                                                    onChange={(e) => handleImageUpload(e, 'logo')}\n                                                                />\n                                                            </label>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <h3>Social Media</h3>\n                                            <div className={premiumStyle.socialMediaSection}>\n                                                <Form.Label>Select platforms to include:</Form.Label>\n                                                <div className={premiumStyle.socialMediaList}>\n                                                    {socialPlatforms.map(platform => {\n                                                        const isActive = activeSocials.includes(platform.id);\n                                                        return (\n                                                            <div\n                                                                key={platform.id}\n                                                                className={clsx(\n                                                                    premiumStyle.socialMediaItem,\n                                                                    { [premiumStyle.active]: isActive }\n                                                                )}\n                                                                onClick={() => toggleSocialPlatform(platform.id)}\n                                                            >\n                                                                <platform.icon className={premiumStyle.socialIcon} size={16} />\n                                                                <span className=\"font-14\">{platform.name}</span>\n                                                            </div>\n                                                        );\n                                                    })}\n                                                </div>\n\n                                                {activeSocials.length > 0 && (\n                                                    <div className=\"mt-3\">\n                                                        {activeSocials.map(platformId => {\n                                                            const platform = socialPlatforms.find(p => p.id === platformId);\n                                                            return (\n                                                                <Form.Group key={platformId} className=\"mb-2\">\n                                                                    <Form.Label className={premiumStyle.label}>{platform.name} URL</Form.Label>\n                                                                    <Form.Control\n                                                                        type=\"text\"\n                                                                        value={socialLinks[platformId] || ''}\n                                                                        onChange={(e) => handleSocialLinkChange(platformId, e.target.value)}\n                                                                        placeholder={`https://${platformId}.com/username`}\n                                                                        className={premiumStyle.inputBox}\n                                                                    />\n                                                                </Form.Group>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                )}\n                                            </div>\n\n                                            <h3>Advanced Options</h3>\n                                            <div className={premiumStyle.advancedOptionsSection}>\n                                                <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                                                    <Form.Label className=\"mb-0\">Customize your signature appearance</Form.Label>\n                                                    <Button\n                                                        onClick={() => setShowAdvancedOptions(!showAdvancedOptions)}\n                                                        className=\"py-1 outline-button\"\n                                                        style={{ width: '80px' }}\n                                                    >\n                                                        {showAdvancedOptions ? 'Hide' : 'Show'}\n                                                    </Button>\n                                                </div>\n\n                                                {showAdvancedOptions && (\n                                                    <div className=\"p-3 border rounded\">\n                                                        <Form.Group className=\"mb-3\">\n                                                            <Form.Label className={premiumStyle.label}>Font Family</Form.Label>\n                                                            <Dropdown\n                                                                value={fontFamily}\n                                                                onChange={(e) => setFontFamily(e.value)}\n                                                                options={[\n                                                                    { label: 'Arial', value: 'Arial, sans-serif' },\n                                                                    { label: 'Helvetica', value: '\\'Helvetica Neue\\', Helvetica, sans-serif' },\n                                                                    { label: 'Times New Roman', value: '\\'Times New Roman\\', Times, serif' },\n                                                                    { label: 'Georgia', value: 'Georgia, serif' },\n                                                                    { label: 'Verdana', value: 'Verdana, sans-serif' },\n                                                                    { label: 'Tahoma', value: 'Tahoma, sans-serif' },\n                                                                    { label: 'Trebuchet MS', value: '\\'Trebuchet MS\\', sans-serif' },\n                                                                    { label: 'Courier New', value: '\\'Courier New\\', Courier, monospace' }\n                                                                ]}\n                                                                style={{ width: '520px', outline: 'none', boxShadow: 'none' }}\n                                                                placeholder=\"Select a font family\"\n                                                            />\n                                                        </Form.Group>\n\n                                                        <Row>\n                                                            <Col md={6}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Primary Color</Form.Label>\n                                                                    <Form.Control\n                                                                        type=\"color\"\n                                                                        value={primaryColor}\n                                                                        onChange={(e) => setPrimaryColor(e.target.value)}\n                                                                        className={premiumStyle.inputBox}\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                            <Col md={6}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Text Color</Form.Label>\n                                                                    <Form.Control\n                                                                        type=\"color\"\n                                                                        value={textColor}\n                                                                        onChange={(e) => setTextColor(e.target.value)}\n                                                                        className={premiumStyle.inputBox}\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                        </Row>\n\n                                                        <Row>\n                                                            <Col md={6}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Secondary Text Color</Form.Label>\n                                                                    <Form.Control\n                                                                        type=\"color\"\n                                                                        value={secondaryTextColor}\n                                                                        className={premiumStyle.inputBox}\n                                                                        onChange={(e) => setSecondaryTextColor(e.target.value)}\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                            <Col md={6}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Link Color</Form.Label>\n                                                                    <Form.Control\n                                                                        type=\"color\"\n                                                                        value={linkColor}\n                                                                        className={premiumStyle.inputBox}\n                                                                        onChange={(e) => setLinkColor(e.target.value)}\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                        </Row>\n\n                                                        <Row>\n                                                            <Col md={6}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Background Color</Form.Label>\n                                                                    <Form.Control\n                                                                        type=\"color\"\n                                                                        className={premiumStyle.inputBox}\n                                                                        value={backgroundColor === 'transparent' ? '#ffffff' : backgroundColor}\n                                                                        onChange={(e) => setBackgroundColor(e.target.value)}\n                                                                    />\n                                                                    <div className=\"d-flex gap-2 mt-3\">\n                                                                        <Checkbox\n                                                                            checked={backgroundColor === 'transparent'}\n                                                                            onChange={(e) => setBackgroundColor(e.checked ? 'transparent' : '#ffffff')}\n                                                                        />\n                                                                        <label className=\"form-label\">Transparent</label>\n                                                                    </div>\n                                                                </Form.Group>\n                                                            </Col>\n                                                            <Col md={6}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Font Size</Form.Label>\n                                                                    <Dropdown\n                                                                        value={fontSize}\n                                                                        options={[\n                                                                            { label: 'Small', value: 'small' },\n                                                                            { label: 'Normal', value: 'normal' },\n                                                                            { label: 'Large', value: 'large' }\n                                                                        ]}\n                                                                        onChange={(e) => setFontSize(e.value)}\n                                                                        style={{ width: '100%', outline: 'none', boxShadow: 'none' }}\n                                                                        placeholder=\"Select font size\"\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                        </Row>\n\n                                                        <Row>\n                                                            <Col md={4}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Divider Style</Form.Label>\n                                                                    <Dropdown\n                                                                        value={dividerStyle}\n                                                                        options={[\n                                                                            { label: 'Solid', value: 'solid' },\n                                                                            { label: 'Dashed', value: 'dashed' },\n                                                                            { label: 'Dotted', value: 'dotted' }\n                                                                        ]}\n                                                                        onChange={(e) => setDividerStyle(e.value)}\n                                                                        style={{ width: '100%', outline: 'none', boxShadow: 'none' }}\n                                                                        placeholder=\"Select divider style\"\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                            <Col md={4}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Divider Width</Form.Label>\n                                                                    <Dropdown\n                                                                        value={dividerWidth}\n                                                                        options={[\n                                                                            { label: 'Thin', value: '1px' },\n                                                                            { label: 'Medium', value: '2px' },\n                                                                            { label: 'Thick', value: '3px' }\n                                                                        ]}\n                                                                        onChange={(e) => setDividerWidth(e.value)}\n                                                                        style={{ width: '100%', outline: 'none', boxShadow: 'none' }}\n                                                                        placeholder=\"Select divider width\"\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                            <Col md={4}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Divider Color</Form.Label>\n                                                                    <Form.Control\n                                                                        type=\"color\"\n                                                                        value={dividerColor}\n                                                                        className={premiumStyle.inputBox}\n                                                                        onChange={(e) => setDividerColor(e.target.value)}\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                        </Row>\n\n                                                        <Row>\n                                                            <Col md={4}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Profile Image Style</Form.Label>\n                                                                    <Dropdown\n                                                                        value={profileImageStyle}\n                                                                        options={[\n                                                                            { label: 'Circle', value: 'circle' },\n                                                                            { label: 'Square', value: 'square' },\n                                                                            { label: 'Rounded', value: 'rounded' }\n                                                                        ]}\n                                                                        style={{ width: '100%', outline: 'none', boxShadow: 'none' }}\n                                                                        onChange={(e) => {\n                                                                            setProfileImageStyle(e.value);\n                                                                            setPreviewKey(prev => prev + 1); // Force preview re-render\n                                                                        }}\n                                                                        placeholder=\"Select image style\"\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                            <Col md={4}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Profile Image Size</Form.Label>\n                                                                    <Dropdown\n                                                                        value={profileImageSize}\n                                                                        options={[\n                                                                            { label: 'Small', value: 'small' },\n                                                                            { label: 'Medium', value: 'medium' },\n                                                                            { label: 'Large', value: 'large' }\n                                                                        ]}\n                                                                        onChange={(e) => {\n                                                                            setProfileImageSize(e.value);\n                                                                            setPreviewKey(prev => prev + 1); // Force preview re-render\n                                                                        }}\n                                                                        style={{ width: '100%', outline: 'none', boxShadow: 'none' }}\n                                                                        placeholder=\"Select image size\"\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                            <Col md={4}>\n                                                                <Form.Group className=\"mb-3\">\n                                                                    <Form.Label className={premiumStyle.label}>Company Logo Size</Form.Label>\n                                                                    <Dropdown\n                                                                        value={companyLogoSize}\n                                                                        options={[\n                                                                            { label: 'Small', value: 'small' },\n                                                                            { label: 'Medium', value: 'medium' },\n                                                                            { label: 'Large', value: 'large' }\n                                                                        ]}\n                                                                        onChange={(e) => {\n                                                                            setCompanyLogoSize(e.value);\n                                                                            setPreviewKey(prev => prev + 1); // Force preview re-render\n                                                                        }}\n                                                                        style={{ width: '100%', outline: 'none', boxShadow: 'none' }}\n                                                                        placeholder=\"Select logo size\"\n                                                                    />\n                                                                </Form.Group>\n                                                            </Col>\n                                                        </Row>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </Col>\n\n                                    {/* Right Column - Preview */}\n                                    <Col md={5}>\n                                        <div className={premiumStyle.previewSection}>\n                                            <div className={premiumStyle.previewCard}>\n                                                <div className={premiumStyle.previewHeader}>\n                                                    <h3>Live Preview</h3>\n                                                </div>\n                                                <div className={premiumStyle.previewBody}>\n                                                    <div className={premiumStyle.emailPreview}>\n                                                        <div className={premiumStyle.emailBody}>\n                                                            <div key={previewKey} dangerouslySetInnerHTML={{ __html: text ? preserveEmailSignatureHtml(text) : generateSignatureHTML() }} />\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className={premiumStyle.compatibilityInfo}>\n                                                    <h4>Compatible with:</h4>\n                                                    <div className={premiumStyle.compatibilityList}>\n                                                        <div className={premiumStyle.compatibilityItem}>\n                                                            <CheckCircle className={premiumStyle.compatibilityIcon} size={12} /> Gmail\n                                                        </div>\n                                                        <div className={premiumStyle.compatibilityItem}>\n                                                            <CheckCircle className={premiumStyle.compatibilityIcon} size={12} /> Outlook\n                                                        </div>\n                                                        <div className={premiumStyle.compatibilityItem}>\n                                                            <CheckCircle className={premiumStyle.compatibilityIcon} size={12} /> Apple Mail\n                                                        </div>\n                                                        <div className={premiumStyle.compatibilityItem}>\n                                                            <CheckCircle className={premiumStyle.compatibilityIcon} size={12} /> Yahoo Mail\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </Col>\n                                </Row>\n                            ) :\n                                <Row>\n                                    <Col sm={12}>\n                                        <div className={premiumStyle.formSection} style={{ position: 'relative' }}>\n                                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                                {signatureQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                            </InputIcon>\n                                            <SignatureHtmlEditor\n                                                value={text}\n                                                placeholder='Enter your signature'\n                                                onChange={(newValue) => {\n                                                    setText(newValue);\n                                                }}\n                                            />\n                                        </div>\n                                    </Col>\n                                </Row>\n                            }\n\n                        </div>\n                    </div>\n                    <div className={style.bottom}>\n                        <div className=\"d-flex align-items-center gap-4\">\n                            {\n                                id ?\n                                    <>\n                                        <Button onClick={handleDelete} className='danger-outline-button ms-2'>{deleteMutation.isPending ? \"Loading...\" : \"Delete Template\"}</Button>\n                                        <div className=\"d-flex align-items-center gap-2\">\n                                            <Checkbox\n                                                inputId='defaultSignature'\n                                                checked={isDefault}\n                                                disabled={setDefaultTemplateMutation.isPending || isDefault}\n                                                onChange={(e) => {\n                                                    setIsDefault(e.checked);\n                                                    setDefaultTemplateMutation.mutate();\n                                                }}\n                                            />\n                                            <label htmlFor=\"defaultSignature\" className={clsx(premiumStyle.label, 'mb-0 cursor-pointer')} style={{ opacity: isDefault ? 0.5 : 1 }}>Set as default signature</label>\n                                        </div>\n                                    </>\n                                    : <span></span>\n                            }\n\n                        </div>\n                        <div className='d-flex gap-2'>\n                            <Link to={'/settings/templates/email-signatures/'}>\n                                <Button className='outline-button'>Cancel</Button>\n                            </Link>\n                            <Button onClick={() => setShowPreview(true)} className='outline-button'>\n                                <Eye size={16} className=\"me-1\" /> Preview\n                            </Button>\n                            <Button onClick={handleSubmit} className='solid-button'>{mutation.isPending ? \"Loading...\" : \"Save Template\"}</Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CreateEmailSignatureTemplate;"],"names":["preserveEmailSignatureHtml","html","cleanHtml","cleanPastedHtml","includes","looksLikeSignature","wrapAsSignature","tempDiv","document","createElement","innerHTML","signatureDiv","querySelector","querySelectorAll","forEach","table","style","borderCollapse","hasAttribute","setAttribute","img","width","height","src","startsWith","link","textDecoration","cleaned","replace","filter","pattern","test","length","_ref","value","onChange","placeholder","textareaRef","useRef","pasteAreaRef","internalValue","setInternalValue","useState","showPasteArea","setShowPasteArea","useEffect","_jsx","className","styles","children","_jsxs","Code","size","Button","variant","onClick","togglePasteArea","setTimeout","current","focus","Clipboard","ref","contentEditable","onPaste","e","clipboardData","window","pastedData","getData","toast","success","tabIndex","Form","Control","as","newValue","target","rows","padding","marginRight","dangerouslySetInnerHTML","__html","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","socialIcons","linkedin","twitter","facebook","instagram","github","youtube","website","premiumTemplates","id","title","type","htmlThumbnail","description","socialPlatforms","name","icon","Linkedin","color","Twitter","Instagram","Facebook","Github","Youtube","Globe","CreateEmailSignatureTemplate","trialHeight","useTrialHeight","profileData","JSON","parse","localStorage","getItem","has_work_subscription","has_twilio","navigate","useNavigate","useParams","searchParams","useSearchParams","templateId","get","setTitle","text","setText","errors","setErrors","isEdit","setIsEdit","activeTab","setActiveTab","showPreview","setShowPreview","previewDevice","setPreviewDevice","selectedTemplate","setSelectedTemplate","fullName","setFullName","jobTitle","setJobTitle","company","setCompany","email","setEmail","phone","setPhone","setWebsite","address","setAddress","profileImage","setProfileImage","companyLogo","setCompanyLogo","socialLinks","setSocialLinks","activeSocials","setActiveSocials","fontFamily","setFontFamily","primaryColor","setPrimaryColor","textColor","setTextColor","secondaryTextColor","setSecondaryTextColor","linkColor","setLinkColor","fontSize","setFontSize","backgroundColor","setBackgroundColor","dividerStyle","setDividerStyle","dividerWidth","setDividerWidth","dividerColor","setDividerColor","profileImageStyle","setProfileImageStyle","profileImageSize","setProfileImageSize","companyLogoSize","setCompanyLogoSize","previewKey","setPreviewKey","showAdvancedOptions","setShowAdvancedOptions","isDefault","setIsDefault","handleImageUpload","file","files","error","reader","FileReader","onload","event","Image","canvas","maxDimension","Math","round","getContext","drawImage","optimizedDataUrl","toDataURL","result","onerror","readAsDataURL","removeImage","signatureQuery","useQuery","queryKey","queryFn","getEmailSignature","enabled","retry","mutation","useMutation","mutationFn","templateData","updateEmailSignature","createEmailSignature","onSuccess","onError","console","deleteMutation","deleteEmailSignature","setDefaultTemplateMutation","setDefaultEmailSignature","getCompanyLogoSize","getProfileImageSize","generateSignatureHTML","getFontSize","base","heading","getProfileImageStyle","radius","getIconRadius","getBorderStyle","socialIconsHTML","map","platformId","platform","find","p","join","signatureHTML","_signatureQuery$data","_signatureQuery$data2","_signatureQuery$data3","data","email_signature","Helmet","Sidebar","position","Link","to","OverlayTrigger","placement","overlay","Tooltip","opacity","cursor","Modal","show","onHide","centered","Header","closeButton","Title","Body","emailPreviewContainer","maxWidth","margin","emailPreviewHeader","emailPreviewHeaderItem","emailPreviewBody","emailSignature","emailSignatureContent","Footer","background","paddingBottom","paddingTop","clsx","transparent","marginBottom","ChevronLeft","_Fragment","InputText","onBlur","inputBox","templateName","others","autoFocus","isFetching","ProgressSpinner","top","PencilSquare","divider","Row","Col","sm","premiumStyle","formSection","InputIcon","right","zIndex","SignatureHtmlEditor","md","templateSelector","templateOptions","template","templateOption","selected","thumbnailContainer","Group","Label","label","prev","isInvalid","Text","imageUploadSection","imageUploadContainer","imageUploadBox","hasImage","alt","removeImageButton","XCircle","Upload","uploadIcon","accept","display","socialMediaSection","socialMediaList","isActive","socialMediaItem","active","toggleSocialPlatform","socialIcon","handleSocialLinkChange","advancedOptionsSection","Dropdown","options","outline","boxShadow","Checkbox","checked","previewSection","previewCard","previewHeader","previewBody","emailPreview","emailBody","compatibilityInfo","compatibilityList","compatibilityItem","CheckCircle","compatibilityIcon","bottom","handleDelete","mutate","isPending","inputId","disabled","htmlFor","Eye","preventDefault","newErrors","Object","keys","finalHtml"],"sourceRoot":""}