"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[6453,6731],{54967:(e,t,l)=>{l.d(t,{A:()=>r,h:()=>d});var s=l(65043),o=l(44541),a=l(95192);const i="image-avatar_clientImg__-nnRU";var n=l(70579);const r=e=>{let{has_photo:t,photo:l,is_business:i,size:r}=e;const[d,c]=(0,s.useState)(!1),h=i?o.A:a.A;return(0,n.jsx)(n.Fragment,{children:t&&l&&!d?(0,n.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,n.jsx)(h,{color:"#667085",size:r})})},d=e=>{let{has_photo:t,photo:l,is_business:r}=e;const[d,c]=(0,s.useState)(!1),h=r?o.A:a.A;return(0,n.jsx)("div",{className:`d-flex justify-content-center align-items-center ${i} ${r?"":"rounded-circle"}`,style:{overflow:"hidden"},children:t&&l&&!d?(0,n.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,n.jsx)(h,{color:"#667085"})})}},89573:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Y});var s=l(65043),o=l(39759),a=l(49367),i=l(27498),n=l(72413),r=l(93747),d=l(58387),c=l(75218),h=l(9642),p=l(9180),x=l(64824),m=l(93740),u=l(29908),v=l(76104),j=l(56328);const g={filterBox:"approval_filterBox__ystSi",total:"approval_total__t03q9",totalCount:"approval_totalCount__hTTBc",shadowRight:"approval_shadowRight__X9zTG",payment:"approval_payment__YwghB",paymentHours:"approval_paymentHours__0t+W3",paymentFix:"approval_paymentFix__CXsuw",time:"approval_time__EPrle",tracker:"approval_tracker__67lYj",clientImg:"approval_clientImg__UHBLY",clientName:"approval_clientName__lw-Sd",inProgress:"approval_inProgress__WFpNd",approved:"approval_approved__oWI1u",defaultStatus:"approval_defaultStatus__sa3+W",finished:"approval_finished__tAhe6",finishedAction:"approval_finishedAction__PNOct",assign:"approval_assign__EvOLi",assignAction:"approval_assignAction__ENiFC",shadowLeft:"approval_shadowLeft__Slbva",yearDropdown:"approval_yearDropdown__dYRYk",clientPhoto:"approval_clientPhoto__T0lPw",workerPhoto:"approval_workerPhoto__riwim",button:"approval_button__2omTf"};var b=l(15258),f=l(14282),w=l(9634),y=l(70579);const N=e=>{let{onWeekChange:t}=e;const[l,o]=(0,s.useState)(null),[a,i]=(0,s.useState)((new Date).getFullYear()),[n,r]=(0,s.useState)({start:"",end:""}),c=(new Date).getFullYear(),h=Array.from({length:5},((e,t)=>c-t)),p=e=>{const t=new Date(e.getFullYear(),0,1),l=(e-t)/864e5;return Math.ceil((l+t.getDay()+1)/7)},x=(e,t)=>{const l=7*(e-1)-(new Date(t,0,1).getDay()-1);return{start:new Date(t,0,1+l),end:new Date(t,0,1+l+6)}},m=e=>e.toLocaleDateString("en-US",{day:"numeric",month:"short"});(0,s.useEffect)((()=>{const e=new Date,t=p(e);o(t),u(t,a)}),[]),(0,s.useEffect)((()=>{if(u(l,a),t){const{start:e,end:s}=x(l,a);t({week:l,year:a,startDate:e,endDate:s})}}),[l,a]);const u=(e,t)=>{const{start:l,end:s}=x(e,t);r({start:m(l),end:m(s)})},v=()=>{const e=new Date,t=e.getFullYear();if(a>t)return!0;if(a===t){const t=p(e);if(l>=t)return!0}return!1};return(0,y.jsxs)("div",{className:"d-flex align-items-center w-100",style:{gap:"32px",position:"relative"},children:[(0,y.jsxs)(b.A,{style:{position:"absolute",right:"16px"},children:[(0,y.jsxs)(b.A.Toggle,{as:f.A,className:(0,d.A)(g.button,"outline-button mx-auto"),children:[(0,y.jsx)(w.A,{size:16,color:"#667085"}),a]}),(0,y.jsx)(b.A.Menu,{children:h.map((e=>(0,y.jsx)(b.A.Item,{onClick:()=>(e=>{const t=parseInt(e),s=new Date,a=s.getFullYear();if(!(t>a)){if(t===a){const e=p(s);l>e&&o(e)}i(t)}})(e),active:e===a,children:e},e)))})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center mx-auto",children:[(0,y.jsx)("button",{className:"border-0",style:{background:"transparent",cursor:"pointer",opacity:1},onClick:()=>{l>1?o(l-1):(i(a-1),o(52))},children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",children:[(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.35355 1.80514C8.54882 2.0004 8.54882 2.31698 8.35355 2.51224L2.70711 8.15869L8.35355 13.8051C8.54882 14.0004 8.54882 14.317 8.35355 14.5122C8.15829 14.7075 7.84171 14.7075 7.64645 14.5122L1.64645 8.51224C1.45118 8.31698 1.45118 8.0004 1.64645 7.80514L7.64645 1.80514C7.84171 1.60988 8.15829 1.60988 8.35355 1.80514Z",fill:"#344054"}),(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3536 1.80514C12.5488 2.0004 12.5488 2.31698 12.3536 2.51224L6.70711 8.15869L12.3536 13.8051C12.5488 14.0004 12.5488 14.317 12.3536 14.5122C12.1583 14.7075 11.8417 14.7075 11.6464 14.5122L5.64645 8.51224C5.45118 8.31698 5.45118 8.0004 5.64645 7.80514L11.6464 1.80514C11.8417 1.60988 12.1583 1.60988 12.3536 1.80514Z",fill:"#344054"})]})}),(0,y.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{gap:"4px",width:"200px"},children:(0,y.jsxs)("span",{className:"font-14",style:{color:"#344054"},children:["Week ",l," | ",n.start," - ",n.end]})}),(0,y.jsx)("button",{className:"border-0",style:{background:"transparent",cursor:v()?"not-allowed":"pointer",opacity:v()?.5:1},onClick:()=>{v()||(l<52?o(l+1):(i(a+1),o(1)))},disabled:v(),"aria-disabled":v(),children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",children:[(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.64645 1.80514C3.84171 1.60988 4.15829 1.60988 4.35355 1.80514L10.3536 7.80514C10.5488 8.0004 10.5488 8.31698 10.3536 8.51224L4.35355 14.5122C4.15829 14.7075 3.84171 14.7075 3.64645 14.5122C3.45118 14.317 3.45118 14.0004 3.64645 13.8051L9.29289 8.15869L3.64645 2.51224C3.45118 2.31698 3.45118 2.0004 3.64645 1.80514Z",fill:"#344054"}),(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64645 1.80514C7.84171 1.60988 8.15829 1.60988 8.35355 1.80514L14.3536 7.80514C14.5488 8.0004 14.5488 8.31698 14.3536 8.51224L8.35355 14.5122C8.15829 14.7075 7.84171 14.7075 7.64645 14.5122C7.45118 14.317 7.45118 14.0004 7.64645 13.8051L13.2929 8.15869L7.64645 2.51224C7.45118 2.31698 7.45118 2.0004 7.64645 1.80514Z",fill:"#344054"})]})})]})]})};var C=l(31342);const _="https://dev.memate.com.au/api/v1",A=async()=>{const e=new URL(`${_}/jobs/to-approve/`);return(0,C.f)(e.toString(),{method:"GET"})};var L=l(48417),k=l(54967),R=l(13846),B=l(61072),S=l(78602),F=l(56741),$=l(56682),T=l(51038),M=l(54972),W=l(79255),V=l(27932),D=l(20288);const I={heading:"approve-job_heading__NCGqc",border:"approve-job_border__pYPi2",borderBottom:"approve-job_borderBottom__73j1d",cardBody:"approve-job_cardBody__igMLE",jobDetailHeading:"approve-job_jobDetailHeading__RtqsC",customLabel:"approve-job_customLabel__5r9ok",text:"approve-job_text__VC0CF",plannedTable:"approve-job_plannedTable__QV7Mr",whiteTr:"approve-job_whiteTr__p+JS6",active1:"approve-job_active1__LwXX9",nonActive:"approve-job_nonActive__R5QLG",borderRightNone:"approve-job_borderRightNone__kqdzx",active2:"approve-job_active2__6XFPc",active3:"approve-job_active3__q5Ndq",lastRow:"approve-job_lastRow__0-xNd",fixRateBox:"approve-job_fixRateBox__53ez4",shiftBox:"approve-job_shiftBox__vzGQP",clockIcon:"approve-job_clockIcon__RE0Ne",moneyBox:"approve-job_moneyBox__l1MqE",InputTextarea:"approve-job_InputTextarea__KagCa",activeOutlineButton:"approve-job_activeOutlineButton__Gc88x",amountRow:"approve-job_amountRow__HNjds",dollar:"approve-job_dollar__cnrmS",helpIcon:"approve-job_helpIcon__BuOoR",buttonGroup:"approve-job_buttonGroup__zIyky",iconButton:"approve-job_iconButton__uf9jA",amountInputBox:"approve-job_amountInputBox__BQBK5",inputText:"approve-job_inputText__Dsfys"};var z=l(38391),E=l(90386),H=l(45873);const P=e=>{var t;let{jobId:l=null,visible:o=!1,setVisible:a}=e;const[i,n]=(0,s.useState)(!0),[c,h]=(0,s.useState)(!0),[p,x]=(0,s.useState)(!0),[m,u]=(0,s.useState)(!0),[v,j]=(0,s.useState)("planned"),[g,b]=(0,s.useState)(0),[w,N]=(0,s.useState)(null),C=()=>b((e=>e+1)),_=()=>b((e=>Math.max(0,e-1))),A=(0,r.I)({queryKey:["getApprovedJob",l],queryFn:()=>(0,z.z8)(l),enabled:!!l,retry:1}),L=null===A||void 0===A?void 0:A.data;console.log("job: ",L);const k=(0,r.I)({queryKey:["mobileuser"],queryFn:E.t});(0,s.useEffect)((()=>{var e;if(L&&null!==k&&void 0!==k&&null!==(e=k.data)&&void 0!==e&&e.users){var t,l,s,o;let e=null===k||void 0===k||null===(t=k.data)||void 0===t||null===(l=t.users)||void 0===l?void 0:l.find((e=>{var t;return(null===e||void 0===e?void 0:e.id)===(null===L||void 0===L||null===(t=L.worker)||void 0===t?void 0:t.id)}));console.log("findClient: ",e,null===L||void 0===L||null===(s=L.worker)||void 0===s?void 0:s.id,null===k||void 0===k||null===(o=k.data)||void 0===o?void 0:o.users),N(e)}}),[null===k||void 0===k?void 0:k.data,L]);const P=e=>new Date(1e3*parseInt(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Z=()=>{if(null!==L&&void 0!==L&&L.start&&null!==L&&void 0!==L&&L.finish){const e=1e3*parseInt(L.start);return(e=>{const t=60*e;return`${Math.floor(t/60)}:${Math.round(t%60).toString().padStart(2,"0")}`})((1e3*parseInt(L.finish)-e)/36e5)}return"0:00"},Y="1:00",q=parseFloat((null===w||void 0===w?void 0:w.hourly_rate)||0),G=parseInt(Y.split(":")[0])*q,J=(((null===L||void 0===L?void 0:L.spent_time)||0)*q).toFixed(2),O=(G+0).toFixed(2),U=(parseFloat(J)+0).toFixed(2),K=(null===L||void 0===L||null===(t=L.locations)||void 0===t?void 0:t.length)>0?`https://www.openstreetmap.org/export/embed.html?bbox=${parseFloat(L.locations[0].longitude)-.005},${parseFloat(L.locations[0].latitude)-.005},${parseFloat(L.locations[0].longitude)+.005},${parseFloat(L.locations[0].latitude)+.005}&marker=${L.locations[0].latitude},${L.locations[0].longitude}`:null,X=()=>{j("planned")},Q=()=>{j("actual")};return(0,y.jsx)(D.B,{visible:o,position:"right",onHide:()=>a(!1),modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{var t,l;let{closeIconRef:s,hide:o}=e;return(0,y.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"12px"},children:[(0,y.jsx)("div",{className:"d-flex align-items-center gap-3",children:(0,y.jsxs)("span",{className:I.heading,children:[null===L||void 0===L?void 0:L.id,"-",null===L||void 0===L?void 0:L.number]})}),(0,y.jsx)("span",{children:(0,y.jsx)(f.A,{type:"button",className:"text-button",ref:s,onClick:e=>o(e),children:(0,y.jsx)(F.A,{size:24,color:"#667085"})})})]}),(0,y.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 68px - 80px)",overflow:"auto"},children:[(0,y.jsxs)(R.A,{className:(0,d.A)(I.border,"mb-4"),children:[(0,y.jsx)(R.A.Body,{className:(0,d.A)(I.borderBottom,I.cardBody,"cursor-pointer"),onClick:()=>n(!i),children:(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,y.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Job Details"}),(0,y.jsx)("button",{className:"text-button p-0",children:i?(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),i&&(0,y.jsxs)(R.A.Header,{className:(0,d.A)(I.background,"border-0",I.borderBottom),children:[(0,y.jsx)("h1",{className:(0,d.A)(I.jobDetailHeading,"mb-3"),children:"Link to Project"}),(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Short Description"}),(0,y.jsx)("p",{className:(0,d.A)(I.text),children:null===L||void 0===L?void 0:L.short_description}),(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Long Description"}),(0,y.jsx)("p",{className:(0,d.A)(I.text),children:null===L||void 0===L?void 0:L.long_description}),(0,y.jsxs)(B.A,{children:[(0,y.jsxs)(S.A,{sm:6,children:[(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Client"}),(0,y.jsx)("p",{className:(0,d.A)(I.text),children:null===L||void 0===L||null===(t=L.client)||void 0===t?void 0:t.name})]}),(0,y.jsxs)(S.A,{sm:6,children:[(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Location"}),(0,y.jsx)("p",{className:(0,d.A)(I.text),children:null===L||void 0===L||null===(l=L.location)||void 0===l?void 0:l.name})]})]}),(0,y.jsxs)(B.A,{children:[(0,y.jsxs)(S.A,{sm:6,children:[(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Start Date"}),(0,y.jsx)("p",{className:(0,d.A)(I.text),children:null!==L&&void 0!==L&&L.start_date?(0,H.Y)(null===L||void 0===L?void 0:L.start_date):"N/A"})]}),(0,y.jsxs)(S.A,{sm:6,children:[(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"End Date"}),(0,y.jsx)("p",{className:(0,d.A)(I.text),children:null!==L&&void 0!==L&&L.end_date?(0,H.Y)(null===L||void 0===L?void 0:L.end_date):"N/A"})]})]})]})]}),(0,y.jsxs)(R.A,{className:(0,d.A)(I.border,"mb-4"),children:[(0,y.jsx)(R.A.Body,{className:(0,d.A)(I.borderBottom,I.cardBody,"cursor-pointer"),onClick:()=>h(!c),children:(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,y.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Planned vs Actual"}),(0,y.jsx)("button",{className:"text-button p-0",children:c?(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),c&&(0,y.jsx)(R.A.Header,{className:(0,d.A)(I.background,"border-0 d-flex justify-content-between px-0 py-0",I.borderBottom),children:(0,y.jsxs)("table",{className:(0,d.A)("w-100",I.plannedTable),children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:(0,y.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,y.jsx)("div",{className:I.fixRateBox,children:"Fix Rate"}),(0,y.jsx)("div",{children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,y.jsx)("path",{d:"M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z",fill:"#667085"})})}),(0,y.jsx)("div",{className:I.shiftBox,children:"Shift"})]})}),(0,y.jsx)("th",{className:"planned"===v?I.active1:I.nonActive,onClick:X,children:(0,y.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,y.jsx)(M.S,{checked:"planned"===v,onChange:()=>j("planned"===v?null:"planned")}),(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Planned"})]})}),(0,y.jsx)("th",{className:"actual"===v?I.active1:"",onClick:Q,children:(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,y.jsx)(M.S,{checked:"actual"===v,onChange:()=>j("actual"===v?null:"actual")}),(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Actual"})]}),(0,y.jsx)("div",{className:I.clockIcon,children:(0,y.jsx)($.A,{color:"#475467",size:16})})]})})]})}),(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{className:I.whiteTr,children:[(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"font-16",style:{color:"#344054"},children:"Start"})}),(0,y.jsx)("td",{className:"planned"===v?I.active1:I.nonActive,onClick:X,children:(0,y.jsxs)("span",{className:"font-14",children:[null!==L&&void 0!==L&&L.start?P(L.start):"N/A"," | ",null!==L&&void 0!==L&&L.start_date?(0,H.Y)(null===L||void 0===L?void 0:L.start_date):"N/A"]})}),(0,y.jsx)("td",{className:"actual"===v?I.active1:"",onClick:Q,children:(0,y.jsxs)("span",{className:"font-14",children:[null!==L&&void 0!==L&&L.start?P(L.start):"N/A"," | ",null!==L&&void 0!==L&&L.start_date?(0,H.Y)(null===L||void 0===L?void 0:L.start_date):"N/A"]})})]}),(0,y.jsxs)("tr",{className:I.whiteTr,children:[(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"font-16",style:{color:"#344054"},children:"Finish"})}),(0,y.jsx)("td",{className:"planned"===v?I.active1:I.nonActive,onClick:X,children:(0,y.jsxs)("span",{className:"font-14",children:[null!==L&&void 0!==L&&L.finish?P(L.finish):"N/A"," | ",null!==L&&void 0!==L&&L.end_date?(0,H.Y)(null===L||void 0===L?void 0:L.end_date):"N/A"]})}),(0,y.jsx)("td",{className:"actual"===v?I.active1:"",onClick:Q,children:(0,y.jsxs)("span",{className:"font-14",children:[null!==L&&void 0!==L&&L.finish?P(L.finish):"N/A"," | ",null!==L&&void 0!==L&&L.end_date?(0,H.Y)(null===L||void 0===L?void 0:L.end_date):"N/A"]})})]}),(0,y.jsxs)("tr",{className:I.whiteTr,children:[(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"font-16",style:{color:"#344054"},children:"Hours"})}),(0,y.jsx)("td",{className:"planned"===v?I.active1:I.nonActive,onClick:X,children:(0,y.jsx)("span",{className:"font-14",children:Y})}),(0,y.jsx)("td",{className:"actual"===v?I.active1:"",onClick:Q,children:(0,y.jsx)("span",{className:"font-14",children:Z()})})]}),(0,y.jsxs)("tr",{className:I.whiteTr,children:[(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"font-16",style:{color:"#344054"},children:"Rate per hour"})}),(0,y.jsx)("td",{colSpan:2,className:(0,d.A)("planned"===v?I.active1:I.active3,"text-center",I.borderRightNone),children:(0,y.jsxs)("div",{className:(0,d.A)(I.moneyBox),children:["$",q.toFixed(2)]})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"font-16",style:{color:"#344054"},children:"Subtotal"})}),(0,y.jsx)("td",{className:(0,d.A)("planned"===v?I.active1:I.nonActive,"planned"===v?I.active2:""),onClick:X,children:(0,y.jsxs)("span",{className:"font-14",children:["$",G.toFixed(2)]})}),(0,y.jsx)("td",{className:"actual"===v?I.active1:"",onClick:Q,children:(0,y.jsxs)("span",{className:"font-14",children:["$",J]})})]}),(0,y.jsxs)("tr",{className:I.whiteTr,children:[(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"font-16",style:{color:"#344054"},children:"Variation"})}),(0,y.jsx)("td",{colSpan:2,className:(0,d.A)("planned"===v?I.active1:I.active3,"text-center","planned"!==v?"":I.borderRightNone),children:(0,y.jsxs)("div",{className:(0,d.A)(I.moneyBox),children:["$",(0).toFixed(2)]})})]}),(0,y.jsxs)("tr",{className:(0,d.A)(I.lastRow),children:[(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"font-16",style:{color:"#344054"},children:"Total"})}),(0,y.jsx)("td",{className:(0,d.A)("planned"===v?I.active1:I.nonActive,"planned"===v?I.active2:""),onClick:X,children:(0,y.jsxs)(f.A,{className:(0,d.A)("outline-button px-3 py-1 font-14 mx-auto gap-2","planned"===v?I.activeOutlineButton:""),children:["$",O,"planned"===v?(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5C0 4.65482 0.279822 4.375 0.625 4.375L7.86612 4.375L5.18306 1.69194C4.93898 1.44786 4.93898 1.05214 5.18306 0.808058C5.42714 0.56398 5.82286 0.56398 6.06694 0.808058L9.81694 4.55806C10.061 4.80213 10.061 5.19786 9.81694 5.44194L6.06694 9.19194C5.82286 9.43602 5.42714 9.43602 5.18306 9.19194C4.93898 8.94786 4.93898 8.55213 5.18306 8.30806L7.86612 5.625H0.625C0.279822 5.625 0 5.34518 0 5Z",fill:"white"})}):(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 5C0.5 4.65482 0.779822 4.375 1.125 4.375L8.36612 4.375L5.68306 1.69194C5.43898 1.44786 5.43898 1.05214 5.68306 0.808058C5.92714 0.56398 6.32286 0.56398 6.56694 0.808058L10.3169 4.55806C10.561 4.80213 10.561 5.19786 10.3169 5.44194L6.56694 9.19194C6.32286 9.43602 5.92714 9.43602 5.68306 9.19194C5.43898 8.94786 5.43898 8.55213 5.68306 8.30806L8.36612 5.625H1.125C0.779822 5.625 0.5 5.34518 0.5 5Z",fill:"#344054"})})]})}),(0,y.jsx)("td",{className:"actual"===v?I.active1:"",onClick:Q,children:(0,y.jsxs)(f.A,{className:(0,d.A)("outline-button px-3 py-1 font-14 mx-auto gap-2","actual"===v?I.activeOutlineButton:""),children:["$",U,"actual"===v?(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5C0 4.65482 0.279822 4.375 0.625 4.375L7.86612 4.375L5.18306 1.69194C4.93898 1.44786 4.93898 1.05214 5.18306 0.808058C5.42714 0.56398 5.82286 0.56398 6.06694 0.808058L9.81694 4.55806C10.061 4.80213 10.061 5.19786 9.81694 5.44194L6.06694 9.19194C5.82286 9.43602 5.42714 9.43602 5.18306 9.19194C4.93898 8.94786 4.93898 8.55213 5.18306 8.30806L7.86612 5.625H0.625C0.279822 5.625 0 5.34518 0 5Z",fill:"white"})}):(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 5C0.5 4.65482 0.779822 4.375 1.125 4.375L8.36612 4.375L5.68306 1.69194C5.43898 1.44786 5.43898 1.05214 5.68306 0.808058C5.92714 0.56398 6.32286 0.56398 6.56694 0.808058L10.3169 4.55806C10.561 4.80213 10.561 5.19786 10.3169 5.44194L6.56694 9.19194C6.32286 9.43602 5.92714 9.43602 5.68306 9.19194C5.43898 8.94786 5.43898 8.55213 5.68306 8.30806L8.36612 5.625H1.125C0.779822 5.625 0.5 5.34518 0.5 5Z",fill:"#344054"})})]})})]})]})]})})]}),(0,y.jsxs)(R.A,{className:(0,d.A)(I.border,"mb-4"),children:[(0,y.jsx)(R.A.Body,{className:(0,d.A)(I.borderBottom,I.cardBody,"cursor-pointer"),onClick:()=>x(!p),children:(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,y.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Variation"}),(0,y.jsx)("button",{className:"text-button p-0",children:p?(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),p&&(0,y.jsxs)(R.A.Header,{className:(0,d.A)(I.background,"border-0",I.borderBottom),children:[(0,y.jsxs)("div",{className:"form-group mb-3 w-100",children:[(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Amount"}),(0,y.jsxs)("div",{className:I.amountRow,children:[(0,y.jsxs)("div",{className:I.amountInputBox,children:[(0,y.jsx)("span",{className:I.dollar,children:"$"}),(0,y.jsx)(W.Y,{className:(0,d.A)(I.inputText),value:g,onChange:e=>b(parseFloat(e.value||0))}),(0,y.jsx)("span",{className:I.helpIcon,children:(0,y.jsx)(T.A,{size:16,color:"#98A2B3"})})]}),(0,y.jsxs)("div",{className:I.buttonGroup,children:[(0,y.jsx)("button",{className:"info-button p-0",style:{width:"44px",height:"44px"},onClick:C,children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C8.34518 0.5 8.625 0.779822 8.625 1.125V7.375H14.875C15.2202 7.375 15.5 7.65482 15.5 8C15.5 8.34518 15.2202 8.625 14.875 8.625H8.625V14.875C8.625 15.2202 8.34518 15.5 8 15.5C7.65482 15.5 7.375 15.2202 7.375 14.875V8.625H1.125C0.779822 8.625 0.5 8.34518 0.5 8C0.5 7.65482 0.779822 7.375 1.125 7.375H7.375V1.125C7.375 0.779822 7.65482 0.5 8 0.5Z",fill:"#158ECC"})})}),(0,y.jsx)("button",{className:"outline-button p-0",style:{width:"44px",height:"44px"},onClick:_,children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"2",viewBox:"0 0 10 2",fill:"none",children:(0,y.jsx)("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H9C9.55229 0 10 0.447715 10 1C10 1.55228 9.55229 2 9 2H1C0.447715 2 0 1.55228 0 1Z",fill:"#B42318"})})})]})]})]}),(0,y.jsxs)("div",{className:"form-group mb-3 w-100",children:[(0,y.jsx)("label",{className:(0,d.A)(I.customLabel),children:"Reason"}),(0,y.jsx)(V.Z,{className:(0,d.A)("w-100",I.InputTextarea),rows:4,placeholder:"Enter the detailed quote for the client contract here. Include all relevant information such as project scope, deliverables, timelines, costs, payment terms, and any special conditions. Ensure the quote is clear, comprehensive, and aligns with the client's requirements and expectations."})]})]})]}),(0,y.jsxs)(R.A,{className:(0,d.A)(I.border,"mb-4"),children:[(0,y.jsx)(R.A.Body,{className:(0,d.A)(I.borderBottom,I.cardBody,"cursor-pointer"),onClick:()=>u(!m),children:(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,y.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Job Tracking"}),(0,y.jsx)("button",{className:"text-button p-0",children:m?(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),m&&(0,y.jsx)(R.A.Header,{className:(0,d.A)(I.background,"border-0 p-0",I.borderBottom),children:K?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("iframe",{width:"100%",height:"300",frameBorder:"0",style:{border:0},src:K,allowFullScreen:!0})}):(0,y.jsx)("p",{className:(0,d.A)(I.text),children:"Location map unavailable: No coordinates provided."})})]})]}),(0,y.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,y.jsx)(f.A,{type:"button",onClick:e=>{e.stopPropagation(),a(!1)},className:"danger-outline-button",children:"Decline"}),(0,y.jsx)(f.A,{type:"button",onClick:()=>{},className:"info-button",style:{minWidth:"75px"},children:"Approve"}),(0,y.jsxs)(f.A,{type:"button",onClick:()=>{},className:"solid-button",style:{minWidth:"75px"},children:["Approve & See Next  ",!1]})]})]})}})},Z=s.memo((()=>{const{trialHeight:e}=(0,L.$)(),[t,l]=(0,s.useState)(null),[o,a]=(0,s.useState)(null),[b,f]=(0,s.useState)({week:null,year:null,startDate:null,endDate:null}),[w,R]=(0,s.useState)(!1),[B,S]=(0,s.useState)(null),F=(0,s.useCallback)((e=>{f(e)}),[]),{data:$=[],isLoading:T,error:M}=(0,r.I)({queryKey:["jobsToApprove"],queryFn:A,refetchOnWindowFocus:!1,onError:e=>{j.oR.error("Failed to load jobs to approve"),console.error("Error loading jobs to approve:",e)}}),W=s.useCallback((()=>null!==b&&void 0!==b&&b.week&&null!==b&&void 0!==b&&b.year?(async(e,t)=>{const l=new URL(`${_}/jobs/to-invoice/${e}/${t}/`);return(0,C.f)(l.toString(),{method:"GET"})})(b.year,b.week):Promise.resolve([])),[null===b||void 0===b?void 0:b.week,null===b||void 0===b?void 0:b.year]),{data:V=[],isLoading:D,error:I}=(0,r.I)({queryKey:["jobsToInvoice",null===b||void 0===b?void 0:b.week,null===b||void 0===b?void 0:b.year],queryFn:W,enabled:!(null===b||void 0===b||!b.week)&&!(null===b||void 0===b||!b.year),refetchOnWindowFocus:!1,onError:e=>{j.oR.error("Failed to load approved jobs for invoicing"),console.error("Error loading jobs to invoice:",e)}}),z=e=>{const t="1"===e.time_type?"Hours":"Fix";return(0,y.jsxs)("div",{className:"d-flex justify-content-center align-items-center",style:{gap:"10px"},children:[(0,y.jsx)("div",{className:`${g.payment} ${"Hours"===t?g.paymentHours:g.paymentFix}`,children:t}),(0,y.jsx)(i.A,{color:"#158ECC"})]})},E=e=>{const t="2"===e.type?"TimeFrame":"TimeTracker";return(0,y.jsx)("div",{className:"d-flex align-items-center show-on-hover",children:(0,y.jsx)("div",{className:`${g.time} ${"TimeFrame"===t?g.frame:g.tracker}`,children:t})})},H=()=>(0,y.jsxs)("div",{className:"d-flex align-items-center",children:["Client",(0,y.jsx)("small",{children:"A\u2192Z"})]}),Z=e=>{var t,l,s;return(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:`d-flex justify-content-center align-items-center ${g.clientImg}`,children:(0,y.jsx)(k.A,{has_photo:null===(t=e.client)||void 0===t?void 0:t.has_photo,photo:null===(l=e.client)||void 0===l?void 0:l.photo,is_business:!0,size:16})}),(null===(s=e.client)||void 0===s?void 0:s.name)||"N/A"]})},Y=e=>{var t,l,s,o,a;const i=`${(null===(t=e.worker)||void 0===t?void 0:t.first_name)||""} ${(null===(l=e.worker)||void 0===l?void 0:l.last_name)||""}`.trim(),n=i?i.split(" ").map((e=>e[0])).join(""):"N/A";return(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:`d-flex justify-content-center align-items-center ${g.clientName}`,children:null!==(s=e.worker)&&void 0!==s&&s.has_photo?(0,y.jsx)(k.A,{has_photo:null===(o=e.worker)||void 0===o?void 0:o.has_photo,photo:null===(a=e.worker)||void 0===a?void 0:a.photo,is_business:!1,size:16}):n}),i||"N/A"]})},q=s.useCallback((e=>{S(e),R(!0)}),[]),G=s.useCallback((e=>{if(!e)return"N/A";try{const t=new Date(e),l=String(t.getDate()).padStart(2,"0"),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return`${l} ${s} ${t.getFullYear()}`}catch(t){return console.error("Error formatting date:",t),e||"N/A"}}),[]),J=e=>e.project?(0,y.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.project.number,(0,y.jsx)(n.A,{color:"#3366CC"})]}):"N/A",O=e=>(0,y.jsx)(v.v,{value:e.total,style:{border:"2px solid var(--Orange-200, #FFE0BC)",background:"#FFF7EE",color:"#FFB258",fontSize:"12px",fontWeight:500},rounded:!0}),U=e=>(0,y.jsx)("span",{style:{fontWeight:"bold"},children:e.total}),K=(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-end gap-2",style:{position:"relative"},children:[(0,y.jsx)("p",{style:{color:"#344054",fontWeight:400},className:"m-0 font-14",children:"Review & Approve"}),T&&(0,y.jsx)(m.p,{style:{width:"20px",height:"20px",marginLeft:"8px",position:"absolute",right:"-40px"}})]}),X=(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",style:{position:"relative"},children:[(0,y.jsx)("p",{style:{color:"#344054",fontWeight:500},className:"m-0 font-14",children:null!==b&&void 0!==b&&b.week&&null!==b&&void 0!==b&&b.year?`Week ${b.week}, ${b.year} - Approved Jobs (Not Invoiced)`:"Approved Jobs - Not Invoiced"}),D&&(0,y.jsx)(m.p,{style:{width:"20px",height:"20px",marginRight:"8px",position:"absolute",right:"-40px"}})]}),Q=s.useMemo((()=>$&&0!==$.length?$.reduce(((e,t)=>e+parseFloat(t.total||0)),0):0),[$]),ee=s.useMemo((()=>V&&0!==V.length?V.reduce(((e,t)=>e+parseFloat(t.total||0)),0):0),[V]),te=s.useMemo((()=>{const e=Q.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,y.jsx)(p.o,{children:(0,y.jsxs)(u.f,{className:"w-100",children:[(0,y.jsx)(h.V,{colSpan:12}),(0,y.jsx)(h.V,{footer:`Total= $${e}`,footerStyle:{position:"sticky",right:0}})]})})}),[Q]),le=s.useMemo((()=>{const e=ee.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,y.jsx)(p.o,{children:(0,y.jsxs)(u.f,{className:"w-100",children:[(0,y.jsx)(h.V,{colSpan:12}),(0,y.jsx)(h.V,{footer:`Total= $${e}`,footerStyle:{position:"sticky",right:0}})]})})}),[ee]);return(0,s.useEffect)((()=>{M&&j.oR.error(`Error loading jobs to approve: ${M.message||"Please try again later"}`),I&&j.oR.error(`Error loading jobs to invoice: ${I.message||"Please try again later"}`)}),[M,I]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(x.b,{value:$,header:K,footerColumnGroup:te,scrollable:!0,selectionMode:"checkbox",removableSort:!0,columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:"calc(50vh - 150px)",className:"border-0",selection:t,onSelectionChange:e=>l(e.value),emptyMessage:"No jobs to approve",loading:T,loadingIcon:(0,y.jsx)(y.Fragment,{}),children:[(0,y.jsx)(h.V,{selectionMode:"multiple",bodyClassName:"show-on-hover",headerStyle:{width:"3rem"},frozen:!0}),(0,y.jsx)(h.V,{field:"number",header:"Job ID",style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,y.jsx)(h.V,{field:"time_type",header:"Payment Type",body:z,style:{minWidth:"130px"},frozen:!0,sortable:!0}),(0,y.jsx)(h.V,{field:"type",header:"Time",body:E,style:{minWidth:"118px"},bodyClassName:`${g.shadowRight}`,headerClassName:`${g.shadowRight}`,frozen:!0}),(0,y.jsx)(h.V,{field:"submitted",header:"Submitted",style:{minWidth:"122px"},sortable:!0,body:e=>G(e.submitted)}),(0,y.jsx)(h.V,{field:"short_description",header:"Job Reference",style:{minWidth:"270px"}}),(0,y.jsx)(h.V,{field:"client.name",header:H,body:Z,style:{minWidth:"162px"}}),(0,y.jsx)(h.V,{field:"project.number",header:"Linked To Project",body:J,style:{minWidth:"105px"}}),(0,y.jsx)(h.V,{field:"worker.first_name",header:"Worker",body:Y,style:{minWidth:"205px"}}),(0,y.jsx)(h.V,{field:"spent_time",header:"Spent Time",style:{minWidth:"105px"},sortable:!0}),(0,y.jsx)(h.V,{field:"real_total",header:"Real Total",body:U,style:{minWidth:"105px"},sortable:!0}),(0,y.jsx)(h.V,{field:"total",header:"Total",body:O,style:{minWidth:"105px"},sortable:!0}),(0,y.jsx)(h.V,{field:"id",header:"Actions",body:e=>(0,y.jsx)("div",{className:"d-flex justify-content-center gap-2",children:(0,y.jsx)(c.v,{className:`status ${g.finishedAction} cursor-pointer`,label:"Approve",onClick:()=>q(e.id)})}),style:{minWidth:"120px"},bodyClassName:`${g.shadowLeft}`,headerClassName:(0,d.A)(`${g.shadowLeft}`,"d-flex justify-content-center"),frozen:!0,alignFrozen:"right"})]}),(0,y.jsx)("div",{className:"topbar d-flex justify-content-center text-center w-100",style:{padding:"4px 0px",position:"relative",height:"48px",borderTop:"1px solid #dedede",borderBottom:"0px solid #dedede",background:"#F9FAFB"},children:(0,y.jsx)(N,{onWeekChange:F})}),(0,y.jsxs)(x.b,{value:V||[],header:X,footerColumnGroup:le,scrollable:!0,selectionMode:"checkbox",removableSort:!0,columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:`calc(50vh - 150px - ${e}px)`,className:"border-0",selection:o,onSelectionChange:e=>a(e.value),emptyMessage:"No approved jobs waiting to be invoiced",loading:D,loadingIcon:(0,y.jsx)(y.Fragment,{}),children:[(0,y.jsx)(h.V,{selectionMode:"multiple",bodyClassName:"show-on-hover",headerStyle:{width:"3rem"},frozen:!0}),(0,y.jsx)(h.V,{field:"number",header:"Job ID",style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,y.jsx)(h.V,{field:"time_type",header:"Payment Type",body:z,style:{minWidth:"130px"},frozen:!0,sortable:!0}),(0,y.jsx)(h.V,{field:"type",header:"Time",body:E,style:{minWidth:"118px"},bodyClassName:`${g.shadowRight}`,headerClassName:`${g.shadowRight}`,frozen:!0}),(0,y.jsx)(h.V,{field:"submitted",header:"Submitted",style:{minWidth:"122px"},sortable:!0,body:e=>G(e.submitted)}),(0,y.jsx)(h.V,{field:"short_description",header:"Job Reference",style:{minWidth:"270px"}}),(0,y.jsx)(h.V,{field:"client.name",header:H,body:Z,style:{minWidth:"162px"}}),(0,y.jsx)(h.V,{field:"project.number",header:"Linked To Project",body:J,style:{minWidth:"105px"}}),(0,y.jsx)(h.V,{field:"worker.first_name",header:"Worker",body:Y,style:{minWidth:"205px"}}),(0,y.jsx)(h.V,{field:"spent_time",header:"Spent Time",style:{minWidth:"105px"},sortable:!0}),(0,y.jsx)(h.V,{field:"real_total",header:"Real Total",body:U,style:{minWidth:"105px"},sortable:!0}),(0,y.jsx)(h.V,{field:"total",header:"Total",body:O,style:{minWidth:"105px"},sortable:!0}),(0,y.jsx)(h.V,{field:"id",header:"Status",body:()=>(0,y.jsx)(c.v,{className:`status ${g.approved}`,label:"Approved"}),style:{minWidth:"120px"},bodyClassName:(0,d.A)(`${g.shadowLeft}`,"text-center"),headerClassName:(0,d.A)(`${g.shadowLeft}`,"d-flex justify-content-center"),frozen:!0,alignFrozen:"right"})]}),(0,y.jsx)(P,{visible:w,setVisible:R,jobId:B})]})})),Y=()=>(0,y.jsxs)("div",{className:"approval-page",children:[(0,y.jsx)(a.mg,{children:(0,y.jsx)("title",{children:"MeMate - Approval"})}),(0,y.jsxs)("div",{className:"topbar",style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,y.jsxs)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:[(0,y.jsx)("div",{className:"filtered-box",children:(0,y.jsx)("button",{className:`${g.filterBox}`,children:(0,y.jsx)(o.A,{size:20})})}),(0,y.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,y.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,y.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,y.jsx)("input",{type:"text",placeholder:"Search",onChange:()=>{},className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]}),(0,y.jsx)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:(0,y.jsx)("h1",{className:"title p-0 mt-1",children:"Approval"})}),(0,y.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,y.jsx)("h1",{className:`${g.total} mb-0`,children:"Total"}),(0,y.jsx)("div",{className:`${g.totalCount}`,children:"30 Jobs"})]})]}),(0,y.jsx)(Z,{})]})}}]);
//# sourceMappingURL=6453.cc9a5f9e.chunk.js.map