"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[1843,6731],{568:(e,t,s)=>{s.d(t,{J:()=>n});const n=Object.freeze({CLIENTS:{CREATE:"CREATE_CLIENT",READ:"READ_CLIENT",UPDATE:"UPDATE_CLIENT",DELETE:"DELETE_CLIENT"},SUPPLIERS:{CREATE:"CREATE_SUPPLIER",READ:"READ_SUPPLIER",UPDATE:"UPDATE_SUPPLIER",DELETE:"DELETE_SUPPLIER"},SALES:{},MANAGEMENT:{},PROJECTS:{},STATISTIC:{},EXPENSE:{CREATE:"CREATE_EXPENSE",READ:"READ_EXPENSE",UPDATE:"UPDATE_EXPENSE",DELETE:"DELETE_EXPENSE"},INVOICE:{CREATE:"CREATE_INVOICE",READ:"READ_INVOICE",UPDATE:"UPDATE_INVOICE",DELETE:"DELETE_INVOICE"},SETTINGS:{SUBSCRIPTION:{BUY_BUSINESS_SUBSCRIPTION:"BUY_BUSINESS_SUBSCRIPTION",CANCEL_BUSINESS_SUBSCRIPTION:"CANCEL_BUSINESS_SUBSCRIPTION",BUY_COMPANY_USER_SUBSCRIPTION:"BUY_COMPANY_USER_SUBSCRIPTION",BUY_WORK_SUBSCRIPTION:"BUY_WORK_SUBSCRIPTION",CANCEL_WORK_SUBSCRIPTION:"CANCEL_WORK_SUBSCRIPTION",ACTIVE_WORK_SUBSCRIPTION:"ACTIVE_WORK_SUBSCRIPTION",BUY_WORK_USER_SUBSCRIPTION:"BUY_WORK_USER_SUBSCRIPTION",BUY_LOCATION_SUBSCRIPTION:"BUY_LOCATION_SUBSCRIPTION",REMOVE_LOCATION_SUBSCRIPTION:"REMOVE_LOCATION_SUBSCRIPTION",ACTIVE_INQUIRIES_SUBSCRIPTION:"ACTIVE_INQUIRIES_SUBSCRIPTION",CANCEL_INQUIRIES_SUBSCRIPTION:"CANCEL_INQUIRIES_SUBSCRIPTION",ACTIVE_ASSETS_SUBSCRIPTION:"ACTIVE_ASSETS_SUBSCRIPTION",CANCEL_ASSETS_SUBSCRIPTION:"CANCEL_ASSETS_SUBSCRIPTION",MANAGE_ASSET_SUBSCRIPTION:"MANAGE_ASSET_SUBSCRIPTION"},USERS:{MOBILE_APP:{ADD:"ADD_USER",READ:"READ_USER",UPDATE:"UPDATE_USER",DISCONNECT_USER:"DISCONNECT_USER",RECONNECT_USER:"RECONNECT_USER",SHOW_DISCONNECTED_USERS:"SHOW_DISCONNECTED_USERS"},DESKTOP:{ADD:"ADD_USER",READ:"READ_USER",DELETE:"DELETE_USER",UPDATE:"UPDATE_USER",RESTORE:"RESTORE_USER",SHOW_DELETED_USERS:"SHOW_DELETED_USERS"}},LOCATION:{ADD:"ADD_LOCATION",READ:"READ_LOCATION",UPDATE:"UPDATE_LOCATION",DELETE:"DELETE_LOCATION"}}})},1690:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);const n=s.p+"static/media/Featured icon.f0452deecdd8a0600a95469561a90cfe.svg"},6690:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Me});var n=s(65043),l=s(14282),i=s(72970),o=s(88166),r=s(18091),a=s(75329),d=s(49367),c=s(35475),u=s(47097),p=s(58387),h=s(2028),m=s(93740),x=s(90818),v=s(56328),g=s(65173),E=s.n(g),S=["color","size","title","className"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},f.apply(null,arguments)}var N=(0,n.forwardRef)((function(e,t){var s=e.color,l=void 0===s?"currentColor":s,i=e.size,o=void 0===i?"1em":i,r=e.title,a=void 0===r?null:r,d=e.className,c=void 0===d?"":d,u=function(e,t){if(null==e)return{};var s,n,l=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,S);return n.createElement("svg",f({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-cash-coin",c].filter(Boolean).join(" ")},u),a?n.createElement("title",null,a):null,n.createElement("path",{fillRule:"evenodd",d:"M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0"}),n.createElement("path",{d:"M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z"}),n.createElement("path",{d:"M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z"}),n.createElement("path",{d:"M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567"}))}));N.propTypes={color:E().string,size:E().oneOfType([E().string,E().number]),title:E().string,className:E().string};const j=N;var _=s(33817),y=s(56741),A=s(50565),b=s(94819),w=s(90688),T=s(88120),C=s(72018),I=s(9642),R=s(64824),O=s(76104);const P={filterBox:"expenses_filterBox__wxXcv",menu:"expenses_menu__5taYH",newButton:"expenses_newButton__SU4MY",total:"expenses_total__LH43I",totalCount:"expenses_totalCount__5Yt5A",totalMoney:"expenses_totalMoney__L+hKb",clientImg:"expenses_clientImg__VRYOd",ellipsis:"expenses_ellipsis__94-xF",location:"expenses_location__JzKDi",active:"expenses_active__J0Nsm",selectedCount:"expenses_selectedCount__wP1-v",deletedRow:"expenses_deletedRow__FYQdz",paidRow:"expenses_paidRow__STtg1",unpaidRow:"expenses_unpaidRow__eujRL",fontStanderdSize:"expenses_fontStanderdSize__F1Lwi",plusIcon:"expenses_plusIcon__YeleL","paid-false":"expenses_paid-false__Oe4Ym",status:"expenses_status__W0wup",inactive:"expenses_inactive__J0oTn",actionButton:"expenses_actionButton__XzmE2",allMoneyButton:"expenses_allMoneyButton__FCs0l",unpaidMoneyButton:"expenses_unpaidMoneyButton__kA4gC",shakeText:"expenses_shakeText__4E+55","tilt-n-move-shaking":"expenses_tilt-n-move-shaking__fDQcc",customToast:"expenses_customToast__MyoQa",toastIcon:"expenses_toastIcon__xu4JV",outerToastIcon:"expenses_outerToastIcon__VG2NP",toastTitle:"expenses_toastTitle__pDAPJ",toastMessage:"expenses_toastMessage__adrZS",paidButton:"expenses_paidButton__pQuP8",notPaidButton:"expenses_notPaidButton__DyR80",accountCode:"expenses_accountCode__4ZKuY",linkToProjectCard:"expenses_linkToProjectCard__ctUh1"};var U=s(37990),D=s(10586),B=s(57189),L=s(48417),F=s(568),$=s(74737),k=s(99678),z=s(14834),M=s(27734),V=s(54967),J=s(99868),W=s(93202),G=s(93747),Y=s(20288);const K="expense-edit_circledesignstyle__0R-yu",H="expense-edit_out__t3U+W",X="expense-edit_expensesEditHead__vh0iB";var q=s(85049),Q=s(61072),Z=s(78602),ee=s(74856),te=s(70579);const se=()=>(0,te.jsx)("div",{className:"loading-details-sidebar",children:(0,te.jsx)("div",{className:"d-flex flex-column",children:(0,te.jsxs)("div",{className:"modal-body",style:{padding:"0px 12px 12px 12px",height:"calc(100vh - 72px - 122px)",overflow:"auto"},children:[(0,te.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,te.jsx)(ee.E,{height:"2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{height:"1.5rem",width:"10rem",className:"mb-2"})]}),(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"}),(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"}),(0,te.jsxs)(Q.A,{children:[(0,te.jsxs)(Z.A,{children:[(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,te.jsxs)(Z.A,{children:[(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,te.jsxs)(Q.A,{children:[(0,te.jsxs)(Z.A,{children:[(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,te.jsxs)(Z.A,{children:[(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,te.jsxs)(Q.A,{children:[(0,te.jsx)(Z.A,{children:(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"94px"})}),(0,te.jsx)(Z.A,{children:(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"94px"})}),(0,te.jsx)(Z.A,{children:(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"94px"})})]}),(0,te.jsxs)("div",{className:"d-flex align-items-center mb-4 gap-1",children:[(0,te.jsx)(ee.E,{height:"2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{height:"2rem",width:"10rem",className:"mb-2"})]}),(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"50%",className:"mb-4",height:"45px"}),(0,te.jsxs)(Q.A,{children:[(0,te.jsxs)(Z.A,{children:[(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,te.jsxs)(Z.A,{children:[(0,te.jsx)(ee.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,te.jsx)(ee.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,te.jsxs)("div",{className:"d-flex align-items-center mb-4 gap-1",children:[(0,te.jsx)(ee.E,{height:"2rem",width:"2rem",className:"mb-2"}),(0,te.jsx)(ee.E,{height:"2rem",width:"50%",className:"mb-2"})]})]})})}),ne=e=>{let{visible:t,setVisible:s,setEditData:i,id:o,name:r,setRefetch:a}=e;const d=(0,n.useRef)(null),[c,p]=(0,n.useState)(null),[h,x]=(0,n.useState)({}),g=(0,G.I)({queryKey:["getExpense",o],queryFn:()=>(0,D.$R)(o),enabled:!!o}),E=(0,u.n)({mutationFn:e=>(0,D.sr)(e.id,e.code),onSuccess:e=>{v.oR.success("Account code assigned to supplier successfully")},onError:e=>{console.error("Error assigning supplier code:",e),v.oR.error("Failed to assign supplier code. Please try again.")}}),S=(0,u.n)({mutationFn:e=>(0,U.m7)(e),onSuccess:e=>{console.log("response: ",e),v.oR.success("Expense linked to asset successfully")},onError:e=>{console.error("Error linking expense to asset:",e),v.oR.error("Failed to link expense to asset. Please try again.")}}),f=(0,u.n)({mutationFn:e=>(0,D.eY)(o,e),onSuccess:async e=>{if(console.log("response: ",e),c&&c.type&&c.id){const t={asset_type:c.type,asset_id:c.id,expense:e.id};await S.mutateAsync(t)}v.oR.success("Expense updated successfully"),s(!1),i({}),x({}),a((e=>!e)),g.refetch()},onError:e=>{console.error("Error updating expense:",e),v.oR.error("Failed to update expense. Please try again.")}}),N=async(e,t)=>{var s,n,l,i,r;(e.assign_account_code&&e.service_code&&await E.mutateAsync({id:e.supplier,code:e.service_code}),null!==e&&void 0!==e&&null!==(s=e.asset)&&void 0!==s&&s.asset_id&&((null===e||void 0===e||null===(n=e.asset)||void 0===n?void 0:n.asset_id)!==(null===c||void 0===c?void 0:c.id)&&(null===e||void 0===e||null===(l=e.asset)||void 0===l?void 0:l.asset_type_id)===(null===c||void 0===c?void 0:c.type)||"Assign to asset"!==e.option))&&await(0,U.hk)(null===e||void 0===e||null===(i=e.asset)||void 0===i?void 0:i.asset_id,null===e||void 0===e||null===(r=e.asset)||void 0===r?void 0:r.asset_type_id,o);"Assign to asset"!==e.option&&p(null),x((t=>({...t,...e}))),delete e["gst-calculation"],delete e.option,delete e.subtotal,delete e.totalAmount,delete e.tax,null===e||void 0===e||delete e.asset,delete e.assign_account_code,delete e.service_code,e.order||delete e.order,e.type||(e.type=2),e.date&&(e.date=new Date(e.date).toISOString().split("T")[0]),e.due_date&&(e.due_date=new Date(e.due_date).toISOString().split("T")[0]),console.log("data: ",e),f.mutateAsync(e)},j=()=>{d.current&&d.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,n.useEffect)((()=>{if(null!==g&&void 0!==g&&g.data){var e,t,s,n;const a=(r=null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.nogst,(null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.gst)?"ex":r?"no":"in"),{subtotal:d,tax:c,totalAmount:u}=((e,t)=>{let s=0,n=0;return"ex"===t?(n=e,s=.1*n):"in"===t?(s=.1*e/1.1,n=e-s):(n=e,s=0),{subtotal:n.toFixed(2),tax:s.toFixed(2),totalAmount:(parseFloat(n)+parseFloat(s)).toFixed(2)}})(+(null===g||void 0===g||null===(s=g.data)||void 0===s?void 0:s.amount),a);var l,i,o;if(null!==g&&void 0!==g&&null!==(n=g.data)&&void 0!==n&&n.asset)p({id:null===g||void 0===g||null===(l=g.data)||void 0===l||null===(i=l.asset)||void 0===i?void 0:i.asset_id,type:null===g||void 0===g||null===(o=g.data)||void 0===o?void 0:o.asset.asset_type_id});x((e=>{var t,s,n,l,i,o,r,p,h,m,x,v,E,S,f,N;return{...e,note:null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.note,supplier:null===g||void 0===g||null===(s=g.data)||void 0===s?void 0:s.supplier,invoice_reference:null===g||void 0===g||null===(n=g.data)||void 0===n?void 0:n.invoice_reference,date:new Date(1e3*+(null===g||void 0===g||null===(l=g.data)||void 0===l?void 0:l.date)),due_date:new Date(1e3*+(null===g||void 0===g||null===(i=g.data)||void 0===i?void 0:i.due_date)),amount:null===g||void 0===g||null===(o=g.data)||void 0===o?void 0:o.amount,nogst:null===g||void 0===g||null===(r=g.data)||void 0===r?void 0:r.nogst,gst:null===g||void 0===g||null===(p=g.data)||void 0===p?void 0:p.gst,order:null===g||void 0===g||null===(h=g.data)||void 0===h?void 0:h.order,type:+(null===g||void 0===g||null===(m=g.data)||void 0===m?void 0:m.type),account_code:null===g||void 0===g||null===(x=g.data)||void 0===x?void 0:x.account_code,notification:null===g||void 0===g||null===(v=g.data)||void 0===v?void 0:v.notification,"gst-calculation":a,subtotal:d,tax:c,totalAmount:u,option:null!==g&&void 0!==g&&null!==(E=g.data)&&void 0!==E&&E.order?"Assign to project":null!==g&&void 0!==g&&null!==(S=g.data)&&void 0!==S&&S.asset?"Assign to asset":"Assign to timeframe",file:null===g||void 0===g||null===(f=g.data)||void 0===f?void 0:f.file,asset:(null===g||void 0===g||null===(N=g.data)||void 0===N?void 0:N.asset)||void 0}}))}var r}),[null===g||void 0===g?void 0:g.data]),(0,te.jsx)(Y.B,{visible:t,position:"right",onHide:()=>{s(!1),i({})},modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{var t,n;let{closeIconRef:a,hide:u}=e;return(0,te.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,te.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,te.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,te.jsx)("div",{className:K,children:(0,te.jsx)("div",{className:H,children:(0,te.jsx)(W.A,{size:24,color:"#17B26A"})})}),(0,te.jsx)("span",{style:{color:"344054",fontSize:"20px",fontWeight:600},children:"Update Expense"})]}),(0,te.jsx)("span",{children:(0,te.jsx)(l.A,{type:"button",className:"text-button",ref:a,onClick:e=>u(e),children:(0,te.jsx)(y.A,{size:24,color:"#667085"})})})]}),(0,te.jsx)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 122px)",overflow:"auto"},children:null!==g&&void 0!==g&&g.isFetching||null===h||void 0===h||!h.option?(0,te.jsx)(se,{}):(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{className:`d-flex align-items-center mb-2 justify-content-between ${X}`,children:[(0,te.jsx)("h5",{children:"Expense Details"}),(0,te.jsxs)("h6",{children:["Expense ID: ",(null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.number)||"-"]})]}),(0,te.jsx)(q.A,{ref:d,onSubmit:N,defaultValues:h,defaultSupplier:{name:r,id:null===g||void 0===g||null===(n=g.data)||void 0===n?void 0:n.supplier},id:o,asset:c,setAsset:p})]})}),(0,te.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,te.jsx)(l.A,{type:"button",onClick:e=>{e.stopPropagation(),s(!1),i({})},className:"outline-button",disabled:f.isPending||(null===S||void 0===S?void 0:S.isPending)||(null===E||void 0===E?void 0:E.isPending),children:"Cancel"}),(0,te.jsxs)(l.A,{type:"button",onClick:j,className:"solid-button",style:{minWidth:"70px"},disabled:f.isPending||(null===S||void 0===S?void 0:S.isPending)||(null===E||void 0===E?void 0:E.isPending),children:["Update ",(f.isPending||(null===S||void 0===S?void 0:S.isPending)||(null===E||void 0===E?void 0:E.isPending))&&(0,te.jsx)(m.p,{style:{width:"18px",height:"18px"}})]})]})]})}})};var le=s(51038),ie=s(20092),oe=s(55797);const re="dialog_modal__HiKtw",ae="dialog_modalHeader__CCaHg",de="dialog_headerTitle__zaVm3",ce="dialog_iconStyle__uliFd",ue="dialog_paidTotal__H5dQT",pe="dialog_unpaidTotal__BulDM";function he(e){let{visible:t,setVisible:s,details:n,setRefetch:l}=e;const i=(0,u.n)({mutationFn:e=>(0,D.D3)(e),onSuccess:()=>{l((e=>!e)),s(),v.oR.success("Expenses have been successfully marked as paid.")},onError:e=>{console.log("error: ",e),v.oR.error("Failed to mark the expenses as paid. Please try again.")}}),o=(0,te.jsxs)("div",{className:`${ae}`,children:[(0,te.jsx)("b",{className:ce,children:(0,te.jsx)(le.A,{size:24,color:"#B54708"})}),(0,te.jsx)("span",{className:`white-space-nowrap ${de}`,children:"Mark Expense as paid?"})]}),r=(0,te.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-3",children:[(0,te.jsx)(C.$,{disabled:null===i||void 0===i?void 0:i.isPending,label:"Cancel",className:"outline-button outline-none",onClick:()=>s(!1),autoFocus:!0}),(0,te.jsx)(C.$,{disabled:null===i||void 0===i?void 0:i.isPending,label:null!==i&&void 0!==i&&i.isPending?"Loading...":"Mark as Paid",className:"success-button outline-none",onClick:()=>{const e=null===n||void 0===n?void 0:n.id;i.mutate({ids:[e]})},autoFocus:!0})]});return(0,te.jsx)(oe.l,{visible:t,modal:!0,header:o,footer:r,className:`${re} custom-modal`,onHide:()=>{t&&s(!1)},children:(0,te.jsxs)("div",{className:"px-3",children:[(0,te.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Reference"}),(0,te.jsx)("h6",{style:{fontSize:"16px",color:"#475467",fontWeight:600,marginBottom:"16px"},children:(null===n||void 0===n?void 0:n.invoice_reference)||""}),(0,te.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Total"}),(0,te.jsxs)("div",{className:`${ue}`,children:[(0,te.jsx)(ie.E,{severity:"success"})," $ ",(null===n||void 0===n?void 0:n.total)||"0.00"]})]})})}var me=s(1690);function xe(e){let{visible:t,setVisible:s,details:n,setRefetch:l}=e;const i=(0,u.n)({mutationFn:e=>(0,D.ik)(e),onSuccess:()=>{l((e=>!e)),s(),v.oR.success("Expenses have been successfully marked as unpaid.")},onError:e=>{console.log("error: ",e),v.oR.error("Failed to mark the expenses as unpaid. Please try again.")}}),o=(0,te.jsxs)("div",{className:`${ae}`,children:[(0,te.jsx)("img",{src:me.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,te.jsx)("span",{className:`white-space-nowrap ${de}`,children:"Mark Expense as Unpaid?"})]}),r=(0,te.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-3",children:[(0,te.jsx)(C.$,{disabled:null===i||void 0===i?void 0:i.isPending,label:"Cancel",className:"outline-button outline-none",onClick:()=>s(!1),autoFocus:!0}),(0,te.jsx)(C.$,{disabled:null===i||void 0===i?void 0:i.isPending,label:null!==i&&void 0!==i&&i.isPending?"Loading...":"Mark as Unpaid",className:"danger-button font-Weight-600",style:{padding:"10px 10px"},onClick:()=>{const e=null===n||void 0===n?void 0:n.id;i.mutate({ids:[e]})},autoFocus:!0})]});return(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(oe.l,{visible:t,modal:!1,header:o,footer:r,className:`${re} custom-modal`,onHide:()=>{t&&s(!1)},children:(0,te.jsxs)("div",{className:"px-3",children:[(0,te.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Reference"}),(0,te.jsx)("h6",{style:{fontSize:"16px",color:"#475467",fontWeight:600,marginBottom:"16px"},children:(null===n||void 0===n?void 0:n.invoice_reference)||""}),(0,te.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Total"}),(0,te.jsxs)("div",{className:`${pe}`,children:[(0,te.jsx)(ie.E,{severity:"danger"})," $ ",(null===n||void 0===n?void 0:n.total)||"0.00"]})]})})})}const ve=e=>{let{showDialog:t,setShowDialog:s,setRefetch:n}=e;const{data:l,show:i}=t;return(0,te.jsx)(te.Fragment,{children:!i||null!==l&&void 0!==l&&l.paid?i?(0,te.jsx)(xe,{visible:i,details:l,setVisible:()=>s({data:null,show:!1}),setRefetch:n}):"":(0,te.jsx)(he,{visible:i,details:l,setVisible:()=>s({data:null,show:!1}),setRefetch:n})})},ge=e=>{const t=new Date(1e3*e);return`${t.getDate()} ${new Intl.DateTimeFormat("en-US",{month:"short"}).format(t)} ${t.getFullYear()}`},Ee=(0,n.forwardRef)(((e,t)=>{let{searchValue:s,setTotal:l,setTotalMoney:i,selected:r,setSelected:a,isShowDeleted:d,refetch:p,setRefetch:h,filter:x}=e;const{role:g}=(0,B.As)(),E=(0,n.useRef)(null),S=(0,n.useRef)(null),{trialHeight:f}=(0,L.$)(),[N,W]=(0,n.useState)([]),[G,Y]=(0,n.useState)(1),[K,H]=(0,n.useState)({sortField:"id",sortOrder:-1}),[X,q]=(0,n.useState)({sortField:"id",sortOrder:-1}),[Q,Z]=(0,n.useState)(!0),[ee,se]=(0,n.useState)(!1),[le,ie]=(0,n.useState)(""),[oe,re]=(0,n.useState)(!1),[ae,de]=(0,n.useState)({data:null,show:!1}),ce=n.useMemo((()=>window.location.href),[]),ue=n.useMemo((()=>new URL(ce)),[ce]),pe=n.useMemo((()=>new URLSearchParams(ue.search)),[ue]);(0,n.useEffect)((()=>{const e=pe.get("expenseId");if(e&&"undefined"!==e){const t=pe.get("supplierName");ie({id:e,name:t}),re(!0),ue.searchParams.delete("expenseId"),window.history.replaceState({},"",ue),ue.searchParams.delete("supplierName"),window.history.replaceState({},"",ue)}else"undefined"===e&&(v.oR.error("Expense id not found"),ue.searchParams.delete("expenseId"),window.history.replaceState({},"",ue),ue.searchParams.delete("supplierName"),window.history.replaceState({},"",ue))}),[pe]),(0,n.useEffect)((()=>{console.log("Resetting pagination due to filter/search/state change"),Y(1),W([]),Z(!0)}),[s,p,d,x]),(0,n.useEffect)((()=>{(async()=>{var e;console.log(`Loading expenses data - Page: ${G}, Search: "${s}", Filter:`,x),se(!0);let t="";1===(null===X||void 0===X?void 0:X.sortOrder)?t=`${X.sortField}`:-1===(null===X||void 0===X?void 0:X.sortOrder)&&(t=`-${X.sortField}`);const n=await(0,D.md)(G,25,s,t,d,x);var o;(console.log(`Loaded ${(null===n||void 0===n||null===(e=n.results)||void 0===e?void 0:e.length)||0} expenses for page ${G}`),l((()=>(null===n||void 0===n?void 0:n.count)||0)),i((null===n||void 0===n?void 0:n.total_amount)||0),1===G)?(console.log("Setting expenses for page 1 (replacing existing)"),W(n.results)):(console.log("Appending expenses for page",G),(null===n||void 0===n||null===(o=n.results)||void 0===o?void 0:o.length)>0&&W((e=>{const t=new Set(e.map((e=>e.id))),s=n.results.filter((e=>!t.has(e.id)));return[...e,...s]})));H(X),Z(n.count!==N.length),se(!1)})()}),[G,s,X,p,d,x]),(0,n.useEffect)((()=>{if(N.length>0&&Q){E.current=new IntersectionObserver((e=>{e[0].isIntersecting&&Y((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&E.current.observe(e)}return()=>{E.current&&E.current.disconnect()}}),[N,Q]);const he=(0,u.n)({mutationFn:e=>(0,D.Wz)(e),onSuccess:()=>{v.oR.success("Expense deleted successfully"),he.reset(),h(!p)},onError:e=>{he.reset(),console.log("error: ",e),v.oR.error("Failed to delete expense. Please try again.")}});return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(R.b,{ref:t,value:N,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:`calc(100vh - 175px - ${f}px)`,className:"border",selection:r,onSelectionChange:e=>a(e.value),loading:ee,loadingIcon:M.A,emptyMessage:(0,te.jsx)(J.A,{isDataExist:!!s||!!d}),sortField:null===K||void 0===K?void 0:K.sortField,sortOrder:null===K||void 0===K?void 0:K.sortOrder,onSort:e=>{const{sortField:t,sortOrder:s}=e;q({sortField:t,sortOrder:s}),Y(1)},children:[(0,te.jsx)(I.V,{selectionMode:"multiple",headerClassName:"ps-4 border-end-0",bodyClassName:"show-on-hover border-end-0 ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,te.jsx)(I.V,{field:"id",header:"Expense ID",body:e=>{var t;return(0,te.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,te.jsxs)("div",{className:"d-flex flex-column",style:{lineHeight:"1.385"},children:[(0,te.jsx)("span",{children:null===(t=e.number)||void 0===t?void 0:t.split("-")[1]}),(0,te.jsx)("span",{className:"font-12",style:{color:"#98A2B3"},children:ge(e.created)})]}),(0,te.jsx)(C.$,{label:"Open",onClick:()=>{var t;re(!0),ie({id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e||null===(t=e.supplier)||void 0===t?void 0:t.name})},className:"primary-text-button ms-3 show-on-hover-element not-show-checked",text:!0})]})},headerClassName:"paddingLeftHide",bodyClassName:"paddingLeftHide",style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,te.jsx)(I.V,{field:"supplier__name",header:"Supplier A\u2192Z",body:e=>{var t,s,n;return(0,te.jsxs)("div",{className:"d-flex align-items-center",children:[(0,te.jsx)(V.Ay,{has_photo:null===e||void 0===e||null===(t=e.supplier)||void 0===t?void 0:t.has_photo,photo:null===e||void 0===e||null===(s=e.supplier)||void 0===s?void 0:s.photo,is_business:!0}),(0,te.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,te.jsx)("div",{className:`${P.ellipsis}`,children:null===(n=e.supplier)||void 0===n?void 0:n.name}),e.deleted?(0,te.jsx)(O.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]})]})},headerClassName:"shadowRight",bodyClassName:"shadowRight",style:{minWidth:"224px"},frozen:!0,sortable:!0}),(0,te.jsx)(I.V,{field:"invoice_reference",header:"Reference",body:e=>(0,te.jsx)("div",{className:"ellipsis-width",title:e.invoice_reference,style:{maxWidth:"250px",color:"#344054"},children:e.invoice_reference}),style:{minWidth:"94px"}}),(0,te.jsx)(I.V,{field:"file",header:"File",body:e=>{var t,s,n;if(!e.file)return"";const l=e.paid,i=e.file?null===(t=e.file.split("."))||void 0===t||null===(s=t[(null===(n=e.file.split("."))||void 0===n?void 0:n.length)-1])||void 0===s?void 0:s.toLowerCase():"";return e.file?(0,te.jsx)(c.N_,{to:e.file,target:"_blank",children:(0,te.jsx)(k.L,{extension:i,color:l?"#98A2B3":"#FF0000",size:16})}):void 0},style:{minWidth:"60px",textAlign:"center",maxWidth:"60px",width:"60px"}}),(0,te.jsx)(I.V,{field:"created",header:"Due Date",body:e=>(0,te.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",style:{color:"#667085",fontSize:"12px"},children:ge(e.created)}),style:{minWidth:"56px"},className:"text-center"}),(0,te.jsx)(I.V,{field:"jobsdone",header:"Total",body:e=>(0,te.jsx)("div",{className:`d-flex align-items-center justify-content-end show-on-hover ${P.fontStanderdSize}`,children:(0,te.jsxs)("div",{className:` ${e.paid?P["paid-true"]:P["paid-false"]}`,children:["$",(0,z.m)(e.total)]})}),style:{minWidth:"56px",textAlign:"end"}}),(0,te.jsx)(I.V,{field:"type",header:"Interval/Project/Asset",body:e=>{var t,s,n,l,i;return e.asset?(0,te.jsxs)("div",{className:"d-flex flex-column",children:[(0,te.jsx)("span",{className:"text-capitalize",style:{color:"#344054",fontSize:"14px"},children:e.asset.asset_name}),(0,te.jsxs)("span",{className:"font-14",style:{color:"#98A2B3"},children:["Asset | ",e.asset.asset_type_name]})]}):e.order?(0,te.jsxs)("div",{className:"d-flex flex-column",children:[(0,te.jsx)("span",{style:{color:"#344054",fontSize:"14px"},children:(null===e||void 0===e||null===(t=e.order)||void 0===t?void 0:t.reference)||"-"}),(0,te.jsxs)("span",{className:"font-14",style:{color:"#98A2B3"},children:[(0,te.jsx)(c.N_,{className:`${P.linkToProjectCard}`,to:`/management?unique_id=${null===e||void 0===e||null===(s=e.order)||void 0===s?void 0:s.unique_id}`,children:null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.number})," | ",null===e||void 0===e||null===(l=e.order)||void 0===l||null===(i=l.client)||void 0===i?void 0:i.name]})]}):(0,te.jsx)("span",{className:"text-capitalize",style:{color:"#344054",fontSize:"14px"},children:e.type})},style:{minWidth:"123px",textAlign:"left"}}),(0,te.jsx)(I.V,{field:"account_code.code",header:"Account Code",body:e=>{var t,s,n;return(0,te.jsxs)("div",{className:`d-flex align-items-center justify-content-start show-on-hover ${P.accountCode}`,children:[(null===(t=e.account_code)||void 0===t?void 0:t.code)&&(0,te.jsxs)("span",{children:[null===(s=e.account_code)||void 0===s?void 0:s.code,": "]}),null===(n=e.account_code)||void 0===n?void 0:n.name]})},style:{minWidth:"114px",textAlign:"left"},sortable:!0}),(0,te.jsx)(I.V,{field:"total_requests",header:"Xero/Myob",body:e=>(0,te.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:"in_progress"===(null===e||void 0===e?void 0:e.xero_status)?(0,te.jsx)("span",{style:{color:"#158ECC",fontSize:"12px"},className:P.shakeText,children:"xero"}):"completed"===(null===e||void 0===e?void 0:e.xero_status)?(0,te.jsx)("span",{style:{color:"#158ECC",fontSize:"12px"},children:"xero"}):(0,te.jsx)("span",{})}),style:{minWidth:"89px",textAlign:"center"}}),(0,te.jsx)(I.V,{field:"paid",header:"Status",body:e=>e.paid?(0,te.jsxs)(C.$,{onClick:()=>de({data:e,show:!0}),className:P.paidButton,style:{height:"36px",width:"97px"},children:["Paid ",(0,te.jsx)(o.A,{color:"#17B26A",size:16})]}):(0,te.jsxs)(C.$,{onClick:()=>de({data:e,show:!0}),className:P.notPaidButton,style:{height:"36px",width:"97px"},children:["Not Paid ",(0,te.jsx)(j,{color:"#F04438",size:16})," "]}),style:{minWidth:"130px",maxWidth:"130px",width:"130px"},bodyStyle:{color:"#667085"},bodyClassName:"text-center",headerClassName:"text-center"}),(0,$._)(g,F.J.EXPENSE.DELETE)&&(0,te.jsx)(I.V,{header:"Actions",body:e=>{const t=(0,n.useRef)(null),[s,o]=(0,n.useState)(!1),r=(0,w.k)(s,o);return(0,te.jsxs)(n.Fragment,{children:[(0,te.jsx)(A.A,{size:24,color:"#667085",className:"cursor-pointer",ref:t,...r}),(0,te.jsx)(T.k,{state:s?"open":"closed",anchorRef:t,onClose:()=>o(!1),className:"threeDots",menuStyle:{padding:"4px",width:"241px",textAlign:"left"},children:(0,te.jsxs)("div",{className:"d-flex align-items-center cursor-pointer gap-2 hover-greay px-2 py-2",onClick:()=>{o(!1),W((t=>t.filter((t=>t.id!==e.id)))),l((e=>e-1)),i((t=>t-e.total)),S.current=setTimeout((()=>{e.asset&&(0,U.hk)(e.asset.asset_id,e.asset.asset_type_id,e.id),he.mutate(e.id)}),5e3),v.oR.custom((t=>(0,te.jsxs)("div",{className:P.customToast,children:[(0,te.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100 mb-3",children:[(0,te.jsx)("div",{className:P.outerToastIcon,children:(0,te.jsx)("div",{className:P.toastIcon,children:(0,te.jsx)(_.A,{color:"#DC6803",size:20})})}),(0,te.jsx)(C.$,{className:"close-button border-0",onClick:()=>v.oR.dismiss(t),children:(0,te.jsx)(y.A,{size:20,color:"#344054"})})]}),(0,te.jsxs)("div",{className:"ps-2",children:[(0,te.jsx)("p",{className:P.toastTitle,children:"Expense has been deleted"}),(0,te.jsx)("p",{className:P.toastMessage,children:"You can undo this action within a few seconds."}),(0,te.jsx)(C.$,{className:"text-button ps-0",onClick:()=>{var s;clearTimeout(S.current),null===(s=he.reset)||void 0===s||s.call(he),v.oR.success("Expense has been restored"),v.oR.dismiss(t),W((t=>{const s=N.findIndex((t=>t.id===e.id));return[...t.slice(0,s),e,...t.slice(s)]})),l((e=>e+1)),i((t=>t+e.total))},children:"Undo action"})]})]})),{position:"bottom-right"})},children:[(0,te.jsx)(b.A,{color:"#B42318",size:20}),(0,te.jsx)("span",{style:{color:"#B42318",fontSize:"16px",fontWeight:500},children:"Delete expense"}),(null===he||void 0===he?void 0:he.variables)===e.id?(0,te.jsx)(m.p,{style:{width:"20px",height:"20px"}}):""]})})]})},style:{minWidth:"75px",maxWidth:"75px",width:"75px",textAlign:"center"},bodyStyle:{color:"#667085"}})]}),(0,te.jsx)(ne,{id:null===le||void 0===le?void 0:le.id,name:null===le||void 0===le?void 0:le.name,visible:oe,setVisible:re,setEditData:ie,setRefetch:h},null===le||void 0===le?void 0:le.id),(0,te.jsx)(ve,{showDialog:ae,setShowDialog:de,setRefetch:h})]})})),Se=Ee;var fe=s(39759),Ne=s(94673),je=s(3494),_e=s(34602),ye=s(62812),Ae=s(27965),be=(s(7245),s(54972)),we=s(5328),Te=s(44621);const Ce="expense-dropdown_filterBox__0jVBu",Ie="expense-dropdown_searchBox__2-mbW",Re="expense-dropdown_supplierDropdownItem__dA2Q5",Oe="expense-dropdown_mainTagsWrapper__rDFzz",Pe="expense-dropdown_tagsInputContainer__-k4pE",Ue="expense-dropdown_tagItemsWrap__c+Ewx",De="expense-dropdown_tagItemWrap__VZ7nO";var Be=s(17030),Le=s(52781),Fe=s(58027);const $e=e=>{let{setFilters:t,filter:s}=e;const i=(0,n.useRef)(null),o=(0,n.useRef)(null),[r,a]=(0,n.useState)(!1),[d,c]=(0,n.useState)("status"),[u,x]=(0,n.useState)([]),[v,g]=(0,n.useState)([null,null]),[E,S]=(0,n.useState)([]),[f,N]=(0,n.useState)([]),[j,_]=(0,n.useState)(1),[y,A]=(0,n.useState)(1),[b,w]=(0,n.useState)(null),[T,C]=(0,n.useState)(null),[I,R]=(0,n.useState)(!0),[O,P]=(0,n.useState)(!0),[U,D,B]=(0,h.d7)("",400),[L,F,$]=(0,h.d7)("",400),[k,z]=(0,n.useState)(!1),[M,V]=(0,n.useState)(!1);function J(e){if(!e)return"";const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}-${s}-${t}`}(0,n.useEffect)((()=>{_(1),R(!0)}),[D]),(0,n.useEffect)((()=>{A(1),P(!0)}),[F]),(0,n.useEffect)((()=>{(async()=>{z(!0);try{var e,t;console.log(`Loading suppliers - Page: ${j}, Search: "${D}"`);const n=await(0,Le.Jj)(j,25,D,"name");var s;if(console.log(`Suppliers loaded - Results: ${(null===n||void 0===n||null===(e=n.results)||void 0===e?void 0:e.length)||0}, Total: ${(null===n||void 0===n?void 0:n.count)||"unknown"}`),1===j)S((null===n||void 0===n?void 0:n.results)||[]);else(null===n||void 0===n||null===(s=n.results)||void 0===s?void 0:s.length)>0&&S((e=>{const t=new Set(e.map((e=>e.id))),s=n.results.filter((e=>!t.has(e.id)));return console.log(`Adding ${s.length} new suppliers to existing ${e.length}`),[...e,...s]}));const l=null!==n&&void 0!==n&&n.count?25*j<n.count:((null===n||void 0===n||null===(t=n.results)||void 0===t?void 0:t.length)||0)>=25;console.log(`Has more suppliers: ${l} (page: ${j}, limit: 25, total: ${(null===n||void 0===n?void 0:n.count)||"unknown"})`),R(l)}catch(n){console.error("Error loading suppliers:",n),S([]),R(!1)}z(!1)})()}),[j,D]),(0,n.useEffect)((()=>{(async()=>{V(!0);try{const e=await(0,Be.ax)(1);1===y?N(Array.isArray(e)?e:[]):Array.isArray(e)&&e.length>0&&N((t=>{const s=new Set(t.map((e=>e.id))),n=e.filter((e=>!s.has(e.id)));return[...t,...n]})),P(Array.isArray(e)&&25===e.length)}catch(e){console.error("Error loading departments:",e),N([])}V(!1)})()}),[y,F,T]),(0,n.useEffect)((()=>{if((null===E||void 0===E?void 0:E.length)>0&&I&&"suppliers"===d&&!k){const e=setTimeout((()=>{const e=document.querySelector(".supplier-dropdown .supplier-dropdown-item:last-child");e&&i.current&&i.current.disconnect(),e&&(i.current=new IntersectionObserver((e=>{e[0].isIntersecting&&I&&!k&&(console.log("Intersection detected - loading next page of suppliers"),_((e=>e+1)))}),{threshold:.8}),i.current.observe(e))}),500);return()=>{clearTimeout(e),i.current&&i.current.disconnect()}}}),[E,I,r,d,k]),(0,n.useEffect)((()=>{if((null===f||void 0===f?void 0:f.length)>0&&O&&"departments"===d){const e=setTimeout((()=>{const e=document.querySelector(".department-dropdown .department-dropdown-item:last-child");e&&(i.current=new IntersectionObserver((e=>{e[0].isIntersecting&&A((e=>e+1))}),{threshold:1}),i.current.observe(e))}),1e3);return()=>{clearTimeout(e),i.current&&i.current.disconnect()}}}),[f,O,r,d]);const W=e=>{x((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},G=()=>{a(!1),c("status")},Y=()=>{a(!1),null!==b&&void 0!==b&&b.length&&t((e=>({...e,suppliers:[...b]}))),null!==T&&void 0!==T&&T.length&&t((e=>({...e,departments:[...T]})));const e=u.map((e=>({name:e,value:e})));if(console.log("Status value from checkboxes:",u),console.log("Formatted status for API:",e),t((t=>({...t,status:[...e]}))),v&&v[0]&&v[1]){let e=`${J(v[0])} - ${J(v[1])}`;t((t=>({...t,date:[{name:e,value:v}]})))}};return(0,n.useEffect)((()=>{null!==s&&void 0!==s&&s.suppliers?null!==s&&void 0!==s&&s.suppliers&&w(s.suppliers):w(null),null!==s&&void 0!==s&&s.departments?null!==s&&void 0!==s&&s.departments&&C(s.departments):C(null),null!==s&&void 0!==s&&s.status?null!==s&&void 0!==s&&s.status&&x(s.status.map((e=>e.value))):x([]),null!==s&&void 0!==s&&s.date?null!==s&&void 0!==s&&s.date&&g(s.date[0].value):g([null,null])}),[s]),(0,n.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&a(!1)};return r&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[r]),(0,te.jsxs)("div",{className:"supplier-filters",ref:o,children:[(0,te.jsx)("button",{className:`${Ce}`,onClick:()=>a(!r),children:(0,te.jsx)(fe.A,{})}),r&&(0,te.jsxs)(Te.A,{id:"expense-filter-tabs",activeKey:d,onSelect:e=>c(e),className:"filtterBoxWrapper",style:{marginLeft:"5px",marginTop:"5px"},children:[(0,te.jsxs)(we.A,{eventKey:"status",title:(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Ne.A,{color:"#667085",size:16})," Status"]}),children:[(0,te.jsxs)("div",{className:"d-flex align-items-center gap-3 p-2 mb-2",children:[(0,te.jsx)(be.S,{inputId:"paid",checked:null===u||void 0===u?void 0:u.includes("paid"),onChange:()=>W("paid")}),(0,te.jsx)("label",{htmlFor:"paid",className:"mb-0",children:"Paid"})]}),(0,te.jsxs)("div",{className:"d-flex align-items-center gap-3 p-2 mb-2",children:[(0,te.jsx)(be.S,{inputId:"not_paid",checked:null===u||void 0===u?void 0:u.includes("not_paid"),onChange:()=>W("not_paid")}),(0,te.jsx)("label",{htmlFor:"not_paid",className:"mb-0",children:"Not Paid"})]}),(0,te.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,te.jsx)(l.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:G,children:"Cancel"}),(0,te.jsx)(l.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:Y,children:"Apply"})]})]}),(0,te.jsxs)(we.A,{eventKey:"suppliers",title:(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(je.A,{color:"#667085",size:16}),"Suppliers"]}),children:[(0,te.jsxs)("div",{className:Ie,children:[(0,te.jsx)("div",{style:{position:"absolute",top:"7px",left:"18px"},children:(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,te.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,te.jsx)("input",{type:"text",placeholder:"Search suppliers",value:U,onChange:e=>B(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"260px",border:"1px solid #D0D5DD",color:"#424242",padding:"10px 10px 10px 36px",fontSize:"14px",height:"40px"}})]}),(0,te.jsxs)("div",{className:"supplier-dropdown",style:{height:"350px",overflow:"auto",marginLeft:"0px"},children:[null===E||void 0===E?void 0:E.map((e=>(0,te.jsxs)("div",{className:(0,p.A)(Re,"supplier-dropdown-item"),onClick:()=>w((t=>null!==t&&void 0!==t&&t.some((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):t?[...t,e]:[e])),children:[(0,te.jsxs)("div",{className:"d-flex gap-2 align-items-center w-100",children:[(0,te.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",border:"1px solid #dedede"},children:(0,te.jsx)(Fe.A,{photo:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!0,size:17})}),(0,te.jsx)("div",{className:"ellipsis-width",style:{maxWidth:"200px"},children:null===e||void 0===e?void 0:e.name})]}),null!==b&&void 0!==b&&b.some((t=>t.id===e.id))?(0,te.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,te.jsx)("path",{d:"M16.25 5.625L7.5 14.375L3.75 10.625",stroke:"#1AB2FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):null]},e.id))),k&&(0,te.jsx)("div",{className:"d-flex justify-content-center p-2",children:(0,te.jsx)(m.p,{style:{width:"20px",height:"20px",color:"#1AB2FF"}})}),!k&&!I&&(null===E||void 0===E?void 0:E.length)>0&&(0,te.jsx)("div",{className:"d-flex justify-content-center p-2 text-muted",style:{fontSize:"12px"},children:"No more suppliers to load"})]}),(0,te.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,te.jsx)(l.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:G,children:"Cancel"}),(0,te.jsx)(l.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:Y,children:"Apply"})]})]}),(0,te.jsxs)(we.A,{eventKey:"departments",title:(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(_e.A,{color:"#667085",size:16}),"Departments"]}),children:[(0,te.jsxs)("div",{className:Ie,children:[(0,te.jsx)("div",{style:{position:"absolute",top:"7px",left:"18px"},children:(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,te.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,te.jsx)("input",{type:"text",placeholder:"Search departments",value:L,onChange:e=>$(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"260px",border:"1px solid #D0D5DD",color:"#424242",padding:"10px 10px 10px 36px",fontSize:"14px",height:"40px"}})]}),(0,te.jsxs)("div",{className:"department-dropdown",style:{height:"350px",overflow:"auto",marginLeft:"0px"},children:[null===f||void 0===f?void 0:f.map((e=>(0,te.jsxs)("div",{className:(0,p.A)(Re,"department-dropdown-item"),onClick:()=>C((t=>null!==t&&void 0!==t&&t.some((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):t?[...t,e]:[e])),children:[(0,te.jsx)("div",{className:"d-flex gap-2 align-items-center w-100",children:(0,te.jsx)("div",{className:"ellipsis-width",style:{maxWidth:"200px"},children:null===e||void 0===e?void 0:e.name})}),null!==T&&void 0!==T&&T.some((t=>t.id===e.id))?(0,te.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,te.jsx)("path",{d:"M16.25 5.625L7.5 14.375L3.75 10.625",stroke:"#1AB2FF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):null]},e.id))),M&&(0,te.jsx)(m.p,{style:{width:"20px",height:"20px",color:"#1AB2FF"}})]}),(0,te.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,te.jsx)(l.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:G,children:"Cancel"}),(0,te.jsx)(l.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:Y,children:"Apply"})]})]}),(0,te.jsxs)(we.A,{eventKey:"date",title:(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(ye.A,{color:"#667085",size:16})," Date"]}),children:[(0,te.jsx)("div",{className:"px-3 pt-2",children:(0,te.jsx)(Ae.A,{value:v,onChange:g,options:{dateFormat:"Y-m-d",mode:"range",inline:!0}})}),(0,te.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,te.jsx)(l.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:G,children:"Cancel"}),(0,te.jsx)(l.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:Y,children:"Apply"})]})]})]})]})},ke=e=>{var t,s;let{filter:n,setFilter:i}=e;const o=n||{};return(0,te.jsx)(te.Fragment,{children:(null===(t=Object.keys(o))||void 0===t?void 0:t.length)>0&&(0,te.jsx)("div",{className:Oe,children:null===(s=Object.entries(o))||void 0===s?void 0:s.map((e=>{let[t,s]=e;return(0,te.jsx)("div",{children:(null===s||void 0===s?void 0:s.length)>0&&(0,te.jsx)("div",{className:Pe,children:(0,te.jsxs)("ul",{className:Ue,children:[s.map(((e,n)=>(0,te.jsxs)("li",{className:De,children:[null===e||void 0===e?void 0:e.name,(null===s||void 0===s?void 0:s.length)>1&&(0,te.jsx)(l.A,{variant:"link",size:"sm",style:{marginLeft:"5px",padding:0},onClick:()=>((e,t)=>{const s={...o},n=s[e].filter((e=>e!==t));0===n.length?delete s[e]:s[e]=n,i(s)})(t,e),children:(0,te.jsx)(y.A,{color:"#F96969",size:15})})]},n))),(0,te.jsx)(l.A,{variant:"link",size:"sm",style:{marginLeft:"0px",padding:0},onClick:()=>(e=>{const t={...o};delete t[e],i(t)})(t),children:(0,te.jsx)(y.A,{color:"#F96969",size:20})})]})})},t)}))})})};var ze=s(62284);const Me=()=>{const e=(0,n.useRef)(null),t=(0,n.useRef)(null),[s]=(0,c.ok)(),g=s.get("isShowUnpaid"),[E,S]=(0,n.useState)(0),[f,N]=(0,n.useState)(0),[j,_]=(0,n.useState)(!1),[y,A]=(0,n.useState)(!1),[b,w]=(0,n.useState)(!!g),[T,C]=(0,n.useState)(null),[I,R,O]=(0,h.d7)("",400),[U,B]=(0,n.useState)({}),L=(0,u.n)({mutationFn:e=>(0,D.a_)(e),onSuccess:()=>{A((e=>!e)),C(null),v.oR.success("Expense successfully sent to Xero!")},onError:e=>{console.log("error: ",e),v.oR.error("Failed to send the expense to xero. Please try again.")}}),F=(0,u.n)({mutationFn:e=>(0,D.D3)(e),onSuccess:()=>{A((e=>!e)),C(null),v.oR.success("Expenses have been successfully marked as paid.")},onError:e=>{console.log("error: ",e),v.oR.error("Failed to mark the expenses as paid. Please try again.")}}),$=(0,u.n)({mutationFn:e=>(0,D.ik)(e),onSuccess:()=>{A((e=>!e)),C(null),v.oR.success("Expenses have been successfully marked as unpaid.")},onError:e=>{console.log("error: ",e),v.oR.error("Failed to mark the expenses as unpaid. Please try again.")}});return(0,te.jsxs)("div",{className:"peoples-page",children:[(0,te.jsx)(d.mg,{children:(0,te.jsx)("title",{children:"MeMate - Expenses"})}),(0,te.jsxs)("div",{className:`topbar ${null!==T&&void 0!==T&&T.length?P.active:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,te.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==T&&void 0!==T&&T.length?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("h6",{className:P.selectedCount,children:["Selected: ",null===T||void 0===T?void 0:T.length]}),(0,te.jsxs)("div",{className:"filtered-box d-flex align-items-center gap-2",children:[(0,te.jsxs)("button",{className:`danger-outline-button ${P.actionButton}`,onClick:()=>{const e=T.map((e=>e.id));$.mutate({ids:e})},disabled:null===$||void 0===$?void 0:$.isPending,children:["Mark as Unpaid ",null!==$&&void 0!==$&&$.isPending?(0,te.jsx)(m.p,{style:{width:"20px",height:"20px"}}):(0,te.jsx)(i.A,{color:"#B42318",size:20})," "]}),(0,te.jsxs)("button",{className:`success-outline-button ${P.actionButton}`,onClick:()=>{const e=T.map((e=>e.id));F.mutate({ids:e})},disabled:null===F||void 0===F?void 0:F.isPending,children:["Mark as Paid ",null!==F&&void 0!==F&&F.isPending?(0,te.jsx)(m.p,{style:{width:"20px",height:"20px"}}):(0,te.jsx)(o.A,{color:"#067647",size:20})," "]}),(0,te.jsxs)("button",{className:`outline-button ${P.actionButton}`,onClick:()=>{const e=T.map((e=>e.id));L.mutate({ids:e})},disabled:L.isPending,children:["Send to Xero/MYOB",L.isPending?(0,te.jsx)(m.p,{style:{width:"20px",height:"20px"}}):(0,te.jsx)(r.A,{color:"#1D2939",size:20})]}),(0,te.jsx)("button",{className:`${P.filterBox}`,onClick:()=>{return t=!0,void(e.current?e.current.exportCSV({selectionOnly:t}):console.error("DataTable ref is null"));var t},children:(0,te.jsx)(a.A,{})})]})]}):(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{className:"filtered-box",children:[(0,te.jsx)($e,{filter:U,setFilters:e=>{B("function"===typeof e?t=>e(t||{}):e||{})}}),(0,te.jsx)(x.b,{model:[],className:(0,p.A)(P.menu),popup:!0,ref:t,breakpoint:"767px"})]}),(0,te.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,te.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,te.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,te.jsx)("input",{type:"text",placeholder:"Search",value:I,onChange:e=>O(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),!(null!==T&&void 0!==T&&T.length)&&(0,te.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,te.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Expenses"}),(0,te.jsx)(l.A,{onClick:()=>_(!0),className:`${P.newButton}`,children:"New"})]}),(0,te.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,te.jsx)(l.A,{className:b?P.unpaidMoneyButton:P.allMoneyButton,onClick:()=>{w(!b),"true"===g&&b&&window.history.pushState({},"","/expenses")},children:"Unpaid"}),b&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("h1",{className:`${P.total} mb-0`,children:"Total"}),(0,te.jsxs)("div",{className:`${P.totalCount}`,children:[E," Expenses"]}),(0,te.jsxs)("h1",{className:P.totalMoney,children:["$",(0,z.m)(f||0)]})]})]})]}),(0,te.jsx)(ke,{filter:U,setFilter:B}),(0,te.jsx)(Se,{ref:e,searchValue:R,setTotal:S,setTotalMoney:N,selected:T,setSelected:C,isShowDeleted:b,refetch:y,setRefetch:A,filter:U}),(0,te.jsx)(ze.A,{visible:j,setVisible:_,setRefetch:A})]})}},17030:(e,t,s)=>{s.d(t,{DY:()=>a,Dc:()=>o,MY:()=>E,VL:()=>p,Vn:()=>d,WL:()=>r,_0:()=>x,ax:()=>i,cM:()=>h,dl:()=>S,jH:()=>v,mL:()=>u,sl:()=>g,tA:()=>c,zw:()=>m});var n=s(31342);const l="https://app.memate.com.au/api/v1",i=async e=>{const t=new URL(`${l}/references/calc-indexes/`);return 1===e&&t.searchParams.append("all",1),(0,n.f)(t.toString(),{method:"GET"})},o=async e=>{const t=new URL(`${l}${`/references/calculators/${e}/`}`),s=await(0,n.f)(t.toString(),{method:"GET"});return Array.isArray(s)?s.filter((e=>!e.deleted)):s&&!s.deleted?s:null},r=async e=>{const t=new URL(`${l}${`/projects/${e}/`}`);return(0,n.f)(t.toString(),{method:"GET"})},a=async e=>{const t={method:"POST",body:e},s=new URL(`${l}/sales/new-request/`);return(0,n.f)(s.toString(),t)},d=async(e,t)=>{if(!e)throw new Error("No id found");const s={method:"PUT",body:t},i=new URL(`${l}${`/sales/projects/${e}/`}`);return(0,n.f)(i.toString(),s)},c=async e=>{const t={method:"POST",body:e},s=new URL(`${l}/projects/merges/new/`);return(0,n.f)(s.toString(),t)},u=async e=>{const t=new URL(`${l}${`/projects/merges/${e}/delete/`}`);return(0,n.f)(t.toString(),{method:"DELETE"})},p=async e=>{const t={method:"POST",body:e},s=new URL(`${l}/settings/departments/`);return(0,n.f)(s.toString(),t)},h=async(e,t)=>{if(!e)return;const s={method:"PUT",body:t},i=new URL(`${l}${`/settings/departments/update/${e}/`}`);return(0,n.f)(i.toString(),s)},m=async e=>{const t={method:"POST",body:e},s=new URL(`${l}/settings/sub-departments/`);return(0,n.f)(s.toString(),t)},x=async(e,t)=>{if(!e)return;const s={method:"PUT",body:t},i=new URL(`${l}${`/settings/sub-departments/update/${e}/`}`);return(0,n.f)(i.toString(),s)},v=async(e,t)=>{const s={method:"POST",body:t},i=new URL(`${l}${`/references/calculators/${e}/new/`}`);return(0,n.f)(i.toString(),s)},g=async(e,t,s)=>{const i={method:"PUT",body:s},o=new URL(`${l}${`/references/calculators/${e}/update/${t}/`}`);return(0,n.f)(o.toString(),i)},E=async e=>{const t=new URL(`${l}${e}`);return(0,n.f)(t.toString(),{method:"DELETE"})},S=async e=>{const t={method:"POST",body:e.map(((e,t)=>({id:e.id,order:t+1})))},s=new URL(`${l}/settings/departments/order/`);return(0,n.f)(s.toString(),t)}},18091:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(65043),l=s(65173),i=s.n(l),o=["color","size","title","className"];function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r.apply(null,arguments)}var a=(0,n.forwardRef)((function(e,t){var s=e.color,l=void 0===s?"currentColor":s,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,h=function(e,t){if(null==e)return{};var s,n,l=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,o);return n.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-send",p].filter(Boolean).join(" ")},h),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a},20092:(e,t,s)=>{s.d(t,{E:()=>m});var n=s(65043),l=s(84052),i=s(41828),o=s(2028),r=s(4504);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function d(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,s){return(t=d(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u={root:function(e){var t=e.props;return(0,r.xW)("p-badge p-component",c({"p-badge-no-gutter":r.BF.isNotEmpty(t.value)&&1===String(t.value).length,"p-badge-dot":r.BF.isEmpty(t.value),"p-badge-lg":"large"===t.size,"p-badge-xl":"xlarge"===t.size},"p-badge-".concat(t.severity),null!==t.severity))}},p=i.x.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:u,styles:"\n@layer primereact {\n    .p-badge {\n        display: inline-block;\n        border-radius: 10px;\n        text-align: center;\n        padding: 0 .5rem;\n    }\n    \n    .p-overlay-badge {\n        position: relative;\n    }\n    \n    .p-overlay-badge .p-badge {\n        position: absolute;\n        top: 0;\n        right: 0;\n        transform: translate(50%,-50%);\n        transform-origin: 100% 0;\n        margin: 0;\n    }\n    \n    .p-badge-dot {\n        width: .5rem;\n        min-width: .5rem;\n        height: .5rem;\n        border-radius: 50%;\n        padding: 0;\n    }\n    \n    .p-badge-no-gutter {\n        padding: 0;\n        border-radius: 50%;\n    }\n}\n"}});function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}var m=n.memo(n.forwardRef((function(e,t){var s=(0,o.qV)(),a=n.useContext(l.UM),d=p.getProps(e,a),u=p.setMetaData(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({props:d},d.__parentMetadata)),m=u.ptm,x=u.cx,v=u.isUnstyled;(0,i.j)(p.css.styles,v,{name:"badge"});var g=n.useRef(null);n.useImperativeHandle(t,(function(){return{props:d,getElement:function(){return g.current}}}));var E=s({ref:g,style:d.style,className:(0,r.xW)(d.className,x("root"))},p.getOtherProps(d),m("root"));return n.createElement("span",E,d.value)})));m.displayName="Badge"},33817:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(65043),l=s(65173),i=s.n(l),o=["color","size","title","className"];function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r.apply(null,arguments)}var a=(0,n.forwardRef)((function(e,t){var s=e.color,l=void 0===s?"currentColor":s,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,h=function(e,t){if(null==e)return{};var s,n,l=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,o);return n.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-exclamation-circle",p].filter(Boolean).join(" ")},h),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),n.createElement("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a},50565:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(65043),l=s(65173),i=s.n(l),o=["color","size","title","className"];function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r.apply(null,arguments)}var a=(0,n.forwardRef)((function(e,t){var s=e.color,l=void 0===s?"currentColor":s,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,h=function(e,t){if(null==e)return{};var s,n,l=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,o);return n.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-three-dots-vertical",p].filter(Boolean).join(" ")},h),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a},54967:(e,t,s)=>{s.d(t,{Ab:()=>a,dg:()=>d,fr:()=>c,Ay:()=>u});var n=s(65043),l=s(44541),i=s(95192);const o="image-avatar_clientImg__-nnRU";var r=s(70579);const a=e=>{let{has_photo:t,photo:s,is_business:o,size:a}=e;const[d,c]=(0,n.useState)(!1),u=o?l.A:i.A;return(0,r.jsx)(r.Fragment,{children:t&&s&&!d?(0,r.jsx)("img",{src:s,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,r.jsx)(u,{color:"#667085",size:a})})},d=e=>{var t,s,l;let{has_photo:i,photo:o,name:a}=e;const[d,c]=(0,n.useState)(!1),u=a&&(null===a||void 0===a||null===(t=a.split(" "))||void 0===t||null===(s=t.map((e=>e[0])))||void 0===s||null===(l=s.join(""))||void 0===l?void 0:l.toUpperCase())||"";return(0,r.jsx)(r.Fragment,{children:i&&o&&!d?(0,r.jsx)("img",{src:o,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):u})},c=e=>{let{name:t,size:s=14}=e;const n=t.split(" ").map((e=>e[0])).join("").toUpperCase();return(0,r.jsx)("span",{style:{fontSize:`${s}px`},children:n})},u=e=>{let{has_photo:t,photo:s,is_business:a}=e;const[d,c]=(0,n.useState)(!1),u=a?l.A:i.A;return(0,r.jsx)("div",{className:`d-flex justify-content-center align-items-center ${o} ${a?"":"rounded-circle"}`,style:{overflow:"hidden"},children:t&&s&&!d?(0,r.jsx)("img",{src:s,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,r.jsx)(u,{color:"#667085"})})}},74737:(e,t,s)=>{s.d(t,{_:()=>o});var n=s(568);const l=Object.freeze({ADMIN:"Admin",LOCATION_MANAGER:"Location Manager",GENERAL_MANAGER:"General Manager",DEVELOPER:"Developer",DESIGNER:"Designers",SMM_PR:"SMM/PR"}),i={[l.ADMIN]:{permissions:[n.J.CLIENTS.CREATE,n.J.CLIENTS.READ,n.J.CLIENTS.UPDATE,n.J.CLIENTS.DELETE,n.J.SUPPLIERS.CREATE,n.J.SUPPLIERS.READ,n.J.SUPPLIERS.UPDATE,n.J.SUPPLIERS.DELETE,n.J.EXPENSE.CREATE,n.J.EXPENSE.READ,n.J.EXPENSE.UPDATE,n.J.EXPENSE.DELETE,n.J.INVOICE.CREATE,n.J.INVOICE.READ,n.J.INVOICE.UPDATE,n.J.INVOICE.DELETE,n.J.SETTINGS.SUBSCRIPTION.BUY_BUSINESS_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.CANCEL_BUSINESS_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.BUY_COMPANY_USER_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.BUY_WORK_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.CANCEL_WORK_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.ACTIVE_WORK_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.BUY_WORK_USER_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.BUY_LOCATION_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.REMOVE_LOCATION_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.ACTIVE_INQUIRIES_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.CANCEL_INQUIRIES_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.ACTIVE_ASSETS_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.CANCEL_ASSETS_SUBSCRIPTION,n.J.SETTINGS.SUBSCRIPTION.MANAGE_ASSET_SUBSCRIPTION,n.J.SETTINGS.LOCATION.ADD,n.J.SETTINGS.LOCATION.READ,n.J.SETTINGS.LOCATION.UPDATE,n.J.SETTINGS.LOCATION.DELETE,n.J.SETTINGS.USERS.DESKTOP.ADD,n.J.SETTINGS.USERS.DESKTOP.READ,n.J.SETTINGS.USERS.DESKTOP.DELETE,n.J.SETTINGS.USERS.DESKTOP.UPDATE,n.J.SETTINGS.USERS.DESKTOP.RESTORE,n.J.SETTINGS.USERS.DESKTOP.SHOW_DELETED_USERS,n.J.SETTINGS.USERS.MOBILE_APP.ADD,n.J.SETTINGS.USERS.MOBILE_APP.READ,n.J.SETTINGS.USERS.MOBILE_APP.UPDATE,n.J.SETTINGS.USERS.MOBILE_APP.DISCONNECT_USER,n.J.SETTINGS.USERS.MOBILE_APP.RECONNECT_USER,n.J.SETTINGS.USERS.MOBILE_APP.SHOW_DISCONNECTED_USERS]}},o=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!i[e])return!1;const n=i[e].permissions;return Array.isArray(t)?s?t.every((e=>n.includes(e))):t.some((e=>n.includes(e))):n.includes(t)}},77918:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(65043),l=s(65173),i=s.n(l),o=["color","size","title","className"];function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r.apply(null,arguments)}var a=(0,n.forwardRef)((function(e,t){var s=e.color,l=void 0===s?"currentColor":s,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,h=function(e,t){if(null==e)return{};var s,n,l=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,o);return n.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-info-circle",p].filter(Boolean).join(" ")},h),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a},88166:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(65043),l=s(65173),i=s.n(l),o=["color","size","title","className"];function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r.apply(null,arguments)}var a=(0,n.forwardRef)((function(e,t){var s=e.color,l=void 0===s?"currentColor":s,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,h=function(e,t){if(null==e)return{};var s,n,l=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}(e,o);return n.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-check-circle",p].filter(Boolean).join(" ")},h),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),n.createElement("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a},99678:(e,t,s)=>{s.d(t,{L:()=>ee});var n=s(10737),l=s(36858),i=s(50917),o=s(35646),r=s(62645),a=s(50410),d=s(43808),c=s(26506),u=s(11062),p=s(53516),h=s(57927),m=s(80501),x=s(25004),v=s(64721),g=s(55251),E=s(25958),S=s(28987),f=s(86169),N=s(10213),j=s(65961),_=s(78909),y=s(988),A=s(71584),b=s(11733),w=s(98465),T=s(83700),C=s(46),I=s(85421),R=s(97530),O=s(14872),P=s(18917),U=s(60571),D=s(19188),B=s(52068),L=s(27726),F=s(86944),$=s(1427),k=s(94154),z=s(57160),M=s(93819),V=s(40261),J=s(17544),W=s(28494),G=s(81460),Y=s(43414),K=s(10095),H=s(7647),X=s(91875),q=s(10696),Q=s(70579);const Z={aac:{icon:n.A,color:"#4CAF50"},ai:{icon:l.A,color:"#FF9800"},bmp:{icon:i.A,color:"#00ADEF"},cs:{icon:o.A,color:"#239120"},css:{icon:r.A,color:"#1572B6"},csv:{icon:a.A,color:"#22A746"},doc:{icon:d.A,color:"#2368E1"},docx:{icon:c.A,color:"#2368E1"},exe:{icon:u.A,color:"#8E8E8E"},gif:{icon:p.A,color:"#F64A8A"},heic:{icon:h.A,color:"#FFAA00"},html:{icon:m.A,color:"#E34F26"},java:{icon:x.A,color:"#007396"},jpg:{icon:v.A,color:"#FFAA00"},jpeg:{icon:v.A,color:"#FFAA00"},js:{icon:g.A,color:"#F7DF1E"},json:{icon:E.A,color:"#22A746"},jsx:{icon:S.A,color:"#61DAFB"},key:{icon:f.A,color:"#FF9800"},m4p:{icon:N.A,color:"#4CAF50"},md:{icon:j.A,color:"#8E8E8E"},mdx:{icon:_.A,color:"#8E8E8E"},mov:{icon:y.A,color:"#9C27B0"},mp3:{icon:A.A,color:"#4CAF50"},mp4:{icon:b.A,color:"#9C27B0"},otf:{icon:w.A,color:"#795548"},pdf:{icon:T.A,color:"#FF0000"},php:{icon:C.A,color:"#777BB4"},png:{icon:I.A,color:"#00ADEF"},ppt:{icon:R.A,color:"#FF9800"},pptx:{icon:O.A,color:"#FF9800"},psd:{icon:P.A,color:"#31A8FF"},py:{icon:U.A,color:"#3776AB"},raw:{icon:D.A,color:"#FFAA00"},rb:{icon:B.A,color:"#CC342D"},sass:{icon:L.A,color:"#CF649A"},scss:{icon:F.A,color:"#CF649A"},sh:{icon:$.A,color:"#8E8E8E"},sql:{icon:k.A,color:"#336791"},svg:{icon:z.A,color:"#FF5722"},tiff:{icon:M.A,color:"#FFAA00"},tsx:{icon:V.A,color:"#3178C6"},ttf:{icon:J.A,color:"#795548"},txt:{icon:W.A,color:"#8E8E8E"},wav:{icon:G.A,color:"#795548"},woff:{icon:Y.A,color:"#795548"},xls:{icon:K.A,color:"#22A746"},xlsx:{icon:H.A,color:"#22A746"},xml:{icon:X.A,color:"#E34F26"},yml:{icon:q.A,color:"#8E8E8E"},zip:{icon:u.A,color:"#FFD700"},rar:{icon:u.A,color:"#F44336"},tar:{icon:u.A,color:"#FFC107"},pub:{icon:d.A,color:"#4CAF50"},swf:{icon:u.A,color:"#FFEB3B"}},ee=e=>{let{extension:t,color:s,size:n}=e;const l=null===t||void 0===t?void 0:t.toLowerCase(),i=Z[l];if(i){const e=i.icon,t=s||i.color;return(0,Q.jsx)(e,{color:t,size:n})}return(0,Q.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:s||"#888",xmlns:"http://www.w3.org/2000/svg",children:(0,Q.jsx)("path",{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.5L9.5 0H4zm8 1.5V6H9V1h3z"})})}}}]);
//# sourceMappingURL=1843.fcd0c07a.chunk.js.map