"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[1281],{11281:(e,t,s)=>{s.d(t,{A:()=>P,I:()=>L});var o=s(65043),n=s(14282),a=s(13846),l=s(61072),r=s(78602),i=s(56741),d=s(9634),c=s(56682),m=s(69956),h=s(89488),u=s(93747),p=s(47097),x=s(86213),g=s(58387),v=s(85371),j=s(8129),b=s(28676),f=s(74532),y=s(72052),w=s(27932),N=s(93740),A=s(31892),S=s(20288),$=s(56328);const _={newJobTag:"create-job_newJobTag__fPJdn",border:"create-job_border__hGK6q",borderBottom:"create-job_borderBottom__KJ5iU",background:"create-job_background__dGbHa",customLabel:"create-job_customLabel__I8dZw",inputBox:"create-job_inputBox__yF5TW",chooseUserBox:"create-job_chooseUserBox__xDARH",paymentType:"create-job_paymentType__oiVO6",typeBorder:"create-job_typeBorder__O8Hp4",paymentmain:"create-job_paymentmain__SXRTF",customRadio:"create-job_customRadio__OfCn+",fix:"create-job_fix__GX+LF",hours:"create-job_hours__ZBMQO",timetracker:"create-job_timetracker__pDwPP",shift:"create-job_shift__yhUPp",timeFrame:"create-job_timeFrame__V+Ijt",radioLabel:"create-job_radioLabel__RPn7y",RadioButton:"create-job_RadioButton__0hySC",fileBox:"create-job_fileBox__zkj0v",imgBox:"create-job_imgBox__Fi0m-",fileType:"create-job_fileType__kElHf",fileNameBox:"create-job_fileNameBox__0Vs4a",deleteBox:"create-job_deleteBox__ZgDq5",openTransition:"create-job_openTransition__KZ-SQ"};var R=s(81047),k=s(38391),C=s(11520),T=s(90386),F=s(33296),B=s(58027),E=s(70579);function L(e){const t={"application/pdf":{name:"PDF",color:"#D92D20"},"application/vnd.ms-excel":{name:"Excel",color:"#22A746"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{name:"Excel",color:"#22A746"},"application/msword":{name:"Word",color:"#2368E1"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{name:"Word",color:"#2368E1"},"image/jpeg":{name:"JPEG",color:"#FFAA00"},"image/png":{name:"PNG",color:"#00ADEF"},"image/gif":{name:"GIF",color:"#F64A8A"},"video/mp4":{name:"MP4",color:"#9C27B0"},"audio/mp3":{name:"MP3",color:"#4CAF50"},"audio/wav":{name:"WAV",color:"#795548"},"text/plain":{name:"Text",color:"#8E8E8E"},"application/zip":{name:"ZIP",color:"#FFD700"},"application/json":{name:"JSON",color:"#22A746"},"image/svg+xml":{name:"SVG",color:"#FF5722"},"application/x-rar-compressed":{name:"RAR",color:"#F44336"},"application/vnd.ms-powerpoint":{name:"PPT",color:"#FF9800"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{name:"PPT",color:"#FF9800"},"application/vnd.ms-publisher":{name:"Publisher",color:"#4CAF50"},"application/x-shockwave-flash":{name:"SWF",color:"#FFEB3B"},"application/x-tar":{name:"TAR",color:"#FFC107"}}[e]||{name:"Unknown",color:"#000000"};return(0,E.jsxs)("div",{className:_.imgBox,children:[(0,E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"41",viewBox:"0 0 32 41",fill:"none",children:[(0,E.jsx)("path",{d:"M0 4.5874C0 2.37826 1.79086 0.587402 4 0.587402H20L32 12.5874V36.5874C32 38.7965 30.2091 40.5874 28 40.5874H4C1.79086 40.5874 0 38.7965 0 36.5874V4.5874Z",fill:t.color}),(0,E.jsx)("path",{opacity:"0.3",d:"M20 0.587402L32 12.5874H24C21.7909 12.5874 20 10.7965 20 8.5874V0.587402Z",fill:"white"})]}),(0,E.jsx)("div",{className:_.fileType,children:t.name})]})}const P=e=>{let{visible:t,setVisible:s,setRefetch:P,workerId:U,isEditMode:I=!1,jobData:O=null,jobId:W=null}=e;const G=localStorage.getItem("access_token"),[H,q]=(0,o.useState)(""),[M,z]=(0,o.useState)(!1),[D,J]=(0,o.useState)(!1),[V,Z]=(0,o.useState)(!1),[K,Q]=(0,o.useState)(""),[X,Y]=(0,o.useState)(""),[ee,te]=(0,o.useState)(""),[se,oe]=(0,o.useState)({}),[ne,ae]=(0,o.useState)("0.00"),[le,re]=(0,o.useState)(""),[ie,de]=(0,o.useState)(""),[ce,me]=(0,o.useState)("Weekly"),[he,ue]=(0,o.useState)([]),[pe,xe]=(0,o.useState)([]),[ge,ve]=(0,o.useState)(""),[je,be]=(0,o.useState)([]),[fe,ye]=(0,o.useState)(""),[we,Ne]=(0,o.useState)(""),[Ae,Se]=(0,o.useState)(""),[$e,_e]=(0,o.useState)([]),{getRootProps:Re,getInputProps:ke}=(0,h.VB)({onDrop:e=>{console.log("acceptedFiles: ",e),_e((t=>[...t,...e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e),progress:0})))]))}}),[Ce,Te]=(0,o.useState)("2"),[Fe,Be]=(0,o.useState)(0),[Ee,Le]=(0,o.useState)(""),[Pe,Ue]=(0,o.useState)(""),[Ie,Oe]=(0,o.useState)(""),[We,Ge]=(0,o.useState)(""),[He,qe]=(0,o.useState)({}),Me=(0,u.I)({queryKey:["jobTemplate"],queryFn:R.tC}),ze=(0,u.I)({queryKey:["templateId",H],queryFn:()=>(0,R.iS)(H),enabled:!!H,retry:1}),De=(0,u.I)({queryKey:["mobileuser"],queryFn:T.t}),Je=(0,u.I)({queryKey:["getManagement"],queryFn:C.Mv,staleTime:1/0}),Ve=e=>(0,E.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,E.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:(0,E.jsx)(B.A,{photo:null===e||void 0===e?void 0:e.image,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),(0,E.jsx)("div",{children:e.label})]}),Ze=(e,t)=>e?(0,E.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,E.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:(0,E.jsx)(B.A,{photo:null===e||void 0===e?void 0:e.image,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),(0,E.jsx)("div",{children:e.label})]}):(0,E.jsx)("span",{children:t.placeholder});(0,o.useEffect)((()=>{if(null!==ze&&void 0!==ze&&ze.data){var e,t;const s=(null===ze||void 0===ze||null===(e=ze.data)||void 0===e?void 0:e.title)||"";Q(s.substring(0,50)),Y((null===ze||void 0===ze||null===(t=ze.data)||void 0===t?void 0:t.description)||""),qe((e=>({...e,jobReference:!1}))),qe((e=>({...e,description:!1})))}}),[null===ze||void 0===ze?void 0:ze.data]);const Ke=async(e,t)=>x.A.put(t,e,{headers:{"Content-Type":""},onUploadProgress:s=>{const o=Math.round(s.loaded/s.total*100);_e((s=>s.map((s=>s.name===e.name?Object.assign(s,{progress:o,url:t}):s))))}}).catch((s=>{console.log("err: ",s),_e((s=>s.map((s=>s.name===e.name?Object.assign(s,{progress:0,url:t,error:!0}):s))))})),Qe=(0,p.n)({mutationFn:e=>I&&W?(0,k.lh)(W,e):(0,k.El)(e),onSuccess:async e=>{const t=I?W:e.id;$e.filter((e=>!e.isExisting)).length>0&&(_e((e=>e.map((e=>e.isExisting?e:{...e,progress:0})))),await(async e=>{if($e.length){if(!e)return $.oR.error("Job id not found");for(const s of $e)try{const t=await x.A.post(`https://dev.memate.com.au/api/v1/jobs/attachments/url/${e}/`,{filename:s.name},{headers:{Authorization:`Bearer ${G}`}}),{url:o}=t.data;await Ke(s,o)}catch(t){console.error("Error uploading file:",s.name,t),$.oR.error(`Failed to upload ${s.name}. Please try again.`)}}})(t),await(async e=>{let t=[];for(const n of $e){var s;let e={name:null===n||void 0===n?void 0:n.name,link:(null===n||void 0===n||null===(s=n.url)||void 0===s?void 0:s.split("?")[0])||"",size:null===n||void 0===n?void 0:n.size};t.push(e)}try{const s=await x.A.post(`https://dev.memate.com.au/api/v1/jobs/attachments/${e}/`,{attachments:t||[]},{headers:{Authorization:`Bearer ${G}`}});console.log("response",s)}catch(o){console.error("Error uploading file:",o),$.oR.error("Failed to update attachments in DB. Please try again.")}})(t)),$.oR.success(`Job ${I?"updated":"created"} successfully`),s(!1),P((e=>!e)),q(""),z(!1),J(!1),Z(!1),Q(""),Y(""),te(""),oe({}),ae("0.00"),re(""),de(""),me("Weekly"),ue([]),xe([]),ve(""),be([]),ye(""),Ne(""),Se(""),_e([]),Te("2"),Be(0),Le(""),Ue(""),Oe(""),Ge(""),qe({})},onError:e=>{console.error(`Error ${I?"updating":"creating"} job:`,e),$.oR.error(`Failed to ${I?"update":"create"} job. Please try again.`)}}),Xe=()=>{const e={jobReference:!1,description:!1,userId:!1,type:!1,cost:!1,duration:!1,time_type:!1,start:!1,end:!1,projectId:!1},t={};K?t.short_description=K:e.jobReference=!0,X&&(t.long_description=X),ee?t.worker=ee:e.userId=!0,Ce?t.type=Ce:e.type=!0,"2"!==Ce||Fe?t.cost=Fe:e.cost=!0,"2"===Ce||We?We&&(t.duration=+We):e.duration=!0,Ee?t.time_type=Ee:e.time_type=!0,Pe?t.start_date=new Date(Pe).toISOString():e.start=!0,"1"===Ee||Ie?Ie&&(t.end_date=new Date(Ie).toISOString()):e.end=!0,ie&&(t.project=ie),t.project_photos=Ae,qe(e),Object.values(e).includes(!0)||Qe.mutate(t)},Ye=e=>{var t,s;let o=null===De||void 0===De||null===(t=De.data)||void 0===t||null===(s=t.users)||void 0===s?void 0:s.find((t=>t.id===e)),n={7:"WEEK",14:"TWO_WEEKS",28:"FOUR_WEEKS",1:"MONTH"};o&&oe({hourlyRate:parseFloat((null===o||void 0===o?void 0:o.hourly_rate)||0).toFixed(2),paymentCycle:n[null===o||void 0===o?void 0:o.payment_cycle]||"",image:(null===o||void 0===o?void 0:o.photo)||"",has_photo:null===o||void 0===o?void 0:o.has_photo,name:`${o.first_name} ${o.last_name}`})};return(0,o.useEffect)((()=>{U&&(te(+U),Ye(+U))}),[U]),(0,o.useEffect)((()=>{I&&O&&(Q(O.short_description||""),Y(O.long_description||""),O.worker&&(te(O.worker.id),Ye(O.worker.id)),O.project&&de(O.project.id),Te(O.type||"2"),Be(O.cost||0),Le(O.time_type||""),Ge(O.duration||""),O.start_date&&Ue(new Date(O.start_date)),O.end_date&&Oe(new Date(O.end_date)),Se(O.project_photos||""),O.attachments&&O.attachments.length>0&&_e(O.attachments.map((e=>({name:e.name,size:e.size,url:e.link,progress:100,isExisting:!0})))))}),[I,O]),(0,E.jsx)(S.B,{visible:t,position:"right",onHide:()=>s(!1),modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{var t,o,h,u,p;let{closeIconRef:x,hide:S}=e;return(0,E.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,E.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"12px"},children:[(0,E.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[!I&&(0,E.jsx)("div",{style:{position:"relative",textAlign:"start"},children:(0,E.jsx)(j.m,{options:Me&&(null===(t=Me.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:`${e.name}`}))))||[],className:(0,g.A)(_.dropdownSelect,"dropdown-height-fixed","outline-none"),style:{height:"44px",width:"606px"},placeholder:"Select template",onChange:e=>{q(e.value)},value:H,loading:null===Me||void 0===Me?void 0:Me.isFetching,filter:!0})}),I&&(0,E.jsxs)("h2",{className:"mb-0",style:{fontSize:"18px",fontWeight:"500"},children:["Edit Job #",W]})]}),(0,E.jsx)("span",{children:(0,E.jsx)(n.A,{type:"button",className:"text-button",ref:x,onClick:e=>S(e),children:(0,E.jsx)(i.A,{size:24,color:"#667085"})})})]}),(0,E.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 68px - 80px)",overflow:"auto"},children:[(0,E.jsxs)(a.A,{className:(0,g.A)(_.border,"mb-3"),children:[(0,E.jsxs)(a.A.Body,{className:(0,g.A)("d-flex justify-content-between align-items-center",_.borderBottom),children:[(0,E.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Job Details"}),(0,E.jsx)("div",{className:(0,g.A)(_.newJobTag,"mb-0"),children:I?"Edit Job":"New Job"})]}),(0,E.jsxs)(a.A.Header,{className:(0,g.A)(_.background,"border-0"),children:[(0,E.jsxs)("div",{className:"form-group mb-3",children:[(0,E.jsx)("label",{className:(0,g.A)(_.customLabel),children:"Job Reference"}),(0,E.jsx)("div",{style:{position:"relative"},children:(0,E.jsxs)(b.C,{children:[(0,E.jsx)(f.m,{children:(null===ze||void 0===ze?void 0:ze.isFetching)&&(0,E.jsx)(N.p,{style:{width:"20px",height:"20px",position:"relative",top:"-5px"}})}),(0,E.jsx)(y.S,{value:K,className:(0,g.A)(_.inputBox,"w-100"),onChange:e=>{const t=e.target.value;t.length<=50&&(Q(t),t&&qe((e=>({...e,jobReference:!1}))))},maxLength:50,placeholder:"Enter job reference"})]})}),(0,E.jsxs)("div",{className:"d-flex justify-content-between",children:[(null===He||void 0===He?void 0:He.jobReference)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Job reference is required"}),(0,E.jsxs)("small",{className:"text-muted ms-auto",children:[K.length,"/50"]})]})]}),(0,E.jsxs)("div",{className:"form-group mb-3",children:[(0,E.jsx)("label",{className:(0,g.A)(_.customLabel),children:"Job Description"}),(0,E.jsx)("div",{style:{position:"relative"},children:(0,E.jsxs)(b.C,{children:[(0,E.jsx)(f.m,{children:(null===ze||void 0===ze?void 0:ze.isFetching)&&(0,E.jsx)(N.p,{style:{width:"20px",height:"20px",position:"relative",top:"-5px"}})}),(0,E.jsx)(w.Z,{value:X,className:(0,g.A)(_.inputBox,"w-100 outline-none"),onChange:e=>{Y(e.target.value),e.target.value&&qe((e=>({...e,description:!1})))},style:{height:"126px"},placeholder:"Enter the detailed quote for the client contract here. Include all relevant information such as project scope, deliverables, timelines, costs, payment terms, and any special conditions. Ensure the quote is clear, comprehensive, and aligns with the client's requirements and expectations."})]})}),(null===He||void 0===He?void 0:He.description)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Description is required"})]})]})]}),(0,E.jsx)(a.A,{className:(0,g.A)(_.border,"mb-3"),children:(0,E.jsxs)(a.A.Header,{className:(0,g.A)(_.background,"border-0 py-4"),children:[(0,E.jsx)("h1",{className:"font-16 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Assigned to*"}),(0,E.jsxs)(l.A,{children:[(0,E.jsx)(r.A,{sm:5,className:"d-flex align-items-center",children:(0,E.jsxs)("div",{style:{position:"relative",textAlign:"start"},children:[(0,E.jsx)("label",{className:(0,g.A)(_.customLabel),children:"Choose User"}),(0,E.jsx)(j.m,{options:De&&(null===(o=De.data)||void 0===o||null===(h=o.users)||void 0===h||null===(u=h.filter((e=>"disconnected"!==e.status)))||void 0===u?void 0:u.map((e=>({value:e.id,label:`${e.first_name} ${e.last_name}`,image:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo}))))||[],itemTemplate:Ve,className:(0,g.A)(_.dropdownSelect,"dropdown-height-fixed","outline-none"),style:{height:"44px",width:"245px"},placeholder:"Select user",onChange:e=>{te(e.value),Ye(e.value),e.value&&qe((e=>({...e,userId:!1})))},value:ee,valueTemplate:Ze,loading:null===De||void 0===De?void 0:De.isFetching,filter:!0,disabled:!!U}),(null===He||void 0===He?void 0:He.userId)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Worker is required"})]})}),(0,E.jsx)(r.A,{sm:7,children:(0,E.jsxs)(l.A,{className:(0,g.A)(_.chooseUserBox,"flex-nowrap"),children:[(0,E.jsx)(r.A,{sm:2,className:"p-0",children:(0,E.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"62px",height:"62px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:(0,E.jsx)(B.A,{photo:null===se||void 0===se?void 0:se.image,has_photo:null===se||void 0===se?void 0:se.has_photo,is_business:!1,size:40})})}),(0,E.jsxs)(r.A,{sm:5,className:"pe-0 ps-0",children:[(0,E.jsx)("label",{className:(0,g.A)(_.customLabel,"text-nowrap"),children:(null===se||void 0===se?void 0:se.name)||"-"}),(0,E.jsx)("div",{style:{background:"#EBF8FF",border:"1px solid #A3E0FF",borderRadius:"23px",textAlign:"center"},children:"Employee"})]}),(0,E.jsxs)(r.A,{sm:5,className:"",children:[(0,E.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,E.jsx)("div",{style:{width:"16px",height:"16px",background:"#EBF8FF",border:"1px solid #A3E0FF",borderRadius:"23px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:"$"}),(0,E.jsxs)("span",{children:[(null===se||void 0===se?void 0:se.hourlyRate)||"-"," AUD"]})]}),(0,E.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,E.jsx)("div",{style:{width:"16px",height:"16px",background:"#EBF8FF",border:"1px solid #A3E0FF",borderRadius:"23px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,E.jsx)(d.A,{color:"#158ECC",size:16})}),(0,E.jsx)("span",{children:(null===se||void 0===se?void 0:se.paymentCycle)||"-"})]})]})]})})]})]})}),(0,E.jsxs)(a.A,{className:(0,g.A)(_.border,"mb-3"),children:[(0,E.jsx)(a.A.Body,{className:(0,g.A)(_.borderBottom),children:(0,E.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Time / Money"})}),(0,E.jsx)(a.A.Header,{className:(0,g.A)(_.background,"border-0 pt-2",_.borderBottom),children:(0,E.jsxs)("div",{className:_.paymentType,children:[(0,E.jsx)("label",{className:(0,g.A)(_.lable),children:"Payment Type"}),(0,E.jsxs)("div",{className:_.paymentmain,children:[(0,E.jsxs)("div",{className:`flex align-items-center ${_.RadioButton}`,children:[(0,E.jsx)("input",{type:"radio",id:"fix",name:"paymentype",value:"2",onChange:e=>{Te(e.target.value),"2"===e.target.value&&qe((e=>({...e,type:!1})))},checked:"2"===Ce,className:_.customRadio}),(0,E.jsx)("label",{htmlFor:"fix",className:(0,g.A)(_.radioLabel,_.fix),children:"Fix"})]}),(0,E.jsx)("span",{children:"OR"}),(0,E.jsxs)("div",{className:`flex align-items-center ${_.RadioButton}`,children:[(0,E.jsx)("input",{type:"radio",id:"hours",name:"paymentype",value:"3",onChange:e=>{Te(e.target.value),"3"===e.target.value&&qe((e=>({...e,type:!1})))},checked:"3"===Ce,className:_.customRadio}),(0,E.jsx)("label",{htmlFor:"hours",className:(0,g.A)(_.radioLabel,_.hours),children:"Hours"})]}),(0,E.jsx)("span",{children:"OR"}),(0,E.jsxs)("div",{className:`flex align-items-center ${_.RadioButton}`,children:[(0,E.jsx)("input",{type:"radio",id:"timetracker",name:"paymentype",value:"4",onChange:e=>{Te(e.target.value),"4"===e.target.value&&qe((e=>({...e,type:!1})))},checked:"4"===Ce,className:_.customRadio}),(0,E.jsx)("label",{htmlFor:"timetracker",className:(0,g.A)(_.radioLabel,_.timetracker),children:"Time Tracker"})]})]}),(null===He||void 0===He?void 0:He.type)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Payment Type is required"}),"2"===Ce?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("label",{className:(0,g.A)(_.lable,"mt-4 mb-2"),children:"Payment"}),(0,E.jsxs)(b.C,{iconPosition:"left",children:[(0,E.jsx)(f.m,{children:(0,E.jsx)("span",{style:{position:"relative",top:"-4px"},children:"$"})}),(0,E.jsx)(y.S,{value:Fe,onChange:e=>{Be(e.target.value),e.target.value&&qe((e=>({...e,cost:!1})))},keyfilter:"num",onBlur:e=>{var t;return Be(parseFloat((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||0).toFixed(2))},style:{paddingLeft:"28px",width:"230px"},className:(0,g.A)(_.inputBox,"outline-none"),placeholder:"20"})]}),(null===He||void 0===He?void 0:He.cost)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Payment is required"})]}):(0,E.jsxs)("div",{style:{width:"fit-content"},children:[(0,E.jsx)("label",{className:(0,g.A)(_.lable,"mt-4 mb-2 d-block"),children:"3"===Ce?"Hours":"Time Estimation"}),(0,E.jsxs)(b.C,{iconPosition:"left",children:[(0,E.jsx)(f.m,{children:(0,E.jsx)("span",{style:{position:"relative",top:"-4px"},children:"H"})}),(0,E.jsx)(y.S,{value:We,onChange:e=>{Ge(e.target.value),e.target.value&&qe((e=>({...e,duration:!1})))},keyfilter:"num",onBlur:e=>{var t;return Ge(parseFloat((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||0).toFixed(1))},style:{paddingLeft:"28px",width:"150px"},className:(0,g.A)(_.inputBox,"outline-none"),placeholder:"1.0"})]}),(null===He||void 0===He?void 0:He.duration)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"3"===Ce?"Hours is required":"Time Estimation is required"})]})]})}),(0,E.jsxs)(a.A.Header,{className:(0,g.A)(_.background,"border-0"),children:[(0,E.jsxs)("div",{className:_.paymentType,children:[(0,E.jsx)("label",{className:(0,g.A)(_.lable),children:"Time"}),(0,E.jsxs)("div",{className:_.paymentmain,children:["4"!==Ce&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:`flex align-items-center ${_.RadioButton}`,children:[(0,E.jsx)("input",{type:"radio",id:"shift",name:"timetype",value:"1",onChange:e=>{Le(e.target.value),"1"===e.target.value&&qe((e=>({...e,time_type:!1})))},checked:"1"===Ee,className:_.customRadio}),(0,E.jsx)("label",{htmlFor:"shift",className:(0,g.A)(_.radioLabel,_.shift),children:"Shift"})]}),(0,E.jsx)("span",{children:"OR"})]}),(0,E.jsxs)("div",{className:`flex align-items-center ${_.RadioButton}`,children:[(0,E.jsx)("input",{type:"radio",id:"timeframe",name:"timetype",value:"T",onChange:e=>{Le(e.target.value),"T"===e.target.value&&qe((e=>({...e,time_type:!1})))},checked:"T"===Ee,className:_.customRadio}),(0,E.jsx)("label",{htmlFor:"timeframe",className:(0,g.A)(_.radioLabel,_.timeFrame),children:"Time Frame"})]})]}),(null===He||void 0===He?void 0:He.time_type)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Time type is required"})]}),(0,E.jsxs)("div",{className:"d-flex gap-2",children:[(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{className:(0,g.A)(_.lable,"mt-4 mb-2 d-block"),children:"Starts"}),(0,E.jsx)(v.V,{value:Pe,onChange:e=>{Ue(e.value),e.value&&qe((e=>({...e,start:!1})))},showButtonBar:!0,placeholder:"17 Jun 2021",dateFormat:"dd M yy",showIcon:!0,style:{height:"46px",width:"230px",overflow:"hidden"},icon:(0,E.jsx)(d.A,{color:"#667085",size:20}),className:(0,g.A)(_.inputBox,"p-0 outline-none"),hourFormat:"24",showTime:!0}),(null===He||void 0===He?void 0:He.start)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Start is required"})]}),"1"!==Ee&&(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{className:(0,g.A)(_.lable,"mt-4 mb-2 d-block"),children:"End"}),(0,E.jsx)(v.V,{value:Ie,onChange:e=>{Oe(e.value),e.value&&qe((e=>({...e,end:!1})))},showButtonBar:!0,placeholder:"20 Jun 2021",dateFormat:"dd M yy",showIcon:!0,style:{height:"46px",width:"230px",overflow:"hidden"},icon:(0,E.jsx)(d.A,{color:"#667085",size:20}),className:(0,g.A)(_.inputBox,"p-0 outline-none"),hourFormat:"24",showTime:!0}),(null===He||void 0===He?void 0:He.end)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"End is required"})]}),("1"===Ee||"1"!==Ee&&"4"===Ce)&&(0,E.jsxs)("div",{style:{width:"fit-content"},children:[(0,E.jsx)("label",{className:(0,g.A)(_.lable,"mt-4 mb-2 d-block"),children:"Hours"}),(0,E.jsxs)(b.C,{iconPosition:"right",children:[(0,E.jsx)(f.m,{children:(0,E.jsx)(c.A,{color:"#667085",size:20,style:{position:"relative",top:"-5px"}})}),(0,E.jsx)(y.S,{value:We,onChange:e=>Ge(e.target.value),keyfilter:"num",onBlur:e=>{var t;return Ge(parseFloat((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||0).toFixed(1))},style:{paddingLeft:"12px",width:"150px"},className:(0,g.A)(_.inputBox,"outline-none"),placeholder:"1.0"})]})]})]})]})]}),(0,E.jsxs)(a.A,{className:(0,g.A)(_.border,"mb-3"),children:[(0,E.jsx)(a.A.Body,{className:(0,g.A)(_.borderBottom),children:(0,E.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Link to Project"})}),(0,E.jsx)(a.A.Header,{className:(0,g.A)(_.background,"border-0",_.borderBottom),children:(0,E.jsxs)("div",{style:{position:"relative",textAlign:"start"},children:[(0,E.jsx)("label",{className:(0,g.A)(_.customLabel),children:"Project"}),(0,E.jsx)(j.m,{options:Je&&(null===(p=Je.data)||void 0===p?void 0:p.map((e=>({value:e.unique_id,label:`${e.reference} - ${e.number}`}))))||[],className:(0,g.A)(_.dropdownSelect,"dropdown-height-fixed","outline-none","mb-3"),style:{height:"44px",width:"100%"},placeholder:"Select project",onChange:e=>{de(e.value),e.value&&qe((e=>({...e,projectId:!1})))},value:ie,loading:null===Je||void 0===Je?void 0:Je.isFetching,filter:!0}),(null===He||void 0===He?void 0:He.projectId)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Project is required"})]})})]}),(0,E.jsxs)(a.A,{className:(0,g.A)(_.border,"mb-3"),children:[(0,E.jsx)(a.A.Body,{className:(0,g.A)(_.borderBottom,"cursor-pointer"),onClick:()=>z(!M),children:(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,E.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Set to repeat"}),(0,E.jsx)("button",{className:"text-button p-0",children:M?(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),M&&(0,E.jsxs)("div",{className:_.openTransition,children:[(0,E.jsx)(a.A.Header,{className:(0,g.A)(_.background,"border-0",_.borderBottom),children:(0,E.jsxs)("div",{className:"d-flex align-items-center gap-4 py-1",children:[(0,E.jsxs)("div",{className:"flex align-items-center",children:[(0,E.jsx)(A.a,{inputId:"Weekly",name:"repeat",value:"Weekly",onChange:e=>me(e.value),checked:"Weekly"===ce}),(0,E.jsx)("label",{htmlFor:"Weekly",className:"ms-2 cursor-pointer",children:"Weekly"})]}),(0,E.jsxs)("div",{className:"flex align-items-center",children:[(0,E.jsx)(A.a,{inputId:"Monthly",name:"repeat",value:"Monthly",onChange:e=>me(e.value),checked:"Monthly"===ce}),(0,E.jsx)("label",{htmlFor:"Monthly",className:"ms-2 cursor-pointer",children:"Monthly"})]})]})}),(0,E.jsx)(a.A.Header,{className:(0,g.A)(_.background,"border-0",_.borderBottom),children:(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)("label",{className:"mb-2",children:"Repeat on"}),"Weekly"===ce&&(0,E.jsx)("div",{className:"d-flex gap-3 align-items-center",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(((e,t)=>(0,E.jsx)("button",{onClick:()=>{ue((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]))},className:(0,g.A)("outline-button",{"active-outline-button":he.includes(t)}),children:e},e)))}),"Monthly"===ce&&(0,E.jsx)("div",{className:"d-flex gap-2 align-items-center flex-wrap",children:Array.from({length:31},((e,t)=>t+1)).map((e=>(0,E.jsx)("button",{onClick:()=>{xe((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},className:(0,g.A)("outline-button",{"active-outline-button":pe.includes(e)}),children:e},e)))}),(null===He||void 0===He?void 0:He.on)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Repeats on are required"})]})}),(0,E.jsxs)(a.A.Header,{className:(0,g.A)(_.background,"border-0",_.borderBottom),children:[(0,E.jsx)("label",{className:"mb-2",children:"Starts"}),(0,E.jsx)(v.V,{value:ge,onChange:e=>ve(e.value),showButtonBar:!0,placeholder:"17 Jun 2021",dateFormat:"dd M yy",showIcon:!0,style:{height:"46px",width:"180px",overflow:"hidden"},icon:(0,E.jsx)(d.A,{color:"#667085",size:20}),className:(0,g.A)(_.inputBox,"p-0 outline-none")}),(null===He||void 0===He?void 0:He.repeatStart)&&(0,E.jsx)("p",{className:"error-message mb-0",children:"Starts is required"})]}),(0,E.jsxs)(a.A.Header,{className:(0,g.A)(_.background,"border-0 d-flex",_.borderBottom),children:[(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)("label",{className:"mb-1",children:"Ends"}),(0,E.jsxs)("div",{className:"d-flex align-items-center gap-4 py-1",children:[(0,E.jsxs)("div",{className:"flex align-items-center",children:[(0,E.jsx)(A.a,{inputId:"On",name:"ending",value:"On",onChange:e=>be(e.value),checked:"On"===ce}),(0,E.jsx)("label",{htmlFor:"On",className:"ms-2 cursor-pointer",children:"On"})]}),(0,E.jsx)(v.V,{value:fe,onChange:e=>ye(e.value),showButtonBar:!0,placeholder:"20 Jun 2021",dateFormat:"dd M yy",showIcon:!0,style:{height:"46px",width:"180px",overflow:"hidden"},icon:(0,E.jsx)(d.A,{color:"#667085",size:20}),className:(0,g.A)(_.inputBox,"p-0 outline-none")}),(0,E.jsxs)("div",{className:"flex align-items-center",children:[(0,E.jsx)(A.a,{inputId:"Never",name:"ending",value:"Never",onChange:e=>be(e.value),checked:"Never"===ce}),(0,E.jsx)("label",{htmlFor:"Never",className:"ms-2 cursor-pointer",children:"Never"})]})]})]}),(0,E.jsxs)("div",{className:"d-flex flex-column ms-3",children:[(0,E.jsx)("label",{className:"mb-1",children:"Occurrences"}),(0,E.jsx)(j.m,{options:[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7}],className:(0,g.A)(_.dropdownSelect,"dropdown-height-fixed","outline-none","mb-3"),style:{height:"44px",width:"100%"},placeholder:"Select Occurrences",onChange:e=>{de(e.value)},value:ie,loading:null===Je||void 0===Je?void 0:Je.isFetching,filter:!0})]})]}),(0,E.jsxs)(a.A.Header,{className:(0,g.A)(_.background,"border-0 d-flex flex-column",_.borderBottom),children:[(0,E.jsx)("label",{className:"mb-1",children:"Set Schedule Ahead"}),(0,E.jsx)(j.m,{options:[{label:"1 Week",value:1},{label:"2 Week",value:2},{label:"3 Week",value:3},{label:"4 Week",value:4},{label:"5 Week",value:5},{label:"6 Week",value:6},{label:"7 Week",value:7}],className:(0,g.A)(_.dropdownSelect,"dropdown-height-fixed","outline-none","mb-3"),style:{height:"44px",width:"250px"},placeholder:"Select week",onChange:e=>{Ne(e.value)},value:we})]}),(0,E.jsxs)(a.A.Header,{className:(0,g.A)(_.background,"border-0 d-flex justify-content-between",_.borderBottom),children:[(0,E.jsx)(n.A,{className:"outline-button",children:"Cancel"}),(0,E.jsx)(n.A,{className:"outline-button active-outline-button",children:"Apply"})]})]})]}),(0,E.jsxs)(a.A,{className:(0,g.A)(_.border,"mb-3"),children:[(0,E.jsx)(a.A.Body,{className:(0,g.A)(_.borderBottom,"cursor-pointer"),onClick:()=>Z(!V),children:(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,E.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Project Photos"}),(0,E.jsx)("button",{className:"text-button p-0",children:V?(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),V&&(0,E.jsx)(a.A.Header,{className:(0,g.A)(_.background,"border-0 d-flex justify-content-between",_.borderBottom),children:(0,E.jsxs)("div",{className:"d-flex align-items-center gap-4 py-1",children:[(0,E.jsxs)("div",{className:"flex align-items-center",children:[(0,E.jsx)(A.a,{inputId:"Before and After",name:"projectPhotoDeliver",value:"1",onChange:e=>Se(e.value),checked:"1"==Ae}),(0,E.jsx)("label",{htmlFor:"Before and After",className:"ms-2 cursor-pointer",children:"Before and After"})]}),(0,E.jsxs)("div",{className:"flex align-items-center",children:[(0,E.jsx)(A.a,{inputId:"After",name:"projectPhotoDeliver",value:"2",onChange:e=>Se(e.value),checked:"2"===Ae}),(0,E.jsx)("label",{htmlFor:"After",className:"ms-2 cursor-pointer",children:"Photos Of the Process"})]}),(0,E.jsxs)("div",{className:"flex align-items-center",children:[(0,E.jsx)(A.a,{inputId:"All",name:"projectPhotoDeliver",value:"3",onChange:e=>Se(e.value),checked:"3"==Ae}),(0,E.jsx)("label",{htmlFor:"All",className:"ms-2 cursor-pointer",children:"All"})]})]})})]}),(0,E.jsxs)(a.A,{className:(0,g.A)(_.border,"mb-3"),children:[(0,E.jsx)(a.A.Body,{className:(0,g.A)(_.borderBottom,"cursor-pointer"),onClick:()=>J(!D),children:(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,E.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Attachments"}),(0,E.jsx)("button",{className:"text-button p-0",children:D?(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),D&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.A.Header,{className:(0,g.A)(_.background,"border-0 d-flex justify-content-between"),children:(0,E.jsxs)("div",{...Re({className:"dropzone d-flex justify-content-center align-items-center flex-column"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,E.jsx)("input",{...ke()}),(0,E.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,E.jsx)(m.A,{})}),(0,E.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,E.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,E.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})}),(0,E.jsx)(a.A.Header,{className:(0,g.A)(_.background,"border-0 d-flex flex-column",_.borderBottom),children:(0,E.jsx)("div",{className:"d-flex flex-column gap-3",children:null===$e||void 0===$e?void 0:$e.map(((e,t)=>(0,E.jsxs)("div",{className:_.fileBox,children:[L(e.type),(0,E.jsxs)("div",{className:_.fileNameBox,children:[(0,E.jsx)("p",{className:"mb-0",children:(null===e||void 0===e?void 0:e.name)||""}),(0,E.jsxs)("p",{className:"mb-0",children:[parseFloat((null===e||void 0===e?void 0:e.size)/1024).toFixed(2)," KB - ",parseInt(null===e||void 0===e?void 0:e.progress)||0,"% uploaded"]})]}),(0,E.jsx)("div",{className:"ms-auto",children:(0,E.jsx)(F.A,{percentage:parseInt(null===e||void 0===e?void 0:e.progress)||0,size:30,color:"#158ECC"})})]},t)))})})]})]})]}),(0,E.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,E.jsx)(n.A,{type:"button",onClick:e=>{e.stopPropagation(),s(!1)},className:"outline-button",children:"Cancel"}),(0,E.jsxs)(n.A,{type:"button",onClick:Xe,className:"solid-button",style:{minWidth:"75px"},disabled:(null===Qe||void 0===Qe?void 0:Qe.isPending)||I,children:[I?"Update":"Create"," ",(null===Qe||void 0===Qe?void 0:Qe.isPending)&&(0,E.jsx)(N.p,{style:{width:"20px",height:"20px",color:"#fff"}})]})]})]})}})}},11520:(e,t,s)=>{s.d(t,{Mv:()=>v,Np:()=>l,OE:()=>j,SE:()=>h,ZE:()=>c,aj:()=>r,fi:()=>u,jE:()=>d,jy:()=>p,ky:()=>g,mw:()=>a,o2:()=>i,qm:()=>x,yE:()=>m});const o="https://dev.memate.com.au/api/v1",n=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:s="GET",headers:o={},body:n}=t,a={method:s,headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json",...o},body:JSON.stringify(n),redirect:"follow"};try{const t=new URL(`${e}`),s=await fetch(t,a);if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);const o=s.headers.get("Content-Type");if(o&&o.includes("application/json"))return await s.json();return{message:"Non-JSON response",body:await s.text()}}catch(l){throw console.error("Fetch API error:",l),l}},a=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${o}${`/project-card/schedule/${e}/`}`);return n(a.toString(),s)},l=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${o}${`/project-card/custom-status/${e}/`}`);return n(a.toString(),s)},r=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${o}${`/project-card/reference/${e}/`}`);return n(a.toString(),s)},i=async(e,t)=>{const s={method:"POST",body:t},a=new URL(`${o}${`/project-card/note/${e}/`}`);return n(a.toString(),s)},d=async e=>{const t={method:"PUT",body:{unique_id:e}},s=new URL(`${o}/projects/back/`);return n(s.toString(),t)},c=async e=>{const t={method:"PUT",body:{unique_id:e}},s=new URL(`${o}/projects/decline/`);return n(s.toString(),t)},m=async e=>{const t={method:"PUT",body:{unique_id:e}},s=new URL(`${o}/projects/complete/`);return n(s.toString(),t)},h=async e=>{const t=new URL(`${o}${`/invoices/create/${e}/`}`);return n(t.toString(),{method:"POST"})},u=async(e,t)=>{const s={method:"POST",body:t},a=new URL(`${o}${`/invoices/send/${e}/`}`);return n(a.toString(),s)},p=async(e,t,s)=>{let a;a=t?`/custom/email/${e}/${t}/`:`/custom/email/${e}/`;const l={method:"POST",body:s},r=new URL(`${o}${a}`);return n(r.toString(),l)},x=async(e,t)=>{const s={method:"POST",body:t},a=new URL(`${o}${`/sms/${e}/`}`);return n(a.toString(),s)},g=async(e,t)=>{const s={method:"POST",body:t},a=new URL(`${o}${`/resend/quote/${e}/`}`);return n(a.toString(),s)},v=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`),e.append("Content-Type","application/json");const s={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${o}/management/`,s);return await e.json()}catch(n){throw console.error(n),n}},j=async e=>{const t=new Headers,s=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${s}`),t.append("Content-Type","application/json");const n={method:"GET",headers:t,redirect:"follow"};try{const t=await fetch(`${o}/project-card/${e}/`,n);return await t.json()}catch(a){throw console.error(a),a}}},31342:(e,t,s)=>{s.d(t,{f:()=>o});const o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:o="GET",headers:n={},body:a}=t,l=localStorage.getItem("access_token"),r=a instanceof FormData,i={"Content-Type":r?"multipart/form-data":"application/json",...n};s&&(i.Authorization=`Bearer ${l}`);const d={method:o,headers:i,body:r?a:JSON.stringify(a),redirect:"follow"};try{const t=new URL(`${e}`),s=await fetch(t,d);if(!s.ok){if(401===s.status&&(window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace("/login")),404===s.status)throw new Error("Not found");throw new Error(`HTTP error! Status: ${s.status}`)}const o=s.headers.get("Content-Type");if(o&&o.includes("application/json"))return await s.json();return{message:"Non-JSON response",body:await s.text()}}catch(c){throw console.error("Fetch API error:",c),c}}},33296:(e,t,s)=>{s.d(t,{A:()=>n});var o=s(70579);const n=e=>{let{percentage:t,size:s=100,strokeWidth:n=4,color:a="#4CAF50",background:l="#ddd"}=e;const r=(s-n)/2,i=2*Math.PI*r,d=i-t/100*i;return(0,o.jsxs)("svg",{width:s,height:s,children:[(0,o.jsx)("circle",{cx:s/2,cy:s/2,r:r,fill:"none",stroke:l,strokeWidth:n}),(0,o.jsx)("circle",{cx:s/2,cy:s/2,r:r,fill:"none",stroke:a,strokeWidth:n,strokeDasharray:i,strokeDashoffset:d,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.3s ease"}})]})}},38391:(e,t,s)=>{s.d(t,{El:()=>l,Gj:()=>a,ax:()=>r,lh:()=>d,uP:()=>i});var o=s(31342);const n="https://dev.memate.com.au/api/v1",a=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4?arguments[4]:void 0;const r=(e-1)*t,i=new URL(`${n}/jobs/`);return i.searchParams.append("limit",t),i.searchParams.append("offset",r),s&&i.searchParams.append("name",s),a&&i.searchParams.append("ordering",a),l&&i.searchParams.append("deleted",1),(0,o.f)(i.toString(),{method:"GET"})},l=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/jobs/create/`);return(0,o.f)(s.toString(),t)},r=async e=>{const t=new URL(`${n}${`/jobs/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${n}/dashboard/`);return(0,o.f)(e.toString(),{method:"GET"})},d=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${n}${`/jobs/update/${e}/`}`);return(0,o.f)(a.toString(),s)}},81047:(e,t,s)=>{s.d(t,{AO:()=>p,Ad:()=>w,Bz:()=>C,Hb:()=>m,IT:()=>k,Kb:()=>r,Mp:()=>y,Pf:()=>S,Rh:()=>N,SQ:()=>c,T6:()=>g,UM:()=>b,VQ:()=>R,Xm:()=>d,bd:()=>_,bj:()=>x,gY:()=>v,hS:()=>u,hx:()=>$,iS:()=>l,p4:()=>i,pJ:()=>f,rJ:()=>A,s:()=>h,sB:()=>j,tC:()=>a});var o=s(31342);const n="https://dev.memate.com.au/api/v1",a=async()=>{const e=new URL(`${n}/jobs/templates/`);return(0,o.f)(e.toString(),{method:"GET"})},l=async e=>{const t=new URL(`${n}${`/jobs/templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},r=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/jobs/templates/`);return(0,o.f)(s.toString(),t)},i=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${n}${`/jobs/templates/${e}/`}`);return(0,o.f)(a.toString(),s)},d=async e=>{const t=new URL(`${n}${`/jobs/templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},c=async()=>{const e=new URL(`${n}/settings/templates/email-templates/`);return(0,o.f)(e.toString(),{method:"GET"})},m=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/settings/templates/email-templates/`);return(0,o.f)(s.toString(),t)},h=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${n}${`/settings/templates/email-templates/${e}/`}`);return(0,o.f)(a.toString(),s)},u=async e=>{const t=new URL(`${n}${`/settings/templates/email-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},p=async()=>{const e=new URL(`${n}/email-signatures/`);return(0,o.f)(e.toString(),{method:"GET"})},x=async e=>{const t=new URL(`${n}${`/email-signatures/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},g=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/email-signatures/`);return(0,o.f)(s.toString(),t)},v=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${n}${`/email-signatures/${e}/`}`);return(0,o.f)(a.toString(),s)},j=async e=>{const t=new URL(`${n}${`/email-signatures/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},b=async e=>{const t=new URL(`${n}${`/settings/email-signatures/default/${e}/`}`);return(0,o.f)(t.toString(),{method:"PUT"})},f=async()=>{const e=new URL(`${n}/sms-templates/`);return(0,o.f)(e.toString(),{method:"GET"})},y=async e=>{const t=new URL(`${n}${`/sms-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},w=async e=>{const t={method:"POST",body:e},s=new URL(`${n}/sms-templates/`);return(0,o.f)(s.toString(),t)},N=async(e,t)=>{const s={method:"PUT",body:t},a=new URL(`${n}${`/sms-templates/${e}/`}`);return(0,o.f)(a.toString(),s)},A=async e=>{const t=new URL(`${n}${`/sms-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},S=async e=>{const t=new URL(`${n}${`/proposals/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},$=async()=>{const e=new URL(`${n}/references/outgoing-email/`);return(0,o.f)(e.toString(),{method:"GET"})},_=async e=>{const t=new URL(`${n}${`/settings/templates/email-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},R=async()=>{const e=new URL(`${n}/settings/proposals/`);return(0,o.f)(e.toString(),{method:"GET"})},k=async e=>{const t=new URL(`${n}${`/settings/proposals/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},C=async e=>{const t=new URL(`${n}${`/settings/proposals/delete/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})}},90386:(e,t,s)=>{s.d(t,{V:()=>l,t:()=>a});var o=s(31342);const n="https://dev.memate.com.au/api/v1",a=async()=>{const e=new URL(`${n}/team/mobile-users/`);return(0,o.f)(e.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${n}/users/desktop-users/`);return(0,o.f)(e.toString(),{method:"GET"})}}}]);
//# sourceMappingURL=1281.d691f245.chunk.js.map