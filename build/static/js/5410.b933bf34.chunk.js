"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5410],{17344:(e,t,n)=>{n.d(t,{A:()=>N});var r=n(65043),s=n(61072),a=n(78602),l=n(95192),o=n(24858),i=n(17380),c=n(18403),d=n(93747),u=n(58387),m=n(8129),p=n(28676),h=n(74532),f=n(72052),x=n(27932),v=n(80899),g=n(20685),y=n(59638),j=n(27472),b=n(63882),w=n(70579);const A=v.Ik({firstname:v.Yj().required("First name is required"),lastname:v.Yj().required("Last name is required"),email:v.Yj().email("Invalid email address").required("Email is required"),payment_terms:v.ai().typeError("Enter a valid payment terms").required("Payment terms are required"),category:v.ai().typeError("Enter a valid category").required("Category is required")}).required(),N=(0,r.forwardRef)(((e,t)=>{var n,v,N,P,_,S,O,C,E,I,T,D,$,k,B,R,F,U,q,L,G,z,V,M;let{photo:K,setPhoto:Y,onSubmit:W,defaultValues:Q}=e;const[Z,J]=(0,r.useState)(!1),[H,X]=(0,r.useState)(""),[ee,te]=(0,r.useState)(""),ne=(0,d.I)({queryKey:["countries"],queryFn:y.X6,enabled:!0}),re=(0,d.I)({queryKey:["states",H],queryFn:()=>(0,y.nP)(H),enabled:!!H,retry:1}),se=(0,d.I)({queryKey:["cities",ee],queryFn:()=>(0,y.i6)(ee),enabled:!!ee}),ae=(0,d.I)({queryKey:["categories"],queryFn:y.Ql}),{control:le,register:oe,handleSubmit:ie,formState:{errors:ce},setValue:de}=(0,o.mN)({resolver:(0,c.t)(A),defaultValues:Q});return(0,r.useEffect)((()=>{var e,t,n,r;null!==Q&&void 0!==Q&&null!==(e=Q.address)&&void 0!==e&&e.country&&X(null===Q||void 0===Q||null===(t=Q.address)||void 0===t?void 0:t.country),null!==Q&&void 0!==Q&&null!==(n=Q.address)&&void 0!==n&&n.state&&te(null===Q||void 0===Q||null===(r=Q.address)||void 0===r?void 0:r.state)}),[null===Q||void 0===Q?void 0:Q.address]),(0,r.useEffect)((()=>{var e;if(null!==ae&&void 0!==ae&&null!==(e=ae.data)&&void 0!==e&&e.length&&!Q.category){var t;let e=null===(t=ae.data)||void 0===t?void 0:t.find((e=>"regular"===e.name.toLowerCase()));e.name&&de("category",e.id)}}),[null===ae||void 0===ae?void 0:ae.data,Q,de]),(0,w.jsxs)("form",{ref:t,onSubmit:ie(W),children:[(0,w.jsxs)(s.A,{className:(0,u.A)(g.A.bgGreay,"pt-0"),children:[(0,w.jsxs)(a.A,{sm:12,children:[(0,w.jsxs)("div",{className:(0,u.A)(g.A.fileUploadBox,"cursor-pointer"),onClick:()=>J(!0),children:[(0,w.jsx)("div",{className:(0,u.A)(g.A.uploadedImgBox),children:K?(0,w.jsx)("img",{src:(null===K||void 0===K?void 0:K.croppedImageBase64)||K,alt:"profile-img"}):(0,w.jsx)(l.A,{size:32,color:"#667085"})}),(0,w.jsx)("p",{className:(0,u.A)("mb-0",g.A.uploadedText1),children:(0,w.jsx)("span",{className:(0,u.A)("mb-0",g.A.uploadedText2),children:"Click to upload"})}),(0,w.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,w.jsx)(b.A,{show:Z,setShow:J,setPhoto:Y,shape:"round"})]}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsxs)("label",{className:(0,u.A)(g.A.lable),children:["First Name",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)(p.C,{children:[(0,w.jsx)(h.m,{children:ce.firstname&&(0,w.jsx)("img",{src:j.A,className:"mb-3"})}),(0,w.jsx)(f.S,{...oe("firstname"),className:(0,u.A)(g.A.inputText,{[g.A.error]:ce.firstname}),placeholder:"Enter first name"})]}),ce.firstname&&(0,w.jsx)("p",{className:"error-message",children:ce.firstname.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsxs)("label",{className:(0,u.A)(g.A.lable),children:["Last Name",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)(p.C,{children:[(0,w.jsx)(h.m,{children:ce.lastname&&(0,w.jsx)("img",{src:j.A,className:"mb-3"})}),(0,w.jsx)(f.S,{...oe("lastname"),className:(0,u.A)(g.A.inputText,{[g.A.error]:ce.lastname}),placeholder:"Enter last name"})]}),ce.lastname&&(0,w.jsx)("p",{className:"error-message",children:ce.lastname.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsxs)("label",{className:(0,u.A)(g.A.lable),children:["Email",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)(p.C,{children:[(0,w.jsx)(h.m,{children:ce.email&&(0,w.jsx)("img",{src:j.A,className:"mb-3"})}),(0,w.jsx)(f.S,{...oe("email"),className:(0,u.A)(g.A.inputText,{[g.A.error]:ce.email}),placeholder:"example@email.com"})]}),ce.email&&(0,w.jsx)("p",{className:"error-message",children:ce.email.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"Phone number"}),(0,w.jsx)(o.xI,{name:"phone",control:le,render:e=>{let{field:t}=e;return(0,w.jsx)(i.LR,{defaultCountry:"au",value:t.value,className:"phoneInput rounded",containerClass:g.A.countrySelector,onChange:t.onChange,style:{border:"1px solid "+(ce.phone?"red":"#dedede")}})}}),ce.phone&&(0,w.jsx)("p",{className:"error-message",children:ce.phone.message})]})})]}),(0,w.jsx)("h2",{className:(0,u.A)(g.A.headingInputs,"mt-4"),children:"Payment Terms"}),(0,w.jsxs)(s.A,{className:(0,u.A)(g.A.bgGreay),children:[(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsxs)("label",{className:(0,u.A)(g.A.lable),children:["Payment Terms",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(o.xI,{name:"payment_terms",control:le,render:e=>{let{field:t}=e;return(0,w.jsx)(m.m,{...t,options:[{value:1,label:"COD"},{value:0,label:"Prepaid"},{value:7,label:"Week"},{value:14,label:"Two weeks"},{value:30,label:"One month"}]||0,onChange:e=>{t.onChange(e.value)},className:(0,u.A)(g.A.dropdownSelect,"dropdown-height-fixed",{[g.A.error]:ce.payment_terms}),style:{height:"46px"},value:t.value,placeholder:"Select payment terms"})}}),ce.payment_terms&&(0,w.jsx)("p",{className:"error-message",children:ce.payment_terms.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsxs)("label",{className:(0,u.A)(g.A.lable),children:["Customers Discount Category",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(o.xI,{name:"category",control:le,render:e=>{var t;let{field:n}=e;return(0,w.jsx)(m.m,{...n,options:[...ae&&(null===(t=ae.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:`${e.name} - ${e.value}%`}))))||[]],onChange:e=>{n.onChange(e.value)},className:(0,u.A)(g.A.dropdownSelect,"dropdown-height-fixed",{[g.A.error]:ce.category}),style:{height:"46px"},value:n.value,loading:null===ae||void 0===ae?void 0:ae.isFetching,placeholder:"Select a category"})}}),ce.category&&(0,w.jsx)("p",{className:"error-message",children:ce.category.message})]})})]}),(0,w.jsx)("h2",{className:(0,u.A)(g.A.headingInputs),children:"Locations"}),(0,w.jsxs)(s.A,{className:(0,u.A)(g.A.bgGreay),children:[(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"Location Name"}),(0,w.jsxs)(p.C,{children:[(0,w.jsx)(h.m,{children:(null===(n=ce.address)||void 0===n?void 0:n.title)&&(0,w.jsx)("img",{src:j.A,className:"mb-3"})}),(0,w.jsx)(f.S,{...oe("address.title"),className:(0,u.A)(g.A.inputText,{[g.A.error]:null===(v=ce.address)||void 0===v?void 0:v.title}),placeholder:"Enter location name"})]}),(null===(N=ce.address)||void 0===N?void 0:N.title)&&(0,w.jsx)("p",{className:"error-message",children:null===(P=ce.address)||void 0===P||null===(_=P.title)||void 0===_?void 0:_.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"Country"}),(0,w.jsx)(o.xI,{name:"address.country",control:le,defaultValue:"",render:e=>{var t;let{field:n}=e;return(0,w.jsx)(m.m,{...n,options:ne&&(null===(t=ne.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(e.value),X(e.value)},className:(0,u.A)(g.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:n.value,loading:null===ne||void 0===ne?void 0:ne.isFetching,placeholder:"Select a country"})}}),(null===(S=ce.address)||void 0===S?void 0:S.country)&&(0,w.jsx)("p",{className:"error-message",children:null===(O=ce.address)||void 0===O||null===(C=O.country)||void 0===C?void 0:C.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"State"}),(0,w.jsx)(o.xI,{name:"address.state",control:le,defaultValue:"",render:e=>{var t;let{field:n}=e;return(0,w.jsx)(m.m,{...n,options:re&&(null===(t=re.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(e.value),te(e.value)},className:(0,u.A)(g.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:n.value,loading:null===re||void 0===re?void 0:re.isFetching,placeholder:"Select a state",filter:!0})}}),(null===(E=ce.address)||void 0===E?void 0:E.state)&&(0,w.jsx)("p",{className:"error-message",children:null===(I=ce.address)||void 0===I||null===(T=I.state)||void 0===T?void 0:T.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"City/Suburb"}),(0,w.jsx)(o.xI,{name:"address.city",control:le,defaultValue:"",render:e=>{var t;let{field:n}=e;return(0,w.jsx)(m.m,{...n,options:se&&(null===(t=se.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(e.value)},className:(0,u.A)(g.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:n.value,loading:null===se||void 0===se?void 0:se.isFetching,placeholder:"Select a city",filter:!0})}}),(null===(D=ce.address)||void 0===D?void 0:D.city)&&(0,w.jsx)("p",{className:"error-message",children:null===($=ce.address)||void 0===$||null===(k=$.city)||void 0===k?void 0:k.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"Street Address"}),(0,w.jsxs)(p.C,{children:[(0,w.jsx)(h.m,{children:(null===(B=ce.address)||void 0===B?void 0:B.address)&&(0,w.jsx)("img",{src:j.A,className:"mb-3"})}),(0,w.jsx)(f.S,{...oe("address.address"),className:(0,u.A)(g.A.inputText,{[g.A.error]:null===(R=ce.address)||void 0===R?void 0:R.address}),placeholder:"Enter street address"})]}),(null===(F=ce.address)||void 0===F?void 0:F.address)&&(0,w.jsx)("p",{className:"error-message",children:null===(U=ce.address)||void 0===U||null===(q=U.address)||void 0===q?void 0:q.message})]})}),(0,w.jsx)(a.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"Postcode"}),(0,w.jsxs)(p.C,{children:[(0,w.jsx)(h.m,{children:(null===(L=ce.address)||void 0===L?void 0:L.postcode)&&(0,w.jsx)("img",{src:j.A,className:"mb-3"})}),(0,w.jsx)(f.S,{...oe("address.postcode"),keyfilter:"int",className:(0,u.A)(g.A.inputText,{[g.A.error]:null===(G=ce.address)||void 0===G?void 0:G.postcode}),placeholder:"Enter postcode"})]}),(null===(z=ce.address)||void 0===z?void 0:z.postcode)&&(0,w.jsx)("p",{className:"error-message",children:null===(V=ce.address)||void 0===V||null===(M=V.postcode)||void 0===M?void 0:M.message})]})})]}),(0,w.jsx)("h2",{className:(0,u.A)(g.A.headingInputs),children:"Client Description"}),(0,w.jsx)(s.A,{className:(0,u.A)(g.A.bgGreay),children:(0,w.jsx)(a.A,{children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(g.A.lable),children:"Description"}),(0,w.jsxs)(p.C,{children:[(0,w.jsx)(h.m,{style:{top:"80%"},children:ce.description&&(0,w.jsx)("img",{src:j.A})}),(0,w.jsx)(x.Z,{...oe("description"),rows:5,cols:30,className:(0,u.A)(g.A.inputText,{[g.A.error]:ce.description}),style:{resize:"none"},placeholder:"Enter a description..."})]}),ce.description&&(0,w.jsx)("p",{className:"error-message",children:ce.description.message})]})})})]})}))},20685:(e,t,n)=>{n.d(t,{A:()=>r});const r={circledesignstyle:"new-client-create_circledesignstyle__sG0j7",out:"new-client-create_out__UsInp",tab:"new-client-create_tab__IdlaT",iconBox:"new-client-create_iconBox__AupEc",tabText:"new-client-create_tabText__RSTYW",active:"new-client-create_active__2eoaJ",bgGreay:"new-client-create_bgGreay__y1jMx",fileUploadBox:"new-client-create_fileUploadBox__n9KJX",uploadedImgBox:"new-client-create_uploadedImgBox__rHsYh",uploadedText1:"new-client-create_uploadedText1__9ZZMJ",uploadedText2:"new-client-create_uploadedText2__PeAVp",lable:"new-client-create_lable__mDL9D",inputText:"new-client-create_inputText__Y-va7",error:"new-client-create_error__YI1Tz",phoneInput:"new-client-create_phoneInput__oIg7A",countrySelector:"new-client-create_countrySelector__fLpJG",headingInputs:"new-client-create_headingInputs__X8li4",dropdownSelect:"new-client-create_dropdownSelect__CZFIr",tempDelete:"new-client-create_tempDelete__q+CA0",tempAdd:"new-client-create_tempAdd__PhaaR"}},28676:(e,t,n)=>{n.d(t,{C:()=>f});var r=n(65043),s=n(84052),a=n(2028),l=n(4504);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function d(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={root:function(e){var t=e.props;return(0,l.xW)("p-icon-field",{"p-icon-field-right":"right"===t.iconPosition,"p-icon-field-left":"left"===t.iconPosition})}},m=n(41828).x.extend({defaultProps:{__TYPE:"IconField",__parentMetadata:null,children:void 0,className:null,iconPosition:"right"},css:{classes:u}});function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=r.memo(r.forwardRef((function(e,t){var n=(0,r.useRef)(t),i=(0,a.qV)(),c=(0,r.useContext)(s.UM),d=m.getProps(e,c),u=m.setMetaData(h(h({props:d},d.__parentMetadata),{},{context:{iconPosition:d.iconPosition}})),p=u.ptm,f=u.cx,x=i({className:(0,l.xW)(d.className,f("root",{iconPosition:d.iconPosition}))},m.getOtherProps(d),p("root"));return r.createElement("div",o({},x,{ref:n}),r.Children.map(d.children,(function(e,t){return(0,r.cloneElement)(e,{iconPosition:d.iconPosition})})))})));f.displayName="IconField"},31342:(e,t,n)=>{n.d(t,{f:()=>r});const r=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:r="GET",headers:s={},body:a}=t,l=localStorage.getItem("access_token"),o=a instanceof FormData,i={"Content-Type":o?"multipart/form-data":"application/json",...s};n&&(i.Authorization=`Bearer ${l}`);const c={method:r,headers:i,body:o?a:JSON.stringify(a),redirect:"follow"};try{const t=new URL(`${e}`),n=await fetch(t,c);if(!n.ok){if(401===n.status&&(window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace("/login")),404===n.status)throw new Error("Not found");throw new Error(`HTTP error! Status: ${n.status}`)}const r=n.headers.get("Content-Type");if(r&&r.includes("application/json"))return await n.json();return{message:"Non-JSON response",body:await n.text()}}catch(d){throw console.error("Fetch API error:",d),d}}},59638:(e,t,n)=>{n.d(t,{EZ:()=>l,F1:()=>g,Fl:()=>m,OF:()=>i,QK:()=>f,Ql:()=>o,X6:()=>c,Ye:()=>x,ab:()=>y,i6:()=>u,kB:()=>j,nP:()=>d,o6:()=>h,oO:()=>a,oo:()=>p,zZ:()=>v});var r=n(31342);const s="https://app.memate.com.au/api/v1",a=async e=>{const t=new URL(`${s}${`/clients/restore/${e}/`}`);return(0,r.f)(t.toString(),{method:"POST"})},l=async e=>{const t=new URL(`${s}${`/clients/${e}/`}`);return(0,r.f)(t.toString(),{method:"GET"})},o=async()=>{const e=new URL(`${s}/references/clients/categories/`);return(0,r.f)(e.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${s}/references/clients/industries/`);return(0,r.f)(e.toString(),{method:"GET"})},c=async()=>{const e=new URL(`${s}/references/countries/`);return(0,r.f)(e.toString(),{method:"GET"},!1)},d=async e=>{const t=new URL(`${s}${`/references/states/${e}/`}`);return(0,r.f)(t.toString(),{method:"GET"},!1)},u=async e=>{const t=new URL(`${s}${`/references/cities/${e}/`}`);return(0,r.f)(t.toString(),{method:"GET"},!1)},m=async()=>{const e=new URL(`${s}/references/desktop-users/`);return(0,r.f)(e.toString(),{method:"GET"})},p=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4?arguments[4]:void 0;const o=(e-1)*t,i=new URL(`${s}/clients/`);return i.searchParams.append("limit",t),i.searchParams.append("offset",o),n&&i.searchParams.append("name",n),a&&i.searchParams.append("ordering",a),l&&i.searchParams.append("deleted",1),(0,r.f)(i.toString(),{method:"GET"})},h=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const o=(t-1)*n,i=new URL(`${s}${`/clients/${e}/orders/`}`);return i.searchParams.append("limit",n),i.searchParams.append("offset",o),a&&i.searchParams.append("number",a),l&&i.searchParams.append("ordering",l),(0,r.f)(i.toString(),{method:"GET"})},f=async e=>{const t=new URL(`${s}${`/clients/address/${e}/main`}`);return(0,r.f)(t.toString(),{method:"PUT"})},x=async e=>{const t=new URL(`${s}${`/clients/contact-persons/${e}/main`}`);return(0,r.f)(t.toString(),{method:"PUT"})},v=async e=>{const t=new URL(`${s}${`/clients/delete/${e}/`}`);return(0,r.f)(t.toString(),{method:"DELETE"})},g=async e=>{const t=new URL(`${s}${`/clients/contact-persons/${e}/delete/`}`);return(0,r.f)(t.toString(),{method:"DELETE"})},y=async e=>{const t=new URL(`${s}${`/clients/address/${e}/delete/`}`);return(0,r.f)(t.toString(),{method:"DELETE"})},j=async e=>{const t={method:"PUT",body:{unique_id:e}},n=new URL(`${s}/projects/back/`);return(0,r.f)(n.toString(),t)}},63882:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(65043),s=n(32952),a=n(14282),l=n(76163),o=n(69956),i=n(89488),c=n(55683),d=n(58387),u=n(73722);const m="file-uploader_title__+HTTy",p="file-uploader_previewSection__mnNRf",h="file-uploader_previewBox__j6psm",f="file-uploader_previewBoxImg1__SR-1w",x="file-uploader_previewBoxImg2__zYCKK",v="file-uploader_previewBoxImg3__YNTWI",g="file-uploader_previewBoxImg4__cRl+e",y="file-uploader_previewBoxImg5__GzHFj",j="file-uploader_previewActions__UO1dp",b="file-uploader_label__Udhfq";var w=n(70579);const A=e=>{let{show:t,setShow:n,setPhoto:A,additionalDesign:N,shape:P="rect"}=e;const[_,S]=(0,r.useState)([]),[O,C]=(0,r.useState)({x:0,y:0}),[E,I]=(0,r.useState)(1),[T,D]=(0,r.useState)(0),[$,k]=(0,r.useState)(null),[B,R]=(0,r.useState)({}),F=(0,r.useCallback)(((e,t)=>{k(t)}),[]),U=(0,r.useCallback)((async()=>{if(!_.length||!$)return;const e=document.createElement("canvas"),t=e.getContext("2d"),n=new Image;n.src=_[0].preview,await new Promise((e=>n.onload=e)),e.width=$.width,e.height=$.height,t.translate(e.width/2,e.height/2),t.rotate(T*Math.PI/180),t.translate(-e.width/2,-e.height/2),t.drawImage(n,$.x,$.y,$.width,$.height,0,0,$.width,$.height);return e.toDataURL("image/jpeg")}),[_,$,T]),q=async()=>{const e=await U();e&&R({img2:e,img3:e,img4:e,img5:e})};(0,r.useEffect)((()=>{q()}),[E,O,T,_,$]);const{getRootProps:L,getInputProps:G}=(0,i.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{S(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,w.jsxs)(s.A,{style:{zIndex:1111},show:t,centered:!0,onHide:()=>n(!1),onShow:q,children:[(0,w.jsx)(s.A.Header,{closeButton:!0,children:(0,w.jsx)(s.A.Title,{children:(0,w.jsx)("span",{className:`${m}`,children:"Edit Photo"})})}),(0,w.jsxs)(s.A.Body,{children:[N,(0,w.jsxs)("div",{className:`${p}`,children:[(0,w.jsxs)("div",{className:`${h}`,children:[(0,w.jsx)("div",{className:(0,d.A)(f,"round"===P?"rounded-circle":""),children:(0,w.jsx)(c.Ay,{image:_.length>0?_[0].preview:null,crop:O,zoom:E,cropShape:P,rotation:T,onCropChange:C,onZoomChange:I,onCropComplete:F,aspect:1,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,w.jsx)("div",{className:(0,d.A)(x,"round"===P?"rounded-circle":""),children:B.img2&&(0,w.jsx)("img",{src:B.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,w.jsx)("div",{className:(0,d.A)(v,"round"===P?"rounded-circle":""),children:B.img3&&(0,w.jsx)("img",{src:B.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,w.jsx)("div",{className:(0,d.A)(g,"round"===P?"rounded-circle":""),children:B.img4&&(0,w.jsx)("img",{src:B.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,w.jsx)("div",{className:(0,d.A)(y,"round"===P?"rounded-circle":""),children:B.img5&&(0,w.jsx)("img",{src:B.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,w.jsxs)("div",{className:`${j}`,children:[(0,w.jsxs)(u.A.Group,{children:[(0,w.jsx)(u.A.Label,{className:`${b}`,children:"Zoom"}),(0,w.jsx)(u.A.Range,{value:E,min:1,max:3,step:.1,className:"custom-range",onChange:e=>I(e.target.value)})]}),(0,w.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,w.jsxs)(a.A,{className:"text-button",onClick:()=>{D((e=>(e+90)%360))},children:[(0,w.jsx)(l.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,w.jsxs)("div",{...L({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,w.jsx)("input",{...G()}),(0,w.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,w.jsx)(o.A,{})}),(0,w.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,w.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,w.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,w.jsxs)(s.A.Footer,{className:"d-flex justify-content-end",children:[(0,w.jsx)(a.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),S([]),R({}),A(null),n(!1)},children:"Cancel"}),(0,w.jsx)(a.A,{className:"solid-button",onClick:async()=>{const e=await U(),t=function(e,t){const n=atob(e.split(",")[1]),r=new ArrayBuffer(n.length),s=new Uint8Array(r);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return new Blob([r],{type:t})}(e,"image/jpeg");A({croppedImageBase64:e,croppedImageBlob:t}),n(!1)},children:"Save Photo"})]})]})}},64416:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),s=n(65173),a=n.n(s),l=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}var i=(0,r.forwardRef)((function(e,t){var n=e.color,s=void 0===n?"currentColor":n,a=e.size,i=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,m=void 0===u?"":u,p=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,l);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:s,className:["bi","bi-card-list",m].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"}),r.createElement("path",{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"}))}));i.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=i},72052:(e,t,n)=>{n.d(t,{S:()=>g});var r=n(65043),s=n(84052),a=n(41828),l=n(2028),o=n(2224),i=n(1356),c=n(4504);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function p(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={root:function(e){var t=e.props,n=e.isFilled,r=e.context;return(0,c.xW)("p-inputtext p-component",{"p-disabled":t.disabled,"p-filled":n,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:r&&"filled"===r.inputStyle})}},f=a.x.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,iconPosition:null},css:{classes:h}});function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=r.memo(r.forwardRef((function(e,t){var n=(0,l.qV)(),u=r.useContext(s.UM),m=f.getProps(e,u),p=f.setMetaData(v(v({props:m},m.__parentMetadata),{},{context:{disabled:m.disabled,iconPosition:m.iconPosition}})),h=p.ptm,x=p.cx,g=p.isUnstyled;(0,a.j)(f.css.styles,g,{name:"inputtext",styled:!0});var y=r.useRef(t);r.useEffect((function(){c.BF.combinedRefs(y,t)}),[y,t]);var j=r.useMemo((function(){return c.BF.isNotEmpty(m.value)||c.BF.isNotEmpty(m.defaultValue)}),[m.value,m.defaultValue]),b=c.BF.isNotEmpty(m.tooltip);r.useEffect((function(){var e;j||null!==(e=y.current)&&void 0!==e&&e.value?c.DV.addClass(y.current,"p-filled"):c.DV.removeClass(y.current,"p-filled")}),[m.disabled,j]);var w=n({className:(0,c.xW)(m.className,x("root",{context:u,isFilled:j})),onBeforeInput:function(e){m.onBeforeInput&&m.onBeforeInput(e),m.keyfilter&&o.Q.onBeforeInput(e,m.keyfilter,m.validateOnly)},onInput:function(e){var t=e.target,n=!0;m.keyfilter&&m.validateOnly&&(n=o.Q.validate(e,m.keyfilter)),m.onInput&&m.onInput(e,n),c.BF.isNotEmpty(t.value)?c.DV.addClass(t,"p-filled"):c.DV.removeClass(t,"p-filled")},onKeyDown:function(e){m.onKeyDown&&m.onKeyDown(e),m.keyfilter&&o.Q.onKeyPress(e,m.keyfilter,m.validateOnly)},onPaste:function(e){m.onPaste&&m.onPaste(e),m.keyfilter&&o.Q.onPaste(e,m.keyfilter,m.validateOnly)}},f.getOtherProps(m),h("root"));return r.createElement(r.Fragment,null,r.createElement("input",d({ref:y},w)),b&&r.createElement(i.m,d({target:y,content:m.tooltip,pt:h("tooltip")},m.tooltipOptions)))})));g.displayName="InputText"},74532:(e,t,n)=>{n.d(t,{m:()=>f});var r=n(65043),s=n(2028),a=n(84052),l=n(41828),o=n(4504);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=l.x.extend({defaultProps:{__TYPE:"InputIcon",__parentMetadata:null,className:null,iconPosition:null},css:{classes:{root:"p-input-icon"}}});function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=r.memo(r.forwardRef((function(e,t){var n=(0,r.useRef)(t),l=(0,s.qV)(),c=(0,r.useContext)(a.UM),d=m.getProps(e,c),u=m.setMetaData(h(h({props:d},d.__parentMetadata),{},{context:{iconPosition:d.iconPosition}})),p=u.ptm,f=u.cx,x=l({className:(0,o.xW)(d.className,f("root"))},m.getOtherProps(d),p("root"));return r.createElement(r.Fragment,null,r.createElement("span",i({},x,{ref:n}),d.children))})));f.displayName="InputIcon"},76199:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(65043),s=n(61072),a=n(38294),l=n(95192),o=n(36237),i=n(64416),c=n(73216),d=n(35475),u=n(63712),m=n(56328),p=n(17344),h=n(70579);const f=()=>{const{id:e}=(0,c.g)(),t=(0,c.Zp)(),n=(0,r.useRef)(null),[f,x]=(0,r.useState)(null),[v,g]=(0,r.useState)(!1),[y]=(0,r.useState)({payment_terms:1,category:"",address:{country:1}});return(0,h.jsx)("div",{className:"newQuotePage existingClients borderSkyColor",children:(0,h.jsxs)("div",{style:{height:"calc(100vh - 249px)"},children:[(0,h.jsx)("div",{className:"newQuoteBack",children:(0,h.jsx)(d.k2,{to:e?"/sales/newquote/selectyourclient/existing-clients":"/sales/newquote/selectyourclient/new-clients",children:(0,h.jsxs)("button",{children:[(0,h.jsx)(a.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,h.jsxs)("div",{className:"newQuoteContent h-100",children:[(0,h.jsx)("div",{className:"navStepClient",children:(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:[(0,h.jsx)("span",{children:(0,h.jsx)(l.A,{color:"#D0D5DD",size:15})})," ",(0,h.jsx)("p",{children:"Choose Client"})]}),(0,h.jsxs)("li",{className:"activeClientTab",children:[(0,h.jsx)("span",{children:(0,h.jsx)(o.A,{color:"#D0D5DD",size:15})})," ",(0,h.jsx)("p",{children:"Client Information"})," "]}),(0,h.jsxs)("li",{className:"deactiveColorBox",children:[(0,h.jsx)("span",{children:(0,h.jsx)(i.A,{color:"#D0D5DD",size:15})})," ",(0,h.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,h.jsxs)("div",{className:"individual height customscrollBar",children:[(0,h.jsx)("div",{className:"formgroupWrap1",children:(0,h.jsx)("ul",{className:"mt-4",children:(0,h.jsx)("li",{children:(0,h.jsxs)(d.k2,{className:"ActiveClient businessTab",to:"#",children:[(0,h.jsx)("span",{children:(0,h.jsx)(l.A,{color:"#667085",size:24})})," Individual Client"]})})})}),(0,h.jsx)("div",{className:"formgroupboxs",style:{padding:"24px 10px 0px 10px"},children:(0,h.jsx)(s.A,{className:"text-left pt-3 rounded px-2",style:{background:"#fff"},children:(0,h.jsx)(p.A,{photo:f,setPhoto:x,ref:n,onSubmit:async e=>{const n=new FormData;if(n.append("firstname",e.firstname),n.append("lastname",e.lastname),n.append("email",e.email),n.append("phone",e.phone),"0"!=e.category&&n.append("category",e.category),n.append("payment_terms",e.payment_terms),e.description&&n.append("description",e.description),e.address.city&&(n.append("address.country",e.address.country),n.append("address.title",e.address.title),n.append("address.city",e.address.city),n.append("address.address",e.address.address),n.append("address.state",e.address.state),n.append("address.postcode",e.address.postcode),e.address.id&&n.append("address.id",e.address.id)),null!==f&&void 0!==f&&f.croppedImageBlob){const e=(0,u.Ak)(6);n.append("photo",f.croppedImageBlob,`${e}.jpg`)}try{g(!0);const e=localStorage.getItem("access_token"),r=await fetch("https://app.memate.com.au/api/v1/clients/individual/new/",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:n});if(r.ok){m.oR.success("New client created successfully");const e=await r.json();t(`/sales/newquote/selectyourclient/client-information/scope-of-work/${null===e||void 0===e?void 0:e.client}`)}else{const e=await r.json();m.oR.error(e||"Failed to create new client. Please try again.")}}catch(r){console.log("Error in creating new business client: ",r),m.oR.error("Failed to create new client. Please try again.")}finally{g(!1)}},defaultValues:y})})})]}),(0,h.jsxs)("div",{className:"individual bottomBox",children:[(0,h.jsx)(d.N_,{to:"/sales",children:(0,h.jsx)("button",{type:"button",className:"cancel-button",children:"Cancel"})}),(0,h.jsx)("button",{type:"button",disabled:v,onClick:()=>{n.current&&n.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},className:"submit-button",children:v?"Loading...":"Next Step"})]})]})]})})}},96440:e=>{var t=function(){};e.exports=t}}]);
//# sourceMappingURL=5410.b933bf34.chunk.js.map