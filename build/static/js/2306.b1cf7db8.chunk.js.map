{"version":3,"file":"static/js/2306.b1cf7db8.chunk.js","mappings":"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","sources":["shared/lib/access-control/permission.js","shared/lib/format-aud.js","APIs/invoice-api.js","webpack://memateapp/./src/components/Business/Pages/invoices/invoice.module.scss?5b2a","webpack://memateapp/./src/components/Business/features/invoice-features/invoice-partial-payment/invoice-partial-payment.module.scss?0a83","components/Business/features/invoice-features/invoice-partial-payment/invoice-partial-payment.js","components/Business/features/invoice-features/resend-email/resend-email.js","components/Business/features/invoice-features/send-email/send-email.js","components/Business/Pages/invoices/invoices-table.js","components/Business/features/invoice-features/create-statement/create-statement.js","webpack://memateapp/./src/components/Business/features/invoice-features/invoice-filters/invoice-dropdown.module.scss?cd57","components/Business/features/invoice-features/invoice-filters/invoice-dropdown.js","components/Business/features/invoice-features/invoice-filters/invoices-filters.js","components/Business/Pages/invoices/index.js","webpack://memateapp/./src/ui/image-with-fallback/image-avatar.module.scss?81d4","ui/image-with-fallback/image-avatar.jsx","shared/lib/access-control/role.js","shared/lib/access-control/role-permission.js","webpack://memateapp/./src/ui/no-data-template/no-data-found-template.module.scss?18de","ui/no-data-template/no-data-found-template.js"],"sourcesContent":["export const PERMISSIONS = Object.freeze({\n    CLIENTS: {\n        CREATE: 'CREATE_CLIENT',\n        READ: 'READ_CLIENT',\n        UPDATE: 'UPDATE_CLIENT',\n        DELETE: 'DELETE_CLIENT',\n    },\n    SUPPLIERS: {\n        CREATE: 'CREATE_SUPPLIER',\n        READ: 'READ_SUPPLIER',\n        UPDATE: 'UPDATE_SUPPLIER',\n        DELETE: 'DELETE_SUPPLIER',\n    },\n    SALES: {},\n    MANAGEMENT: {},\n    PROJECTS: {},\n    STATISTIC: {},\n    EXPENSE: {\n        CREATE: 'CREATE_EXPENSE',\n        READ: 'READ_EXPENSE',\n        UPDATE: 'UPDATE_EXPENSE',\n        DELETE: 'DELETE_EXPENSE',\n    },\n    INVOICE: {\n        CREATE: 'CREATE_INVOICE',\n        READ: 'READ_INVOICE',\n        UPDATE: 'UPDATE_INVOICE',\n        DELETE: 'DELETE_INVOICE',\n    },\n    SETTINGS: {\n        SUBSCRIPTION: {\n            BUY_BUSINESS_SUBSCRIPTION: 'BUY_BUSINESS_SUBSCRIPTION',\n            CANCEL_BUSINESS_SUBSCRIPTION: 'CANCEL_BUSINESS_SUBSCRIPTION',\n            BUY_COMPANY_USER_SUBSCRIPTION: 'BUY_COMPANY_USER_SUBSCRIPTION',\n            BUY_WORK_SUBSCRIPTION: 'BUY_WORK_SUBSCRIPTION',\n            CANCEL_WORK_SUBSCRIPTION: 'CANCEL_WORK_SUBSCRIPTION',\n            ACTIVE_WORK_SUBSCRIPTION: 'ACTIVE_WORK_SUBSCRIPTION',\n            BUY_WORK_USER_SUBSCRIPTION: 'BUY_WORK_USER_SUBSCRIPTION',\n            BUY_LOCATION_SUBSCRIPTION: 'BUY_LOCATION_SUBSCRIPTION',\n            REMOVE_LOCATION_SUBSCRIPTION: 'REMOVE_LOCATION_SUBSCRIPTION',\n        },\n        USERS: {\n            MOBILE_APP: {\n                ADD: 'ADD_USER',\n                READ: 'READ_USER',\n                UPDATE: 'UPDATE_USER',\n                DISCONNECT_USER: 'DISCONNECT_USER',\n                RECONNECT_USER: 'RECONNECT_USER',\n                SHOW_DISCONNECTED_USERS: 'SHOW_DISCONNECTED_USERS',\n            },\n            DESKTOP: {\n                ADD: 'ADD_USER',\n                READ: 'READ_USER',\n                DELETE: 'DELETE_USER',\n                UPDATE: 'UPDATE_USER',\n                RESTORE: 'RESTORE_USER',\n                SHOW_DELETED_USERS: 'SHOW_DELETED_USERS',\n            },\n        },\n        LOCATION: {\n            ADD: 'ADD_LOCATION',\n            READ: 'READ_LOCATION',\n            UPDATE: 'UPDATE_LOCATION',\n            DELETE: 'DELETE_LOCATION'\n        },\n    }\n});\n","export function formatAUD(amount, shorten = false) {\n    const num = parseFloat(amount);\n\n    if (isNaN(num)) {\n        return \"0.00\";\n    }\n\n    if (shorten && Math.abs(num) >= 1000.00) {\n        return new Intl.NumberFormat('en-AU', {\n            notation: \"compact\",\n            compactDisplay: \"short\",\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        }).format(num);\n    }\n\n    return new Intl.NumberFormat('en-AU', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n    }).format(num);\n}","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfInvoice = async (page, limit, search = \"\", order = \"\", isShowUnpaid, filters) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/invoices/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  url.searchParams.append(\"limit\", limit);\n  url.searchParams.append(\"offset\", offset);\n  if (search) url.searchParams.append(\"search\", search);\n  if (order) url.searchParams.append(\"ordering\", order);\n  if (isShowUnpaid) url.searchParams.append('status', 'not_paid');\n\n  let clientsFilter = '';\n  if (filters?.client) {\n    clientsFilter = filters?.client?.map(client => client.id).join(',');\n  }\n  if (clientsFilter) url.searchParams.append('clients', clientsFilter);\n\n  let statusFilter = '';\n  if (filters?.status && filters?.status?.length === 1) {\n    filters?.status?.forEach(element => {\n      if (element?.name === 'Paid') statusFilter = 'paid';\n      else if (element?.name === 'Not Paid') statusFilter = 'not_paid';\n    });\n  }\n  if (statusFilter) url.searchParams.append('status', statusFilter);\n\n  if (filters?.date) {\n    const startDate = filters?.date[0]?.value?.[0];\n    if (startDate) {\n      const date = new Date(startDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      url.searchParams.append('create_date_after', `${year}-${month}-${day}`);\n    }\n\n    const endDate = filters?.date[0]?.value?.[1];\n    if (endDate) {\n      const date = new Date(endDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      url.searchParams.append('create_date_before', `${year}-${month}-${day}`);\n    }\n  }\n\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/view/${uniqueId}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const paymentIntentCreate = async (uniqueId, data) => {\n  const endpoint = `/invoices/payment-intent/${uniqueId}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const deleteInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/delete/${uniqueId}/`;\n  const options = {\n    method: 'DELETE'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceEmail = async (id, data) => {\n  const endpoint = `/invoices/send/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const resendInvoiceEmail = async (id, data) => {\n  const endpoint = `/resend/invoice/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const partialPaymentCreate = async (id, data) => {\n  const endpoint = `/invoices/partial-payment/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceToXeroApi = async (data) => {\n  const endpoint = `/invoices/to-xero/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markInvoiceAsPaid = async (id) => {\n  const endpoint = `/team/mobile-users/invoices/${id}/pay/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markInvoiceAsUnpaid = async (id) => {\n  const endpoint = `/team/mobile-users/invoices/${id}/unpay/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","// extracted by mini-css-extract-plugin\nexport default {\"filterBox\":\"invoice_filterBox__36jYC\",\"menu\":\"invoice_menu__XnbN-\",\"newButton\":\"invoice_newButton__Zwu50\",\"total\":\"invoice_total__9UXKw\",\"totalCount\":\"invoice_totalCount__5pnjp\",\"totalMoney\":\"invoice_totalMoney__B+H00\",\"clientImg\":\"invoice_clientImg__aSRSR\",\"ellipsis\":\"invoice_ellipsis__MToPC\",\"location\":\"invoice_location__98M5g\",\"active\":\"invoice_active__g3Bt5\",\"selectedCount\":\"invoice_selectedCount__5R4mY\",\"deletedRow\":\"invoice_deletedRow__iZM+L\",\"paidRow\":\"invoice_paidRow__+-UAI\",\"unpaidRow\":\"invoice_unpaidRow__7a9Tr\",\"partialPaidRow\":\"invoice_partialPaidRow__UIQwV\",\"fontStanderdSize\":\"invoice_fontStanderdSize__sKilw\",\"paid\":\"invoice_paid__8CgVs\",\"plusIcon\":\"invoice_plusIcon__paSYh\",\"unpaid\":\"invoice_unpaid__HNSOb\",\"partialPaid\":\"invoice_partialPaid__YSX48\",\"status\":\"invoice_status__Zlf8W\",\"inactive\":\"invoice_inactive__mkKPg\",\"actionButton\":\"invoice_actionButton__vFx0E\",\"shakeText\":\"invoice_shakeText__KJ+lD\",\"tilt-n-move-shaking\":\"invoice_tilt-n-move-shaking__fv6o8\",\"allInvoice\":\"invoice_allInvoice__T+ods\",\"unpaidInvoice\":\"invoice_unpaidInvoice__qngZ9\",\"payInvoiceButton\":\"invoice_payInvoiceButton__AoSIv\",\"onHover\":\"invoice_onHover__Gg9HO\",\"normal\":\"invoice_normal__DF2W5\"};","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"invoice-partial-payment_modal__Dbqcb\",\"modalHeader\":\"invoice-partial-payment_modalHeader__O5yS9\",\"border\":\"invoice-partial-payment_border__Iepxr\",\"lable\":\"invoice-partial-payment_lable__dtrrk\",\"inputText\":\"invoice-partial-payment_inputText__CTim0\",\"error\":\"invoice-partial-payment_error__RZeCG\",\"box\":\"invoice-partial-payment_box__r-bzO\",\"box2\":\"invoice-partial-payment_box2__buWFO\",\"box3\":\"invoice-partial-payment_box3__1L6cb\",\"box4\":\"invoice-partial-payment_box4__Hfap-\",\"box5\":\"invoice-partial-payment_box5__6Wn2j\",\"box6\":\"invoice-partial-payment_box6__cjGiq\",\"box8\":\"invoice-partial-payment_box8__e1Nzw\",\"box7\":\"invoice-partial-payment_box7__fQGnQ\",\"text\":\"invoice-partial-payment_text__vazCt\",\"borderTable\":\"invoice-partial-payment_borderTable__rNXbt\"};","import React, { useEffect, useState } from 'react';\nimport { Card } from 'react-bootstrap';\nimport { Bank, Cash, CreditCard, FilePdf, Link as LinkIcon, Stripe } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { Button } from 'primereact/button';\nimport { Column } from 'primereact/column';\nimport { DataTable } from 'primereact/datatable';\nimport { Dialog } from 'primereact/dialog';\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputNumber } from 'primereact/inputnumber';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { SelectButton } from 'primereact/selectbutton';\nimport { toast } from 'sonner';\nimport style from './invoice-partial-payment.module.scss';\nimport { partialPaymentCreate } from '../../../../../APIs/invoice-api';\nimport { formatAUD } from '../../../../../shared/lib/format-aud';\n\nconst headerElement = (\n    <div className={`${style.modalHeader}`}>\n        <div className=\"d-flex align-items-center gap-2\">\n            Confirm Payment\n        </div>\n    </div>\n);\n\nconst InvoicePartialPayment = ({ show, setShow, invoice, setRefetch }) => {\n    const [isShowHistory, setIsShowHistory] = useState(false);\n    const [deposit, setDeposit] = useState(0.00);\n    const [type, setType] = useState(2);\n    const [errors, setErrors] = useState({});\n    const options = [\n        { icon: <Bank size={20} />, label: 'Bank', value: 2 },\n        { icon: <Cash size={20} />, label: 'Cash', value: 1 },\n        { icon: <CreditCard size={20} />, label: 'EFTPOS', value: 4 },\n    ];\n    const justifyTemplate = (option) => {\n        return <div className='d-flex align-items-center gap-2'>\n            {option.icon}\n            {option.label}\n        </div>;\n    };\n    const mutation = useMutation({\n        mutationFn: (data) => partialPaymentCreate(invoice?.unique_id, data),\n        onSuccess: () => {\n            setShow(false);\n            setRefetch((old) => !old);\n            toast.success(`Partial payment is completed successfully.`);\n        },\n        onError: (error) => {\n            console.error('Failed to payment:', error);\n            toast.error(`Failed to payment. Please try again.`);\n        }\n    });\n\n    const onsubmit = () => {\n        let errorCount = 0;\n        setErrors({});\n\n        if (!type) {\n            errorCount++;\n            setErrors((others) => ({ ...others, type: true }));\n        }\n        if (!deposit) {\n            errorCount++;\n            setErrors((others) => ({ ...others, deposit: true }));\n        }\n        if (errorCount) return;\n        mutation.mutate({ deposit, type });\n    };\n\n    useEffect(() => {\n        setErrors({});\n        setDeposit(0.00);\n        setType(2);\n    }, [show]);\n\n    return (\n        <Dialog\n            visible={show}\n            modal={true}\n            header={headerElement}\n            onHide={setShow}\n            className={`${style.modal} custom-modal custom-scroll-integration`}\n        >\n            <Card className={clsx(style.border, 'mb-3')}>\n                <Card.Body>\n                    <label>Select Payment Method</label>\n                    <div className='d-flex justify-content-between align-items-center'>\n                        <div className='d-flex flex-column pt-2'>\n                            <SelectButton className='rounded' value={type} onChange={(e) => setType(e.value)} itemTemplate={justifyTemplate} optionLabel=\"label\" options={options} />\n                            {errors?.type && (\n                                <p className=\"error-message mb-0\">{\"Payment type is required\"}</p>\n                            )}\n                        </div>\n\n                        <div className='d-flex gap-2 align-items-center'>\n                            <Link to={`${invoice?.invoice_url}`} target='_blank'>\n                                <Button className=\"danger-outline-button px-3 py-2\">\n                                    <FilePdf color='#F04438' size={17} />\n                                </Button>\n                            </Link>\n                            <Link to={`/invoice/${invoice?.unique_id}`} target='_blank'>\n                                <Button className=\"info-button px-3 py-2\">\n                                    <LinkIcon color='#158ECC' size={17} />\n                                </Button>\n                            </Link>\n                        </div>\n                    </div>\n                </Card.Body>\n            </Card>\n\n            <Card className={clsx(style.border, 'mb-3')}>\n                <Card.Body>\n                    <div className='d-flex justify-content-between gap-3 align-items-center'>\n                        <div className='d-flex flex-column flex-fill'>\n                            <label className=\"mb-2\">Enter Amount</label>\n                            <IconField className='w-100' iconPosition=\"left\">\n                                <InputIcon><span style={{ position: 'relative', top: '-4px' }}>$</span></InputIcon>\n                                <InputNumber\n                                    value={deposit}\n                                    onValueChange={(e) => setDeposit(e.target.value || 0)}\n                                    style={{ width: '100%', minWidth: '420px', padding: '0px 16px' }}\n                                    className={clsx(style.inputText, { [style.error]: errors?.deposit })}\n                                    maxFractionDigits={2}\n                                    minFractionDigits={2}\n                                    placeholder='0.00'\n                                    inputId=\"minmaxfraction\"\n                                />\n                            </IconField>\n                            {errors?.deposit && (\n                                <p className=\"error-message mb-0\">{\"Payment type is required\"}</p>\n                            )}\n                        </div>\n                        <div className={clsx(style.box, 'd-flex flex-column flex-fill')} onClick={() => setDeposit(parseFloat(invoice?.amount || 0).toFixed(2))}>\n                            <label>Total invoice</label>\n                            <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.amount || 0)}</h1>\n                        </div>\n                        <div className={clsx(style.box, 'd-flex flex-column flex-fill')} onClick={() => setDeposit(parseFloat(invoice?.to_be_paid || 0).toFixed(2))}>\n                            <label>To Be Paid</label>\n                            <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.to_be_paid || 0)}</h1>\n                        </div>\n                    </div>\n                </Card.Body>\n            </Card>\n\n            <Card className={clsx(style.border, 'mb-3')}>\n                <Card.Body>\n                    <div className='d-flex justify-content-between align-items-center'>\n                        <div className={clsx(style.box3, 'd-flex flex-column text-start justify-content-center')}>\n                            <label style={{ fontWeight: 400 }}>Budget</label>\n                            <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.budget || 0)}</h1>\n                        </div>\n                        <div className='d-flex flex-column' style={{ flex: 1 }}>\n                            <div className={clsx(style.box4, 'd-flex flex-column align-items-center text-left w-100 h-100')}>\n                                <label style={{ fontWeight: 400 }}>Real Cost</label>\n                                <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.real_cost || 0)}</h1>\n                            </div>\n                            <div className='d-flex align-items-center'>\n                                <div className={clsx(style.box5, 'd-flex flex-column text-end flex-fill')}>\n                                    <label style={{ fontWeight: 400 }}>Cost Of Sale</label>\n                                    <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.cost_of_sale || 0)}</h1>\n                                </div>\n                                <div className={clsx(style.box6, 'd-flex flex-column text-end flex-fill')}>\n                                    <label>Labour</label>\n                                    <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.labor_expenses || 0)}</h1>\n                                </div>\n                                <div className={clsx(style.box8, 'd-flex flex-column text-end flex-fill')}>\n                                    <label>Operating Expense</label>\n                                    <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.labor_expenses || 0)}</h1>\n                                </div>\n                            </div>\n                        </div>\n                        <div className={clsx(style.box7, 'd-flex flex-column text-end justify-content-center')}>\n                            <label>Operational Profit</label>\n                            <h1 className={clsx(style.text, 'mt-2')}>${formatAUD(invoice?.profit || 0)}</h1>\n                        </div>\n                    </div>\n                </Card.Body>\n            </Card>\n\n            <Card className={clsx(style.border, 'mb-3')}>\n                <Card.Body className='d-flex justify-content-end gap-2'>\n                    <Button className='outline-button' onClick={() => setShow(false)}>Cancel</Button>\n                    <Button className='success-button' disabled={mutation?.isPending} onClick={onsubmit}>Process Payment\n                        {mutation?.isPending && (\n                            <ProgressSpinner\n                                style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                            />\n                        )}\n                    </Button>\n                </Card.Body>\n                <div className='mb-2 text-center' style={{ borderTop: '.5px solid #F2F4F7' }}>\n                    <Button className='text-button m-auto' onClick={() => setIsShowHistory(!isShowHistory)}>{isShowHistory ? \"Hide\" : \"Show\"} History</Button>\n                </div>\n            </Card>\n\n            {isShowHistory && <InvoiceHistory history={invoice?.billing_history || []} />}\n\n        </Dialog>\n    );\n};\n\nconst InvoiceHistory = ({ history }) => {\n    const nameBody = (rowData) => {\n        return (\n            <div className='d-flex align-items-center gap-2'>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden' }}>\n                    <img src={rowData?.manager?.photo} style={{ widows: '24px' }} />\n                </div>\n                <span>{rowData?.manager?.name}</span>\n            </div>\n        );\n    };\n\n    const referenceBody = (rawData) => {\n        let type = rawData.type;\n        if (type === 2)\n            return <div className='d-flex align-items-center gap-2'>\n                <Bank size={18} />\n                <span>Bank</span>\n            </div>;\n        else if (type === 1) {\n            return <div className='d-flex align-items-center gap-2'>\n                <Cash size={18} />\n                <span>Cash</span>\n            </div>;\n        } else if (type === 3) {\n            return <div className='d-flex align-items-center gap-2'>\n                <Stripe size={18} />\n                <span>Stripe</span>\n            </div>;\n        } else if (type === 4) {\n            return <div className='d-flex align-items-center gap-2'>\n                <CreditCard size={18} />\n                <span>EFTPOS</span>\n            </div>;\n        }\n\n    };\n\n    const formatDate = (timestamp) => {\n        const date = new Date(timestamp * 1000);\n        const day = date.getDate();\n        const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n            month: \"short\",\n        }).format(date);\n        const year = date.getFullYear();\n        return `${day} ${monthAbbreviation} ${year}`;\n    };\n\n    const depositDate = (rawData) => {\n        return <span>{formatDate(rawData?.created)}</span>;\n    };\n\n    return (\n        <Card className={clsx(style.border, 'mb-3 mt-2')}>\n            <Card.Body>\n                <h1 style={{ fontSize: '16px' }}>History</h1>\n                <DataTable value={history} className={style.borderTable} showGridlines>\n                    <Column field=\"\" style={{ width: 'auto' }} body={(rowData, { rowIndex }) => <>#{rowIndex + 1}</>} header=\"ID\"></Column>\n                    <Column field=\"type\" style={{ width: '150px' }} header=\"Reference\" body={referenceBody}></Column>\n                    <Column field=\"deposit\" style={{ width: '210px', textAlign: 'right' }} body={(rowData) => <>${formatAUD(rowData?.deposit)}</>} header=\"Amount\"></Column>\n                    <Column field=\"manager.name\" style={{ width: '210px' }} header=\"Manager\" body={nameBody}></Column>\n                    <Column field=\"created\" style={{ width: '147px' }} header=\"Created at\" body={depositDate}></Column>\n                </DataTable>\n            </Card.Body>\n        </Card>\n    );\n};\n\nexport default InvoicePartialPayment;","import React, { useState } from 'react';\nimport { Bell } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { Button } from 'primereact/button';\nimport { toast } from 'sonner';\nimport { getClientById } from '../../../../../APIs/ClientsApi';\nimport { resendInvoiceEmail } from '../../../../../APIs/invoice-api';\nimport SendDynamicEmailForm from '../../../../../ui/send-email-2/send-email';\n\nconst ResendInvoiceEmail = ({ projectId, clientId, isAction }) => {\n    const [show, setShow] = useState(false);\n    const [payload, setPayload] = useState({});\n    const clientQuery = useQuery({\n        queryKey: ['id', clientId],\n        queryFn: () => getClientById(clientId),\n        enabled: !!clientId && !!show,\n        retry: 1,\n    });\n\n    const mutation = useMutation({\n        mutationFn: (data) => resendInvoiceEmail(projectId, data),\n        onSuccess: () => {\n            setShow(false);\n            toast.success(`Reminder email sent successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error sending email:', error);\n            toast.error(`Failed to send reminder email. Please try again.`);\n        }\n    });\n\n    return (\n        <>\n            {\n                isAction ? <div className='d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2' onClick={() => setShow(true)}>\n                    <Bell color='#667085' size={20} />\n                    <span style={{ color: '#101828', fontSize: '16px', fontWeight: 500 }}>Send Reminder</span>\n                </div>\n                    : <Button label=\"Resend\" style={{ position: 'static' }} onClick={() => setShow(true)} className='primary-text-button ms-3 show-on-hover-element not-show-checked' text />\n            }\n            <SendDynamicEmailForm show={show} setShow={setShow} setPayload={setPayload} mutation={mutation} contactPersons={clientQuery?.data?.contact_persons || []} projectCardData={() => { }} defaultTemplateId={'Resend Invoice'} />\n        </>\n\n    );\n};\n\nexport default ResendInvoiceEmail;","import React, { useState } from 'react';\nimport { Send } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { Button } from 'primereact/button';\nimport { toast } from 'sonner';\nimport { getClientById } from '../../../../../APIs/ClientsApi';\nimport { sendInvoiceEmail } from '../../../../../APIs/invoice-api';\nimport SendDynamicEmailForm from '../../../../../ui/send-email-2/send-email';\n\nconst SendInvoiceEmail = ({ projectId, clientId, isAction }) => {\n    const [show, setShow] = useState(false);\n    const [payload, setPayload] = useState({});\n    const clientQuery = useQuery({\n        queryKey: ['id', clientId],\n        queryFn: () => getClientById(clientId),\n        enabled: !!clientId && !!show,\n        retry: 1,\n    });\n\n    const mutation = useMutation({\n        mutationFn: (data) => sendInvoiceEmail(projectId, data),\n        onSuccess: () => {\n            setShow(false);\n            toast.success(`Email sent successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error sending email:', error);\n            toast.error(`Failed to resent email. Please try again.`);\n        }\n    });\n\n    return (\n        <>\n            {\n                isAction ? <div className='d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2' onClick={() => setShow(true)}>\n                    <Send color='#667085' size={20} />\n                    <span style={{ color: '#101828', fontSize: '16px', fontWeight: 500 }}>Send Invoice</span>\n                </div>\n                    : <Button label=\"Resend\" style={{ position: 'static' }} onClick={() => setShow(true)} className='primary-text-button ms-3 show-on-hover-element not-show-checked' text />\n            }\n            <SendDynamicEmailForm show={show} setShow={setShow} setPayload={setPayload} mutation={mutation} contactPersons={clientQuery?.data?.contact_persons || []} projectCardData={() => { }} defaultTemplateId={'Invoice'} />\n        </>\n\n    );\n};\n\nexport default SendInvoiceEmail;","\n\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\nimport { CloseButton } from 'react-bootstrap';\nimport { FilePdf, Link45deg, InfoCircle, ThreeDotsVertical, Files, FileEarmarkSpreadsheet, Trash, PlusLg, Coin, Calendar3Event, Bank, Stripe, Cash, CreditCard, CurrencyDollar } from 'react-bootstrap-icons';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { ControlledMenu, useClick } from '@szhsin/react-menu';\nimport { useMutation } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { Badge } from 'primereact/badge';\nimport { Button } from 'primereact/button';\nimport { Column } from 'primereact/column';\nimport { DataTable } from 'primereact/datatable';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Tag } from 'primereact/tag';\nimport { toast } from 'sonner';\nimport style from './invoice.module.scss';\nimport { deleteInvoice, getListOfInvoice } from '../../../../APIs/invoice-api';\nimport { fetchduplicateData } from '../../../../APIs/SalesApi';\nimport { useAuth } from '../../../../app/providers/auth-provider';\nimport { useTrialHeight } from '../../../../app/providers/trial-height-provider';\nimport { PERMISSIONS } from '../../../../shared/lib/access-control/permission';\nimport { hasPermission } from '../../../../shared/lib/access-control/role-permission';\nimport { formatAUD } from '../../../../shared/lib/format-aud';\nimport Loader from '../../../../shared/ui/loader/loader';\nimport ImageAvatar from '../../../../ui/image-with-fallback/image-avatar';\nimport NoDataFoundTemplate from '../../../../ui/no-data-template/no-data-found-template';\nimport InvoicePartialPayment from '../../features/invoice-features/invoice-partial-payment/invoice-partial-payment';\nimport ResendInvoiceEmail from '../../features/invoice-features/resend-email/resend-email';\nimport SendInvoiceEmail from '../../features/invoice-features/send-email/send-email';\n\nconst formatDate = (timestamp) => {\n    try {\n        const date = new Date(timestamp * 1000);\n        const day = date.getDate();\n        const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n            month: \"short\",\n        }).format(date);\n        const year = date.getFullYear();\n        return `${day} ${monthAbbreviation} ${year}`;\n    } catch (error) {\n        console.log('error: ', error);\n        return '';\n    }\n};\n\nconst InvoiceTable = forwardRef(({ searchValue, setTotal, setTotalMoney, selected, setSelected, isShowDeleted, refetch, setRefetch, isFilterEnabled, filters }, ref) => {\n    const { role } = useAuth();\n    const observerRef = useRef(null);\n    const navigate = useNavigate();\n    const { trialHeight } = useTrialHeight();\n    const [invoices, setInvoices] = useState([]);\n    const [page, setPage] = useState(1);\n    const [sort, setSort] = useState({ sortField: 'number', sortOrder: -1 });\n    const [tempSort, setTempSort] = useState({ sortField: 'number', sortOrder: -1 });\n    const [hasMoreData, setHasMoreData] = useState(true);\n    const [loading, setLoading] = useState(false);\n    const [visible, setVisible] = useState(false);\n    const [invoiceData, setInvoiceData] = useState(null);\n    const limit = 25;\n\n    useEffect(() => {\n        setPage(1);  // Reset to page 1 whenever searchValue changes\n    }, [searchValue, refetch, isShowDeleted, filters]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            setLoading(true);\n\n            let order = \"\";\n            if (tempSort?.sortOrder === 1) order = `${tempSort.sortField}`;\n            else if (tempSort?.sortOrder === -1) order = `-${tempSort.sortField}`;\n\n            const data = await getListOfInvoice(page, limit, searchValue, order, isShowDeleted, filters);\n            setTotal(() => (data?.count || 0));\n            setTotalMoney(data?.total_amount || 0);\n            if (page === 1) setInvoices(data.results);\n            else {\n                if (data?.results?.length > 0)\n                    setInvoices(prev => {\n                        const existingClientIds = new Set(prev.map(client => client.id));\n                        const newClients = data.results.filter(client => !existingClientIds.has(client.id));\n                        return [...prev, ...newClients];\n                    });\n            }\n            setSort(tempSort);\n            setHasMoreData(data.count !== invoices.length);\n            setLoading(false);\n        };\n\n        loadData();\n\n    }, [page, searchValue, tempSort, refetch, isShowDeleted, JSON.stringify(filters)]);\n\n    useEffect(() => {\n        if (invoices.length > 0 && hasMoreData) {\n            observerRef.current = new IntersectionObserver(entries => {\n                if (entries[0].isIntersecting) setPage(prevPage => prevPage + 1);\n            });\n\n            const lastRow = document.querySelector('.p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child');\n            if (lastRow) observerRef.current.observe(lastRow);\n        }\n\n        return () => {\n            if (observerRef.current) observerRef.current.disconnect();\n        };\n    }, [invoices, hasMoreData]);\n\n    const InvoiceIDBody = (rowData) => {\n        return <div className={`d-flex align-items-center gap-2 justify-content-between show-on-hover`}>\n            <div className='d-flex flex-column' style={{ lineHeight: '1.385' }}>\n                <span>{rowData.number}</span>\n                <span className='font-12' style={{ color: '#98A2B3' }}>{formatDate(rowData.created)}</span>\n            </div>\n            <Button label=\"Open\" onClick={() => navigate(`/management?unique_id=${rowData.unique_id}&reference=${rowData?.reference}&number=${rowData?.number}&value=${rowData.id}`)} className='primary-text-button ms-3 show-on-hover-element not-show-checked' text />\n        </div>;\n    };\n\n    const InvoiceBody = (rowData) => {\n        return <div className='d-flex align-items-center justify-content-around'>\n            <Link to={`${process.env.REACT_APP_URL}${rowData?.invoice_url}`} target='_blank'><FilePdf color='#FF0000' size={16} /></Link>\n            <Link to={`/invoice/${rowData.unique_id}`} target='_blank'><Link45deg color='#3366CC' size={16} /></Link>\n        </div>;\n    };\n\n    const customerNameBody = (rowData) => {\n        return <div className='d-flex align-items-center'>\n            <ImageAvatar has_photo={rowData?.client?.has_photo} photo={rowData?.client?.photo} is_business={rowData?.client?.is_business} />\n            <div className='d-flex flex-column gap-1'>\n                <div className={`${style.ellipsis}`}>{rowData.client?.name}</div>\n                {rowData.deleted ?\n                    <Tag value=\"Deleted\" style={{ height: '22px', width: '59px', borderRadius: '16px', border: '1px solid #FECDCA', background: '#FEF3F2', color: '#912018', fontSize: '12px', fontWeight: 500 }}></Tag> : ''}\n            </div>\n        </div>;\n    };\n\n    const dueDate = (rowData) => {\n        return <div className={`d-flex align-items-center justify-content-start gap-2 show-on-hover`} style={{ color: \"#98A2B3\" }}>\n            {\n                rowData.paid ?\n                    <div className={`${style.status} ${style.active}`}>\n                        <Badge severity=\"success\"></Badge> Paid\n                    </div>\n                    : rowData.overdue > 0 ?\n                        <div className={`${style.status} ${style.inactive}`}>\n                            Overdue {rowData.overdue} days <Badge severity=\"danger\"></Badge>\n                        </div>\n                        : <div className={`${style.status} ${style.inactive}`}>\n                            <Badge severity=\"warning\"></Badge> Not Paid\n                        </div>\n            }\n\n            {formatDate(rowData.due_date)}\n            <ResendInvoiceEmail projectId={rowData.unique_id} clientId={rowData?.client?.id} isAction={false} />\n        </div>;\n    };\n\n    const totalBody = (rowData) => {\n        return <div className={`d-flex align-items-center justify-content-end ${style.fontStanderdSize}`}>\n            <div className={`text-dark`}>\n                ${formatAUD(rowData?.amount)}\n            </div>\n        </div>;\n    };\n\n    const ToBePaidBody = (rowData) => {\n        return <div className={`d-flex align-items-center justify-content-end show-on-hover ${style.fontStanderdSize}`}>\n            <div className={`text-dark`}>\n                <span style={{ color: rowData.payment_status === 'paid' ? '#98A2B3' : rowData.payment_status === 'not_paid' ? '#D92D20' : '#F79009' }}>${formatAUD(rowData?.to_be_paid)}</span>\n            </div>\n        </div>;\n    };\n\n    const DepositBody = (rowData) => {\n        const isPaid = rowData.payment_status === 'paid';\n\n        return <Button onClick={() => { setVisible(true); setInvoiceData(rowData); }} className={clsx(style.payInvoiceButton, { [style.paid]: rowData.payment_status === 'paid', [style.unpaid]: rowData.payment_status === 'not_paid', [style.partialPaid]: rowData.payment_status !== 'not_paid' && rowData.payment_status !== 'paid' })}>\n            {isPaid ? <><span className={style.normal}>Pay Invoice</span><span className={style.onHover}>Edit Payment</span></> : 'Pay Invoice'}\n            <CurrencyDollar color={rowData.payment_status === 'paid' ? '#17B26A' : rowData.payment_status === 'not_paid' ? '#D92D20' : '#F79009'} size={16} />\n        </Button>;\n    };\n\n    const xeroBody = (rowData) => {\n        return <div className={`d-flex align-items-center justify-content-center`}>\n            {\n                rowData?.xero_status === \"in_progress\"\n                    ? <span style={{ color: '#158ECC' }} className={style.shakeText}>xero</span>\n                    : rowData?.xero_status === \"completed\" ? <span style={{ color: '#158ECC' }}>xero</span> : <span></span>\n            }\n        </div>;\n    };\n\n    const deleteMutation = useMutation({\n        mutationFn: (data) => deleteInvoice(data),\n        onSuccess: () => {\n            toast.success(`Invoice deleted successfully`);\n            deleteMutation.reset();\n            setRefetch(!refetch);\n        },\n        onError: (error) => {\n            deleteMutation.reset();\n            console.log('error: ', error);\n            toast.error(`Failed to delete invoice. Please try again.`);\n        }\n    });\n\n    const duplicateMutation = useMutation({\n        mutationFn: (data) => fetchduplicateData(data),\n        onSuccess: () => {\n            toast.success(`Project has been successfully duplicated`);\n            duplicateMutation.reset();\n            navigate('/sales');\n        },\n        onError: (error) => {\n            deleteMutation.reset();\n            console.log('error: ', error);\n            toast.error(`Failed to duplicate project. Please try again.`);\n        }\n    });\n\n    const InfoBodyTemplate = (rowData) => {\n        const ref = useRef(null);\n        const [isOpen, setOpen] = useState(false);\n        const anchorProps = useClick(isOpen, setOpen);\n        return <React.Fragment>\n            <InfoCircle color='#667085' size={18} className='cursor-pointer' ref={ref} {...anchorProps} />\n            <div className='fixedMenu' style={{ position: 'fixed', top: '40%', left: '40%' }}>\n                <ControlledMenu\n                    state={isOpen ? 'open' : 'closed'}\n                    anchorRef={ref}\n                    onClose={() => setOpen(false)}\n                    menuStyle={{ padding: '24px 24px 20px 24px', width: '605px', marginTop: '45px', maxHeight: '100%' }}\n                >\n                    <div className='d-flex justify-content-between mb-4'>\n                        <div className='BoxNo'>\n                            <div>\n                                <InfoCircle color='#FFFFFF' size={24} />\n                            </div>\n                        </div>\n                        <CloseButton onClick={() => setOpen(false)} />\n                    </div>\n                    <div style={{ width: '100%', maxHeight: '500px', overflow: 'auto' }}>\n                        {\n                            rowData?.billing_history.map((history, index) =>\n                                <div key={rowData.unique_id + index} className='d-flex gap-4 border justify-content-start py-1 px-2 rounded mb-2 w-100' style={{ width: 'fit-content' }}>\n                                    <div className='d-flex align-items-center'>\n                                        {\n                                            history?.type === 0 ? (\n                                                <>\n                                                    <div className='d-flex justify-content-center align-items-center rounded-circle' style={{ width: '24px', height: '24px', background: 'linear-gradient(180deg, #f9fafb 0%, #edf0f3 100%)', marginRight: '10px' }}>\n                                                        <Stripe size={14} color=\"#98A2B3\" />\n                                                    </div>\n                                                    <div className='font-14 ellipsis-width text-start' style={{ width: '120px', maxWidth: '120px' }}>Stripe</div>\n                                                </>\n                                            ) : (\n                                                <>\n                                                    <ImageAvatar has_photo={history?.manager?.has_photo} photo={history?.manager?.photo} is_business={false} />\n                                                    <div className='font-14 ellipsis-width text-start' style={{ width: '120px', maxWidth: '120px' }}>{history?.manager?.name}</div>\n                                                </>\n                                            )\n                                        }\n                                    </div>\n                                    <div className='d-flex gap-2 align-items-center justify-content-start'>\n                                        <Coin color='#98A2B3' size={14} />\n                                        <span style={{ fontWeight: 600, fontSize: 16 }}>${formatAUD(history.deposit)}</span>\n                                    </div>\n                                    <div className='d-flex gap-2 align-items-center justify-content-start'>\n                                        {history?.type === 2 ? <Bank size={14} color='#98A2B3' />\n                                            : history.type === 1 ? <Cash size={14} color=\"#98A2B3\" />\n                                                : history.type === 4 ? <CreditCard size={14} color=\"#98A2B3\" />\n                                                    : <Stripe size={14} color=\"#98A2B3\" />}\n                                        <div className='border rounded font-12 px-1'>\n                                            {history?.type === 2 ? \"Bank\" : history.type === 1 ? \"Cash\" : history.type === 4 ? \"EFTPOS\" : \"Stripe\"}\n                                        </div>\n                                    </div>\n                                    <div className='d-flex gap-2 align-items-center'>\n                                        <Calendar3Event color='#98A2B3' size={14} />\n                                        <div className='font-14'>{formatDate(history.created)}</div>\n                                    </div>\n                                </div>\n                            )\n                        }\n                    </div>\n\n                    {\n                        rowData.paid\n                            ? <div className='d-flex gap-2 mt-3 justify-content-center align-items-center p-2 rounded' style={{ background: '#ECFDF3' }}>\n                                <span className='font-14' style={{ color: '#17B26A' }}>Invoice Paid</span>\n                            </div>\n                            : rowData.payment_status === 'partial_payment' ? <div className='d-flex gap-2 mt-3 justify-content-center align-items-center p-2 rounded' style={{ background: '#fffaeb' }}>\n                                <span className='font-14' style={{ color: '#b54708' }}>Invoice Partialy Paid</span>\n                            </div>\n                                : <div className='d-flex gap-2 mt-3 justify-content-center align-items-center p-2 rounded' style={{ background: '#FEF3F2' }}>\n                                    <span className='font-14' style={{ color: '#B42318' }}>Invoice Due</span>\n                                </div>\n                    }\n\n                </ControlledMenu>\n            </div>\n        </React.Fragment>;\n    };\n\n    const ActionBody = (rowData) => {\n        const ref = useRef(null);\n        const [isOpen, setOpen] = useState(false);\n        const anchorProps = useClick(isOpen, setOpen);\n\n        return <React.Fragment>\n            <ThreeDotsVertical size={24} color=\"#667085\" className='cursor-pointer' ref={ref} {...anchorProps} />\n\n            <ControlledMenu\n                state={isOpen ? 'open' : 'closed'}\n                anchorRef={ref}\n                onClose={() => setOpen(false)}\n                className={\"threeDots\"}\n                menuStyle={{ padding: '4px', width: '241px', textAlign: 'left' }}\n            >\n                <div className='d-flex flex-column gap-2'>\n                    <SendInvoiceEmail projectId={rowData.unique_id} clientId={rowData?.client?.id} isAction={true} />\n                    <ResendInvoiceEmail projectId={rowData.unique_id} clientId={rowData?.client?.id} isAction={true} />\n                    <div className='d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2' onClick={async () => { await duplicateMutation.mutateAsync(rowData.unique_id); setOpen(false); }}>\n                        <Files color='#667085' size={20} />\n                        <span style={{ color: '#101828', fontSize: '16px', fontWeight: 500 }}>Duplicate project</span>\n                        {duplicateMutation?.variables === rowData.unique_id ? <ProgressSpinner style={{ width: '20px', height: '20px' }}></ProgressSpinner> : \"\"}\n                    </div>\n                    <div className='d-flex align-items-center gap-3 hover-greay px-2 py-2' style={{ opacity: .5 }}>\n                        <FileEarmarkSpreadsheet color='#667085' size={20} />\n                        <span style={{ color: '#101828', fontSize: '16px', fontWeight: 500 }}>Create credit note</span>\n                    </div>\n                    {\n                        hasPermission(role, PERMISSIONS.INVOICE.DELETE) && (\n                            <div className='d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2' onClick={async () => { await deleteMutation.mutateAsync(rowData.unique_id); setOpen(false); }}>\n                                <Trash color='#B42318' size={20} />\n                                <span style={{ color: '#B42318', fontSize: '16px', fontWeight: 500 }}>Delete invoice</span>\n                                {deleteMutation?.variables === rowData.unique_id ? <ProgressSpinner style={{ width: '20px', height: '20px' }}></ProgressSpinner> : \"\"}\n                            </div>\n                        )\n                    }\n                </div>\n            </ControlledMenu>\n        </React.Fragment>;\n    };\n\n    const rowClassName = (data) => (data?.deleted ? style.deletedRow : \"\");\n\n    const onSort = (event) => {\n        const { sortField, sortOrder } = event;\n\n        setTempSort({ sortField, sortOrder });\n        setPage(1);  // Reset to page 1 whenever searchValue changes\n    };\n\n    return (\n        <>\n            <DataTable ref={ref} value={invoices} scrollable selectionMode={'checkbox'}\n                columnResizeMode=\"expand\" resizableColumns showGridlines size={'large'}\n                scrollHeight={`calc(100vh - 175px - ${trialHeight}px - ${isFilterEnabled ? 56 : 0}px)`} className=\"border\" selection={selected}\n                onSelectionChange={(e) => setSelected(e.value)}\n                loading={loading}\n                loadingIcon={Loader}\n                emptyMessage={<NoDataFoundTemplate isDataExist={!!searchValue || !!isShowDeleted} />}\n                sortField={sort?.sortField}\n                sortOrder={sort?.sortOrder}\n                onSort={onSort}\n                rowClassName={rowClassName}\n            >\n                <Column selectionMode=\"multiple\" headerClassName='ps-4 border-end-0' bodyClassName={'show-on-hover border-end-0 ps-4'} headerStyle={{ width: '3rem', textAlign: 'center' }} frozen></Column>\n                <Column field=\"number\" header=\"Invoice ID\" body={InvoiceIDBody} headerClassName='paddingLeftHide' bodyClassName='paddingLeftHide' style={{ minWidth: '160px', maxWidth: '160px', width: '160px' }} frozen sortable></Column>\n                <Column field=\"\" header=\"Invoice\" body={InvoiceBody} style={{ minWidth: '114px', maxWidth: '114px', width: '114px' }} frozen></Column>\n                <Column field=\"client__name\" exportField='client.name'  header=\"Customer AZ\" body={customerNameBody} headerClassName='shadowRight' bodyClassName='shadowRight' style={{ minWidth: '295px', maxWidth: '295px', width: '295px' }} frozen sortable></Column>\n                <Column field=\"reference\" header=\"Invoice Reference\" style={{ minWidth: '250px' }}></Column>\n                <Column field=\"invoice_due_date\" exportField={(rowData) => formatDate(rowData.due_date)} header=\"Due Date\" body={dueDate} style={{ minWidth: '56px' }} className='text-center' sortable></Column>\n                <Column field='amount' header=\"Total invoice\" exportField={(rowData) => `$${formatAUD(rowData.amount)}`} body={totalBody} style={{ minWidth: '56px', textAlign: 'end' }} sortable></Column>\n                <Column field='to_be_paid' header=\"To be paid\" exportField={(rowData) => `$${formatAUD(rowData.to_be_paid)}`} body={ToBePaidBody} style={{ minWidth: '123px', textAlign: 'right' }} sortable></Column>\n                <Column field='deposit' header=\"Deposit/Payment\" exportable={false} body={DepositBody} style={{ minWidth: '114px', maxWidth: '164px', width: '164px', textAlign: 'left' }}></Column>\n                <Column field='total_requests' header=\"Info\" exportable={false} body={InfoBodyTemplate} style={{ minWidth: '89px', maxWidth: '89px', width: '89px', textAlign: 'center' }}></Column>\n                <Column field='xero' header=\"Xero/Myob\" exportable={false} body={xeroBody} style={{ minWidth: '120px', maxWidth: '120px', width: '120px', textAlign: 'center' }}></Column>\n                <Column field='paid' header=\"Actions\" exportField={(rowData) => formatDate(rowData.created)} exportHeader='Created at' body={ActionBody} style={{ minWidth: '75px', maxWidth: '75px', width: '75px', textAlign: 'center' }} bodyStyle={{ color: '#667085' }}></Column>\n            </DataTable>\n            <InvoicePartialPayment show={visible} setShow={() => setVisible(false)} setRefetch={setRefetch} invoice={invoiceData} />\n        </>\n    );\n});\n\nexport default InvoiceTable;","import { Button } from 'react-bootstrap';\nimport { useMutation } from '@tanstack/react-query';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport { downloadStatement } from '../../../../../APIs/expenses-api';\n\nconst CreateStatement = ({ invoices }) => {\n    const clientName = invoices?.length > 0 ? (invoices[0]?.client?.name || \"\") : '';\n    const clientId = invoices?.length > 0 ? (invoices[0]?.client?.id || \"\") : '';\n\n    const downloadStatementMutation = useMutation({\n        mutationFn: (data) => downloadStatement(data),\n        onSuccess: (data) => {\n            const url = data?.pdf_url || data;\n            if (!url) return;\n            window.open(`/invoice/account-statement?pdf=${url}&client=${clientName}&clientId=${clientId}`, '_blank');\n        },\n        onError: (error) => {\n            console.log('error: ', error);\n            toast.error(`Failed to download statement. Please try again.`);\n        }\n    });\n\n    const handleDownload = () => {\n        const invoiceIds = invoices.map(item => item.id);\n        downloadStatementMutation.mutate(invoiceIds);\n    };\n\n    return (\n        <>\n            <Button className={\"solid-button font-14\"} style={{ height: '32px' }} onClick={handleDownload}>\n                Create Statement\n                {downloadStatementMutation?.isPending && <ProgressSpinner style={{ width: '20px', height: '20px' }} />}\n            </Button>\n        </>\n    );\n};\n\nexport default CreateStatement;","// extracted by mini-css-extract-plugin\nexport default {\"filterBox\":\"invoice-dropdown_filterBox__9P7yU\",\"dropdownSelect\":\"invoice-dropdown_dropdownSelect__vrlQP\",\"searchBox\":\"invoice-dropdown_searchBox__0j6at\",\"supplierDropdownItem\":\"invoice-dropdown_supplierDropdownItem__Vwm1I\",\"mainTagsWrapper\":\"invoice-dropdown_mainTagsWrapper__iqJlf\",\"tagsInputContainer\":\"invoice-dropdown_tagsInputContainer__wKtvw\",\"tagItemsWrap\":\"invoice-dropdown_tagItemsWrap__mloI7\",\"tagItemWrap\":\"invoice-dropdown_tagItemWrap__Lb-P9\"};","import { useEffect, useRef, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { CalendarWeek, Check, CurrencyDollar, Filter, People } from 'react-bootstrap-icons';\nimport Flatpickr from \"react-flatpickr\";\nimport clsx from 'clsx';\nimport { Checkbox } from 'primereact/checkbox';\nimport { useDebounce } from 'primereact/hooks';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Tab from \"react-bootstrap/Tab\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport style from './invoice-dropdown.module.scss';\nimport { getListOfClients } from '../../../../../APIs/ClientsApi';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport \"flatpickr/dist/themes/material_green.css\";\n\nconst InvoiceDropdown = ({ setFilters, filter }) => {\n    const observerRef = useRef(null);\n    const [showFilter, setShowFilter] = useState(false);\n    const [key, setKey] = useState('clients');\n    const [statusValue, setStatusValue] = useState([]);\n    const [clientValue, setClientValue] = useState('');\n    const [dateRange, setDateRange] = useState([null, null]);\n    const [clients, setClients] = useState([]);\n    const [page, setPage] = useState(1);\n    const [selectedClient, setSelectedClient] = useState(null);\n    const [hasMoreData, setHasMoreData] = useState(true);\n    const [inputValue, debouncedValue, setInputValue] = useDebounce('', 400);\n    const [loading, setLoading] = useState(false);\n    const limit = 25;\n\n    useEffect(() => {\n        setPage(1);\n    }, [debouncedValue]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            setLoading(true);\n            const data = await getListOfClients(page, limit, debouncedValue, 'name');\n            if (page === 1) {\n                if (clientValue) {\n                    const filteredClients = data.results.filter(client => client.id !== clientValue);\n                    return setClients([...selectedClient, ...filteredClients]);\n                }\n\n                setClients(data.results);\n            }\n\n            else {\n                if (data?.results?.length > 0) {\n                    let results = data.results;\n                    if (clientValue) {\n                        results = [...selectedClient, ...data.results];\n                    }\n                    setClients(prev => {\n                        let previous = prev;\n                        if (clientValue) {\n                            previous = [...prev, ...selectedClient];\n                        }\n                        const existingClientIds = new Set(previous.map(client => client.id));\n                        const newClients = results.filter(client => !existingClientIds.has(client.id));\n                        return [...prev, ...newClients];\n                    });\n                }\n            }\n            setHasMoreData(data.count !== clients.length);\n            setLoading(false);\n        };\n\n        loadData();\n    }, [page, debouncedValue, clientValue, selectedClient]);\n\n    useEffect(() => {\n        if (clients.length > 0 && hasMoreData) {\n            const timeout = setTimeout(() => {\n                const lastRow = document.querySelector('.supplier-dropdown .supplier-dropdown-item:last-child');\n\n                if (lastRow) {\n                    observerRef.current = new IntersectionObserver(entries => {\n                        if (entries[0].isIntersecting) {\n                            setPage(prevPage => prevPage + 1);\n                        }\n                    });\n                    observerRef.current.observe(lastRow);\n                }\n            }, 1000); // Wait for DOM paint\n\n            return () => {\n                clearTimeout(timeout);\n                if (observerRef.current) observerRef.current.disconnect();\n            };\n        }\n    }, [clients, hasMoreData, showFilter]);\n\n    function formatDateToYMD(date) {\n        if (!date) return '';\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        return `${day}-${month}-${year}`;\n    }\n\n    const handleStatusChange = (status) => {\n        setStatusValue((prev) => {\n            if (prev.includes(status)) {\n                return prev.filter((s) => s !== status);\n            }\n            return [...prev, status];\n        });\n    };\n\n    const handleCancel = () => {\n        setShowFilter(false);\n        setKey('clients');\n    };\n\n    const handleApply = () => {\n        setShowFilter(false);\n\n        if (selectedClient?.length) {\n            setFilters((prev) => ({ ...prev, client: [...selectedClient] }));\n        }\n\n        // apply for status\n        const formattedStatus = statusValue.map((status) => {\n            return { name: status, value: status };\n        });\n        if (formattedStatus.length) {\n            setFilters((prev) => ({ ...prev, status: [...formattedStatus] }));\n        }\n\n        // apply date range\n        if (dateRange) {\n            let dateName = `${formatDateToYMD(dateRange[0])} - ${formatDateToYMD(dateRange[1])}`;\n            setFilters((prev) => ({ ...prev, date: [{ name: dateName, value: dateRange }] }));\n        }\n    };\n\n    useEffect(() => {\n        if (!filter['client']) {\n            setSelectedClient(null);\n        } else if (filter['client']) {\n            setSelectedClient(filter['client']);\n        }\n\n        if (!filter['status']) {\n            setStatusValue([]);\n        } else if (filter['status']) {\n            setStatusValue(filter['status'].map((status) => status.value));\n        }\n\n        if (!filter['date']) {\n            setDateRange(null);\n        } else if (filter['date']) {\n            setDateRange(filter['date'][0].value);\n        }\n    }, [filter]);\n\n    return (\n        <div className='supplier-filters'>\n            <button className={`${style.filterBox}`} onClick={() => setShowFilter(!showFilter)}>\n                <Filter />\n            </button>\n            {showFilter &&\n                <Tabs\n                    id=\"controlled-tab-example\"\n                    activeKey={key}\n                    onSelect={(k) => setKey(k)}\n                    className=\"filtterBoxWrapper\"\n                    style={{ marginLeft: '5px', marginTop: '5px' }}\n                >\n                    <Tab\n                        eventKey=\"clients\"\n                        title={\n                            <>\n                                <People color=\"#667085\" size={16} />Clients\n                            </>\n                        }\n                    >\n                        <div className={style.searchBox}>\n                            <div style={{ position: 'absolute', top: '7px', left: '18px' }}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                                    <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n                                </svg>\n                            </div>\n                            <input type=\"text\" placeholder=\"Search\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} className=\"border search-resource\" style={{ borderRadius: '4px', width: '260px', border: '1px solid #D0D5DD', color: '#424242', padding: '10px 10px 10px 36px', fontSize: '14px', height: '40px' }} />\n                        </div>\n                        <div className='supplier-dropdown' style={{ height: '350px', overflow: 'auto', marginLeft: '0px' }}>\n                            {\n                                clients?.map(option =>\n                                    <div key={option.id} className={clsx(style.supplierDropdownItem, 'supplier-dropdown-item')} onClick={() => setSelectedClient(prev => {\n                                        if (prev?.some(client => client.id === option.id)) {\n                                            return prev.filter(client => client.id !== option.id);\n                                        }\n                                        if (!prev) return [option];\n\n                                        return [...prev, option];\n                                    })}>\n                                        <div className='d-flex gap-2 align-items-center w-100'>\n                                            <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '4px', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={true} size={17} />\n                                            </div>\n                                            <div className='ellipsis-width' style={{ maxWidth: '200px' }}>{option?.name}</div>\n                                        </div>\n                                        {\n                                            selectedClient?.some(client => client.id === option.id) ? (\n                                                <Check color=\"#1AB2FF\" size={20} />\n                                            ) : null\n                                        }\n                                    </div>\n                                )\n                            }\n                            {loading && <ProgressSpinner style={{ width: \"20px\", height: \"20px\", color: \"#1AB2FF\" }} />}\n                        </div>\n                        <div className='d-flex justify-content-end gap-2 p-3 border-top'>\n                            <Button className='outline-button' style={{ width: '115px', padding: '8px 14px' }} onClick={handleCancel}>Cancel</Button>\n                            <Button className='solid-button' style={{ width: '115px', padding: '8px 14px' }} onClick={handleApply}>Apply</Button>\n                        </div>\n                    </Tab>\n                    <Tab\n                        eventKey=\"status\"\n                        title={\n                            <>\n                                <CurrencyDollar color=\"#667085\" size={16} /> Payment\n                            </>\n                        }\n                    >\n                        <div className='d-flex align-items-center gap-3 p-2 mb-2'>\n                            <Checkbox inputId=\"paid\" checked={statusValue?.includes(\"Paid\")} onChange={() => handleStatusChange(\"Paid\")} />\n                            <label htmlFor=\"paid\" className='mb-0'>Paid</label>\n                        </div>\n                        <div className='d-flex align-items-center gap-3 p-2 mb-2'>\n                            <Checkbox inputId=\"not_paid\" checked={statusValue?.includes(\"Not Paid\")} onChange={() => handleStatusChange(\"Not Paid\")} />\n                            <label htmlFor=\"not_paid\" className='mb-0'>Not Paid</label>\n                        </div>\n\n                        <div className='d-flex justify-content-end gap-2 p-3 border-top'>\n                            <Button className='outline-button' style={{ width: '115px', padding: '8px 14px' }} onClick={handleCancel}>Cancel</Button>\n                            <Button className='solid-button' style={{ width: '115px', padding: '8px 14px' }} onClick={handleApply}>Apply</Button>\n                        </div>\n                    </Tab>\n                    <Tab\n                        eventKey={'date'}\n                        title={<><CalendarWeek color=\"#667085\" size={16} /> Date</>}\n                    >\n                        <div className='px-3 pt-2'>\n                            <Flatpickr\n                                value={dateRange}\n                                onChange={setDateRange}\n                                options={{\n                                    dateFormat: \"Y-m-d\",\n                                    mode: \"range\",\n                                    inline: true,\n                                }}\n                            />\n                        </div>\n                        <div className='d-flex justify-content-end gap-2 p-3 border-top'>\n                            <Button className='outline-button' style={{ width: '115px', padding: '8px 14px' }} onClick={handleCancel}>Cancel</Button>\n                            <Button className='solid-button' style={{ width: '115px', padding: '8px 14px' }} onClick={handleApply}>Apply</Button>\n                        </div>\n                    </Tab>\n                </Tabs>\n            }\n        </div>\n    );\n};\n\nexport default InvoiceDropdown;","import React from 'react';\nimport { X } from 'react-bootstrap-icons';\nimport Button from \"react-bootstrap/Button\";\nimport style from './invoice-dropdown.module.scss';\n\nconst InvoicesFilters = ({ filter, setFilters }) => {\n    const handleRemoveTag = (group, itemName) => {\n        const newFilters = { ...filter };\n        const newItems = newFilters[group].filter((item) => item !== itemName);\n        if (newItems.length === 0) {\n            delete newFilters[group];\n        } else {\n            newFilters[group] = newItems;\n        }\n        setFilters(newFilters);\n    };\n\n    const handleRemoveGroup = (groupName) => {\n        const newFilters = { ...filter };\n        delete newFilters[groupName];\n        setFilters(newFilters);\n    };\n\n    return (\n        <>\n            {Object.keys(filter)?.length > 0 && (\n                <div className={style.mainTagsWrapper}>\n                    {Object.entries(filter)?.map(([group, items]) => (\n                        <div key={group}>\n                            {items?.length > 0 && (\n                                <div className={style.tagsInputContainer}>\n                                    <ul className={style.tagItemsWrap}>\n                                        {items.map((item, index) => (\n                                            <li className={style.tagItemWrap} key={index}>\n                                                {item?.name}\n                                                {items?.length > 1 && (\n                                                    <Button\n                                                        variant=\"link\"\n                                                        size=\"sm\"\n                                                        style={{ marginLeft: \"5px\", padding: 0 }}\n                                                        onClick={() => handleRemoveTag(group, item)}\n                                                    >\n                                                        <X color=\"#F96969\" size={15} />\n                                                    </Button>\n                                                )}\n                                            </li>\n                                        ))}\n                                        <Button\n                                            variant=\"link\"\n                                            size=\"sm\"\n                                            style={{ marginLeft: \"0px\", padding: 0 }}\n                                            onClick={() => handleRemoveGroup(group)}\n                                        >\n                                            <X color=\"#F96969\" size={20} />\n                                        </Button>\n                                    </ul>\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default InvoicesFilters;","import React, { useEffect, useRef, useState } from 'react';\nimport { Download, Printer, Send } from 'react-bootstrap-icons';\nimport { Helmet } from 'react-helmet-async';\nimport { useSearchParams } from 'react-router-dom';\nimport { useMutation } from '@tanstack/react-query';\nimport { Button } from 'primereact/button';\nimport { useDebounce } from 'primereact/hooks';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport style from './invoice.module.scss';\nimport InvoiceTable from './invoices-table';\nimport { paidExpense } from '../../../../APIs/expenses-api';\nimport { sendInvoiceToXeroApi } from '../../../../APIs/invoice-api';\nimport { formatAUD } from '../../../../shared/lib/format-aud';\nimport NewExpensesCreate from '../../features/expenses-features/new-expenses-create/new-expense-create';\nimport CreateStatement from '../../features/invoice-features/create-statement/create-statement';\nimport InvoiceDropdown from '../../features/invoice-features/invoice-filters/invoice-dropdown';\nimport InvoicesFilters from '../../features/invoice-features/invoice-filters/invoices-filters';\n\nconst InvoicePage = () => {\n    const dt = useRef(null);\n    const [searchParams] = useSearchParams();\n    const isShowUnpaid = searchParams.get('isShowUnpaid');\n    const [total, setTotal] = useState(0);\n    const [totalMoney, setTotalMoney] = useState(0);\n    const [filter, setFilters] = useState({});\n    const [isStatementCreationPossible, setIsStatementCreationPossible] = useState(false);\n    const [visible, setVisible] = useState(false);\n    const [refetch, setRefetch] = useState(false);\n    const [isShowDeleted, setIsShowDeleted] = useState(isShowUnpaid ? true : false);\n    const [selected, setSelected] = useState(null);\n    const [inputValue, debouncedValue, setInputValue] = useDebounce('', 400);\n\n    const exportCSV = (selectionOnly) => {\n        if (!selected || selected.length === 0) {\n            toast.error('Please select invoices to export');\n            return;\n        }\n\n        // Format date function similar to the table\n        const formatDate = (timestamp) => {\n            try {\n                const date = new Date(timestamp * 1000);\n                const day = date.getDate();\n                const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n                    month: \"short\",\n                }).format(date);\n                const year = date.getFullYear();\n                return `${day} ${monthAbbreviation} ${year}`;\n            } catch (error) {\n                console.log('error: ', error);\n                return '';\n            }\n        };\n\n        // Transform data to match your CSV format exactly like print function\n        const csvData = selected.map(invoice => ({\n            'Invoice ID': invoice.number || '',\n            'Created at': invoice.created ? formatDate(invoice.created) : '',\n            'Customer AZ': invoice.client?.name || '',\n            'Invoice Reference': invoice.reference || '',\n            'Due Date': invoice.due_date ? formatDate(invoice.due_date) : '',\n            'Total invoice': invoice.amount ? `$${formatAUD(invoice.amount)}` : '$0.00',\n            'To be paid': invoice.to_be_paid ? `$${formatAUD(invoice.to_be_paid)}` : '$0.00',\n        }));\n\n        // Convert to CSV and download\n        exportToCSV(csvData, `invoices_${new Date().toISOString().split('T')[0]}.csv`);\n    };\n\n    // Helper function to convert data to CSV\n    const exportToCSV = (data, filename) => {\n        if (data.length === 0) {\n            toast.error('No data to export');\n            return;\n        }\n\n        const headers = Object.keys(data[0]);\n        const csvHeaders = headers.map(header => `\"${header}\"`).join(',');\n        const csvRows = data.map(row => \n            headers.map(header => `\"${(row[header] || '').toString().replace(/\"/g, '\"\"')}\"`).join(',')\n        );\n\n        const csvContent = [csvHeaders, ...csvRows].join('\\n');\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const url = window.URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = filename;\n        link.style.display = 'none';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        window.URL.revokeObjectURL(url);\n    };\n\n    const printInvoices = () => {\n        if (!selected || selected.length === 0) {\n            toast.error('Please select invoices to print');\n            return;\n        }\n\n        // Format date function similar to the table\n        const formatDate = (timestamp) => {\n            try {\n                const date = new Date(timestamp * 1000);\n                const day = date.getDate();\n                const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n                    month: \"short\",\n                }).format(date);\n                const year = date.getFullYear();\n                return `${day} ${monthAbbreviation} ${year}`;\n            } catch (error) {\n                console.log('error: ', error);\n                return '';\n            }\n        };\n\n        const printWindow = window.open('', '_blank');\n        const totalAmount = selected.reduce((sum, inv) => sum + (inv.amount || 0), 0);\n        const totalOutstanding = selected.reduce((sum, inv) => sum + (inv.to_be_paid || 0), 0);\n\n        printWindow.document.write(`\n            <html>\n                <head>\n                    <title>&nbsp;</title>\n                    <style>\n                        body { \n                            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; \n                            margin: 20px; \n                            line-height: 1.4;\n                        }\n                        .header { \n                            text-align: center; \n                            margin-bottom: 30px; \n                            border-bottom: 1px solid #dedede;\n                            padding-bottom: 0px;\n                        }\n                        .meta-info { \n                            text-align: right; \n                            margin-bottom: 20px; \n                            color: #666;\n                            font-size: 14px;\n                        }\n                        table { \n                            width: 100%; \n                            border-collapse: collapse; \n                            margin-top: 20px; \n                            font-size: 8px;\n                        }\n                        th, td { \n                            border: 1px solid #ddd; \n                            padding: 10px; \n                            text-align: left; \n                        }\n                        th { \n                            background-color: #f8f9fa; \n                            font-weight: bold;\n                            color: #333;\n                        }\n                        tr:nth-child(even) { \n                            background-color: #f9f9f9; \n                        }\n                        .total-row {\n                            font-weight: bold;\n                            background-color: #e9ecef !important;\n                        }\n                        @media print {\n                            body { margin: 0; }\n                            .no-print { display: none; }\n                            @page {\n                                margin: 0.5in;\n                                size: A4;\n                                @bottom-left {\n                                    content: \"Generated on ${new Date().toLocaleString()}\";\n                                    font-size: 8px;\n                                    color: #666;\n                                }\n                                @bottom-right {\n                                    content: \"Page \" counter(page) \" of \" counter(pages);\n                                    font-size: 8px;\n                                    color: #666;\n                                }\n                            }\n                        }\n                    </style>\n                </head>\n                <body>\n                    <div class=\"header\">\n                        <h4>Invoices Report</h4>\n                    </div>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>Invoice ID</th>\n                                <th style=\"white-space: nowrap;\">Created At</th>\n                                <th>Customer</th>\n                                <th>Invoice Reference</th>\n                                <th style=\"white-space: nowrap;\">Due Date</th>\n                                <th>Total Invoice</th>\n                                <th>To be Paid</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            ${selected.map(invoice => `\n                                <tr>\n                                    <td>${invoice.number || ''}</td>\n                                    <td style=\"white-space: nowrap;\">${invoice.created ? formatDate(invoice.created) : ''}</td>\n                                    <td>${invoice.client?.name || ''}</td>\n                                    <td>${invoice.reference || ''}</td>\n                                    <td style=\"white-space: nowrap;\">${invoice.due_date ? formatDate(invoice.due_date) : ''}</td>\n                                    <td>$${formatAUD(invoice.amount || 0)}</td>\n                                    <td>$${formatAUD(invoice.to_be_paid || 0)}</td>\n                                </tr>\n                            `).join('')}\n                            <tr class=\"total-row\">\n                                <td colspan=\"5\"><strong>Total</strong></td>\n                                <td><strong>$${formatAUD(totalAmount)}</strong></td>\n                                <td><strong>$${formatAUD(totalOutstanding)}</strong></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </body>\n            </html>\n        `);\n        printWindow.document.close();\n        \n        setTimeout(() => {\n            printWindow.print();\n            printWindow.close();\n        }, 250);\n    };\n\n    const paidMutation = useMutation({\n        mutationFn: (data) => paidExpense(data),\n        onSuccess: () => {\n            setRefetch((refetch) => !refetch);\n            setSelected(null);\n            toast.success(`Expenses have been successfully marked as paid.`);\n        },\n        onError: (error) => {\n            console.log('error: ', error);\n            toast.error(`Failed to mark the expenses as paid. Please try again.`);\n        }\n    });\n\n    const sendInvoiceToXeroMutation = useMutation({\n        mutationFn: (data) => sendInvoiceToXeroApi(data),\n        onSuccess: () => {\n            setRefetch((refetch) => !refetch);\n            setSelected(null);\n            toast.success(`Invoice successfully sent to Xero!`);\n        },\n        onError: (error) => {\n            console.log('error: ', error);\n            toast.error(`Failed to send the invoice to xero. Please try again.`);\n        }\n    });\n\n    const sendInvoiceToXero = () => {\n        const ids = selected.map(item => item.unique_id);\n        sendInvoiceToXeroMutation.mutate({ ids: ids });\n    };\n\n    const handleUnpaid = () => {\n        setIsShowDeleted(!isShowDeleted);\n        if (isShowUnpaid === 'true' && isShowDeleted) {\n            window.history.pushState({}, '', '/invoices');\n        }\n    };\n\n    useEffect(() => {\n        if (selected?.length) {\n            const findSameSupplier = selected.every(item => item?.client?.id === selected[0].client?.id);\n            setIsStatementCreationPossible(findSameSupplier);\n        }else {\n            setIsStatementCreationPossible(false);\n        }\n    }, [selected]);\n\n    return (\n        <div className='peoples-page'>\n            <Helmet>\n                <title>MeMate - Invoices</title>\n            </Helmet>\n            <div className={`topbar ${selected?.length ? style.active : ''}`} style={{ padding: '4px 32px 4px 23px', position: 'relative', height: '48px' }}>\n                <div className='left-side d-flex align-items-center' style={{ gap: '16px' }}>\n                    {\n                        selected?.length ? (\n                            <>\n                                <h6 className={style.selectedCount}>Selected: {selected?.length}</h6>\n                                <div className='filtered-box d-flex align-items-center gap-2'>\n                                    <button className={`outline-button ${style.actionButton}`} disabled={sendInvoiceToXeroMutation.isPending} onClick={sendInvoiceToXero}>Send to Xero/MYOB\n                                        {\n                                            sendInvoiceToXeroMutation.isPending\n                                                ? <ProgressSpinner\n                                                    style={{ width: \"20px\", height: \"20px\" }}\n                                                /> : <Send color='#1D2939' size={20} />\n                                        }\n                                    </button>\n                                    <button className={`${style.filterBox}`} onClick={() => exportCSV(true)}><Download /></button>\n                                    <button className={`${style.filterBox}`} onClick={printInvoices}><Printer /></button>\n                                </div>\n                            </>\n                        )\n                            : (\n                                <>\n                                    <div className='filtered-box'>\n                                        <InvoiceDropdown setFilters={setFilters} filter={filter} />\n                                    </div>\n\n                                    <div className=\"searchBox\" style={{ position: 'relative' }}>\n                                        <div style={{ position: 'absolute', top: '2px', left: '6px' }}>\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                                                <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n                                            </svg>\n                                        </div>\n                                        <input type=\"text\" placeholder=\"Search\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} className=\"border search-resource\" style={{ borderRadius: '4px', width: '184px', border: '1px solid #D0D5DD', color: '#424242', paddingLeft: '36px', fontSize: '14px', height: '32px' }} />\n                                    </div>\n                                </>\n                            )\n                    }\n                </div>\n\n                <div className=\"featureName d-flex align-items-center\" style={{ position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)' }}>\n                    <h1 className=\"title p-0\">Invoices</h1>\n                </div>\n                <div className=\"right-side d-flex align-items-center\" style={{ gap: '8px' }}>\n                    {isStatementCreationPossible && <CreateStatement invoices={selected} />}\n                    <Button className={isShowDeleted ? style.unpaidInvoice : style.allInvoice} onClick={handleUnpaid}>Unpaid</Button>\n                    {isShowDeleted && <>\n                        <h1 className={`${style.total} mb-0`}>Total</h1>\n                        <div className={`${style.totalCount}`}>{total} Invoice</div>\n                        <h1 className={style.totalMoney}>${formatAUD(totalMoney || 0.00)}</h1>\n                    </>\n                    }\n                </div>\n            </div>\n            {\n                Object.keys(filter)?.length > 0 && (\n                    <InvoicesFilters filter={filter} setFilters={setFilters} />\n                )\n            }\n            <InvoiceTable ref={dt} searchValue={debouncedValue} setTotal={setTotal} setTotalMoney={setTotalMoney}\n                selected={selected} setSelected={setSelected}\n                isShowDeleted={isShowDeleted}\n                refetch={refetch}\n                setRefetch={setRefetch}\n                isFilterEnabled={Object.keys(filter)?.length > 0}\n                filters={filter}\n            />\n            <NewExpensesCreate visible={visible} setVisible={setVisible} setRefetch={setRefetch} />\n        </div>\n    );\n};\n\nexport default InvoicePage;","// extracted by mini-css-extract-plugin\nexport default {\"clientImg\":\"image-avatar_clientImg__-nnRU\"};","import React, { useState } from 'react';\nimport { Building, Person } from 'react-bootstrap-icons';\nimport style from './image-avatar.module.scss';\n\nconst ImageAvatar = ({ has_photo, photo, is_business }) => {\n    const [imgError, setImgError] = useState(false);\n    const Icon = is_business ? Building : Person;\n\n    return (\n        <div className={`d-flex justify-content-center align-items-center ${style.clientImg} ${is_business ? \"\" : \"rounded-circle\"}`} style={{ overflow: 'hidden' }}>\n            {has_photo && photo && !imgError ? (\n                <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n            ) : (\n                <Icon color=\"#667085\" />\n            )}\n        </div>\n    );\n};\n\nexport const FallbackImage = ({ has_photo, photo, is_business, size }) => {\n    const [imgError, setImgError] = useState(false);\n    const Icon = is_business ? Building : Person;\n\n    return <>\n        {has_photo && photo && !imgError ? (\n            <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n        ) : (\n            <Icon color=\"#667085\" size={size} />\n        )}\n    </>;\n};\n\nexport const FallbackImageWithInitials = ({ has_photo, photo, name }) => {\n    const [imgError, setImgError] = useState(false);\n    const initials = name && name?.split(' ')?.map(n => n[0])?.join('')?.toUpperCase() || \"\";\n\n    return <>\n        {has_photo && photo && !imgError ? (\n            <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n        ) : initials}\n    </>;\n};\n\nexport const InitialsAvatar = ({ name, size = 14 }) => {\n    const initials = name.split(' ').map(n => n[0]).join('').toUpperCase();\n\n    return (\n        <span style={{ fontSize: `${size}px` }}>\n            {initials}\n        </span>\n    );\n};\n\nexport default ImageAvatar;\n","export const USER_ROLES = Object.freeze({\n    ADMIN: 'Admin',\n    LOCATION_MANAGER: 'Location Manager',\n    GENERAL_MANAGER: 'General Manager',\n    DEVELOPER: 'Developer',\n    DESIGNER: 'Designers',\n    SMM_PR: 'SMM/PR',\n});","import { PERMISSIONS } from \"./permission\";\nimport { USER_ROLES } from \"./role\";\n\nexport const ROLE_PERMISSIONS = {\n    [USER_ROLES.ADMIN]: {\n        permissions: [\n            // clients \n            PERMISSIONS.CLIENTS.CREATE,\n            PERMISSIONS.CLIENTS.READ,\n            PERMISSIONS.CLIENTS.UPDATE,\n            PERMISSIONS.CLIENTS.DELETE,\n\n            // suppliers\n            PERMISSIONS.SUPPLIERS.CREATE,\n            PERMISSIONS.SUPPLIERS.READ,\n            PERMISSIONS.SUPPLIERS.UPDATE,\n            PERMISSIONS.SUPPLIERS.DELETE,\n\n            // Expense\n            PERMISSIONS.EXPENSE.CREATE,\n            PERMISSIONS.EXPENSE.READ,\n            PERMISSIONS.EXPENSE.UPDATE,\n            PERMISSIONS.EXPENSE.DELETE,\n\n            // Invoice\n            PERMISSIONS.INVOICE.CREATE,\n            PERMISSIONS.INVOICE.READ,\n            PERMISSIONS.INVOICE.UPDATE,\n            PERMISSIONS.INVOICE.DELETE,\n\n            // subscription\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.BUY_BUSINESS_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.CANCEL_BUSINESS_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.BUY_COMPANY_USER_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.BUY_WORK_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.CANCEL_WORK_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.ACTIVE_WORK_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.BUY_WORK_USER_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.BUY_LOCATION_SUBSCRIPTION,\n            PERMISSIONS.SETTINGS.SUBSCRIPTION.REMOVE_LOCATION_SUBSCRIPTION,\n\n            // settings location\n            PERMISSIONS.SETTINGS.LOCATION.ADD,\n            PERMISSIONS.SETTINGS.LOCATION.READ,\n            PERMISSIONS.SETTINGS.LOCATION.UPDATE,\n            PERMISSIONS.SETTINGS.LOCATION.DELETE,\n\n            // settings desktop users\n            PERMISSIONS.SETTINGS.USERS.DESKTOP.ADD,\n            PERMISSIONS.SETTINGS.USERS.DESKTOP.READ,\n            PERMISSIONS.SETTINGS.USERS.DESKTOP.DELETE,\n            PERMISSIONS.SETTINGS.USERS.DESKTOP.UPDATE,\n            PERMISSIONS.SETTINGS.USERS.DESKTOP.RESTORE,\n            PERMISSIONS.SETTINGS.USERS.DESKTOP.SHOW_DELETED_USERS,\n\n            // settings mobile users\n            PERMISSIONS.SETTINGS.USERS.MOBILE_APP.ADD,\n            PERMISSIONS.SETTINGS.USERS.MOBILE_APP.READ,\n            PERMISSIONS.SETTINGS.USERS.MOBILE_APP.UPDATE,\n            PERMISSIONS.SETTINGS.USERS.MOBILE_APP.DISCONNECT_USER,\n            PERMISSIONS.SETTINGS.USERS.MOBILE_APP.RECONNECT_USER,\n            PERMISSIONS.SETTINGS.USERS.MOBILE_APP.SHOW_DISCONNECTED_USERS,\n        ],\n    },\n};\n\nexport const hasPermission = (role, permissions, requireAll = true) => {\n    if (!role || !ROLE_PERMISSIONS[role]) return false;\n\n    const rolePermissions = ROLE_PERMISSIONS[role].permissions;\n\n    if (Array.isArray(permissions)) {\n        return requireAll\n            ? permissions.every((perm) => rolePermissions.includes(perm))\n            : permissions.some((perm) => rolePermissions.includes(perm));\n    }\n\n    return rolePermissions.includes(permissions);\n};","// extracted by mini-css-extract-plugin\nexport default {\"noDataBox\":\"no-data-found-template_noDataBox__HgeT1\",\"searchImg\":\"no-data-found-template_searchImg__MnYNA\",\"title\":\"no-data-found-template_title__P5uV2\",\"subTitle\":\"no-data-found-template_subTitle__zMBB-\",\"supportext\":\"no-data-found-template_supportext__pHg2P\"};","import React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { ChevronLeft } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport style from './no-data-found-template.module.scss';\nimport NodataImg from \"../../assets/images/img/NodataImg.png\";\nimport Support from '../../shared/ui/support/support';\n\n\nconst NoDataFoundTemplate = ({ isDataExist = true }) => {\n    const [visible, setVisible] = useState(false);\n    return (\n        <div className={clsx(style.noDataBox)}>\n            <div className='position-relative d-flex flex-column'>\n                <img src={NodataImg} alt='no-data' />\n            </div>\n            {\n                isDataExist ? (\n                    <>\n                        <h2 className={clsx(style.title)}>There is no results</h2>\n                        <p className={clsx(style.subTitle)}>\n                            The user you are looking for doesn't exist. <br />Here are some helpful links:\n                        </p>\n                        <Link to={\"/\"}><Button className='outline-button' style={{ marginBottom: '32px' }}> <ChevronLeft /> Go back</Button></Link>\n                        <Link onClick={() => setVisible(true)} to={\"#\"}><span className={clsx(style.supportext)}>Support</span></Link>\n                    </>\n                ) : (\n                    <>\n                        <h2 className={clsx(style.title)}>No historical records yet.</h2>\n                    </>\n                )\n            }\n            <Support setVisible={setVisible} visible={visible} />\n        </div>\n    );\n};\n\nexport default NoDataFoundTemplate;"],"names":["PERMISSIONS","Object","freeze","CLIENTS","CREATE","READ","UPDATE","DELETE","SUPPLIERS","SALES","MANAGEMENT","PROJECTS","STATISTIC","EXPENSE","INVOICE","SETTINGS","SUBSCRIPTION","BUY_BUSINESS_SUBSCRIPTION","CANCEL_BUSINESS_SUBSCRIPTION","BUY_COMPANY_USER_SUBSCRIPTION","BUY_WORK_SUBSCRIPTION","CANCEL_WORK_SUBSCRIPTION","ACTIVE_WORK_SUBSCRIPTION","BUY_WORK_USER_SUBSCRIPTION","BUY_LOCATION_SUBSCRIPTION","REMOVE_LOCATION_SUBSCRIPTION","USERS","MOBILE_APP","ADD","DISCONNECT_USER","RECONNECT_USER","SHOW_DISCONNECTED_USERS","DESKTOP","RESTORE","SHOW_DELETED_USERS","LOCATION","formatAUD","amount","shorten","arguments","length","undefined","num","parseFloat","isNaN","Math","abs","Intl","NumberFormat","notation","compactDisplay","minimumFractionDigits","maximumFractionDigits","format","API_BASE_URL","process","getListOfInvoice","async","page","limit","_filters$status","search","order","isShowUnpaid","filters","offset","url","URL","searchParams","append","clientsFilter","_filters$client","client","map","id","join","statusFilter","_filters$status2","status","forEach","element","name","date","_filters$date$","_filters$date$$value","_filters$date$2","_filters$date$2$value","startDate","value","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","endDate","fetchAPI","toString","method","getInvoice","uniqueId","paymentIntentCreate","data","options","body","deleteInvoice","sendInvoiceEmail","resendInvoiceEmail","partialPaymentCreate","sendInvoiceToXeroApi","markInvoiceAsPaid","markInvoiceAsUnpaid","headerElement","_jsx","className","style","children","InvoiceHistory","_ref2","history","formatDate","timestamp","DateTimeFormat","Card","clsx","_jsxs","Body","fontSize","DataTable","showGridlines","Column","field","width","rowData","_ref3","rowIndex","_Fragment","header","rawData","type","Bank","size","Cash","Stripe","CreditCard","textAlign","deposit","_rowData$manager","_rowData$manager2","height","borderRadius","overflow","src","manager","photo","widows","created","_ref","show","setShow","invoice","setRefetch","isShowHistory","setIsShowHistory","useState","setDeposit","setType","errors","setErrors","icon","label","mutation","useMutation","mutationFn","unique_id","onSuccess","old","toast","success","onError","error","console","useEffect","Dialog","visible","modal","onHide","SelectButton","onChange","e","itemTemplate","option","optionLabel","Link","to","invoice_url","target","Button","FilePdf","color","LinkIcon","IconField","iconPosition","InputIcon","position","top","InputNumber","onValueChange","minWidth","padding","maxFractionDigits","minFractionDigits","placeholder","inputId","onClick","toFixed","to_be_paid","fontWeight","budget","flex","real_cost","cost_of_sale","labor_expenses","profit","disabled","isPending","onsubmit","errorCount","others","mutate","ProgressSpinner","borderTop","billing_history","_clientQuery$data","projectId","clientId","isAction","payload","setPayload","clientQuery","useQuery","queryKey","queryFn","getClientById","enabled","retry","Bell","text","SendDynamicEmailForm","contactPersons","contact_persons","projectCardData","defaultTemplateId","Send","monthAbbreviation","log","InvoiceTable","forwardRef","ref","searchValue","setTotal","setTotalMoney","selected","setSelected","isShowDeleted","refetch","isFilterEnabled","role","useAuth","observerRef","useRef","navigate","useNavigate","trialHeight","useTrialHeight","invoices","setInvoices","setPage","sort","setSort","sortField","sortOrder","tempSort","setTempSort","hasMoreData","setHasMoreData","loading","setLoading","setVisible","invoiceData","setInvoiceData","_data$results","count","total_amount","results","prev","existingClientIds","Set","newClients","filter","has","loadData","JSON","stringify","current","IntersectionObserver","entries","isIntersecting","prevPage","lastRow","document","querySelector","observe","disconnect","deleteMutation","reset","duplicateMutation","fetchduplicateData","scrollable","selectionMode","columnResizeMode","resizableColumns","scrollHeight","selection","onSelectionChange","loadingIcon","Loader","emptyMessage","NoDataFoundTemplate","isDataExist","onSort","event","rowClassName","deleted","headerClassName","bodyClassName","headerStyle","frozen","lineHeight","number","reference","maxWidth","sortable","Link45deg","exportField","_rowData$client","_rowData$client2","_rowData$client3","_rowData$client4","ImageAvatar","has_photo","is_business","Tag","border","background","due_date","_rowData$client5","paid","Badge","severity","overdue","ResendInvoiceEmail","payment_status","exportable","isPaid","CurrencyDollar","isOpen","setOpen","anchorProps","useClick","React","InfoCircle","left","ControlledMenu","state","anchorRef","onClose","menuStyle","marginTop","maxHeight","CloseButton","index","_history$manager","_history$manager2","_history$manager3","marginRight","Coin","Calendar3Event","xero_status","exportHeader","_rowData$client6","_rowData$client7","ThreeDotsVertical","SendInvoiceEmail","mutateAsync","Files","variables","opacity","FileEarmarkSpreadsheet","hasPermission","Trash","bodyStyle","InvoicePartialPayment","_invoices$","_invoices$$client","_invoices$2","_invoices$2$client","clientName","downloadStatementMutation","downloadStatement","pdf_url","window","open","handleDownload","invoiceIds","item","setFilters","showFilter","setShowFilter","key","setKey","statusValue","setStatusValue","clientValue","setClientValue","dateRange","setDateRange","clients","setClients","selectedClient","setSelectedClient","inputValue","debouncedValue","setInputValue","useDebounce","formatDateToYMD","getListOfClients","filteredClients","previous","timeout","setTimeout","clearTimeout","handleStatusChange","includes","s","handleCancel","handleApply","formattedStatus","dateName","Filter","Tabs","activeKey","onSelect","k","marginLeft","Tab","eventKey","title","People","xmlns","viewBox","fill","d","some","FallbackImage","Check","Checkbox","checked","htmlFor","CalendarWeek","Flatpickr","dateFormat","mode","inline","_Object$keys","_Object$entries","keys","group","items","variant","handleRemoveTag","itemName","newFilters","newItems","X","groupName","handleRemoveGroup","InvoicePage","_Object$keys2","dt","useSearchParams","get","total","totalMoney","isStatementCreationPossible","setIsStatementCreationPossible","setIsShowDeleted","exportToCSV","filename","headers","csvContent","row","replace","blob","Blob","createObjectURL","link","createElement","href","download","display","appendChild","click","removeChild","revokeObjectURL","sendInvoiceToXeroMutation","paidExpense","findSameSupplier","every","_item$client","_selected$0$client","Helmet","gap","sendInvoiceToXero","ids","selectionOnly","csvData","_invoice$client","toISOString","split","exportCSV","Download","printInvoices","printWindow","totalAmount","reduce","sum","inv","totalOutstanding","write","toLocaleString","_invoice$client2","close","print","Printer","InvoiceDropdown","paddingLeft","transform","CreateStatement","handleUnpaid","pushState","InvoicesFilters","NewExpensesCreate","imgError","setImgError","Icon","Building","Person","alt","FallbackImageWithInitials","_name$split","_name$split$map","_name$split$map$join","initials","n","toUpperCase","InitialsAvatar","_ref4","USER_ROLES","ADMIN","LOCATION_MANAGER","GENERAL_MANAGER","DEVELOPER","DESIGNER","SMM_PR","ROLE_PERMISSIONS","permissions","requireAll","rolePermissions","Array","isArray","perm","NodataImg","marginBottom","ChevronLeft","Support"],"sourceRoot":""}