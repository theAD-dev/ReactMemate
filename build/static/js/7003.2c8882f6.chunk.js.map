{"version":3,"file":"static/js/7003.2c8882f6.chunk.js","mappings":"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","sources":["components/Business/Pages/management/project-card/new-task.js","APIs/expenses-api.js","APIs/management-api.js","components/Business/features/clients-features/new-client-create/indivisual-form.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/compose-email/compose-email.module.scss?1389","components/Business/Pages/management/project-card/compose-email/compose-email.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/send-sms/send-sms.module.scss?7d3f","components/Business/Pages/management/project-card/send-sms/send-sms.js","webpack://memateapp/./src/ui/image-with-fallback/image-avatar.module.scss?81d4","ui/image-with-fallback/image-avatar.jsx","webpack://memateapp/./src/components/Work/features/task/create-task/comment-editor/comment-editor.module.scss?063d","components/Work/features/task/create-task/comment-editor/comment-editor.jsx","webpack://memateapp/./src/components/Work/features/task/create-task/create-task.module.scss?cbbe","components/Business/Pages/management/task/select-date.js","webpack://memateapp/./src/components/Work/features/task/task-comments/task-comments.module.scss?9e4a","components/Work/features/task/task-comments/task-comments.js","components/Work/features/task/create-task/create-task.js","components/Business/Pages/management/task/create-task.js","assets/images/icon/addNoteModeIcon.svg","APIs/TasksApi.js","assets/images/icon/folderFileIcon.svg","components/Business/Pages/management/project-card/files-management/files-model.js","APIs/task-api.js","APIs/email-template.js","webpack://memateapp/./src/ui/send-email-2/send-email.module.scss?3bd9","ui/send-email-2/send-email.jsx","entities/sales/api/sales.api.jsx","entities/sales/models/delete-sale-quotation.mutation.jsx","components/Business/features/sales-features/resend-quote/resend-quote.jsx","webpack://memateapp/./src/components/Business/features/sales-features/sales-history/sale-history.module.scss?72a8","components/Business/features/sales-features/sales-history/sale-history.jsx","components/Business/Pages/sales/features/actions-dots.js","assets/images/icon/sale-01.svg","components/Business/Pages/sales/features/contact-add.js","assets/images/icon/calendargradi.svg","assets/images/icon/mailgradi.svg","assets/images/icon/phonecallgra.svg","webpack://memateapp/./src/components/Business/Pages/sales/sales.module.scss?0b8f","components/Business/Pages/sales/features/contact-sales.js","components/Business/Pages/sales/features/circle-progress-bar.js","components/Business/Pages/sales/features/progress.js","assets/images/icon/archive.svg","components/Business/Pages/sales/features/quote-lost.js","components/layout/ConfettiComponent.js","components/Business/Pages/sales/features/quote-won.js","webpack://memateapp/./src/components/Business/Pages/sales/features/request-changes.module.scss?7b2d","components/Business/Pages/sales/features/request-changes.js","webpack://memateapp/./src/components/Business/Pages/sales/features/sales-history/sales-history.module.scss?7126","components/Business/Pages/sales/features/sales-history/sales-history.jsx","components/Business/Pages/sales/features/sales-note.js","components/Business/Pages/sales/features/bank-details-model.js","components/Business/Pages/sales/features/date-range-picker.js","components/Business/Pages/sales/search-filter.js","components/Business/Pages/sales/table-top-bar.js","components/Business/Pages/sales/sales-tables.js","components/Business/Pages/sales/sales-page.js","shared/ui/date-range-picker-calendar/index.jsx","components/Business/Pages/management/project-card/add-note.js","features/chat/ui/chat-area/chat-attachment-popover.jsx","shared/lib/bootstrap-file-icons.js"],"sourcesContent":["import { useState } from 'react';\nimport CreateTask from '../task/create-task';\n\nconst NewTask = ({ project, reInitialize, projectCardData }) => {\n    const [viewShow, setViewShow] = useState(false);\n    const handleShow = () => setViewShow(true);\n    \n    return (\n        <>\n            <div className=\"linkByttonStyle py-2 border-right pe-5\" onClick={handleShow}>\n                New Task\n            </div>\n            <CreateTask show={viewShow} setShow={setViewShow} project={project} reInitialize={reInitialize} projectCardData={projectCardData} />\n        </>\n    );\n};\n\nexport default NewTask;\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfExpense = async (page, limit, search = \"\", order = \"\", isShowUnpaid, filters) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/expenses/`;\n  const options = {\n    method: 'GET',\n  };\n  // Build query parameters manually to avoid URL encoding issues\n  const queryParams = [];\n  queryParams.push(`limit=${limit}`);\n  queryParams.push(`offset=${offset}`);\n  if (search) queryParams.push(`search=${encodeURIComponent(search)}`);\n  if (order) queryParams.push(`ordering=${encodeURIComponent(order)}`);\n  if (isShowUnpaid) queryParams.push('status=not_paid');\n\n  let suppliersFilter = '';\n  if (filters?.suppliers) {\n    suppliersFilter = filters?.suppliers?.map(supplier => supplier.id).join(',');\n    console.log('Suppliers filter string:', suppliersFilter);\n    if (suppliersFilter) {\n      queryParams.push(`suppliers=${suppliersFilter}`); // Don't encode commas\n    }\n  }\n\n  let departmentsFilter = '';\n  if (filters?.departments) {\n    departmentsFilter = filters?.departments?.map(dept => dept.id).join(',');\n    if (departmentsFilter) {\n      queryParams.push(`departments=${departmentsFilter}`); // Don't encode commas\n    }\n  }\n\n  let statusFilter = '';\n  if (filters?.status && filters?.status?.length === 1) {\n    console.log('Status filter array:', filters.status);\n    filters?.status?.forEach(element => {\n      console.log('Processing status element:', element);\n      if (element?.name === 'paid') statusFilter = 'paid';\n      else if (element?.name === 'not_paid') statusFilter = 'not_paid';\n    });\n    if (statusFilter) {\n      console.log('Applied status filter:', statusFilter);\n      queryParams.push(`status=${statusFilter}`);\n    }\n  } else if (filters?.status) {\n    console.log('Status filter not applied - length:', filters.status.length, 'values:', filters.status);\n  }\n\n  if (filters?.date) {\n    const startDate = filters?.date[0]?.value?.[0];\n    if (startDate) {\n      const date = new Date(startDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      queryParams.push(`date_after=${year}-${month}-${day}`);\n    }\n\n    const endDate = filters?.date[0]?.value?.[1];\n    if (endDate) {\n      const date = new Date(endDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      queryParams.push(`date_before=${year}-${month}-${day}`);\n    }\n  }\n\n  // Build final URL with unencoded commas\n  const finalUrl = `${API_BASE_URL}${endpoint}?${queryParams.join('&')}`;\n  console.log('Final expenses API URL:', finalUrl);\n\n  return fetchAPI(finalUrl, options);\n};\n\nexport const getXeroCodesList = async () => {\n  const endpoint = `/references/xero-codes/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProjectsList = async () => {\n  const endpoint = `/references/projects/expenses/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getExpense = async (id) => {\n  const endpoint = `/expenses/update/${id}/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createNewExpense = async (data) => {\n  const endpoint = '/expenses/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateExpense = async (id, data) => {\n  const endpoint = `/expenses/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const paidExpense = async (data) => {\n  const endpoint = '/expenses/paid/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const unpaidExpense = async (data) => {\n  const endpoint = '/expenses/unpaid/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendExpenseToXeroApi = async (data) => {\n  const endpoint = `/expenses/to-xero/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteExpense = async (uniqueId) => {\n  const endpoint = `/expenses/delete/${uniqueId}/`;\n  const options = {\n    method: 'DELETE'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const downloadStatement = async (data) => {\n  const endpoint = '/clients/statement/pdf/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendStatementEmail = async (data) => {\n  const endpoint = '/clients/statement/send/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const assignCodeToSupplier = async (id, code) => {\n  const endpoint = `/suppliers/service-update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: { code }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","const API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n/**\n * A generic fetch function to make API calls.\n * @param {string} endpoint - The API endpoint to call.\n * @param {object} options - The fetch options including method, headers, and body.\n * @returns {Promise<any>} - The JSON response from the API.\n */\nconst fetchAPI = async (endpoint, options = {}) => {\n    const { method = 'GET', headers = {}, body } = options;\n    const accessToken = localStorage.getItem(\"access_token\");\n\n    const defaultHeaders = {\n        'Authorization': `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n        ...headers\n    };\n\n    const requestOptions = {\n        method,\n        headers: defaultHeaders,\n        body: JSON.stringify(body),\n        redirect: 'follow'\n    };\n\n    try {\n        const url = new URL(`${endpoint}`);\n        const response = await fetch(url, requestOptions);\n        if (!response.ok) {\n            throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const contentType = response.headers.get('Content-Type');\n        if (contentType && contentType.includes('application/json')) {\n            return await response.json();\n        } else {\n            // Handle non-JSON responses\n            const text = await response.text();\n            return { message: 'Non-JSON response', body: text };\n        }\n\n    } catch (error) {\n        console.error('Fetch API error:', error);\n        throw error;\n    }\n};\n\n\nexport const updateProjectScheduleById = async (id, data) => {\n    const endpoint = `/project-card/schedule/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectStatusById = async (id, data) => {\n    const endpoint = `/project-card/custom-status/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectReferenceById = async (id, data) => {\n    const endpoint = `/project-card/reference/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createProjectNoteById = async (id, data) => {\n    const endpoint = `/project-card/note/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsToSalesUpdate = async (id) => {\n    const endpoint = `/projects/back/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsOrderDecline = async (id) => {\n    const endpoint = `/projects/decline/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsComplete = async (id) => {\n    const endpoint = `/projects/complete/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createInvoiceById = async (id) => {\n    const endpoint = `/invoices/create/${id}/`;\n    const options = {\n        method: 'POST'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createAndSendInvoiceById = async (id, data) => {\n    const endpoint = `/invoices/send/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getProjectFilesById = async (id) => {\n    const endpoint = `/projects/file-list/${id}/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const deleteFileByKey = async (id, fileKey) => {\n    const endpoint = `/projects/file-delete/${id}/`;\n    const options = {\n        method: 'POST',\n        body: { file_name: fileKey }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateCostBreakDownDescription = async (id, data) => {\n    const endpoint = `/project-card/calc-description/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const sendComposeEmail = async (id, action, data) => {\n    let endpoint;\n    if (action) endpoint = `/custom/email/${id}/${action}/`;\n    else endpoint = `/custom/email/${id}/`;\n\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const sendSms = async (id, data) => {\n    let endpoint = `/sms/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const resendQuoteEmail = async (id, data) => {\n    let endpoint = `/resend/quote/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getManagement = async () => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"GET\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/management/`, requestOptions);\n        const result = await response.json();\n        return result; // Return the result if needed\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\n\n\nexport const ProjectCardApi = async (uniqueId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"GET\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/${uniqueId}/`, requestOptions);\n        const result = await response.json();\n        return result; // Return the result if needed\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\nexport const cardScheduleUpdateApi = async (uniqueId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"PUT\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/schedule/${uniqueId}/`, requestOptions);\n        console.log('response: ', response);\n        const result = await response.text();\n        return result;\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\nexport const cardAddNoteApi = async (projectId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"PUT\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/sales-note/${projectId}/`, requestOptions);\n        console.log('response: ', response);\n        const result = await response.text();\n        console.log('result: ', result);\n        return result;\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\n\n\n\n\n\n","import React, { forwardRef, useEffect, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport { Person } from 'react-bootstrap-icons';\nimport { useForm, Controller } from 'react-hook-form';\nimport { PhoneInput } from 'react-international-phone';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { Checkbox } from 'primereact/checkbox';\nimport { Dropdown } from 'primereact/dropdown';\nimport { IconField } from \"primereact/iconfield\";\nimport { InputIcon } from \"primereact/inputicon\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputTextarea } from \"primereact/inputtextarea\";\nimport * as yup from 'yup';\nimport styles from './new-client-create.module.scss';\nimport { getCities, getClientCategories, getCountries, getStates } from '../../../../../APIs/ClientsApi';\nimport { getMailchimpLists } from '../../../../../APIs/integrations-api';\nimport { useAuth } from '../../../../../app/providers/auth-provider';\nimport exclamationCircle from \"../../../../../assets/images/icon/exclamation-circle.svg\";\nimport FileUploader from '../../../../../ui/file-uploader/file-uploader';\n\nconst schema = yup\n    .object({\n        firstname: yup.string().required(\"First name is required\"),\n        lastname: yup.string().required(\"Last name is required\"),\n        email: yup.string().nullable().transform((value) => (value === \"\" ? null : value)).matches(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/, \"Invalid email address\").notRequired(),\n        // phone: yup.string().required(\"Phone number is required\").matches(/^\\+\\d{1,3}\\d{4,14}$/, 'Invalid phone number format'),\n\n        payment_terms: yup.number().typeError(\"Enter a valid payment terms\").required('Payment terms are required'),\n        category: yup.number().typeError(\"Enter a valid category\").required('Category is required'),\n        \n        // Mailchimp fields\n        add_to_mailchimp: yup.boolean(),\n        mailchimp_list_id: yup.string().when('add_to_mailchimp', {\n            is: true,\n            then: (schema) => schema.required('Please select a mailing list'),\n            otherwise: (schema) => schema.notRequired(),\n        }),\n    })\n    .required();\n\nconst IndivisualForm = forwardRef(({ photo, setPhoto, onSubmit, defaultValues }, ref) => {\n    const { session } = useAuth();\n    const [show, setShow] = useState(false);\n    const [addToMailchimp, setAddToMailchimp] = useState(false);\n\n    const [countryId, setCountryId] = useState('');\n    const [stateId, setStateId] = useState('');\n    const countriesQuery = useQuery({ queryKey: ['countries'], queryFn: getCountries, enabled: true });\n    const statesQuery = useQuery({ queryKey: ['states', countryId], queryFn: () => getStates(countryId), enabled: !!countryId, retry: 1 });\n    const citiesQuery = useQuery({ queryKey: ['cities', stateId], queryFn: () => getCities(stateId), enabled: !!stateId });\n\n    const categoriesQuery = useQuery({ queryKey: ['categories'], queryFn: getClientCategories });\n    const mailchimpListsQuery = useQuery({ \n        queryKey: ['mailchimp-lists'], \n        queryFn: getMailchimpLists,\n        enabled: addToMailchimp && session?.has_mailchimp\n    });\n\n    const { control, register, handleSubmit, formState: { errors }, setValue, watch } = useForm({\n        resolver: yupResolver(schema),\n        defaultValues\n    });\n\n    const emailValue = watch('email');\n\n    useEffect(() => {\n        if (defaultValues?.address?.country) setCountryId(defaultValues?.address?.country);\n        if (defaultValues?.address?.state) setStateId(defaultValues?.address?.state);\n    }, [defaultValues?.address]);\n\n    useEffect(() => {\n        if (categoriesQuery?.data?.length && !defaultValues.category) {\n            let findRegular = categoriesQuery.data?.find(category => category.name.toLowerCase() === 'regular');\n            if (findRegular.name) {\n                setValue('category', findRegular.id);\n            }\n        }\n    }, [categoriesQuery?.data, defaultValues, setValue]);\n\n    return (\n        <form ref={ref} onSubmit={handleSubmit(onSubmit)}>\n            <Row className={clsx(styles.bgGreay, 'pt-0')}>\n                <Col sm={12}>\n                    <div className={clsx(styles.fileUploadBox, 'cursor-pointer')} onClick={() => setShow(true)}>\n                        <div className={clsx(styles.uploadedImgBox)}>\n                            {photo ? <img src={photo?.croppedImageBase64 || photo} alt='profile-img' /> : <Person size={32} color='#667085' />}\n                        </div>\n                        <p className={clsx('mb-0', styles.uploadedText1)}><span className={clsx('mb-0', styles.uploadedText2)}>Click to upload</span></p>\n                        <span style={{ color: '#475467', fontSize: '12px' }}>SVG, PNG, JPG or GIF (max. 800x400px)</span>\n                    </div>\n                    <FileUploader show={show} setShow={setShow} setPhoto={setPhoto} shape='round' />\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>First Name<span className='required'>*</span></label>\n                        <IconField>\n                            <InputIcon>{errors.firstname && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                            <InputText {...register(\"firstname\")} className={clsx(styles.inputText, { [styles.error]: errors.firstname })} placeholder='Enter first name' />\n                        </IconField>\n                        {errors.firstname && <p className=\"error-message\">{errors.firstname.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>Last Name<span className='required'>*</span></label>\n                        <IconField>\n                            <InputIcon>{errors.lastname && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                            <InputText {...register(\"lastname\")} className={clsx(styles.inputText, { [styles.error]: errors.lastname })} placeholder='Enter last name' />\n                        </IconField>\n                        {errors.lastname && <p className=\"error-message\">{errors.lastname.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1\">\n                        <label className={clsx(styles.lable)}>Email</label>\n                        <IconField>\n                            <InputIcon>{errors.email && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                            <InputText {...register(\"email\")} className={clsx(styles.inputText, { [styles.error]: errors.email })} placeholder='example@email.com' />\n                        </IconField>\n                        {errors.email && <p className=\"error-message\">{errors.email.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1\">\n                        <label className={clsx(styles.lable)}>Phone number</label>\n                        <Controller\n                            name=\"phone\"\n                            control={control}\n                            render={({ field }) => (\n                                <PhoneInput\n                                    defaultCountry='au'\n                                    value={field.value}\n                                    className='phoneInput rounded'\n                                    containerClass={styles.countrySelector}\n                                    onChange={field.onChange}\n                                    style={{ border: `1px solid ${errors.phone ? 'red' : '#dedede'}` }}\n                                />\n                            )}\n                        />\n                        {errors.phone && <p className=\"error-message\">{errors.phone.message}</p>}\n                    </div>\n                </Col>\n            </Row>\n\n            <h2 className={clsx(styles.headingInputs, 'mt-4')}>Payment Terms</h2>\n            <Row className={clsx(styles.bgGreay)}>\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>Payment Terms<span className='required'>*</span></label>\n                        <Controller\n                            name=\"payment_terms\"\n                            control={control}\n                            render={({ field }) => (\n                                <Dropdown\n                                    {...field}\n                                    options={[\n                                        { value: 1, label: \"COD\" },\n                                        { value: 0, label: \"Prepaid\" },\n                                        { value: 7, label: \"Week\" },\n                                        { value: 14, label: \"Two weeks\" },\n                                        { value: 30, label: \"One month\" },\n                                    ] || []}\n                                    onChange={(e) => {\n                                        field.onChange(e.value);\n                                    }}\n                                    className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors.payment_terms })}\n                                    style={{ height: '46px' }}\n                                    value={field.value}\n                                    placeholder=\"Select payment terms\"\n                                    scrollHeight=\"380px\"\n                                    filterInputAutoFocus={true}\n                                />\n                            )}\n                        />\n                        {errors.payment_terms && <p className=\"error-message\">{errors.payment_terms.message}</p>}\n                    </div>\n                </Col>\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>Customers Discount Category<span className='required'>*</span></label>\n                        <Controller\n                            name=\"category\"\n                            control={control}\n                            render={({ field }) => (\n                                <Dropdown\n                                    {...field}\n                                    options={[\n                                        // { value: 1, label: 'Default - 0.00%' },\n                                        ...(categoriesQuery && categoriesQuery.data?.map((category) => ({\n                                            value: category.id,\n                                            label: `${category.name} - ${category.value}%`\n                                        }))) || []\n                                    ]}\n                                    onChange={(e) => {\n                                        field.onChange(e.value);\n                                    }}\n                                    className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors.category })}\n                                    style={{ height: '46px' }}\n                                    value={field.value}\n                                    loading={categoriesQuery?.isFetching}\n                                    placeholder=\"Select a category\"\n                                    scrollHeight=\"380px\"\n                                    filterInputAutoFocus={true}\n                                />\n                            )}\n                        />\n                        {errors.category && <p className=\"error-message\">{errors.category.message}</p>}\n                    </div>\n                </Col>\n            </Row>\n\n            <h2 className={clsx(styles.headingInputs)}>Locations</h2>\n            <Row className={clsx(styles.bgGreay)}>\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>Location Name</label>\n                        <IconField>\n                            <InputIcon>{errors.address?.title && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                            <InputText {...register(\"address.title\")} className={clsx(styles.inputText, { [styles.error]: errors.address?.title })} placeholder='Enter location name' />\n                        </IconField>\n                        {errors.address?.title && <p className=\"error-message\">{errors.address?.title?.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>Country</label>\n                        <Controller\n                            name=\"address.country\"\n                            control={control}\n                            defaultValue=\"\"\n                            render={({ field }) => (\n                                <Dropdown\n                                    {...field}\n                                    options={(countriesQuery && countriesQuery.data?.map((country) => ({\n                                        value: country.id,\n                                        label: country.name\n                                    }))) || []}\n                                    onChange={(e) => {\n                                        field.onChange(e.value);\n                                        setCountryId(e.value);\n                                    }}\n                                    className={clsx(styles.dropdownSelect, 'dropdown-height-fixed')}\n                                    style={{ height: '46px' }}\n                                    value={field.value}\n                                    loading={countriesQuery?.isFetching}\n                                    placeholder=\"Select a country\"\n                                    scrollHeight=\"380px\"\n                                    filterInputAutoFocus={true}\n                                />\n                            )}\n                        />\n                        {errors.address?.country && <p className=\"error-message\">{errors.address?.country?.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>State</label>\n                        <Controller\n                            name=\"address.state\"\n                            control={control}\n                            defaultValue=\"\"\n                            render={({ field }) => (\n                                <Dropdown\n                                    {...field}\n                                    options={(statesQuery && statesQuery.data?.map((state) => ({\n                                        value: state.id,\n                                        label: state.name\n                                    }))) || []}\n                                    onChange={(e) => {\n                                        field.onChange(e.value);\n                                        setStateId(e.value);\n                                    }}\n                                    className={clsx(styles.dropdownSelect, 'dropdown-height-fixed')}\n                                    style={{ height: '46px' }}\n                                    value={field.value}\n                                    loading={statesQuery?.isFetching}\n                                    placeholder={\"Select a state\"}\n                                    scrollHeight=\"380px\"\n                                    filter\n                                    filterInputAutoFocus={true}\n                                />\n                            )}\n                        />\n                        {errors.address?.state && <p className=\"error-message\">{errors.address?.state?.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1 mb-4\">\n                        <label className={clsx(styles.lable)}>City/Suburb</label>\n                        <Controller\n                            name=\"address.city\"\n                            control={control}\n                            defaultValue=\"\"\n                            render={({ field }) => (\n                                <Dropdown\n                                    {...field}\n                                    options={(citiesQuery && citiesQuery.data?.map((city) => ({\n                                        value: city.id,\n                                        label: city.name\n                                    }))) || []}\n                                    onChange={(e) => {\n                                        field.onChange(e.value);\n                                    }}\n                                    className={clsx(styles.dropdownSelect, 'dropdown-height-fixed')}\n                                    style={{ height: '46px' }}\n                                    value={field.value}\n                                    loading={citiesQuery?.isFetching}\n                                    disabled={citiesQuery?.isFetching}\n                                    placeholder={\"Select a city\"}\n                                    emptyMessage={!stateId ? \"Select a state first\" : \"No cities found\"}\n                                    scrollHeight=\"380px\"\n                                    filter\n                                    filterInputAutoFocus={true}\n                                />\n                            )}\n                        />\n                        {errors.address?.city && <p className=\"error-message\">{errors.address?.city?.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1\">\n                        <label className={clsx(styles.lable)}>Street Address</label>\n                        <IconField>\n                            <InputIcon>{errors.address?.address && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                            <InputText {...register(\"address.address\")} className={clsx(styles.inputText, { [styles.error]: errors.address?.address })} placeholder='Enter street address' />\n                        </IconField>\n                        {errors.address?.address && <p className=\"error-message\">{errors.address?.address?.message}</p>}\n                    </div>\n                </Col>\n\n                <Col sm={6}>\n                    <div className=\"d-flex flex-column gap-1\">\n                        <label className={clsx(styles.lable)}>Postcode</label>\n                        <IconField>\n                            <InputIcon>{errors.address?.postcode && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                            <InputText {...register(\"address.postcode\")} keyfilter=\"int\" className={clsx(styles.inputText, { [styles.error]: errors.address?.postcode })} placeholder='Enter postcode' />\n                        </IconField>\n                        {errors.address?.postcode && <p className=\"error-message\">{errors.address?.postcode?.message}</p>}\n                    </div>\n                </Col>\n            </Row>\n\n            <h2 className={clsx(styles.headingInputs)}>Client Description</h2>\n            <Row className={clsx(styles.bgGreay)}>\n                <Col>\n                    <div className=\"d-flex flex-column gap-1\">\n                        <label className={clsx(styles.lable)}>Description</label>\n                        <IconField>\n                            <InputIcon style={{ top: '80%' }}>{errors.description && <img src={exclamationCircle} />}</InputIcon>\n                            <InputTextarea {...register(\"description\")} rows={5} cols={30} className={clsx(styles.inputText, { [styles.error]: errors.description })} style={{ resize: 'none' }} placeholder='Enter a description...' />\n                        </IconField>\n                        {errors.description && <p className=\"error-message\">{errors.description.message}</p>}\n                    </div>\n                </Col>\n            </Row>\n\n            {session?.has_mailchimp && (\n                <>\n                    <h2 className={clsx(styles.headingInputs)}>Mailchimp Integration</h2>\n                    <Row className={clsx(styles.bgGreay)}>\n                        <Col sm={12}>\n                            <div className=\"d-flex align-items-center gap-2 mb-3\">\n                                <Controller\n                                    name=\"add_to_mailchimp\"\n                                    control={control}\n                                    render={({ field }) => (\n                                        <Checkbox\n                                            inputId=\"add_to_mailchimp\"\n                                            checked={field.value || false}\n                                            onChange={(e) => {\n                                                field.onChange(e.checked);\n                                                setAddToMailchimp(e.checked);\n                                            }}\n                                            disabled={!emailValue}\n                                        />\n                                    )}\n                                />\n                                <label htmlFor=\"add_to_mailchimp\" className={clsx(styles.lable, 'mb-0')}>\n                                    Add to Mailchimp mailing list\n                                </label>\n                            </div>\n                            {!emailValue && (\n                                <p className=\"text-muted\" style={{ fontSize: '12px', marginTop: '-8px', marginBottom: '12px' }}>\n                                    Please enter an email address to enable this option\n                                </p>\n                            )}\n                        </Col>\n\n                        {addToMailchimp && (\n                            <Col sm={12}>\n                                <div className=\"d-flex flex-column gap-1 mb-4\">\n                                    <label className={clsx(styles.lable)}>Mailing List<span className='required'>*</span></label>\n                                    <Controller\n                                        name=\"mailchimp_list_id\"\n                                        control={control}\n                                        render={({ field }) => (\n                                            <Dropdown\n                                                {...field}\n                                                options={Array.isArray(mailchimpListsQuery?.data?.lists) \n                                                    ? mailchimpListsQuery.data.lists.map((list) => ({\n                                                        value: list.id,\n                                                        label: list.name\n                                                    }))\n                                                    : []\n                                                }\n                                                onChange={(e) => {\n                                                    field.onChange(e.value);\n                                                }}\n                                                className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors.mailchimp_list_id })}\n                                                style={{ height: '46px' }}\n                                                value={field.value}\n                                                loading={mailchimpListsQuery?.isFetching}\n                                                placeholder=\"Select a mailing list\"\n                                                scrollHeight=\"380px\"\n                                                filterInputAutoFocus={true}\n                                                emptyMessage={mailchimpListsQuery?.isFetching ? \"Loading...\" : \"No mailing lists found\"}\n                                            />\n                                        )}\n                                    />\n                                    {errors.mailchimp_list_id && <p className=\"error-message\">{errors.mailchimp_list_id.message}</p>}\n                                </div>\n                            </Col>\n                        )}\n                    </Row>\n                </>\n            )}\n        </form>\n    );\n});\n\nexport default IndivisualForm;","// extracted by mini-css-extract-plugin\nexport default {\"emailUnavailableText\":\"compose-email_emailUnavailableText__-vpup\",\"emailStatus\":\"compose-email_emailStatus__ounlY\",\"disconnectedBadge\":\"compose-email_disconnectedBadge__6fNJK\",\"smsUnavailableText\":\"compose-email_smsUnavailableText__wC3+X\",\"settingsLink\":\"compose-email_settingsLink__Pe9yH\",\"disconnected\":\"compose-email_disconnected__mB26k\",\"dots\":\"compose-email_dots__Lk2LO\"};","import { useState } from \"react\";\nimport { Envelope, X } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport clsx from \"clsx\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { toast } from \"sonner\";\nimport style from \"./compose-email.module.scss\";\nimport { getOutgoingEmail } from \"../../../../../../APIs/email-template\";\nimport { sendComposeEmail } from \"../../../../../../APIs/management-api\";\nimport SendDynamicEmailForm from \"../../../../../../ui/send-email-2/send-email\";\n\nconst ComposeEmail = ({ projectId, projectCardData, contactPersons = [] }) => {\n  const [, setPayload] = useState({});\n  const [viewShow, setViewShow] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const outgoingEmailTemplateQuery = useQuery({\n    queryKey: [\"getOutgoingEmail\"],\n    queryFn: getOutgoingEmail\n  });\n\n  const handleShow = () => {\n    if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email !== 'no-reply@memate.com.au') {\n      setViewShow(true);\n    } else {\n      setShowInstructions(true);\n    }\n  };\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendComposeEmail(projectId, \"\", data),\n    onSuccess: () => {\n      setViewShow(false);\n      projectCardData();\n      toast.success(`Email send successfully.`);\n    },\n    onError: (error) => {\n      console.error('Error sending email:', error);\n      toast.error(`Failed to send email. Please try again.`);\n    }\n  });\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 ps-0\" onClick={handleShow}>Compose Email</div>\n\n      {/* Instructions modal */}\n      <Modal\n        show={showInstructions}\n        onHide={() => setShowInstructions(false)}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                <path d=\"M18 21.5H38C39.1 21.5 40 22.4 40 23.5V33.5C40 34.6 39.1 35.5 38 35.5H18C16.9 35.5 16 34.6 16 33.5V23.5C16 22.4 16.9 21.5 18 21.5ZM38 23.5L28 29.5L18 23.5V25.5L28 31.5L38 25.5V23.5Z\" fill=\"#F04438\" />\n              </svg>\n\n              <span className='ms-3'>Email is currently unavailable</span>\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <p className={style.emailUnavailableText}>Email functionality is currently unavailable. To use this feature, please configure an email account via <Link to=\"/settings/integrations?openEmail=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.</p>\n          </div>\n          <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto\", style.emailStatus)}>\n            <div className={clsx(\"d-flex align-items-center justify-content-center\")}>\n              <Envelope size={25} color=\"#667085\" />\n              <h6 className=\"ms-2 mt-2\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                Outgoing Email\n              </h6>\n            </div>\n            <span className={clsx(\"px-2 py-1\", style.disconnected)}>\n              Pending\n              <span className={style.dots}></span>\n            </span>\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      {/* Compose email modal */}\n      <SendDynamicEmailForm show={viewShow} isLoading={false} mutation={mutation} setShow={setViewShow} setPayload={setPayload} contactPersons={contactPersons} isComposeEmail={true} />\n    </>\n  );\n};\n\nexport default ComposeEmail;\n","// extracted by mini-css-extract-plugin\nexport default {\"phoneInput\":\"send-sms_phoneInput__Qgh+S\",\"countrySelector\":\"send-sms_countrySelector__y14UT\",\"customLabel\":\"send-sms_customLabel__RzF9F\",\"smsUnavailableAlert\":\"send-sms_smsUnavailableAlert__8Wmw4\",\"smsIcon\":\"send-sms_smsIcon__mwlTu\",\"twilioStatus\":\"send-sms_twilioStatus__9LyX9\",\"twilioIcon\":\"send-sms_twilioIcon__vuhjt\",\"disconnectedBadge\":\"send-sms_disconnectedBadge__L41qv\",\"smsUnavailableText\":\"send-sms_smsUnavailableText__iot1y\",\"settingsLink\":\"send-sms_settingsLink__DYIqa\"};","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { PhoneInput } from 'react-international-phone';\nimport { Link } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { PhoneNumberUtil } from 'google-libphonenumber';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport style from './send-sms.module.scss';\nimport { getSMS, getSMSTemplates } from '../../../../../../APIs/email-template';\nimport { sendSms } from '../../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst phoneUtil = PhoneNumberUtil.getInstance();\nconst isPhoneValid = (phone) => {\n  try {\n    return phoneUtil.isValidNumber(phoneUtil.parseAndKeepRawInput(phone));\n  } catch (error) {\n    return false;\n  }\n};\n\nconst SendSMS = ({ projectId, projectCardData }) => {\n  const [smsTemplateId, setSMSTemplatedId] = useState(null);\n  const [viewShow, setViewShow] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [message, setMessage] = useState('');\n  const [errors, setErrors] = useState({});\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const handleClose = () => {\n    setViewShow(false);\n    setMessage(\"\");\n    setPhoneNumber(\"\");\n    setErrors({});\n    setSMSTemplatedId(null);\n  };\n\n  const handleShow = () => {\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || \"{}\");\n    if (profileData?.has_twilio)\n      setViewShow(true);\n    else {\n      setShowInstructions(true);\n    }\n  };\n\n  const smsTemplateQuery = useQuery({\n    queryKey: [\"getSMSTemplates\"],\n    queryFn: getSMSTemplates\n  });\n\n  const smsQuery = useQuery({\n    queryKey: [\"smsQuery\", smsTemplateId],\n    queryFn: () => getSMS(smsTemplateId),\n    enabled: !!smsTemplateId,\n    retry: 1,\n  });\n\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendSms(projectId, data),\n    onSuccess: () => {\n      toast.success(`SMS send successfully`);\n      handleClose();\n      projectCardData();\n    },\n    onError: (error) => {\n      console.error('Error creating expense:', error);\n      toast.error('Failed to send sms. Please try again.');\n    }\n  });\n\n  const handleSubmit = () => {\n    let error = {};\n    if (!message) error.message = true;\n    if (!phoneNumber || !isPhoneValid(phoneNumber)) error.phone = true;\n    if (Object.keys(error).length) return setErrors(error);\n\n    mutation.mutate({\n      phone_number: phoneNumber,\n      message: message\n    });\n  };\n\n  useEffect(() => {\n    if (smsQuery?.data?.text) {\n      setMessage(smsQuery.data.text);\n      setErrors((others) => ({ ...others, message: false }));\n    }\n  }, [smsQuery.data]);\n\n  return (\n    <>\n      {/* View modal trigger */}\n      <div className=\"linkByttonStyle py-2 border-right text-center ps-0\" onClick={handleShow}>\n        Send SMS\n      </div>\n\n      {/* Instructions modal */}\n      <Modal\n        show={showInstructions}\n        onHide={() => setShowInstructions(false)}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                <path d=\"M20.0168 34.3409C20.3324 34.6574 20.4904 35.0981 20.4479 35.5431C20.3524 36.5401 20.1325 37.5778 19.8502 38.5417C21.9425 38.0581 23.2204 37.4972 23.8012 37.2028C24.1309 37.0357 24.5107 36.9963 24.8677 37.092C25.8545 37.3566 26.9061 37.5 28 37.5C33.9934 37.5 38.5 33.2887 38.5 28.5C38.5 23.7113 33.9934 19.5 28 19.5C22.0066 19.5 17.5 23.7113 17.5 28.5C17.5 30.7021 18.426 32.7456 20.0168 34.3409ZM19.2773 40.1984C19.2672 40.2004 19.2571 40.2024 19.247 40.2044C19.1093 40.2315 18.9688 40.2583 18.8257 40.2845C18.625 40.3212 18.419 40.357 18.2076 40.3916C17.9091 40.4405 17.6805 40.1282 17.7985 39.8496C17.8755 39.6676 17.9515 39.4769 18.0255 39.2791C18.0725 39.1535 18.1187 39.025 18.1639 38.8941C18.1658 38.8885 18.1678 38.8828 18.1697 38.8772C18.5413 37.7976 18.8439 36.5567 18.9547 35.4001C17.1146 33.5548 16 31.1413 16 28.5C16 22.701 21.3726 18 28 18C34.6274 18 40 22.701 40 28.5C40 34.299 34.6274 39 28 39C26.7749 39 25.5926 38.8394 24.4793 38.5408C23.7 38.9357 22.0215 39.6545 19.2773 40.1984Z\" fill=\"#F04438\" />\n                <path d=\"M22 24.75C22 24.3358 22.3358 24 22.75 24H33.25C33.6642 24 34 24.3358 34 24.75C34 25.1642 33.6642 25.5 33.25 25.5H22.75C22.3358 25.5 22 25.1642 22 24.75ZM22 28.5C22 28.0858 22.3358 27.75 22.75 27.75H33.25C33.6642 27.75 34 28.0858 34 28.5C34 28.9142 33.6642 29.25 33.25 29.25H22.75C22.3358 29.25 22 28.9142 22 28.5ZM22 32.25C22 31.8358 22.3358 31.5 22.75 31.5H28.75C29.1642 31.5 29.5 31.8358 29.5 32.25C29.5 32.6642 29.1642 33 28.75 33H22.75C22.3358 33 22 32.6642 22 32.25Z\" fill=\"#F04438\" />\n              </svg>\n\n              <span className='ms-3'>SMS is currently unavailable</span>\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <p className={style.smsUnavailableText}>SMS functionality is currently unavailable. To use this<br /> feature, please ask your admin to set up a Twilio<br /> account and connect it via <Link to=\"/settings/integrations?openTwilio=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.</p>\n\n            <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto\", style.twilioStatus)}>\n              <div className={clsx(\"d-flex align-items-center justify-content-center\", style.twilioIcon)}>\n                <img src='/static/media/twilio-logo.c9f32aa9e92765a4deb7.png' style={{ width: '50px' }} />\n                <h6 className=\"mb-1\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                  Twilio\n                </h6>\n              </div>\n              <span className={clsx(\"px-2 py-1\", style.disconnectedBadge)}>\n                Disconnected\n                &nbsp;\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\">\n                  <circle cx=\"4\" cy=\"4.5\" r=\"3\" fill=\"#F79009\" />\n                </svg>\n              </span>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      {/* View modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Send SMS\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col sm={12} className='mb-3'>\n                <div style={{ position: 'relative' }}>\n                  <label className={clsx(style.customLabel)}>Templates</label>\n                  <Dropdown\n                    options={\n                      (smsTemplateQuery &&\n                        smsTemplateQuery.data?.map((smsTemplate) => ({\n                          value: smsTemplate.id,\n                          label: `${smsTemplate.title}`,\n                        }))) ||\n                      []\n                    }\n                    className={clsx(\n                      style.dropdownSelect,\n                      \"dropdown-height-fixed w-100\"\n                    )}\n                    style={{ height: \"46px\", paddingLeft: '88px' }}\n                    placeholder=\"Select template\"\n                    onChange={(e) => {\n                      setSMSTemplatedId(e.value);\n                    }}\n                    value={smsTemplateId}\n                    loading={smsTemplateQuery?.isFetching}\n                    filterInputAutoFocus={true}\n                    scrollHeight=\"380px\"\n                  />\n                </div>\n              </Col>\n              <Col>\n                <div className=\"formgroup sendSMSPhone mb-2 mt-0\">\n                  <label>To<span className=\"required\">*</span></label>\n                  <div className={`inputInfo p-0 ${errors.taskRead ? 'error-border' : 'border-0'}`}>\n                    <PhoneInput\n                      defaultCountry='au'\n                      placeholder='Enter phone number'\n                      value={phoneNumber || \"\"}\n                      className='phoneInput w-100'\n                      containerClass={style.countrySelector}\n                      onChange={(e) => {\n                        setPhoneNumber(e);\n                        if (isPhoneValid(e)) setErrors((others) => ({ ...others, phone: false }));\n                      }}\n                    />\n                  </div>\n                  {errors.phone && <p className=\"error-message\">Phone is not valid</p>}\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label>Message<span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`} style={{ position: 'relative' }}>\n                    <div style={{ position: 'absolute', right: '10px', top: '15px' }}>\n                      {smsQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                    </div>\n                    <textarea\n                      type=\"text\"\n                      name=\"Enter a message here...\"\n                      value={message}\n                      placeholder='Enter a message here...'\n                      onChange={(e) => {\n                        const newText = e.target.value.slice(0, 150);\n                        setMessage(newText);\n                        setErrors((others) => ({ ...others, message: false }));\n                      }}\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between align-items-center mt-1\">\n                    <p className=\"error-message\">{errors.message && \"Description is required\"}</p>\n                    <div style={{ float: 'right', fontSize: '14px', color: '#6c757d' }}>\n                      {message?.length || 0}/150\n                    </div>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n            </Row>\n            <div className=\"popoverbottom  mt-0 pt-4\">\n              <Button variant=\"outline-danger\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button disabled={mutation?.isPending} variant=\"primary save d-flex align-items-center gap-2\" onClick={handleSubmit}>\n                Send\n                {\n                  mutation?.isPending && <ProgressSpinner style={{ width: '15px', height: '15px' }} />\n                }\n              </Button>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default SendSMS;\n","// extracted by mini-css-extract-plugin\nexport default {\"clientImg\":\"image-avatar_clientImg__-nnRU\"};","import React, { useState } from 'react';\nimport { Building, Person } from 'react-bootstrap-icons';\nimport style from './image-avatar.module.scss';\n\nconst ImageAvatar = ({ has_photo, photo, is_business }) => {\n    const [imgError, setImgError] = useState(false);\n    const Icon = is_business ? Building : Person;\n\n    return (\n        <div className={`d-flex justify-content-center align-items-center ${style.clientImg} ${is_business ? \"\" : \"rounded-circle\"}`} style={{ overflow: 'hidden' }}>\n            {has_photo && photo && !imgError ? (\n                <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n            ) : (\n                <Icon color=\"#667085\" />\n            )}\n        </div>\n    );\n};\n\nexport const FallbackImage = ({ has_photo, photo, is_business, size }) => {\n    const [imgError, setImgError] = useState(false);\n    const Icon = is_business ? Building : Person;\n\n    return <>\n        {has_photo && photo && !imgError ? (\n            <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n        ) : (\n            <Icon color=\"#667085\" size={size} />\n        )}\n    </>;\n};\n\nexport const FallbackImageWithInitials = ({ has_photo, photo, name }) => {\n    const [imgError, setImgError] = useState(false);\n    const initials = name && name?.split(' ')?.map(n => n[0])?.join('')?.toUpperCase() || \"\";\n\n    return <>\n        {has_photo && photo && !imgError ? (\n            <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n        ) : initials}\n    </>;\n};\n\nexport const InitialsAvatar = ({ name, size = 14 }) => {\n    const initials = name.split(' ').map(n => n[0]).join('').toUpperCase();\n\n    return (\n        <span style={{ fontSize: `${size}px` }}>\n            {initials}\n        </span>\n    );\n};\n\nexport default ImageAvatar;\n","// extracted by mini-css-extract-plugin\nexport default {\"asanaEditorWrapper\":\"comment-editor_asanaEditorWrapper__1UAiy\",\"avatarWrapper\":\"comment-editor_avatarWrapper__HX3H9\",\"editorContainer\":\"comment-editor_editorContainer__5DNNe\",\"focused\":\"comment-editor_focused__A0TDm\",\"dragOver\":\"comment-editor_dragOver__3RQri\",\"disabled\":\"comment-editor_disabled__kEgBL\",\"inputArea\":\"comment-editor_inputArea__iqu88\",\"textInput\":\"comment-editor_textInput__BuSfR\",\"attachmentsPreview\":\"comment-editor_attachmentsPreview__2tXR3\",\"attachmentChip\":\"comment-editor_attachmentChip__tsAPk\",\"error\":\"comment-editor_error__Gh98k\",\"fileIcon\":\"comment-editor_fileIcon__9QnuH\",\"fileInfo\":\"comment-editor_fileInfo__Ak+Ca\",\"fileName\":\"comment-editor_fileName__NFnbx\",\"fileSize\":\"comment-editor_fileSize__I8VsI\",\"fileStatus\":\"comment-editor_fileStatus__O7zuJ\",\"removeChip\":\"comment-editor_removeChip__UIpfQ\",\"toolbar\":\"comment-editor_toolbar__H14ex\",\"toolbarLeft\":\"comment-editor_toolbarLeft__QjN7m\",\"toolbarRight\":\"comment-editor_toolbarRight__q1XK-\",\"toolbarIcon\":\"comment-editor_toolbarIcon__YrnT2\",\"emojiWrapper\":\"comment-editor_emojiWrapper__xJmG8\",\"emojiPickerDropdown\":\"comment-editor_emojiPickerDropdown__hdgWf\",\"commentBtn\":\"comment-editor_commentBtn__zCVYF\",\"active\":\"comment-editor_active__j2dE3\",\"imagePreviewChip\":\"comment-editor_imagePreviewChip__YNUuv\",\"removeImageBtn\":\"comment-editor_removeImageBtn__lUflP\",\"progressBar\":\"comment-editor_progressBar__PTWAG\",\"progressFill\":\"comment-editor_progressFill__lTJmW\"};","import React, { useRef, useState, useCallback, useEffect } from 'react';\nimport { EmojiSmile, FileEarmark, Image as ImageIcon, Paperclip, X } from 'react-bootstrap-icons';\nimport axios from 'axios';\nimport clsx from 'clsx';\nimport EmojiPicker from 'emoji-picker-react';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport { toast } from 'sonner';\nimport styles from './comment-editor.module.scss';\nimport { createTaskComment, getCommentPresignedUrl } from '../../../../../../APIs/task-api';\nimport { FallbackImage } from '../../../../../../shared/ui/image-with-fallback/image-avatar';\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\nconst CommentEditor = ({\n    taskId,\n    session,\n    onCommentAdded,\n    disabled = false,\n    commentsScrollRef\n}) => {\n    const [comment, setComment] = useState('');\n    const [attachments, setAttachments] = useState([]);\n    const [isDragOver, setIsDragOver] = useState(false);\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [uploadingFiles, setUploadingFiles] = useState([]);\n    const [isFocused, setIsFocused] = useState(false);\n\n    const editorRef = useRef(null);\n    const fileInputRef = useRef(null);\n    const dropZoneRef = useRef(null);\n    const emojiPickerRef = useRef(null);\n\n    // Close emoji picker when clicking outside\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n                setShowEmojiPicker(false);\n            }\n        };\n\n        if (showEmojiPicker) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [showEmojiPicker]);\n\n    // Handle emoji selection\n    const handleEmojiSelect = (emojiData) => {\n        setComment(prev => prev + emojiData.emoji);\n        setShowEmojiPicker(false);\n        editorRef.current?.focus();\n    };\n\n    // Upload file to S3 using presigned URL - matching create-job.js pattern\n    const uploadToS3 = async (file, url, fileId) => {\n        try {\n            const response = await axios.put(url, file, {\n                headers: {\n                    \"Content-Type\": \"\", // Empty content type like create-job.js\n                },\n                onUploadProgress: (progressEvent) => {\n                    const progress = Math.round(\n                        (progressEvent.loaded / progressEvent.total) * 100\n                    );\n                    setUploadingFiles(prev =>\n                        prev.map(f => f.id === fileId ? { ...f, progress, url } : f)\n                    );\n                },\n            });\n\n            // Mark as successfully uploaded\n            setUploadingFiles(prev =>\n                prev.map(f => f.id === fileId ? { ...f, progress: 100, uploaded: true } : f)\n            );\n\n            return response;\n        } catch (err) {\n            // Handle specific error types\n            let errorMessage = \"Upload failed\";\n\n            if (err.response) {\n                if (err.response.status === 403) {\n                    errorMessage = \"Permission denied (403 Forbidden)\";\n                } else {\n                    errorMessage = `Server error: ${err.response.status}`;\n                }\n            } else if (err.request) {\n                errorMessage = \"No response from server\";\n            } else {\n                errorMessage = err.message;\n            }\n\n            console.error(`Error uploading ${file.name}:`, errorMessage);\n\n            // Update file with error status\n            setUploadingFiles(prev =>\n                prev.map(f => f.id === fileId ? {\n                    ...f,\n                    progress: 0,\n                    error: true,\n                    errorMessage,\n                    uploadFailed: true\n                } : f)\n            );\n\n            return { error: true, message: errorMessage };\n        }\n    };\n\n    // Handle file upload\n    const handleFileUpload = async (files) => {\n        if (!taskId) {\n            toast.error('Save the task first before adding attachments');\n            return;\n        }\n\n        const validFiles = Array.from(files).filter(file => {\n            if (file.size > MAX_FILE_SIZE) {\n                toast.error(`${file.name} is too large. Max size is 10MB`);\n                return false;\n            }\n            return true;\n        });\n\n        if (validFiles.length === 0) return;\n\n        const newUploading = validFiles.map((file, index) => ({\n            id: `upload-${Date.now()}-${index}`,\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            progress: 0,\n            file,\n        }));\n\n        setUploadingFiles(prev => [...prev, ...newUploading]);\n\n        for (const uploadFile of newUploading) {\n            try {\n                // Get presigned URL\n                const response = await getCommentPresignedUrl(taskId, uploadFile.name, uploadFile.type);\n                const { url } = response;\n\n                if (!url) {\n                    console.error(`No URL returned for file: ${uploadFile.name}`);\n                    setUploadingFiles(prev =>\n                        prev.map(f => f.id === uploadFile.id ? { ...f, error: true, errorMessage: 'No URL returned' } : f)\n                    );\n                    continue;\n                }\n\n                // Upload to S3 using the signed URL\n                const result = await uploadToS3(uploadFile.file, url, uploadFile.id);\n\n                // Check if upload was successful\n                if (result && !result.error) {\n                    const fileUrl = url.split('?')[0];\n                    setAttachments(prev => [...prev, {\n                        id: uploadFile.id,\n                        name: uploadFile.name,\n                        url: fileUrl,\n                        type: uploadFile.type,\n                        size: uploadFile.size,\n                    }]);\n                    setUploadingFiles(prev => prev.filter(f => f.id !== uploadFile.id));\n                }\n            } catch (error) {\n                console.error('Error uploading file:', uploadFile.name, error);\n                setUploadingFiles(prev =>\n                    prev.map(f => f.id === uploadFile.id ? {\n                        ...f,\n                        progress: 0,\n                        error: true,\n                        errorMessage: error.message || 'Failed to get upload URL',\n                        uploadFailed: true\n                    } : f)\n                );\n            }\n        }\n    };\n\n    // Drag and drop handlers\n    const handleDragEnter = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(true);\n    }, []);\n\n    const handleDragLeave = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!dropZoneRef.current?.contains(e.relatedTarget)) {\n            setIsDragOver(false);\n        }\n    }, []);\n\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n    }, []);\n\n    const handleDrop = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(false);\n\n        const files = e.dataTransfer.files;\n        if (files.length > 0) {\n            handleFileUpload(files);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [taskId]);\n\n    // Paste handler for images\n    const handlePaste = useCallback((e) => {\n        const items = e.clipboardData?.items;\n        if (!items) return;\n\n        const files = [];\n        for (const item of items) {\n            if (item.kind === 'file') {\n                const file = item.getAsFile();\n                if (file) files.push(file);\n            }\n        }\n\n        if (files.length > 0) {\n            e.preventDefault();\n            handleFileUpload(files);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [taskId]);\n\n    // Remove attachment\n    const removeAttachment = (id) => {\n        setAttachments(prev => prev.filter(a => a.id !== id));\n    };\n\n    // Remove uploading file\n    const removeUploadingFile = (id) => {\n        setUploadingFiles(prev => prev.filter(f => f.id !== id));\n    };\n\n    // Submit comment\n    const handleSubmit = async () => {\n        if (!comment.trim() && attachments.length === 0) {\n            return;\n        }\n\n        if (!taskId) {\n            toast.error('Save the task first');\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        try {\n            // Support multiple attachments - store as JSON string\n            let attachmentUrls = null;\n            let attachmentTypes = null;\n\n            if (attachments.length > 0) {\n                if (attachments.length === 1) {\n                    // Single attachment - keep backward compatibility\n                    attachmentUrls = attachments[0].url;\n                    attachmentTypes = attachments[0].type;\n                } else {\n                    // Multiple attachments - store as JSON array string\n                    attachmentUrls = JSON.stringify(attachments.map(a => a.url));\n                    attachmentTypes = JSON.stringify(attachments.map(a => a.type));\n                }\n            }\n\n            await createTaskComment(taskId, {\n                comment: comment.trim(),\n                attachment_url: attachmentUrls,\n                attachment_type: attachmentTypes,\n                created_by: { role: session?.user?.role },\n            });\n\n            setComment('');\n            setAttachments([]);\n            onCommentAdded?.();\n\n            // Scroll to bottom\n            setTimeout(() => {\n                if (commentsScrollRef?.current) {\n                    commentsScrollRef.current.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'end',\n                    });\n                }\n            }, 500);\n        } catch (error) {\n            console.error('Error adding comment:', error);\n            toast.error('Failed to add comment. Please try again.');\n        } finally {\n            setIsSubmitting(false);\n            editorRef.current?.focus();\n        }\n    };\n\n    // Handle key press\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit();\n        }\n    };\n\n    // Get file icon based on type\n    const getFileIcon = (type) => {\n        if (type?.startsWith('image/')) {\n            return <ImageIcon size={16} />;\n        }\n        return <FileEarmark size={16} />;\n    };\n\n    // Format file size\n    const formatFileSize = (bytes) => {\n        if (bytes < 1024) return bytes + ' B';\n        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n    };\n\n    // Check if file is an image\n    const isImage = (type) => type?.startsWith('image/');\n\n    const hasContent = comment.trim() || attachments.length > 0;\n\n    return (\n        <div className={styles.asanaEditorWrapper}>\n            {/* User Avatar */}\n            <div className={styles.avatarWrapper}>\n                <FallbackImage\n                    photo={session?.photo}\n                    has_photo={session?.has_photo}\n                    is_business={false}\n                    size={20}\n                />\n            </div>\n\n            {/* Attachments Preview - Shows when there are attachments */}\n            {(attachments.length > 0 || uploadingFiles.length > 0) && (\n                <div className={styles.attachmentsPreview}>\n                    {/* Uploading Files */}\n                    {uploadingFiles.map(file => (\n                        isImage(file.type) ? (\n                            <div key={file.id} className={styles.imagePreviewChip}>\n                                <img src={URL.createObjectURL(file.file)} alt={file.name} />\n                                <button\n                                    className={styles.removeImageBtn}\n                                    onClick={() => removeUploadingFile(file.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={12} />\n                                </button>\n                                {!file.uploaded && !file.error && (\n                                    <div className={styles.progressBar}>\n                                        <div className={styles.progressFill} style={{ width: `${file.progress}%` }} />\n                                    </div>\n                                )}\n                            </div>\n                        ) : (\n                            <div key={file.id} className={clsx(styles.attachmentChip, file.error && styles.error)}>\n                                <div className={styles.fileIcon}>\n                                    {getFileIcon(file.type)}\n                                </div>\n                                <div className={styles.fileInfo}>\n                                    <span className={styles.fileName}>{file.name}</span>\n                                    <span className={styles.fileSize}>{formatFileSize(file.size)}</span>\n                                </div>\n                                <span className={clsx(styles.fileStatus, file.error && styles.error)}>\n                                    {file.error ? 'Failed' : `${file.progress}%`}\n                                </span>\n                                <button\n                                    className={styles.removeChip}\n                                    onClick={() => removeUploadingFile(file.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={14} />\n                                </button>\n                            </div>\n                        )\n                    ))}\n\n                    {/* Uploaded Attachments */}\n                    {attachments.map(attachment => (\n                        isImage(attachment.type) ? (\n                            <div key={attachment.id} className={styles.imagePreviewChip}>\n                                <img src={attachment.url} alt={attachment.name} />\n                                <button\n                                    className={styles.removeImageBtn}\n                                    onClick={() => removeAttachment(attachment.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={12} />\n                                </button>\n                            </div>\n                        ) : (\n                            <div key={attachment.id} className={styles.attachmentChip}>\n                                <div className={styles.fileIcon}>\n                                    {getFileIcon(attachment.type)}\n                                </div>\n                                <div className={styles.fileInfo}>\n                                    <span className={styles.fileName}>{attachment.name}</span>\n                                    <span className={styles.fileSize}>{formatFileSize(attachment.size)}</span>\n                                </div>\n                                <button\n                                    className={styles.removeChip}\n                                    onClick={() => removeAttachment(attachment.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={14} />\n                                </button>\n                            </div>\n                        )\n                    ))}\n                </div>\n            )}\n\n            {/* Editor Container - Asana Style */}\n            <div\n                className={clsx(\n                    styles.editorContainer,\n                    isFocused && styles.focused,\n                    isDragOver && styles.dragOver,\n                    disabled && styles.disabled\n                )}\n                ref={dropZoneRef}\n                onDragEnter={handleDragEnter}\n                onDragLeave={handleDragLeave}\n                onDragOver={handleDragOver}\n                onDrop={handleDrop}\n            >\n                {/* Text Input Area */}\n                <div className={styles.inputArea}>\n                    <input\n                        ref={editorRef}\n                        type=\"text\"\n                        className={styles.textInput}\n                        placeholder=\"Add a comment\"\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                        onKeyDown={handleKeyDown}\n                        onPaste={handlePaste}\n                        onFocus={() => setIsFocused(true)}\n                        onBlur={() => setIsFocused(false)}\n                        disabled={disabled || isSubmitting || !taskId}\n                    />\n                </div>\n\n                {/* Bottom Toolbar - Simplified */}\n                <div className={styles.toolbar}>\n                    <div className={styles.toolbarLeft}>\n                        {/* Emoji picker */}\n                        <div className={styles.emojiWrapper} ref={emojiPickerRef}>\n                            <button\n                                className={styles.toolbarIcon}\n                                type=\"button\"\n                                title=\"Add emoji\"\n                                disabled={disabled || !taskId}\n                                onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n                            >\n                                <EmojiSmile size={18} />\n                            </button>\n                            {showEmojiPicker && (\n                                <div className={styles.emojiPickerDropdown}>\n                                    <EmojiPicker\n                                        onEmojiClick={handleEmojiSelect}\n                                        theme=\"light\"\n                                        width={300}\n                                        height={350}\n                                        searchPlaceHolder=\"Search emoji...\"\n                                        previewConfig={{ showPreview: false }}\n                                    />\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Attach file */}\n                        <button\n                            className={styles.toolbarIcon}\n                            onClick={() => fileInputRef.current?.click()}\n                            type=\"button\"\n                            title=\"Attach file\"\n                            disabled={disabled || !taskId}\n                        >\n                            <Paperclip size={18} />\n                        </button>\n                        <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            multiple\n                            onChange={(e) => handleFileUpload(e.target.files)}\n                            style={{ display: 'none' }}\n                        />\n                    </div>\n\n                    <div className={styles.toolbarRight}>\n                        {/* Comment Button */}\n                        <Button\n                            onClick={handleSubmit}\n                            className={clsx(styles.commentBtn, hasContent && styles.active)}\n                            disabled={disabled || isSubmitting || !taskId || !hasContent}\n                        >\n                            {isSubmitting ? (\n                                <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"3\" />\n                            ) : (\n                                'Comment'\n                            )}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CommentEditor;\n","// extracted by mini-css-extract-plugin\nexport default {\"circleDesignStyle\":\"create-task_circleDesignStyle__vtKho\",\"out\":\"create-task_out__LG-iY\",\"taskTitleInput\":\"create-task_taskTitleInput__s+lNu\",\"formLabel\":\"create-task_formLabel__04J0h\",\"taskDescriptionInput\":\"create-task_taskDescriptionInput__RZWSI\",\"projectDropdown\":\"create-task_projectDropdown__qXb5+\",\"messageInputIcons\":\"create-task_messageInputIcons__Cj2vl\",\"attachButton\":\"create-task_attachButton__k6PEF\",\"emojiButton\":\"create-task_emojiButton__YPWSi\",\"commentButton\":\"create-task_commentButton__3T-po\",\"saveStatusWrapper\":\"create-task_saveStatusWrapper__1NhE+\",\"saveStatus\":\"create-task_saveStatus__6yreg\",\"fadeIn\":\"create-task_fadeIn__iRwYB\",\"saved\":\"create-task_saved__jqL5a\",\"error\":\"create-task_error__5CguB\",\"footerHint\":\"create-task_footerHint__acXGx\",\"sidebarFooter\":\"create-task_sidebarFooter__+ieeU\",\"taskFooter\":\"create-task_taskFooter__zplYw\",\"footerRight\":\"create-task_footerRight__UmNHb\"};","import React, { useState, useRef, useEffect } from 'react';\nimport { Calendar2Event } from \"react-bootstrap-icons\";\nimport { DateRangePickerCalendar } from '../../../../../shared/ui/date-range-picker-calendar';\n\nconst formatDateRange = (startDate, endDate) => {\n    const options = { month: 'short', day: 'numeric' };\n    const start = new Date(startDate).toLocaleDateString('en-US', options);\n    const end = new Date(endDate).toLocaleDateString('en-US', options);\n    return `${start} - ${end}`;\n};\n\nconst DateRangeComponent = ({ startDate, endDate }) => (\n    <div className='dateSelectdTaskBar'>\n        {formatDateRange(startDate, endDate)}\n    </div>\n);\n\nconst SelectDate = ({ setDateRange, dateRange }) => {\n    const [isPickerVisible, setIsPickerVisible] = useState(false);\n    const selectDateRef = useRef(null);\n\n    const togglePicker = () => setIsPickerVisible(prev => !prev);\n\n    const handleDataApply = (data) => {\n        setDateRange(data);\n        setIsPickerVisible(false);\n    };\n\n    const handleClickOutside = (event) => {\n        if (selectDateRef.current && !selectDateRef.current.contains(event.target)) {\n            setIsPickerVisible(false);\n        }\n    };\n\n    useEffect(() => {\n        if (isPickerVisible) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isPickerVisible]);\n\n    return (\n        <div className='select-date' style={{ position: 'relative' }} ref={selectDateRef}>\n            <div onClick={togglePicker} style={{ cursor: 'pointer' }}>\n                {dateRange?.startDate && dateRange?.endDate ? (\n                    <DateRangeComponent startDate={dateRange.startDate} endDate={dateRange.endDate} />\n                ) : (\n                    <div style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%'}} className={`iconStyleCircle d-flex justify-content-center align-items-center iconStyleCircleRight ${isPickerVisible ? 'active' : ''}`}>\n                        <Calendar2Event color={isPickerVisible ? \"#1AB2FF\" : \"#475467\"} size={14} />\n                    </div>\n                )}\n            </div>\n            {isPickerVisible && (\n                <div className='select-date-range' style={{ position: 'absolute', top: '-100px', background: '#fff', zIndex: 1000 }}>\n                    <DateRangePickerCalendar onDataApply={handleDataApply} dateRange={dateRange} onClose={() => setIsPickerVisible(false)} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default SelectDate;\n","// extracted by mini-css-extract-plugin\nexport default {\"commentsContainer\":\"task-comments_commentsContainer__9Qiud\",\"commentsHeader\":\"task-comments_commentsHeader__SxVw0\",\"commentsTitle\":\"task-comments_commentsTitle__f66k0\",\"commentsList\":\"task-comments_commentsList__NBm+d\",\"commentItem\":\"task-comments_commentItem__bv78f\",\"deleteButton\":\"task-comments_deleteButton__XLlzH\",\"userName\":\"task-comments_userName__EH9bR\",\"commentTime\":\"task-comments_commentTime__4eCW6\",\"commentText\":\"task-comments_commentText__rSHhj\",\"addCommentSection\":\"task-comments_addCommentSection__-KvEG\",\"avatar\":\"task-comments_avatar__GZ9fT\",\"loadMoreWrapper\":\"task-comments_loadMoreWrapper__TLDxd\",\"loadMoreBtn\":\"task-comments_loadMoreBtn__6oQeF\",\"loading\":\"task-comments_loading__3LE67\",\"commentAvatar\":\"task-comments_commentAvatar__Pc8rI\",\"commentHeader\":\"task-comments_commentHeader__T9R4I\",\"noComments\":\"task-comments_noComments__xAIGD\",\"attachmentContainer\":\"task-comments_attachmentContainer__QEIIm\",\"imageAttachment\":\"task-comments_imageAttachment__pMEwt\",\"attachmentImage\":\"task-comments_attachmentImage__3TpwU\",\"fileAttachment\":\"task-comments_fileAttachment__F5SBZ\",\"fileIconWrapper\":\"task-comments_fileIconWrapper__bozGA\",\"fileDetails\":\"task-comments_fileDetails__3maHd\",\"fileName\":\"task-comments_fileName__6bsXF\",\"fileAction\":\"task-comments_fileAction__bNX3c\"};","import { forwardRef, useImperativeHandle } from 'react';\nimport { FileEarmark } from 'react-bootstrap-icons';\nimport { useInfiniteQuery, useMutation } from '@tanstack/react-query';\nimport { toast } from 'sonner';\nimport styles from './task-comments.module.scss';\nimport { deleteTaskComment, getCommentsForTask } from '../../../../../APIs/task-api';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\n\n/**\n * Normalize API response  UI-friendly shape\n */\nconst normalizeComment = (c) => {\n    // Parse attachments - could be single URL or JSON array string\n    let attachmentUrls = [];\n    let attachmentTypes = [];\n\n    if (c.attachment_url) {\n        try {\n            // Try to parse as JSON array\n            const parsed = JSON.parse(c.attachment_url);\n            if (Array.isArray(parsed)) {\n                attachmentUrls = parsed;\n            } else {\n                attachmentUrls = [c.attachment_url];\n            }\n        } catch {\n            // Not JSON, treat as single URL\n            attachmentUrls = [c.attachment_url];\n        }\n    }\n\n    if (c.attachment_type) {\n        try {\n            const parsed = JSON.parse(c.attachment_type);\n            if (Array.isArray(parsed)) {\n                attachmentTypes = parsed;\n            } else {\n                attachmentTypes = [c.attachment_type];\n            }\n        } catch {\n            attachmentTypes = [c.attachment_type];\n        }\n    }\n\n    return {\n        id: c.id,\n        text: c.comment,\n        created_at: c.created_at,\n        attachments: attachmentUrls.map((url, index) => ({\n            url,\n            type: attachmentTypes[index] || 'application/octet-stream',\n        })),\n        // Keep backward compatibility\n        attachment_url: c.attachment_url || null,\n        attachment_type: c.attachment_type || null,\n        user: {\n            id: c.created_by?.id,\n            full_name: c.created_by?.full_name,\n            email: c.created_by?.email,\n            photo: c.created_by?.avatar,\n            role: c.created_by?.role,\n        },\n    };\n};\n\n/**\n * Time ago helper\n */\nconst formatTimeAgo = (timestamp) => {\n    const now = new Date();\n    const date = new Date(timestamp);\n    const diff = Math.floor((now - date) / (1000 * 60));\n\n    if (diff < 1) return 'Just now';\n    if (diff < 60) return `${diff} min ago`;\n    if (diff < 1440) return `${Math.floor(diff / 60)} hours ago`;\n    return `${Math.floor(diff / 1440)} days ago`;\n};\n\nconst TaskComments = forwardRef(({ taskId, usersMap = new Map() }, ref) => {\n    const {\n        data,\n        refetch,\n        fetchNextPage,\n        hasNextPage,\n        isFetchingNextPage,\n        isLoading,\n    } = useInfiniteQuery({\n        queryKey: ['task-comments', taskId],\n        queryFn: ({ pageParam }) =>\n            pageParam\n                ? fetch(pageParam).then(res => res.json())\n                : getCommentsForTask(taskId),\n        enabled: !!taskId,\n        getNextPageParam: (lastPage) => lastPage.next,\n    });\n\n    useImperativeHandle(ref, () => ({\n        refetchComments: () => refetch(),\n    }));\n\n    const deleteCommentMutation = useMutation({\n        mutationFn: deleteTaskComment,\n        onSuccess: () => {\n            toast.success('Comment deleted');\n            refetch();\n        },\n        onError: () => {\n            toast.error('Failed to delete comment');\n        },\n    });\n\n    /**\n     * Flatten + normalize + sort (oldest  newest)\n     */\n    const comments = data\n        ? data.pages\n            .slice()\n            .flatMap(page => page.results)\n            .map(normalizeComment)\n            .sort(\n                (a, b) =>\n                    new Date(a.created_at).getTime() -\n                    new Date(b.created_at).getTime()\n            )\n            .reverse()\n        : [];\n\n    if (isLoading) {\n        return <div className={styles.loading}>Loading comments</div>;\n    }\n\n    if (!comments.length) {\n        return (\n            <div className={styles.noComments}>No comments yet.</div>\n        );\n    }\n\n    const handleDeleteComment = (commentId) => {\n        deleteCommentMutation.mutate(commentId);\n    };\n\n    return (\n        <div className={styles.commentsContainer}>\n            {/* Load Older (Asana-style) */}\n            {hasNextPage && (\n                <div className={styles.loadMoreWrapper}>\n                    <button\n                        onClick={fetchNextPage}\n                        disabled={isFetchingNextPage}\n                        className={styles.loadMoreBtn}\n                    >\n                        {isFetchingNextPage\n                            ? 'Loading'\n                            : 'Load older comments'}\n                    </button>\n                </div>\n            )}\n\n            {/* Comments List */}\n            <div className={styles.commentsList}>\n                {comments.map((comment) => {\n                    // Get user data from usersMap if available, fallback to comment.user\n                    const userFromMap = usersMap.get(comment.user?.id);\n                    const avatarPhoto = userFromMap?.photo || comment.user?.photo;\n                    const hasPhoto = userFromMap?.has_photo || !!avatarPhoto;\n\n                    return (\n                        <div key={comment.id} className={styles.commentItem}>\n                            <div className=\"d-flex gap-3\">\n                                <div\n                                    className={styles.avatar}\n                                >\n                                    <FallbackImage\n                                        photo={avatarPhoto}\n                                        has_photo={hasPhoto}\n                                        is_business={false}\n                                        size={18}\n                                    />\n                                </div>\n\n                                <div className=\"flex-grow-1\" style={{ width: 'calc(100% - 50px)' }}>\n                                    <div className={styles.header}>\n                                        <span className={styles.userName}>\n                                            {comment.user?.full_name}\n                                        </span>\n                                        <span className={styles.commentTime}>\n                                             {formatTimeAgo(comment.created_at * 1000)}\n                                        </span>\n                                        <button\n                                            onClick={() => handleDeleteComment(comment.id)}\n                                            disabled={deleteCommentMutation.isPending}\n                                            className={styles.deleteButton}\n                                            style={{\n                                                marginLeft: '5px',\n                                                background: 'none',\n                                                border: 'none',\n                                                color: '#D92D20',\n                                                cursor: deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id ? 'not-allowed' : 'pointer',\n                                                fontSize: 12,\n                                                opacity: deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id ? 0.6 : 1,\n                                            }}\n                                        >\n                                            {deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id\n                                                ? 'Deleting...'\n                                                : 'Delete'}\n                                        </button>\n                                    </div>\n\n                                    <p className={styles.commentText}>\n                                        {comment.text}\n                                    </p>\n\n                                    {/* Attachments Display - supports multiple */}\n                                    {comment.attachments && comment.attachments.length > 0 && (\n                                        <div className={styles.attachmentContainer}>\n                                            {comment.attachments.map((attachment, index) => (\n                                                attachment.type?.startsWith('image/') ? (\n                                                    <a\n                                                        key={index}\n                                                        href={attachment.url}\n                                                        target=\"_blank\"\n                                                        rel=\"noopener noreferrer\"\n                                                        className={styles.imageAttachment}\n                                                    >\n                                                        <img\n                                                            src={attachment.url}\n                                                            alt={`Attachment ${index + 1}`}\n                                                            className={styles.attachmentImage}\n                                                        />\n                                                    </a>\n                                                ) : (\n                                                    <a\n                                                        key={index}\n                                                        href={attachment.url}\n                                                        target=\"_blank\"\n                                                        rel=\"noopener noreferrer\"\n                                                        className={styles.fileAttachment}\n                                                    >\n                                                        <div className={styles.fileIconWrapper}>\n                                                            <FileEarmark size={18} />\n                                                        </div>\n                                                        <div className={styles.fileDetails}>\n                                                            <span className={styles.fileName}>\n                                                                {attachment.url.split('/').pop()?.split('?')[0] || 'Attachment'}\n                                                            </span>\n                                                            <span className={styles.fileAction}>Click to download</span>\n                                                        </div>\n                                                    </a>\n                                                )\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n});\n\nexport default TaskComments;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Check, CheckCircle, Person, PlusCircle, X } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport debounce from 'lodash.debounce';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Sidebar } from 'primereact/sidebar';\nimport { Skeleton } from 'primereact/skeleton';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport { CommentEditor } from './comment-editor';\nimport styles from './create-task.module.scss';\nimport { getProjectsList } from '../../../../../APIs/expenses-api';\nimport { createNewTask, getMobileUserList, getUserList, updateTask } from '../../../../../APIs/task-api';\nimport { fetchTasksDelete, TaskCompleteJob } from '../../../../../APIs/TasksApi';\nimport { useAuth } from '../../../../../app/providers/auth-provider';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport SelectDate from '../../../../Business/Pages/management/task/select-date';\nimport TaskComments from '../task-comments/task-comments';\n\nexport const dateFormat = (dateInMiliSec) => {\n    if (!dateInMiliSec) return null;\n\n    const date = new Date(1000 * +dateInMiliSec);\n    return date;\n};\n\nconst CreateTask = ({ show, setShow, refetch, taskId, setTaskId, defaultValue, projectId, refetchTask = undefined, isFetching = false }) => {\n    const dropdownRef = useRef(null);\n    const textareaRef = useRef(null);\n    const commentsRef = useRef(null);\n    const commentsScrollRef = useRef(null);\n    const { session } = useAuth();\n    const [saveStatus, setSaveStatus] = useState('idle'); // 'idle' | 'saving' | 'saved' | 'error'\n    const [createdTaskId, setCreatedTaskId] = useState(null); // Track auto-created task\n\n    const [taskTitle, setTaskTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [project, setProject] = useState(\"\");\n    const [user, setUser] = useState(null);\n    const [date, setDate] = useState(null);\n    const [errors, setErrors] = useState({\n        taskTitle: false,\n        description: false,\n        project: false,\n        user: false,\n        date: false,\n    });\n\n    // Get the effective task ID (either passed in or auto-created)\n    const effectiveTaskId = taskId || createdTaskId;\n\n    useEffect(() => {\n        if (taskId && defaultValue) {\n            setTaskTitle(defaultValue?.title);\n            setDescription(defaultValue?.description);\n            setProject(defaultValue?.project?.id);\n            setUser(defaultValue?.user?.id);\n            setDate({ startDate: dateFormat(defaultValue?.from_date), endDate: dateFormat(defaultValue?.to_date) });\n        }\n    }, [taskId, defaultValue]);\n\n\n    const reset = () => {\n        refetch();\n        setTaskTitle(\"\");\n        setDescription(\"\");\n        setProject(\"\");\n        setUser(null);\n        setDate(null);\n        setSaveStatus('idle');\n        setCreatedTaskId(null);\n        previousValuesRef.current = null;\n        isInitialLoadRef.current = true;\n        setErrors({\n            taskTitle: false,\n            description: false,\n            project: false,\n            user: false,\n            date: false\n        });\n    };\n    const projectsList = useQuery({ queryKey: ['getProjectsList'], queryFn: getProjectsList });\n    const usersList = useQuery({ queryKey: ['getUserList'], queryFn: getUserList });\n    const mobileUsersList = useQuery({ queryKey: ['getMobileUserList'], queryFn: getMobileUserList });\n\n    // Create a user map for quick lookup by ID (used for assignee display and comment avatars)\n    const usersMap = React.useMemo(() => {\n        const map = new Map();\n        \n        // Add desktop users\n        usersList?.data?.users?.forEach((u) => {\n            map.set(u.id, {\n                id: u.id,\n                label: `${u.first_name} ${u.last_name}`.trim() || u.first_name || \"-\",\n                photo: u.photo || \"\",\n                has_photo: u.has_photo,\n            });\n        });\n        \n        // Add mobile users\n        mobileUsersList?.data?.users?.forEach((u) => {\n            if (!map.has(u.id)) {\n                map.set(u.id, {\n                    id: u.id,\n                    label: `${u.first_name} ${u.last_name}`.trim() || u.first_name || \"-\",\n                    photo: u.photo || \"\",\n                    has_photo: u.has_photo,\n                });\n            }\n        });\n        \n        return map;\n    }, [usersList?.data?.users, mobileUsersList?.data?.users]);\n\n    useEffect(() => {\n        if (!show) reset();\n    }, [show]);\n\n    // Create task mutation (for new tasks)\n    const createMutation = useMutation({\n        mutationFn: (data) => createNewTask(data),\n        onSuccess: (response) => {\n            setCreatedTaskId(response?.id);\n            setSaveStatus('saved');\n            // refetch();\n            toast.success('Task created');\n            setTimeout(() => setSaveStatus('idle'), 2000);\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n            setSaveStatus('error');\n            toast.error('Failed to create task');\n        }\n    });\n\n    // Update task mutation (for existing tasks)\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateTask(effectiveTaskId, data),\n        onSuccess: () => {\n            setSaveStatus('saved');\n            // refetch();\n            setTimeout(() => setSaveStatus('idle'), 2000);\n        },\n        onError: (error) => {\n            console.error('Error updating task:', error);\n            setSaveStatus('error');\n            toast.error('Failed to save changes');\n        }\n    });\n\n    // Track previous values for comparison to avoid unnecessary API calls\n    const previousValuesRef = useRef(null);\n    const isInitialLoadRef = useRef(true);\n\n    // Auto-save function ref to avoid stale closures\n    const autoSaveRef = useRef(null);\n\n    // Update ref when dependencies change\n    useEffect(() => {\n        autoSaveRef.current = () => {\n            // Only require title to create/save task\n            if (!taskTitle?.trim()) {\n                return;\n            }\n\n            const taskData = {\n                title: taskTitle,\n                description: description || '',\n                ...(project && { project }),\n                ...(user && { user }),\n                ...(date?.startDate && { from_date: date.startDate }),\n                ...(date?.endDate && { to_date: date.endDate }),\n            };\n\n            // Create a comparable string of current values\n            const currentValues = JSON.stringify({\n                title: taskTitle,\n                description: description || '',\n                project: project || null,\n                user: user || null,\n                fromDate: date?.startDate?.toString() || null,\n                toDate: date?.endDate?.toString() || null,\n            });\n\n            // Skip if values haven't changed\n            if (previousValuesRef.current === currentValues) {\n                return;\n            }\n\n            // Skip initial load when editing existing task\n            if (isInitialLoadRef.current && effectiveTaskId) {\n                isInitialLoadRef.current = false;\n                previousValuesRef.current = currentValues;\n                return;\n            }\n\n            // Update previous values\n            previousValuesRef.current = currentValues;\n            isInitialLoadRef.current = false;\n\n            setSaveStatus('saving');\n\n            if (effectiveTaskId) {\n                updateMutation.mutate(taskData);\n            } else {\n                createMutation.mutate(taskData);\n            }\n        };\n    }, [taskTitle, description, project, user, date, effectiveTaskId, updateMutation, createMutation]);\n\n    // Debounced auto-save (1.5 seconds after last change)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const debouncedAutoSave = useCallback(\n        debounce(() => {\n            autoSaveRef.current?.();\n        }, 1500),\n        []\n    );\n\n    // Trigger auto-save when form fields change\n    useEffect(() => {\n        if (show && taskTitle?.trim()) {\n            debouncedAutoSave();\n        }\n        return () => {\n            debouncedAutoSave.cancel?.();\n        };\n    }, [taskTitle, description, project, user, date, show, debouncedAutoSave]);\n\n    const deleteMutation = useMutation({\n        mutationFn: () => fetchTasksDelete(effectiveTaskId),\n        onSuccess: () => {\n            console.log('Delete success');\n            setShow(false);\n            refetch();\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n        }\n    });\n\n    // Mark Complete mutation\n    const markCompleteMutation = useMutation({\n        mutationFn: (finished) => TaskCompleteJob(effectiveTaskId, finished),\n        onSuccess: (_, finished) => {\n            toast.success(finished ? 'Task marked as complete' : 'Task marked as incomplete');\n            refetchTask?.();\n        },\n        onError: (error) => {\n            console.error('Error updating task status:', error);\n            toast.error('Failed to update task status');\n        }\n    });\n\n    const handleMarkComplete = () => {\n        const isCurrentlyComplete = defaultValue?.finished;\n        markCompleteMutation.mutate(!isCurrentlyComplete);\n    };\n\n    const handleDelete = () => {\n        deleteMutation.mutate();\n    };\n\n    // Handle comment added callback\n    const handleCommentAdded = () => {\n        commentsRef.current?.refetchComments();\n    };\n\n\n    useEffect(() => {\n        setTimeout(() => {\n            if (textareaRef.current) {\n                textareaRef.current.style.height = \"auto\";\n                textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n            }\n        }, 200);\n    }, [description, taskId]);\n\n    useEffect(() => {\n        if (projectId) {\n            setProject(+projectId);\n        }\n    }, [projectId]);\n\n    return (\n        <Sidebar visible={show} position=\"right\" onHide={() => { setShow(false); if (taskId) setTaskId(null); reset(); }} modal={false} dismissable={false} style={{ width: '591px', height: '97vh', borderRadius: '10px', marginRight: '10px' }}\n            content={({ closeIconRef, hide }) => (\n                <div className='create-sidebar d-flex flex-column'>\n                    <div className=\"d-flex align-items-center justify-content-between flex-shrink-0\" style={{ borderBottom: '1px solid #EAECF0', padding: '24px' }}>\n                        <div className=\"d-flex align-items-center gap-2\">\n                            <div className={styles.circleDesignStyle}>\n                                <div className={styles.out}>\n                                    <PlusCircle size={24} color=\"#17B26A\" />\n                                </div>\n                            </div>\n                            <span style={{ color: '344054', fontSize: '20px', fontWeight: 600 }}>{effectiveTaskId ? \"Edit\" : \"Create New\"} Task</span>\n                            {/* Save Status Indicator */}\n                            <div className={styles.saveStatusWrapper}>\n                                {saveStatus === 'saving' && (\n                                    <div className={styles.saveStatus}>\n                                        <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"3\" />\n                                        <span>Saving...</span>\n                                    </div>\n                                )}\n                                {saveStatus === 'saved' && (\n                                    <div className={clsx(styles.saveStatus, styles.saved)}>\n                                        <Check size={14} />\n                                        <span>Saved</span>\n                                    </div>\n                                )}\n                                {saveStatus === 'error' && (\n                                    <div className={clsx(styles.saveStatus, styles.error)}>\n                                        <span>Save failed</span>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        <span>\n                            <Button type=\"button\" className='text-button' ref={closeIconRef} onClick={(e) => hide(e)}>\n                                <X size={24} color='#667085' />\n                            </Button>\n                        </span>\n                    </div>\n                    <div className='modal-body' style={{ height: 'calc(100vh - 72px - 200px)', overflow: 'auto' }}>\n                        {/* Skeleton Loading State */}\n                        {isFetching && taskId ? (\n                            <div className='task-content' style={{ padding: '24px' }}>\n                                {/* Title Skeleton */}\n                                <Skeleton width=\"70%\" height=\"28px\" className=\"mb-3\" />\n                                \n                                {/* Assignee Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center pt-2'>\n                                        <Skeleton width=\"80px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8} className='d-flex align-items-center'>\n                                        <Skeleton shape=\"circle\" size=\"24px\" className=\"me-2\" />\n                                        <Skeleton width=\"120px\" height=\"22px\" style={{ marginLeft: '8px' }} />\n                                    </Col>\n                                </Row>\n\n                                {/* Due Date Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center'>\n                                        <Skeleton width=\"80px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8}>\n                                        <Skeleton width=\"180px\" height=\"22px\" />\n                                    </Col>\n                                </Row>\n\n                                {/* Project Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center pt-3'>\n                                        <Skeleton width=\"100px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8}>\n                                        <Skeleton width=\"200px\" height=\"46px\" borderRadius=\"8px\" />\n                                    </Col>\n                                </Row>\n\n                                {/* Description Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4}>\n                                        <Skeleton width=\"90px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={12} className=\"mt-2\">\n                                        <Skeleton width=\"100%\" height=\"120px\" borderRadius=\"8px\" />\n                                    </Col>\n                                </Row>\n                            </div>\n                        ) : (\n                        <div className='task-content' style={{ padding: '24px' }}>\n                            <Form.Control\n                                type=\"text\"\n                                name='taskTitle'\n                                id='taskTitle'\n                                placeholder=\"Enter task title\"\n                                value={taskTitle}\n                                onChange={(e) => setTaskTitle(e.target.value)}\n                                className={styles.taskTitleInput}\n                            />\n                            {errors.taskTitle && <Form.Text className=\"error-message\">Task title is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center pt-2'>\n                                    <Form.Label className={styles.formLabel}>Assignee</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    {!user && <div className='d-flex align-items-center justify-content-center' onClick={() => dropdownRef.current?.show()} style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%' }}><Person\n                                        color={dropdownRef.current?.panel?.element?.offsetParent ? \"#1AB2FF\" : \"#475467\"}\n                                        size={18}\n                                        className='cursor-pointer' />\n                                    </div>}\n                                    <Dropdown\n                                        ref={dropdownRef}\n                                        options={[\n                                            {\n                                                label: 'Desktop User',\n                                                items: usersList?.data?.users?.filter((user) => user?.is_active)?.map((user) => ({\n                                                    value: user?.id,\n                                                    label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                    photo: user?.photo || \"\",\n                                                    has_photo: user?.has_photo\n                                                })) || []\n                                            },\n                                            ...(session?.has_work_subscription\n                                                ? [\n                                                    {\n                                                        label: 'Mobile User',\n                                                        items:\n                                                            mobileUsersList?.data?.users\n                                                                ?.filter((user) => user?.status !== 'disconnected')\n                                                                ?.map((user) => ({\n                                                                    value: user?.id,\n                                                                    label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                                    photo: user?.photo || \"\",\n                                                                    has_photo: user?.has_photo,\n                                                                })) || [],\n                                                    },\n                                                ]\n                                                : []),\n                                        ]}\n                                        onChange={(e) => {\n                                            setUser(e.value);\n                                        }}\n                                        valueTemplate={(option) => {\n                                            // When using grouped options, option might be the raw value (ID) not the object\n                                            // We use usersMap to get the correct user data\n                                            const userId = typeof option === 'object' ? option?.value : option;\n                                            const userData = usersMap.get(userId);\n                                            \n                                            if (!userData) return null;\n\n                                            return <div className='d-flex gap-2 align-items-center' style={{ position: 'relative', left: '-10px' }}>\n                                                <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                    <FallbackImage photo={userData?.photo} has_photo={userData?.has_photo} is_business={false} size={17} />\n                                                </div>\n                                                {userData?.label}\n                                            </div>;\n                                        }}\n                                        itemTemplate={(option) => {\n                                            return (\n                                                <div className='d-flex gap-2 align-items-center'>\n                                                    <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                        <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                                    </div>\n                                                    {option?.label}\n                                                </div>\n                                            );\n                                        }}\n                                        className='outline-none border-0 p-0'\n                                        style={{\n                                            width: !user ? '0px' : 'fit-content',\n                                            height: !user ? '0px' : '46px',\n                                            zIndex: !user ? '0' : '1',\n                                            position: 'relative',\n                                            left: !user ? '-60px' : '-4px',\n                                            top: !user ? '-15px' : '0px',\n                                        }}\n                                        value={user}\n                                        dropdownIcon={<></>}\n                                        collapseIcon={<></>}\n                                        placeholder=\"Select project\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                        optionGroupLabel=\"label\"\n                                        optionGroupChildren=\"items\"\n                                        scrollHeight=\"400px\"\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.user && <Form.Text className=\"error-message\">User is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center'>\n                                    <Form.Label className={styles.formLabel}>Due Date</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    <SelectDate dateRange={date} setDateRange={setDate} />\n                                </Col>\n                            </Row>\n                            {errors.date && <Form.Text className=\"error-message\">Date is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center pt-3'>\n                                    <Form.Label className={styles.formLabel}>Link to Project</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    <Dropdown\n                                        options={projectsList?.data?.map((project) => ({\n                                            value: project.id,\n                                            label: `${project.number}: ${project.reference}`\n                                        })) || []}\n                                        onChange={(e) => {\n                                            setProject(e.value);\n                                        }}\n                                        className={clsx('outline-none', styles.projectDropdown)}\n                                        style={{ height: '46px', maxWidth: '100%', width: 'fit-content' }}\n                                        value={project}\n                                        loading={projectsList?.isFetching}\n                                        placeholder=\"Select project\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                        panelStyle={{ maxHeight: '400px', width: '591px' }}\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.project && <Form.Text className=\"error-message\">Project task is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4}>\n                                    <Form.Label className={styles.formLabel}>Description</Form.Label>\n                                </Col>\n                                <Col sm={12}>\n                                    <Form.Control\n                                        name='taskDescription'\n                                        id='taskDescription'\n                                        as=\"textarea\"\n                                        placeholder='Enter a description...'\n                                        value={description}\n                                        rows={2}\n                                        ref={textareaRef}\n                                        onChange={(e) => {\n                                            setDescription(e.target.value);\n                                        }}\n                                        className={styles.taskDescriptionInput}\n                                        onInput={(e) => {\n                                            e.target.style.height = \"auto\"; // reset\n                                            e.target.style.height = e.target.scrollHeight + \"px\"; // grow\n                                        }}\n                                        onFocus={() => {\n                                            if (textareaRef.current) {\n                                                textareaRef.current.style.height = \"auto\";\n                                                textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n                                            }\n                                        }}\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.description && <Form.Text className=\"error-message\">Description is required</Form.Text>}\n                        </div>\n                        )}\n                        {/* Comments Section */}\n                        {effectiveTaskId && (\n                            <div className='border-top' style={{ background: '#F2F3F4', padding: '12px 24px' }}>\n                                <Form.Label className={styles.formLabel}>Comments</Form.Label>\n                                <div ref={commentsScrollRef}>\n                                    <TaskComments taskId={effectiveTaskId} ref={commentsRef} usersMap={usersMap} />\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    <div className={styles.sidebarFooter}>\n                        {/* Enhanced Comment Editor */}\n                        <CommentEditor\n                            taskId={effectiveTaskId}\n                            session={session}\n                            onCommentAdded={handleCommentAdded}\n                            disabled={!effectiveTaskId}\n                            commentsScrollRef={commentsScrollRef}\n                        />\n\n                        {/* Footer with Mark Complete and Delete buttons */}\n                        <div className={styles.taskFooter}>\n                            <Button\n                                disabled={!effectiveTaskId || markCompleteMutation.isPending}\n                                className={defaultValue?.finished ? 'outline-in-complete-button' : 'outline-complete-button'}\n                                onClick={handleMarkComplete}\n                            >\n                                {defaultValue?.finished ? 'Completed' : 'Mark Complete'}\n                                <CheckCircle size={16} color='#079455' />\n\n                                {markCompleteMutation.isPending && (\n                                    <ProgressSpinner style={{ width: '16px', height: '16px' }} strokeWidth=\"3\" />\n                                )}\n                            </Button>\n                            <div className={styles.footerRight}>\n                                <span className={styles.footerHint}>\n                                    {saveStatus === 'saving' && 'Saving...'}\n                                    {saveStatus === 'saved' && 'Changes saved'}\n                                    {saveStatus === 'idle' && 'Auto-save enabled'}\n                                </span>\n                                <Button className='danger-text-button' onClick={handleDelete} disabled={!effectiveTaskId}>\n                                    Delete\n                                    {deleteMutation.isPending && <ProgressSpinner style={{ width: '18px', height: '18px' }} />}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        ></Sidebar>\n    );\n};\n\nexport default CreateTask;","import CreateTask from '../../../../Work/features/task/create-task/create-task';\n\nconst CreateTaskFeature = ({ show, setShow, project, reInitialize }) => {\n    const projectId = project.value;\n    return (\n        <>\n            {show && <CreateTask show={show} setShow={setShow} projectId={projectId} refetch={reInitialize} />}\n        </>\n    );\n};\n\nexport default CreateTaskFeature;\n","var _rect, _rect2, _path, _path2, _path3;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgAddNoteModeIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 41,\n    height: 40,\n    viewBox: \"0 0 41 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    fill: \"#BAE8FF\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    stroke: \"#EBF8FF\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.75 12.5C24.5784 12.5 25.25 13.1716 25.25 14V26C25.25 26.8284 24.5784 27.5 23.75 27.5H17.75C16.9216 27.5 16.25 26.8284 16.25 26V14C16.25 13.1716 16.9216 12.5 17.75 12.5H23.75ZM17.75 11C16.0931 11 14.75 12.3431 14.75 14V26C14.75 27.6569 16.0931 29 17.75 29H23.75C25.4069 29 26.75 27.6569 26.75 26V14C26.75 12.3431 25.4069 11 23.75 11H17.75Z\",\n    fill: \"#158ECC\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.75 26C21.5784 26 22.25 25.3284 22.25 24.5C22.25 23.6716 21.5784 23 20.75 23C19.9216 23 19.25 23.6716 19.25 24.5C19.25 25.3284 19.9216 26 20.75 26Z\",\n    fill: \"#158ECC\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.1481 14.0869C11.5143 14.2805 11.6542 14.7343 11.4606 15.1005C10.6879 16.5624 10.25 18.229 10.25 20C10.25 21.771 10.6879 23.4376 11.4606 24.8995C11.6542 25.2657 11.5143 25.7195 11.1481 25.9131C10.7819 26.1066 10.3281 25.9667 10.1345 25.6005C9.25032 23.9278 8.75 22.0212 8.75 20C8.75 17.9788 9.25032 16.0722 10.1345 14.3995C10.3281 14.0333 10.7819 13.8934 11.1481 14.0869ZM30.3519 14.0869C30.7181 13.8934 31.1719 14.0333 31.3655 14.3995C32.2497 16.0722 32.75 17.9788 32.75 20C32.75 22.0212 32.2497 23.9278 31.3655 25.6005C31.1719 25.9667 30.7181 26.1066 30.3519 25.9131C29.9857 25.7195 29.8458 25.2657 30.0394 24.8995C30.8121 23.4376 31.25 21.771 31.25 20C31.25 18.229 30.8121 16.5624 30.0394 15.1005C29.8458 14.7343 29.9857 14.2805 30.3519 14.0869ZM13.3352 16.3014C13.7211 16.4521 13.9117 16.887 13.761 17.2728C13.4313 18.1171 13.25 19.0365 13.25 20C13.25 20.9635 13.4313 21.8829 13.761 22.7272C13.9117 23.113 13.7211 23.5479 13.3352 23.6986C12.9494 23.8493 12.5145 23.6587 12.3638 23.2728C11.9673 22.2575 11.75 21.1532 11.75 20C11.75 18.8468 11.9673 17.7425 12.3638 16.7272C12.5145 16.3413 12.9494 16.1507 13.3352 16.3014ZM28.1648 16.3014C28.5506 16.1507 28.9855 16.3413 29.1362 16.7272C29.5327 17.7425 29.75 18.8468 29.75 20C29.75 21.1532 29.5327 22.2575 29.1362 23.2728C28.9855 23.6587 28.5506 23.8493 28.1648 23.6986C27.7789 23.5479 27.5883 23.113 27.739 22.7272C28.0687 21.8829 28.25 20.9635 28.25 20C28.25 19.0365 28.0687 18.1171 27.739 17.2728C27.5883 16.887 27.7789 16.4521 28.1648 16.3014Z\",\n    fill: \"#158ECC\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddNoteModeIcon);\nexport default __webpack_public_path__ + \"static/media/addNoteModeIcon.43bdc8582f3ef769329a44f15a05fe67.svg\";\nexport { ForwardRef as ReactComponent };","const API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasks = async (limit, offset) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> View Task API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksRead = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Update API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUpdate= async (mainData,taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify(mainData)\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task partials Update API  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const partialsTasksUpdate= async (taskId, data) => {\n  console.log('taskId: ', taskId);\n  console.log('data: ', data);\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PATCH',\n    headers: myHeaders,\n    body: JSON.stringify(data),\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Partials update error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Create API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksNew = async (formData) => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: JSON.stringify(formData), // Serialize formData directly here\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/tasks/new/`, requestOptions);\n    const result = await response.text();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Project API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksProject = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/projects/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Uses API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUsers = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/all-users/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DELETE Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksDelete = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'DELETE',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/delete/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    if (response.ok) \n    return { message: 'Task deleted successfully' };\n    else\n    throw new Error(\"Error during deleting\"); \n    \n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Complete Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const TaskCompleteJob = async (taskId, finished) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const raw = JSON.stringify({\n    \"finished\": finished\n  });\n\n  const requestOptions = {\n    method: \"PATCH\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/complete/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n","var _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgFolderFileIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"folder\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Union\",\n    d: \"M0.539556 4.37024L0.5 3.5C0.5 2.39543 1.39543 1.5 2.5 1.5H6.17157C6.70201 1.5 7.21071 1.71071 7.58579 2.08579L8.41421 2.91421C8.78929 3.28929 9.29799 3.5 9.82843 3.5H13.8099C14.986 3.5 15.9082 4.50984 15.8017 5.68107L15.1654 12.6811C15.0717 13.7112 14.208 14.5 13.1736 14.5H2.82644C1.79203 14.5 0.928302 13.7112 0.834651 12.6811L0.198287 5.68107C0.154232 5.19647 0.286283 4.73949 0.539556 4.37024ZM2.19007 4.5C1.60204 4.5 1.14094 5.00492 1.19418 5.59054L1.83054 12.5905C1.87737 13.1056 2.30923 13.5 2.82644 13.5H13.1736C13.6908 13.5 14.1226 13.1056 14.1695 12.5905L14.8058 5.59054C14.8591 5.00492 14.398 4.5 13.8099 4.5H2.19007ZM6.87868 2.79289C6.69114 2.60536 6.43679 2.5 6.17157 2.5H2.5C1.95402 2.5 1.51024 2.93755 1.50017 3.48112L1.50647 3.61964C1.71927 3.54231 1.94936 3.5 2.19007 3.5H7.58579L6.87868 2.79289Z\",\n    fill: \"#1D2939\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFolderFileIcon);\nexport default __webpack_public_path__ + \"static/media/folderFileIcon.ea8d1ab0e5f9d712876b6e6f3e9f303d.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useRef, useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { X, CloudUpload, Trash, Folder as FolderIcon, Check, X as CancelIcon, Share, CheckCircleFill } from \"react-bootstrap-icons\";\nimport { useDropzone } from 'react-dropzone';\nimport { Link } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { ProgressBar } from 'primereact/progressbar';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Skeleton } from 'primereact/skeleton';\nimport Modal from 'react-bootstrap/Modal';\nimport { toast } from 'sonner';\nimport styles from './files-model.module.scss';\nimport { deleteFileByKey, getProjectFilesById } from '../../../../../../APIs/management-api';\nimport FolderFileIcon from \"../../../../../../assets/images/icon/folderFileIcon.svg\";\nimport { formatFileSize } from '../../../../../../features/chat/ui/chat-area/chat-attachment-popover';\nimport { BootstrapFileIcons } from '../../../../../../shared/lib/bootstrap-file-icons';\n\n// Helper function to check if file is an image\nconst isImageFile = (extension) => {\n  const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'svg', 'bmp', 'webp', 'heic'];\n  return imageExtensions.includes(extension?.toLowerCase());\n};\n\n// File Preview Component\nconst FilePreview = ({ file }) => {\n  const extension = file?.key?.split('.').pop()?.toLowerCase();\n  const isImage = isImageFile(extension);\n\n  if (isImage) {\n    return (\n      <div\n        style={{\n          width: '48px',\n          height: '48px',\n          borderRadius: '6px',\n          overflow: 'hidden',\n          flexShrink: 0,\n          background: '#E5E7EB'\n        }}\n      >\n        <img\n          src={file.url}\n          alt={file.key}\n          style={{\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover'\n          }}\n          onError={(e) => {\n            e.target.style.display = 'none';\n            e.target.parentElement.innerHTML = '<div style=\"width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"#9CA3AF\"><path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg></div>';\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      style={{\n        width: '48px',\n        height: '48px',\n        borderRadius: '6px',\n        background: '#F9FAFB',\n        border: '1px solid #E5E7EB',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexShrink: 0\n      }}\n    >\n      <BootstrapFileIcons extension={extension} size={28} />\n    </div>\n  );\n};\n\n// Folder Preview Component\nconst FolderPreview = () => (\n  <div\n    style={{\n      width: '48px',\n      height: '48px',\n      borderRadius: '6px',\n      background: '#F9FAFB',\n      border: '1px solid #E5E7EB',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexShrink: 0\n    }}\n  >\n    <FolderIcon size={28} color=\"#FFA500\" />\n  </div>\n);\n\n// Helper function to extract all files from the new API response format\nconst getAllFilesFromResponse = (data) => {\n  if (!data) return [];\n  \n  // If it's already an array (old format), return as-is\n  if (Array.isArray(data)) return data;\n  \n  // New format: { project: [], jobs: {} }\n  const allFiles = [];\n  \n  // Add project files\n  if (Array.isArray(data.project)) {\n    allFiles.push(...data.project);\n  }\n  \n  // Add job files - jobs is an object with job IDs as keys\n  if (data.jobs && typeof data.jobs === 'object') {\n    Object.entries(data.jobs).forEach(([jobId, jobFiles]) => {\n      if (Array.isArray(jobFiles)) {\n        // Add job context to each file for display purposes\n        allFiles.push(...jobFiles.map(file => ({ ...file, jobId })));\n      }\n    });\n  }\n  \n  return allFiles;\n};\n\n// Function to get contents at current path\nconst getContentsAtPath = (allFiles, path) => {\n  const prefix = path.join('/') + (path.length ? '/' : '');\n  const items = new Map();\n\n  for (const file of allFiles) {\n    if (file.key.startsWith(prefix)) {\n      const rel = file.key.slice(prefix.length);\n      if (rel === '') continue;\n      const parts = rel.split('/');\n      const first = parts[0];\n      if (parts.length > 1) {\n        if (!items.has(first)) {\n          items.set(first, { type: 'folder', name: first, ...file });\n        }\n      } else {\n        items.set(first, { type: 'file', name: first, ...file });\n      }\n    }\n  }\n\n  return Array.from(items.values()).sort((a, b) =>\n    a.type === b.type ? a.name.localeCompare(b.name) : a.type === 'folder' ? -1 : 1\n  );\n};\n\n// Share File Popover Component - YouTube style\nconst ShareFilePopover = ({ file, onClose, triggerRef }) => {\n  const [copied, setCopied] = useState(false);\n  const popoverRef = useRef(null);\n  const fileUrl = file.url;\n  const [position, setPosition] = useState(null); // Start with null to indicate not calculated yet\n\n  // Calculate position based on trigger element\n  useEffect(() => {\n    if (triggerRef?.current) {\n      const rect = triggerRef.current.getBoundingClientRect();\n      const popoverWidth = 415;\n      const popoverHeight = 280;\n      \n      // Calculate left position - try to align right edge with trigger\n      let left = rect.right - popoverWidth;\n      if (left < 10) left = 10; // Don't go off left edge\n      \n      // Calculate top position - prefer below, but go above if no space\n      let top = rect.bottom + 8;\n      if (top + popoverHeight > window.innerHeight - 10) {\n        top = rect.top - popoverHeight - 8;\n      }\n      if (top < 10) top = 10; // Don't go off top edge\n      \n      setPosition({ top, left });\n    }\n  }, [triggerRef]);\n\n  // Handle click outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (popoverRef.current && !popoverRef.current.contains(event.target)) {\n        onClose();\n      }\n    };\n    \n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [onClose]);\n\n  // Don't render until position is calculated\n  if (!position) return null;\n\n  const handleCopyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(fileUrl);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n      setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    } catch (error) {\n      // Fallback for browsers that don't support clipboard API\n      const ta = document.createElement('textarea');\n      ta.value = fileUrl;\n      document.body.appendChild(ta);\n      ta.select();\n      document.execCommand && document.execCommand('copy');\n      document.body.removeChild(ta);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n      setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    }\n  };\n\n  const shareOptions = [\n    {\n      name: 'WhatsApp',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#25D366\"/>\n          <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://wa.me/?text=${encodeURIComponent(`Check out this file: ${file.name}\\n${fileUrl}`)}`, '_blank');\n        onClose();\n      }\n    },\n    {\n      name: 'Facebook',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#1877F2\"/>\n          <path d=\"M16.671 15.469l.547-3.469h-3.343V9.531c0-.969.475-1.906 1.984-1.906h1.532V4.656s-1.39-.234-2.719-.234c-2.773 0-4.578 1.657-4.578 4.656V12H6.921v3.469h3.173V24h3.906v-8.531h2.671z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(fileUrl)}`, '_blank', 'width=600,height=400');\n        onClose();\n      }\n    },\n    {\n      name: 'X',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#000000\"/>\n          <path d=\"M13.544 10.456L17.89 5.5h-1.03l-3.773 4.305L10.16 5.5H6.5l4.56 6.513L6.5 17.5h1.03l3.987-4.55 3.184 4.55H18l-4.456-7.044zm-1.41 1.608l-.462-.649L8.04 6.28h1.585l2.97 4.17.462.649 3.862 5.423h-1.585l-3.2-4.458z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(`Check out this file: ${file.name}`)}&url=${encodeURIComponent(fileUrl)}`, '_blank', 'width=600,height=400');\n        onClose();\n      }\n    },\n    {\n      name: 'Email',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#9CA3AF\"/>\n          <path d=\"M6 8.5C6 7.67157 6.67157 7 7.5 7H16.5C17.3284 7 18 7.67157 18 8.5V15.5C18 16.3284 17.3284 17 16.5 17H7.5C6.67157 17 6 16.3284 6 15.5V8.5Z\" stroke=\"white\" strokeWidth=\"1.5\"/>\n          <path d=\"M6.5 8L12 12L17.5 8\" stroke=\"white\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/>\n        </svg>\n      ),\n      onClick: () => {\n        const subject = encodeURIComponent(`Shared File: ${file.name}`);\n        const body = encodeURIComponent(`Hi,\\n\\nI wanted to share this file with you:\\n\\n${file.name}\\n\\nYou can access it here:\\n${fileUrl}\\n\\nBest regards`);\n        window.location.href = `mailto:?subject=${subject}&body=${body}`;\n        onClose();\n      }\n    },\n    {\n      name: 'LinkedIn',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#0A66C2\"/>\n          <path d=\"M8.5 10H6.5V17.5H8.5V10Z\" fill=\"white\"/>\n          <path d=\"M7.5 8.5C8.19036 8.5 8.75 7.94036 8.75 7.25C8.75 6.55964 8.19036 6 7.5 6C6.80964 6 6.25 6.55964 6.25 7.25C6.25 7.94036 6.80964 8.5 7.5 8.5Z\" fill=\"white\"/>\n          <path d=\"M13 10H10.5V17.5H13V13.5C13 12.5 13.5 11.5 14.75 11.5C16 11.5 16 12.75 16 13.5V17.5H18V13C18 10.5 16.5 10 15.25 10C14 10 13.25 10.75 13 11V10Z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(fileUrl)}`, '_blank', 'width=600,height=400');\n        onClose();\n      }\n    },\n    {\n      name: 'Telegram',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#0088CC\"/>\n          <path d=\"M17.0708 7.25736L5.82893 11.7157C5.19282 11.9722 5.19617 12.3354 5.71355 12.4916L8.45534 13.3441L15.2726 8.87451C15.5898 8.67576 15.879 8.78168 15.6426 9.00033L10.0851 14.0632H10.0839L10.0851 14.0637L9.87243 16.8879C10.1449 16.8879 10.2654 16.7614 10.4166 16.6161L11.734 15.3391L14.5173 17.4133C15.0157 17.6918 15.3734 17.5497 15.4991 16.9561L17.4706 8.19979C17.6561 7.47058 17.1969 7.14026 17.0708 7.25736Z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://t.me/share/url?url=${encodeURIComponent(fileUrl)}&text=${encodeURIComponent(`Check out this file: ${file.name}`)}`, '_blank');\n        onClose();\n      }\n    }\n  ];\n\n  return (\n    <div\n      ref={popoverRef}\n      onClick={(e) => e.stopPropagation()}\n      style={{\n        position: 'fixed',\n        top: `${position.top}px`,\n        left: `${position.left}px`,\n        background: '#FFFFFF',\n        borderRadius: '12px',\n        boxShadow: '0px 12px 24px -4px rgba(16, 24, 40, 0.18), 0px 8px 16px -4px rgba(16, 24, 40, 0.08)',\n        border: '1px solid #EAECF0',\n        padding: '16px',\n        width: '415px',\n        zIndex: 9999\n      }}\n    >\n      {/* Header */}\n      <div className='d-flex justify-content-between align-items-center mb-4'>\n        <span style={{ fontSize: '16px', fontWeight: '600', color: '#101828' }}>Share</span>\n        <div \n          onClick={onClose} \n          style={{ \n            cursor: 'pointer', \n            padding: '4px',\n            borderRadius: '4px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <X size={20} color=\"#667085\" />\n        </div>\n      </div>\n\n      {/* Social Media Icons Row */}\n      <div className='d-flex justify-content-start gap-3 mb-4' style={{ overflowX: 'auto', paddingBottom: '4px' }}>\n        {shareOptions.map((option) => (\n          <div\n            key={option.name}\n            onClick={option.onClick}\n            className='d-flex flex-column align-items-center gap-2'\n            style={{\n              cursor: 'pointer',\n              minWidth: '48px'\n            }}\n          >\n            <div\n              style={{\n                width: '48px',\n                height: '48px',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                transition: 'transform 0.2s ease'\n              }}\n              onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'}\n              onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}\n            >\n              {option.icon}\n            </div>\n            <span style={{ fontSize: '11px', color: '#667085', textAlign: 'center' }}>{option.name}</span>\n          </div>\n        ))}\n      </div>\n\n      {/* Copy Link Section */}\n      <div\n        className='d-flex align-items-center gap-2'\n        style={{\n          background: '#F9FAFB',\n          borderRadius: '8px',\n          border: '1px solid #E5E7EB',\n          padding: '8px 12px'\n        }}\n      >\n        <input\n          type=\"text\"\n          value={fileUrl}\n          readOnly\n          style={{\n            flex: 1,\n            border: 'none',\n            background: 'transparent',\n            fontSize: '13px',\n            color: '#667085',\n            outline: 'none',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis'\n          }}\n        />\n        <button\n          onClick={handleCopyLink}\n          style={{\n            padding: '8px 16px',\n            background: copied ? '#17B26A' : '#158ECC',\n            border: 'none',\n            borderRadius: '20px',\n            color: '#FFFFFF',\n            fontSize: '13px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease',\n            whiteSpace: 'nowrap',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '4px'\n          }}\n        >\n          {copied ? (\n            <>\n              <CheckCircleFill size={14} />\n              Copied\n            </>\n          ) : (\n            'Copy'\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// ShareButton Component - handles button and popover together\nconst ShareButton = ({ item, isShareOpen, onToggle, onClose }) => {\n  const buttonRef = useRef(null);\n\n  return (\n    <>\n      <div\n        ref={buttonRef}\n        className='d-flex align-items-center justify-content-center'\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          onToggle();\n        }}\n        title='Share'\n        style={{\n          background: isShareOpen ? '#EBF8FF' : '#F0F9FF',\n          borderRadius: '50%',\n          width: '28px',\n          height: '28px',\n          flexShrink: 0,\n          cursor: 'pointer',\n          transition: 'all 0.2s ease',\n          border: isShareOpen ? '1px solid #158ECC' : '1px solid transparent'\n        }}\n        onMouseEnter={(e) => {\n          if (!isShareOpen) e.currentTarget.style.background = '#E0F2FE';\n        }}\n        onMouseLeave={(e) => {\n          if (!isShareOpen) e.currentTarget.style.background = '#F0F9FF';\n        }}\n      >\n        <Share size={14} color=\"#158ECC\" />\n      </div>\n      {isShareOpen && (\n        <ShareFilePopover \n          file={item} \n          onClose={onClose}\n          triggerRef={buttonRef}\n        />\n      )}\n    </>\n  );\n};\n\nconst FilesModel = ({ projectId }) => {\n  const [uploadingFiles, setUploadingFiles] = useState([]);\n  const [creatingFile, setCreatingFile] = useState(false);\n  const [creatingFolder, setCreatingFolder] = useState(false);\n  const [isFolderCreating, setIsFolderCreating] = useState(false);\n  const [newFolderName, setNewFolderName] = useState('');\n  const [viewShow, setViewShow] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [currentPath, setCurrentPath] = useState([]);\n  const [sharePopoverFile, setSharePopoverFile] = useState(null); // Track which file's share popover is open\n  const folderInputRef = useRef(null);\n  const accessToken = localStorage.getItem(\"access_token\");\n  const handleClose = () => {\n    setViewShow(false);\n    setCurrentPath([]);\n    setInputValue('');\n    setCreatingFolder(false);\n    setNewFolderName('');\n    setUploadingFiles([]);\n    setSharePopoverFile(null);\n  };\n\n  const filesQuery = useQuery({\n    queryKey: ['id', projectId],\n    queryFn: () => getProjectFilesById(projectId),\n    enabled: !!projectId,\n    retry: 1,\n    staleTime: 0,\n    cacheTime: 0,\n  });\n\n  const handleShow = () => {\n    setViewShow(true);\n  };\n\n  const uploadToS3 = async (file, url, fileId) => {\n    return axios.put(url, file, {\n      headers: {\n        \"Content-Type\": \"\",\n      },\n      onUploadProgress: (progressEvent) => {\n        const progress = Math.round(\n          (progressEvent.loaded / progressEvent.total) * 100\n        );\n        setUploadingFiles((prev) =>\n          prev.map((f) =>\n            f.id === fileId ? { ...f, progress } : f\n          )\n        );\n      },\n    }).catch((err) => {\n      console.log('err: ', err);\n      setUploadingFiles((prev) =>\n        prev.map((f) =>\n          f.id === fileId ? { ...f, progress: 0, error: true } : f\n        )\n      );\n      throw err;\n    });\n  };\n\n  const fileUploadBySignedURL = async (uploadFiles) => {\n    if (!uploadFiles.length) return;\n    if (!accessToken) return toast.error('Access token is missing. Please log in again.');\n\n    const currentPrefix = currentPath.join('/') + (currentPath.length ? '/' : '');\n\n    const newUploading = uploadFiles.map((file, index) => ({\n      id: Date.now() + index,\n      name: file.name,\n      progress: 0,\n      error: false,\n      type: 'uploading_file',\n    }));\n    setUploadingFiles((prev) => [...newUploading, ...prev]);\n\n    for (const [index, file] of uploadFiles.entries()) {\n      const fileId = newUploading[index].id;\n      const uniqueNumber = Date.now();\n      const fileNameParts = file.name.split('.');\n      const ext = fileNameParts.pop();\n      const baseName = fileNameParts.join('.');\n      const newName = `${currentPrefix}${baseName}-${uniqueNumber}.${ext}`;\n\n      try {\n        const response = await axios.post(\n          `${process.env.REACT_APP_BACKEND_API_URL}/projects/file/${projectId}/`,\n          { file_name: newName },\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          }\n        );\n\n        const { url } = response.data;\n        if (!url) {\n          throw new Error('No URL received');\n        }\n        let originalURL = url.split('?')[0];\n        await uploadToS3(file, originalURL, fileId);\n        toast.success(`Successfully uploaded ${file.name}`);\n        filesQuery?.refetch();\n      } catch (error) {\n        console.error(\"Error uploading file:\", file.name, error);\n        toast.error(`Failed to upload ${file.name}. Please try again.`);\n        setUploadingFiles((prev) =>\n          prev.map((f) =>\n            f.id === fileId ? { ...f, error: true } : f\n          )\n        );\n        continue;\n      } finally {\n        setUploadingFiles((prev) => prev.filter((f) => f.id !== fileId));\n      }\n    }\n\n  };\n\n  const createFolder = async (name) => {\n    if (!name.trim()) {\n      toast.error('Folder name cannot be empty.');\n      setCreatingFolder(false);\n      setNewFolderName('');\n      return;\n    }\n    if (!accessToken) {\n      toast.error('Access token is missing. Please log in again.');\n      setCreatingFolder(false);\n      return;\n    }\n\n    const currentPrefix = currentPath.join('/') + (currentPath.length ? '/' : '');\n    const folderKey = `${currentPrefix}${name}/`;\n\n    try {\n      setIsFolderCreating(true);\n      const response = await axios.post(\n        `${process.env.REACT_APP_BACKEND_API_URL}/projects/file/${projectId}/`,\n        { file_name: folderKey },\n        {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n          },\n        }\n      );\n\n      const { url } = response.data;\n      if (!url) {\n        throw new Error('No URL received');\n      }\n\n      await axios.put(url, new Blob(), {\n        headers: {\n          \"Content-Type\": \"\",\n        },\n      });\n      toast.success(`Successfully created folder ${name}`);\n      filesQuery?.refetch();\n    } catch (error) {\n      console.error(\"Error creating folder:\", error);\n      toast.error(`Failed to create folder ${name}. Please try again.`);\n    } finally {\n      setCreatingFolder(false);\n      setNewFolderName('');\n      setIsFolderCreating(false);\n    }\n  };\n\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    multiple: true,\n    accept: { 'application/pdf': ['.pdf'], 'image/*': ['.png', '.jpg', '.jpeg'], 'video/mp4': ['.mp4'] },\n    maxSize: 25 * 1024 * 1024,\n    onDrop: acceptedFiles => {\n      fileUploadBySignedURL(acceptedFiles);\n    }\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: (fileKey) => deleteFileByKey(projectId, fileKey),\n    onSuccess: () => {\n      toast.success('File deleted successfully');\n      filesQuery?.refetch();\n    },\n    onError: () => {\n      toast.error('Failed to delete file');\n    },\n  });\n\n  const deleteFolderMutation = useMutation({\n    mutationFn: async (folderPrefix) => {\n      console.log('folderPrefix: ', folderPrefix);\n      const allFiles = getAllFilesFromResponse(filesQuery.data);\n      const toDelete = allFiles.filter((f) => f.url.includes(folderPrefix));\n      console.log('toDelete: ', toDelete);\n      await Promise.all(toDelete.map((file) => {\n        let url = file?.url;\n        if (!url) return;\n        const urlObj = new URL(url);\n        const fileKey = urlObj.pathname.replace(/^\\/+/, '');\n        deleteFileByKey(projectId, fileKey);\n      }));\n      const markerKey = folderPrefix;\n      if (allFiles.some((f) => f.key === markerKey) && !toDelete.some((f) => f.key === markerKey)) {\n        await deleteFileByKey(projectId, markerKey);\n      }\n    },\n    onSuccess: () => {\n      toast.success('Folder deleted successfully');\n      filesQuery?.refetch();\n    },\n    onError: (error) => {\n      console.error('Error deleting folder:', error);\n      toast.error('Failed to delete folder');\n    },\n  });\n\n  const removeFile = (item) => {\n    let url = item?.url;\n    if (!url) return;\n\n    try {\n      const urlObj = new URL(url);\n      const fileKey = urlObj.pathname.replace(/^\\/+/, '');\n      deleteMutation.mutate(fileKey);\n    } catch (error) {\n      console.error('Invalid URL:', url);\n      toast.error('Failed to delete file');\n    }\n  };\n\n  const removeFolder = async(item) => {\n    let url = item?.url;\n    if (!url) return;\n\n    try {\n      const urlObj = new URL(url);\n      const folderPrefix = urlObj.pathname.replace(/^\\/+/, '');\n      await deleteFolderMutation.mutateAsync(folderPrefix);\n      filesQuery?.refetch();\n    } catch (error) {\n      console.error('Invalid URL:', url);\n      toast.error('Failed to delete folder');\n    }\n  };\n\n  const startCreatingFolder = () => {\n    setCreatingFolder(true);\n    setNewFolderName('');\n    setTimeout(() => {\n      if (folderInputRef.current) {\n        folderInputRef.current.focus();\n      }\n    }, 0);\n  };\n\n  const cancelCreatingFolder = () => {\n    setCreatingFolder(false);\n    setNewFolderName('');\n  };\n\n  const allFiles = getAllFilesFromResponse(filesQuery.data);\n  const contents = getContentsAtPath(allFiles, currentPath);\n  let displayContents = inputValue\n    ? contents.filter((item) => item.name.toLowerCase().includes(inputValue.toLowerCase()))\n    : contents;\n\n  displayContents = [...uploadingFiles, ...displayContents];\n\n  if (creatingFolder) {\n    displayContents = [{ type: 'new_folder' }, ...displayContents];\n  }\n\n  return (\n    <>\n      {/* View modal trigger */}\n      <Button className={`filebut ${allFiles?.length ? 'fileActive' : ''}`} onClick={handleShow}>\n        Files\n        <img src={FolderFileIcon} alt=\"FolderFileIcon\" />\n      </Button>\n\n      {/* View modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject taskModelProjectFiles\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start py-2\">\n            <span>\n              Integrated File System\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className='d-flex justify-content-between align-items-center mb-3'>\n            {/* Breadcrumb */}\n            <nav aria-label=\"breadcrumb\">\n              <ol className=\"breadcrumb\" style={{ fontSize: '14px', marginBottom: '0' }}>\n                {['Files', ...currentPath].map((part, index, arr) => (\n                  <li className={`breadcrumb-item ${index === arr.length - 1 ? 'active' : ''}`} key={index}>\n                    <a\n                      href=\"#\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        setCurrentPath(currentPath.slice(0, index));\n                      }}\n                      className='font-14'\n                      style={{ color: index === arr.length - 1 ? '#344054' : '#106B99', textDecoration: 'none' }}\n                    >\n                      {part}\n                    </a>\n                  </li>\n                ))}\n              </ol>\n            </nav>\n\n            <div className='d-flex gap-2 justify-content-end align-items-center'>\n              <Button className=\"solid-button font-14 d-flex align-items-center\" onClick={() => setCreatingFile(!creatingFile)}>\n                Upload Files\n              </Button>\n              <Button className=\"outline-button font-14 d-flex align-items-center\" onClick={startCreatingFolder}>\n                New Folder\n              </Button>\n\n              <div className=\"searchBox\" style={{ position: 'relative' }}>\n                <div style={{ position: 'absolute', top: '3px', left: '8px' }}>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 20 20\" fill=\"none\">\n                    <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n                  </svg>\n                </div>\n                <input type=\"text\" placeholder=\"Search\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} className=\"border search-resource\" style={{ borderRadius: '4px', width: '184px', border: '1px solid #D0D5DD', color: '#424242', paddingLeft: '36px', fontSize: '14px', height: '32px' }} />\n              </div>\n            </div>\n          </div>\n\n          {/* Professional Upload Section - Always visible */}\n          {creatingFile && (\n            <div {...getRootProps({ className: 'dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer mb-4' })} style={{ width: '100%', height: '100px', background: '#F9FAFB', borderRadius: '8px', border: '2px dashed #D0D5DD', padding: '20px' }}>\n              <input {...getInputProps()} />\n              <CloudUpload size={24} color=\"#106B99\" />\n              <p className='mb-0 mt-2' style={{ color: '#475467', fontSize: '14px', textAlign: 'center' }}>\n                <span style={{ color: '#106B99', fontWeight: '600' }}>Click to upload</span> or drag and drop files here<br />\n                <small>(PDF, PNG, JPG, JPEG, MP4 - Max 25MB)</small>\n              </p>\n            </div>\n          )}\n\n          <div style={{ height: '300px', overflow: 'auto', paddingRight: '4px' }}>\n            <div className='d-flex gap-2 flex-wrap'>\n              {!filesQuery?.isPending && displayContents?.map((item, idx) => {\n                if (item.type === 'new_folder') {\n                  return (\n                    <div\n                      key=\"new_folder\"\n                      style={{\n                        background: '#F9FAFB',\n                        padding: '10px',\n                        borderRadius: '8px',\n                        border: '1px solid #EAECF0',\n                        height: 'fit-content',\n                        width: 'calc(33.333% - 5.33px)',\n                        minWidth: '200px'\n                      }}\n                      className='d-flex align-items-center gap-2'\n                    >\n                      <FolderPreview />\n                      <input\n                        ref={folderInputRef}\n                        type=\"text\"\n                        value={newFolderName}\n                        onChange={(e) => setNewFolderName(e.target.value)}\n                        onKeyDown={(e) => {\n                          if (e.key === 'Enter') {\n                            createFolder(newFolderName);\n                          } else if (e.key === 'Escape') {\n                            cancelCreatingFolder();\n                          }\n                        }}\n                        style={{ flex: 1, border: 'none', background: 'transparent', fontSize: '13px', fontWeight: '500', color: '#344054' }}\n                        placeholder=\"Folder name\"\n                      />\n                      <div className='d-flex gap-1'>\n                        <div\n                          onClick={() => createFolder(newFolderName)}\n                          style={{ cursor: 'pointer', color: '#106B99' }}\n                          title=\"Save\"\n                        >\n                          {\n                            isFolderCreating\n                              ? <ProgressSpinner style={{ width: '14px', height: '14px' }} />\n                              : <Check size={20} />\n                          }\n                        </div>\n                        <div\n                          onClick={cancelCreatingFolder}\n                          style={{ cursor: 'pointer', color: '#F04438' }}\n                          title=\"Cancel\"\n                        >\n                          <CancelIcon size={20} />\n                        </div>\n                      </div>\n                    </div>\n                  );\n                }\n\n                if (item.type === 'uploading_file') {\n                  return (\n                    <div\n                      key={item.id}\n                      style={{\n                        background: '#F9FAFB',\n                        padding: '10px',\n                        borderRadius: '8px',\n                        border: '1px solid #EAECF0',\n                        height: 'fit-content',\n                        width: 'calc(33.333% - 5.33px)',\n                        minWidth: '200px'\n                      }}\n                      className='d-flex align-items-center justify-content-between gap-2'\n                    >\n                      <div className='d-flex align-items-center gap-2' style={{ flex: 1, minWidth: 0 }}>\n                        <div\n                          style={{\n                            width: '48px',\n                            height: '48px',\n                            borderRadius: '6px',\n                            background: '#F9FAFB',\n                            border: '1px solid #E5E7EB',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexShrink: 0\n                          }}\n                        >\n                          <CloudUpload size={28} color=\"#106B99\" />\n                        </div>\n                        <div className='d-flex flex-column' style={{ flex: 1, minWidth: 0, fontSize: '13px' }}>\n                          <div\n                            title={item.name}\n                            style={{\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap',\n                              fontWeight: '500',\n                              color: '#344054',\n                              marginBottom: '2px'\n                            }}\n                          >\n                            {item.name}\n                          </div>\n                          {item.error ? (\n                            <small style={{ color: '#F04438', fontSize: '12px' }}>Upload failed</small>\n                          ) : (\n                            <ProgressBar value={item.progress} style={{ height: '6px' }} showValue={false} />\n                          )}\n                        </div>\n                      </div>\n                      {item.error && (\n                        <div\n                          onClick={() => setUploadingFiles((prev) => prev.filter((f) => f.id !== item.id))}\n                          style={{ cursor: 'pointer', color: '#F04438' }}\n                          title=\"Remove\"\n                        >\n                          <Trash size={14} />\n                        </div>\n                      )}\n                    </div>\n                  );\n                }\n\n                const isDeleting = deleteMutation?.isPending && item.url.includes(deleteMutation?.variables);\n                const isShareOpen = sharePopoverFile === item.key;\n                return (\n                  <div\n                    key={item.name || idx}\n                    style={{\n                      background: '#F9FAFB',\n                      padding: '10px',\n                      borderRadius: '8px',\n                      border: '1px solid #EAECF0',\n                      height: 'fit-content',\n                      width: 'calc(33.333% - 5.33px)',\n                      minWidth: '200px',\n                      position: 'relative'\n                    }}\n                    className='d-flex align-items-center justify-content-between gap-2'\n                  >\n                    {item.type === 'file' ? (\n                      <Link\n                        to={`${item.url}`}\n                        target='_blank'\n                        className='d-flex align-items-center gap-2'\n                        style={{ flex: 1, minWidth: 0, textDecoration: 'none' }}\n                      >\n                        <FilePreview file={item} />\n                        <div className='d-flex flex-column' style={{ flex: 1, minWidth: 0, fontSize: '13px' }}>\n                          <div\n                            title={item?.name}\n                            style={{\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap',\n                              fontWeight: '500',\n                              color: '#344054',\n                              marginBottom: '2px'\n                            }}\n                          >\n                            {item?.name}\n                          </div>\n                          <small style={{ color: '#667085', fontSize: '12px' }}>{formatFileSize(item?.size)}</small>\n                        </div>\n                      </Link>\n                    ) : (\n                      <div\n                        className='d-flex align-items-center gap-2 cursor-pointer'\n                        style={{ flex: 1, minWidth: 0 }}\n                        onClick={() => setCurrentPath([...currentPath, item.name])}\n                      >\n                        <FolderPreview />\n                        <div className='d-flex flex-column' style={{ flex: 1, minWidth: 0, fontSize: '13px' }}>\n                          <div\n                            title={item?.name}\n                            style={{\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap',\n                              fontWeight: '500',\n                              color: '#344054',\n                              marginBottom: '2px'\n                            }}\n                          >\n                            {item?.name}\n                          </div>\n                          <small style={{ color: '#667085', fontSize: '12px' }}>Folder</small>\n                        </div>\n                      </div>\n                    )}\n                    {/* Action buttons */}\n                    <div className='d-flex align-items-center gap-1'>\n                      {/* Share button - only for files */}\n                      {item.type === 'file' && (\n                        <ShareButton \n                          item={item} \n                          isShareOpen={isShareOpen}\n                          onToggle={() => setSharePopoverFile(isShareOpen ? null : item.key)}\n                          onClose={() => setSharePopoverFile(null)}\n                        />\n                      )}\n                      {/* Delete button */}\n                      <div\n                        className='d-flex align-items-center justify-content-center'\n                        onClick={() => item.type === 'file' ? removeFile(item) : removeFolder(item)}\n                        title='Delete'\n                        style={{\n                          background: '#FEE4E2',\n                          borderRadius: '50%',\n                          width: '28px',\n                          height: '28px',\n                          flexShrink: 0,\n                          cursor: 'pointer',\n                          transition: 'all 0.2s ease'\n                        }}\n                        onMouseEnter={(e) => e.currentTarget.style.background = '#FEF3F2'}\n                        onMouseLeave={(e) => e.currentTarget.style.background = '#FEE4E2'}\n                      >\n                        {isDeleting\n                          ? <ProgressSpinner style={{ width: '14px', height: '14px' }} />\n                          : <Trash size={14} color=\"#F04438\" />\n                        }\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n              {filesQuery?.isPending && <>\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n              </>}\n              {!filesQuery?.isPending && displayContents.length === 0 && (\n                <div style={{ width: '100%', textAlign: 'center', color: '#667085', fontSize: '14px' }}>\n                  No files found.\n                </div>\n              )}\n            </div>\n          </div>\n        </Modal.Body>\n        <div className='CustonCloseModalBottom'>\n          <button className='but' onClick={handleClose}>\n            Close\n          </button>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default FilesModel;","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfTasks = async (page, limit, search = \"\", order = \"\", isShowDeleted = false, showNotCompleted = false, userId) => {\n    const offset = (page - 1) * limit;\n    const endpoint = `/tasks/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n    if (search) url.searchParams.append(\"search\", search);\n    if (order) url.searchParams.append(\"ordering\", order);\n    if (isShowDeleted) url.searchParams.append('deleted', 1);\n    if (showNotCompleted === true) url.searchParams.append('finished', false);\n    if (showNotCompleted === false) url.searchParams.append('finished', true);\n    if (userId) url.searchParams.append('users', userId);\n\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getTask = async (id) => {\n    const endpoint = `/tasks/${id}/`;\n    const options = {\n        method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createNewTask = async (data) => {\n    const endpoint = '/tasks/new/';\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateTask = async (id, data) => {\n    const endpoint = `/tasks/update/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getUserList = async () => {\n    const endpoint = `/desktop-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getMobileUserList = async () => {\n    const endpoint = `/team/mobile-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getCommentsForTask = async (taskId) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createTaskComment = async (taskId, payload) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'POST',\n        body: payload,\n    });\n};\n\nexport const deleteTaskComment = async (commentId) => {\n    const endpoint = `/tasks/comments/${commentId}/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'DELETE',\n    });\n};\n\nexport const getCommentPresignedUrl = async (taskId, filename, attachmentType) => {\n    const endpoint = `/tasks/comments/presigned-url/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'POST',\n        body: { file_name: filename, task_id: taskId, attachment_type: attachmentType },\n    });\n};\n\nexport const updateTaskComment = async (commentId, payload) => {\n    const endpoint = `/tasks/comments/${commentId}/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'PUT',\n        body: payload,\n    });\n};","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getJobTemplates = async () => {\n  const endpoint = `/jobs/templates/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getJobTemplate = async (id) => {\n  const endpoint = `/jobs/templates/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createJobTemplate = async (data) => {\n  const endpoint = `/jobs/templates/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateJobTemplate = async (id, data) => {\n  const endpoint = `/jobs/templates/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteJobTemplate = async (id) => {\n  const endpoint = `/jobs/templates/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getEmailTemplates = async () => {\n  const endpoint = `/settings/templates/email-templates/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createEmailTemplate = async (data) => {\n  const endpoint = `/settings/templates/email-templates/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateEmailTemplate = async (id, data) => {\n  const endpoint = `/settings/templates/email-templates/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getEmail = async (id) => {\n  const endpoint = `/settings/templates/email-templates/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getSignatureTemplates = async () => {\n  const endpoint = `/email-signatures/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getEmailSignature = async (id) => {\n  const endpoint = `/email-signatures/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createEmailSignature = async (data) => {\n  const endpoint = `/email-signatures/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateEmailSignature = async (id, data) => {\n  const endpoint = `/email-signatures/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteEmailSignature = async (id) => {\n  const endpoint = `/email-signatures/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const setDefaultEmailSignature = async (id) => {\n  const endpoint = `/settings/email-signatures/default/${id}/`;\n  const options = {\n    method: 'PUT',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getSMSTemplates = async () => {\n  const endpoint = `/sms-templates/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getSMS = async (id) => {\n  const endpoint = `/sms-templates/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createSMSTemplate = async (data) => {\n  const endpoint = `/sms-templates/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateSMSTemplate = async (id, data) => {\n  const endpoint = `/sms-templates/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteSMSTemplate = async (id) => {\n  const endpoint = `/sms-templates/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProposalBySalesId = async (id) => {\n  const endpoint = `/proposals/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getOutgoingEmail = async () => {\n  const endpoint = `/references/outgoing-email/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteEmailTemplates = async (id) => {\n  const endpoint = `/settings/templates/email-templates/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProposalsTemplates = async () => {\n  const endpoint = `/settings/proposals/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProposalsTemplate = async (id) => {\n  const endpoint = `/settings/proposals/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createProposalTemplate = async (data) => {\n  const endpoint = `/settings/proposals/new/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteProposalTemplates = async (id) => {\n  const endpoint = `/settings/proposals/delete/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-email_headerTitle__50KUB\",\"customLabel\":\"send-email_customLabel__r5xED\",\"templateInfo\":\"send-email_templateInfo__mWkVT\",\"bag\":\"send-email_bag__wtdwK\",\"lable\":\"send-email_lable__+kNCa\",\"dropdownSelect\":\"send-email_dropdownSelect__RY5w8\",\"autoCompleteBox\":\"send-email_autoCompleteBox__fWZ7C\",\"AutoComplete\":\"send-email_AutoComplete__m9YI5\",\"bcc\":\"send-email_bcc__BwFzl\",\"box\":\"send-email_box__Zlmer\",\"active\":\"send-email_active__vEx4h\",\"inputBox\":\"send-email_inputBox__NpU2b\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Modal, Row } from \"react-bootstrap\";\nimport { InfoCircle } from 'react-bootstrap-icons';\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport style from \"./send-email.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendDynamicEmailForm = ({ show, setShow, mutation, contactPersons, setPayload, defaultTemplateId, isAddingContact = false }) => {\n    const op = useRef(null);\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n\n    // Email validation function\n    const isValidEmail = useCallback((email) => {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email.trim());\n    }, []);\n\n    // Validate array of emails\n    const validateEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return true; // Empty array is valid\n        return emailArray.every(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Get invalid emails from array\n    const getInvalidEmails = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => !isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Clean email array by removing invalid emails\n    const cleanEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Validate and clean all email fields\n    const validateAndCleanAllEmails = useCallback(() => {\n        let hasErrors = false;\n        \n        // Check TO emails\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Found invalid TO emails:', invalidToEmails);\n                setTo(cleanEmailArray(to));\n                hasErrors = true;\n            }\n        }\n        \n        // Check CC emails\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Found invalid CC emails:', invalidCcEmails);\n                setCC(cleanEmailArray(cc));\n                hasErrors = true;\n            }\n        }\n        \n        // Check BCC emails\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Found invalid BCC emails:', invalidBccEmails);\n                setBCC(cleanEmailArray(bcc));\n                hasErrors = true;\n            }\n        }\n        \n        return !hasErrors; // Return true if no errors found\n    }, [to, cc, bcc, getInvalidEmails, cleanEmailArray]);\n\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n    const reset = () => {\n        setFrom([]);\n        setTo([]);\n        setCC([]);\n        setBCC([]);\n        setSubject([]);\n        setText([]);\n        setEmailTemplatedId(null);\n    };\n\n    const handleClose = () => {\n        setShow(false);\n        if (!defaultTemplateId) reset();\n    };\n\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n        enabled: !!show,\n    });\n\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n        enabled: !!show,\n    });\n\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n        enabled: !!show,\n    });\n\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n\n        if (!emailTemplateId && emailTemplateQuery?.data && defaultTemplateId) {\n            const activeTemplateId = emailTemplateQuery?.data?.find((template) => template.type === defaultTemplateId);\n            if (activeTemplateId) setEmailTemplatedId(activeTemplateId?.id);\n        }\n\n    }, [emailTemplateQuery, outgoingEmailTemplateQuery, defaultTemplateId, emailTemplateId]);\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        // First, validate and clean all email arrays\n        const allEmailsValid = validateAndCleanAllEmails();\n        if (!allEmailsValid) {\n            console.log('Some emails were invalid and have been cleaned');\n        }\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        } else if (!validateEmailArray(to)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(to);\n            console.log('Invalid TO emails:', invalidEmails);\n            setErrors((others) => ({ ...others, to: true, toInvalid: true, invalidToEmails: invalidEmails }));\n        }\n\n        if (cc.length > 0 && !validateEmailArray(cc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(cc);\n            console.log('Invalid CC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, cc: true, invalidCcEmails: invalidEmails }));\n        }\n\n        if (bcc.length > 0 && !validateEmailArray(bcc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(bcc);\n            console.log('Invalid BCC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, bcc: true, invalidBccEmails: invalidEmails }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n\n        mutation.mutate({\n            subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        });\n    };\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setTo((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length && validEmails.length > 0) {\n                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, cc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setBCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, bcc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    // Auto-clean invalid emails from arrays\n    useEffect(() => {\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Auto-cleaning invalid TO emails:', invalidToEmails);\n                const validEmails = cleanEmailArray(to);\n                setTo(validEmails);\n            }\n        }\n    }, [to, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Auto-cleaning invalid CC emails:', invalidCcEmails);\n                const validEmails = cleanEmailArray(cc);\n                setCC(validEmails);\n            }\n        }\n    }, [cc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Auto-cleaning invalid BCC emails:', invalidBccEmails);\n                const validEmails = cleanEmailArray(bcc);\n                setBCC(validEmails);\n            }\n        }\n    }, [bcc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n\n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    return (\n        <Modal\n            show={show}\n            centered\n            onHide={handleClose}\n            className='invoice-form'\n            size='lg'\n        >\n            <Modal.Header closeButton>\n                <div className={`${style.modalHeader}`}>\n                    <div className=\"w-100 d-flex align-items-center gap-2\">\n                        <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                            Send email\n                        </span>\n                    </div>\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <Row>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>FROM</label>\n                            <Dropdown\n                                options={\n                                    (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                        value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                        label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                    }])) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '60px' }}\n                                placeholder=\"Select from email\"\n                                onChange={(e) => {\n                                    setFrom(e.value);\n                                    setErrors((others) => ({ ...others, from: false }));\n                                }}\n                                value={from}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                        {errors?.from && (\n                            <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (emailTemplateQuery &&\n                                        emailTemplateQuery.data?.map((emailTemplate) => ({\n                                            value: emailTemplate.id,\n                                            label: `${emailTemplate.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setEmailTemplatedId(e.value);\n                                }}\n                                value={emailTemplateId}\n                                loading={emailTemplateQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                                scrollHeight=\"380px\"\n                            />\n                            <div className={style.templateInfo} onClick={(e) => op.current.toggle(e)}>\n                                <InfoCircle size={16} color='#737374ff' />\n                            </div>\n                            <OverlayPanel ref={op}>\n                                <p className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>Choose from your existing templates here.</p>\n                                <div className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>To edit or add new templates, go to<br /> Profile Settings &gt; Templates &gt; Email<br/> Templates.</div>\n                            </OverlayPanel>\n                        </div>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex gap-3 w-100\">\n                            <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>TO</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef}\n                                    value={to}\n                                    completeMethod={search}\n                                    onChange={(e) => {\n                                        setTo(e.value);\n                                        setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus}\n                                    onFocus={onFocus}\n                                    onKeyUp={onInputChange}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setTo((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, toInvalid: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"TO\"\n                                />\n                            </div>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showCC })}\n                                onClick={() => { setShowCC(!showCC); setCC([]); }}\n                            >\n                                CC\n                            </Button>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showBCC })}\n                                onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                            >\n                                BCC\n                            </Button>\n                        </div>\n                        {errors?.to && !errors?.toInvalid && (\n                            <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                        )}\n                        {errors?.toInvalid && (\n                            <div>\n                                <p className=\"error-message mb-0\">{\"Please enter valid email addresses for TO\"}</p>\n                                {errors?.invalidToEmails && errors.invalidToEmails.length > 0 && (\n                                    <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                        Invalid emails: {errors.invalidToEmails.join(', ')}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </Col>\n                    {\n                        showCC &&\n                        <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>CC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef2}\n                                    value={cc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setCC(e.value);\n                                        setErrors((others) => ({ ...others, cc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus2}\n                                    onFocus={onFocus2}\n                                    onKeyUp={onInputChange2}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, cc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, cc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"CC\"\n                                />\n                            </div>\n                            {errors?.cc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for CC\"}</p>\n                                    {errors?.invalidCcEmails && errors.invalidCcEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidCcEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n\n                    {\n                        showBCC && <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '60px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>BCC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef3}\n                                    value={bcc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setBCC(e.value);\n                                        setErrors((others) => ({ ...others, bcc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus3}\n                                    onFocus={onFocus3}\n                                    onKeyUp={onInputChange3}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, bcc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, bcc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                    placeholder=\"BCC\"\n                                />\n                            </div>\n                            {errors?.bcc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for BCC\"}</p>\n                                    {errors?.invalidBccEmails && errors.invalidBccEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidBccEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n                    <Col sm={12} className='mb-2'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>SUBJECT</label>\n                            <IconField>\n                                <InputIcon>\n                                    {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                </InputIcon>\n                                <InputText\n                                    value={subject}\n                                    className={clsx(style.inputBox, 'w-100')}\n                                    style={{ paddingLeft: '100px' }}\n                                    onChange={(e) => {\n                                        setSubject(e.target.value);\n                                        setErrors((others) => ({ ...others, subject: false }));\n                                    }}\n                                    placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                                />\n                            </IconField>\n                        </div>\n                        {errors?.subject && (\n                            <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                            <label className={clsx(style.lable)}>Message</label>\n                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <Editor\n                                style={{ minHeight: \"150px\" }}\n                                headerTemplate={header}\n                                value={text}\n                                placeholder='Enter a description...'\n                                onTextChange={(e) => {\n                                    setText(e.htmlValue);\n                                    setErrors((others) => ({ ...others, text: false }));\n                                }}\n                            />\n                        </div>\n                        {errors?.text && (\n                            <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12}>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Signature</label>\n                            <Dropdown\n                                options={\n                                    (signatureQuery &&\n                                        signatureQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                panelClassName='px880-dropdown-item'\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select signature\"\n                                onChange={(e) => {\n                                    setSignature(e.value);\n                                }}\n                                value={signature}\n                                loading={signatureQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-between'>\n                <span></span>\n                <div className=\"d-flex justify-content-end gap-2\">\n                    <Button className=\"outline-button\" onClick={handleClose}>\n                        Cancel{\" \"}\n                    </Button>\n                    <Button disabled={mutation?.isPending} className=\"solid-button\" onClick={onSubmit}>\n                        Send{\" \"}\n                        {(mutation?.isPending || isAddingContact) && (\n                            <ProgressSpinner\n                                style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default SendDynamicEmailForm;","import { fetchInstance } from \"../../../shared/lib/fetch-api-instance\";\n\nexport const deleteSaleQuotation = async (unique_id) => {\n    const path = `/quotes/${unique_id}/delete/`;\n    const options = {\n        method: 'DELETE',\n    };\n    return fetchInstance(path, options);\n};","import { useMutation } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport { deleteSaleQuotation } from \"../api/sales.api\";\n\nexport const useSaleQuotationDeleteMutations = () => {\n    return useMutation({\n        mutationFn: (id) => deleteSaleQuotation(id),\n        onSuccess: () => {\n            toast.success(`Quotation deleted successfully`);\n        },\n        onError: (error) => {\n            console.error('Error deleting sale quotation:', error);\n            toast.error('Failed to delete deleteSaleQuotation. Please try again.');\n        }\n    });\n};\n","import { useState } from \"react\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport { getClientById } from \"../../../../../APIs/ClientsApi\";\nimport { resendQuoteEmail } from \"../../../../../APIs/management-api\";\nimport { fetchContacts } from \"../../../../../APIs/SalesApi\";\nimport SendDynamicEmailForm from \"../../../../../ui/send-email-2/send-email\";\n\nconst ResendQuoteEmail = ({ viewShow, setViewShow, clientId, projectId, projectCardData }) => {\n    const [, setPayload] = useState({});\n    const [isAddingContact, setIsAddingContact] = useState(false);\n\n    function formatDateToYMD(date) {\n        if (!date) return '';\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        return `${year}-${month}-${day}`;\n    }\n\n    const addContact = async () => {\n        setIsAddingContact(true);\n        const nowSydney = new Date(new Date().toLocaleString('en-US', { timeZone: 'Australia/Sydney' }));\n        const formData = {\n            type: \"E\",\n            date: formatDateToYMD(nowSydney),\n            note: \"Contacted by Email.\",\n        };\n        try {\n            await fetchContacts(projectId, formData);\n        } catch (error) {\n            setIsAddingContact(false);\n            console.error(\"Error while saving:\", error);\n            toast.error(\"Failed to add contact. Please try again.\");\n        } finally {\n            setIsAddingContact(false);\n        }\n    };\n\n    const clientQuery = useQuery({\n        queryKey: ['getClientById', clientId],\n        queryFn: () => getClientById(clientId),\n        enabled: !!clientId && viewShow,\n        retry: 1,\n    });\n    const contactPersons = [\n        ...(clientQuery?.data?.contact_persons || []),\n        ...(clientQuery?.data?.email ? [{email: clientQuery?.data?.email}] : [])\n    ];\n\n    const mutation = useMutation({\n        mutationFn: (data) => resendQuoteEmail(projectId, data),\n        onSuccess: async () => {\n            await addContact();\n            setViewShow(false);\n            projectCardData();\n            toast.success(`Email send successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error sending email:', error);\n            toast.error(`Failed to send email. Please try again.`);\n        }\n    });\n\n    return (\n        <SendDynamicEmailForm show={viewShow} setShow={setViewShow} mutation={mutation} contactPersons={contactPersons} setPayload={setPayload} defaultTemplateId={\"Resend Quote\"} isAddingContact={isAddingContact}/>\n    );\n};\n\nexport default ResendQuoteEmail;\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"sale-history_modal__GF6MN\",\"modalHeader\":\"sale-history_modalHeader__WvZhi\",\"headerTitle\":\"sale-history_headerTitle__o4ot5\",\"title\":\"sale-history_title__K+lKo\",\"historyBox\":\"sale-history_historyBox__mPHuV\"};","import React, { useState } from 'react';\nimport { FilePdf } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { Dialog } from 'primereact/dialog';\nimport style from './sale-history.module.scss';\nimport NodataImg from \"../../../../../assets/images/img/NodataImg.png\";\n\nconst SaleHistory = ({ history, setHistory }) => {\n    const [visible, setVisible] = useState(!!history);\n    const headerElement = (\n        <div className={`${style.modalHeader}`}>\n            <span className={`white-space-nowrap ${style.headerTitle}`}>History</span>\n        </div>\n    );\n\n    return (\n        <Dialog visible={visible} modal header={headerElement} className={`${style.modal} custom-modal`} onHide={() => setHistory(null)}>\n            <div className='d-flex justify-content-start flex-wrap gap-4 align-items-center'>\n                {\n                    Object.entries(history).map(([key, value]) => {\n                        return (\n                            <div key={key} className={clsx(style.historyBox, 'd-flex align-items-center gap-1')}>\n                                <FilePdf color='#667085' size={18} />\n                                <Link to={value} target='_blank'>\n                                    {key}\n                                </Link>\n                            </div>\n                        );\n                    })\n                }\n\n                {\n                    Object.entries(history).length === 0 && (\n                        <div className='d-flex justify-content-center align-items-center flex-column w-100'>\n                            <img src={NodataImg} alt='no-data' />\n                            <h2 className={clsx(style.title)}>No history found</h2>\n                        </div>\n                    )\n                }\n            </div>\n        </Dialog>\n    );\n};\n\nexport default SaleHistory;","import React, { useState } from 'react';\nimport { ThreeDotsVertical, Layers, Tag, ClockHistory, Send, Trash, Postcard } from \"react-bootstrap-icons\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { saleDuplicateData } from \"../../../../../APIs/SalesApi\";\nimport { useSaleQuotationDeleteMutations } from '../../../../../entities/sales/models/delete-sale-quotation.mutation';\nimport ResendQuoteEmail from '../../../features/sales-features/resend-quote/resend-quote';\nimport SaleHistory from '../../../features/sales-features/sales-history/sale-history';\n\n\nconst ActionsDots = ({ saleUniqueId, clientId, refreshData, status, salesHistory }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [loading, setLoading] = useState(null);\n  const [history, setHistory] = useState(null);\n  const [isVisibleResendEmail, setIsVisibleResendEmail] = useState(false);\n\n  const deleteMutations = useSaleQuotationDeleteMutations();\n\n  const handleClick = async (event, option) => {\n    if (option.label === \"Replicate\") {\n      try {\n        setLoading(4);\n        await saleDuplicateData(saleUniqueId);\n        refreshData();\n        handleClose();\n      } catch (error) {\n        console.error('Error fetching duplicate data:', error);\n      } finally {\n        setLoading(null);\n      }\n    } else if (option.label === 'Resend') {\n      setIsVisibleResendEmail(true);\n      setAnchorEl(null);\n    } else if (option.label === 'Print Label') {\n      window.open(`/api/v1/sales/${saleUniqueId}/label/`, '_blank');\n    } else if (option.label === 'Project Card') {\n      window.open(`/api/v1/project-card/${saleUniqueId}/pdf/`, '_blank');\n    } else if (option.label === 'Delete' && saleUniqueId) {\n      setLoading(5);\n      await deleteMutations.mutateAsync(saleUniqueId);\n      setLoading(null);\n      refreshData();\n    } else if (option.label === 'History') {\n      setHistory(salesHistory);\n      setAnchorEl(null);\n    }\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const options = [\n    {\n      label: \"Resend\",\n      icon: loading === 1 ? (\n        <ProgressSpinner style={{ width: \"20px\", height: \"20px\" }} />\n      ) : (\n        <Send color=\"#344054\" size={20} />\n      )\n    },\n    { label: \"History\", icon: <ClockHistory color=\"#344054\" size={20} /> },\n    { label: \"Print Label\", icon: <Tag color=\"#344054\" size={20} /> },\n    { label: \"Project Card\", icon: <Postcard color=\"#344054\" size={20} /> },\n    {\n      label: \"Replicate\",\n      icon: loading === 4 ? (\n        <ProgressSpinner style={{ width: \"20px\", height: \"20px\", position: 'absolute', right: '15px', top: '10px' }} />\n      ) : (\n        <Layers color=\"#344054\" size={20} />\n      )\n    },\n    ...(status === \"Draft\"\n      ? [{ label: \"Delete\", icon: (loading === 5) ? <ProgressSpinner style={{ width: \"20px\", height: \"20px\", position: 'absolute', right: '15px', top: '10px' }} /> : <Trash size={20} /> }]\n      : [])\n  ];\n\n  return (\n    <>\n      <IconButton\n        aria-label=\"more\"\n        id=\"long-button\"\n        aria-controls={anchorEl ? \"long-menu\" : undefined}\n        aria-expanded={anchorEl ? \"true\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={(event) => setAnchorEl(event.currentTarget)}\n      >\n        <ThreeDotsVertical size={24} color=\"#667085\" />\n      </IconButton>\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            borderBottom: \"1px solid #EAECF0\",\n            width: \"215px\",\n            padding: \"0\"\n          },\n        }}\n      >\n        {options.map((option) => (\n          <MenuItem className='LmenuList d-flex justify-content-between' key={saleUniqueId + option.label} onClick={(event) => handleClick(event, option)}>\n            {option.label}\n            {option.icon}\n          </MenuItem>\n        ))}\n      </Menu>\n      <ResendQuoteEmail projectId={saleUniqueId} clientId={clientId} viewShow={isVisibleResendEmail} setViewShow={setIsVisibleResendEmail} projectCardData={refreshData} />\n      {history && <SaleHistory history={history} setHistory={setHistory} />}\n    </>\n  );\n};\n\nexport default ActionsDots;","var _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgSale01(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 25,\n    height: 24,\n    viewBox: \"0 0 25 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"sale-01\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Icon\",\n    d: \"M9.5 9H9.51M15.5 15H15.51M16.5 8L8.5 16M22.5 12C22.5 17.5228 18.0228 22 12.5 22C6.97715 22 2.5 17.5228 2.5 12C2.5 6.47715 6.97715 2 12.5 2C18.0228 2 22.5 6.47715 22.5 12ZM10 9C10 9.27614 9.77614 9.5 9.5 9.5C9.22386 9.5 9 9.27614 9 9C9 8.72386 9.22386 8.5 9.5 8.5C9.77614 8.5 10 8.72386 10 9ZM16 15C16 15.2761 15.7761 15.5 15.5 15.5C15.2239 15.5 15 15.2761 15 15C15 14.7239 15.2239 14.5 15.5 14.5C15.7761 14.5 16 14.7239 16 15Z\",\n    stroke: \"#079455\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSale01);\nexport default __webpack_public_path__ + \"static/media/sale-01.74c52636eaacc72e4c5a7a89e51203b5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useCallback } from 'react';\nimport { PlusLg, Envelope, Telephone, Calendar as CalendarIcon, ChevronDown, Calendar3 } from \"react-bootstrap-icons\";\nimport Typography from '@mui/material/Typography';\nimport dayjs from 'dayjs';\nimport { Calendar } from 'primereact/calendar';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport { fetchContacts } from '../../../../../APIs/SalesApi';\nimport saleContact from \"../../../../../assets/images/icon/sale-01.svg\";\n\nconst ContactAdd = ({ saleUniqueIdold, contactRefresh, step, created, type }) => {\n  const [radioValue, setRadioValue] = useState('E'); // Default to Email\n  const [value, setValue] = useState(null);\n  const [note, setNote] = useState('');\n  const [show, setShow] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n\n  const MAX_NOTE_LENGTH = 500;\n  const MIN_NOTE_LENGTH = 3;\n\n  const handleClose = useCallback(() => {\n    setShow(false);\n    setIsLoading(false);\n    setErrors({});\n    setNote('');\n    setValue(null);\n    setRadioValue('E');\n  }, []);\n\n  const handleShow = useCallback(() => setShow(true), []);\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!value || !dayjs(value).isValid()) {\n      newErrors.date = 'Please select a valid date';\n    }\n\n    if (!note.trim()) {\n      newErrors.note = 'Note is required';\n    } else if (note.length < MIN_NOTE_LENGTH) {\n      newErrors.note = `Note must be at least ${MIN_NOTE_LENGTH} characters`;\n    } else if (note.length > MAX_NOTE_LENGTH) {\n      newErrors.note = `Note must not exceed ${MAX_NOTE_LENGTH} characters`;\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  function formatDateToYMD(date) {\n    if (!date) return '';\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n  const handleSave = useCallback(async () => {\n    if (!validateForm()) return;\n\n    if (!saleUniqueIdold) {\n      setErrors({ general: 'Sale ID is missing' });\n      return;\n    }\n\n    setIsLoading(true);\n\n    const formData = {\n      type: radioValue,\n      date: formatDateToYMD(value),\n      note: note.trim(),\n    };\n\n    try {\n      await fetchContacts(saleUniqueIdold, formData);\n      contactRefresh();\n      handleClose();\n    } catch (error) {\n      setIsLoading(false);\n      console.error(\"Error while saving:\", error);\n      setErrors({ general: 'Failed to save contact. Please try again.' });\n    } finally {\n      setIsLoading(false);\n    }\n  }, [radioValue, value, note, saleUniqueIdold, contactRefresh, handleClose]);\n\n  const radios = [\n    { name: 'Email', value: 'E', icon: <Envelope size={20} /> },\n    { name: 'Phone', value: 'P', icon: <Telephone size={20} /> },\n    { name: 'Meeting', value: 'M', icon: <CalendarIcon size={20} /> },\n  ];\n\n  const isShowPulseEffect = step === 0\n    ? (Date.now() - created * 1000 >= 259200000)\n    : (Date.now() - type[step - 1].date * 1000 >= 259200000);\n\n  return (\n    <>\n      <Button variant=\"ContactAdd\" onClick={handleShow}>\n        <PlusLg\n          color=\"#1AB2FF\"\n          className={`${isShowPulseEffect ? 'vibrate' : ''}`}\n          size={16}\n          style={{ width: '16px', height: '16px' }}\n        />\n      </Button>\n\n      <Modal\n        show={show}\n        onHide={handleClose}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className='SalesContact salesTableWrap'\n        animation={false}\n      >\n        <Modal.Header className='SalesContact mb-0 pb-0 border-0' closeButton>\n          <div className='modelHeader d-flex justify-content-between align-items-start'>\n            <span>\n              <div className='iconOutStyle'>\n                <div className='iconinStyle'>\n                  <div className='iconinnerStyle'>\n                    <img src={saleContact} alt=\"saleContact\" />\n                  </div>\n                </div>\n              </div>\n              Sales Contact\n            </span>\n          </div>\n        </Modal.Header>\n        <Modal.Body>\n          <div className='ContactModel'>\n            <div className='ContactModelIn'>\n              <Form.Label>Contact Type<sup className=\"required\">*</sup></Form.Label>\n              <ButtonGroup className='radioSelectButton'>\n                {radios.map((radio, idx) => (\n                  <div className='radioSelectButtons' key={idx}>\n                    <ToggleButton\n                      id={`radio-${idx}`}\n                      type=\"radio\"\n                      variant={radioValue === radio.value ? 'selectBox' : 'outlineBox'}\n                      name=\"radio\"\n                      value={radio.value}\n                      checked={radioValue === radio.value}\n                      onChange={(e) => setRadioValue(e.currentTarget.value)}\n                      disabled={isLoading}\n                    >\n                      {radio.name} {radio.icon}\n                    </ToggleButton>\n                  </div>\n                ))}\n              </ButtonGroup>\n\n              <Form.Label className=\"flexRemove mt-3 mb-0\">Date<sup className=\"required\">*</sup></Form.Label>\n              <Calendar value={value} onChange={(e) => setValue(e.value)} dateFormat=\"dd/mm/yy\" disabled={isLoading} locale='en'\n                className='w-100 outline-none border rounded'\n                style={{ height: '46px', width: '230px', overflow: 'hidden' }}\n                showIcon\n                showButtonBar\n                icon={<Calendar3 color='#667085' size={20} style={{ position: 'absolute', top: '6px' }} />}\n                inputStyle={{ width: '88%' }}\n                placeholder='DD/MM/YY'\n              />\n              {errors.date && <div className=\"error-message mt-2\">{errors.date}</div>}\n\n              <Form.Label className=\"mt-3\">Note<sup className=\"required\">*</sup></Form.Label>\n              <Typography sx={{ p: 0 }}>\n                <Form.Control\n                  as=\"textarea\"\n                  placeholder=\"Enter a description...\"\n                  style={{ height: '152px' }}\n                  value={note}\n                  onChange={(e) => setNote(e.target.value)}\n                  maxLength={MAX_NOTE_LENGTH}\n                  isInvalid={!!errors.note}\n                />\n                <div className=\"d-flex justify-content-between mt-1\">\n                  <small className={errors.note ? 'error-message' : 'text-muted'}>\n                    {errors.note || `${note.length}/${MAX_NOTE_LENGTH} characters`}\n                  </small>\n                </div>\n              </Typography>\n\n              {errors.general && (\n                <div className=\"text-danger mt-2\">{errors.general}</div>\n              )}\n            </div>\n            <div className='popoverbottom mt-0 pt-4'>\n              <Button\n                className='closebox'\n                onClick={handleClose}\n                disabled={isLoading}\n              >\n                Cancel\n              </Button>\n              <Button\n                className='savebox'\n                onClick={handleSave}\n                disabled={isLoading}\n              >\n                {isLoading ? 'Saving...' : 'Save'}\n              </Button>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default ContactAdd;","var _rect, _rect2, _rect3, _path, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgCalendargradi(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 52,\n    height: 52,\n    viewBox: \"0 0 52 52\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 2,\n    width: 48,\n    height: 48,\n    rx: 4,\n    fill: \"white\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 2,\n    width: 48,\n    height: 48,\n    rx: 4,\n    fill: \"url(#paint0_radial_7761_26737)\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 1,\n    y: 1,\n    width: 50,\n    height: 50,\n    rx: 5,\n    stroke: \"url(#paint1_radial_7761_26737)\",\n    strokeOpacity: 0.25,\n    strokeWidth: 2\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M35.5 24H17.5M30.5 16V20M22.5 16V20M22.3 36H30.7C32.3802 36 33.2202 36 33.862 35.673C34.4265 35.3854 34.8854 34.9265 35.173 34.362C35.5 33.7202 35.5 32.8802 35.5 31.2V22.8C35.5 21.1198 35.5 20.2798 35.173 19.638C34.8854 19.0735 34.4265 18.6146 33.862 18.327C33.2202 18 32.3802 18 30.7 18H22.3C20.6198 18 19.7798 18 19.138 18.327C18.5735 18.6146 18.1146 19.0735 17.827 19.638C17.5 20.2798 17.5 21.1198 17.5 22.8V31.2C17.5 32.8802 17.5 33.7202 17.827 34.362C18.1146 34.9265 18.5735 35.3854 19.138 35.673C19.7798 36 20.6198 36 22.3 36Z\",\n    stroke: \"white\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"radialGradient\", {\n    id: \"paint0_radial_7761_26737\",\n    cx: 0,\n    cy: 0,\n    r: 1,\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"translate(1.40676 3.32231) rotate(42.9555) scale(60.9904 863.324)\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#1AB3FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#FFB258\"\n  })), /*#__PURE__*/React.createElement(\"radialGradient\", {\n    id: \"paint1_radial_7761_26737\",\n    cx: 0,\n    cy: 0,\n    r: 1,\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"translate(1.40676 3.32231) rotate(42.9555) scale(60.9904 863.324)\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#1AB3FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#FFB258\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendargradi);\nexport default __webpack_public_path__ + \"static/media/calendargradi.b3116ec64a97e5fef4c8d79e73c4993a.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _rect3, _path, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgMailgradi(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 52,\n    height: 52,\n    viewBox: \"0 0 52 52\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 2,\n    width: 48,\n    height: 48,\n    rx: 4,\n    fill: \"white\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 2,\n    width: 48,\n    height: 48,\n    rx: 4,\n    fill: \"url(#paint0_radial_7761_28322)\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 1,\n    y: 1,\n    width: 50,\n    height: 50,\n    rx: 5,\n    stroke: \"url(#paint1_radial_7761_28322)\",\n    strokeOpacity: 0.25,\n    strokeWidth: 2\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.5 21L24.6649 26.7154C25.3261 27.1783 25.6567 27.4097 26.0163 27.4993C26.3339 27.5785 26.6661 27.5785 26.9837 27.4993C27.3433 27.4097 27.6739 27.1783 28.3351 26.7154L36.5 21M21.3 34H31.7C33.3802 34 34.2202 34 34.862 33.673C35.4265 33.3854 35.8854 32.9265 36.173 32.362C36.5 31.7202 36.5 30.8802 36.5 29.2V22.8C36.5 21.1198 36.5 20.2798 36.173 19.638C35.8854 19.0735 35.4265 18.6146 34.862 18.327C34.2202 18 33.3802 18 31.7 18H21.3C19.6198 18 18.7798 18 18.138 18.327C17.5735 18.6146 17.1146 19.0735 16.827 19.638C16.5 20.2798 16.5 21.1198 16.5 22.8V29.2C16.5 30.8802 16.5 31.7202 16.827 32.362C17.1146 32.9265 17.5735 33.3854 18.138 33.673C18.7798 34 19.6198 34 21.3 34Z\",\n    stroke: \"white\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"radialGradient\", {\n    id: \"paint0_radial_7761_28322\",\n    cx: 0,\n    cy: 0,\n    r: 1,\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"translate(1.40676 3.32231) rotate(42.9555) scale(60.9904 863.324)\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#1AB3FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#FFB258\"\n  })), /*#__PURE__*/React.createElement(\"radialGradient\", {\n    id: \"paint1_radial_7761_28322\",\n    cx: 0,\n    cy: 0,\n    r: 1,\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"translate(1.40676 3.32231) rotate(42.9555) scale(60.9904 863.324)\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#1AB3FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#FFB258\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgMailgradi);\nexport default __webpack_public_path__ + \"static/media/mailgradi.2164d17057c769448ddf96d8f89a722a.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _rect3, _path, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgPhonecallgra(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 52,\n    height: 52,\n    viewBox: \"0 0 52 52\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 2,\n    width: 48,\n    height: 48,\n    rx: 4,\n    fill: \"white\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 2,\n    width: 48,\n    height: 48,\n    rx: 4,\n    fill: \"url(#paint0_radial_7761_26273)\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 1,\n    y: 1,\n    width: 50,\n    height: 50,\n    rx: 5,\n    stroke: \"url(#paint1_radial_7761_26273)\",\n    strokeOpacity: 0.25,\n    strokeWidth: 2\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.0497 20C29.0264 20.1906 29.924 20.6683 30.6277 21.3719C31.3314 22.0756 31.8091 22.9733 31.9997 23.95M28.0497 16C30.0789 16.2254 31.9713 17.1342 33.4159 18.577C34.8606 20.0198 35.7717 21.911 35.9997 23.94M24.2266 27.8631C23.0251 26.6615 22.0763 25.3028 21.3803 23.8532C21.3204 23.7285 21.2905 23.6662 21.2675 23.5873C21.1858 23.3069 21.2445 22.9627 21.4145 22.7253C21.4623 22.6584 21.5195 22.6013 21.6338 22.487C21.9834 22.1374 22.1582 21.9626 22.2725 21.7868C22.7035 21.1239 22.7035 20.2693 22.2725 19.6064C22.1582 19.4307 21.9834 19.2559 21.6338 18.9062L21.4389 18.7114C20.9075 18.1799 20.6417 17.9142 20.3564 17.7699C19.7888 17.4828 19.1185 17.4828 18.551 17.7699C18.2656 17.9142 17.9999 18.1799 17.4684 18.7114L17.3108 18.869C16.7812 19.3986 16.5164 19.6634 16.3141 20.0235C16.0897 20.423 15.9283 21.0435 15.9297 21.5017C15.9309 21.9146 16.011 22.1969 16.1712 22.7613C17.0322 25.7947 18.6567 28.6571 21.0447 31.045C23.4326 33.433 26.295 35.0575 29.3284 35.9185C29.8928 36.0787 30.1751 36.1588 30.588 36.16C31.0462 36.1614 31.6667 36 32.0662 35.7756C32.4263 35.5733 32.6911 35.3085 33.2207 34.7789L33.3783 34.6213C33.9098 34.0898 34.1755 33.8241 34.3198 33.5387C34.6069 32.9712 34.6069 32.3009 34.3198 31.7333C34.1755 31.448 33.9098 31.1822 33.3783 30.6508L33.1835 30.4559C32.8339 30.1063 32.6591 29.9315 32.4833 29.8172C31.8204 29.3862 30.9658 29.3862 30.3029 29.8172C30.1271 29.9315 29.9523 30.1063 29.6027 30.4559C29.4884 30.5702 29.4313 30.6274 29.3644 30.6752C29.127 30.8453 28.7828 30.904 28.5024 30.8222C28.4235 30.7992 28.3612 30.7693 28.2365 30.7094C26.7869 30.0134 25.4282 29.0646 24.2266 27.8631Z\",\n    stroke: \"white\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"radialGradient\", {\n    id: \"paint0_radial_7761_26273\",\n    cx: 0,\n    cy: 0,\n    r: 1,\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"translate(1.40676 3.32231) rotate(42.9555) scale(60.9904 863.324)\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#1AB3FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#FFB258\"\n  })), /*#__PURE__*/React.createElement(\"radialGradient\", {\n    id: \"paint1_radial_7761_26273\",\n    cx: 0,\n    cy: 0,\n    r: 1,\n    gradientUnits: \"userSpaceOnUse\",\n    gradientTransform: \"translate(1.40676 3.32231) rotate(42.9555) scale(60.9904 863.324)\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#1AB3FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#FFB258\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhonecallgra);\nexport default __webpack_public_path__ + \"static/media/phonecallgra.20daa5d6965e95d0209bd3a0ffd66365.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"footerwrap\":\"sales_footerwrap__Ymbwg\",\"cancelbut\":\"sales_cancelbut__BhO13\",\"editbut\":\"sales_editbut__GIA7A\",\"padding_24\":\"sales_padding_24__nSSrM\",\"paddingLR_24\":\"sales_paddingLR_24__oXCU4\",\"imgBox\":\"sales_imgBox__jYdtZ\",\"assignedUsersButton\":\"sales_assignedUsersButton__gMQTd\"};","import React from 'react';\nimport { Button, ButtonToolbar, OverlayTrigger, Popover } from 'react-bootstrap';\nimport { Envelope, Telephone, Calendar, X } from \"react-bootstrap-icons\";\nimport ContactAdd from \"./contact-add\";\nimport calendargradi from \"../../../../../assets/images/icon/calendargradi.svg\";\nimport mailgradi from \"../../../../../assets/images/icon/mailgradi.svg\";\nimport phonecallgra from \"../../../../../assets/images/icon/phonecallgra.svg\";\nimport styles from '../sales.module.scss';\n\nconst formatDate = (timestampInSeconds, timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone) => {\n  const date = new Date(timestampInSeconds * 1000); // Create full UTC date\n\n  return new Intl.DateTimeFormat('en-AU', {\n    day: 'numeric',\n    month: 'short',\n    year: 'numeric',\n    timeZone: 'Australia/Sydney',\n  }).format(date);\n};\n\n\nconst ContactSales = ({ saleUniqueId, type, refreshData, created }) => {\n  const [popoverVisible, setPopoverVisible] = React.useState(null);\n\n  const handlePopoverClick = (index) => {\n    const btnsSecondary = document.querySelectorAll('.ClosePopover');\n    if (btnsSecondary.length > 0) {\n      btnsSecondary.forEach(btn => btn.click());\n    }\n    setPopoverVisible(popoverVisible === index ? null : index);\n  };\n\n  const contactRefresh = () => {\n    refreshData();\n  };\n\n  const handlePopoverClose = () => {\n    setPopoverVisible(null);\n  };\n\n  return (\n    <>\n      <div className=\"innerTableStyle\">\n        <ul>\n          {type?.map((item, index) => (\n            <li key={index}>\n              <ButtonToolbar key={index}>\n                <OverlayTrigger\n                  trigger=\"click\"\n                  rootClose\n                  placement=\"bottom\"\n                  show={popoverVisible === index}\n                  onHide={handlePopoverClose}\n                  overlay={\n                    <Popover\n                      id={`popover-trigger-click-root-close-${index}`}\n                      className='salesTableWrap'\n                      title=\"\"\n                    >\n                      <div className=\"contactInfo\">\n                        <div className={`contactInfoflex ${styles.padding_24}`}>\n                          <div className=\"iconStyle\">\n                            {item.type === 'Phone' && (\n                              <img src={phonecallgra} alt=\"phonecallgra\" />\n                            )}\n                            {item.type === 'Email' && (\n                              <img src={mailgradi} alt=\"mailgradi\" />\n                            )}\n                            {item.type === 'Meeting' && (\n                              <img src={calendargradi} alt=\"calendargradi\" />\n                            )}\n                          </div>\n                          <Button\n                            variant=\"link\"\n                            className='ClosePopover'\n                            onClick={handlePopoverClose}\n                          >\n                            <X color=\"#667085\" size={24} />\n                          </Button>\n                        </div>\n                        <div className={styles.paddingLR_24}>\n                          <p className=\"contactdate\">{formatDate(item.date)}</p>\n                          <p>{item.note}</p>\n                        </div>\n                        <div className={styles.footerwrap}>\n                          <Button onClick={handlePopoverClose} className={styles.cancelbut}>Cancel</Button>\n                        </div>\n                      </div>\n                    </Popover>\n                  }\n                >\n                  <Button\n                    variant=\"saleContacte\"\n                    onClick={() => handlePopoverClick(index)}\n                  >\n                    <>\n                      {item.type === 'Phone' && (\n                        <Telephone color=\"#344054\" size={16} />\n                      )}\n                      {item.type === 'Email' && (\n                        <Envelope color=\"#344054\" size={16} />\n                      )}\n                      {item.type === 'Meeting' && (\n                        <Calendar color=\"#344054\" size={16} />\n                      )}\n                      <div>{formatDate(item.date)}</div>\n                    </>\n                  </Button>\n                </OverlayTrigger>\n              </ButtonToolbar>\n            </li>\n          ))}\n          {type && type.length < 3 && (\n            <li>\n              <span className=\"contactButList\">\n                <div className=\"contactButListIn1\">\n                  <div className=\"contactButListIn2\">\n                    <ContactAdd step={type.length} created={created} type={type} saleUniqueIdold={saleUniqueId} contactRefresh={contactRefresh} />\n                  </div>\n                </div>\n              </span>\n            </li>\n          )}\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default ContactSales;\n","import React from 'react';\n\nconst CircleProgressBar = ({percentage,selectlabel}) => {\n    return (\n      <>\n          <div className=\"progress\" data-percentage= {percentage}>\n            <span className=\"progress-left\">\n              <span className=\"progress-bar\"></span>\n            </span>\n            <span className=\"progress-right\">\n              <span className=\"progress-bar\"></span>\n            </span>\n            <div className=\"progress-value\">\n              <div>\n             \n                {percentage === null\n              ? \"0%\"\n              : \"\" + percentage + \"%\"} \n              </div>\n            </div>\n          </div>\n          <span>{selectlabel}</span>\n        \n      </>\n    );\n  };\n  \n  export default CircleProgressBar;\n  ","import React, { useState } from \"react\";\nimport { ChevronDown } from \"react-bootstrap-icons\";\nimport CircleProgressBar from \"./circle-progress-bar\";\nimport { fetchSaleslead } from \"../../../../../APIs/SalesApi\";\n\n\nconst Option = ({ percentage, label, gradient, onSelect, isActive }) => {\n  return (\n    <li\n      className={`option ${isActive ? \"active\" : \"\"}`}\n      data-percentage={percentage}\n      onClick={onSelect}\n    >\n      <input\n        className=\"radio-custom\"\n        name=\"radio-group\"\n        type=\"radio\"\n        checked={isActive} // Set checked based on isActive prop\n        onChange={() => { }}\n      />\n      <em className=\"radio-custom-label\"></em>\n      <div className=\"progressWrapper\">\n        <div className=\"labelInfo\">\n          <strong>{label}</strong>\n          <div className=\"progress-light-grey\">\n            <div\n              className=\"progress-container progress-color progress-center\"\n              aria-valuenow={percentage}\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style={{ \"--value\": percentage, background: gradient }}\n            >\n              <span>{percentage}%</span>\n            </div>\n          </div>\n        </div>\n        <label>{percentage}%</label>\n      </div>\n    </li>\n  );\n};\n\nconst Progress = ({ progressName1, progressPercentage1, salesUniqId1, refreshData }) => {\n  const [selectedOption, setSelectedOption] = useState({\n    text: progressName1,\n    percentage: progressPercentage1,\n    background: \"linear-gradient(90deg, #9E77ED 10%, transparent 10%)\",\n  });\n\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [updatedLead, setUpdatedLead] = useState(selectedOption.percentage);\n\n  const toggleOptions = () => {\n    // Close any open dropdowns\n    const openDropdowns = document.querySelectorAll(\".options.active\");\n    openDropdowns.forEach((dropdown) => dropdown.classList.remove(\"active\"));\n    // Open or close the current dropdown\n    setDropdownOpen((prevState) => !prevState);\n  };\n\n  const selectOption = async (option) => {\n    try {\n      const saleUniqueId = salesUniqId1;\n      const newUpdatedLead = option.percentage;\n\n      await fetchSaleslead(saleUniqueId, newUpdatedLead);\n      setSelectedOption({\n        text: option.label,\n        percentage: option.percentage,\n        background: option.gradient,\n      });\n      setUpdatedLead(newUpdatedLead);\n      refreshData();\n      setDropdownOpen(false);\n    } catch (error) {\n      console.error('Error updating sales lead:', error);\n    }\n  };\n\n\n  const isActive = (percentage) => {\n    return percentage === updatedLead;\n  };\n\n  const options = [\n    {\n      percentage: 10,\n      label: \"Lead\",\n      gradient: \"linear-gradient(90deg, #1AB2FF 10%, transparent 10%)\",\n    },\n    {\n      percentage: 20,\n      label: \"Prospect\",\n      gradient: \"linear-gradient(90deg, #1AB2FF 20%, transparent 20%)\",\n    },\n    {\n      percentage: 40,\n      label: \"Proposal sent\",\n      gradient: \"linear-gradient(90deg, #1AB2FF 40%, transparent 40%)\",\n    },\n    {\n      percentage: 60,\n      label: \"Negotiation\",\n      gradient: \"linear-gradient(90deg, #1AB2FF 60%, transparent 60%)\",\n    },\n    {\n      percentage: 80,\n      label: \"Awaiting approval\",\n      gradient: \"linear-gradient(90deg, #1AB2FF 80%, transparent 80%)\",\n    },\n  ];\n\n  return (\n    <div className=\"select-menu\">\n      <div className=\"select-btn\" onClick={toggleOptions}>\n        <CircleProgressBar\n          percentage={selectedOption.percentage}\n          selectlabel={selectedOption.text}\n        />\n        <ChevronDown color=\"#98A2B3\" size={16} />\n      </div>\n      <ul className={`options ${dropdownOpen ? \"active\" : \"\"}`}>\n        {options.map((option) => (\n          <Option\n            key={option.percentage}\n            percentage={option.percentage}\n            label={option.label}\n            gradient={option.gradient}\n            onSelect={() => selectOption(option)}\n            isActive={isActive(option.percentage)}// Pass percentage to isActive\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Progress;\n","var _g, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgArchive(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"vuesax/bulk/archive\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"archive\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Vector\",\n    opacity: 0.4\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.5 9.97V19C19.5 21 19 22 16.5 22H7.5C5 22 4.5 21 4.5 19V9.97C4.66 9.99 4.83 10 5 10H19C19.17 10 19.34 9.99 19.5 9.97Z\",\n    fill: \"#292D32\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.5 9.97V19C19.5 21 19 22 16.5 22H7.5C5 22 4.5 21 4.5 19V9.97C4.66 9.99 4.83 10 5 10H19C19.17 10 19.34 9.99 19.5 9.97Z\",\n    fill: \"url(#paint0_linear_1055_20869)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Vector_2\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 5V7C22 8.83 21.17 9.82 19.5 9.97C19.34 9.99 19.17 10 19 10H5C4.83 10 4.66 9.99 4.5 9.97C2.83 9.82 2 8.83 2 7V5C2 3 3 2 5 2H19C21 2 22 3 22 5Z\",\n    fill: \"#292D32\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 5V7C22 8.83 21.17 9.82 19.5 9.97C19.34 9.99 19.17 10 19 10H5C4.83 10 4.66 9.99 4.5 9.97C2.83 9.82 2 8.83 2 7V5C2 3 3 2 5 2H19C21 2 22 3 22 5Z\",\n    fill: \"url(#paint1_linear_1055_20869)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Vector_3\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.8202 14.75H10.1802C9.77018 14.75 9.43018 14.41 9.43018 14C9.43018 13.59 9.77018 13.25 10.1802 13.25H13.8202C14.2302 13.25 14.5702 13.59 14.5702 14C14.5702 14.41 14.2302 14.75 13.8202 14.75Z\",\n    fill: \"#292D32\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.8202 14.75H10.1802C9.77018 14.75 9.43018 14.41 9.43018 14C9.43018 13.59 9.77018 13.25 10.1802 13.25H13.8202C14.2302 13.25 14.5702 13.59 14.5702 14C14.5702 14.41 14.2302 14.75 13.8202 14.75Z\",\n    fill: \"url(#paint2_linear_1055_20869)\"\n  }))))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_1055_20869\",\n    x1: 4.49977,\n    y1: 21.9999,\n    x2: 16.2428,\n    y2: 7.35772,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#8B8B8B\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#EAEAEA\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_1055_20869\",\n    x1: 1.99969,\n    y1: 9.99995,\n    x2: 7.51694,\n    y2: -3.79321,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#8B8B8B\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#EAEAEA\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_1055_20869\",\n    x1: 9.4301,\n    y1: 14.75,\n    x2: 10.2369,\n    y2: 11.9854,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#8B8B8B\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#EAEAEA\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArchive);\nexport default __webpack_public_path__ + \"static/media/archive.a93d5d4bb5e805d41614288a785b8375.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { XCircle, Archive } from \"react-bootstrap-icons\";\nimport CloseIcon from '@mui/icons-material/Close';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport Modal from '@mui/material/Modal';\nimport Typography from '@mui/material/Typography';\nimport { toast } from 'sonner';\nimport { markLost } from \"../../../../../APIs/SalesApi\";\nimport ArchiveIcon from \"../../../../../assets/images/icon/archive.svg\";\nimport SalesIcon from \"../../../../../assets/images/icon/SalesIcon.svg\";\n\n\nconst QuoteWon = ({ saleUniqueId, LostQuote, quoteType, onRemoveRow }) => {\n  const [open, setOpen] = React.useState(false);\n  const [, setConfetti] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const [message, ] = useState({ content: '', type: 'success' });\n\n  const handleMoveToManagementLost = async () => {\n    try {\n      if (saleUniqueId) {\n        const success = await markLost([saleUniqueId]);\n        if (success.length) {\n          onRemoveRow();\n          toast.success(\"Sale request has been updated to Lost!\");\n        } else {\n          toast.error(\"Failed to update the sale request to Lost. Please try again.\");\n        }\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      toast.error(\"An error occurred. Please try again.\");\n    }\n    handleClose();\n    setConfetti(true);\n  };\n\n\n  const handleClose = () => {\n    setTimeout(() => {\n      setConfetti(false);\n      setOpen(false);\n    }, 1000);\n  };\n\n  return (\n    <>\n      <Button onClick={handleOpen} className={`quoteLost message ${message.type}`}>\n        <XCircle color=\"#D92D20\" size={16} />\n      </Button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box className=\"modelStyleBox QuoteLost salesTableWrap  QuoteActionStyle\" sx={{ width: 460 }}>\n          <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n            <div className='modelHeader d-flex justify-content-between align-items-start'>\n              <span>\n                <div className='iconOutStyleflex'>\n                  <div className='flexIconWrap'>\n                    <div className='iconOutStyle'>\n                      <div className='iconinStyle'>\n                        <div className='iconinnerStyle'>\n                          <Archive color=\"#F04438\" size={24} />\n                        </div>\n                      </div>\n                    </div>\n                    <div className='quoteStyleHeading'>\n                      {quoteType === 'lost' && (\n                        <>\n                          {`Quote Lost ${LostQuote}`}\n                        </>\n                      )}\n                    </div>\n                  </div>\n                  <IconButton\n                    edge=\"end\"\n                    color=\"inherit\"\n                    onClick={handleClose}\n                    aria-label=\"close\"\n                  >\n                    <CloseIcon color=\"#667085\" size={24} />\n                  </IconButton>\n                </div>\n                <div className='stepBoxStyle'>\n                  <ul>\n                    <li><strong><img src={SalesIcon} alt=\"SalesIcon\" /></strong><span className='lightColorStyle'>Sales</span></li>\n                    <li>\n                      <em className='lineHor'></em>\n                      <strong>\n                        <svg width=\"15\" height=\"12\" viewBox=\"0 0 15 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <g clipPath=\"url(#clip0_13244_72509)\">\n                            <path d=\"M4.31518 0.577465C4.6602 0.577465 4.93493 0.727048 5.13939 1.02621C5.3481 1.31938 5.45246 1.75914 5.45246 2.3455V5.45975H4.31518V2.71346C4.31518 2.40832 4.27473 2.18694 4.1938 2.04933C4.11287 1.91172 3.9936 1.84291 3.836 1.84291C3.6784 1.84291 3.54636 1.93266 3.43988 2.11215C3.33765 2.28566 3.28654 2.54594 3.28654 2.89296V5.45975H2.15566V2.71346C2.15566 2.40832 2.1152 2.18694 2.03427 2.04933C1.95334 1.91172 1.83407 1.84291 1.67648 1.84291C1.51888 1.84291 1.38684 1.93266 1.28035 2.11215C1.17813 2.28566 1.12701 2.54594 1.12701 2.89296V5.45975H-0.0102539V0.694137H1.08228V1.34032H1.10784C1.35915 0.831748 1.70842 0.577465 2.15566 0.577465C2.38567 0.577465 2.58586 0.64627 2.75624 0.783889C2.92661 0.915517 3.05866 1.11595 3.15237 1.3852C3.30144 1.13989 3.46543 0.945429 3.64433 0.801836C3.82323 0.652252 4.04684 0.577465 4.31518 0.577465ZM9.16305 4.02378C9.12046 4.26909 9.03099 4.51141 8.8947 4.75074C8.7584 4.98408 8.5667 5.18153 8.3197 5.34307C8.07264 5.49864 7.77023 5.57642 7.4124 5.57642C6.84593 5.57642 6.40293 5.35504 6.08346 4.91229C5.76405 4.46953 5.6043 3.86224 5.6043 3.09041C5.6043 2.30661 5.76187 1.69333 6.07711 1.25058C6.39652 0.801836 6.83952 0.577465 7.40605 0.577465C7.96399 0.577465 8.40276 0.795854 8.72217 1.23262C9.04593 1.6694 9.20776 2.29763 9.20776 3.11733L9.2014 3.39555H6.77352C6.77352 3.74856 6.83099 4.02977 6.94599 4.23917C7.06528 4.44261 7.22076 4.54432 7.4124 4.54432C7.58705 4.54432 7.72123 4.48448 7.81493 4.36482C7.90864 4.24516 7.9704 4.09857 8.00023 3.92506L9.16305 4.02378ZM7.40605 1.58264C7.21864 1.58264 7.06952 1.66641 6.95881 1.83393C6.84805 1.99548 6.7884 2.21088 6.77987 2.48012H8.03858C8.03005 2.21088 7.96828 1.99548 7.85328 1.83393C7.74252 1.66641 7.59346 1.58264 7.40605 1.58264ZM4.31518 6.3615C4.6602 6.3615 4.93493 6.51109 5.13939 6.81024C5.3481 7.10342 5.45246 7.54316 5.45246 8.12957V11.2438H4.31518V8.49752C4.31518 8.19237 4.27473 7.97101 4.1938 7.83335C4.11287 7.69577 3.9936 7.62694 3.836 7.62694C3.6784 7.62694 3.54636 7.71668 3.43988 7.89623C3.33765 8.06967 3.28654 8.32995 3.28654 8.67699V11.2438H2.15566V8.49752C2.15566 8.19237 2.1152 7.97101 2.03427 7.83335C1.95334 7.69577 1.83407 7.62694 1.67648 7.62694C1.51888 7.62694 1.38684 7.71668 1.28035 7.89623C1.17813 8.06967 1.12701 8.32995 1.12701 8.67699V11.2438H-0.0102539V6.47817H1.08228V7.12436H1.10784C1.35915 6.61579 1.70842 6.3615 2.15566 6.3615C2.38567 6.3615 2.58586 6.43031 2.75624 6.56793C2.92661 6.69955 3.05866 6.89999 3.15237 7.16923C3.30144 6.92393 3.46543 6.72947 3.64433 6.58587C3.82323 6.43629 4.04684 6.3615 4.31518 6.3615ZM7.92358 11.2438C7.85964 11.1361 7.8277 10.9057 7.8277 10.5528C7.74681 10.804 7.60623 11.0014 7.40605 11.145C7.21011 11.2887 6.98434 11.3605 6.72876 11.3605C6.53287 11.3605 6.34758 11.3036 6.17293 11.1899C5.99828 11.0763 5.85776 10.9147 5.75123 10.7053C5.64476 10.4959 5.59152 10.2476 5.59152 9.96039C5.59152 9.47577 5.7044 9.11377 5.93017 8.87448C6.15587 8.6351 6.49876 8.47356 6.95881 8.38977C7.19305 8.34193 7.37193 8.29706 7.49546 8.25517C7.61899 8.20733 7.70417 8.15643 7.75105 8.10264C7.80217 8.04281 7.8277 7.96498 7.8277 7.86929C7.8277 7.71965 7.78511 7.60604 7.69993 7.5282C7.61899 7.4445 7.50399 7.4026 7.35493 7.4026C7.21864 7.4026 7.09934 7.4564 6.99711 7.56414C6.89487 7.67181 6.82252 7.82443 6.77987 8.02183L5.7257 7.86929C5.79811 7.39657 5.98128 7.02863 6.27517 6.76537C6.56905 6.49612 6.93534 6.3615 7.37411 6.3615C7.89799 6.3615 8.29411 6.5051 8.56246 6.79229C8.83081 7.0735 8.96499 7.47441 8.96499 7.99489V10.3553C8.96499 10.6126 8.96923 10.807 8.97776 10.9386C8.99052 11.0643 9.01611 11.166 9.0544 11.2438H7.92358ZM7.8277 9.00007C7.78087 9.04197 7.70417 9.08088 7.5977 9.11675C7.49123 9.14666 7.37411 9.17657 7.24628 9.20648C6.91405 9.29622 6.74793 9.50568 6.74793 9.83471C6.74793 9.99625 6.78417 10.1249 6.85658 10.2207C6.93323 10.3104 7.03334 10.3553 7.15687 10.3553C7.25911 10.3553 7.36128 10.3224 7.46352 10.2565C7.56576 10.1908 7.65093 10.089 7.71911 9.95138C7.79152 9.80785 7.8277 9.6283 7.8277 9.41289V9.00007ZM11.3669 10.0681V11.2438C11.2988 11.2558 11.0688 11.2617 10.6769 11.2617C10.4 11.2617 10.1828 11.2288 10.0252 11.163C9.87187 11.0913 9.75687 10.9656 9.68023 10.7861C9.60781 10.6065 9.57158 10.3433 9.57158 9.99625V7.47441H9.05411V6.47817H9.57158V5.16786H10.7025V6.47817H11.3797V7.47441H10.7025V9.61938C10.7025 9.81083 10.7302 9.93345 10.7855 9.98733C10.8452 10.0412 10.9559 10.0681 11.1178 10.0681H11.3669ZM14.9363 9.80785C14.8937 10.0531 14.8042 10.2954 14.6679 10.5347C14.5316 10.7681 14.3399 10.9656 14.0929 11.1271C13.8459 11.2827 13.5435 11.3605 13.1856 11.3605C12.6192 11.3605 12.1762 11.1391 11.8567 10.6963C11.5373 10.2536 11.3775 9.64623 11.3775 8.87448C11.3775 8.09066 11.5351 7.47738 11.8503 7.03462C12.1698 6.58587 12.6128 6.3615 13.1793 6.3615C13.7372 6.3615 14.176 6.57989 14.4954 7.01666C14.8192 7.45342 14.981 8.08165 14.981 8.90133L14.9746 9.17954H12.5468C12.5468 9.53262 12.6042 9.8138 12.7192 10.0232C12.8385 10.2266 12.994 10.3283 13.1856 10.3283C13.3603 10.3283 13.4945 10.2685 13.5882 10.1489C13.6819 10.0292 13.7436 9.88263 13.7735 9.70911L14.9363 9.80785ZM13.1793 7.36666C12.9919 7.36666 12.8428 7.45045 12.732 7.61794C12.6213 7.77956 12.5616 7.99489 12.5531 8.26418H13.8118C13.8033 7.99489 13.7415 7.77956 13.6265 7.61794C13.5158 7.45045 13.3667 7.36666 13.1793 7.36666Z\" fill=\"url(#paint0_radial_13244_72509)\" />\n                          </g>\n                          <defs>\n                            <radialGradient id=\"paint0_radial_13244_72509\" cx=\"0\" cy=\"0\" r=\"1\" gradientUnits=\"userSpaceOnUse\" gradientTransform=\"translate(-0.195533 0.874516) rotate(33.8103) scale(16.7787 220.176)\">\n                              <stop stopColor=\"#1AB3FF\" />\n                              <stop offset=\"1\" stopColor=\"#FFB258\" />\n                            </radialGradient>\n                            <clipPath id=\"clip0_13244_72509\">\n                              <rect width=\"15\" height=\"10.8451\" fill=\"white\" transform=\"translate(0 0.577465)\" />\n                            </clipPath>\n                          </defs>\n                        </svg>\n                      </strong>\n                      <em className='lineHor'></em>\n                    </li>\n                    <li><strong><img src={ArchiveIcon} alt=\"Archive\" /></strong><span>Archive</span></li>\n                  </ul>\n                  <p>Sorry to see a lost opportunity. This quote will be stored in the client's history, should you need to refer to it in the future.</p>\n                </div>\n\n              </span>\n            </div>\n            <div className='footerBorder text-center'>\n              <button onClick={handleMoveToManagementLost}>Archive</button>\n            </div>\n          </Typography>\n        </Box>\n      </Modal>\n    </>\n  );\n};\nexport default QuoteWon;","import React from 'react';\nimport Confetti from 'react-dom-confetti';\n\nconst ConfettiComponent = ({ active, config }) => {\n  return <Confetti active={active} config={config} />;\n};\n\nexport default ConfettiComponent;\n\n\n\n\n","import React, { useState } from 'react';\nimport { CheckCircle, Check2Circle } from \"react-bootstrap-icons\";\nimport CloseIcon from '@mui/icons-material/Close';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport Modal from '@mui/material/Modal';\nimport Typography from '@mui/material/Typography';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport { markWon } from \"../../../../../APIs/SalesApi\";\nimport ManagementIcon from \"../../../../../assets/images/icon/ManagementIcon.svg\";\nimport SalesIcon from \"../../../../../assets/images/icon/SalesIcon.svg\";\nimport ConfettiComponent from '../../../../layout/ConfettiComponent';\n\nconst QuoteWon = ({ saleUniqueId, wonQuote, quoteType, onRemoveRow }) => {\n  const [open, setOpen] = React.useState(false);\n  const [confetti, setConfetti] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const [message,] = useState({ content: '', type: 'success' });\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleMoveToManagementWon = async () => {\n    try {\n      if (saleUniqueId) {\n        setIsLoading(true);\n        const success = await markWon([saleUniqueId]);\n        if (success.length) {\n          onRemoveRow();\n          document.querySelector('.management-notification').style.display = 'block';\n          let count = parseInt(document.querySelector('.management-notification-count').innerText || 0);\n          document.querySelector('.management-notification-count').innerHTML = count + 1;\n          toast.success(\"Successfully moved to Management!\");\n        } else {\n          toast.error(\"Failed to move to Management. Please try again.\");\n        }\n      }\n    } catch (error) {\n      toast.error(\"An error occurred. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n    handleClose();\n    setConfetti(true);\n  };\n\n  const handleClose = () => {\n    setTimeout(() => {\n      setConfetti(false);\n      setOpen(false);\n    }, 1000);\n  };\n\n  return (\n    <>\n      <Button\n        onClick={handleOpen}\n        className={`message quoteWon ${message.type} ${wonQuote === 'Draft'}`}\n      >\n        <CheckCircle color=\"#079455\" size={16} />\n      </Button>\n\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box className=\"modelStyleBox QuoteWon salesTableWrap QuoteActionStyle\" sx={{ width: 460 }}>\n          <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n            <div className='modelHeader justify-content-between align-items-start'>\n              <span>\n                <div className='iconOutStyleflex'>\n                  <div className='flexIconWrap'>\n                    <div className='iconOutStyle'>\n                      <div className='iconinStyle'>\n                        <div className='iconinnerStyle'>\n                          <Check2Circle color=\"#17B26A\" size={24} />\n                        </div>\n                      </div>\n                    </div>\n                    <div className='quoteStyleHeading'>\n                      {quoteType === 'won' && (\n                        <>\n                          {`Quote Won ${wonQuote}`}\n                        </>\n                      )}\n                    </div>\n                  </div>\n                  <IconButton\n                    edge=\"end\"\n                    color=\"inherit\"\n                    onClick={handleClose}\n                    aria-label=\"close\"\n                  >\n                    <CloseIcon color=\"#667085\" size={24} />\n                  </IconButton>\n                </div>\n                <div className='stepBoxStyle'>\n\n\n                  <ul>\n                    <li><strong><img src={SalesIcon} alt=\"SalesIcon\" /></strong><span className='lightColorStyle'>Sales</span></li>\n                    <li><em className='lineHor'></em>\n                      <strong>\n                        <svg width=\"15\" height=\"12\" viewBox=\"0 0 15 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <g clipPath=\"url(#clip0_13244_72509)\">\n                            <path d=\"M4.31518 0.577465C4.6602 0.577465 4.93493 0.727048 5.13939 1.02621C5.3481 1.31938 5.45246 1.75914 5.45246 2.3455V5.45975H4.31518V2.71346C4.31518 2.40832 4.27473 2.18694 4.1938 2.04933C4.11287 1.91172 3.9936 1.84291 3.836 1.84291C3.6784 1.84291 3.54636 1.93266 3.43988 2.11215C3.33765 2.28566 3.28654 2.54594 3.28654 2.89296V5.45975H2.15566V2.71346C2.15566 2.40832 2.1152 2.18694 2.03427 2.04933C1.95334 1.91172 1.83407 1.84291 1.67648 1.84291C1.51888 1.84291 1.38684 1.93266 1.28035 2.11215C1.17813 2.28566 1.12701 2.54594 1.12701 2.89296V5.45975H-0.0102539V0.694137H1.08228V1.34032H1.10784C1.35915 0.831748 1.70842 0.577465 2.15566 0.577465C2.38567 0.577465 2.58586 0.64627 2.75624 0.783889C2.92661 0.915517 3.05866 1.11595 3.15237 1.3852C3.30144 1.13989 3.46543 0.945429 3.64433 0.801836C3.82323 0.652252 4.04684 0.577465 4.31518 0.577465ZM9.16305 4.02378C9.12046 4.26909 9.03099 4.51141 8.8947 4.75074C8.7584 4.98408 8.5667 5.18153 8.3197 5.34307C8.07264 5.49864 7.77023 5.57642 7.4124 5.57642C6.84593 5.57642 6.40293 5.35504 6.08346 4.91229C5.76405 4.46953 5.6043 3.86224 5.6043 3.09041C5.6043 2.30661 5.76187 1.69333 6.07711 1.25058C6.39652 0.801836 6.83952 0.577465 7.40605 0.577465C7.96399 0.577465 8.40276 0.795854 8.72217 1.23262C9.04593 1.6694 9.20776 2.29763 9.20776 3.11733L9.2014 3.39555H6.77352C6.77352 3.74856 6.83099 4.02977 6.94599 4.23917C7.06528 4.44261 7.22076 4.54432 7.4124 4.54432C7.58705 4.54432 7.72123 4.48448 7.81493 4.36482C7.90864 4.24516 7.9704 4.09857 8.00023 3.92506L9.16305 4.02378ZM7.40605 1.58264C7.21864 1.58264 7.06952 1.66641 6.95881 1.83393C6.84805 1.99548 6.7884 2.21088 6.77987 2.48012H8.03858C8.03005 2.21088 7.96828 1.99548 7.85328 1.83393C7.74252 1.66641 7.59346 1.58264 7.40605 1.58264ZM4.31518 6.3615C4.6602 6.3615 4.93493 6.51109 5.13939 6.81024C5.3481 7.10342 5.45246 7.54316 5.45246 8.12957V11.2438H4.31518V8.49752C4.31518 8.19237 4.27473 7.97101 4.1938 7.83335C4.11287 7.69577 3.9936 7.62694 3.836 7.62694C3.6784 7.62694 3.54636 7.71668 3.43988 7.89623C3.33765 8.06967 3.28654 8.32995 3.28654 8.67699V11.2438H2.15566V8.49752C2.15566 8.19237 2.1152 7.97101 2.03427 7.83335C1.95334 7.69577 1.83407 7.62694 1.67648 7.62694C1.51888 7.62694 1.38684 7.71668 1.28035 7.89623C1.17813 8.06967 1.12701 8.32995 1.12701 8.67699V11.2438H-0.0102539V6.47817H1.08228V7.12436H1.10784C1.35915 6.61579 1.70842 6.3615 2.15566 6.3615C2.38567 6.3615 2.58586 6.43031 2.75624 6.56793C2.92661 6.69955 3.05866 6.89999 3.15237 7.16923C3.30144 6.92393 3.46543 6.72947 3.64433 6.58587C3.82323 6.43629 4.04684 6.3615 4.31518 6.3615ZM7.92358 11.2438C7.85964 11.1361 7.8277 10.9057 7.8277 10.5528C7.74681 10.804 7.60623 11.0014 7.40605 11.145C7.21011 11.2887 6.98434 11.3605 6.72876 11.3605C6.53287 11.3605 6.34758 11.3036 6.17293 11.1899C5.99828 11.0763 5.85776 10.9147 5.75123 10.7053C5.64476 10.4959 5.59152 10.2476 5.59152 9.96039C5.59152 9.47577 5.7044 9.11377 5.93017 8.87448C6.15587 8.6351 6.49876 8.47356 6.95881 8.38977C7.19305 8.34193 7.37193 8.29706 7.49546 8.25517C7.61899 8.20733 7.70417 8.15643 7.75105 8.10264C7.80217 8.04281 7.8277 7.96498 7.8277 7.86929C7.8277 7.71965 7.78511 7.60604 7.69993 7.5282C7.61899 7.4445 7.50399 7.4026 7.35493 7.4026C7.21864 7.4026 7.09934 7.4564 6.99711 7.56414C6.89487 7.67181 6.82252 7.82443 6.77987 8.02183L5.7257 7.86929C5.79811 7.39657 5.98128 7.02863 6.27517 6.76537C6.56905 6.49612 6.93534 6.3615 7.37411 6.3615C7.89799 6.3615 8.29411 6.5051 8.56246 6.79229C8.83081 7.0735 8.96499 7.47441 8.96499 7.99489V10.3553C8.96499 10.6126 8.96923 10.807 8.97776 10.9386C8.99052 11.0643 9.01611 11.166 9.0544 11.2438H7.92358ZM7.8277 9.00007C7.78087 9.04197 7.70417 9.08088 7.5977 9.11675C7.49123 9.14666 7.37411 9.17657 7.24628 9.20648C6.91405 9.29622 6.74793 9.50568 6.74793 9.83471C6.74793 9.99625 6.78417 10.1249 6.85658 10.2207C6.93323 10.3104 7.03334 10.3553 7.15687 10.3553C7.25911 10.3553 7.36128 10.3224 7.46352 10.2565C7.56576 10.1908 7.65093 10.089 7.71911 9.95138C7.79152 9.80785 7.8277 9.6283 7.8277 9.41289V9.00007ZM11.3669 10.0681V11.2438C11.2988 11.2558 11.0688 11.2617 10.6769 11.2617C10.4 11.2617 10.1828 11.2288 10.0252 11.163C9.87187 11.0913 9.75687 10.9656 9.68023 10.7861C9.60781 10.6065 9.57158 10.3433 9.57158 9.99625V7.47441H9.05411V6.47817H9.57158V5.16786H10.7025V6.47817H11.3797V7.47441H10.7025V9.61938C10.7025 9.81083 10.7302 9.93345 10.7855 9.98733C10.8452 10.0412 10.9559 10.0681 11.1178 10.0681H11.3669ZM14.9363 9.80785C14.8937 10.0531 14.8042 10.2954 14.6679 10.5347C14.5316 10.7681 14.3399 10.9656 14.0929 11.1271C13.8459 11.2827 13.5435 11.3605 13.1856 11.3605C12.6192 11.3605 12.1762 11.1391 11.8567 10.6963C11.5373 10.2536 11.3775 9.64623 11.3775 8.87448C11.3775 8.09066 11.5351 7.47738 11.8503 7.03462C12.1698 6.58587 12.6128 6.3615 13.1793 6.3615C13.7372 6.3615 14.176 6.57989 14.4954 7.01666C14.8192 7.45342 14.981 8.08165 14.981 8.90133L14.9746 9.17954H12.5468C12.5468 9.53262 12.6042 9.8138 12.7192 10.0232C12.8385 10.2266 12.994 10.3283 13.1856 10.3283C13.3603 10.3283 13.4945 10.2685 13.5882 10.1489C13.6819 10.0292 13.7436 9.88263 13.7735 9.70911L14.9363 9.80785ZM13.1793 7.36666C12.9919 7.36666 12.8428 7.45045 12.732 7.61794C12.6213 7.77956 12.5616 7.99489 12.5531 8.26418H13.8118C13.8033 7.99489 13.7415 7.77956 13.6265 7.61794C13.5158 7.45045 13.3667 7.36666 13.1793 7.36666Z\" fill=\"url(#paint0_radial_13244_72509)\" />\n                          </g>\n                          <defs>\n                            <radialGradient id=\"paint0_radial_13244_72509\" cx=\"0\" cy=\"0\" r=\"1\" gradientUnits=\"userSpaceOnUse\" gradientTransform=\"translate(-0.195533 0.874516) rotate(33.8103) scale(16.7787 220.176)\">\n                              <stop stopColor=\"#1AB3FF\" />\n                              <stop offset=\"1\" stopColor=\"#FFB258\" />\n                            </radialGradient>\n                            <clipPath id=\"clip0_13244_72509\">\n                              <rect width=\"15\" height=\"10.8451\" fill=\"white\" transform=\"translate(0 0.577465)\" />\n                            </clipPath>\n                          </defs>\n                        </svg>\n                      </strong>\n                      <em className='lineHor'></em></li>\n                    <li><strong><img src={ManagementIcon} alt=\"ManagementIcon\" /></strong><span>Management</span></li>\n                  </ul>\n                  <p>Great, another quote converted into a project.</p>\n                </div>\n              </span>\n\n            </div>\n            <div className='footerBorder text-center'>\n              <button disabled={isLoading} onClick={handleMoveToManagementWon}>Move to the Management {isLoading && <ProgressSpinner style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }} />}</button>\n              <ConfettiComponent active={confetti} config={{ /* customize confetti config */ }} />\n            </div>\n          </Typography>\n        </Box>\n      </Modal>\n    </>\n  );\n};\nexport default QuoteWon;","// extracted by mini-css-extract-plugin\nexport default {\"iconButton\":\"request-changes_iconButton__G0dvv\",\"badge\":\"request-changes_badge__Ab3AT\",\"modalHeader\":\"request-changes_modalHeader__Uwuv4\",\"headerContent\":\"request-changes_headerContent__yaZpp\",\"headerIcon\":\"request-changes_headerIcon__oOy37\",\"headerText\":\"request-changes_headerText__gXFA1\",\"headerTitle\":\"request-changes_headerTitle__ociwv\",\"headerSubtitle\":\"request-changes_headerSubtitle__C1cA1\",\"closeButton\":\"request-changes_closeButton__L+Kgd\",\"modalBody\":\"request-changes_modalBody__cTIqY\",\"changesContainer\":\"request-changes_changesContainer__EHDSA\",\"changeCard\":\"request-changes_changeCard__1gpYZ\",\"cardContent\":\"request-changes_cardContent__U58rA\",\"messageLabel\":\"request-changes_messageLabel__oxx2-\",\"messageText\":\"request-changes_messageText__0yqru\",\"messageLine\":\"request-changes_messageLine__Fp+wq\",\"emptyState\":\"request-changes_emptyState__1f0TF\",\"emptyIcon\":\"request-changes_emptyIcon__9w0qX\",\"emptyText\":\"request-changes_emptyText__2R+Gp\",\"emptySubtext\":\"request-changes_emptySubtext__UObUu\"};","import React, { useState } from 'react';\nimport { ChatText, X, Clock } from 'react-bootstrap-icons';\nimport Modal from 'react-bootstrap/Modal';\nimport styles from './request-changes.module.scss';\n\nconst RequestChanges = ({ requestChanges, quoteNumber, status }) => {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  // Check if there are any request changes and status is Review\n  const hasChanges = requestChanges && requestChanges.length > 0;\n  const showIcon = hasChanges && status === 'Review';\n\n  // Don't render anything if no changes or not in Review status\n  if (!showIcon) {\n    return null;\n  }\n\n  return (\n    <>\n      <button \n        className={styles.iconButton}\n        onClick={handleShow}\n        title={`${requestChanges.length} change request(s)`}\n      >\n        <ChatText \n          color=\"#FDB022\" \n          size={16} \n        />\n        {requestChanges.length > 0 && (\n          <span className={styles.badge}>{requestChanges.length}</span>\n        )}\n      </button>\n\n      <Modal\n        show={show}\n        onHide={handleClose}\n        centered\n        size='lg'\n        animation={false}\n      >\n        <Modal.Header className={styles.modalHeader}>\n          <div className={styles.headerContent}>\n            <div className={styles.headerIcon}>\n              <ChatText size={20} color=\"#FDB022\" />\n            </div>\n            <div className={styles.headerText}>\n              <h2 className={styles.headerTitle}>Change Requests</h2>\n              <p className={styles.headerSubtitle}>\n                Quote {quoteNumber}  {requestChanges?.length || 0} request{requestChanges?.length !== 1 ? 's' : ''}\n              </p>\n            </div>\n          </div>\n          <button className={styles.closeButton} onClick={handleClose} aria-label=\"Close\">\n            <X size={24} />\n          </button>\n        </Modal.Header>\n\n        <Modal.Body className={styles.modalBody}>\n          {hasChanges ? (\n            <div className={styles.changesContainer}>\n              {requestChanges.map((change, index) => (\n                <div key={index} className={styles.changeCard}>\n                  <div className={styles.cardContent}>\n                    <div className={styles.messageLabel}>\n                      <Clock size={14} />\n                      <span>Requested Changes:</span>\n                    </div>\n                    <div className={styles.messageText}>\n                      {change.request_changes}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className={styles.emptyState}>\n              <div className={styles.emptyIcon}>\n                <ChatText size={48} color=\"#D0D5DD\" />\n              </div>\n              <p className={styles.emptyText}>No change requests</p>\n              <p className={styles.emptySubtext}>\n                Change requests from clients will appear here\n              </p>\n            </div>\n          )}\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default RequestChanges;\n","// extracted by mini-css-extract-plugin\nexport default {\"modalHeader\":\"sales-history_modalHeader__+fyEQ\",\"modalContent\":\"sales-history_modalContent__tx9B4\",\"headerContent\":\"sales-history_headerContent__35-SD\",\"headerIcon\":\"sales-history_headerIcon__wpxzK\",\"headerText\":\"sales-history_headerText__9TiAr\",\"headerTitle\":\"sales-history_headerTitle__S6M6s\",\"headerSubtitle\":\"sales-history_headerSubtitle__gUExm\",\"headerActions\":\"sales-history_headerActions__DGw3m\",\"headerIconButton\":\"sales-history_headerIconButton__P2Wh3\",\"closeButton\":\"sales-history_closeButton__JhKKm\",\"leftColumn\":\"sales-history_leftColumn__WaUTy\",\"rightColumn\":\"sales-history_rightColumn__Jsz+w\",\"tabsContainer\":\"sales-history_tabsContainer__jP4aG\",\"tabsList\":\"sales-history_tabsList__CIqjL\",\"tabItem\":\"sales-history_tabItem__aHq2Q\",\"active\":\"sales-history_active__oq3o3\",\"scrollContainer\":\"sales-history_scrollContainer__V+LPo\",\"quoteSection\":\"sales-history_quoteSection__AMuvQ\",\"sectionBlock\":\"sales-history_sectionBlock__YEft2\",\"sectionTitle\":\"sales-history_sectionTitle__bQ6QW\",\"editIcon\":\"sales-history_editIcon__oSQJF\",\"sectionContent\":\"sales-history_sectionContent__WWg6H\",\"customerInfoSection\":\"sales-history_customerInfoSection__rLd0W\",\"sectionHeader\":\"sales-history_sectionHeader__OWAsT\",\"clientIdBadge\":\"sales-history_clientIdBadge__DVQnz\",\"divider\":\"sales-history_divider__6T8Jp\",\"boxLabel\":\"sales-history_boxLabel__9tA+y\",\"boxLabel2\":\"sales-history_boxLabel2__TvjmU\",\"profileBox\":\"sales-history_profileBox__thSCa\",\"leadInfoSection\":\"sales-history_leadInfoSection__-d5vz\",\"enquirySection\":\"sales-history_enquirySection__baBWi\",\"infoGrid\":\"sales-history_infoGrid__vCLQa\",\"infoItem\":\"sales-history_infoItem__dEBY5\",\"infoLabel\":\"sales-history_infoLabel__tmwzu\",\"infoValue\":\"sales-history_infoValue__2fXfv\",\"ellipsis\":\"sales-history_ellipsis__6n2jS\",\"fieldCardsContainer\":\"sales-history_fieldCardsContainer__ZWaUL\",\"fieldCard\":\"sales-history_fieldCard__9h4R0\",\"fieldLabel\":\"sales-history_fieldLabel__bmisp\",\"fieldValue\":\"sales-history_fieldValue__jtBqD\",\"infoCard\":\"sales-history_infoCard__U2VSu\",\"infoIcon\":\"sales-history_infoIcon__9tEvH\",\"infoContent\":\"sales-history_infoContent__MGtdG\",\"infoLink\":\"sales-history_infoLink__SsbYG\",\"infoRow\":\"sales-history_infoRow__IfXqo\",\"label\":\"sales-history_label__xdCkE\",\"value\":\"sales-history_value__Vq36s\",\"badge\":\"sales-history_badge__ecMi2\",\"tableContainer\":\"sales-history_tableContainer__dfRUz\",\"dataTable\":\"sales-history_dataTable__vPt8-\",\"tableLabel\":\"sales-history_tableLabel__EgamJ\",\"tableValue\":\"sales-history_tableValue__MZ50I\",\"actionsRow\":\"sales-history_actionsRow__e5K-K\",\"activitySection\":\"sales-history_activitySection__eQati\",\"activityScroll\":\"sales-history_activityScroll__oTiGB\",\"historySectionHeader\":\"sales-history_historySectionHeader__8Vjk9\",\"historyList\":\"sales-history_historyList__022je\",\"historyItem\":\"sales-history_historyItem__MWDHf\",\"historyHeader\":\"sales-history_historyHeader__a0Rm+\",\"historyIcon\":\"sales-history_historyIcon__V0YZC\",\"historyType\":\"sales-history_historyType__juNy4\",\"historyLinks\":\"sales-history_historyLinks__ljH6u\",\"historySubtitle\":\"sales-history_historySubtitle__OdRH2\",\"historyTimestamp\":\"sales-history_historyTimestamp__oOc0v\",\"emailPreview\":\"sales-history_emailPreview__QtlC2\",\"emailBody\":\"sales-history_emailBody__B5lc4\",\"emptyState\":\"sales-history_emptyState__pIhri\",\"emptyIcon\":\"sales-history_emptyIcon__T9hy4\",\"emptyText\":\"sales-history_emptyText__hs2ez\",\"emptySubtext\":\"sales-history_emptySubtext__u6oqY\",\"loadingContainer\":\"sales-history_loadingContainer__+NZo8\",\"skeletonContainer\":\"sales-history_skeletonContainer__8w+Zq\",\"skeletonCircle\":\"sales-history_skeletonCircle__iNRHt\",\"pulse\":\"sales-history_pulse__rdiz9\",\"skeletonLineShort\":\"sales-history_skeletonLineShort__ymlHD\",\"skeletonLine\":\"sales-history_skeletonLine__oFjKS\",\"skeletonLineLong\":\"sales-history_skeletonLineLong__3k2wj\",\"modalFooter\":\"sales-history_modalFooter__qgCvF\",\"footerLeft\":\"sales-history_footerLeft__PIN97\",\"footerActionButton\":\"sales-history_footerActionButton__c6wEd\",\"calculationButton\":\"sales-history_calculationButton__l6Vi0\",\"footerRight\":\"sales-history_footerRight__4eGLf\",\"assignedTo\":\"sales-history_assignedTo__MloDC\",\"assignedLabel\":\"sales-history_assignedLabel__LgXiZ\",\"avatarGroup\":\"sales-history_avatarGroup__5IGGH\",\"noManager\":\"sales-history_noManager__kq5GU\",\"assignedUser\":\"sales-history_assignedUser__tovF6\",\"lostButton\":\"sales-history_lostButton__awJ2P\",\"wonButton\":\"sales-history_wonButton__9KLmn\",\"enquiryGrid\":\"sales-history_enquiryGrid__YLj8U\",\"footerCenter\":\"sales-history_footerCenter__HOa14\"};","import { useState, useEffect, useRef } from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport {\n    X,\n    Envelope,\n    Calendar,\n    FileText,\n    ChatDots,\n    CardChecklist,\n    Telephone,\n    FileEarmark,\n    PhoneVibrate,\n    FolderSymlink,\n    ListCheck,\n    Link45deg,\n    FilePdf,\n    CurrencyDollar,\n    PencilSquare,\n    InfoCircle,\n    Person,\n    Clock,\n    Files,\n    Check2Circle,\n    PlusSlashMinus,\n    XCircle,\n    CheckCircle\n} from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { Avatar } from 'primereact/avatar';\nimport { AvatarGroup } from 'primereact/avatargroup';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Tag } from 'primereact/tag';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport styles from './sales-history.module.scss';\nimport { getClientById } from '../../../../../../APIs/ClientsApi';\nimport { getEnquirySubmissionDetails } from '../../../../../../APIs/enquiries-api';\nimport { ProjectCardApi } from '../../../../../../APIs/management-api';\nimport { markWon, markLost, saleDuplicateData } from '../../../../../../APIs/SalesApi';\nimport { FallbackImage } from '../../../../../../shared/ui/image-with-fallback/image-avatar';\nimport ConfettiComponent from '../../../../../layout/ConfettiComponent';\nimport { BusinessViewSection } from '../../../../features/clients-features/business-client-view/business-client-view';\nimport { IndividualViewSection } from '../../../../features/clients-features/indivisual-client-view/indivisual-client-view';\nimport AddNote from '../../../management/project-card/add-note';\nimport ComposeEmail from '../../../management/project-card/compose-email/compose-email';\nimport FilesModel from '../../../management/project-card/files-management/files-model';\nimport NewTask from '../../../management/project-card/new-task';\nimport SendSMS from '../../../management/project-card/send-sms/send-sms';\n\nconst TABS = {\n    QUOTE: 'quote',\n    CUSTOMER_INFO: 'customer_info',\n    ENQUIRY: 'enquiry'\n};\n\nconst formatTimestamp = (timestamp) => {\n    if (!timestamp) return '-';\n    const date = new Date(timestamp * 1000);\n    const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };\n    const dayOptions = { weekday: 'short' };\n    const timeString = new Intl.DateTimeFormat('en-US', timeOptions).format(date);\n    const dayString = new Intl.DateTimeFormat('en-US', dayOptions).format(date);\n    const day = date.getDate();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    const dateString = `${day}.${month}.${year}`;\n    return `${timeString} | ${dayString} | ${dateString}`;\n};\n\nconst formatFieldLabel = (key) => {\n    return key\n        .split('_')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n        .join(' ');\n};\n\nconst getHistoryIcon = (type) => {\n    switch (type) {\n        case 'quote':\n            return <FileEarmark size={16} color=\"#1AB2FF\" />;\n        case 'task':\n            return <ListCheck size={16} color=\"#1AB2FF\" />;\n        case 'order':\n            return <Check2Circle size={16} color=\"#1AB2FF\" />;\n        case 'note':\n            return <CardChecklist size={16} color=\"#1AB2FF\" />;\n        case 'tag':\n            return <ListCheck size={16} color=\"#1AB2FF\" />;\n        case 'invoice':\n            return <FileText size={16} color=\"#1AB2FF\" />;\n        case 'billing':\n            return <PhoneVibrate size={16} color=\"#1AB2FF\" />;\n        case 'email':\n            return <Envelope size={16} color=\"#1AB2FF\" />;\n        case 'sms':\n            return <ChatDots size={16} color=\"#1AB2FF\" />;\n        case 'job':\n            return <Check2Circle size={16} color=\"#1AB2FF\" />;\n        case 'expense':\n            return <FolderSymlink size={16} color=\"#1AB2FF\" />;\n        default:\n            return <FileEarmark size={16} color=\"#1AB2FF\" />;\n    }\n};\n\nconst getHistoryTypeName = (type) => {\n    switch (type) {\n        case 'quote': return 'Quote';\n        case 'task': return 'Tasks';\n        case 'order': return 'Order';\n        case 'note': return 'Notes';\n        case 'tag': return 'Tag';\n        case 'invoice': return 'Invoice';\n        case 'billing': return 'Billing';\n        case 'email': return 'Email';\n        case 'sms': return 'SMS';\n        case 'job': return 'Job Created';\n        case 'expense': return 'Expense Linked';\n        default: return type?.charAt(0).toUpperCase() + type?.slice(1);\n    }\n};\n\nconst parseEmailData = (text) => {\n    if (!text) return { subject: '', recipients: [], body: '' };\n    const lines = text.split(\"\\n\");\n\n    const subject = lines.find((line) => line.startsWith(\"Subject:\"))?.replace(\"Subject: \", \"\") || \"\";\n\n    const rawRecipients = lines.find((line) => line?.startsWith(\"Recipient(s):\"))?.replace(\"Recipient(s): \", \"\") || \"[]\";\n    let recipients = [];\n    try {\n        recipients = JSON.parse(rawRecipients?.replace(/'/g, '\"'));\n    } catch (e) {\n        recipients = [];\n    }\n\n    const body = text.split(\"Body:\")[1]?.trim() || \"\";\n\n    return { subject, recipients, body };\n};\n\nconst EmailComponent = ({ emailData }) => {\n    const [showFullBody, setShowFullBody] = useState(false);\n    const [isOverflowing, setIsOverflowing] = useState(false);\n    const emailBodyRef = useRef(null);\n    const email = parseEmailData(emailData);\n\n    useEffect(() => {\n        if (emailBodyRef.current) {\n            const bodyHeight = emailBodyRef.current.scrollHeight;\n            setIsOverflowing(bodyHeight > 90);\n        }\n    }, [email.body]);\n\n    return (\n        <div className={styles.emailPreview}>\n            <div className=\"d-flex gap-2 flex-wrap\">\n                <strong className=\"font-12\">Subject:</strong>\n                <span className=\"font-12\">{email.subject}</span>\n            </div>\n            <div className=\"d-flex gap-2 flex-wrap\">\n                <strong className=\"font-12\">Recipients:</strong>\n                <span className=\"font-12\">{email.recipients?.join(', ')}</span>\n            </div>\n            <div\n                ref={emailBodyRef}\n                className={styles.emailBody}\n                style={{\n                    maxHeight: showFullBody ? \"none\" : \"87px\",\n                    overflowY: \"hidden\"\n                }}\n                dangerouslySetInnerHTML={{ __html: email.body }}\n            />\n            {isOverflowing && (\n                <button\n                    className=\"text-button font-12 px-0\"\n                    onClick={() => setShowFullBody(!showFullBody)}\n                >\n                    {showFullBody ? \"Show Less\" : \"Load More\"}\n                </button>\n            )}\n        </div>\n    );\n};\n\nconst SalesHistory = ({ salesHistoryId, setSalesHistoryId, onRemoveRow, managers }) => {\n    const [activeTab, setActiveTab] = useState(TABS.QUOTE);\n    const [showConfetti, setShowConfetti] = useState(false);\n    const [isProcessingWon, setIsProcessingWon] = useState(false);\n    const [isProcessingLost, setIsProcessingLost] = useState(false);\n    const [isProcessingDuplicate, setIsProcessingDuplicate] = useState(false);\n\n    const { data: cardData, isFetching, refetch } = useQuery({\n        queryKey: ['project-card', salesHistoryId],\n        queryFn: () => ProjectCardApi(salesHistoryId),\n        enabled: !!salesHistoryId,\n    });\n\n    // Fetch enquiry submission details\n    const { data: leadData, isFetching: leadFetching } = useQuery({\n        queryKey: ['enquiry-submission-details', cardData?.enquiry_id],\n        queryFn: () => getEnquirySubmissionDetails(cardData?.enquiry_id),\n        enabled: !!cardData?.enquiry_id,\n    });\n\n    // Fetch client data once for all child components\n    const clientQuery = useQuery({\n        queryKey: ['getClientById', cardData?.client],\n        queryFn: () => getClientById(cardData?.client),\n        enabled: !!cardData?.client,\n        retry: 1,\n    });\n    const client = clientQuery?.data || null;\n\n    const projectId = salesHistoryId;\n    const project = { value: salesHistoryId };\n    const history = cardData?.history || [];\n    const contactPersons = cardData?.contact_persons || [];\n\n    const handleClose = () => {\n        setSalesHistoryId(null);\n    };\n\n    const reInitialize = () => {\n        refetch();\n    };\n\n    const projectCardData = () => {\n        refetch();\n    };\n\n    const handleMarkWon = async () => {\n        if (!salesHistoryId) return;\n        setIsProcessingWon(true);\n        try {\n            const success = await markWon([salesHistoryId]);\n            if (success?.length) {\n                setShowConfetti(true);\n                toast.success(\"Successfully moved to Management!\");\n                if (onRemoveRow) onRemoveRow();\n                setTimeout(() => {\n                    setShowConfetti(false);\n                    handleClose();\n                }, 2000);\n            } else {\n                toast.error(\"Failed to move to Management. Please try again.\");\n            }\n        } catch (error) {\n            toast.error(\"An error occurred. Please try again.\");\n        } finally {\n            setIsProcessingWon(false);\n        }\n    };\n\n    const handleDuplicate = async () => {\n        if (!salesHistoryId) return;\n        setIsProcessingDuplicate(true);\n        try {\n            const success = await saleDuplicateData(salesHistoryId);\n            console.log('success: ', success);\n            toast.success(\"Sale request has been duplicated!\");\n            if (onRemoveRow) onRemoveRow();\n            handleClose();\n        } catch (error) {\n            toast.error(\"Failed to duplicate sale request. Please try again.\");\n        } finally {\n            setIsProcessingDuplicate(false);\n        }\n    };\n\n    const handleMarkLost = async () => {\n        if (!salesHistoryId) return;\n        setIsProcessingLost(true);\n        try {\n            const success = await markLost([salesHistoryId]);\n            if (success?.length) {\n                toast.success(\"Sale request has been marked as Lost!\");\n                if (onRemoveRow) onRemoveRow();\n                handleClose();\n            } else {\n                toast.error(\"Failed to mark as Lost. Please try again.\");\n            }\n        } catch (error) {\n            toast.error(\"An error occurred. Please try again.\");\n        } finally {\n            setIsProcessingLost(false);\n        }\n    };\n\n    const renderHistoryItem = (item, index) => {\n        const { id, type, text, title, created, manager, links } = item;\n\n        return (\n            <div className={styles.historyItem} key={`history-${id || index}`}>\n                <div className={styles.historyHeader}>\n                    <span className={styles.historyIcon}>\n                        {getHistoryIcon(type)}\n                    </span>\n                    <span className={styles.historyType}>\n                        {getHistoryTypeName(type)}\n                    </span>\n                    {(links?.quote_pdf || links?.invoice_pdf || (projectId && (title === \"Quote Created\" || title === \"Invoice Created\"))) && (\n                        <div className={styles.historyLinks}>\n                            {links?.quote_pdf && (\n                                <Link to={links.quote_pdf} target=\"_blank\">\n                                    <FilePdf color=\"#F04438\" size={14} />\n                                </Link>\n                            )}\n                            {links?.invoice_pdf && (\n                                <Link to={links.invoice_pdf} target=\"_blank\">\n                                    <FilePdf color=\"#F04438\" size={14} />\n                                </Link>\n                            )}\n                            {projectId && (title === \"Quote Created\" || title === \"Invoice Created\") && (\n                                <Link to={title === \"Quote Created\" ? `/quote/${projectId}` : `/invoice/${projectId}`} target=\"_blank\">\n                                    <Link45deg color=\"#667085\" size={16} />\n                                </Link>\n                            )}\n                        </div>\n                    )}\n                </div>\n\n                {title && <p className={styles.historySubtitle}>{title}</p>}\n                {text && <p className={styles.historySubtitle}>{text}</p>}\n\n                {type === \"email\" && text && (\n                    <EmailComponent emailData={text} />\n                )}\n\n                <p className={styles.historyTimestamp}>\n                    {formatTimestamp(+created)} by {manager}\n                </p>\n            </div>\n        );\n    };\n\n    // Quote Tab - Matching Figma design\n    const renderQuoteTab = () => (\n        <div className={styles.quoteSection}>\n            {isFetching ? (\n                <div className={styles.loadingContainer}>\n                    <ProgressSpinner style={{ width: '40px', height: '40px' }} />\n                </div>\n            ) : (\n                <>\n                    <div className={styles.sectionBlock}>\n                        <div className={styles.sectionTitle}>\n                            <h4>\n                                Reference\n                                <InfoCircle size={14} color=\"#98A2B3\" />\n                            </h4>\n                            <PencilSquare size={16} className={styles.editIcon} />\n                        </div>\n                        <p className={styles.sectionContent}>\n                            {cardData?.reference || '-'}\n                        </p>\n                    </div>\n\n                    <div className={styles.sectionBlock}>\n                        <div className={styles.sectionTitle}>\n                            <h4>Description</h4>\n                            <PencilSquare size={16} className={styles.editIcon} />\n                        </div>\n                        <p className={styles.sectionContent}>\n                            {cardData?.description || '-'}\n                        </p>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n\n    // Customer Info Tab - Matching Figma design exactly\n    const renderCustomerInfoTab = () => (\n        <div className={styles.customerInfoSection}>\n            {clientQuery?.isFetching ? (\n                <div className={styles.loadingContainer}>\n                    <ProgressSpinner style={{ width: '40px', height: '40px' }} />\n                </div>\n            ) : (\n                <>\n                    <div className=\"d-flex align-items-center gap-2\">\n                        <div className={styles.profileBox} style={client?.is_business ? { borderRadius: '4px' } : { borderRadius: '50%' }}>\n                            <FallbackImage has_photo={client?.has_photo} photo={client.photo} is_business={client?.is_business} size={30} />\n                        </div>\n                        <div className='d-flex align-items-center gap-2'>\n                            <span style={{ color: '344054', fontSize: '16px', fontWeight: 600 }}>{client.name}</span>\n                            {client.deleted ? <Tag value=\"Deleted\" style={{ height: '22px', width: '59px', borderRadius: '16px', border: '1px solid #FECDCA', background: '#FEF3F2', color: '#912018', fontSize: '12px', fontWeight: 500 }}></Tag> : ''}\n                        </div>\n                    </div>\n                    <hr />\n                    <div className='d-flex align-items-center justify-content-between'>\n                        <h5 className={clsx(styles.boxLabel)}>Client Details</h5>\n                        <h6 className={clsx(styles.boxLabel2)}>Client ID: {client?.number}</h6>\n                    </div>\n                    {\n                        client?.is_business\n                            ? <BusinessViewSection client={client} refetch={() => clientQuery?.refetch()} />\n                            : <IndividualViewSection client={client} />\n                    }\n                </>\n            )}\n        </div>\n    );\n\n    // Enquiry Tab - Matching Figma design exactly\n    const renderEnquiryTab = () => {\n        return (\n            <div className={styles.enquirySection}>\n                { leadFetching ? (\n                    <div className={styles.loadingContainer}>\n                        <ProgressSpinner style={{ width: '40px', height: '40px' }} />\n                    </div>\n                ) : leadData ? (\n                    <div className={styles.leadInfoSection}>\n                        {/* Two Column Info Grid */}\n                        <div className={styles.infoGrid}>\n                            {/* Row 1 */}\n                            {leadData?.data?.name && (\n                                <div className={styles.infoItem}>\n                                    <Person size={16} color=\"#1AB2FF\" />\n                                    <span className={styles.infoLabel}>Name</span>\n                                    <span className={clsx(styles.infoValue, styles.ellipsis)}>{leadData?.data?.name}</span>\n                                </div>\n                            )}\n                            {leadData?.data?.date_field && (\n                                <div className={styles.infoItem}>\n                                    <Calendar size={16} color=\"#1AB2FF\" />\n                                    <span className={styles.infoLabel}>Date Field</span>\n                                    <span className={clsx(styles.infoValue, styles.ellipsis)}>{leadData?.data?.date_field}</span>\n                                </div>\n                            )}\n\n                            {/* Row 2 */}\n                            {leadData?.data?.email && (\n                                <div className={styles.infoItem}>\n                                    <Envelope size={16} color=\"#1AB2FF\" />\n                                    <span className={styles.infoLabel}>Email</span>\n                                    <span className={clsx(styles.infoValue, styles.ellipsis)}>{leadData?.data?.email}</span>\n                                </div>\n                            )}\n                            {leadData?.data?.time_field && (\n                                <div className={styles.infoItem}>\n                                    <Clock size={16} color=\"#1AB2FF\" />\n                                    <span className={styles.infoLabel}>Time Field</span>\n                                    <span className={clsx(styles.infoValue, styles.ellipsis)}>{leadData?.data?.time_field}</span>\n                                </div>\n                            )}\n\n                            {/* Row 3 */}\n                            {leadData?.data?.phone && (\n                                <div className={styles.infoItem}>\n                                    <Telephone size={16} color=\"#1AB2FF\" />\n                                    <span className={styles.infoLabel}>Phone</span>\n                                    <span className={clsx(styles.infoValue, styles.ellipsis)}>{leadData?.data?.phone}</span>\n                                </div>\n                            )}\n                            <div className={styles.infoItem}>\n                                <FileText size={16} color=\"#1AB2FF\" />\n                                <span className={styles.infoLabel}>Form Type</span>\n                                <span className={clsx(styles.infoValue, styles.ellipsis)}>\n                                    {leadData?.form_type === 'web' ? 'Web' : 'Form'}\n                                </span>\n                            </div>\n                        </div>\n\n                        {/* Form Data Fields as bordered cards */}\n                        <div className={styles.fieldCardsContainer}>\n                            {leadData?.data && Object.entries(leadData?.data)\n                                .filter(([key, value]) =>\n                                    !['name', 'email', 'phone', 'date_field', 'time_field'].includes(key) &&\n                                    value !== '' &&\n                                    value !== null &&\n                                    value !== undefined &&\n                                    !(typeof value === 'object' && Object.keys(value).length === 0)\n                                )\n                                .map(([key, value]) => (\n                                    <div key={key} className={styles.fieldCard}>\n                                        <span className={styles.fieldLabel}>{formatFieldLabel(key)}</span>\n                                        <span className={styles.fieldValue}>\n                                            {typeof value === 'boolean'\n                                                ? (value ? 'Yes' : 'No')\n                                                : typeof value === 'object'\n                                                    ? Array.isArray(value) ? value.join(', ') : JSON.stringify(value)\n                                                    : value}\n                                        </span>\n                                    </div>\n                                ))\n                            }\n                        </div>\n                    </div>\n                ) : (\n                    <div className={styles.emptyState}>\n                        <div className={styles.emptyIcon}>\n                            <FileText size={24} color=\"#98A2B3\" />\n                        </div>\n                        <p className={styles.emptyText}>No enquiry data available</p>\n                        <p className={styles.emptySubtext}>\n                            This quote may not have been created from an enquiry form.\n                        </p>\n                    </div>\n                )}\n            </div>\n        );\n    };\n\n    const renderTabContent = () => {\n        switch (activeTab) {\n            case TABS.QUOTE:\n                return renderQuoteTab();\n            case TABS.CUSTOMER_INFO:\n                return renderCustomerInfoTab();\n            case TABS.ENQUIRY:\n                return renderEnquiryTab();\n            default:\n                return renderQuoteTab();\n        }\n    };\n\n    return (\n        <>\n            <ConfettiComponent active={showConfetti} config={{}} />\n            <Modal\n                show={!!salesHistoryId}\n                aria-labelledby=\"contained-modal-title-vcenter\"\n                centered\n                className=\"projectCardModel\"\n                onHide={handleClose}\n                animation={false}\n                enforceFocus={false}\n                size=\"xl\"\n                contentClassName={styles.modalContentClass}\n            >\n                <Modal.Header className={styles.modalHeader}>\n                    <div className={styles.headerContent}>\n                        <div className={styles.headerIcon}>\n                            <CurrencyDollar size={24} color=\"#17B26A\" />\n                        </div>\n                        <div className={styles.headerText}>\n                            <h2 className={styles.headerTitle}>Quote Request</h2>\n                            <p className={styles.headerSubtitle}>\n                                {client?.name || 'Customer Name'}\n                            </p>\n                        </div>\n                    </div>\n                    <div className={styles.headerActions}>\n                        {cardData?.status !== 'qd' && (\n                            <Link to={cardData?.quote_pdf || '#'} target=\"_blank\" className={styles.headerIconButton}>\n                                <FilePdf size={18} color=\"#F04438\" />\n                            </Link>\n                        )}\n                        {cardData?.status !== 'qd' && (\n                            <Link to={`/quote/${projectId}`} target=\"_blank\" className={styles.headerIconButton}>\n                                <Link45deg size={18} color=\"#667085\" />\n                            </Link>\n                        )}\n                        <button className={styles.closeButton} onClick={handleClose} aria-label=\"Close\">\n                            <X size={24} />\n                        </button>\n                    </div>\n                </Modal.Header>\n\n                <Modal.Body className=\"p-0\">\n                    <div className={styles.modalContent}>\n                        <Row className=\"g-0 h-100\">\n                            <Col sm={6} className={styles.leftColumn}>\n                                {/* Tabs - Matching Figma bordered style */}\n                                <div className={styles.tabsContainer}>\n                                    <ul className={styles.tabsList}>\n                                        <li\n                                            className={clsx(styles.tabItem, activeTab === TABS.QUOTE && styles.active)}\n                                            onClick={() => setActiveTab(TABS.QUOTE)}\n                                        >\n                                            Quote\n                                        </li>\n                                        <li\n                                            className={clsx(styles.tabItem, activeTab === TABS.CUSTOMER_INFO && styles.active)}\n                                            onClick={() => setActiveTab(TABS.CUSTOMER_INFO)}\n                                        >\n                                            Customer Info\n                                        </li>\n                                        <li\n                                            className={clsx(styles.tabItem, activeTab === TABS.ENQUIRY && styles.active)}\n                                            onClick={() => setActiveTab(TABS.ENQUIRY)}\n                                        >\n                                            Enquiry\n                                        </li>\n                                    </ul>\n                                </div>\n\n                                <div className={styles.scrollContainer}>\n                                    {renderTabContent()}\n                                </div>\n                            </Col>\n\n                            <Col sm={6} className={styles.rightColumn}>\n                                <div className={styles.actionsRow}>\n                                    <AddNote projectId={projectId} projectCardData={projectCardData} />\n                                    <NewTask project={project} reInitialize={reInitialize} projectCardData={projectCardData} />\n                                    <SendSMS projectId={projectId} projectCardData={projectCardData} />\n                                    <ComposeEmail projectId={projectId} projectCardData={projectCardData} contactPersons={contactPersons} />\n                                </div>\n\n                                <div className={styles.activitySection}>\n                                    <div className={styles.historySectionHeader}>\n                                        <h3>Project History</h3>\n                                    </div>\n                                    <div className={styles.activityScroll}>\n                                        {isFetching ? (\n                                            <div className={styles.skeletonContainer}>\n                                                {[1, 2, 3, 4].map((i) => (\n                                                    <div key={i} className=\"d-flex flex-column mb-3\">\n                                                        <div className=\"d-flex gap-2 align-items-center\">\n                                                            <div className={styles.skeletonCircle}></div>\n                                                            <div className={styles.skeletonLineShort} style={{ width: '80px', marginBottom: 0 }}></div>\n                                                        </div>\n                                                        <div className={styles.skeletonLine} style={{ marginLeft: '24px', marginTop: '8px' }}></div>\n                                                        <div className={styles.skeletonLineLong} style={{ marginLeft: '24px', width: '120px' }}></div>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        ) : history?.length > 0 ? (\n                                            <div className={styles.historyList}>\n                                                {history.map(renderHistoryItem)}\n                                            </div>\n                                        ) : (\n                                            <div className={styles.emptyState}>\n                                                <div className={styles.emptyIcon}>\n                                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                                        <path d=\"M12 5V19M5 12H19\" stroke=\"#98A2B3\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                                                    </svg>\n                                                </div>\n                                                <p className={styles.emptyText}>No history available yet.</p>\n                                                <p className={styles.emptySubtext}>\n                                                    Activities like notes, tasks, emails, and SMS will appear here.\n                                                </p>\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            </Col>\n                        </Row>\n                    </div>\n                </Modal.Body>\n\n                <Modal.Footer className={styles.modalFooter}>\n                    <div className={styles.footerLeft}>\n                        <div className={styles.assignedTo}>\n                            <span className={styles.assignedLabel}>Assigned To</span>\n                            {managers && managers.length > 0 ? (\n                                <AvatarGroup className={styles.avatarGroup}>\n                                    {managers.slice(0, 3).map((manager, index) => (\n                                        <OverlayTrigger\n                                            key={`${manager.id || manager.email}-${index}`}\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id={`tooltip-${manager.id || index}`}>\n                                                    {manager.full_name || `${manager.first_name || ''} ${manager.last_name || ''}`.trim()}\n                                                </Tooltip>\n                                            }\n                                        >\n                                            <Avatar\n                                                shape=\"circle\"\n                                                image={manager.has_photo && manager.photo ? manager.photo : null}\n                                                label={!manager.has_photo || !manager.photo ? (\n                                                    <small>{manager.alias_name || (manager.full_name ? manager.full_name.split(' ').map(n => n[0]).join('').toUpperCase() : '')}</small>\n                                                ) : null}\n                                                style={{ \n                                                    background: '#fff', \n                                                    border: '1px solid #dedede',\n                                                    width: '32px',\n                                                    height: '32px',\n                                                    fontSize: '12px'\n                                                }}\n                                            />\n                                        </OverlayTrigger>\n                                    ))}\n                                    {managers.length > 3 && (\n                                        <OverlayTrigger\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id=\"tooltip-more\">\n                                                    {managers.slice(3).map(m => m.full_name || `${m.first_name || ''} ${m.last_name || ''}`.trim()).join(', ')}\n                                                </Tooltip>\n                                            }\n                                        >\n                                            <Avatar\n                                                label={`+${managers.length - 3}`}\n                                                shape=\"circle\"\n                                                style={{ \n                                                    background: '#f2f4f7', \n                                                    border: '1px solid #dedede',\n                                                    width: '32px',\n                                                    height: '32px',\n                                                    fontSize: '12px',\n                                                    color: '#344054'\n                                                }}\n                                            />\n                                        </OverlayTrigger>\n                                    )}\n                                </AvatarGroup>\n                            ) : (\n                                <span className={styles.noManager}></span>\n                            )}\n                        </div>\n\n                        <button\n                            className={styles.footerActionButton}\n                            onClick={handleDuplicate}\n                            disabled={isProcessingDuplicate || isProcessingLost || isProcessingWon}\n                        >\n                            Duplicate\n                            {\n                                isProcessingDuplicate ? (\n                                    <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"4\" />\n                                ) : (\n                                    <Files size={16} />\n                                )\n                            }\n                        </button>\n                        <Link to={`/sales/quote-calculation/${projectId}`} target=\"_blank\" className={styles.calculationButton}>\n                            Calculation\n                            <PlusSlashMinus color=\"#FDB022\" size={16} />\n                        </Link>\n                        <FilesModel projectId={projectId} />\n                    </div>\n\n                    <div className={styles.footerRight}>\n                        <button\n                            className={styles.lostButton}\n                            onClick={handleMarkLost}\n                            disabled={isProcessingLost || isProcessingWon}\n                        >\n                            Lost\n                            {isProcessingLost ? (\n                                <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"4\" />\n                            ) : (\n                                <XCircle size={16} />\n                            )}\n                        </button>\n                        <button\n                            className={styles.wonButton}\n                            onClick={handleMarkWon}\n                            disabled={isProcessingWon || isProcessingLost}\n                        >\n                            Won\n                            {isProcessingWon ? (\n                                <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"4\" />\n                            ) : (\n                                <CheckCircle size={16} />\n                            )}\n                        </button>\n                    </div>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default SalesHistory;\n","import React, { useState, useEffect } from 'react';\nimport { FileEarmarkPlus, PlusLg, CheckLg } from 'react-bootstrap-icons';\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Popover from '@mui/material/Popover';\nimport Typography from '@mui/material/Typography';\nimport Form from 'react-bootstrap/Form';\nimport { fetchSales, fetchSalesNotes } from \"../../../../../APIs/SalesApi\";\n\nconst SalesNote = ({ saleUniqueId, noteData, onNoteUpdate, refreshData }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [noteText, setNoteText] = useState(noteData || '');\n  const [isEditMode, setIsEditMode] = useState(!noteData);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const MAX_LENGTH = 2000;\n  const MIN_LENGTH = 3;\n\n  const validateNote = (text) => {\n    if (!text.trim()) return 'Note is required';\n    if (text.length < MIN_LENGTH) return `Note must be at least ${MIN_LENGTH} characters`;\n    if (text.length > MAX_LENGTH) return `Note must not exceed ${MAX_LENGTH} characters`;\n    return '';\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setError('');\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    setNoteText(noteData || ''); // Reset to original note on close\n    setError('');\n    setIsEditMode(!noteData); // Reset edit mode based on whether there's existing note\n  };\n\n  const handleNoteChange = (e) => {\n    const value = e.target.value;\n    setNoteText(value);\n    const validationError = validateNote(value);\n    setError(validationError);\n  };\n\n  const handleSave = async () => {\n    const validationError = validateNote(noteText);\n    if (validationError) {\n      setError(validationError);\n      return;\n    }\n\n    if (!saleUniqueId) {\n      setError('Sale ID is missing');\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await fetchSalesNotes(saleUniqueId, noteText.trim());\n      await fetchSales();\n      if (onNoteUpdate) onNoteUpdate(noteText.trim());\n      setIsEditMode(false);\n      handleClose();\n      refreshData();\n    } catch (error) {\n      console.error('Error saving note:', error);\n      setError(error.message || 'Failed to save note. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const open = Boolean(anchorEl);\n  useEffect(()=> {\n    if (noteData) setNoteText(noteData);\n  }, [noteData]);\n\n  return (\n    <>\n      <div \n        className={`saleNoteBorder noteInfo ${noteText ? \"Yes\" : \"No\"}`} \n        aria-describedby={open ? 'simple-popover' : undefined} \n        onClick={handleClick}\n      >\n        {noteText ? (\n          <span style={{ cursor: 'pointer' }} onClick={() => setIsEditMode(true)}>\n            Note <CheckLg color=\"#17B26A\" size={16} />\n          </span>\n        ) : (\n          <strong>\n            <span style={{ cursor: 'pointer' }}>\n              Note <PlusLg color=\"#667085\" size={16} />\n            </span>\n          </strong>\n        )}\n      </div>\n\n      <Popover\n        id=\"simple-popover\"\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        PaperProps={{\n          style: { width: '640px' },\n          id: 'popoverStyleChange'\n        }}\n      >\n        <Form onSubmit={(e) => { e.preventDefault(); handleSave(); }}>\n          <div className='popoverHead popoverHeadflex salesTableWrap'>\n            <span>\n              <div className='iconOutStyle'>\n                <div className='iconinStyle'>\n                  <div className='iconinnerStyle'>\n                    <FileEarmarkPlus color=\"#17B26A\" size={24} />\n                  </div>\n                </div>\n              </div>\n              Add Note\n            </span>\n            <IconButton \n              className=\"popupcrossInfo\" \n              size=\"small\" \n              onClick={handleClose}\n              disabled={isLoading}\n            >\n              <CloseIcon />\n            </IconButton>\n          </div>\n\n          <div className='popupcrossInfomain'>\n            <Typography sx={{ p: '16px 24px 24px 24px' }}>\n              <h3>Note <span className=\"required\">*</span></h3>\n              <Form.Control\n                id='placeholderColor'\n                as=\"textarea\"\n                placeholder=\"Enter a description...\"\n                style={{ height: '157px' }}\n                value={noteText}\n                onChange={handleNoteChange}\n                maxLength={MAX_LENGTH}\n                className={error ? 'error-border' : ''}\n              />\n              <div className=\"d-flex justify-content-between mt-1\">\n                <small className={error ? 'error-message' : 'text-muted'}>\n                  {error || `${noteText.length}/${MAX_LENGTH} characters`}\n                </small>\n              </div>\n            </Typography>\n          </div>\n\n          <div className='popoverbottom popoverendflex'>\n            <Button \n              className='closebox' \n              onClick={handleClose}\n              disabled={isLoading}\n            >\n              Cancel\n            </Button>\n            <Button \n              className='savebox' \n              onClick={handleSave}\n              disabled={isLoading || !!error}\n            >\n              {isLoading ? 'Saving...' : 'Save'}\n            </Button>\n          </div>\n        </Form>\n      </Popover>\n    </>\n  );\n};\n\nexport default SalesNote;","import React, { useState } from 'react';\nimport { PlusLg, ExclamationOctagon } from \"react-bootstrap-icons\";\nimport { useNavigate } from 'react-router-dom';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport Modal from '@mui/material/Modal';\nimport Typography from '@mui/material/Typography';\nimport NewQuoteImg from \"../../../../../assets/images/img/newQuote.png\";\n\nconst BankDetailsModel = () => {\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const navigate = useNavigate();\n\n  const handleAdd = () => {\n    navigate(\"/settings/generalinformation/bank-details\");\n    handleClose();\n  };\n\n  return (\n    <>\n      <Button onClick={handleOpen} className=\"addNewBilling p-0\">\n        <div className={`styleGrey01 tabActive`}>\n          <span style={{ fontWeight: 400, textTransform: 'capitalize' }}>Quote New Project</span> <PlusLg color=\"#fff\" size={16} />\n        </div>\n      </Button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\">\n        <Box className=\"modelStyleBoxstatus NewQuoteModal\" sx={{ width: 732 }}>\n          <Typography id=\"modal-modal-title\" className={``} variant=\"h6\" component=\"h2\">\n            <>\n              <div className='modelHeader modelHeaderBillig d-flex justify-content-between align-items-start'>\n                <span className='modelHeadFlex'>\n                  <div className='iconinnerStyle1'>\n                    <ExclamationOctagon color=\"#F04438\" size={24} />\n                  </div>\n                  <h2>Complete Your Profile to Proceed</h2>\n                </span>\n                <IconButton\n                  edge=\"end\"\n                  color=\"inherit\"\n                  onClick={handleClose}\n                  aria-label=\"close\">\n                  <CloseIcon color=\"#667085\" size={24} />\n                </IconButton>\n              </div>\n              <div className='stepBoxStyle '>\n                <img src={NewQuoteImg} alt=\"NewQuoteImg\" />\n                <div className='newQuotewrap'>\n                  <h3>Bank Details Required</h3>\n                  <p>Before creating a new request, please ensure you have filled in your bank details. This is necessary to process your transactions smoothly. You can add your bank information by navigating to your profile settings. </p>\n                </div>\n              </div>\n              <div className='footerButton'>\n                <button className='Cancel' onClick={handleClose}>Cancel and Return</button>\n                <Button className='save' onClick={handleAdd}>Add Bank Details</Button>\n              </div>\n            </>\n          </Typography>\n        </Box>\n      </Modal>\n    </>\n  );\n};\n\nexport default BankDetailsModel;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport \"flatpickr/dist/themes/material_green.css\";\nimport Flatpickr from \"react-flatpickr\";\n\nconst DateRangePicker = ({ onDataApply }) => {\n  const [selectedDates, setSelectedDates] = useState([]);\n  const calendarRef = useRef(null);\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n  const [, setIsApplying] = useState(false);\n  const [formattedCurrentDate, setFormattedCurrentDate] = useState(\"\");\n\n  useEffect(() => {\n    const currentDate = new Date();\n    const formattedDate = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${currentDate.getDate().toString().padStart(2, '0')}`;\n    setFormattedCurrentDate(formattedDate);\n  }, []);\n\n  const handleChange = (selectedDates) => {\n    setSelectedDates(selectedDates);\n  };\n\n  useEffect(() => {\n    if (selectedDates.length === 2) {\n      const startDate = selectedDates[0];\n      const endDate = selectedDates[1];\n      setStartDate(startDate);\n      setEndDate(endDate);\n    }\n  }, [selectedDates]);\n\n  const updateCustomDiv = () => {\n    const existingCustomDiv = document.querySelector(\".custom-div p\");\n    if (startDate && endDate) {\n      if (existingCustomDiv) {\n        existingCustomDiv.textContent = `${startDate.toISOString().split('T')[0]} - ${endDate.toISOString().split('T')[0]}`;\n      }\n    }\n  };\n\n  const handleApply = () => {\n    updateCustomDiv();\n    setIsApplying(true);\n    onDataApply({ startDate, endDate });\n    const taggingElement = document.querySelector(\".tags-input-container .rangedatepicker .mainWrapperTags\");\n    if (taggingElement) {\n      taggingElement.textContent = `${startDate.toISOString().split('T')[0]} - ${endDate.toISOString().split('T')[0]}`;\n    }\n\n  };\n\n  const handleCancel = () => {\n    setSelectedDates([]);\n    setStartDate(null);\n    setEndDate(null);\n    setIsApplying(false);\n\n    const existingCustomDiv = document.querySelector(\".custom-div p\");\n    if (existingCustomDiv) {\n      existingCustomDiv.textContent = `${formattedCurrentDate}`;\n    }\n  };\n\n  const flatpickrOptions = {\n    dateFormat: \"Y-m-d\",\n    mode: \"range\",\n    inline: true\n  };\n\n  useEffect(() => {\n    if (!startDate && !endDate) {\n      const currentDate = new Date();\n      setStartDate(currentDate);\n      setEndDate(currentDate);\n    } else if (startDate && endDate) {\n      const options = { year: 'numeric', month: 'short', day: 'numeric' };\n      const start = new Date(startDate);\n      const formattedStartDate = start.toLocaleDateString('en-US', options);\n      const end = new Date(endDate);\n      const formattedEndDate = end.toLocaleDateString('en-US', options);\n\n      const textContent = `${formattedStartDate} - ${formattedEndDate}`;\n      const newContent = `<p>${textContent}</p><span class=\"today-span\" style=\"cursor: pointer\">Today</span>`;\n      const monthsElement = document.querySelector(\".flatpickr-months\");\n      if (monthsElement) {\n        const existingCustomDiv = document.querySelector(\".custom-div\");\n        if (existingCustomDiv) {\n          existingCustomDiv.innerHTML = newContent;\n        } else {\n          const customDiv = document.createElement('div');\n          customDiv.className = \"custom-div\";\n          customDiv.innerHTML = newContent;\n          monthsElement.parentNode.insertBefore(customDiv, monthsElement.nextSibling);\n        }\n      }\n    }\n  }, [startDate, endDate]);\n\n  const handleTodayClick = () => {\n    const currentDate = new Date();\n    setSelectedDates([currentDate, currentDate]);\n  };\n\n  useEffect(() => {\n    const todaySpan = document.querySelector(\".today-span\");\n    if (todaySpan) {\n      todaySpan.addEventListener(\"click\", handleTodayClick);\n    }\n\n    return () => {\n      if (todaySpan) {\n        todaySpan.removeEventListener(\"click\", handleTodayClick);\n      }\n    };\n  }, [startDate, endDate]);\n\n  return (\n    <div>\n      <Flatpickr\n        options={flatpickrOptions}\n        value={selectedDates}\n        onChange={handleChange}\n        ref={calendarRef}\n      />\n      <div className=\"calenderBut\">\n        <button className=\"tabCancel\" onClick={handleCancel}>Cancel</button>\n        <button className=\"tabApply\" onClick={handleApply}>Apply</button>\n      </div>\n    </div>\n  );\n};\n\nexport default DateRangePicker;\n","import React from 'react';\nimport { Search } from 'react-bootstrap-icons';\n\nconst SearchFilter = ({ setInputValue, inputValue }) => {\n  return (\n    <div>\n      <span className='mr-3'>\n        <Search color='#98A2B3' size={20} />\n      </span>\n      <input\n        type=\"text\"\n        placeholder=\"Search\"\n        value={inputValue}\n        onChange={(e) => setInputValue(e.target.value)}\n      />\n    </div>\n  );\n};\n\nexport default SearchFilter;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  X,\n  Filter,\n  Check,\n  ViewStacked,\n  CalendarWeek,\n  BarChartSteps,\n  XCircle,\n  Download,\n  CheckCircle,\n  Person,\n  PlusLg,\n} from \"react-bootstrap-icons\";\nimport { NavLink, useSearchParams } from \"react-router-dom\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { useDebounce } from \"primereact/hooks\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport { toast } from 'sonner';\nimport BankDetailsModel from \"./features/bank-details-model\";\nimport DateRangePicker from \"./features/date-range-picker\";\nimport { mapSalesData } from \"./sales-tables\";\nimport SearchFilter from \"./search-filter\";\nimport { getProjectManager } from \"../../../../APIs/ClientsApi\";\nimport { fetchMultipleLost } from \"../../../../APIs/SalesApi\";\nimport { fetchMultipleData } from \"../../../../APIs/SalesApi\";\nimport { formatAUD } from \"../../../../shared/lib/format-aud\";\nimport ImageAvatar from \"../../../../ui/image-with-fallback/image-avatar\";\nimport ConfettiComponent from \"../../../layout/ConfettiComponent\";\n\nconst leadArray = [\n  {\n    percentage: 10,\n    label: \"Lead\",\n    gradient: \"linear-gradient(90deg, #1AB2FF 10%, transparent 10%)\",\n  },\n  {\n    percentage: 20,\n    label: \"Prospect\",\n    gradient: \"linear-gradient(90deg, #1AB2FF 20%, transparent 20%)\",\n  },\n  {\n    percentage: 40,\n    label: \"Proposal sent\",\n    gradient: \"linear-gradient(90deg, #1AB2FF 40%, transparent 40%)\",\n  },\n  {\n    percentage: 60,\n    label: \"Negotiation\",\n    gradient: \"linear-gradient(90deg, #1AB2FF 60%, transparent 60%)\",\n  },\n  {\n    percentage: 80,\n    label: \"Awaiting approval\",\n    gradient: \"linear-gradient(90deg, #1AB2FF 80%, transparent 80%)\",\n  },\n];\n\nconst TableTopBar = ({\n  profileData,\n  salesData,\n  removeRowMulti,\n  selectedUniqueIds,\n  onRowsFilterChange,\n  rows,\n  setSelectedRows,\n  selectedRow,\n  selectedRowCount,\n}) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchParamValue = searchParams.get('search');\n  const targetId = searchParams.get('targetId');\n  const [totalAmount, setTotalAmount] = useState(0);\n  const [avgProgress, setAvgProgress] = useState(0);\n  const [progressWiseAmountAvg, setProgressWiseAmountAvg] = useState(0);\n  const [key, setKey] = useState(\"DateRange\");\n  const [filter, setFilters] = useState({});\n  const [filterState, setFilterState] = useState({});\n  const [buttonClicked, setButtonClicked] = useState(false);\n  const [confetti, setConfetti] = useState(false);\n  const filterDropdownRef = useRef(null);\n  const [inputValue, debouncedValue, setInputValue] = useDebounce('', 400);\n  const [shouldHighlight, setShouldHighlight] = useState(false);\n\n  const projectManagerQuery = useQuery({ queryKey: ['project-manager'], queryFn: getProjectManager });\n\n  const handleMoveToWon = async () => {\n    try {\n      if (selectedUniqueIds) {\n        const success = await fetchMultipleData(selectedUniqueIds);\n        if (success) {\n          setSelectedRows([]);\n          removeRowMulti();\n          setConfetti(true);\n          document.querySelector('.management-notification').style.display = 'block';\n          let count = parseInt(document.querySelector('.management-notification-count').innerText || 0);\n          document.querySelector('.management-notification-count').innerHTML = count + selectedUniqueIds.length;\n          toast.success(\"Successfully moved to Management!\");\n        } else {\n          toast.error(\"Failed to move to Management. Please try again.\");\n        }\n      }\n    } catch (error) {\n      toast.error(\"An error occurred. Please try again.\");\n    }\n  };\n\n  const handleMoveToLost = async () => {\n    try {\n      if (selectedUniqueIds) {\n        const success = await fetchMultipleLost(selectedUniqueIds);\n        if (success) {\n          setSelectedRows([]);\n          removeRowMulti();\n          setConfetti(true);\n          toast.success(\"Sale request has been updated to Lost!\");\n        } else {\n          toast.error(\"Failed to update to Lost. Please try again.\");\n        }\n      }\n    } catch (error) {\n      toast.error(\"An error occurred. Please try again.\");\n    }\n  };\n\n  const startFilter = (state) => {\n    let filteredRows = mapSalesData(salesData);\n    if (state?.dateRange) {\n      const [startDate, endDate] = state.dateRange;\n      filteredRows = rows.filter((item) => {\n        const itemDate = new Date(\n          parseInt(item.created) * 1000\n        ).toLocaleDateString(\"en-CA\");\n        return itemDate >= startDate && itemDate <= endDate;\n      });\n    }\n\n    if (state?.progress) {\n      filteredRows = filteredRows.filter((item) =>\n        state?.progress?.includes(item.progressName)\n      );\n    }\n\n    if (state.statuses?.length > 0) {\n      filteredRows = filteredRows.filter((item) =>\n        state?.statuses?.includes(item?.Status)\n      );\n    }\n\n    if (state?.projectManager?.length > 0) {\n      filteredRows = filteredRows.filter((item) =>\n        item?.User?.map((user) => user?.full_name).some((name) =>\n          state?.projectManager?.includes(name)\n        )\n      );\n    }\n\n    filteredRows = filteredRows.filter((item) => {\n      if (\n        (item?.Client?.toLowerCase().includes(debouncedValue?.toLowerCase()))\n        ||\n        (item?.Quote?.toLowerCase().includes(debouncedValue?.toLowerCase()))\n        ||\n        (item?.Reference?.toLowerCase().includes(debouncedValue?.toLowerCase()))\n      ) return true;\n      else return false;\n    });\n\n    onRowsFilterChange(filteredRows);\n  };\n\n  const handleDataApply = (data) => {\n    const formatDate = (date) =>\n      date ? new Date(date).toLocaleDateString(\"en-CA\") : \"\";\n\n    const startDate = formatDate(data.startDate);\n    const endDate = formatDate(data.endDate);\n    const newRange = `${startDate} - ${endDate}`;\n    setFilters({ ...filter, dateRange: [newRange] });\n\n    let state = { ...filterState };\n    state.dateRange = [startDate, endDate];\n    setFilterState(state);\n    startFilter(state);\n    setButtonClicked(false);\n  };\n\n  const handleProgressChange = (label) => {\n    setFilterState((prevFilterState) => {\n      const prevProgress = prevFilterState.progress || [];\n      if (prevProgress?.includes(label)) {\n        return {\n          ...prevFilterState,\n          progress: prevProgress.filter((item) => item !== label),\n        };\n      } else {\n        return {\n          ...prevFilterState,\n          progress: [...prevProgress, label],\n        };\n      }\n    });\n  };\n\n  const applyProgressFilters = () => {\n    const progressItems = filterState.progress || [];\n    setFilters({ ...filter, progress: progressItems });\n    startFilter(filterState);\n    setButtonClicked(false);\n  };\n\n  const clearProgressFilters = () => {\n    setFilterState((prevFilterState) => {\n      const { progress, ...rest } = prevFilterState;\n      return rest;\n    });\n  };\n\n  const handleStatusChange = (status) => {\n    setFilterState((prevFilterState) => {\n      const prevStatuses = prevFilterState.statuses || [];\n      if (prevStatuses?.includes(status)) {\n        return {\n          ...prevFilterState,\n          statuses: prevStatuses.filter((item) => item !== status),\n        };\n      } else {\n        return {\n          ...prevFilterState,\n          statuses: [...prevStatuses, status],\n        };\n      }\n    });\n  };\n\n  const applyStatusFilters = () => {\n    const newFilterState = { ...filterState };\n    setFilterState(newFilterState);\n    startFilter(newFilterState);\n    setFilters({ ...filter, statuses: newFilterState.statuses });\n    setButtonClicked(false);\n  };\n\n  const clearStatusFilters = () => {\n    setFilterState((prevFilterState) => {\n      const { statuses, ...rest } = prevFilterState;\n      return rest;\n    });\n  };\n\n  const handleProjectManagerChange = (projectManager) => {\n    setFilterState((prevFilterState) => {\n      const prevProjectManager = prevFilterState.projectManager || [];\n      if (prevProjectManager?.includes(projectManager)) {\n        return {\n          ...prevFilterState,\n          projectManager: prevProjectManager.filter((item) => item !== projectManager),\n        };\n      } else {\n        return {\n          ...prevFilterState,\n          projectManager: [...prevProjectManager, projectManager],\n        };\n      }\n    });\n  };\n\n  const applyProjectManagerFilters = () => {\n    const newFilterState = { ...filterState };\n    setFilterState(newFilterState);\n    startFilter(newFilterState);\n    setFilters({ ...filter, projectManager: newFilterState.projectManager });\n    setButtonClicked(false);\n  };\n\n  const clearProjectManagerFilters = () => {\n    console.log('...');\n    setFilterState((prevFilterState) => {\n      const { projectManager, ...rest } = prevFilterState;\n      return rest;\n    });\n  };\n\n  const handleRemoveTag = (group, itemName) => {\n    const newFilters = { ...filter };\n    const newItems = newFilters[group].filter((item) => item !== itemName);\n    newFilters[group] = newItems;\n    setFilters(newFilters);\n    setFilterState({ ...filterState, [group]: newItems });\n    startFilter({ ...filterState, [group]: newItems });\n  };\n\n  const handleRemoveGroup = (groupName) => {\n    const newFilters = { ...filter };\n    delete newFilters[groupName];\n    setFilters(newFilters);\n\n    const newFilterState = { ...filterState };\n    delete newFilterState[groupName];\n    setFilterState(newFilterState);\n    startFilter(newFilterState);\n  };\n\n  const formattedAmount = formatAUD(totalAmount);\n  useEffect(() => {\n    if (rows?.length) {\n      const calculatedFilterAmount = rows.reduce(\n        (total, sale) => total + sale.amountData,\n        0\n      );\n\n      const avgProgress = rows.reduce((total, sale) => Number(total) + Number(sale?.progressPercentage || 0), 0) / rows.length;\n      const progressWiseAmountAvg = rows.reduce((total, sale) => Number(total) + (Number(sale?.progressPercentage || 0) / 100) * Number(sale?.amountData || 0), 0);\n\n      setProgressWiseAmountAvg(progressWiseAmountAvg);\n      setAvgProgress(parseInt(avgProgress));\n      setTotalAmount(calculatedFilterAmount);\n    }\n  }, [rows]);\n\n\n  const handleButtonClick = () => {\n    setButtonClicked(!buttonClicked);\n  };\n\n  // When Click outside then close dropdown\n  useEffect(() => {\n    const handleOutsideClick = (event) => {\n      if (\n        filterDropdownRef.current &&\n        !filterDropdownRef.current.contains(event.target)\n      ) {\n        if (!event.target.closest(\".tab-content,.nav-tabs\")) {\n          setButtonClicked(false);\n        }\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleOutsideClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\n    };\n  }, []);\n\n  useEffect(() => {\n    startFilter(filterState);\n  }, [debouncedValue]);\n\n  // Handle search from notification redirect\n  useEffect(() => {\n    if (searchParamValue && targetId) {\n      setInputValue(searchParamValue);\n      setShouldHighlight(true);\n    }\n  }, [searchParamValue, targetId, setInputValue]);\n\n  // Wait for debounced value to change and data to load, then highlight\n  useEffect(() => {\n    if (!shouldHighlight || !targetId || debouncedValue !== searchParamValue) return;\n\n    const highlightAndScroll = (row) => {\n      row.classList.add('highlight-row');\n      \n      // Scroll within the table container without affecting page scroll\n      setTimeout(() => {\n        const tableContainer = row.closest('.table-responsive, .salesTableWrap');\n        if (tableContainer) {\n          const rowTop = row.offsetTop;\n          const containerHeight = tableContainer.clientHeight;\n          const scrollPosition = rowTop - (containerHeight / 2) + (row.clientHeight / 2);\n          tableContainer.scrollTo({ top: scrollPosition, behavior: 'smooth' });\n        }\n      }, 100);\n      \n      setTimeout(() => {\n        row.classList.remove('highlight-row');\n        setShouldHighlight(false);\n        const newSearchParams = new URLSearchParams(searchParams);\n        newSearchParams.delete('search');\n        newSearchParams.delete('targetId');\n        setSearchParams(newSearchParams, { replace: true });\n      }, 6000);\n    };\n\n    const attemptHighlight = (delay, isRetry = false) => {\n      return setTimeout(() => {\n        const targetRow = document.querySelector(`.row-id-${targetId}`);\n        if (targetRow) {\n          highlightAndScroll(targetRow);\n        } else if (!isRetry) {\n          const retryTimer = attemptHighlight(1500, true);\n          return () => clearTimeout(retryTimer);\n        } else {\n          setShouldHighlight(false);\n          console.warn('Target row not found:', targetId);\n        }\n      }, delay);\n    };\n\n    const timer = attemptHighlight(800);\n    return () => clearTimeout(timer);\n  }, [shouldHighlight, targetId, debouncedValue, searchParamValue, searchParams, setSearchParams]);\n\n  return (\n    <>\n      <div\n        className={`${selectedRowCount ? \"selected-row\" : \"\"\n          } flexbetween paddingLR tableTopBar tableTopBarSales`}\n        style={{ borderBottom: \"1px solid #f2f2f2\" }}\n      >\n        {!selectedRow || selectedRow?.length === 0 ? (\n          <Container fluid>\n            <Row style={{ display: \"flex\", alignItems: \"center\" }}>\n              <Col\n                style={{\n                  textAlign: \"left\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                }}\n              >\n                <div className=\"filterDropDown\" onClick={handleButtonClick}>\n                  <Button ref={filterDropdownRef} variant=\"link\">\n                    {buttonClicked ? (\n                      <Filter color=\"#344054\" size={20} />\n                    ) : (\n                      <Filter color=\"#344054\" size={20} />\n                    )}\n                  </Button>\n                </div>\n                <div className=\"filterSearch\">\n                  <SearchFilter\n                    setInputValue={setInputValue}\n                    inputValue={inputValue}\n                  />\n                </div>\n              </Col>\n              <Col>\n                <div className=\"centerTabSales\">\n                  <ul>\n                    <li>\n                      <NavLink to=\"#\">Sales</NavLink>\n                    </li>\n                    <li>\n                      {profileData?.bank_detail?.account_number ? (\n                        <NavLink\n                          className=\"tabActive\"\n                          to=\"/sales/newquote/selectyourclient\"\n                        >\n                          <span style={{ fontWeight: 400 }}>Quote New Project</span> <PlusLg color=\"#fff\" size={16} />\n                        </NavLink>\n                      ) : (\n                        <BankDetailsModel />\n                      )}\n                    </li>\n                  </ul>\n                </div>\n              </Col>\n              <Col style={{ textAlign: \"right\" }}>\n                {salesData && salesData?.length > 0 ? (\n                  <p className=\"flexEndStyle styleT3\">\n                    Total{\" \"}\n                    <span className=\"styleT2\" style={{ whiteSpace: 'nowrap' }}>\n                      {rows?.length ? (\n                        <> {rows?.length}</>\n                      ) : (\n                        <>{salesData?.length} </>\n                      )}{\" \"}\n                      Sales\n                    </span>\n                    <strong className=\"styleT1\">\n                      $\n                      {formattedAmount !== null &&\n                        formattedAmount !== undefined &&\n                        formattedAmount > 0 ? (\n                        <>{formattedAmount}</>\n                      ) : (\n                        <>{formattedAmount}</>\n                      )}\n                    </strong>\n                    <div style={{ width: '60px', height: '12px', background: '#EAECF0', borderRadius: '20px', marginLeft: '8px' }}>\n                      <div style={{ width: `${avgProgress || 0}%`, height: '100%', background: '#1AB2FF', borderRadius: '20px' }}></div>\n                    </div>\n                    <span className=\"font-14\" style={{ fontWeight: 500, margin: '0px 8px 0px 12px', color: '#344054' }}>{avgProgress || 0}%</span>\n                    <strong className=\"styleT1\">${formatAUD(progressWiseAmountAvg || 0)}</strong>\n                  </p>\n                ) : (\n                  <p className=\"flexEndStyle styleT3\">\n                    Total <span className=\"styleT2\">0 Sales</span>{\" \"}\n                    <strong className=\"styleT1\">$0.00</strong>\n                  </p>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        ) : (\n          <Container fluid>\n            <Row style={{ display: \"flex\", alignItems: \"center\" }}>\n              <Col\n                style={{\n                  textAlign: \"left\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                }}\n              >\n                <span className=\"styleT4\">Selected: {selectedRowCount}</span>\n                <ul className=\"filterBtn\">\n                  <li>\n                    <Button variant=\"lostFilter\" onClick={handleMoveToLost}>\n                      Lost\n                      <XCircle color=\"#D92D20\" size={20} />\n                    </Button>\n                    <ConfettiComponent active={confetti} config={{}} />\n                  </li>\n                  <li>\n                    {\" \"}\n                    <Button variant=\"wonFilter\" onClick={handleMoveToWon}>\n                      Won\n                      <CheckCircle color=\"#079455\" size={20} />\n                    </Button>\n                    <ConfettiComponent\n                      active={confetti}\n                      config={\n                        {\n                          /* customize confetti config */\n                        }\n                      }\n                    />\n                  </li>\n                  <li>\n                    <Button variant=\"downloadBtn\">\n                      <Download color=\"#344054\" size={20} />\n                    </Button>\n                  </li>\n                </ul>\n              </Col>\n              <Col></Col>\n              <Col style={{ textAlign: \"right\" }}>\n                {salesData && salesData?.length > 0 ? (\n                  <p className=\"flexEndStyle styleT3\">\n                    Total{\" \"}\n                    <span className=\"styleT2\">\n                      {rows?.length ? (\n                        <> {rows?.length}</>\n                      ) : (\n                        <>{salesData?.length} </>\n                      )}{\" \"}\n                      Sales\n                    </span>\n                    <strong className=\"styleT1\">\n                      $\n                      {formattedAmount !== null &&\n                        formattedAmount !== undefined &&\n                        formattedAmount > 0 ? (\n                        <>{formattedAmount}</>\n                      ) : (\n                        <>{formattedAmount}</>\n                      )}\n                    </strong>\n                  </p>\n                ) : (\n                  <p className=\"flexEndStyle styleT3\">\n                    Total <span className=\"styleT2\">0 Sales</span>{\" \"}\n                    <strong className=\"styleT1\">$0.00</strong>\n                  </p>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        )}\n      </div>\n\n      {buttonClicked && (\n        <Tabs\n          id=\"controlled-tab-example\"\n          activeKey={key}\n          onSelect={(k) => setKey(k)}\n          className=\"filtterBoxWrapper\"\n        >\n          <Tab\n            eventKey=\"DateRange\"\n            title={\n              <>\n                <CalendarWeek color=\"#667085\" size={16} /> Date Range\n              </>\n            }\n          >\n            <ul>\n              <DateRangePicker onDataApply={handleDataApply} />\n            </ul>\n          </Tab>\n\n          <Tab\n            eventKey=\"Progress\"\n            title={\n              <>\n                <BarChartSteps color=\"#667085\" size={16} /> Progress\n              </>\n            }\n          >\n            <ul>\n              <div style={{ maxHeight: \"350px\", overflow: \"auto\" }}>\n                {leadArray.map((item, index) => (\n                  <li\n                    key={index}\n                    className={\n                      filterState?.progress?.includes(item.label)\n                        ? \"checkedList\"\n                        : \"\"\n                    }\n                  >\n                    <label className=\"customCheckBox\">\n                      <div className=\"userName\">\n                        <div className=\"ProgressTag\">\n                          <div\n                            className=\"option\"\n                            data-percentage={item.percentage}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              value={item.label}\n                              checked={filterState?.progress?.includes(\n                                item.label\n                              )}\n                              onChange={() => handleProgressChange(item.label)}\n                            />\n                            <span className=\"checkmark\">\n                              <Check color=\"#1ab2ff\" size={20} />\n                            </span>\n                            <div className=\"progressWrapper\">\n                              <div className=\"labelInfo\">\n                                <strong>{item.label}</strong>\n                                <div className=\"progress-light-grey\">\n                                  <div\n                                    className=\"progress-container progress-color progress-center\"\n                                    style={{ background: item.gradient }}\n                                    aria-valuenow={item.percentage}\n                                    aria-valuemin=\"0\"\n                                    aria-valuemax=\"100\"\n                                  >\n                                    <span>{item.percentage}%</span>\n                                  </div>\n                                </div>\n                              </div>\n                              <label>{item.percentage}%</label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </label>\n                  </li>\n                ))}\n              </div>\n              <Row className=\"buttomBottom d-flex justify-content-between align-items-center\">\n                <Col className=\"pr-2\">\n                  <Button variant=\"tabContent tabCancel\" onClick={clearProgressFilters}>\n                    Cancel\n                  </Button>\n                </Col>\n                <Col>\n                  <Button\n                    variant=\"tabContent tabApply\"\n                    onClick={applyProgressFilters}\n                  >\n                    Apply\n                  </Button>\n                </Col>\n              </Row>\n            </ul>\n          </Tab>\n\n          <Tab\n            eventKey=\"Status\"\n            title={\n              <>\n                <ViewStacked color=\"#667085\" size={16} />\n                Status\n              </>\n            }\n          >\n            <ul>\n              <div style={{ maxHeight: \"350px\", overflow: \"auto\" }}>\n                {['Draft', 'Saved', 'Sent', 'Accepted', 'Recurring', 'Review', 'Declined', 'Required'].map((itemName, index) => (\n                  <li\n                    key={index}\n                    className={\n                      filterState?.statuses?.includes(itemName) ? \"checkedList\" : \"\"\n                    }\n                  >\n                    <label className={`customCheckBox ${itemName}`}>\n                      <input\n                        type=\"checkbox\"\n                        value={itemName}\n                        checked={filterState?.statuses?.includes(itemName)}\n                        onChange={() => handleStatusChange(itemName)}\n                      />\n                      <span className=\"checkmark\">\n                        <Check color=\"#1ab2ff\" size={20} />\n                      </span>\n                      <div className=\"userName\">\n                        <span className={clsx('statusInfo', itemName)}><a>{itemName}</a></span>{\" \"}\n                      </div>\n                    </label>\n                  </li>\n                ))}\n              </div>\n              <Row className=\"buttomBottom d-flex justify-content-between align-items-center\">\n                <Col className=\"pr-2\">\n                  <Button\n                    variant=\"tabContent tabCancel\"\n                    onClick={clearStatusFilters}\n                  >\n                    Cancel\n                  </Button>\n                </Col>\n                <Col>\n                  <Button\n                    variant=\"tabContent tabApply\"\n                    onClick={applyStatusFilters}\n                  >\n                    Apply\n                  </Button>\n                </Col>\n              </Row>\n            </ul>\n          </Tab>\n\n          <Tab\n            eventKey=\"projectManager\"\n            title={\n              <>\n                <Person color=\"#667085\" size={16} />\n                Project Manager\n              </>\n            }\n          >\n            <ul>\n              <div id=\"controlled-tab-example-tabpane-Status\" style={{ maxHeight: \"350px\", overflow: \"auto\" }}>\n                {\n                  projectManagerQuery?.data?.map((itemName, index) => (\n                    <li\n                      key={index}\n                      className={\n                        filterState?.projectManager?.includes(itemName.name) ? \"checkedList\" : \"\"\n                      }\n                    >\n                      <label className={`customCheckBox ${itemName.name}`}>\n                        <input\n                          type=\"checkbox\"\n                          value={itemName.name}\n                          checked={filterState?.projectManager?.includes(itemName.name) || false}\n                          onChange={() => handleProjectManagerChange(itemName.name)}\n                        />\n                        <span className=\"checkmark\">\n                          <Check color=\"#1ab2ff\" size={20} />\n                        </span>\n                        <div className=\"ms-3 d-flex justify-content-center align-items-center\">\n                          <ImageAvatar has_photo={itemName.has_photo} photo={itemName.photo} is_business={false} />\n                          <span className=\"font-14\" style={{ color: '#374151' }}><a>{itemName.name}</a></span>\n                        </div>\n                      </label>\n                    </li>\n                  ))\n                }\n              </div>\n              <Row className=\"buttomBottom d-flex justify-content-between align-items-center\">\n                <Col className=\"pr-2\">\n                  <Button\n                    variant=\"tabContent tabCancel\"\n                    onClick={clearProjectManagerFilters}\n                  >\n                    Cancel\n                  </Button>\n                </Col>\n                <Col>\n                  <Button\n                    variant=\"tabContent tabApply\"\n                    onClick={applyProjectManagerFilters}\n                  >\n                    Apply\n                  </Button>\n                </Col>\n              </Row>\n            </ul>\n          </Tab>\n        </Tabs>\n      )}\n      {Object.keys(filter)?.length > 0 && (\n        <div className=\"mainTagsWrapper\">\n          {Object.entries(filter)?.map(([group, items]) => (\n            <div key={group}>\n              {items?.length > 0 && (\n                <div className=\"tags-input-container\">\n                  <ul>\n                    {items.map((item, index) => (\n                      <li className=\"mainWrapperTags tag-item-wrap\" key={index}>\n                        {item}\n                        {items?.length > 1 && (\n                          <Button\n                            variant=\"link\"\n                            size=\"sm\"\n                            style={{ marginLeft: \"5px\" }}\n                            onClick={() => handleRemoveTag(group, item)}\n                          >\n                            <X color=\"#F96969\" size={15} />\n                          </Button>\n                        )}\n                      </li>\n                    ))}\n                    <Button\n                      variant=\"link\"\n                      size=\"sm\"\n                      style={{ marginLeft: \"0px\" }}\n                      onClick={() => handleRemoveGroup(group)}\n                    >\n                      <X color=\"#F96969\" size={20} />\n                    </Button>\n                  </ul>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default TableTopBar;\n","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport {\n  PlusSlashMinus,\n  FilePdf,\n  Link45deg,\n  Check,\n  Person,\n  PlusLg,\n} from \"react-bootstrap-icons\";\nimport { Resizable } from 'react-resizable';\nimport { Link } from \"react-router-dom\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Avatar } from 'primereact/avatar';\nimport { AvatarGroup } from 'primereact/avatargroup';\nimport { MultiSelect } from \"primereact/multiselect\";\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport Button from \"react-bootstrap/Button\";\nimport { toast } from \"sonner\";\nimport ActionsDots from \"./features/actions-dots\";\nimport ContactSales from \"./features/contact-sales\";\nimport Progress from \"./features/progress\";\nimport QuoteLost from \"./features/quote-lost\";\nimport QuoteWon from \"./features/quote-won\";\nimport RequestChanges from \"./features/request-changes\";\nimport SalesHistory from \"./features/sales-history/sales-history\";\nimport SalesNote from \"./features/sales-note\";\nimport TableTopBar from \"./table-top-bar\";\nimport { assignManagers } from \"../../../../APIs/SalesApi\";\nimport { getUserList } from \"../../../../APIs/task-api\";\nimport { useTrialHeight } from \"../../../../app/providers/trial-height-provider\";\nimport { FallbackImage } from \"../../../../shared/ui/image-with-fallback/image-avatar\";\nimport ImageAvatar from \"../../../../ui/image-with-fallback/image-avatar\";\nimport NoDataFoundTemplate from \"../../../../ui/no-data-template/no-data-found-template\";\n\nconst CustomAvatarGroup = ({ params, userGroups = [], refreshData }) => {\n  const op = useRef(null);\n  const multiSelectRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const assignedUsers = useMemo(() => params?.value || [], [params?.value]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    // Pre-select assigned users when opening the MultiSelect\n    const assignedUsersArray = assignedUsers?.map(user => user?.full_name);\n    const preSelectedUsers = [];\n    userGroups.forEach(group => {\n      group.items.forEach(user => {\n        if (assignedUsersArray.includes(user.first_name + ' ' + user.last_name)) {\n          preSelectedUsers.push(user.id);\n        }\n      });\n    });\n    setSelectedUsers(preSelectedUsers);\n  }, [assignedUsers, userGroups]);\n\n  const handleAvatarGroupClick = (e) => {\n    op.current.toggle(e);\n  };\n\n  const itemTemplate = (user) => (\n    <div className=\"d-flex align-items-center gap-2 py-2\">\n      <div\n        style={{\n          width: '32px',\n          height: '32px',\n          borderRadius: '50%',\n          overflow: 'hidden',\n          border: '1px solid #dedede',\n          background: '#fff',\n          flexShrink: 0,\n        }}\n      >\n        {user.has_photo && user.photo ? (\n          <FallbackImage\n            photo={user.photo}\n            has_photo={user.has_photo}\n            alt={`${user.first_name} ${user.last_name}`}\n            is_business={false}\n            size={32}\n          />\n        ) : (\n          <div className=\"d-flex align-items-center justify-content-center h-100\">\n            <small style={{ fontSize: '12px', color: '#667085' }}>\n              {user.alias_name || `${user.first_name?.[0] || ''}${user.last_name?.[0] || ''}`}\n            </small>\n          </div>\n        )}\n      </div>\n      <div className=\"flex-1\">\n        <div style={{ fontSize: '14px', fontWeight: 500, color: '#344054' }}>\n          {user.first_name} {user.last_name}\n        </div>\n        {user.email && (\n          <div style={{ fontSize: '12px', color: '#667085' }}>{user.email}</div>\n        )}\n      </div>\n    </div>\n  );\n\n  const handleApply = async () => {\n    if (selectedUsers.length === 0) {\n      multiSelectRef.current.hide();\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      await assignManagers(params?.row?.id, selectedUsers);\n      toast.success(\n        selectedUsers.length > 1\n          ? `${selectedUsers.length} managers assigned`\n          : 'Manager assigned successfully'\n      );\n      setSelectedUsers([]);\n      multiSelectRef.current.hide();\n      refreshData && refreshData();\n      setIsLoading(false);\n    } catch (error) {\n      setIsLoading(false);\n      console.error('Assignment failed:', error);\n      toast.error('Failed to assign managers');\n    }\n  };\n\n  const handleCancel = () => {\n    setSelectedUsers([]);\n    multiSelectRef.current.hide();\n  };\n\n  const panelFooter = (\n    <div className=\"d-flex justify-content-end gap-2 p-3 border-top\">\n      <Button className='outline-button py-1' onClick={handleCancel}>Cancel</Button>\n      <Button className='solid-button py-1' onClick={handleApply} disabled={selectedUsers.length === 0}>\n        Apply\n        {isLoading && <ProgressSpinner style={{ width: '16px', height: '16px', marginLeft: '8px' }} strokeWidth=\"4\" />}\n      </Button>\n    </div>\n  );\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {/* Avatar Group - Click to open overlay */}\n      <AvatarGroup onClick={handleAvatarGroupClick} style={{ cursor: 'pointer' }}>\n        {assignedUsers.slice(0, 2).map((data, index) => (\n          <Avatar\n            key={`${data.id || data.email}-${index}`}\n            shape=\"circle\"\n            image={data.has_photo && data.photo ? data.photo : null}\n            label={!data.has_photo || !data.photo ? <small>{data.alias_name}</small> : null}\n            style={{ background: '#fff', border: '1px solid #dedede' }}\n          />\n        ))}\n        {assignedUsers.length > 2 && (\n          <Avatar\n            label={`+${assignedUsers.length - 2}`}\n            shape=\"circle\"\n            size=\"small\"\n            style={{ fontSize: '14px' }}\n          />\n        )}\n      </AvatarGroup>\n\n      {/* Main OverlayPanel */}\n      <OverlayPanel ref={op} className=\"salesOverlay\" style={{ width: '340px' }}>\n        {/* Assigned Users List */}\n        {assignedUsers.length > 0 ? (\n          assignedUsers.map((user, index) => (\n            <div\n              key={user.id || index}\n              className=\"d-flex align-items-center px-3 py-2\"\n              style={{\n                borderBottom:\n                  index < assignedUsers.length - 1 ? '1px solid #f2f4f7' : 'none',\n              }}\n            >\n              <Avatar\n                image={user.has_photo && user.photo ? user.photo : null}\n                icon={!user.has_photo || !user.photo ? <Person color=\"#667085\" size={20} /> : null}\n                shape=\"circle\"\n                style={{ background: '#fff', border: '1px solid #dedede' }}\n              />\n              <div className=\"ms-2\">\n                <div className=\"fullnameText\">{user.full_name}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <div className=\"px-3 py-2 text-muted fst-italic\">\n            No managers assigned\n          </div>\n        )}\n\n        {/* Assign Manager Trigger */}\n        <div className=\"py-2 border-top\">\n          <div\n            className=\"d-flex align-items-center gap-3 px-3 py-3 rounded cursor-pointer\"\n            style={{ backgroundColor: '#f9fafb', transition: 'background 0.2s' }}\n            onMouseEnter={(e) => (e.currentTarget.style.backgroundColor = '#f0f5ff')}\n            onMouseLeave={(e) => (e.currentTarget.style.backgroundColor = '#f9fafb')}\n            onClick={(e) => {\n              e.stopPropagation();\n              multiSelectRef.current?.show(e);\n            }}\n          >\n            <div\n              className=\"d-flex align-items-center justify-content-center rounded-circle\"\n              style={{\n                width: '32px',\n                height: '32px',\n                backgroundColor: '#1AB2FF',\n              }}\n            >\n              <PlusLg color=\"white\" size={16} />\n            </div>\n            <span style={{ color: '#1AB2FF', fontWeight: 500 }}>Assign Project Manager</span>\n          </div>\n        </div>\n\n        {/* Hidden MultiSelect - Only popup is visible */}\n        <MultiSelect\n          ref={multiSelectRef}\n          value={selectedUsers}\n          onChange={(e) => setSelectedUsers(e.value)}\n          options={userGroups}\n          optionLabel=\"first_name\"\n          optionValue=\"id\"\n          optionGroupLabel=\"label\"\n          optionGroupChildren=\"items\"\n          placeholder=\"Search managers...\"\n          filter\n          filterBy=\"first_name,last_name,email\"\n          itemTemplate={itemTemplate}\n          panelFooterTemplate={panelFooter}\n          style={{ opacity: 0, position: 'absolute', pointerEvents: 'none', width: '100%' }}\n          panelStyle={{ width: '340px' }}\n        />\n      </OverlayPanel>\n    </div>\n  );\n};\n\nconst formatDate = (timestamp) => {\n  const date = new Date(timestamp * 1000);\n  const day = date.getDate();\n  const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n  }).format(date);\n  const year = date.getFullYear();\n  return `${day} ${monthAbbreviation} ${year}`;\n};\n\nconst createSalesNote = (noteData, saleUniqueId, refreshData) => (\n  <>\n    <SalesNote noteData={noteData} saleUniqueId={saleUniqueId} refreshData={refreshData} />\n  </>\n);\n\nexport const mapSalesData = (salesData, refreshData) => {\n  return salesData.map((sale) => ({\n    unique_id: sale.unique_id,\n    id: sale.id,\n    Quote: sale.number,\n    created: sale.created,\n    Client: sale.client.name,\n    clientId: sale.client.id,\n    photo: sale.client.photo,\n    is_business: sale.client.is_business,\n    hasPhoto: sale.client.has_photo,\n    Reference: sale.reference,\n    Status: sale.status,\n    Calculation: sale.calculation,\n    CalculationPDF: sale.quote_url,\n    CalculationURL: sale.unique_url,\n    Note: createSalesNote(sale.sales_note, sale.unique_id, refreshData),\n    User: sale.managers,\n    fullName: sale.manager.full_name,\n    Contact: sale.sales_contacts,\n    progressName: sale.lead.name,\n    progressPercentage: sale.lead.percentage,\n    saleUniqueId: sale.unique_id,\n    wonQuote: (sale.number, sale.status),\n    LostQuote: (sale.number, sale.status),\n    amountData: sale.amount,\n    Actions: \"Actions\",\n    history: sale?.previous_versions,\n    has_recurring: sale.has_recurring,\n    requestChanges: sale.request_changes || [],\n    assignManagers: sale.managers || [],\n  }));\n};\n\nconst SalesTables = ({ profileData, salesData, fetchData, isLoading }) => {\n  const { trialHeight } = useTrialHeight();\n  const [rows, setRows] = useState([]);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [userGroups, setUserGroups] = useState([]);\n  const [salesHistoryId, setSalesHistoryId] = useState(null);\n  const [visibleSalesManagers, setVisibleSalesManagers] = useState([]);\n\n  const usersList = useQuery({ queryKey: ['getUserList'], queryFn: getUserList });\n\n  useEffect(() => {\n    if (!salesHistoryId && visibleSalesManagers.length > 0) setVisibleSalesManagers([]);\n  }, [salesHistoryId, visibleSalesManagers]);\n\n  useEffect(() => {\n    const groups = [];\n\n    // Desktop Users group\n    if (usersList?.data?.users?.length > 0) {\n      const activeDesktopUsers = usersList.data.users\n        .filter((user) => user?.is_active)\n        .map((user) => ({\n          id: user?.id,\n          first_name: user?.first_name,\n          last_name: user?.last_name,\n          photo: user?.photo || \"\",\n          has_photo: user?.has_photo\n        }));\n\n      if (activeDesktopUsers.length > 0) {\n        groups.push({\n          label: 'Desktop User',\n          items: activeDesktopUsers\n        });\n      }\n    }\n\n    setUserGroups(groups);\n  }, [usersList?.data]);\n\n  const removeRow = useCallback(async () => {\n    await fetchData();\n  }, [fetchData]);\n\n  const refreshData = useCallback(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleSelectAllCheckboxChange = () => {\n    const allRowIds = salesData && salesData.length && salesData.map((sale) => sale.id) || [];\n    if (selectedRows.length === allRowIds.length) {\n      setSelectedRows([]);\n    } else {\n      setSelectedRows(allRowIds);\n    }\n  };\n\n  const selectedRowsCount = selectedRows.length;\n  const columns = [\n    {\n      field: \"Quote\",\n      width: 144,\n      headerName: (\n        <div className=\"styleColor1\">\n          <span className=\"ps-3\">Quote</span>\n        </div>\n      ),\n\n      renderCell: (params) => (\n        <div className=\"innerFlex styleColor2 d-flex justify-content-between\">\n          <div className=\"styleColor1\">\n            <strong className=\"ellipsis-width\" style={{ maxWidth: '85px' }} title={params.value}>{params.value}</strong>\n            <p>{formatDate(params.row.created)}</p>\n          </div>\n          {/* <Link to={`/sales/quote-calculation/${params.row.unique_id}`}> */}\n          <Link to={`#`} onClick={() => { setSalesHistoryId(params.row.unique_id); setVisibleSalesManagers(params.row.assignManagers); }}>\n            <Button className=\"linkByttonStyle\" variant=\"link\">Open</Button>\n          </Link>\n        </div>\n      ),\n    },\n    {\n      field: \"Client\",\n      width: 270,\n      headerName: (\n        <div className=\"styleColor1\">\n          <span>Client</span>\n        </div>\n      ),\n\n      renderCell: (params) => (\n        <div className=\"d-flex align-items-center\">\n          <ImageAvatar has_photo={params.row.hasPhoto} photo={params.row?.photo} is_business={params.row?.is_business} />\n          <div className=\"ellipsis-width\" style={{ maxWidth: '200px' }} title={params.value}>{params.value}</div>\n        </div>\n      ),\n\n    },\n    {\n      field: \"Reference\",\n      sortable: false,\n      width: 500,\n      headerName: \"Reference\",\n      renderCell: (params) => (\n        <div\n          className=\"mainStyle mainStyleMin\"\n          style={{ whiteSpace: \"normal\", textAlign: \"left\" }}\n        >\n          {params.value}\n        </div>\n      ),\n    },\n    {\n      field: \"Status\",\n      sortable: false,\n      headerName: (\n        <div className=\"styleColor1\">\n          <span>Status</span>\n        </div>\n      ),\n      width: 118,\n      renderCell: (params) => (\n        <div className={\"d-flex align-items-center justify-content-start\"}>\n          <div className={`statusInfo ${params.value}`}>\n            <Link to=\"/\" style={{ pointerEvents: 'none' }}>{params.value}</Link>\n          </div>\n          {\n            params.row.has_recurring && <Link to={`/settings/quotesjobs/recurring-quotes?recurringId=${params.row.unique_id}`} className=\"ms-2\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"14\" viewBox=\"0 0 17 14\" fill=\"none\">\n                <path d=\"M11.5 4.46622V2.99998H5.5C3.29086 2.99998 1.5 4.79085 1.5 6.99998C1.5 7.63948 1.6497 8.24258 1.91552 8.77747C2.03841 9.02476 1.93757 9.32485 1.69028 9.44774C1.44299 9.57063 1.1429 9.46979 1.02 9.2225C0.687005 8.55243 0.5 7.79733 0.5 6.99998C0.5 4.23856 2.73858 1.99998 5.5 1.99998H11.5V0.533742C11.5 0.321783 11.7472 0.205993 11.91 0.341687L14.2695 2.30793C14.3895 2.40788 14.3895 2.59209 14.2695 2.69204L11.91 4.65828C11.7472 4.79397 11.5 4.67818 11.5 4.46622Z\" fill=\"#158ECC\" />\n                <path d=\"M15.3097 4.55223C15.557 4.42934 15.8571 4.53018 15.98 4.77747C16.313 5.44754 16.5 6.20264 16.5 6.99998C16.5 9.76141 14.2614 12 11.5 12H5.5V13.4662C5.5 13.6782 5.25279 13.794 5.08995 13.6583L2.73047 11.692C2.61053 11.5921 2.61053 11.4079 2.73047 11.3079L5.08995 9.34169C5.25279 9.20599 5.5 9.32178 5.5 9.53374V11H11.5C13.7091 11 15.5 9.20912 15.5 6.99998C15.5 6.36049 15.3503 5.75739 15.0845 5.2225C14.9616 4.97521 15.0624 4.67512 15.3097 4.55223Z\" fill=\"#158ECC\" />\n              </svg>\n            </Link>\n          }\n          <RequestChanges\n            requestChanges={params.row.requestChanges}\n            quoteNumber={params.row.Quote}\n            status={params.value}\n          />\n        </div>\n      ),\n    },\n    {\n      field: \"Calculation\",\n      sortable: false,\n      headerName: \"Calculation\",\n      width: 147,\n      renderCell: (params) => (\n        <div>\n          <ul className=\"disPlayInline disPlayInlineCenter\">\n            <Link to={`/sales/quote-calculation/${params.row.unique_id}`}>\n              <li className=\"plusminus\">\n                <PlusSlashMinus color=\"#FDB022\" size={16} />\n              </li>\n            </Link>\n            <li className={`${params.row.Status}`}>\n              <Link to={params.row.CalculationPDF} target=\"_blank\" rel=\"noopener noreferrer\">\n                <FilePdf color=\"#FF0000\" size={16} />\n              </Link>\n            </li>\n            <li className={`${params.row.Status}`}>\n              <Link to={`/quote/${params.row.unique_id}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                <Link45deg color=\"#3366CC\" size={16} />\n              </Link>\n            </li>\n          </ul>\n        </div>\n      ),\n    },\n    {\n      field: \"Note\",\n      sortable: false,\n      headerName: \"Note\",\n      width: 94,\n      renderCell: (params) => <div>{params.value}</div>,\n    },\n    {\n      field: \"User\",\n      sortable: false,\n      headerName: \"User\",\n      width: 56,\n      renderCell: (params) => {\n        return <CustomAvatarGroup params={params} userGroups={userGroups} refreshData={refreshData} />;\n      }\n    },\n    {\n      field: \"Contact\",\n      sortable: false,\n      headerName: \"Contact\",\n      width: 183,\n      renderCell: (params) => (\n        <div>\n          <ContactSales type={params.value} saleUniqueId={params.row.saleUniqueId} refreshData={refreshData} created={params.row.created} />\n        </div>\n      ),\n    },\n    {\n      field: \"Progress\",\n      headerName: (\n        <div className=\"styleColor1\">\n          <span>Progress</span>\n        </div>\n      ),\n\n      width: 232,\n      renderCell: (params) => (\n        <div style={{ width: \"100%\" }}>\n          <Progress\n            progressName1={params.row.progressName}\n            progressPercentage1={params.row.progressPercentage}\n            salesUniqId1={params.row.saleUniqueId}\n            refreshData={() => { }}\n          />\n        </div>\n      ),\n    },\n\n    {\n      field: \"W\",\n      sortable: false,\n      headerName: \"Lost / Won\",\n      width: 106,\n      renderCell: (params) => (\n        <div>\n          <div className=\"styleActionBtn\">\n            <QuoteLost\n              size={16}\n              color=\"#D92D20\"\n              LostQuote={params.row.LostQuote}\n              saleUniqueId={params.row.saleUniqueId}\n              saleId={params.row.id}\n              status={params.row.status}\n              onRemoveRow={removeRow}\n              fetchData1={setRows}\n              quoteType=\"lost\"\n            />\n            <QuoteWon\n              size={16}\n              color=\"#079455\"\n              wonQuote={params.row.wonQuote}\n              saleUniqueId={params.row.saleUniqueId}\n              saleId={params.row.id}\n              status={params.row.status}\n              onRemoveRow={removeRow}\n              fetchData1={setRows}\n              quoteType=\"won\"\n            />\n          </div>\n        </div>\n      ),\n    },\n    {\n      field: \"Actions\",\n      sortable: false,\n      headerName: \"Actions\",\n      width: 72,\n      className: \"ActionBtn\",\n      renderCell: (params) => {\n        return <ActionsDots key={params.row.saleUniqueId} saleUniqueId={params.row.saleUniqueId}\n          clientId={params.row.clientId} refreshData={refreshData} status={params.row.Status} salesHistory={params.row.history} />;\n      },\n    },\n  ];\n\n  useEffect(() => {\n    const rows = mapSalesData(salesData, refreshData);\n    setRows(rows);\n  }, [salesData, selectedRows, refreshData]);\n\n\n  const handleCheckboxChange = (rowId) => {\n    const updatedSelectedRows = [...selectedRows];\n    if (updatedSelectedRows.includes(rowId)) {\n      updatedSelectedRows.splice(updatedSelectedRows.indexOf(rowId), 1);\n    } else {\n      updatedSelectedRows.push(rowId);\n    }\n    setSelectedRows(updatedSelectedRows || []);\n  };\n\n  // Define selected1UniqueIds as a function that returns the selected unique IDs\n  const selected1UniqueIds = () => {\n    // Get the unique_id of the selected rows\n    const selectedUniqueIds = salesData\n      .filter(row => selectedRows.includes(row.id))\n      .map(row => row.unique_id);\n    return selectedUniqueIds;\n  };\n\n  const handleRowsFilterChange = (filteredRows) => {\n    setRows(filteredRows);\n  };\n\n  return (\n    <div className=\"salesTableWrap\">\n      <TableTopBar\n        profileData={profileData}\n        salesData={salesData}\n        removeRowMulti={removeRow}\n        selectedUniqueIds={selected1UniqueIds()}\n        onRowsFilterChange={handleRowsFilterChange}\n        rows={rows}\n        setSelectedRows={setSelectedRows}\n        selectedRow={selectedRows}\n        selectedRowCount={selectedRowsCount}\n      />\n\n      {!isLoading &&\n        <Table responsive style={{ marginBottom: `${trialHeight}px` }}>\n          <thead style={{ position: \"sticky\", top: \"0px\", zIndex: 9 }}>\n            <tr>\n              <th style={{ width: 40 }}>\n                <label className=\"customCheckBox\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedRows.length && (selectedRows.length === salesData.length)}\n                    onChange={handleSelectAllCheckboxChange}\n                  />\n                  <span className=\"checkmark\">\n                    <Check color=\"#1ab2ff\" size={20} />\n                  </span>\n                </label>\n              </th>\n              {columns.map((column) => (\n                <th key={column.field} style={{ width: column.width }}>\n                  <Resizable\n                    width={column.width || 100} // Provide a default width if undefined\n                    height={0}\n\n                  >\n                    <div>\n                      {column.headerName}\n                    </div>\n                  </Resizable>\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {rows.length === 0 ? (\n              <tr className=\"nodataTableRow\">\n                <td colSpan={columns.length} style={{ textAlign: \"center\", overflow: 'auto' }}>\n                  <NoDataFoundTemplate isDataExist={!!salesData.length} />\n                </td>\n              </tr>\n            ) : (\n              rows.map((row) => (\n                <tr data-saleuniqueid={row.saleUniqueId}\n                  key={row.id}\n                  className={`${selectedRows.includes(row.id) ? \"selected-row\" : \"\"} ${row.unique_id ? `row-id-${row.unique_id}` : \"\"}`}>\n                  <td style={{ width: 40 }}>\n                    <label className=\"customCheckBox\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedRows.includes(row.id)}\n                        onChange={() => handleCheckboxChange(row.id)}\n                      />\n                      <span className=\"checkmark\">\n                        <Check color=\"#1AB2FF\" size={20} />\n                      </span>\n                    </label>\n                  </td>\n                  {columns.map((column) => (\n                    <td key={column.field + row.id}>\n                      {column.renderCell({ value: row[column.field], row })}\n                    </td>\n                  ))}\n                </tr>\n              ))\n            )}\n          </tbody>\n        </Table>}\n\n      {salesHistoryId && <SalesHistory salesHistoryId={salesHistoryId} setSalesHistoryId={setSalesHistoryId} onRemoveRow={refreshData} managers={visibleSalesManagers || []} />}\n    </div>\n  );\n};\n\nexport default SalesTables;\n","import React, { useState, useEffect } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport { Helmet } from \"react-helmet-async\";\nimport SalesTables from \"./sales-tables\";\nimport { fetchSales } from \"../../../../APIs/SalesApi\";\n\n\nconst Sales = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n  const [salesData, setSalesData] = useState([]);\n\n  const fetchData = async () => {\n    try {\n      setIsLoading(true);\n      const data = await fetchSales();\n      const parsedData = JSON.parse(data);\n      setSalesData(parsedData);\n    } catch (error) {\n      console.error('Error fetching sales data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      <Helmet>\n        <title>MeMate - Sales</title>\n      </Helmet>\n      {\n        isLoading && <div style={{ position: 'fixed', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </div>\n      }\n\n      <SalesTables profileData={profileData} salesData={salesData} fetchData={fetchData} isLoading={isLoading} />\n    </>\n  );\n};\n\nexport default Sales;\n","import React, { useCallback, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { Calendar } from 'primereact/calendar';\nimport { ChevronLeftIcon } from 'primereact/icons/chevronleft';\nimport { ChevronRightIcon } from 'primereact/icons/chevronright';\nimport './date-range-picker-calendar.scss';\n\n/**\n * DateRangePickerCalendar - A Calendar component for selecting date ranges\n * \n * @param {Object} props - Component props\n * @param {Function} props.onDataApply - Callback when date range is applied ({ startDate, endDate })\n * @param {Object} props.dateRange - Initial date range { startDate, endDate }\n * @param {Function} props.onClose - Callback when picker is closed/cancelled\n * @param {string} props.className - Additional CSS classes\n */\nexport const DateRangePickerCalendar = ({\n    onDataApply,\n    dateRange,\n    onClose,\n    className = '',\n}) => {\n    const [dates, setDates] = useState(null);\n\n    // Initialize with provided dateRange\n    useEffect(() => {\n        if (dateRange?.startDate && dateRange?.endDate) {\n            const start = dateRange.startDate instanceof Date ? dateRange.startDate : new Date(dateRange.startDate);\n            const end = dateRange.endDate instanceof Date ? dateRange.endDate : new Date(dateRange.endDate);\n            setDates([start, end]);\n        }\n    }, [dateRange]);\n\n    // Handle Apply\n    const handleApply = useCallback(() => {\n        if (dates && dates.length === 2 && dates[0] && dates[1]) {\n            onDataApply({ startDate: dates[0], endDate: dates[1] });\n        } else if (dates && dates.length === 1 && dates[0]) {\n            // If only one date selected, use it as both start and end\n            onDataApply({ startDate: dates[0], endDate: dates[0] });\n        }\n    }, [dates, onDataApply]);\n\n    // Handle Cancel\n    const handleCancel = useCallback(() => {\n        setDates(null);\n        if (onClose) onClose();\n    }, [onClose]);\n\n    // Handle Today\n    const handleToday = useCallback(() => {\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        setDates([today, today]);\n    }, []);\n\n    // Custom footer template\n    const footerTemplate = useCallback(() => {\n        const hasValidRange = dates && dates.length >= 1 && dates[0];\n        \n        return (\n            <div className=\"date-range-footer\">\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-today\" \n                    onClick={handleToday}\n                >\n                    Today\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-cancel\" \n                    onClick={handleCancel}\n                >\n                    Cancel\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-apply\" \n                    onClick={handleApply}\n                    disabled={!hasValidRange}\n                >\n                    Apply\n                </button>\n            </div>\n        );\n    }, [dates, handleToday, handleCancel, handleApply]);\n\n    // Format selected range for display\n    const getHeaderText = useCallback(() => {\n        if (!dates || dates.length === 0) return 'Select date range';\n        \n        const options = { month: 'short', day: 'numeric', year: 'numeric' };\n        const start = dates[0]?.toLocaleDateString('en-US', options) || '';\n        const end = dates[1]?.toLocaleDateString('en-US', options) || '';\n        \n        if (start && end) {\n            return `${start} - ${end}`;\n        } else if (start) {\n            return `${start} - Select end date`;\n        }\n        return 'Select date range';\n    }, [dates]);\n\n    return (\n        <div className={clsx('date-range-picker-calendar', className)}>\n            <div className=\"date-range-header\">\n                <span className=\"date-range-header-text\">{getHeaderText()}</span>\n            </div>\n            <Calendar\n                value={dates}\n                onChange={(e) => setDates(e.value)}\n                selectionMode=\"range\"\n                inline\n                numberOfMonths={1}\n                locale=\"en\"\n                dateFormat=\"dd M yy\"\n                footerTemplate={footerTemplate}\n                firstDayOfWeek={1}\n                showButtonBar={false}\n                prevIcon={<ChevronLeftIcon />}\n                nextIcon={<ChevronRightIcon />}\n            />\n        </div>\n    );\n};\n\nexport default DateRangePickerCalendar;\n","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { createProjectNoteById } from '../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst AddNote = ({ projectId, projectCardData }) => {\n  const [viewShow, setViewShow] = useState(false);\n  const [updateDis, setUpdateDis] = useState('');\n  const [errors, setErrors] = useState({\n    description: '',\n  });\n\n  const MAX_LENGTH = 2000; // Maximum allowed characters\n  const MIN_LENGTH = 3;   // Minimum required characters\n\n  const handleClose = () => setViewShow(false);\n  const handleShow = () => setViewShow(true);\n\n  const mutation = useMutation({\n    mutationFn: (data) => createProjectNoteById(projectId, data),\n    onSuccess: () => {\n      handleClose();\n      projectCardData(projectId);\n    },\n    onError: (error) => {\n      console.error('Error creating note:', error);\n      setErrors(prev => ({\n        ...prev,\n        description: error.message || 'Failed to save note. Please try again.'\n      }));\n    }\n  });\n\n  const validateNote = (text) => {\n    if (!text.trim()) {\n      return 'Note is required';\n    }\n    if (text.length < MIN_LENGTH) {\n      return `Note must be at least ${MIN_LENGTH} characters long`;\n    }\n    if (text.length > MAX_LENGTH) {\n      return `Note must not exceed ${MAX_LENGTH} characters`;\n    }\n    // Add any additional validation rules here (e.g., special characters, etc.)\n    if (/^\\s+$/.test(text)) {\n      return 'Note cannot contain only whitespace';\n    }\n    return '';\n  };\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setUpdateDis(value);\n\n    // Real-time validation\n    const error = validateNote(value);\n    setErrors(prev => ({ ...prev, description: error }));\n  };\n\n  const handleSubmit = () => {\n    const validationError = validateNote(updateDis);\n\n    if (validationError) {\n      setErrors(prev => ({ ...prev, description: validationError }));\n      return;\n    }\n\n    mutation.mutate({ text: updateDis.trim() });\n  };\n\n  useEffect(() => {\n    if (!viewShow) {\n      setUpdateDis('');\n      setErrors({ description: '' });\n    }\n  }, [viewShow]);\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 border-right\" onClick={handleShow}>\n        Add Note\n      </div>\n\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n        size=\"lg\"\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Add Note\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label htmlFor=\"note-input\">Note <span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`}>\n                    <textarea\n                      id=\"note-input\"\n                      type=\"text\"\n                      name=\"note\"\n                      value={updateDis}\n                      placeholder='Enter a message here...'\n                      onChange={handleChange}\n                      maxLength={MAX_LENGTH}\n                      rows={10}\n                      className=\"w-100\"\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between mt-1\">\n                    <small className={errors.description ? \"error-message\" : \"text-muted\"}>\n                      {errors.description || `${updateDis.length}/${MAX_LENGTH} characters`}\n                    </small>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </Modal.Body>\n        <Modal.Footer className='pt-0'>\n          <div className=\"popoverbottom w-100 border-0 mt-0 pt-0\">\n            <Button\n              variant=\"outline-danger\"\n              onClick={handleClose}\n              disabled={mutation.isPending}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary save\"\n              onClick={handleSubmit}\n              disabled={mutation.isPending || !!errors.description}\n            >\n              {mutation.isPending ? \"Saving...\" : \"Save\"}\n            </Button>\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default AddNote;","import React, { useState, useRef } from 'react';\nimport { FileText, Image } from 'react-bootstrap-icons';\n\nexport function formatFileSize(size) {\n  if (size >= 1024 * 1024) return (size / (1024 * 1024)).toFixed(1) + ' MB';\n  if (size >= 1024) return (size / 1024).toFixed(1) + ' KB';\n  return size + ' B';\n}\n\nconst ChatAttachmentPopover = ({ onFileChange, styles }) => {\n  const [open, setOpen] = useState(false);\n  const buttonRef = useRef();\n  const popoverRef = useRef();\n\n  const handleClickOutside = (event) => {\n    const btn = buttonRef.current;\n    const pop = popoverRef.current;\n    if (!btn || !pop) return;\n    const clickedInsideTrigger = btn.contains(event.target);\n    const clickedInsidePopover = pop.contains(event.target);\n    if (!clickedInsideTrigger && !clickedInsidePopover) setOpen(false);\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <div style={{ position: 'relative', display: 'inline-block' }}>\n      <button\n        className={styles.attachButton}\n        type=\"button\"\n        aria-label=\"Attach file\"\n        ref={buttonRef}\n        onClick={() => setOpen((v) => !v)}\n        style={{ padding: '6px 6px 6px 8px' }}\n      >\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M18.0833 8.33333L9.16667 17.25C8.17221 18.2444 6.82407 18.8042 5.41667 18.8042C4.00926 18.8042 2.66112 18.2444 1.66667 17.25C0.672214 16.2556 0.112446 14.9074 0.112446 13.5C0.112446 12.0926 0.672214 10.7444 1.66667 9.75L10.5833 0.833329C11.2486 0.167998 12.1514 -0.149151 13.0833 0.0666624C14.0153 0.282476 14.8056 0.947998 15.25 1.83333C15.6944 2.71866 15.7361 3.75 15.3333 4.66666C14.9306 5.58333 14.1389 6.29166 13.1667 6.5L5.08333 14.5833C4.75 14.9167 4.31944 15.0833 3.83333 15.0833C3.34722 15.0833 2.91667 14.9167 2.58333 14.5833C2.25 14.25 2.08333 13.8194 2.08333 13.3333C2.08333 12.8472 2.25 12.4167 2.58333 12.0833L9.16667 5.5\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </svg>\n      </button>\n      {open && (\n        <div ref={popoverRef} className={styles.attachmentPopover} style={{ position: 'absolute', bottom: '40px', left: -200, zIndex: 20, minWidth: 220, background: '#fff', borderRadius: 8, boxShadow: '0 4px 24px rgba(16,24,40,0.18)', padding: 10 }}>\n          <label className={styles.attachmentLabel} style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', gap: 8, padding: '10px 6px' }}>\n            <input\n              type=\"file\"\n              style={{ display: 'none' }}\n              onChange={(e) => {\n                onFileChange(e);\n                setOpen(false);\n              }}\n              accept='.pdf, .doc, .docx, .txt'\n            />\n            <FileText size={16} color=\"#667085\" />\n            <span className=\"font-16\">Document</span>\n          </label>\n          <label className={styles.attachmentLabel} style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', gap: 8, padding: '10px 6px' }}>\n            <input\n              type=\"file\"\n              style={{ display: 'none' }}\n              onChange={(e) => {\n                onFileChange(e);\n                setOpen(false);\n              }}\n              accept='image/*'\n            />\n            <Image size={16} color=\"#667085\" />\n            <span className=\"font-16\">Photo </span>\n          </label>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatAttachmentPopover;\n","import {\n    FiletypeAac, FiletypeAi, FiletypeBmp, FiletypeCs, FiletypeCss, FiletypeCsv, FiletypeDoc, FiletypeDocx, FiletypeExe, FiletypeGif, FiletypeHeic, FiletypeHtml, FiletypeJava, FiletypeJpg, FiletypeJs, FiletypeJson, FiletypeJsx, FiletypeKey, FiletypeM4p, FiletypeMd, FiletypeMdx, FiletypeMov, FiletypeMp3, FiletypeMp4, FiletypeOtf, FiletypePdf, FiletypePhp, FiletypePng, FiletypePpt, FiletypePptx, FiletypePsd, FiletypePy, FiletypeRaw, FiletypeRb, FiletypeSass, FiletypeScss, FiletypeSh, FiletypeSql, FiletypeSvg, FiletypeTiff, FiletypeTsx, FiletypeTtf, FiletypeTxt, FiletypeWav, FiletypeWoff, FiletypeXls, FiletypeXlsx, FiletypeXml, FiletypeYml\n} from 'react-bootstrap-icons';\n\n\n// Map file extensions to their corresponding icon components and default colors\nconst extensionToIcon = {\n    aac: { icon: FiletypeAac, color: '#4CAF50' },\n    ai: { icon: FiletypeAi, color: '#FF9800' },\n    bmp: { icon: FiletypeBmp, color: '#00ADEF' },\n    cs: { icon: FiletypeCs, color: '#239120' },\n    css: { icon: FiletypeCss, color: '#1572B6' },\n    csv: { icon: FiletypeCsv, color: '#22A746' },\n    doc: { icon: FiletypeDoc, color: '#2368E1' },\n    docx: { icon: FiletypeDocx, color: '#2368E1' },\n    exe: { icon: FiletypeExe, color: '#8E8E8E' },\n    gif: { icon: FiletypeGif, color: '#F64A8A' },\n    heic: { icon: FiletypeHeic, color: '#FFAA00' },\n    html: { icon: FiletypeHtml, color: '#E34F26' },\n    java: { icon: FiletypeJava, color: '#007396' },\n    jpg: { icon: FiletypeJpg, color: '#FFAA00' },\n    jpeg: { icon: FiletypeJpg, color: '#FFAA00' },\n    js: { icon: FiletypeJs, color: '#F7DF1E' },\n    json: { icon: FiletypeJson, color: '#22A746' },\n    jsx: { icon: FiletypeJsx, color: '#61DAFB' },\n    key: { icon: FiletypeKey, color: '#FF9800' },\n    m4p: { icon: FiletypeM4p, color: '#4CAF50' },\n    md: { icon: FiletypeMd, color: '#8E8E8E' },\n    mdx: { icon: FiletypeMdx, color: '#8E8E8E' },\n    mov: { icon: FiletypeMov, color: '#9C27B0' },\n    mp3: { icon: FiletypeMp3, color: '#4CAF50' },\n    mp4: { icon: FiletypeMp4, color: '#9C27B0' },\n    otf: { icon: FiletypeOtf, color: '#795548' },\n    pdf: { icon: FiletypePdf, color: '#FF0000' },\n    php: { icon: FiletypePhp, color: '#777BB4' },\n    png: { icon: FiletypePng, color: '#00ADEF' },\n    ppt: { icon: FiletypePpt, color: '#FF9800' },\n    pptx: { icon: FiletypePptx, color: '#FF9800' },\n    psd: { icon: FiletypePsd, color: '#31A8FF' },\n    py: { icon: FiletypePy, color: '#3776AB' },\n    raw: { icon: FiletypeRaw, color: '#FFAA00' },\n    rb: { icon: FiletypeRb, color: '#CC342D' },\n    sass: { icon: FiletypeSass, color: '#CF649A' },\n    scss: { icon: FiletypeScss, color: '#CF649A' },\n    sh: { icon: FiletypeSh, color: '#8E8E8E' },\n    sql: { icon: FiletypeSql, color: '#336791' },\n    svg: { icon: FiletypeSvg, color: '#FF5722' },\n    tiff: { icon: FiletypeTiff, color: '#FFAA00' },\n    tsx: { icon: FiletypeTsx, color: '#3178C6' },\n    ttf: { icon: FiletypeTtf, color: '#795548' },\n    txt: { icon: FiletypeTxt, color: '#8E8E8E' },\n    wav: { icon: FiletypeWav, color: '#795548' },\n    woff: { icon: FiletypeWoff, color: '#795548' },\n    xls: { icon: FiletypeXls, color: '#22A746' },\n    xlsx: { icon: FiletypeXlsx, color: '#22A746' },\n    xml: { icon: FiletypeXml, color: '#E34F26' },\n    yml: { icon: FiletypeYml, color: '#8E8E8E' },\n    // Additional common extensions not in bootstrap icons\n    zip: { icon: FiletypeExe, color: '#FFD700' },\n    rar: { icon: FiletypeExe, color: '#F44336' },\n    tar: { icon: FiletypeExe, color: '#FFC107' },\n    pub: { icon: FiletypeDoc, color: '#4CAF50' },\n    swf: { icon: FiletypeExe, color: '#FFEB3B' },\n};\n\nexport const BootstrapFileIcons = ({ extension, color, size }) => {\n    const ext = extension?.toLowerCase();\n    const iconData = extensionToIcon[ext];\n    if (iconData) {\n        const Icon = iconData.icon;\n        const iconColor = color || iconData.color;\n        return <Icon color={iconColor} size={size} />;\n    }\n    // fallback generic file icon\n    return <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill={color || '#888'} xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.5L9.5 0H4zm8 1.5V6H9V1h3z\"/></svg>;\n};\n"],"names":["_ref","project","reInitialize","projectCardData","viewShow","setViewShow","useState","_jsxs","_Fragment","children","_jsx","className","onClick","handleShow","CreateTask","show","setShow","API_BASE_URL","process","getListOfExpense","async","page","limit","_filters$status","search","arguments","length","undefined","order","isShowUnpaid","filters","offset","queryParams","push","encodeURIComponent","suppliersFilter","_filters$suppliers","suppliers","map","supplier","id","join","console","log","departmentsFilter","_filters$departments","departments","dept","statusFilter","_filters$status2","status","forEach","element","name","date","_filters$date$","_filters$date$$value","_filters$date$2","_filters$date$2$value","startDate","value","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","endDate","finalUrl","fetchAPI","method","getXeroCodesList","url","URL","toString","getProjectsList","getExpense","createNewExpense","options","body","data","updateExpense","paidExpense","unpaidExpense","sendExpenseToXeroApi","deleteExpense","uniqueId","downloadStatement","sendStatementEmail","assignCodeToSupplier","code","endpoint","headers","requestOptions","localStorage","getItem","JSON","stringify","redirect","response","fetch","ok","Error","contentType","get","includes","json","message","text","error","updateProjectScheduleById","updateProjectStatusById","updateProjectReferenceById","createProjectNoteById","projectsToSalesUpdate","unique_id","projectsOrderDecline","projectsComplete","createInvoiceById","createAndSendInvoiceById","getProjectFilesById","deleteFileByKey","fileKey","file_name","updateCostBreakDownDescription","sendComposeEmail","action","sendSms","resendQuoteEmail","getManagement","myHeaders","Headers","accessToken","append","ProjectCardApi","schema","yup","firstname","required","lastname","email","nullable","transform","matches","notRequired","payment_terms","typeError","category","add_to_mailchimp","mailchimp_list_id","when","is","then","otherwise","forwardRef","ref","_errors$address","_errors$address2","_errors$address3","_errors$address4","_errors$address4$titl","_errors$address5","_errors$address6","_errors$address6$coun","_errors$address7","_errors$address8","_errors$address8$stat","_errors$address9","_errors$address10","_errors$address10$cit","_errors$address11","_errors$address12","_errors$address13","_errors$address14","_errors$address14$add","_errors$address15","_errors$address16","_errors$address17","_errors$address18","_errors$address18$pos","photo","setPhoto","onSubmit","defaultValues","session","useAuth","addToMailchimp","setAddToMailchimp","countryId","setCountryId","stateId","setStateId","countriesQuery","useQuery","queryKey","queryFn","getCountries","enabled","statesQuery","getStates","retry","citiesQuery","getCities","categoriesQuery","getClientCategories","mailchimpListsQuery","getMailchimpLists","has_mailchimp","control","register","handleSubmit","formState","errors","setValue","watch","useForm","resolver","yupResolver","emailValue","useEffect","_defaultValues$addres","_defaultValues$addres2","_defaultValues$addres3","_defaultValues$addres4","address","country","state","_categoriesQuery$data","_categoriesQuery$data2","findRegular","find","toLowerCase","Row","clsx","styles","bgGreay","Col","sm","fileUploadBox","uploadedImgBox","src","croppedImageBase64","alt","Person","size","color","uploadedText1","uploadedText2","style","fontSize","FileUploader","shape","lable","IconField","InputIcon","exclamationCircle","InputText","inputText","placeholder","Controller","render","_ref2","field","PhoneInput","defaultCountry","containerClass","countrySelector","onChange","border","phone","headingInputs","_ref3","Dropdown","label","e","dropdownSelect","height","scrollHeight","filterInputAutoFocus","_ref4","_categoriesQuery$data3","loading","isFetching","title","defaultValue","_ref5","_countriesQuery$data","_ref6","_statesQuery$data","filter","_ref7","_citiesQuery$data","city","disabled","emptyMessage","postcode","keyfilter","top","description","InputTextarea","rows","cols","resize","_ref8","Checkbox","inputId","checked","htmlFor","marginTop","marginBottom","_ref9","_mailchimpListsQuery$","Array","isArray","lists","list","projectId","contactPersons","setPayload","showInstructions","setShowInstructions","outgoingEmailTemplateQuery","getOutgoingEmail","mutation","useMutation","mutationFn","onSuccess","toast","success","onError","_outgoingEmailTemplat","_outgoingEmailTemplat2","outgoing_email","Modal","onHide","centered","animation","Header","width","viewBox","fill","xmlns","x","y","rx","stroke","strokeWidth","d","X","Body","Link","to","Envelope","fontWeight","lineHeight","SendDynamicEmailForm","isLoading","isComposeEmail","phoneUtil","PhoneNumberUtil","getInstance","isPhoneValid","isValidNumber","parseAndKeepRawInput","_smsTemplateQuery$dat","smsTemplateId","setSMSTemplatedId","setMessage","setErrors","phoneNumber","setPhoneNumber","handleClose","smsTemplateQuery","getSMSTemplates","smsQuery","getSMS","_smsQuery$data","others","profileData","parse","window","has_twilio","smsUnavailableText","twilioStatus","twilioIcon","disconnectedBadge","cx","cy","r","AddNoteModeIcon","position","customLabel","smsTemplate","paddingLeft","taskRead","right","ProgressSpinner","type","newText","target","slice","float","Button","variant","isPending","Object","keys","mutate","phone_number","FallbackImage","has_photo","is_business","imgError","setImgError","Icon","Building","FallbackImageWithInitials","_name$split","_name$split$map","_name$split$map$join","initials","split","n","toUpperCase","InitialsAvatar","overflow","taskId","onCommentAdded","commentsScrollRef","comment","setComment","attachments","setAttachments","isDragOver","setIsDragOver","showEmojiPicker","setShowEmojiPicker","isSubmitting","setIsSubmitting","uploadingFiles","setUploadingFiles","isFocused","setIsFocused","editorRef","useRef","fileInputRef","dropZoneRef","emojiPickerRef","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","uploadToS3","file","fileId","axios","put","onUploadProgress","progressEvent","progress","Math","round","loaded","total","prev","f","uploaded","err","errorMessage","request","uploadFailed","handleFileUpload","validFiles","from","files","newUploading","index","now","uploadFile","getCommentPresignedUrl","result","fileUrl","handleDragEnter","useCallback","preventDefault","stopPropagation","handleDragLeave","_dropZoneRef$current","relatedTarget","handleDragOver","handleDrop","dataTransfer","handlePaste","_e$clipboardData","items","clipboardData","item","kind","getAsFile","removeAttachment","a","removeUploadingFile","trim","_session$user","attachmentUrls","attachmentTypes","createTaskComment","attachment_url","attachment_type","created_by","role","user","setTimeout","scrollIntoView","behavior","block","_editorRef$current2","focus","getFileIcon","startsWith","ImageIcon","FileEarmark","formatFileSize","bytes","toFixed","isImage","hasContent","createObjectURL","attachment","onDragEnter","onDragLeave","onDragOver","onDrop","onKeyDown","key","shiftKey","onPaste","onFocus","onBlur","EmojiSmile","EmojiPicker","onEmojiClick","emojiData","_editorRef$current","emoji","theme","searchPlaceHolder","previewConfig","showPreview","_fileInputRef$current","click","Paperclip","multiple","display","formatDateRange","toLocaleDateString","DateRangeComponent","setDateRange","dateRange","isPickerVisible","setIsPickerVisible","selectDateRef","togglePicker","cursor","borderRadius","Calendar2Event","background","zIndex","DateRangePickerCalendar","onDataApply","onClose","normalizeComment","c","_c$created_by","_c$created_by2","_c$created_by3","_c$created_by4","_c$created_by5","parsed","created_at","full_name","avatar","formatTimeAgo","timestamp","diff","floor","usersMap","Map","refetch","fetchNextPage","hasNextPage","isFetchingNextPage","useInfiniteQuery","pageParam","res","getCommentsForTask","getNextPageParam","lastPage","next","useImperativeHandle","refetchComments","deleteCommentMutation","deleteTaskComment","comments","pages","flatMap","results","sort","b","getTime","reverse","noComments","commentsContainer","loadMoreWrapper","loadMoreBtn","commentsList","_comment$user","_comment$user2","_comment$user3","userFromMap","avatarPhoto","hasPhoto","commentItem","header","userName","commentTime","handleDeleteComment","commentId","deleteButton","marginLeft","variables","opacity","commentText","attachmentContainer","_attachment$type","_attachment$url$split","href","rel","imageAttachment","attachmentImage","fileAttachment","fileIconWrapper","fileDetails","fileName","pop","fileAction","dateFormat","dateInMiliSec","_usersList$data2","_mobileUsersList$data3","setTaskId","refetchTask","dropdownRef","textareaRef","commentsRef","saveStatus","setSaveStatus","createdTaskId","setCreatedTaskId","taskTitle","setTaskTitle","setDescription","setProject","setUser","setDate","effectiveTaskId","_defaultValue$project","_defaultValue$user","from_date","to_date","reset","previousValuesRef","isInitialLoadRef","projectsList","usersList","getUserList","mobileUsersList","getMobileUserList","React","_usersList$data","_usersList$data$users","_mobileUsersList$data","_mobileUsersList$data2","users","u","set","first_name","last_name","has","createMutation","createNewTask","updateMutation","updateTask","autoSaveRef","_date$startDate","_date$endDate","taskData","currentValues","fromDate","toDate","debouncedAutoSave","debounce","_autoSaveRef$current","call","_debouncedAutoSave$ca","cancel","deleteMutation","fetchTasksDelete","markCompleteMutation","finished","TaskCompleteJob","_","handleMarkComplete","isCurrentlyComplete","handleDelete","handleCommentAdded","_commentsRef$current","Sidebar","visible","modal","dismissable","marginRight","content","_dropdownRef$current2","_dropdownRef$current3","_dropdownRef$current4","_usersList$data3","_usersList$data3$user","_usersList$data3$user2","_mobileUsersList$data4","_mobileUsersList$data5","_mobileUsersList$data6","_projectsList$data","closeIconRef","hide","borderBottom","padding","PlusCircle","Check","Skeleton","Form","Control","Text","Label","_dropdownRef$current","panel","offsetParent","is_active","has_work_subscription","valueTemplate","option","userId","userData","left","itemTemplate","dropdownIcon","collapseIcon","optionGroupLabel","optionGroupChildren","SelectDate","number","reference","maxWidth","panelStyle","maxHeight","as","onInput","TaskComments","CommentEditor","CheckCircle","fetchTasksRead","FilePreview","_file$key","_file$key$split$pop","extension","isImageFile","flexShrink","objectFit","parentElement","innerHTML","alignItems","justifyContent","BootstrapFileIcons","FolderPreview","FolderIcon","getAllFilesFromResponse","allFiles","jobs","entries","jobId","jobFiles","ShareFilePopover","triggerRef","copied","setCopied","popoverRef","setPosition","rect","getBoundingClientRect","popoverWidth","popoverHeight","bottom","innerHeight","shareOptions","icon","open","strokeLinecap","subject","location","boxShadow","overflowX","paddingBottom","minWidth","transition","onMouseEnter","currentTarget","onMouseLeave","textAlign","readOnly","flex","outline","textOverflow","navigator","clipboard","writeText","ta","createElement","appendChild","select","execCommand","removeChild","whiteSpace","gap","CheckCircleFill","ShareButton","isShareOpen","onToggle","buttonRef","Share","_displayContents","creatingFile","setCreatingFile","creatingFolder","setCreatingFolder","isFolderCreating","setIsFolderCreating","newFolderName","setNewFolderName","inputValue","setInputValue","currentPath","setCurrentPath","sharePopoverFile","setSharePopoverFile","folderInputRef","filesQuery","staleTime","cacheTime","catch","createFolder","folderKey","post","Authorization","Blob","getRootProps","getInputProps","useDropzone","accept","maxSize","acceptedFiles","uploadFiles","currentPrefix","uniqueNumber","fileNameParts","ext","newName","originalURL","fileUploadBySignedURL","deleteFolderMutation","folderPrefix","toDelete","Promise","all","pathname","replace","markerKey","some","cancelCreatingFolder","contents","getContentsAtPath","path","prefix","parts","first","values","localeCompare","displayContents","FolderFileIcon","part","arr","textDecoration","startCreatingFolder","CloudUpload","paddingRight","idx","CancelIcon","ProgressBar","showValue","Trash","isDeleting","removeFile","mutateAsync","removeFolder","getListOfTasks","isShowDeleted","showNotCompleted","searchParams","getTask","payload","filename","attachmentType","task_id","getJobTemplates","getJobTemplate","createJobTemplate","updateJobTemplate","deleteJobTemplate","getEmailTemplates","createEmailTemplate","updateEmailTemplate","getEmail","getSignatureTemplates","getEmailSignature","createEmailSignature","updateEmailSignature","deleteEmailSignature","setDefaultEmailSignature","createSMSTemplate","updateSMSTemplate","deleteSMSTemplate","getProposalBySalesId","deleteEmailTemplates","getProposalsTemplates","getProposalsTemplate","deleteProposalTemplates","_outgoingEmailTemplat4","_outgoingEmailTemplat5","_emailTemplateQuery$d2","_signatureQuery$data2","defaultTemplateId","isAddingContact","op","setFrom","setTo","cc","setCC","bcc","setBCC","setSubject","setText","signature","setSignature","filteredEmails","setFilteredEmails","autoCompleteRef","autoCompleteRef2","autoCompleteRef3","showCC","setShowCC","showBCC","setShowBCC","isValidEmail","test","validateEmailArray","emailArray","every","getInvalidEmails","cleanEmailArray","validateAndCleanAllEmails","hasErrors","invalidToEmails","invalidCcEmails","invalidBccEmails","emailTemplateId","setEmailTemplatedId","emailTemplateQuery","signatureQuery","emailQuery","_outgoingEmailTemplat3","outgoing_email_verified","_emailTemplateQuery$d","activeTemplateId","template","_event$query","_contactPersons$map","query","emails","onFocus2","onFocus3","_contactPersons$map2","validEmails","email_body","from_email","_signatureQuery$data","_signatureQuery$data$","email_signature","_emailQuery$data","_emailQuery$data2","closeButton","modalHeader","headerTitle","emailTemplate","templateInfo","toggle","InfoCircle","OverlayPanel","autoCompleteBox","bag","AutoComplete","completeMethod","toInvalid","suggestions","onKeyUp","currentValue","Set","box","active","inputBox","Editor","minHeight","headerTemplate","onTextChange","htmlValue","panelClassName","Footer","errorCount","invalidEmails","useSaleQuotationDeleteMutations","fetchInstance","deleteSaleQuotation","_clientQuery$data","_clientQuery$data2","_clientQuery$data3","clientId","setIsAddingContact","formatDateToYMD","clientQuery","getClientById","contact_persons","formData","toLocaleString","timeZone","note","fetchContacts","addContact","history","setHistory","setVisible","headerElement","Dialog","FilePdf","NodataImg","saleUniqueId","refreshData","salesHistory","anchorEl","setAnchorEl","setLoading","isVisibleResendEmail","setIsVisibleResendEmail","deleteMutations","Send","ClockHistory","Tag","Postcard","Layers","IconButton","ThreeDotsVertical","Menu","Boolean","PaperProps","MenuItem","saleDuplicateData","handleClick","ResendQuoteEmail","SaleHistory","saleUniqueIdold","contactRefresh","step","created","radioValue","setRadioValue","setNote","setIsLoading","MAX_NOTE_LENGTH","handleSave","validateForm","newErrors","dayjs","isValid","general","radios","Telephone","CalendarIcon","isShowPulseEffect","PlusLg","saleContact","ButtonGroup","radio","ToggleButton","Calendar","locale","showIcon","showButtonBar","Calendar3","inputStyle","Typography","sx","p","maxLength","isInvalid","formatDate","timestampInSeconds","Intl","DateTimeFormat","resolvedOptions","format","popoverVisible","setPopoverVisible","handlePopoverClose","ButtonToolbar","OverlayTrigger","trigger","rootClose","placement","overlay","Popover","phonecallgra","mailgradi","calendargradi","btnsSecondary","querySelectorAll","btn","handlePopoverClick","ContactAdd","percentage","selectlabel","Option","gradient","onSelect","isActive","progressName1","progressPercentage1","salesUniqId1","selectedOption","setSelectedOption","dropdownOpen","setDropdownOpen","updatedLead","setUpdatedLead","toggleOptions","dropdown","classList","remove","prevState","CircleProgressBar","ChevronDown","newUpdatedLead","fetchSaleslead","selectOption","LostQuote","quoteType","onRemoveRow","setOpen","setConfetti","handleOpen","XCircle","Box","component","Archive","edge","CloseIcon","SalesIcon","clipPath","gradientUnits","gradientTransform","stopColor","ArchiveIcon","markLost","config","Confetti","wonQuote","confetti","Check2Circle","ManagementIcon","markWon","querySelector","count","parseInt","innerText","ConfettiComponent","requestChanges","quoteNumber","hasChanges","ChatText","change","Clock","request_changes","TABS","formatTimestamp","hour","minute","hour12","weekday","formatFieldLabel","word","charAt","getHistoryIcon","ListCheck","CardChecklist","FileText","PhoneVibrate","ChatDots","FolderSymlink","getHistoryTypeName","EmailComponent","_email$recipients","emailData","showFullBody","setShowFullBody","isOverflowing","setIsOverflowing","emailBodyRef","_lines$find","_lines$find2","_text$split$","recipients","lines","line","rawRecipients","parseEmailData","bodyHeight","emailPreview","emailBody","overflowY","dangerouslySetInnerHTML","__html","salesHistoryId","setSalesHistoryId","managers","activeTab","setActiveTab","showConfetti","setShowConfetti","isProcessingWon","setIsProcessingWon","isProcessingLost","setIsProcessingLost","isProcessingDuplicate","setIsProcessingDuplicate","cardData","leadData","leadFetching","enquiry_id","getEnquirySubmissionDetails","client","renderQuoteTab","quoteSection","loadingContainer","sectionBlock","sectionTitle","PencilSquare","editIcon","sectionContent","enforceFocus","contentClassName","modalContentClass","headerContent","headerIcon","CurrencyDollar","headerText","headerSubtitle","headerActions","quote_pdf","headerIconButton","Link45deg","modalContent","leftColumn","tabsContainer","tabsList","tabItem","scrollContainer","renderTabContent","customerInfoSection","profileBox","deleted","boxLabel","boxLabel2","BusinessViewSection","IndividualViewSection","renderEnquiryTab","_leadData$data","_leadData$data2","_leadData$data3","_leadData$data4","_leadData$data5","_leadData$data6","_leadData$data7","_leadData$data8","_leadData$data9","_leadData$data10","enquirySection","leadInfoSection","infoGrid","infoItem","infoLabel","infoValue","ellipsis","date_field","time_field","form_type","fieldCardsContainer","fieldCard","fieldLabel","fieldValue","emptyState","emptyIcon","emptyText","emptySubtext","rightColumn","actionsRow","AddNote","NewTask","SendSMS","ComposeEmail","activitySection","historySectionHeader","activityScroll","skeletonContainer","i","skeletonCircle","skeletonLineShort","skeletonLine","skeletonLineLong","historyList","renderHistoryItem","manager","links","historyItem","historyHeader","historyIcon","historyType","invoice_pdf","historyLinks","historySubtitle","historyTimestamp","strokeLinejoin","modalFooter","footerLeft","assignedTo","assignedLabel","AvatarGroup","avatarGroup","Tooltip","Avatar","image","alias_name","m","noManager","footerActionButton","Files","calculationButton","PlusSlashMinus","FilesModel","footerRight","lostButton","wonButton","noteData","onNoteUpdate","noteText","setNoteText","isEditMode","setIsEditMode","setError","MAX_LENGTH","validateNote","validationError","fetchSalesNotes","fetchSales","CheckLg","anchorOrigin","vertical","horizontal","transformOrigin","FileEarmarkPlus","BankDetailsModel","navigate","useNavigate","textTransform","ExclamationOctagon","NewQuoteImg","handleAdd","selectedDates","setSelectedDates","calendarRef","setStartDate","setEndDate","setIsApplying","formattedCurrentDate","setFormattedCurrentDate","currentDate","formattedDate","newContent","monthsElement","existingCustomDiv","customDiv","parentNode","insertBefore","nextSibling","handleTodayClick","todaySpan","Flatpickr","mode","inline","handleCancel","textContent","handleApply","updateCustomDiv","toISOString","taggingElement","Search","leadArray","_profileData$bank_det","_projectManagerQuery$","_Object$keys","_Object$entries","salesData","removeRowMulti","selectedUniqueIds","onRowsFilterChange","setSelectedRows","selectedRow","selectedRowCount","setSearchParams","useSearchParams","searchParamValue","targetId","totalAmount","setTotalAmount","avgProgress","setAvgProgress","progressWiseAmountAvg","setProgressWiseAmountAvg","setKey","setFilters","filterState","setFilterState","buttonClicked","setButtonClicked","filterDropdownRef","debouncedValue","useDebounce","shouldHighlight","setShouldHighlight","projectManagerQuery","getProjectManager","startFilter","_state$statuses","_state$projectManager","filteredRows","mapSalesData","itemDate","_state$progress","progressName","statuses","_state$statuses2","Status","projectManager","_item$User","User","_state$projectManager2","_item$Client","_item$Quote","_item$Reference","Client","Quote","Reference","formattedAmount","formatAUD","calculatedFilterAmount","reduce","sale","amountData","Number","progressPercentage","handleOutsideClick","closest","attemptHighlight","delay","isRetry","targetRow","row","add","tableContainer","scrollPosition","offsetTop","clientHeight","scrollTo","newSearchParams","URLSearchParams","delete","retryTimer","clearTimeout","warn","timer","Container","fluid","fetchMultipleLost","fetchMultipleData","Download","handleButtonClick","Filter","SearchFilter","NavLink","bank_detail","account_number","margin","Tabs","activeKey","k","Tab","eventKey","CalendarWeek","DateRangePicker","newRange","BarChartSteps","_filterState$progress","_filterState$progress2","handleProgressChange","prevFilterState","prevProgress","clearProgressFilters","rest","applyProgressFilters","progressItems","ViewStacked","itemName","_filterState$statuses","_filterState$statuses2","handleStatusChange","prevStatuses","clearStatusFilters","applyStatusFilters","newFilterState","_filterState$projectM","_filterState$projectM2","handleProjectManagerChange","prevProjectManager","ImageAvatar","clearProjectManagerFilters","applyProjectManagerFilters","group","handleRemoveTag","newFilters","newItems","groupName","handleRemoveGroup","CustomAvatarGroup","params","userGroups","multiSelectRef","assignedUsers","useMemo","selectedUsers","setSelectedUsers","assignedUsersArray","preSelectedUsers","panelFooter","_params$row","assignManagers","backgroundColor","_multiSelectRef$curre","MultiSelect","optionLabel","optionValue","filterBy","_user$first_name","_user$last_name","panelFooterTemplate","pointerEvents","createSalesNote","SalesNote","Calculation","calculation","CalculationPDF","quote_url","CalculationURL","unique_url","Note","sales_note","fullName","Contact","sales_contacts","lead","amount","Actions","previous_versions","has_recurring","fetchData","trialHeight","useTrialHeight","setRows","selectedRows","setUserGroups","visibleSalesManagers","setVisibleSalesManagers","groups","activeDesktopUsers","removeRow","selectedRowsCount","columns","headerName","renderCell","_params$row2","_params$row3","sortable","RequestChanges","ContactSales","Progress","QuoteLost","saleId","fetchData1","QuoteWon","ActionsDots","TableTopBar","Table","responsive","handleSelectAllCheckboxChange","allRowIds","column","Resizable","colSpan","NoDataFoundTemplate","isDataExist","rowId","updatedSelectedRows","splice","indexOf","handleCheckboxChange","SalesHistory","Sales","setSalesData","parsedData","Helmet","Spinner","SalesTables","dates","setDates","start","end","handleToday","today","setHours","footerTemplate","hasValidRange","getHeaderText","_dates$","_dates$2","selectionMode","numberOfMonths","firstDayOfWeek","prevIcon","ChevronLeftIcon","nextIcon","ChevronRightIcon","updateDis","setUpdateDis","onFileChange","clickedInsideTrigger","clickedInsidePopover","attachButton","v","attachmentPopover","attachmentLabel","Image","extensionToIcon","aac","FiletypeAac","ai","FiletypeAi","bmp","FiletypeBmp","cs","FiletypeCs","css","FiletypeCss","csv","FiletypeCsv","doc","FiletypeDoc","docx","FiletypeDocx","exe","FiletypeExe","gif","FiletypeGif","heic","FiletypeHeic","html","FiletypeHtml","java","FiletypeJava","jpg","FiletypeJpg","jpeg","js","FiletypeJs","FiletypeJson","jsx","FiletypeJsx","FiletypeKey","m4p","FiletypeM4p","md","FiletypeMd","mdx","FiletypeMdx","mov","FiletypeMov","mp3","FiletypeMp3","mp4","FiletypeMp4","otf","FiletypeOtf","pdf","FiletypePdf","php","FiletypePhp","png","FiletypePng","ppt","FiletypePpt","pptx","FiletypePptx","psd","FiletypePsd","py","FiletypePy","raw","FiletypeRaw","rb","FiletypeRb","sass","FiletypeSass","scss","FiletypeScss","sh","FiletypeSh","sql","FiletypeSql","svg","FiletypeSvg","tiff","FiletypeTiff","tsx","FiletypeTsx","ttf","FiletypeTtf","txt","FiletypeTxt","wav","FiletypeWav","woff","FiletypeWoff","xls","FiletypeXls","xlsx","FiletypeXlsx","xml","FiletypeXml","yml","FiletypeYml","zip","rar","tar","pub","swf","iconData","iconColor"],"sourceRoot":""}