"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[7380],{17380:(e,t,a)=>{a.d(t,{LR:()=>P});var r=a(65043),n=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xf4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xe7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["R\xe9union","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],i=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e=>!!e)).join(" ").trim()},o=e=>{let{addPrefix:t,rawClassNames:a}=e;return i(function(){return i(...arguments).split(" ").map((e=>`react-international-phone-${e}`)).join(" ")}(...t),...a)},l=e=>!!e&&/^\d+$/.test(e),s=e=>e.replace(/\D/g,""),u=e=>{let{phone:t,prefix:a}=e;return t?`${a}${s(t)}`:""};function d(e){let{value:t,country:a,insertDialCodeOnEmpty:r,trimNonDigitsEnd:n,countries:i,prefix:o,charAfterDialCode:l,forceDialCode:d,disableDialCodeAndPrefix:c,defaultMask:f,countryGuessingEnabled:p,disableFormatting:y}=e,h=t;c&&(h=h.startsWith(`${o}`)?h:`${o}${a.dialCode}${h}`);let g=p?v({phone:h,countries:i,currentCountryIso2:a?.iso2}):void 0,b=g?.country??a,w=((e,t)=>{let a=!t.disableDialCodeAndPrefix&&t.forceDialCode,r=!t.disableDialCodeAndPrefix&&t.insertDialCodeOnEmpty,n=e,i=e=>t.trimNonDigitsEnd?e.trim():e;if(!n)return r&&!n.length||a?i(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`):i(n);if(n=s(n),n===t.dialCode&&!t.disableDialCodeAndPrefix)return i(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(t.dialCode.startsWith(n)&&!t.disableDialCodeAndPrefix)return i(a?`${t.prefix}${t.dialCode}${t.charAfterDialCode}`:`${t.prefix}${n}`);if(!n.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(a)return i(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(n.length<t.dialCode.length)return i(`${t.prefix}${n}`)}let{phoneLeftSide:o,phoneRightSide:l}=(()=>{let e=t.dialCode.length;return{phoneLeftSide:n.slice(0,e),phoneRightSide:n.slice(e)}})();return o=`${t.prefix}${o}${t.charAfterDialCode}`,l=(e=>{let{value:t,mask:a,maskSymbol:r,offset:n=0,trimNonMaskCharsLeftover:i=!1}=e;if(t.length<n)return t;let o=t.slice(0,n),l=t.slice(n),s=o,u=0;for(let d of a.split("")){if(u>=l.length){if(!i&&d!==r){s+=d;continue}break}d===r?(s+=l[u],u+=1):s+=d}return s})({value:l,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&0===l.length}),t.disableDialCodeAndPrefix&&(o=""),i(`${o}${l}`)})(h,{prefix:o,mask:C({phone:h,country:b,defaultMask:f,disableFormatting:y}),maskChar:m,dialCode:b.dialCode,trimNonDigitsEnd:n,charAfterDialCode:l,forceDialCode:d,insertDialCodeOnEmpty:r,disableDialCodeAndPrefix:c}),D=p&&!g?.fullDialCodeMatch?a:b;return{phone:u({phone:c?`${D.dialCode}${w}`:w,prefix:o}),inputValue:w,country:D}}var c=(e,t)=>{let{country:a,insertDialCodeOnEmpty:r,phoneBeforeInput:n,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:c,countryGuessingEnabled:f,defaultMask:p,disableFormatting:m,countries:y}=t,h=e.nativeEvent,C=h.inputType,g=(e=>{if(e?.toLocaleLowerCase().includes("delete"))return e?.toLocaleLowerCase().includes("forward")?"forward":"backward"})(C),b=!!C?.startsWith("insertFrom"),v="insertText"===C,w=h?.data||void 0,D=e.target.value,k=e.target.selectionStart??0;if(C?.includes("history"))return{inputValue:n,phone:u({phone:n,prefix:i}),cursorPosition:n.length,country:a};if(v&&!l(w)&&D!==i)return{inputValue:n,phone:u({phone:c?`${a.dialCode}${n}`:n,prefix:i}),cursorPosition:k-(w?.length??0),country:a};if(s&&!D.startsWith(`${i}${a.dialCode}`)&&!b){let e=D?n:`${i}${a.dialCode}${o}`;return{inputValue:e,phone:u({phone:e,prefix:i}),cursorPosition:i.length+a.dialCode.length+o.length,country:a}}let{phone:x,inputValue:N,country:S}=d({value:D,country:a,trimNonDigitsEnd:"backward"===g,insertDialCodeOnEmpty:r,countryGuessingEnabled:f,countries:y,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:c,disableFormatting:m,defaultMask:p}),P=(e=>{let{phoneBeforeInput:t,phoneAfterInput:a,phoneAfterFormatted:r,cursorPositionAfterInput:n,leftOffset:i=0,deletion:o}=e;if(n<i)return i;if(!t)return r.length;let s=null;for(let f=n-1;f>=0;f-=1)if(l(a[f])){s=f;break}if(null===s){for(let e=0;e<a.length;e+=1)if(l(r[e]))return e;return a.length}let u=0;for(let f=0;f<s;f+=1)l(a[f])&&(u+=1);let d=0,c=0;for(let f=0;f<r.length&&(d+=1,l(r[f])&&(c+=1),!(c>=u+1));f+=1);if("backward"!==o)for(;!l(r[d])&&d<r.length;)d+=1;return d})({cursorPositionAfterInput:k,phoneBeforeInput:n,phoneAfterInput:D,phoneAfterFormatted:N,leftOffset:s?i.length+a.dialCode.length+o.length:0,deletion:g});return{phone:x,inputValue:N,cursorPosition:P,country:S}},f={size:20,overrideLastItemDebounceMS:-1};function p(e,t){let{size:a,overrideLastItemDebounceMS:n,onChange:i}={...f,...t},[o,l]=(0,r.useState)(e),[s,u]=(0,r.useState)([o]),[d,c]=(0,r.useState)(0),p=(()=>{let e=(0,r.useRef)(),t=(0,r.useRef)(Date.now());return{check:()=>{let a=Date.now(),r=e.current?a-t.current:void 0;return e.current=t.current,t.current=a,r}}})();return[o,(e,t)=>{if("object"==typeof e&&"object"==typeof o&&((e,t)=>{let a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let n of a)if(e[n]!==t[n])return!1;return!0})(e,o)||e===o)return;let r=n>0,f=p.check(),m=!r||void 0===f||f>n;if(void 0!==t?.overrideLastItem?t.overrideLastItem:!m)u((t=>[...t.slice(0,d),e]));else{let t=s.length>=a;u((a=>[...a.slice(t?1:0,d+1),e])),t||c((e=>e+1))}l(e),i?.(e)},()=>{if(d<=0)return{success:!1};let e=s[d-1];return l(e),c((e=>e-1)),i?.(e),{success:!0,value:e}},()=>{if(d+1>=s.length)return{success:!1};let e=s[d+1];return l(e),c((e=>e+1)),i?.(e),{success:!0,value:e}}]}var m=".",y={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:n,preferredCountries:[]},h=e=>{let{defaultCountry:t=y.defaultCountry,value:a=y.value,countries:n=y.countries,prefix:i=y.prefix,defaultMask:o=y.defaultMask,charAfterDialCode:l=y.charAfterDialCode,historySaveDebounceMS:s=y.historySaveDebounceMS,disableCountryGuess:u=y.disableCountryGuess,disableDialCodePrefill:f=y.disableDialCodePrefill,forceDialCode:m=y.forceDialCode,disableDialCodeAndPrefix:h=y.disableDialCodeAndPrefix,disableFormatting:C=y.disableFormatting,onChange:g,inputRef:v}=e,w={countries:n,prefix:i,charAfterDialCode:l,forceDialCode:!h&&m,disableDialCodeAndPrefix:h,defaultMask:o,countryGuessingEnabled:!u,disableFormatting:C},D=(0,r.useRef)(null),k=v||D,x=e=>{Promise.resolve().then((()=>{typeof window>"u"||k.current!==document?.activeElement||k.current?.setSelectionRange(e,e)}))},[{phone:N,inputValue:S,country:P},A,$,E]=p((()=>{let e=b({value:t,field:"iso2",countries:n});e||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let r=e||b({value:"us",field:"iso2",countries:n}),{phone:i,inputValue:o,country:l}=d({value:a,country:r,insertDialCodeOnEmpty:!f,...w});return x(o.length),{phone:i,inputValue:o,country:l.iso2}}),{overrideLastItemDebounceMS:s,onChange:e=>{let{inputValue:t,phone:a,country:r}=e;if(!g)return;let n=M(r);g({phone:a,inputValue:t,country:n})}}),M=(0,r.useCallback)((e=>b({value:e,field:"iso2",countries:n})),[n]),I=(0,r.useMemo)((()=>M(P)),[P,M]);(0,r.useEffect)((()=>{let e=k.current;if(!e)return;let t=e=>{if(!e.key)return;let t=e.ctrlKey,a=e.metaKey,r=e.shiftKey;if("z"===e.key.toLowerCase()){if(typeof window>"u"||!window.navigator.userAgent.toLowerCase().includes("macintosh")){if(!t)return}else if(!a)return;r?E():$()}};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}),[k,$,E]);let[L,z]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!L)return z(!0),void(a!==N&&g?.({inputValue:S,phone:N,country:I}));if(a===N)return;let{phone:e,inputValue:t,country:r}=d({value:a,country:I,insertDialCodeOnEmpty:!f,...w});A({phone:e,inputValue:t,country:r.iso2})}),[a]),{phone:N,inputValue:S,country:I,setCountry:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focusOnInput:!1},a=b({value:e,field:"iso2",countries:n});if(!a)return void console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let r=h?"":`${i}${a.dialCode}${l}`;A({inputValue:r,phone:`${i}${a.dialCode}`,country:a.iso2}),t.focusOnInput&&Promise.resolve().then((()=>{k.current?.focus()}))},handlePhoneValueChange:e=>{e.preventDefault();let{phone:t,inputValue:r,country:n,cursorPosition:i}=c(e,{country:I,phoneBeforeInput:S,insertDialCodeOnEmpty:!1,...w});return A({inputValue:r,phone:t,country:n.iso2}),x(i),a},inputRef:k}},C=e=>{let{phone:t,country:a,defaultMask:r="............",disableFormatting:n=!1}=e,i=a.format,o=e=>n?e.replace(new RegExp(`[^${m}]`,"g"),""):e;if(!i)return o(r);if("string"==typeof i)return o(i);if(!i.default)return console.error(`[react-international-phone]: default mask for ${a.iso2} is not provided`),o(r);let l=Object.keys(i).find((e=>{if("default"===e)return!1;if("/"!==e.charAt(0)||"/"!==e.charAt(e.length-1))return console.error(`[react-international-phone]: format regex "${e}" for ${a.iso2} is not valid`),!1;let r=new RegExp(e.substring(1,e.length-1)),n=t.replace(a.dialCode,"");return r.test(s(n))}));return o(l?i[l]:i.default)},g=e=>{let[t,a,r,n,i,o]=e;return{name:t,iso2:a,dialCode:r,format:n,priority:i,areaCodes:o}},b=e=>{let{field:t,value:a,countries:r=n}=e;if(["priority"].includes(t))throw new Error((e=>`Field "${e}" is not supported`)(t));let i=r.find((e=>{let r=g(e);return a===r[t]}));if(i)return g(i)},v=e=>{let{phone:t,countries:a=n,currentCountryIso2:r}=e,i={country:void 0,fullDialCodeMatch:!1};if(!t)return i;let o=s(t);if(!o)return i;let l=i,u=e=>{let{country:t,fullDialCodeMatch:a}=e,r=t.dialCode===l.country?.dialCode,n=(t.priority??0)<(l.country?.priority??0);(!r||n)&&(l={country:t,fullDialCodeMatch:a})};for(let n of a){let e=g(n),{dialCode:t,areaCodes:a}=e;if(o.startsWith(t)){let r=!l.country||Number(t)>=Number(l.country.dialCode);if(a){let r=o.substring(t.length);for(let t of a)if(r.startsWith(t))return{country:e,fullDialCodeMatch:!0}}(r||t===o||!l.fullDialCodeMatch)&&u({country:e,fullDialCodeMatch:!0})}l.fullDialCodeMatch||o.length<t.length&&t.startsWith(o)&&(!l.country||Number(t)<=Number(l.country.dialCode))&&u({country:e,fullDialCodeMatch:!1})}if(r){let e=b({value:r,field:"iso2",countries:a});if(!e)return l;let t=!!e&&(e=>{if(!e?.areaCodes)return!1;let t=o.substring(e.dialCode.length);return e.areaCodes.some((e=>e.startsWith(t)))})(e);l&&l.country?.dialCode===e.dialCode&&l.country!==e&&l.fullDialCodeMatch&&(!e.areaCodes||t)&&(l={country:e,fullDialCodeMatch:!0})}return l},w=(e,t)=>{let a=parseInt(e,16);return Number(a+t).toString(16)},D="abcdefghijklmnopqrstuvwxyz".split("").reduce(((e,t,a)=>({...e,[t]:w("1f1e6",a)})),{}),k=e=>{let{iso2:t,size:a,src:n,protocol:i="https",disableLazyLoading:l,className:s,style:u,...d}=e;if(!t)return r.createElement("img",{className:o({addPrefix:["flag-emoji"],rawClassNames:[s]}),width:a,height:a,...d});return r.createElement("img",{className:o({addPrefix:["flag-emoji"],rawClassNames:[s]}),src:(()=>{if(n)return n;let e=(e=>[D[e[0]],D[e[1]]].join("-"))(t);return`${i}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${e}.svg`})(),width:a,height:a,draggable:!1,"data-country":t,loading:l?void 0:"lazy",style:{width:a,height:a,...u},alt:"",...d})},x=e=>{let{show:t,dialCodePrefix:a="+",selectedCountry:i,countries:l=n,preferredCountries:s=[],flags:u,onSelect:d,onClose:c,...f}=e,p=(0,r.useRef)(null),m=(0,r.useRef)(),y=(0,r.useMemo)((()=>{if(!s||!s.length)return l;let e=[],t=[...l];for(let a of s){let r=t.findIndex((e=>g(e).iso2===a));if(-1!==r){let a=t.splice(r,1)[0];e.push(a)}}return e.concat(t)}),[l,s]),h=(0,r.useRef)({updatedAt:void 0,value:""}),C=(0,r.useCallback)((e=>y.findIndex((t=>g(t).iso2===e))),[y]),[b,v]=(0,r.useState)(C(i)),w=()=>{m.current!==i&&v(C(i))},D=(0,r.useCallback)((e=>{v(C(e.iso2)),d?.(e)}),[d,C]),x=e=>{let t=y.length-1;v((a=>{let r=(a=>"prev"===e?a-1:"next"===e?a+1:"last"===e?t:0)(a);return r<0?0:r>t?t:r}))},N=(0,r.useCallback)((()=>{if(!p.current||void 0===b)return;let e=g(y[b]).iso2;if(e===m.current)return;let t=p.current.querySelector(`[data-country="${e}"]`);t&&(((e,t)=>{let a=e.style.display;"block"!==a&&(e.style.display="block");let r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=n.top-r.top,o=r.bottom-n.bottom;i>=0&&o>=0||(Math.abs(i)<Math.abs(o)?e.scrollTop+=i:e.scrollTop-=o),e.style.display=a})(p.current,t),m.current=e)}),[b,y]);return(0,r.useEffect)((()=>{N()}),[b,N]),(0,r.useEffect)((()=>{p.current&&(t?p.current.focus():w())}),[t]),(0,r.useEffect)((()=>{w()}),[i]),r.createElement("ul",{ref:p,role:"listbox",className:o({addPrefix:["country-selector-dropdown"],rawClassNames:[f.className]}),style:{display:t?"block":"none",...f.style},onKeyDown:e=>{if(e.stopPropagation(),"Enter"!==e.key){if("Escape"!==e.key)return"ArrowUp"===e.key?(e.preventDefault(),void x("prev")):"ArrowDown"===e.key?(e.preventDefault(),void x("next")):"PageUp"===e.key?(e.preventDefault(),void x("first")):"PageDown"===e.key?(e.preventDefault(),void x("last")):(" "===e.key&&e.preventDefault(),void(1===e.key.length&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&(e=>{let t=h.current.updatedAt&&(new Date).getTime()-h.current.updatedAt.getTime()>1e3;h.current={value:t?e:`${h.current.value}${e}`,updatedAt:new Date};let a=y.findIndex((e=>g(e).name.toLowerCase().startsWith(h.current.value)));-1!==a&&v(a)})(e.key.toLocaleLowerCase())));c?.()}else{e.preventDefault();let t=g(y[b]);D(t)}},onBlur:c,tabIndex:-1,"aria-activedescendant":`react-international-phone__${g(y[b]).iso2}-option`},y.map(((e,t)=>{let n=g(e),l=n.iso2===i,d=t===b,c=s.includes(n.iso2),p=t===s.length-1,m=u?.find((e=>e.iso2===n.iso2));return r.createElement(r.Fragment,{key:n.iso2},r.createElement("li",{"data-country":n.iso2,role:"option","aria-selected":l,"aria-label":`${n.name} ${a}${n.dialCode}`,id:`react-international-phone__${n.iso2}-option`,className:o({addPrefix:["country-selector-dropdown__list-item",c&&"country-selector-dropdown__list-item--preferred",l&&"country-selector-dropdown__list-item--selected",d&&"country-selector-dropdown__list-item--focused"],rawClassNames:[f.listItemClassName]}),onClick:()=>D(n),style:f.listItemStyle,title:n.name},r.createElement(k,{iso2:n.iso2,src:m?.src,className:o({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[f.listItemFlagClassName]}),style:f.listItemFlagStyle}),r.createElement("span",{className:o({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[f.listItemCountryNameClassName]}),style:f.listItemCountryNameStyle},n.name),r.createElement("span",{className:o({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[f.listItemDialCodeClassName]}),style:f.listItemDialCodeStyle},a,n.dialCode)),p?r.createElement("hr",{className:o({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[f.preferredListDividerClassName]}),style:f.preferredListDividerStyle}):null)})))},N=e=>{let{selectedCountry:t,onSelect:a,disabled:i,hideDropdown:l,countries:s=n,preferredCountries:u=[],flags:d,renderButtonWrapper:c,...f}=e,[p,m]=(0,r.useState)(!1),y=(0,r.useMemo)((()=>{if(t)return b({value:t,field:"iso2",countries:s})}),[s,t]),h=(0,r.useRef)(null),C=e=>{e.key&&["ArrowUp","ArrowDown"].includes(e.key)&&(e.preventDefault(),m(!0))};return r.createElement("div",{className:o({addPrefix:["country-selector"],rawClassNames:[f.className]}),style:f.style,ref:h},(()=>{let e={title:y?.name,onClick:()=>m((e=>!e)),onMouseDown:e=>e.preventDefault(),onKeyDown:C,disabled:l||i,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":p},a=r.createElement("div",{className:o({addPrefix:["country-selector-button__button-content"],rawClassNames:[f.buttonContentWrapperClassName]}),style:f.buttonContentWrapperStyle},r.createElement(k,{iso2:t,src:d?.find((e=>e.iso2===t))?.src,className:o({addPrefix:["country-selector-button__flag-emoji",i&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[f.flagClassName]}),style:{visibility:t?"visible":"hidden",...f.flagStyle}}),!l&&r.createElement("div",{className:o({addPrefix:["country-selector-button__dropdown-arrow",i&&"country-selector-button__dropdown-arrow--disabled",p&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[f.dropdownArrowClassName]}),style:f.dropdownArrowStyle}));return c?c({children:a,rootProps:e}):r.createElement("button",{...e,type:"button",className:o({addPrefix:["country-selector-button",p&&"country-selector-button--active",i&&"country-selector-button--disabled",l&&"country-selector-button--hide-dropdown"],rawClassNames:[f.buttonClassName]}),"data-country":t,style:f.buttonStyle},a)})(),r.createElement(x,{show:p,countries:s,preferredCountries:u,flags:d,onSelect:e=>{m(!1),a?.(e)},selectedCountry:t,onClose:()=>{m(!1)},...f.dropdownStyleProps}))},S=e=>{let{dialCode:t,prefix:a,disabled:n,style:i,className:l}=e;return r.createElement("div",{className:o({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[l]}),style:i},`${a}${t}`)},P=(0,r.forwardRef)(((e,t)=>{let{value:a,onChange:i,countries:l=n,preferredCountries:s=[],hideDropdown:u,showDisabledDialCodeAndPrefix:d,disableFocusAfterCountrySelect:c,flags:f,style:p,className:m,inputStyle:y,inputClassName:C,countrySelectorStyleProps:g,dialCodePreviewStyleProps:b,inputProps:v,placeholder:w,disabled:D,name:k,onFocus:x,onBlur:P,required:A,autoFocus:$,...E}=e,{phone:M,inputValue:I,inputRef:L,country:z,setCountry:_,handlePhoneValueChange:B}=h({value:a,countries:l,...E,onChange:e=>{i?.(e.phone,{country:e.country,inputValue:e.inputValue})}}),V=E.disableDialCodeAndPrefix&&d&&z?.dialCode;return(0,r.useImperativeHandle)(t,(()=>L.current?Object.assign(L.current,{setCountry:_,state:{phone:M,inputValue:I,country:z}}):null),[L,_,M,I,z]),r.createElement("div",{ref:t,className:o({addPrefix:["input-container"],rawClassNames:[m]}),style:p},r.createElement(N,{onSelect:e=>_(e.iso2,{focusOnInput:!c}),flags:f,selectedCountry:z.iso2,countries:l,preferredCountries:s,disabled:D,hideDropdown:u,...g}),V&&r.createElement(S,{dialCode:z.dialCode,prefix:E.prefix??"+",disabled:D,...b}),r.createElement("input",{onChange:B,value:I,type:"tel",ref:L,className:o({addPrefix:["input",D&&"input--disabled"],rawClassNames:[C]}),placeholder:w,disabled:D,style:y,name:k,onFocus:x,onBlur:P,autoFocus:$,required:A,...v}))}))}}]);
//# sourceMappingURL=7380.219ed532.chunk.js.map