"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[246],{72491:(e,s,a)=>{a.d(s,{A:()=>r});a(65043);const r=a.p+"static/media/arrow.39453b4ea8b344e3bb6f41c5a35a5b74.svg"},67972:(e,s,a)=>{a.d(s,{A:()=>r});a(65043);const r=a.p+"static/media/envelope.c9c11cfa6a43774942324c9ac7f33f2d.svg"},27472:(e,s,a)=>{a.d(s,{A:()=>r});a(65043);const r=a.p+"static/media/exclamation-circle.cae916ce28e0a8d8d07a477235f7a993.svg"},8755:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var r=a(65043),t=a(49367),c=a(73216),l=a(35475);var o=a(72491),n=a(67972),i=a(27472);const d=a.p+"static/media/unlock.5229ed0737dba142ff1428b223a851a0.svg",g=a.p+"static/media/loginslidebg.fc6dcee6c1884ac26420.png";var m=a(33975),u=a(70579);const p=()=>{(0,c.Zp)();const[e,s]=(0,r.useState)(""),[a,p]=(0,r.useState)(""),h=localStorage.getItem("isLoggedIn"),[x,j]=(0,r.useState)(!1),[f,b]=(0,r.useState)(null),[v,w]=(0,r.useState)(null),[N,y]=(0,r.useState)(null);if(h)return(0,u.jsx)(c.C5,{to:"/",replace:!0});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(t.mg,{children:(0,u.jsx)("title",{children:"MeMate - Login"})}),(0,u.jsx)("form",{onSubmit:async s=>{s.preventDefault(),b(null),w(null),y(null);let r=!0;if(e.trim()||(b("Email is required."),r=!1),a.trim()||(w("Password is required."),r=!1),r)try{j(!0);const{success:s}=await(async(e,s)=>{const a=new FormData;a.append("email",e),a.append("password",s);const r={method:"POST",body:a,redirect:"follow"};try{const e=await fetch("https://dev.memate.com.au/api/v1/login/",r);if(!e.ok)return console.error("Authentication error:",e.statusText),{success:!1,error:e.statusText};const s=await e.json(),{access:a,refresh:t}=s;return localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",t),{success:!0}}catch(t){return console.error("Authentication error:",t),{success:!1,error:t.message}}})(e,a);s?(localStorage.setItem("isLoggedIn",!0),window.location.href="/"):y("Invalid email or password.")}catch(t){y("An error occurred during login. Please try again."),console.error("Login error:",t)}finally{j(!1)}else j(!1)},children:(0,u.jsxs)("div",{className:"loginPage",children:[(0,u.jsxs)("div",{className:"boxinfo",children:[(0,u.jsx)("div",{className:"logohead",children:(0,u.jsx)("img",{src:m.A,alt:"Loin Logo"})}),(0,u.jsxs)("div",{className:"boxLogin",children:[(0,u.jsxs)("h2",{children:["Login to ",(0,u.jsx)("span",{children:"MeMate"})]}),(0,u.jsxs)("div",{className:"formgroup",children:[(0,u.jsxs)("label",{children:["Email",(0,u.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,u.jsxs)("div",{className:"inputInfo "+(f?"error-border":e?"successBorder":""),children:[(0,u.jsx)("img",{src:n.A,alt:"Envelope Icon"}),(0,u.jsx)("input",{type:"text",placeholder:"Enter email",value:e,onChange:e=>s(e.target.value),disabled:x}),(0,u.jsx)("img",{className:"ExclamationCircle",src:i.A,alt:"Exclamation Circle"})]}),f&&(0,u.jsx)("p",{className:"error-message",children:f})]}),(0,u.jsxs)("div",{className:"formgroup",children:[(0,u.jsxs)("label",{children:["Password",(0,u.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,u.jsxs)("div",{className:"inputInfo "+(v?"error-border":e?"successBorder":""),children:[(0,u.jsx)("img",{src:d,alt:"Unlock Icon"}),(0,u.jsx)("input",{type:"password",placeholder:"Enter password",value:a,onChange:e=>p(e.target.value),disabled:x}),(0,u.jsx)("img",{className:"ExclamationCircle",src:i.A,alt:"Exclamation Circle"})]}),v&&(0,u.jsx)("p",{className:"error-message",children:v}),N&&(0,u.jsx)("p",{className:"error-message",children:N})]}),(0,u.jsx)(l.N_,{to:"/forgot-password",className:"textbtn",children:"Forgot password"}),(0,u.jsxs)("button",{type:"submit",className:"fillbtn flexcenterbox",disabled:x,children:[x?"Logging in...":"Login",(0,u.jsx)("img",{src:o.A,alt:"Arrow Right"})]}),(0,u.jsx)("p",{className:"loading",children:x?"Logging in...":"Login"})]}),(0,u.jsxs)("div",{className:"copywrite",children:["\xa9 Memate ",(new Date).getFullYear()]})]}),(0,u.jsx)("div",{className:"sliderRight SinglBgRight",style:{backgroundImage:`url(${g})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"bottom"},children:(0,u.jsx)("p",{children:"Reduce admin work at every stage."})})]})})]})}}}]);
//# sourceMappingURL=246.3c0178c7.chunk.js.map