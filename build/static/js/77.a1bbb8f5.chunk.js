"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[77],{10971:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(65043),a=n(73898),s=n(49367),i=n(24858),o=n(35475),l=n(18403),c=n(74856),d=n(80899),u=n(24932),p=n(61745),m=n(623),h=n(48417),b=n(70579);const f=d.Ik().shape({bank_name:d.Yj().required("Bank name is required"),bsb:d.Yj().matches(/^\d{6}$/,"BSB must be 6 digits").required("BSB is required"),account_number:d.Yj().matches(/^\d+$/,"Account number must be numeric").required("Account number is required")}),g=()=>{const{trialHeight:e}=(0,h.$)(),[t,n]=(0,r.useState)("generalinformation"),[d,g]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!0),[v,x]=(0,r.useState)(!1),[k,w]=(0,r.useState)(""),{register:S,handleSubmit:N,setValue:O,formState:{errors:P},watch:E}=(0,i.mN)({resolver:(0,l.t)(f)});(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,m.ms)(),t=JSON.parse(e);Object.keys(t).forEach((e=>O(e,t[e])))}catch(k){console.error("Error fetching Bank information:",k),w("Failed to load bank details. Please try again later.")}finally{j(!1)}})()}),[O]);return(0,b.jsxs)("div",{className:"settings-wrap",children:[(0,b.jsx)(s.mg,{children:(0,b.jsx)("title",{children:"MeMate - Bank Details"})}),(0,b.jsxs)("div",{className:"settings-wrapper",children:[(0,b.jsx)(p.A,{activeTab:t,setActiveTab:n}),(0,b.jsxs)("div",{className:"settings-content",children:[(0,b.jsxs)("div",{className:"headSticky",children:[(0,b.jsx)("h1",{children:"Company Information"}),(0,b.jsx)("div",{className:"contentMenuTab",children:(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsx)(o.N_,{to:"/settings/generalinformation",children:"General Information"})}),(0,b.jsx)("li",{className:"menuActive",children:(0,b.jsx)(o.N_,{to:"/settings/generalinformation/bank-details",children:"Bank Details"})}),(0,b.jsx)("li",{children:(0,b.jsx)(o.N_,{to:"/settings/generalinformation/region-and-language",children:"Region & Language"})})]})})]}),(0,b.jsx)("div",{className:"content_wrap_main pb-0 "+(d?"isEditingwrap":""),style:{height:`calc(100vh - 230px - ${e}px)`},children:(0,b.jsx)("div",{className:"content_wrapper pb-0 h-100",children:(0,b.jsxs)("div",{className:`listwrapper ${u.A.listwrapp} pb-0`,children:[(0,b.jsxs)("div",{className:"topHeadStyle",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Bank Details"}),d&&(0,b.jsx)("p",{children:"Provide accurate bank account details to ensure smooth transactions and payments."})]}),!d&&(0,b.jsxs)(o.N_,{to:"#",onClick:()=>g(!0),children:["Edit ",(0,b.jsx)(a.A,{color:"#667085",size:20})]})]}),(0,b.jsxs)("form",{onSubmit:N((async e=>{try{x(!0),await(0,m.yA)(e),g(!1),window.location.reload()}catch(k){console.error("Error updating Bank information:",k),w("Failed to update bank details. Please try again.")}finally{x(!1)}})),children:[(0,b.jsx)("ul",{children:["bank_name","bsb","account_number"].map(((e,t)=>(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{children:e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))}),y?(0,b.jsx)(c.E,{width:"100%",height:"2rem"}):d?(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"text",...S(e)}),P[e]&&(0,b.jsx)("p",{className:"error-message",children:P[e].message})]}):(0,b.jsx)("strong",{children:E(e)||""})]},t)))}),d&&(0,b.jsxs)("div",{className:"updateButtonGeneral pb-3",style:{position:"fixed",bottom:0,width:"calc(100vw - 320px)",right:20},children:[(0,b.jsx)("button",{type:"button",className:"cancel",onClick:()=>g(!1),disabled:y,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"save",disabled:v,children:v?"Saving...":"Save"})]})]}),k&&(0,b.jsx)("p",{className:"error-message",children:k})]})})})]})]})]})}},74856:(e,t,n)=>{n.d(t,{E:()=>h});var r=n(65043),a=n(84052),s=n(41828),i=n(2028),o=n(4504);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var d={root:function(e){var t=e.props;return(0,o.xW)("p-skeleton p-component",{"p-skeleton-circle":"circle"===t.shape,"p-skeleton-none":"none"===t.animation})}},u=s.x.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:d,inlineStyles:{root:{position:"relative"}},styles:'\n@layer primereact {\n    .p-skeleton {\n        position: relative;\n        overflow: hidden;\n    }\n    \n    .p-skeleton::after {\n        content: "";\n        animation: p-skeleton-animation 1.2s infinite;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(-100%);\n        z-index: 1;\n    }\n    \n    .p-skeleton-circle {\n        border-radius: 50%;\n    }\n    \n    .p-skeleton-none::after {\n        animation: none;\n    }\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n'}});function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){var r,a,s;r=e,a=t,s=n[t],(a=c(a))in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=r.memo(r.forwardRef((function(e,t){var n=(0,i.qV)(),l=r.useContext(a.UM),c=u.getProps(e,l),d=u.setMetaData({props:c}),p=d.ptm,h=d.cx,b=d.sx,f=d.isUnstyled;(0,s.j)(u.css.styles,f,{name:"skeleton"});var g=r.useRef(null);r.useImperativeHandle(t,(function(){return{props:c,getElement:function(){return g.current}}}));var y=c.size?{width:c.size,height:c.size,borderRadius:c.borderRadius}:{width:c.width,height:c.height,borderRadius:c.borderRadius},j=n({ref:g,className:(0,o.xW)(c.className,h("root")),style:m(m({},y),b("root")),"aria-hidden":!0},u.getOtherProps(c),p("root"));return r.createElement("div",j)})));h.displayName="Skeleton"},63712:(e,t,n)=>{n.d(t,{Ak:()=>r});let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t}}}]);
//# sourceMappingURL=77.a1bbb8f5.chunk.js.map