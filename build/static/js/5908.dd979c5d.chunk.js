"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5908],{568:(e,s,t)=>{t.d(s,{J:()=>r});const r=Object.freeze({CLIENTS:{CREATE:"CREATE_CLIENT",READ:"READ_CLIENT",UPDATE:"UPDATE_CLIENT",DELETE:"DELETE_CLIENT"},SUPPLIERS:{CREATE:"CREATE_SUPPLIER",READ:"READ_SUPPLIER",UPDATE:"UPDATE_SUPPLIER",DELETE:"DELETE_SUPPLIER"},SALES:{},MANAGEMENT:{},PROJECTS:{},STATISTIC:{},EXPENSE:{CREATE:"CREATE_EXPENSE",READ:"READ_EXPENSE",UPDATE:"UPDATE_EXPENSE",DELETE:"DELETE_EXPENSE"},INVOICE:{CREATE:"CREATE_INVOICE",READ:"READ_INVOICE",UPDATE:"UPDATE_INVOICE",DELETE:"DELETE_INVOICE"},SETTINGS:{USERS:{MOBILE_APP:{ADD:"ADD_USER",READ:"READ_USER",UPDATE:"UPDATE_USER",DISCONNECT_USER:"DISCONNECT_USER",RECONNECT_USER:"RECONNECT_USER",SHOW_DISCONNECTED_USERS:"SHOW_DISCONNECTED_USERS",BUY_USER:"BUY_USER"},DESKTOP:{ADD:"ADD_USER",READ:"READ_USER",DELETE:"DELETE_USER",UPDATE:"UPDATE_USER",RESTORE:"RESTORE_USER",SHOW_DELETED_USERS:"SHOW_DELETED_USERS",BUY_USER:"BUY_USER"}}}})},2210:(e,s,t)=>{t.d(s,{A:()=>c});var r=t(65043),l=t(65173),a=t.n(l),i=["color","size","title","className"];function n(){return n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(null,arguments)}var o=(0,r.forwardRef)((function(e,s){var t=e.color,l=void 0===t?"currentColor":t,a=e.size,o=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,m=void 0===u?"":u,p=function(e,s){if(null==e)return{};var t,r,l=function(e,s){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(s.includes(r))continue;t[r]=e[r]}return t}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,i);return r.createElement("svg",n({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-person-add",m].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"}),r.createElement("path",{d:"M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=o},11778:(e,s,t)=>{t.d(s,{A:()=>l});const r=t(65043).createContext(null);r.displayName="CardHeaderContext";const l=r},13846:(e,s,t)=>{t.d(s,{A:()=>P});var r=t(98139),l=t.n(r),a=t(65043),i=t(67852),n=t(35284),o=t(70579);const c=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="div",...n}=e;return r=(0,i.oU)(r,"card-footer"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));c.displayName="CardFooter";const d=c;var u=t(11778);const m=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,as:n="div",...c}=e;const d=(0,i.oU)(t,"card-header"),m=(0,a.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,o.jsx)(u.A.Provider,{value:m,children:(0,o.jsx)(n,{ref:s,...c,className:l()(r,d)})})}));m.displayName="CardHeader";const p=m,h=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,variant:a,as:n="img",...c}=e;const d=(0,i.oU)(t,"card-img");return(0,o.jsx)(n,{ref:s,className:l()(a?`${d}-${a}`:d,r),...c})}));h.displayName="CardImg";const x=h,E=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="div",...n}=e;return r=(0,i.oU)(r,"card-img-overlay"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));E.displayName="CardImgOverlay";const v=E,g=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="a",...n}=e;return r=(0,i.oU)(r,"card-link"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));g.displayName="CardLink";const f=g;var N=t(4488);const S=(0,N.A)("h6"),_=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a=S,...n}=e;return r=(0,i.oU)(r,"card-subtitle"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));_.displayName="CardSubtitle";const j=_,A=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="p",...n}=e;return r=(0,i.oU)(r,"card-text"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));A.displayName="CardText";const y=A,b=(0,N.A)("h5"),T=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a=b,...n}=e;return r=(0,i.oU)(r,"card-title"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));T.displayName="CardTitle";const w=T,R=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,bg:a,text:c,border:d,body:u=!1,children:m,as:p="div",...h}=e;const x=(0,i.oU)(t,"card");return(0,o.jsx)(p,{ref:s,...h,className:l()(r,x,a&&`bg-${a}`,c&&`text-${c}`,d&&`border-${d}`),children:u?(0,o.jsx)(n.A,{children:m}):m})}));R.displayName="Card";const P=Object.assign(R,{Img:x,Title:w,Subtitle:j,Body:n.A,Link:f,Text:y,Header:p,Footer:d,ImgOverlay:v})},22927:(e,s,t)=>{t.d(s,{A:()=>c});var r=t(65043),l=t(65173),a=t.n(l),i=["color","size","title","className"];function n(){return n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(null,arguments)}var o=(0,r.forwardRef)((function(e,s){var t=e.color,l=void 0===t?"currentColor":t,a=e.size,o=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,m=void 0===u?"":u,p=function(e,s){if(null==e)return{};var t,r,l=function(e,s){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(s.includes(r))continue;t[r]=e[r]}return t}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,i);return r.createElement("svg",n({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-file-text",m].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"}),r.createElement("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=o},24370:(e,s,t)=>{t.d(s,{KI:()=>h,MA:()=>i,V0:()=>c,_S:()=>d,gy:()=>u,mr:()=>m,mt:()=>o,rY:()=>a,sf:()=>n,vm:()=>p});var r=t(31342);const l="https://dev.memate.com.au/api/v1",a=async()=>{const e=new URL(`${l}/references/privileges/`);return(0,r.f)(e.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${l}/desktop-users/`);return(0,r.f)(e.toString(),{method:"GET"})},n=async e=>{const s={method:"PUT",body:e},t=new URL(`${l}/settings/subscriptions/business/`);return(0,r.f)(t.toString(),s)},o=async e=>{const s=new URL(`${l}${`/desktop-users/update/${e}/`}`);return(0,r.f)(s.toString(),{method:"GET"})},c=async e=>{const s=new URL(`${l}${`/desktop-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!1}})},d=async e=>{const s=new URL(`${l}${`/desktop-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!0}})},u=async()=>{const e=new URL(`${l}/team/mobile-users/`);return(0,r.f)(e.toString(),{method:"GET"})},m=async e=>{const s={method:"PUT",body:e},t=new URL(`${l}/settings/subscriptions/work/`);return(0,r.f)(t.toString(),s)},p=async e=>{const s=new URL(`${l}${`/mobile-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!1}})},h=async e=>{const s=new URL(`${l}${`/mobile-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!0}})}},31342:(e,s,t)=>{t.d(s,{f:()=>r});const r=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:r="GET",headers:l={},body:a}=s,i=localStorage.getItem("access_token"),n=a instanceof FormData,o={"Content-Type":n?"multipart/form-data":"application/json",...l};t&&(o.Authorization=`Bearer ${i}`);const c={method:r,headers:o,body:n?a:JSON.stringify(a),redirect:"follow"};try{const s=new URL(`${e}`),t=await fetch(s,c);if(!t.ok){if(401===t.status&&(window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace("/login")),404===t.status)throw new Error("Not found");throw new Error(`HTTP error! Status: ${t.status}`)}const r=t.headers.get("Content-Type");if(r&&r.includes("application/json"))return await t.json();return{message:"Non-JSON response",body:await t.text()}}catch(d){throw console.error("Fetch API error:",d),d}}},35284:(e,s,t)=>{t.d(s,{A:()=>c});var r=t(65043),l=t(98139),a=t.n(l),i=t(67852),n=t(70579);const o=r.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:l="div",...o}=e;return r=(0,i.oU)(r,"card-body"),(0,n.jsx)(l,{ref:s,className:a()(t,r),...o})}));o.displayName="CardBody";const c=o},50565:(e,s,t)=>{t.d(s,{A:()=>c});var r=t(65043),l=t(65173),a=t.n(l),i=["color","size","title","className"];function n(){return n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(null,arguments)}var o=(0,r.forwardRef)((function(e,s){var t=e.color,l=void 0===t?"currentColor":t,a=e.size,o=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,m=void 0===u?"":u,p=function(e,s){if(null==e)return{};var t,r,l=function(e,s){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(s.includes(r))continue;t[r]=e[r]}return t}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,i);return r.createElement("svg",n({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-three-dots-vertical",m].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=o},63882:(e,s,t)=>{t.d(s,{A:()=>j});var r=t(65043),l=t(32952),a=t(14282),i=t(76163),n=t(69956),o=t(89488),c=t(55683),d=t(58387),u=t(73722);const m="file-uploader_title__+HTTy",p="file-uploader_previewSection__mnNRf",h="file-uploader_previewBox__j6psm",x="file-uploader_previewBoxImg1__SR-1w",E="file-uploader_previewBoxImg2__zYCKK",v="file-uploader_previewBoxImg3__YNTWI",g="file-uploader_previewBoxImg4__cRl+e",f="file-uploader_previewBoxImg5__GzHFj",N="file-uploader_previewActions__UO1dp",S="file-uploader_label__Udhfq";var _=t(70579);const j=e=>{let{show:s,setShow:t,setPhoto:j,additionalDesign:A,shape:y="rect"}=e;const[b,T]=(0,r.useState)([]),[w,R]=(0,r.useState)({x:0,y:0}),[P,U]=(0,r.useState)(1),[I,D]=(0,r.useState)(0),[C,O]=(0,r.useState)(null),[B,L]=(0,r.useState)({}),$=(0,r.useCallback)(((e,s)=>{O(s)}),[]),M=(0,r.useCallback)((async()=>{if(!b.length||!C)return;const e=document.createElement("canvas"),s=e.getContext("2d"),t=new Image;t.src=b[0].preview,await new Promise((e=>t.onload=e)),e.width=C.width,e.height=C.height,s.translate(e.width/2,e.height/2),s.rotate(I*Math.PI/180),s.translate(-e.width/2,-e.height/2),s.drawImage(t,C.x,C.y,C.width,C.height,0,0,C.width,C.height);return e.toDataURL("image/jpeg")}),[b,C,I]),k=async()=>{const e=await M();e&&L({img2:e,img3:e,img4:e,img5:e})};(0,r.useEffect)((()=>{k()}),[P,w,I,b,C]);const{getRootProps:F,getInputProps:G}=(0,o.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{T(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,_.jsxs)(l.A,{style:{zIndex:1111},show:s,centered:!0,onHide:()=>t(!1),onShow:k,children:[(0,_.jsx)(l.A.Header,{closeButton:!0,children:(0,_.jsx)(l.A.Title,{children:(0,_.jsx)("span",{className:`${m}`,children:"Edit Photo"})})}),(0,_.jsxs)(l.A.Body,{children:[A,(0,_.jsxs)("div",{className:`${p}`,children:[(0,_.jsxs)("div",{className:`${h}`,children:[(0,_.jsx)("div",{className:(0,d.A)(x,"round"===y?"rounded-circle":""),children:(0,_.jsx)(c.Ay,{image:b.length>0?b[0].preview:null,crop:w,zoom:P,cropShape:y,rotation:I,onCropChange:R,onZoomChange:U,onCropComplete:$,aspect:1,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,_.jsx)("div",{className:(0,d.A)(E,"round"===y?"rounded-circle":""),children:B.img2&&(0,_.jsx)("img",{src:B.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,_.jsx)("div",{className:(0,d.A)(v,"round"===y?"rounded-circle":""),children:B.img3&&(0,_.jsx)("img",{src:B.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,_.jsx)("div",{className:(0,d.A)(g,"round"===y?"rounded-circle":""),children:B.img4&&(0,_.jsx)("img",{src:B.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,_.jsx)("div",{className:(0,d.A)(f,"round"===y?"rounded-circle":""),children:B.img5&&(0,_.jsx)("img",{src:B.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,_.jsxs)("div",{className:`${N}`,children:[(0,_.jsxs)(u.A.Group,{children:[(0,_.jsx)(u.A.Label,{className:`${S}`,children:"Zoom"}),(0,_.jsx)(u.A.Range,{value:P,min:1,max:3,step:.1,className:"custom-range",onChange:e=>U(e.target.value)})]}),(0,_.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,_.jsxs)(a.A,{className:"text-button",onClick:()=>{D((e=>(e+90)%360))},children:[(0,_.jsx)(i.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,_.jsxs)("div",{...F({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,_.jsx)("input",{...G()}),(0,_.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,_.jsx)(n.A,{})}),(0,_.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,_.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,_.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,_.jsxs)(l.A.Footer,{className:"d-flex justify-content-end",children:[(0,_.jsx)(a.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),T([]),L({}),j(null),t(!1)},children:"Cancel"}),(0,_.jsx)(a.A,{className:"solid-button",onClick:async()=>{const e=await M(),s=function(e,s){const t=atob(e.split(",")[1]),r=new ArrayBuffer(t.length),l=new Uint8Array(r);for(let a=0;a<t.length;a++)l[a]=t.charCodeAt(a);return new Blob([r],{type:s})}(e,"image/jpeg");j({croppedImageBase64:e,croppedImageBlob:s}),t(!1)},children:"Save Photo"})]})]})}},74737:(e,s,t)=>{t.d(s,{_:()=>i});var r=t(568);const l=Object.freeze({ADMIN:"Admin",LOCATION_MANAGER:"Location Manager",GENERAL_MANAGER:"General Manager",DEVELOPER:"Developer",DESIGNER:"Designers",SMM_PR:"SMM/PR"}),a={[l.ADMIN]:{permissions:[r.J.CLIENTS.CREATE,r.J.CLIENTS.READ,r.J.CLIENTS.UPDATE,r.J.CLIENTS.DELETE,r.J.SUPPLIERS.CREATE,r.J.SUPPLIERS.READ,r.J.SUPPLIERS.UPDATE,r.J.SUPPLIERS.DELETE,r.J.EXPENSE.CREATE,r.J.EXPENSE.READ,r.J.EXPENSE.UPDATE,r.J.EXPENSE.DELETE,r.J.INVOICE.CREATE,r.J.INVOICE.READ,r.J.INVOICE.UPDATE,r.J.INVOICE.DELETE,r.J.SETTINGS.USERS.DESKTOP.ADD,r.J.SETTINGS.USERS.DESKTOP.READ,r.J.SETTINGS.USERS.DESKTOP.DELETE,r.J.SETTINGS.USERS.DESKTOP.UPDATE,r.J.SETTINGS.USERS.DESKTOP.RESTORE,r.J.SETTINGS.USERS.DESKTOP.SHOW_DELETED_USERS,r.J.SETTINGS.USERS.DESKTOP.BUY_USER,r.J.SETTINGS.USERS.MOBILE_APP.ADD,r.J.SETTINGS.USERS.MOBILE_APP.READ,r.J.SETTINGS.USERS.MOBILE_APP.UPDATE,r.J.SETTINGS.USERS.MOBILE_APP.DISCONNECT_USER,r.J.SETTINGS.USERS.MOBILE_APP.RECONNECT_USER,r.J.SETTINGS.USERS.MOBILE_APP.SHOW_DISCONNECTED_USERS,r.J.SETTINGS.USERS.MOBILE_APP.BUY_USER]}},i=function(e,s){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!a[e])return!1;const r=a[e].permissions;return Array.isArray(s)?t?s.every((e=>r.includes(e))):s.some((e=>r.includes(e))):r.includes(s)}},75908:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Y});var r=t(65043),l=t(27417),a=t(50565),i=t(96141),n=t(49367),o=t(35475),c=t(90688),d=t(88120),u=t(93747),m=t(47097),p=t(58387),h=t(72018),x=t(9642),E=t(64824),v=t(93740),g=t(56328),f=t(61072),N=t(78602),S=t(13846),_=t(73898),j=t(93202),A=t(95192),y=t(22927),b=t(2210),T=t(51038),w=t(33361),R=t(24858),P=t(18403),U=t(63712),I=t(55797),D=t(8129),C=t(28676),O=t(74532),B=t(72052),L=t(80899),$=t(63882),M=t(84576),k=t(70579);const F=L.Ik({firstName:L.Yj().required("First Name is required"),lastName:L.Yj().required("Last Name is required"),email:L.Yj().email("Invalid email address").required("Email is required"),hourly_rate:L.Yj().required("Hourly rate is required"),payment_cycle:L.Yj().required("Payment cycle is required")}).required(),G=r.memo((e=>{var s,t,l,a,i,n;let{visible:o,setVisible:c,id:d=null,refetch:u}=e;const[m,x]=(0,r.useState)(!1),[E,L]=(0,r.useState)(null),[G,H]=(0,r.useState)(!1),{control:z,register:J,reset:V,handleSubmit:q,setValue:K,formState:{errors:W}}=(0,R.mN)({resolver:(0,P.t)(F)}),Y=()=>{c(!1),L(null),V({firstName:"",lastName:"",email:"",group:"",payment_cycle:"7",hourly_rate:""})},X=async e=>{const s=new FormData;if(s.append("first_name",e.firstName),s.append("last_name",e.lastName),s.append("email",e.email),s.append("payment_cycle",e.payment_cycle),s.append("hourly_rate",e.hourly_rate),null!==E&&void 0!==E&&E.croppedImageBlob){const e=(0,U.Ak)(6);s.append("photo",E.croppedImageBlob,`${e}.jpg`)}let t="POST",r="https://dev.memate.com.au/api/v1/settings/mobile-users/create/";d&&(t="PUT",r=`https://dev.memate.com.au/api/v1/mobile-users/update/${d}/`);const l=localStorage.getItem("access_token");try{H(!0);const e=await fetch(r,{method:t,headers:{Authorization:`Bearer ${l}`},body:s});return H(!1),e.ok?(Y(),g.oR.success("Mobile user created successfully!"),u(),"success"):(await e.json(),g.oR.error("Failed to create the user. Please try again."),"error")}catch(a){H(!1),console.error("Error creating user:",a),g.oR.error("Failed to create the user. Please try again.")}finally{H(!1)}},Z=(0,k.jsx)("div",{className:`${M.A.modalHeader}`,children:(0,k.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,k.jsx)("div",{className:M.A.circledesignstyle,children:(0,k.jsx)("div",{className:M.A.out,children:d?(0,k.jsx)(_.A,{size:24,color:"#17B26A",className:"mb-0"}):(0,k.jsx)(j.A,{size:24,color:"#17B26A",className:"mb-0"})})}),(0,k.jsx)("span",{className:`white-space-nowrap ${M.A.headerTitle}`,children:"Invite New Mobile User"})]})}),Q=(0,k.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,k.jsx)("span",{}),(0,k.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,k.jsx)(h.$,{className:"outline-button",onClick:Y,children:"Cancel"}),(0,k.jsxs)(h.$,{type:"submit",disabled:G,onClick:q(X),className:"solid-button",children:[d?"Update":"Send"," Invite",G&&(0,k.jsx)(v.p,{style:{width:"20px",height:"20px"}})]})]})]});return(0,k.jsx)(I.l,{visible:o,modal:!0,header:Z,footer:Q,className:`${M.A.modal} custom-modal`,onHide:Y,children:(0,k.jsx)("div",{className:"d-flex flex-column",children:(0,k.jsx)("form",{onSubmit:q(X),children:(0,k.jsxs)(f.A,{children:[(0,k.jsxs)(N.A,{sm:12,children:[(0,k.jsxs)("div",{className:(0,p.A)(M.A.fileUploadBox,"cursor-pointer"),onClick:()=>x(!0),children:[(0,k.jsx)("div",{className:(0,p.A)(M.A.uploadedImgBox,"rounded-circle"),style:{background:"linear-gradient(180deg, #F9FAFB 0%, #EDF0F3 100%)"},children:E?(0,k.jsx)("img",{src:(null===E||void 0===E?void 0:E.croppedImageBase64)||E,alt:"profile-img"}):(0,k.jsx)(A.A,{size:20,color:"#667085"})}),(0,k.jsx)("p",{className:(0,p.A)("mb-0",M.A.uploadedText1),children:(0,k.jsx)("span",{className:(0,p.A)("mb-0",M.A.uploadedText2),children:"Click to upload"})}),(0,k.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,k.jsx)($.A,{show:m,setShow:x,setPhoto:L,shape:"round"})]}),(0,k.jsxs)(f.A,{className:"mb-3 pe-0",children:[(0,k.jsx)(N.A,{className:"pe-0",children:(0,k.jsx)(S.A,{className:(0,p.A)(M.A.leftBoxParent,M.A.active),children:(0,k.jsxs)(S.A.Body,{className:"d-flex align-items-center gap-3 py-2",children:[(0,k.jsx)("div",{className:M.A.leftbox,children:(0,k.jsx)(y.A,{color:"#1AB2FF",size:24})}),(0,k.jsx)("span",{className:M.A.leftboxText,children:"Contractor"})]})})}),(0,k.jsx)(N.A,{className:"pe-0 ps-4",children:(0,k.jsx)(S.A,{className:(0,p.A)(M.A.leftBoxParent),children:(0,k.jsxs)(S.A.Body,{className:"d-flex align-items-center gap-3 py-2",children:[(0,k.jsx)("div",{className:M.A.leftbox,children:(0,k.jsx)(b.A,{color:"#667085",size:24})}),(0,k.jsx)("span",{className:M.A.leftboxText,children:"Employee"})]})})})]}),(0,k.jsx)(N.A,{sm:6,children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,k.jsx)("label",{className:(0,p.A)(M.A.label),children:"First Name"}),(0,k.jsx)(B.S,{...J("firstName"),className:(0,p.A)(M.A.inputText,"outline-none",{[M.A.error]:null===W||void 0===W?void 0:W.firstName}),placeholder:"Enter first name"}),(null===W||void 0===W?void 0:W.firstName)&&(0,k.jsx)("p",{className:"error-message",children:null===W||void 0===W||null===(s=W.firstName)||void 0===s?void 0:s.message})]})}),(0,k.jsx)(N.A,{sm:6,children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,k.jsx)("label",{className:(0,p.A)(M.A.label),children:"Last Name"}),(0,k.jsx)(B.S,{...J("lastName"),className:(0,p.A)(M.A.inputText,"outline-none",{[M.A.error]:null===W||void 0===W?void 0:W.lastName}),placeholder:"Enter last name"}),(null===W||void 0===W?void 0:W.lastName)&&(0,k.jsx)("p",{className:"error-message",children:null===W||void 0===W||null===(t=W.lastName)||void 0===t?void 0:t.message})]})}),(0,k.jsx)(N.A,{sm:6,children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,k.jsx)("label",{className:(0,p.A)(M.A.label),children:"Hourly Rate"}),(0,k.jsxs)(C.C,{iconPosition:"left",children:[(0,k.jsx)(O.m,{children:(0,k.jsx)("span",{style:{position:"relative",top:"-4px"},children:"$"})}),(0,k.jsx)(B.S,{...J("hourly_rate"),keyfilter:"num",onBlur:e=>{var s;return K("hourly_rate",parseFloat((null===e||void 0===e||null===(s=e.target)||void 0===s?void 0:s.value)||0).toFixed(2))},style:{paddingLeft:"28px",paddingRight:"40px"},className:(0,p.A)(M.A.inputText,"outline-none",{[M.A.error]:null===W||void 0===W?void 0:W.hourly_rate}),placeholder:"20"}),(0,k.jsx)(O.m,{children:(0,k.jsx)(T.A,{style:{position:"relative",top:"-4px",right:"30px"},color:"#98A2B3",size:16})})]}),(null===W||void 0===W?void 0:W.hourly_rate)&&(0,k.jsx)("p",{className:"error-message",children:null===W||void 0===W||null===(l=W.hourly_rate)||void 0===l?void 0:l.message})]})}),(0,k.jsx)(N.A,{sm:6,children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,k.jsx)("label",{className:(0,p.A)(M.A.label),children:"Payment Cycle"}),(0,k.jsx)(R.xI,{name:"payment_cycle",control:z,defaultValue:"",render:e=>{let{field:s}=e;return(0,k.jsx)(D.m,{...s,options:[{value:"7",label:"WEEK"},{value:"14",label:"TWO_WEEKS",disabled:!0},{value:"28",label:"FOUR_WEEKS",disabled:!0},{value:"1",label:"MONTH",disabled:!0}],className:(0,p.A)(M.A.dropdownSelect,"dropdown-height-fixed","outline-none"),placeholder:"Select payment cycle",value:s.value,style:{height:"46px"},onChange:e=>s.onChange(e.value)})}}),(null===W||void 0===W?void 0:W.payment_cycle)&&(0,k.jsx)("p",{className:"error-message",children:null===W||void 0===W||null===(a=W.payment_cycle)||void 0===a?void 0:a.message})]})}),(0,k.jsx)(N.A,{sm:6,children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,k.jsx)("label",{className:(0,p.A)(M.A.label),children:"Email"}),(0,k.jsxs)(C.C,{iconPosition:"left",children:[(0,k.jsx)(O.m,{children:(0,k.jsx)(w.A,{style:{position:"relative",top:"-5px"},size:20,color:"#667085"})}),(0,k.jsx)(B.S,{...J("email"),style:{paddingLeft:"38px"},className:(0,p.A)(M.A.inputText,"outline-none",{[M.A.error]:null===W||void 0===W?void 0:W.email}),placeholder:"company@email.com"})]}),(null===W||void 0===W?void 0:W.email)&&(0,k.jsx)("p",{className:"error-message",children:null===W||void 0===W||null===(i=W.email)||void 0===i?void 0:i.message})]})}),(0,k.jsx)(N.A,{sm:6,children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,k.jsx)("label",{className:(0,p.A)(M.A.label),children:"Group"}),(0,k.jsx)(B.S,{disabled:!0,...J("group"),className:(0,p.A)(M.A.inputText,"outline-none"),placeholder:"Select group"}),(null===W||void 0===W?void 0:W.group)&&(0,k.jsx)("p",{className:"error-message",children:null===W||void 0===W||null===(n=W.group)||void 0===n?void 0:n.message})]})})]})})})})}));var H=t(24370),z=t(57189),J=t(48417);const V=t.p+"static/media/Experts-cuate.ad81effb3b39c6e68f3382cbf8be4cb2.svg";var q=t(568),K=t(74737),W=t(58027);const Y=r.memo((()=>{var e,s,t,f,N,S,_,j,A,y,b,T;const{role:w}=(0,z.As)(),{trialHeight:R}=(0,J.$)(),P=JSON.parse(window.localStorage.getItem("profileData")||"{}"),U=(null===P||void 0===P?void 0:P.has_work_subscription)||!1,[I,D]=(0,r.useState)(!1),[C,O]=(0,r.useState)(!1),B=(0,u.I)({queryKey:["mobile-users"],queryFn:H.gy}),L=C?null===B||void 0===B||null===(e=B.data)||void 0===e||null===(s=e.users)||void 0===s?void 0:s.filter((e=>"disconnected"===e.status)):(null===B||void 0===B||null===(t=B.data)||void 0===t||null===(f=t.users)||void 0===f?void 0:f.filter((e=>"disconnected"!==e.status)))||[],$=(0,m.n)({mutationFn:e=>(0,H.vm)(e),onSuccess:()=>{B.refetch(),g.oR.success("User disconnected successfully"),$.reset()},onError:e=>{console.log("Error during disconnect user",e),g.oR.error("Failed to disconnect user. Please try again.")}}),F=(0,m.n)({mutationFn:e=>(0,H.KI)(e),onSuccess:()=>{B.refetch(),g.oR.success("User re-connected successfully"),$.reset(),O(!1)},onError:e=>{console.log("error: ",e),g.oR.error("Failed to re-connected user. Please try again.")}});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(n.mg,{children:(0,k.jsx)("title",{children:"MeMate - Mobile App Users"})}),(0,k.jsx)("div",{className:`${M.A.userSettingPage}`,id:`${M.A.appSettingPage}`,children:(0,k.jsxs)("div",{className:"settings-content setModalelBoots w-100",children:[(0,k.jsxs)("div",{className:"headSticky",children:[(0,k.jsx)("h1",{className:"mb-0",children:"Users"}),(0,k.jsxs)("div",{className:`contentMenuTab ${M.A.contentMenuTab}`,style:{height:"50px"},children:[(0,k.jsxs)("ul",{children:[(0,k.jsx)("li",{children:(0,k.jsx)(o.N_,{to:"/settings/users/desktop",children:"Desktop"})}),(0,k.jsx)("li",{className:"menuActive",children:(0,k.jsx)(o.N_,{to:"/settings/users/mobile-app",children:"Mobile App"})})]}),U&&(0,K._)(w,q.J.SETTINGS.USERS.MOBILE_APP.ADD)&&(0,k.jsxs)(h.$,{disabled:parseInt(null===B||void 0===B||null===(N=B.data)||void 0===N||null===(S=N.limits)||void 0===S?void 0:S.total)===parseInt(null===B||void 0===B||null===(_=B.data)||void 0===_||null===(j=_.limits)||void 0===j?void 0:j.number),onClick:()=>D(!0),className:(0,p.A)(M.A.addUserBut,"outline-none"),children:["Add ",(0,k.jsx)(i.A,{size:20,color:"#000"})]})]})]}),(0,k.jsx)("div",{className:`content_wrap_main ${M.A.contentwrapmain}`,style:{paddingBottom:`${R}px`},children:(0,k.jsx)("div",{className:"content_wrapper",children:(0,k.jsx)("div",{className:"listwrapper border-top",children:U?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"topHeadStyle pb-4",children:[(0,k.jsxs)("div",{className:M.A.userHead,children:[(0,k.jsx)("h2",{children:"Mobile App Users"}),(0,k.jsxs)("p",{className:"d-flex align-items-center gap-2",children:[(null===B||void 0===B||null===(A=B.data)||void 0===A||null===(y=A.limits)||void 0===y?void 0:y.number)||0," / ",(null===B||void 0===B||null===(b=B.data)||void 0===b||null===(T=b.limits)||void 0===T?void 0:T.total)||0,(0,k.jsx)(o.N_,{to:"/settings/generalinformation/subscription",className:"p-0 border-0",style:{background:"transparent"},children:(0,k.jsx)("span",{className:"cursor-pointer",children:"Buy More"})})]})]}),(0,k.jsxs)(h.$,{onClick:()=>O(!C),className:M.A.showDeleteBut,children:[C?"Hide":"Show"," Disconnected"]})]}),(0,k.jsxs)(E.b,{value:L,showGridlines:!0,tableStyle:{minWidth:"50rem"},children:[(0,k.jsx)(x.V,{field:"name",style:{width:"auto"},body:e=>(0,k.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,k.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,k.jsx)(W.h,{has_photo:e.has_photo,photo:e.photo,is_business:!1}),(0,k.jsx)("div",{className:"d-flex flex-column gap-1",children:(0,k.jsxs)("div",{className:`${M.A.ellipsis}`,children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]})})]})}),header:"Name"}),(0,k.jsx)(x.V,{field:"email",style:{width:"447px"},header:"Email"}),(0,k.jsx)(x.V,{field:"phone",style:{width:"210px"},header:"Phone"}),(0,k.jsx)(x.V,{field:"status",body:e=>(0,k.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:(0,k.jsx)("div",{className:`${M.A[e.status]}`,children:e.status})}),style:{width:"85px"},header:"Status"}),(0,k.jsx)(x.V,{field:"privilege",body:e=>{const s=(0,r.useRef)(null),[t,l]=(0,r.useState)(!1),i=(0,c.k)(t,l);return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(a.A,{size:24,color:"#667085",className:"cursor-pointer",ref:s,...i}),(0,k.jsx)(d.k,{state:t?"open":"closed",anchorRef:s,onClose:()=>l(!1),className:"threeDots-setting",menuStyle:{padding:"4px",width:"171px",textAlign:"left"},children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-2",children:[("invited"===e.status||"connected"===e.status)&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2 w-100",style:{width:"fit-content "},onClick:()=>{$.mutate(null===e||void 0===e?void 0:e.id)},children:(0,k.jsxs)("span",{className:"d-flex align-items-center gap-2",style:{color:"#344054",fontSize:"14px",fontWeight:400},children:["Disconnect User",(null===$||void 0===$?void 0:$.variables)===(null===e||void 0===e?void 0:e.id)?(0,k.jsx)(v.p,{style:{width:"20px",height:"20px"}}):""]})})}),"disconnected"===e.status&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2 w-100",style:{width:"fit-content "},onClick:()=>(e=>{var s,t,r,l;parseInt(null===B||void 0===B||null===(s=B.data)||void 0===s||null===(t=s.limits)||void 0===t?void 0:t.total)>parseInt(null===B||void 0===B||null===(r=B.data)||void 0===r||null===(l=r.limits)||void 0===l?void 0:l.number)?F.mutate(e):g.oR.error("You have reached the maximum number of users allowed.")})(e.id),children:(0,k.jsxs)("span",{className:"d-flex align-items-center gap-2",style:{color:"#344054",fontSize:"14px",fontWeight:400},children:["Reconnect User",(null===F||void 0===F?void 0:F.variables)===(null===e||void 0===e?void 0:e.id)?(0,k.jsx)(v.p,{style:{width:"20px",height:"20px"}}):""]})})})]})})]})},style:{width:"64px"},header:"Action"})]})]}):(0,k.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,k.jsx)("img",{src:V,alt:"expired-subscription",style:{width:"300px"}}),(0,k.jsx)("h4",{style:{fontWeight:700},children:"Work Subscription Expired"}),(0,k.jsxs)("p",{className:"font-18 text-center",children:[" Your MeMate subscription has expired. To continue enjoying all features,",(0,k.jsx)("br",{})," please activate your subscription plan."]}),(0,k.jsx)(o.N_,{to:"/settings/generalinformation/subscription",children:(0,k.jsx)(h.$,{className:"solid-button",children:"Active Work Subscription"})})]})})})})]})}),B.isLoading&&(0,k.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,k.jsx)(l.A,{animation:"border",role:"status",children:(0,k.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),I&&(0,k.jsx)(G,{visible:I,setVisible:D,refetch:()=>B.refetch()})]})}))},84576:(e,s,t)=>{t.d(s,{A:()=>r});const r={userSettingPage:"users_userSettingPage__KqRqG",userHead:"users_userHead__Qb-45",users_userHead:"users_users_userHead__66zxc",contentwrapmain:"users_contentwrapmain__9EuvG",ellipsis:"users_ellipsis__MtwMP",userImg:"users_userImg__-Ft5y",privilege:"users_privilege__yA6Qo",contentMenuTab:"users_contentMenuTab__Znvft",addUserBut:"users_addUserBut__H4HT5",showDeleteBut:"users_showDeleteBut__YDAwL",appSettingPage:"users_appSettingPage__urt2L",appaction:"users_appaction__vcXFf",connected:"users_connected__jXreM",invited:"users_invited__Rgnv8",disconnected:"users_disconnected__t2YHg",selectuserInput:"users_selectuserInput__YZrqN",modal:"users_modal__XmOaj",modalHeader:"users_modalHeader__q7QkG",headerTitle:"users_headerTitle__ZVL6h",circledesignstyle:"users_circledesignstyle__7Fx4h",out:"users_out__HXDgH",lable:"users_lable__Wc5bm",inputText:"users_inputText__U6PZ4",error:"users_error__vuT5H",td:"users_td__d5O9J",hoverShow:"users_hoverShow__+hAKM",borderNone:"users_borderNone__BKq3M",dangerTextButton:"users_dangerTextButton__pvNTe",fileUploadBox:"users_fileUploadBox__SSDRH",uploadedImgBox:"users_uploadedImgBox__Kal3a",uploadedText1:"users_uploadedText1__mtBeo",uploadedText2:"users_uploadedText2__5sLVb",successTextButton:"users_successTextButton__gV-ns",leftBoxParent:"users_leftBoxParent__HuTuY",leftbox:"users_leftbox__xpVNj",leftboxText:"users_leftboxText__T8ElD",active:"users_active__yxWuy"}}}]);
//# sourceMappingURL=5908.dd979c5d.chunk.js.map