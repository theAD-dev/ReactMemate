"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5124],{23745:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var l=s(65043),r=s(84052),i=(s(26016),s(75329)),n=s(39759),o=s(6168),a=s(43908),d=s(14282),c=s(2028);const h="clients_filterBox__Vcp+T",x="clients_menu__dHdc2",u="clients_newButton__YYCcj",p="clients_total__mHRdD",m="clients_totalCount__XP8AT",f="clients_clientImg__L3VYP",v="clients_ellipsis__IvsEr",g="clients_location__QKeW9",b="clients_active__c3iJL",y="clients_selectedCount__2Y1G8",j="clients_deletedRow__jyG8k";var w=s(64824),C=s(9642),N=s(44541),_=s(95192),A=s(13534),S=s(83608),F=s(76104),O=s(73216),z=s(35475),W=s(59638),V=s(72018),k=s(99868),E=s(27417),D=s(70579);const R=(0,l.forwardRef)(((e,t)=>{let{searchValue:s,setTotalClients:r,selectedClients:i,setSelectedClients:n,isShowDeleted:o,refetch:a}=e;const d=(0,O.Zp)(),c=(0,l.useRef)(null),[h,x]=(0,l.useState)([]),[u,p]=(0,l.useState)(1),[m,b]=(0,l.useState)({sortField:"id",sortOrder:-1}),[y,R]=(0,l.useState)({sortField:"id",sortOrder:-1}),[M,$]=(0,l.useState)(!0),[B,H]=(0,l.useState)(!1);(0,l.useEffect)((()=>{p(1)}),[s,o,a]),(0,l.useEffect)((()=>{(async()=>{H(!0);let e="";1===(null===y||void 0===y?void 0:y.sortOrder)?e=`${y.sortField}`:-1===(null===y||void 0===y?void 0:y.sortOrder)&&(e=`-${y.sortField}`);const t=await(0,W.oo)(u,25,s,e,o);var l;(r((()=>(null===t||void 0===t?void 0:t.count)||0)),1===u)?x(t.results):(null===t||void 0===t||null===(l=t.results)||void 0===l?void 0:l.length)>0&&x((e=>{const s=new Set(e.map((e=>e.id))),l=t.results.filter((e=>!s.has(e.id)));return[...e,...l]}));b(y),$(t.count!==h.length),H(!1)})()}),[u,s,y,o,a]),(0,l.useEffect)((()=>{if(h.length>0&&M){c.current=new IntersectionObserver((e=>{e[0].isIntersecting&&p((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&c.current.observe(e)}return()=>{c.current&&c.current.disconnect()}}),[h,M]);return(0,D.jsxs)(w.b,{ref:t,value:h,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:"calc(100vh - 175px)",className:"border",selection:i,onSelectionChange:e=>n(e.value),loading:B,loadingIcon:()=>(0,D.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,D.jsx)(E.A,{animation:"border",role:"status",children:(0,D.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),emptyMessage:k.A,sortField:null===m||void 0===m?void 0:m.sortField,sortOrder:null===m||void 0===m?void 0:m.sortOrder,onSort:e=>{const{sortField:t,sortOrder:s}=e;R({sortField:t,sortOrder:s}),p(1)},rowClassName:e=>null!==e&&void 0!==e&&e.deleted?j:"",children:[(0,D.jsx)(C.V,{selectionMode:"multiple",headerClassName:"ps-4 border-end-0",bodyClassName:"show-on-hover border-end-0 ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,D.jsx)(C.V,{field:"id",header:"Client ID",body:e=>(0,D.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,D.jsx)("span",{children:e.number}),(0,D.jsx)(V.$,{label:"Open",onClick:()=>d(`/clients/${e.id}/order-history`),className:"primary-text-button ms-3 show-on-hover-element not-show-checked",text:!0})]}),headerClassName:"paddingLeftHide",bodyClassName:"paddingLeftHide",style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,D.jsx)(C.V,{field:"name",header:"Client A\u2192Z",body:e=>(0,D.jsxs)("div",{className:"d-flex align-items-center",children:[(0,D.jsx)("div",{style:{overflow:"hidden"},className:`d-flex justify-content-center align-items-center ${f} ${e.is_business?"":"rounded-circle"}`,children:e.photo?(0,D.jsx)("img",{src:e.photo,alt:"clientImg",className:"w-100"}):e.is_business?(0,D.jsx)(N.A,{color:"#667085"}):(0,D.jsx)(_.A,{color:"#667085"})}),(0,D.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,D.jsx)("div",{className:`${v}`,children:e.name}),e.deleted?(0,D.jsx)(F.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]})]}),headerClassName:"shadowRight",bodyClassName:"shadowRight",style:{minWidth:"224px"},frozen:!0,sortable:!0}),(0,D.jsx)(C.V,{field:"category.name",header:"Category",style:{minWidth:"94px"}}),(0,D.jsx)(C.V,{field:"days_in_company",header:"Days in company",body:e=>(0,D.jsx)(F.v,{value:e.days_in_company,style:{height:"22px",minWidth:"26px",borderRadius:"4px",border:"1px solid #D0D5DD",background:"#fff",color:"#344054",fontSize:"12px",fontWeight:500}}),style:{minWidth:"56px"},className:"text-center"}),(0,D.jsx)(C.V,{field:"jobsdone",header:"Jobs",body:e=>(0,D.jsx)(F.v,{value:e.jobsdone,style:{height:"22px",minWidth:"32px",borderRadius:"16px",border:"1px solid #EAECF0",background:"#F9FAFB",color:"#344054",fontSize:"12px",fontWeight:500}}),style:{minWidth:"56px",textAlign:"center"}}),(0,D.jsx)(C.V,{field:"total_turnover",header:"Total turnover",body:e=>(0,D.jsxs)("span",{style:{color:"#667085"},children:["$",e.total_turnover]}),style:{minWidth:"123px",textAlign:"right"},sortable:!0}),(0,D.jsx)(C.V,{field:"average_pd",header:"Average P/D",body:e=>(0,D.jsx)(F.v,{value:`$${e.average_pd}`,style:{height:"22px",minWidth:"32px",borderRadius:"16px",border:"1px solid #ABEFC6",background:"#ECFDF3",color:"#067647",fontSize:"12px",fontWeight:500}}),style:{minWidth:"114px",textAlign:"center"},sortable:!0}),(0,D.jsx)(C.V,{field:"total_requests",header:"Projects",body:e=>(0,D.jsx)(F.v,{value:e.total_requests,style:{height:"22px",minWidth:"32px",borderRadius:"16px",border:"1px solid #EAECF0",background:"#F9FAFB",color:"#344054",fontSize:"12px",fontWeight:500}}),style:{minWidth:"89px",textAlign:"center"},sortable:!0}),(0,D.jsx)(C.V,{field:"order_frequency",header:"Order Frequency",body:e=>(0,D.jsx)(F.v,{value:`${e.order_frequency} p/m`,style:{height:"22px",minWidth:"32px",borderRadius:"16px",border:"1px solid #A3E0FF",background:"#F2FAFF",color:"#1AB2FF",fontSize:"12px",fontWeight:500}}),style:{minWidth:"140px"},sortable:!0}),(0,D.jsx)(C.V,{field:"country",header:"Country",style:{minWidth:"75px"},bodyStyle:{color:"#667085"}}),(0,D.jsx)(C.V,{header:"Address",body:e=>{var t,s,l,r;let i=(null===e||void 0===e||null===(t=e.addresses)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(s=e.addresses[0])||void 0===s?void 0:s.address)||"",n=(null===e||void 0===e||null===(l=e.addresses)||void 0===l?void 0:l.length)&&(null===e||void 0===e||null===(r=e.addresses)||void 0===r?void 0:r.find((e=>!0===e.is_main)));return(0,D.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,D.jsx)("span",{style:{color:"#98A2B3",fontSize:"14px"},children:(null===n||void 0===n?void 0:n.address)||i||"-"}),((null===n||void 0===n?void 0:n.address)||i)&&(0,D.jsx)(z.N_,{to:`http://maps.google.com/?q=${(null===n||void 0===n?void 0:n.address)||i}`,target:"_blank",className:`${g} show-on-hover-element`,children:(0,D.jsx)(A.A,{})})]})},style:{minWidth:"469px"}}),(0,D.jsx)(C.V,{field:"abn",header:"ABN",style:{minWidth:"140px"}}),(0,D.jsx)(C.V,{field:"website",header:"Website",body:e=>e.website?(0,D.jsx)(z.N_,{to:e.website,target:"_blank",children:(0,D.jsx)(S.A,{className:"show-on-hover-element",color:"#98A2B3"})}):"-",style:{minWidth:"56px",textAlign:"center"}})]})})),M=R;var $=s(85497),B=s(90818),H=s(58387);const P=()=>{const e=(0,l.useRef)(null),t=(0,l.useRef)(null),[s,f]=(0,l.useState)(!1),[v,g]=(0,l.useState)(0),[j,w]=(0,l.useState)(!1),[C,N]=(0,l.useState)(!1),[_,A]=(0,l.useState)(null),[S,F,O]=(0,c.d7)("",400);return(0,D.jsxs)(r.mD,{className:"peoples-page",children:[(0,D.jsxs)("div",{className:`topbar ${null!==_&&void 0!==_&&_.length?b:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,D.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==_&&void 0!==_&&_.length?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("h6",{className:y,children:["Selected: ",null===_||void 0===_?void 0:_.length]}),(0,D.jsx)("div",{className:"filtered-box",children:(0,D.jsx)("button",{className:`${h}`,onClick:()=>{return t=!0,void(e.current?e.current.exportCSV({selectionOnly:t}):console.error("DataTable ref is null"));var t},children:(0,D.jsx)(i.A,{})})})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"filtered-box",children:[(0,D.jsx)("button",{className:`${h}`,onClick:e=>t.current.toggle(e),children:(0,D.jsx)(n.A,{})}),(0,D.jsx)(B.b,{model:[{label:(0,D.jsx)("div",{onClick:()=>N(!C),className:"d-flex align-items-center text-nowrap gap-3 p",children:C?(0,D.jsxs)(D.Fragment,{children:["Hide Deleted Clients ",(0,D.jsx)(o.A,{})]}):(0,D.jsxs)(D.Fragment,{children:["Show Deleted Clients ",(0,D.jsx)(a.A,{})]})})}],className:(0,H.A)(x),popup:!0,ref:t,breakpoint:"767px"})]}),(0,D.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,D.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,D.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,D.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,D.jsx)("input",{type:"text",placeholder:"Search",value:S,onChange:e=>O(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#98A2B3",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,D.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"47%",top:"6px"},children:[(0,D.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Clients"}),(0,D.jsx)(d.A,{onClick:()=>w(!0),className:`${u}`,children:"New"})]}),(0,D.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,D.jsx)("h1",{className:`${p} mb-0`,children:"Total"}),(0,D.jsxs)("div",{className:`${m}`,children:[v," Clients"]})]})]}),(0,D.jsx)(M,{ref:e,searchValue:F,setTotalClients:g,selectedClients:_,setSelectedClients:A,isShowDeleted:C,refetch:s}),(0,D.jsx)($.A,{visible:j,setVisible:w,refetch:f})]})}},13534:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(65043),r=s(65173),i=s.n(r),n=["color","size","title","className"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var s,l,r=function(e,t){if(null==e)return{};var s,l,r={},i=Object.keys(e);for(l=0;l<i.length;l++)s=i[l],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)s=i[l],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var d=(0,l.forwardRef)((function(e,t){var s=e.color,r=e.size,i=e.title,d=e.className,c=a(e,n);return l.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:s,className:["bi","bi-geo-alt",d].filter(Boolean).join(" ")},c),i?l.createElement("title",null,i):null,l.createElement("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"}),l.createElement("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"}))}));d.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},83608:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(65043),r=s(65173),i=s.n(r),n=["color","size","title","className"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var s,l,r=function(e,t){if(null==e)return{};var s,l,r={},i=Object.keys(e);for(l=0;l<i.length;l++)s=i[l],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)s=i[l],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var d=(0,l.forwardRef)((function(e,t){var s=e.color,r=e.size,i=e.title,d=e.className,c=a(e,n);return l.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:s,className:["bi","bi-globe",d].filter(Boolean).join(" ")},c),i?l.createElement("title",null,i):null,l.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m7.5-6.923c-.67.204-1.335.82-1.887 1.855A8 8 0 0 0 5.145 4H7.5zM4.09 4a9.3 9.3 0 0 1 .64-1.539 7 7 0 0 1 .597-.933A7.03 7.03 0 0 0 2.255 4zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a7 7 0 0 0-.656 2.5zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5zM8.5 5v2.5h2.99a12.5 12.5 0 0 0-.337-2.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5zM5.145 12q.208.58.468 1.068c.552 1.035 1.218 1.65 1.887 1.855V12zm.182 2.472a7 7 0 0 1-.597-.933A9.3 9.3 0 0 1 4.09 12H2.255a7 7 0 0 0 3.072 2.472M3.82 11a13.7 13.7 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5zm6.853 3.472A7 7 0 0 0 13.745 12H11.91a9.3 9.3 0 0 1-.64 1.539 7 7 0 0 1-.597.933M8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855q.26-.487.468-1.068zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.7 13.7 0 0 1-.312 2.5m2.802-3.5a7 7 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7 7 0 0 0-3.072-2.472c.218.284.418.598.597.933M10.855 4a8 8 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4z"}))}));d.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d}}]);
//# sourceMappingURL=5124.4ee24496.chunk.js.map