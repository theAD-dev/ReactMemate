"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[423],{623:(e,a,s)=>{s.d(a,{IY:()=>c,Np:()=>o,YC:()=>d,fD:()=>l,ic:()=>h,ms:()=>m,yA:()=>p,yi:()=>i});var r=s(63712);const n="https://dev.memate.com.au/api/v1",t=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:s="GET",headers:r={},body:n}=a,t={method:s,headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json",...r},body:JSON.stringify(n),redirect:"follow"};try{const a=new URL(`${e}`),s=await fetch(a,t);if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);const r=s.headers.get("Content-Type");if(r&&r.includes("application/json"))return await s.json();return{message:"Non-JSON response",body:await s.text()}}catch(i){throw console.error("Fetch API error:",i),i}},i=async e=>{console.log("data: ",e),e.id&&delete e.id,e.isNew&&delete e.isNew,e.isChanged&&delete e.isChanged,e.value&&delete e.value;const a={method:"POST",body:e},s=new URL(`${n}/settings/project-statuses/new/`);return t(s.toString(),a)},o=async(e,a)=>{const s={method:"PUT",body:a},r=new URL(`${n}${`/settings/project-statuses/update/${e}/`}`);return t(r.toString(),s)},l=async e=>{const a=new URL(`${n}${`/settings/project-statuses/delete/${e}/`}`);return t(a.toString(),{method:"DELETE"})},d=async()=>{const e=new Headers,a=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${a}`);const s={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${n}/settings/organization/general/`,s);return await e.json()}catch(r){throw console.error("Profile fetch error:",r),r}},c=async(e,a)=>{const s=new Headers,t=localStorage.getItem("access_token");s.append("Authorization",`Bearer ${t}`);const i=new FormData;if(Object.keys(e).forEach((a=>{i.append(a,e[a])})),null!==a&&void 0!==a&&a.croppedImageBlob){const e=(0,r.Ak)(6);i.append("company_logo",null===a||void 0===a?void 0:a.croppedImageBlob,`${e}.jpg`)}const o={method:"PUT",headers:s,body:i,redirect:"follow"};try{const e=await fetch(`${n}/settings/organization/general/`,o),a=await e.text();return console.log("result>>>>>>>>>>: ",a),a}catch(l){throw console.error("Profile fetch error:",l),l}},m=async()=>{const e=new Headers,a=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${a}`);const s={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${n}/settings/organization/bank/`,s);return await e.text()}catch(r){throw console.error("Profile fetch error:",r),r}},p=async e=>{const a=new Headers,s=localStorage.getItem("access_token");a.append("Authorization",`Bearer ${s}`);const r=new FormData;Object.keys(e).forEach((a=>{r.append(a,e[a])}));const t={method:"PUT",headers:a,body:r,redirect:"follow"};try{const e=await fetch(`${n}/settings/organization/bank/`,t),a=await e.text();return console.log("result: ",a),a}catch(i){throw console.error("Profile fetch error:",i),i}},h=async()=>{const e=new Headers,a=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${a}`);const s={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${n}/settings/project-statuses/`,s);return await e.json()}catch(r){throw console.error("project fetch error:",r),r}}},64497:(e,a,s)=>{s.r(a),s.d(a,{default:()=>E});var r=s(65043),n=s(24858),t=s(18403),i=s(80899),o=s(27472),l=s(63248),d=s(93747),c=s(47097),m=s(623),p=s(73216),h=s(35475),x=s(35448),g=s(24932),j=s(73898),u=s(72413),f=s(37753),v=s(544),N=s(77048),w=s(63882),y=s(56328),A=s(27417),_=s(70579);const b=i.Ik().shape({legal_name:i.Yj().required("Company Legal Name is required"),trading_name:i.Yj(),abn:i.Yj(),main_email:i.Yj().email("Invalid email").required("Main Company Email is required"),main_phone:i.Yj(),address:i.Yj(),state:i.Yj(),postcode:i.Yj(),company_logo:i.gl().nullable()});function C(e){let{photo:a,setPhoto:s,data:n}=e;const[t,i]=(0,r.useState)(!1);return(0,_.jsxs)("section",{className:"container mb-3",style:{marginTop:"24px",padding:"0px"},children:[(0,_.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{width:"100%",minHeight:"126px",padding:"16px",background:"#fff",borderRadius:"4px",border:"1px solid #D0D5DD"},children:[null!==a&&void 0!==a&&a.croppedImageBase64?(0,_.jsx)("div",{className:"text-center",children:(0,_.jsx)("img",{alt:"uploaded-file",src:null===a||void 0===a?void 0:a.croppedImageBase64,style:{width:"64px",height:"64px",marginBottom:"12px"}})}):(0,_.jsx)("button",{type:"button",onClick:()=>i(!0),className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",padding:"2px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"4px",marginBottom:"16px"},children:null!==n&&void 0!==n&&n.company_logo?(0,_.jsx)("div",{style:{width:"64px",height:"64px",borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,_.jsx)("img",{src:null===n||void 0===n?void 0:n.company_logo,style:{width:"100%"},alt:"Uploaded Photo"})}):(0,_.jsx)(v.A,{})}),(0,_.jsx)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:(0,_.jsx)("span",{style:{color:"#1AB2FF",fontWeight:"600",cursor:"pointer"},onClick:()=>i(!0),children:"Click to upload"})}),(0,_.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,_.jsx)(w.A,{show:t,setShow:i,setPhoto:s})]})}const E=function(){var e;(0,p.Zp)(),(0,l.jE)();const[a,s]=(0,r.useState)("generalinformation"),[i,v]=(0,r.useState)(!1),[w,E]=(0,r.useState)({}),{register:B,handleSubmit:$,formState:{errors:I},reset:S}=(0,n.mN)({resolver:(0,t.t)(b)}),{data:F,isLoading:k,error:W}=(0,d.I)({queryKey:["generalInfo"],queryFn:m.YC,onSuccess:e=>{S(e)},onError:e=>{console.error("Error fetching data:",e)}}),P=(0,c.n)({mutationFn:e=>(0,m.IY)(e,w),onSuccess:()=>{window.location.reload(),y.oR.success("Company Information updated successfully")}});return k||W?(0,_.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,_.jsx)(A.A,{animation:"border",role:"status",children:(0,_.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,_.jsx)("form",{onSubmit:$((e=>{P.mutate({...e})})),children:(0,_.jsx)("div",{className:"settings-wrap",children:(0,_.jsxs)("div",{className:"settings-wrapper",children:[(0,_.jsx)(x.A,{activeTab:a,setActiveTab:s}),(0,_.jsxs)("div",{className:"settings-content",children:[(0,_.jsxs)("div",{className:"headSticky",children:[(0,_.jsx)("h1",{children:"Company Information "}),(0,_.jsx)("div",{className:"contentMenuTab",children:(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{className:"menuActive",children:(0,_.jsx)(h.N_,{to:"/settings/generalinformation",children:"General Information"})}),(0,_.jsx)("li",{children:(0,_.jsx)(h.N_,{to:"/settings/generalinformation/bank-details",children:"Bank Details "})}),(0,_.jsx)("li",{children:(0,_.jsx)(h.N_,{to:"/settings/generalinformation/region-and-language",children:"Region & Language"})})]})})]}),(0,_.jsx)("div",{className:"content_wrap_main "+(i?"isEditingwrap":""),children:(0,_.jsx)("div",{className:"content_wrapper",children:(0,_.jsxs)("div",{className:"listwrapper",children:[(0,_.jsxs)("div",{className:"topHeadStyle",children:[(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)("h2",{children:"General Information"}),i?(0,_.jsx)("p",{children:"Lorem Ipsum dolores"}):(0,_.jsx)(_.Fragment,{})]}),!i&&(0,_.jsxs)(h.N_,{to:"#",onClick:()=>{v(!0)},children:["Edit",(0,_.jsx)(j.A,{color:"#344054",size:20})]})]}),(0,_.jsxs)("ul",{children:[(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"Company Legal Name"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(null!==I&&void 0!==I&&I.legal_name?"error-border":""),children:[(0,_.jsx)("input",{...B("legal_name"),placeholder:"Enter company legal name",defaultValue:null===F||void 0===F?void 0:F.legal_name}),(null===I||void 0===I?void 0:I.legal_name)&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),(null===I||void 0===I?void 0:I.legal_name)&&(0,_.jsx)("p",{className:"error-message",children:null===I||void 0===I||null===(e=I.legal_name)||void 0===e?void 0:e.message})]}):(0,_.jsxs)("strong",{children:[null===F||void 0===F?void 0:F.legal_name," "]})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{children:"Please provide the complete legal name of your company, as it will be displayed on outgoing documentation."})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"Company Trading name"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(I.trading_name?"error-border":""),children:[(0,_.jsx)("input",{...B("trading_name"),placeholder:"Enter Trading Name",defaultValue:F.trading_name}),I.trading_name&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),I.trading_name&&(0,_.jsx)("p",{className:"error-message",children:I.trading_name.message})]}):(0,_.jsxs)("strong",{children:[F.trading_name," "]})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{children:"Please enter a trading name. This will be displayed when you communicate with contractors, clients, and suppliers."})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"ABN"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(I.abn?"error-border":""),children:[(0,_.jsx)("input",{...B("abn"),placeholder:"Enter ABN",defaultValue:F.abn}),I.abn&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),I.abn&&(0,_.jsx)("p",{className:"error-message",children:I.abn.message})]}):(0,_.jsxs)("strong",{children:[F.abn," "]})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{children:"Please input Active Business Number"})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"Main Company Email"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(I.main_email?"error-border":""),children:[(0,_.jsx)("input",{...B("main_email"),placeholder:"Enter Email",defaultValue:F.main_email}),I.main_email&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),I.main_email&&(0,_.jsx)("p",{className:"error-message",children:I.main_email.message})]}):(0,_.jsxs)("strong",{children:[F.main_email," ",(0,_.jsx)(u.A,{color:"#158ECC",size:20})]})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{children:"Insert emails which will be used to send all your automatic outgoing emails and notifications."})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"Main Company Phone Number"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(I.main_phone?"error-border":""),children:[(0,_.jsx)("input",{...B("main_phone"),placeholder:"Enter Phone Number",defaultValue:F.main_phone}),I.main_phone&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),I.main_phone&&(0,_.jsx)("p",{className:"error-message",children:I.main_phone.message})]}):(0,_.jsxs)("strong",{children:[F.main_phone," ",(0,_.jsx)(f.A,{color:"#158ECC",size:20})]})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{children:"Insert emails which will be used to send all your automatic outgoing emails and notifications."})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"Street Address"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(I.address?"error-border":""),children:[(0,_.jsx)("input",{...B("address"),placeholder:"Enter Address",defaultValue:F.address}),I.address&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),I.address&&(0,_.jsx)("p",{className:"error-message",children:I.address.message})]}):(0,_.jsx)("strong",{children:F.address})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"State"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(I.state?"error-border":""),children:[(0,_.jsx)("input",{...B("state"),placeholder:"Enter state",defaultValue:F.state}),I.state&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),I.state&&(0,_.jsx)("p",{className:"error-message",children:I.state.message})]}):(0,_.jsx)("strong",{children:F.state})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"Postcode"}),i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"inputInfo "+(I.postcode?"error-border":""),children:[(0,_.jsx)("input",{...B("postcode"),placeholder:"Enter postcode",defaultValue:F.postcode}),I.postcode&&(0,_.jsx)("img",{className:"ExclamationCircle",src:o.A,alt:"Exclamation Circle"})]}),I.postcode&&(0,_.jsx)("p",{className:"error-message",children:I.postcode.message})]}):(0,_.jsx)("strong",{children:F.postcode})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsx)("p",{})}):(0,_.jsx)(_.Fragment,{})]}),(0,_.jsxs)("li",{className:""+(i?`${g.A.editBorderWrap}`:`${g.A.viewBorderWrap}`),children:[(0,_.jsxs)("div",{className:g.A.editinfo,children:[(0,_.jsx)("span",{children:"Company Logo for Documentation"}),i?(0,_.jsx)("div",{className:"upload-btn-wrapper",children:(0,_.jsx)(C,{photo:w,data:F,setPhoto:E})}):(0,_.jsx)("strong",{children:F.company_logo?(0,_.jsx)("img",{src:F.company_logo,width:76,alt:"Company Logo"}):(0,_.jsx)("img",{src:N,alt:"DummyImg"})})]}),i?(0,_.jsx)("div",{className:g.A.editpara,children:(0,_.jsxs)("div",{className:"logo",children:[(0,_.jsx)("h5",{children:"Company logo"}),(0,_.jsx)("p",{children:"Upload the logo for your unique quotes and invoices."})]})}):(0,_.jsx)(_.Fragment,{})]})]})]})})}),i&&(0,_.jsxs)("div",{className:"updateButtonGeneral",children:[(0,_.jsx)("button",{className:"cancel",children:"Cancel"}),(0,_.jsx)("button",{type:"submit",className:"save mr-3",disabled:P.isLoading,children:P.isLoading?"Updating...":"Update"})]})]})]})})})}},24932:(e,a,s)=>{s.d(a,{A:()=>r});const r={activelist:"general_activelist__FWpML",viewBorderWrap:"general_viewBorderWrap__h1m3m",editBorderWrap:"general_editBorderWrap__p-Bng",editinfo:"general_editinfo__FLHp1",editpara:"general_editpara__Db271",listwrapp:"general_listwrapp__S9ISd"}}}]);
//# sourceMappingURL=423.067a7093.chunk.js.map