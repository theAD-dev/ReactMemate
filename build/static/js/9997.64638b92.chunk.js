(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[9997],{25563:(e,t,s)=>{"use strict";s.d(t,{K:()=>r,Um:()=>i,z5:()=>o,zA:()=>l});var n=s(31342);const a="https://app.memate.com.au/api/v1",r=async()=>{const e=new URL(`${a}/settings/app-terms/`);return(0,n.f)(e.toString(),{method:"GET"})},i=async e=>{const t={method:"PUT",body:e},s=new URL(`${a}/settings/app-terms/`);return(0,n.f)(s.toString(),t)},o=async()=>{const e=new URL(`${a}/settings/invoice-terms/`);return(0,n.f)(e.toString(),{method:"GET"})},l=async e=>{const t={method:"PUT",body:e},s=new URL(`${a}/settings/invoice-terms/`);return(0,n.f)(s.toString(),t)}},32224:(e,t,s)=>{var n={"./ckb.js":23743,"./cs.js":7333,"./da.js":11664,"./de.js":30844,"./en.js":5460,"./es.js":6151,"./fa.js":96062,"./fr.js":27755,"./he.js":3296,"./hu.js":33776,"./index.js":70559,"./it.js":54762,"./ja.js":80074,"./km.js":27671,"./ko.js":20665,"./lv.js":90749,"./nl.js":66449,"./pl.js":48599,"./pt_br.js":48366,"./ro.js":73100,"./ru.js":34638,"./se.js":55111,"./tr.js":10057,"./ua.js":79657,"./ur.js":64640,"./zh_cn.js":25277};function a(e){var t=r(e);return s(t)}function r(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=32224},65425:(e,t,s)=>{"use strict";s.d(t,{R:()=>c});var n=s(65043),a=s(86213),r=s(56328),i=s(9266),o=s.n(i),l=(s(23475),s(70579));const c=e=>{let{value:t="",onChange:s,placeholder:i="Enter content...",height:c=299,showTable:d=!0,showLink:u=!0,disabled:m=!1,className:h="",customOptions:p={},onLoad:g,onFocus:x,onBlur:f,enableS3Upload:j=!1,s3UploadEndpoint:v=null,uploadId:b=null,...C}=e;const[E,F]=(0,n.useState)({}),[w,y]=(0,n.useState)(!1),A=(0,n.useRef)(new Map),_=(0,n.useRef)(s);(0,n.useEffect)((()=>{_.current=s}),[s]),(0,n.useEffect)((()=>{const e=setInterval((()=>{const e=A.current;if(e.size>50){const t=Array.from(e.entries()).slice(-25);A.current=new Map(t)}}),6e4);return()=>clearInterval(e)}),[]),(0,n.useEffect)((()=>{if(E.error||E.success){const e=setTimeout((()=>{F({})}),2e3);return()=>clearTimeout(e)}}),[E.error,E.success]);const T=(0,n.useRef)(null),S=(0,n.useRef)(t);(0,n.useEffect)((()=>{S.current=t}),[t]);const N=(0,n.useCallback)((e=>{if(!e||"string"!==typeof e)return!1;return[/^https?:\/\/.*\.s3\..*\.amazonaws\.com\//,/^https?:\/\/s3\..*\.amazonaws\.com\//,/^https?:\/\/.*\.s3\.amazonaws\.com\//,/^https?:\/\/.*\.digitaloceanspaces\.com\//,new RegExp(`^https?://${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_API_URL:"https://app.memate.com.au/api/v1",REACT_APP_URL:"https://app.memate.com.au",REACT_APP_CHAT_API_URL:"https://chat.memate.com.au",REACT_APP_STATIC_WEBSITE_URL:"https://memate.com.au/",REACT_APP_XERO_CLIENT_ID:"CF33702DD2CA4E49ADF22C2BE94C9EBB",REACT_APP_STRIPE_PUBLISH_KEY:"pk_live_51KGzf3BrpZbmIWreM2EqPPXT1fl5FCl0hd5RX0NGjmNKWkMrz4m3ydFDhFSqV2TGXOYcl3AOdhBEzXILYRajp1LI00MOA7DM31",REACT_APP_HUBSPOT_PORTAL_ID:"241966069",REACT_APP_HUBSPOT_FORM_ID:"39ad4b7b-9757-48e2-97d1-ac46aa95862c",REACT_APP_MAPBOX_API_KEY:"pk.eyJ1IjoibW9qdGFiYWZhYWwiLCJhIjoiY2tzdDdrbWU1MDluZDJxbHN3ZnE3MWt1dCJ9.piL99nmi48SywE6JW4obdQ"}.REACT_APP_S3_BUCKET||".*"}\\.s3\\..*\\.amazonaws\\.com/`)].some((t=>t.test(e)))}),[]),R=(0,n.useCallback)((e=>{const t=/<img[^>]+src="([^"]+)"[^>]*>/gi,s=[],n=[],a=[];let r;for(;null!==(r=t.exec(e));){const e=r[0],t=r[1];if(t.startsWith("data:image/")){const n=t.match(/^data:image\/([^;]+);base64,(.+)$/);n&&s.push({fullMatch:e,format:n[1],base64Data:n[2],src:t,index:r.index})}else N(t)?n.push({fullMatch:e,src:t,index:r.index}):a.push({fullMatch:e,src:t,index:r.index})}return{base64Images:s,s3Images:n,otherImages:a}}),[N]),P=(0,n.useCallback)(((e,t,s)=>{const n=e.replace(/^data:image\/[a-z]+;base64,/,""),a=atob(n),r=new Array(a.length);for(let l=0;l<a.length;l++)r[l]=a.charCodeAt(l);const i=new Uint8Array(r),o=new Blob([i],{type:`image/${t}`});return new File([o],s,{type:`image/${t}`})}),[]),I=(0,n.useCallback)((async(e,t)=>{if(!j)return null;const s=btoa(e.substring(0,100));if(A.current.has(s)){return A.current.get(s)}try{const n=`image-${Date.now()}.${t}`,r=P(e,t,n),i=localStorage.getItem("access_token"),o=v||`https://app.memate.com.au/api/v1/proposals/file/${b}/`,l=await a.A.post(o,{file_name:n},{headers:{Authorization:`Bearer ${i}`}}),{url:c}=l.data;if(!c)throw new Error("Failed to get upload URL");await a.A.put(c,r,{headers:{"Content-Type":""}});const d=c.split("?")[0]||"";return A.current.set(s,d),d}catch(n){throw console.error("Error uploading base64 image to S3:",n),n}}),[j,v,b,P]),z={buttonList:(()=>{const e=[["undo","redo"],["bold","italic","underline","strike"],["formatBlock"],["list"],["align"],["image"]];return u&&e.push(["link"]),d&&e.push(["table"]),e})(),height:c,placeholder:i,showPathLabel:!1,charCounter:!1,resizingBar:!1,disable:m,imageUploadUrl:j?null:void 0,table:{headerStyle:"background-color: #f8f9fa; font-weight: bold; padding: 8px; min-width: 50px; border: none;",cellStyle:"padding: 8px; min-width: 50px; border: none;"},imageUploadHeader:j?void 0:{Authorization:`Bearer ${localStorage.getItem("access_token")||""}`},formats:["p","div","h1","h2","h3","h4","h5","h6"],font:["Arial","Helvetica","Georgia","Times New Roman","Courier New"],fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72],colorList:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F3F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#FF9C63","#FFCE63","#9CDE9C","#63B5CE","#639CFF","#9C63E7","#CE639C"],["#E73131","#FF7031","#FFB531","#73DE73","#319CCE","#3173FF","#7331E7","#CE3173"],["#9C0000","#B56308","#9C9C00","#089C00","#008294","#0031FF","#4A0A77","#9C005A"],["#630000","#7B3900","#636300","#006300","#005A6B","#002173","#290A4A","#630039"]]},k={...z,...p,buttonList:p.buttonList||z.buttonList};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{children:"\n                @keyframes spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n                .sun-editor-wrapper .se-wrapper-inner *,\n                .sun-editor .se-resizing-container {\n                    z-index: 0 !important;\n                }\n            "}),(0,l.jsxs)("div",{className:`sun-editor-wrapper ${h}`,style:{position:"relative"},children:[(0,l.jsx)(o(),{setOptions:k,setContents:t,onChange:async e=>{if(j&&e&&"string"===typeof e){const{base64Images:s,s3Images:n}=R(e);if(s.length>0){y(!0);try{let t=e;for(const e of s){const{fullMatch:s,format:n,base64Data:a}=e,r=await I(a,n);if(r){const e=s.replace(/src="data:image\/[^;]+;base64,[^"]+"/,`src="${r}"`);t=t.replace(s,e)}}if(y(!1),_.current&&t!==e)return void _.current(t)}catch(t){console.error("Error processing base64 images:",t),y(!1),r.oR.error("Failed to upload images. Please try again.")}}else n.length>0&&console.log("Content contains only S3 images, no upload needed")}_.current&&_.current(e)},onLoad:e=>{T.current=e,g&&g(e)},onFocus:(e,t)=>{x&&x(e,t)},onBlur:(e,t)=>{f&&f(e,t)},...C}),null!==E&&void 0!==E&&E.uploading||null!==E&&void 0!==E&&E.success||null!==E&&void 0!==E&&E.error||w?(0,l.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,borderRadius:"4px"},children:[(E.uploading||w)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{width:"60px",height:"60px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),(0,l.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:"#333",marginBottom:"8px"},children:w?"Processing images...":"Uploading image..."}),E.uploading&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{width:"200px",height:"6px",backgroundColor:"#f0f0f0",borderRadius:"3px",overflow:"hidden"},children:(0,l.jsx)("div",{style:{width:`${E.progress}%`,height:"100%",backgroundColor:"#3498db",transition:"width 0.3s ease"}})}),(0,l.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[E.progress,"%"]})]})]}),E.success&&(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("div",{style:{width:"50px",height:"50px",backgroundColor:"#27ae60",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,l.jsx)("span",{style:{color:"white",fontSize:"24px"},children:"\u2713"})}),(0,l.jsx)("div",{style:{fontSize:"14px",color:"#27ae60"},children:"Upload completed!"})]}),E.error&&(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("div",{style:{width:"50px",height:"50px",backgroundColor:"#e74c3c",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,l.jsx)("span",{style:{color:"white",fontSize:"24px"},children:"\u2717"})}),(0,l.jsx)("div",{style:{fontSize:"14px",color:"#e74c3c"},children:"Upload failed"})]})]}):null]})]})};s(95903)},68488:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var n=s(65043),a=s(61072),r=s(78602),i=s(14282),o=s(65975),l=s(73898),c=s(65173),d=s.n(c),u=["color","size","title","className"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},m.apply(null,arguments)}var h=(0,n.forwardRef)((function(e,t){var s=e.color,a=void 0===s?"currentColor":s,r=e.size,i=void 0===r?"1em":r,o=e.title,l=void 0===o?null:o,c=e.className,d=void 0===c?"":c,h=function(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,u);return n.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:a,className:["bi","bi-box-arrow-up-right",d].filter(Boolean).join(" ")},h),l?n.createElement("title",null,l):null,n.createElement("path",{fillRule:"evenodd",d:"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5"}),n.createElement("path",{fillRule:"evenodd",d:"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z"}))}));h.propTypes={color:d().string,size:d().oneOfType([d().string,d().number]),title:d().string,className:d().string};const p=h;var g=s(49367),x=s(35475),f=s(47097),j=s(58387),v=s(93740),b=s(56328),C=s(80158),E=s(25563),F=s(65425),w=s(95903),y=s(70579);const A=()=>{var e,t;const s=JSON.parse(window.localStorage.getItem("profileData")||"{}"),c=null===s||void 0===s||null===(e=s.organization)||void 0===e?void 0:e.id,d=!(null===s||void 0===s||!s.has_work_subscription),[u,m]=(0,n.useState)(!1),[h,A]=(0,n.useState)(""),[_,T]=(0,n.useState)(!1),S=async()=>{try{T(!0);const e=await(0,E.z5)();A(e)}catch(e){console.error("Error fetching data: ",e)}finally{T(!1)}};(0,n.useEffect)((()=>{S()}),[]);const N=(0,f.n)({mutationFn:e=>(0,E.zA)(e),onSuccess:async()=>{b.oR.success("Terms have been successfully updated."),await S(),m(!1)},onError:e=>{console.error("Error updating terms:",e),b.oR.error("Failed to update the terms. Please try again.")}});(0,w.w)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(g.mg,{children:(0,y.jsx)("title",{children:"MeMate - Quote & Invoice Terms and Conditions"})}),(0,y.jsxs)("div",{className:"settings-content setModalelBoots w-100",children:[(0,y.jsxs)("div",{className:"headSticky",children:[(0,y.jsx)("h1",{children:"Terms and Conditions"}),(0,y.jsx)("div",{className:"contentMenuTab",children:(0,y.jsxs)("ul",{children:[(0,y.jsx)("li",{className:"menuActive",children:(0,y.jsx)(x.N_,{to:"/settings/termsandconditions/terms-and-conditions-invoice",children:"Quote & Invoice Terms and Conditions"})}),d&&(0,y.jsx)("li",{children:(0,y.jsx)(x.N_,{to:"/settings/termsandconditions/terms-and-conditions",children:"Application Terms and Conditions"})})]})})]}),(0,y.jsx)("div",{className:"content_wrap_main",children:(0,y.jsx)("div",{className:"content_wrapper",children:(0,y.jsxs)("div",{className:"listwrapper",children:[(0,y.jsxs)("div",{className:`topHeadStyle pb-4 flex-column ${C.A.topHeadStyle}`,children:[(0,y.jsx)("div",{className:"w-100 d-flex gap-2 justify-content-end align-items-center",children:!u&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("button",{onClick:()=>m(!0),className:"text-nowrap",children:["Edit \xa0 ",(0,y.jsx)(l.A,{color:"#344054",size:20})]}),(0,y.jsxs)(x.N_,{to:`https://app.memate.com.au/media/organization_${null===s||void 0===s||null===(t=s.organization)||void 0===t?void 0:t.id}/terms_and_conditions.pdf`,style:{padding:"10px 18px"},target:"_blank",children:["Preview \xa0 ",(0,y.jsx)(p,{color:"#344054",size:20})]})]})}),(0,y.jsxs)("div",{className:"w-100 text-start",children:[(0,y.jsx)("h2",{children:"Terms and Conditions for Quotes and Invoices"}),(0,y.jsx)("p",{children:"Use this section to display your Terms and Conditions on your Quote and Invoice PDFs."})]})]}),(0,y.jsx)("div",{children:_?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.A,{as:"h5",animation:"wave",style:{marginBottom:"10px",marginTop:"5px"},children:(0,y.jsx)(o.A,{bg:"secondary",size:"md",style:{width:"100%"}})}),(0,y.jsx)(o.A,{as:"p",animation:"wave",style:{marginBottom:"10px",marginTop:"5px"},children:(0,y.jsx)(o.A,{bg:"secondary",size:"md",style:{width:"100%",height:"300px"}})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(a.A,{className:(0,j.A)(C.A.qlEditorText,"terms-conditions-editor"),children:(0,y.jsx)(r.A,{sm:12,children:(0,y.jsx)("div",{className:"d-flex flex-column gap-1",style:{position:"relative"},children:u?(0,y.jsx)(F.R,{value:(null===h||void 0===h?void 0:h.terms_invoice)||"",onChange:e=>{A((t=>({...t,terms_invoice:e})))},height:420,placeholder:"Enter terms and conditions...",showTable:!0,showImage:!0,showLink:!0,showCodeView:!0,enableS3Upload:!0,uploadId:c}):(0,y.jsx)(F.R,{value:(null===h||void 0===h?void 0:h.terms_invoice)||"",readOnly:!0,hideToolbar:!0,height:420})})})}),u&&(0,y.jsxs)("div",{className:"d-flex justify-content-end mt-4 mb-4",children:[(0,y.jsx)(i.A,{className:"outline-button me-2",onClick:()=>m(!1),children:"Cancel"}),(0,y.jsxs)(i.A,{className:"solid-button",disabled:N.isPending,onClick:()=>{N.mutate(h)},children:["Save ",N.isPending&&(0,y.jsx)(v.p,{style:{width:"20px",height:"20px"}})]})]})]})})]})})})]})]})}},80158:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n={}},95903:(e,t,s)=>{"use strict";s.d(t,{w:()=>a});var n=s(70579);const a=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"ql-formats",children:[(0,n.jsx)("button",{className:"ql-bold me-1","aria-label":"Bold"}),(0,n.jsx)("button",{className:"ql-italic me-1","aria-label":"Italic"}),(0,n.jsx)("button",{className:"ql-underline me-1","aria-label":"Underline"})]}),(0,n.jsxs)("span",{className:"ql-formats",children:[(0,n.jsx)("button",{className:"ql-list me-1",value:"ordered","aria-label":"Ordered List"}),(0,n.jsx)("button",{className:"ql-list me-1",value:"bullet","aria-label":"Unordered List"}),(0,n.jsx)("button",{className:"ql-indent me-1",value:"-1","aria-label":"Indent"}),(0,n.jsx)("button",{className:"ql-indent me-1",value:"+1","aria-label":"Outdent"})]}),(0,n.jsxs)("span",{className:"ql-formats",children:[(0,n.jsxs)("select",{className:"ql-size me-1",children:[(0,n.jsx)("option",{value:"small",children:"Small"}),(0,n.jsx)("option",{value:"",selected:!0,children:"Normal"}),(0,n.jsx)("option",{value:"large",children:"Large"}),(0,n.jsx)("option",{value:"huge",children:"Huge"})]}),(0,n.jsx)("select",{className:"ql-color me-1"}),(0,n.jsx)("button",{className:"ql-link me-1",value:"+1","aria-label":"Outdent"})]})]})}}]);
//# sourceMappingURL=9997.64638b92.chunk.js.map