"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[3908],{60035:(e,t,r)=>{r.d(t,{A:()=>c});var l=r(65043),n=r(65173),i=r.n(n),o=["color","size","title","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},s.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=e.size,a=void 0===i?"1em":i,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,n=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)r=i[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o);return l.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:n,className:["bi","bi-arrow-counterclockwise",p].filter(Boolean).join(" ")},m),d?l.createElement("title",null,d):null,l.createElement("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"}),l.createElement("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const c=a},63908:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var l=r(65043),n=r(60035),i=r(76163),o=r(91704),s=r(65173),a=r.n(s),c=["color","size","title","className"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},d.apply(null,arguments)}var u=(0,l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=e.size,o=void 0===i?"1em":i,s=e.title,a=void 0===s?null:s,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,n=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)r=i[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,c);return l.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-chevron-right",p].filter(Boolean).join(" ")},m),a?l.createElement("title",null,a):null,l.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"}))}));u.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const p=u;var m=r(38294),h=r(73216),f=r(28261),v=r(93740),b=r(56328);const y="https://app.memate.com.au/api/v1/inquiries/form/";function x(e){let{defaultOrgId:t,initialForm:r=null}=e;if("undefined"===typeof window)return;const l=document.querySelector(".mf-builder")||document;if("true"===l.dataset.builderInitialized)return void console.log("Builder already initialized, skipping...");l.dataset.builderInitialized="true";const n=l.querySelector("#preview-container"),i=l.querySelector("#properties-container"),o=l.querySelector("#form_style"),s=l.querySelector("#preview-btn"),a=l.querySelector("#save-btn");let c=1,d={},u=null,p=(null===r||void 0===r?void 0:r.id)||null,m=[],h=-1;function f(){h<m.length-1&&(m=m.slice(0,h+1)),m.push(JSON.parse(JSON.stringify(d))),m.length>50?m.shift():h++}function v(e){d=JSON.parse(JSON.stringify(e)),function(){n.querySelectorAll(".preview-field").forEach((e=>e.remove())),Object.keys(d).forEach((e=>{const t=d[e],r=t.field_type||t.type,l=document.createElement("div");l.className="preview-field",l.id=e,l.dataset.type=r,l.innerHTML=E(r)+$(),n.appendChild(l),k(l,e,r),function(e,t,r,l){const n=e.querySelector(".form-field > label, .checkbox-field label");n&&l.label&&(n.textContent=l.label);if(["text","email","number","phone","url","date","time"].includes(r)){const t=e.querySelector("input");t&&l.placeholder&&(t.placeholder=l.placeholder)}else if("textarea"===r){const t=e.querySelector("textarea");t&&l.placeholder&&(t.placeholder=l.placeholder)}}(l,0,r,t)})),N();const e=n.querySelector(".empty-state");e&&(e.style.display=0===Object.keys(d).length?"flex":"none")}()}if(window.addEventListener("builder-undo",(function(){h>0&&(h--,v(m[h]))})),window.addEventListener("builder-redo",(function(){h<m.length-1&&(h++,v(m[h]))})),r)try{!function(e){var t,r;P("form-title",e.title),P("form-type",e.type||"web"),P("form-domain",e.domain),P("form-description",e.description||(null===(t=e.meta)||void 0===t?void 0:t.description)||""),P("form-submit-to",e.submit_to),P("form-submit-from",e.submit_from),P("form-cc-email",e.cc_email),P("form-bcc-email",e.bcc_email),P("form-thank-you",e.thank_you_message),P("form-error-message",e.error_message),P("form-submit-label",e.submit_button_label||"Submit"),P("form-redirect-url",e.redirect_url),P("form-recaptcha-key",e.recaptcha_site_key),P("form-recaptcha-secret",e.recaptcha_secret_key);const i=l.querySelector("#preview-form-title"),s=l.querySelector("#preview-form-description");i&&(i.textContent=e.title||"Title");s&&(s.textContent=e.description||(null===(r=e.meta)||void 0===r?void 0:r.description)||"Description");o&&e.custom_css&&(o.value=e.custom_css);const a=(e.fields||[]).slice().sort(((e,t)=>{var r,l;return(null!==(r=e.order)&&void 0!==r?r:0)-(null!==(l=t.order)&&void 0!==l?l:0)}));if(n.querySelectorAll(".preview-field").forEach((e=>e.remove())),d={},c=1,a.forEach(R),N(),a.length>0){const e=n.querySelector(".empty-state");e&&(e.style.display="none")}}(r),setTimeout((()=>{const e=l.querySelector("#preview-form-title"),t=l.querySelector("#preview-form-description"),r=l.querySelector("#form-title"),n=l.querySelector("#form-description");e&&r&&r.value&&(e.textContent=r.value),t&&n&&n.value&&(t.textContent=n.value)}),100)}catch(U){console.error("Hydration failed:",U)}const b=l.querySelector("#form-title"),x=l.querySelector("#form-description"),g=l.querySelector("#preview-form-title"),w=l.querySelector("#preview-form-description");b&&g&&b.addEventListener("input",(e=>{g.textContent=e.target.value||"Title"})),x&&w&&x.addEventListener("input",(e=>{w.textContent=e.target.value||"Description"}));const j=l.querySelector(".field-types");j&&j.addEventListener("dragstart",(e=>{const t=e.target&&e.target.closest(".field-type");if(t)try{e.dataTransfer&&(e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("text/plain",t.dataset.type),e.dataTransfer.setData("application/x-field-type",t.dataset.type))}catch(r){}}),!0);let S=null,q=null;function E(e){const t={text:'<div class="form-field"><label>Text Field</label><input type="text" placeholder="Enter text"></div>',email:'<div class="form-field"><label>Email Field</label><input type="email" placeholder="Enter email"></div>',number:'<div class="form-field"><label>Number Field</label><input type="number" placeholder="Enter number"></div>',phone:'<div class="form-field"><label>Phone Field</label><input type="tel" placeholder="Enter phone"></div>',textarea:'<div class="form-field"><label>Text Area</label><textarea placeholder="Enter text"></textarea></div>',select:'<div class="form-field"><label>Dropdown</label><select><option value="">Select an option</option><option>Option 1</option><option>Option 2</option></select></div>',radio:'<div class="form-field"><label>Radio Buttons</label><div class="radio-field"><input id="r1" type="radio" name="rg"><label for="r1">Option 1</label></div><div class="radio-field"><input id="r2" type="radio" name="rg"><label for="r2">Option 2</label></div></div>',checkbox:'<div class="form-field"><div class="checkbox-field"><input id="cb" type="checkbox"><label for="cb" class="mb-0">Checkbox</label></div></div>',multicheckbox:'<div class="form-field"><label>Multi Checkbox</label><div class="checkbox-field"><input id="m1" type="checkbox"><label for="m1">Option 1</label></div><div class="checkbox-field"><input id="m2" type="checkbox"><label for="m2">Option 2</label></div></div>',date:'<div class="form-field"><label>Date</label><input type="date"></div>',time:'<div class="form-field"><label>Time</label><input type="time"></div>',url:'<div class="form-field"><label>Website URL</label><input type="url" placeholder="https://example.com"></div>',html:'<div class="form-field html-content"><p>HTML Content</p></div>',consent:'<div class="form-field"><div class="checkbox-field"><input id="consent" type="checkbox"><label for="consent" class="mb-0">I agree to the terms and conditions</label></div></div>',submit_button:'<div class="form-field"><button type="submit" class="btn-primary">Submit</button></div>'};return t[e]||t.text}function $(){return`\n      <div class="field-actions">\n        <input type="checkbox" class="required-toggle" title="Required" ${arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"checked":""} />\n        <button class="move-field-up" title="Up">\u2191</button>\n        <button class="move-field-down" title="Down">\u2193</button>\n        <button class="edit-field" title="Edit">\u270e</button>\n        <button class="remove-field" title="Remove">\u26cc</button>\n      </div>`}function L(e){const t=d[e],r=l.querySelector(`#${e}`);if(!r)return;const n=r.querySelector(".required-toggle");n&&(n.checked=!!t.required);const i=l.querySelector("#fp-req");i&&(i.checked=!!t.required),r.querySelectorAll("input, textarea, select").forEach((e=>{t.required?e.setAttribute("required",""):e.removeAttribute("required")}));const o=r.querySelector(".form-field > label");if(o){let e=o.querySelector(".required-star");t.required&&!e?o.insertAdjacentHTML("beforeend",' <span class="required-star">*</span>'):!t.required&&e&&e.remove()}}function k(e,t,r){e.addEventListener("click",(e=>{e.target.closest(".field-actions")||C(t,r)}));const l=e.querySelector(".required-toggle");l&&l.addEventListener("change",(e=>{d[t].required=e.target.checked,L(t),f()})),e.querySelector(".remove-field").addEventListener("click",(()=>{if(delete d[t],e.remove(),N(),f(),u===t){i.classList.remove("has-selection");const e=i.querySelector(".field-props-placeholder");e&&(e.innerHTML='\n            <div class="panel-header">\n              <h2>Properties</h2>\n            </div>\n            <div class="no-selection">\n              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" opacity="0.2">\n                <rect x="3" y="5" width="18" height="14" rx="2"/>\n                <path d="M7 10h10M7 14h6"/>\n              </svg>\n              <p>Select a field to edit its properties</p>\n            </div>\n          ')}const r=n.querySelectorAll(".preview-field"),l=n.querySelector(".empty-state");0===r.length&&l&&(l.style.display="flex")})),e.querySelector(".move-field-up").addEventListener("click",(t=>{t.stopPropagation(),e.previousElementSibling&&e.previousElementSibling.classList.contains("preview-field")&&e.parentNode.insertBefore(e,e.previousElementSibling),T(),N(),f()})),e.querySelector(".move-field-down").addEventListener("click",(t=>{t.stopPropagation();const r=e.nextElementSibling;r&&r.classList.contains("preview-field")&&e.parentNode.insertBefore(r,e),T(),N(),f()})),e.querySelector(".edit-field").addEventListener("click",(e=>{e.stopPropagation(),C(t,r)}))}function T(){const e={};n.querySelectorAll(".preview-field").forEach((t=>{e[t.id]=d[t.id]})),d=e,N()}function N(){const e=Array.from(n.querySelectorAll(".preview-field"));e.forEach(((t,r)=>{const l=t.querySelector(".move-field-up"),n=t.querySelector(".move-field-down");l&&(l.disabled=0===r),n&&(n.disabled=r===e.length-1)}))}function C(e,t){u=e;const r=d[e];n.querySelectorAll(".preview-field").forEach((e=>e.classList.remove("selected")));const o=n.querySelector(`#${e}`);o&&o.classList.add("selected"),i.classList.add("has-selection");let s=i.querySelector(".field-props-placeholder");s||(s=document.createElement("div"),s.className="field-props-placeholder",i.insertBefore(s,i.firstChild)),s.innerHTML=`\n      <div class="panel-header">\n        <h2>Properties</h2>\n      </div>\n      <div class="property-group">\n        <h3>Basic</h3>\n        <label>Label <input id="fp-label" value="${O(r.label)}"></label>\n        ${["text","email","number","phone","url","textarea"].includes(t)?`<label>Placeholder <input id="fp-ph" value="${O(r.placeholder||"")}"></label>`:""}\n        ${["text","email","number","phone","url","textarea"].includes(t)?`<label>Max Length <input id="fp-max" min="0" type="number" value="${M(r.maxlength||"")}"></label>`:""}\n        ${["text","email","number","phone","url","textarea"].includes(t)?`\n          <div class="property-subtle">\n            <label>Validation Pattern (Regex)\n              <input id="fp-regex" placeholder="e.g. ^[A-Za-z]{3,}$" value="${M(r.regex||"")}">\n            </label>\n            <p class="help-text text-start">Optional. Add a regex pattern for validation.</p>\n            <label>Regex Error Message <span id="fp-errmsg-required" class="required" style="display: ${r.regex?"inline":"none"};">*</span>\n              <input id="fp-errmsg" placeholder="e.g. Please enter only letters" value="${M(r.error_message||"")}" style="border-color: ${r.regex&&!r.error_message?"#dc3545":""};">\n            </label>\n            <p class="help-text">Required when Validation Pattern is set. Custom message to show when validation fails.</p>\n          </div>`:""}\n        <label class="inline"><input type="checkbox" id="fp-req" ${r.required?"checked":""}> <span>Required</span></label>\n      </div>\n      ${["select","radio","multicheckbox"].includes(t)?'\n        <div class="property-group">\n          <h3>Options</h3>\n          <div id="fp-options"></div>\n          <button id="fp-addopt" type="button" class="fp-addopt">Add Option</button>\n        </div>':""}\n      ${"html"===t?`\n        <div class="property-group">\n          <h3>HTML</h3>\n          <textarea id="fp-html" rows="5">${O(r.html||"")}</textarea>\n        </div>`:""}\n      ${"submit_button"===t?`\n        <div class="property-group">\n          <h3>Button</h3>\n          <label>Text <input id="fp-btntext" value="${O(r.button_text||"Submit")}"></label>\n          <label>Style (CSS) <textarea id="fp-btncss" rows="3">${O(r.custom_style||"")}</textarea></label>\n        </div>`:""}\n      <div class="property-group"><button id="fp-apply" type="button">Update Field</button></div>\n    `;const a=()=>{const n=l.querySelector("#"+e);if(!n)return;const i=n.querySelector(".form-field > label, .checkbox-field label");if(i&&(i.textContent=r.label),["text","email","number","phone","url","date","time"].includes(t)){const e=n.querySelector("input");e&&(r.placeholder&&(e.placeholder=r.placeholder),r.maxlength&&!isNaN(r.maxlength)&&r.maxlength>0&&(e.maxLength=parseInt(r.maxlength,10)),r.required?e.setAttribute("required",""):e.removeAttribute("required"))}else if("textarea"===t){const e=n.querySelector("textarea");e&&(r.placeholder&&(e.placeholder=r.placeholder),r.maxlength&&!isNaN(r.maxlength)&&r.maxlength>0&&(e.maxLength=parseInt(r.maxlength,10)),r.required?e.setAttribute("required",""):e.removeAttribute("required"))}else if("select"===t){const e=n.querySelector("select");e&&(e.innerHTML=`<option value="">${r.placeholder||"Select an option"}</option>`+(r.options||[]).map((e=>`<option>${O(e)}</option>`)).join(""),r.required?e.setAttribute("required",""):e.removeAttribute("required"))}else if("radio"===t){const e=n.querySelector(".form-field");e&&(e.querySelectorAll(".radio-field").forEach((e=>e.remove())),(r.options||[]).forEach(((t,l)=>{const n=document.createElement("div");n.className="radio-field";const i=`${r.name}-${l}`;n.innerHTML=`<input id="${i}" type="radio" name="${O(r.name)}" ${r.required?"required":""}>\n                             <label for="${i}">${O(t)}</label>`,e.appendChild(n)})))}else if("multicheckbox"===t){const e=n.querySelector(".form-field");e&&(e.querySelectorAll(".checkbox-field").forEach((e=>e.remove())),(r.options||[]).forEach(((t,l)=>{const n=document.createElement("div");n.className="checkbox-field";const i=`${r.name}-${l}`;n.innerHTML=`<input id="${i}" type="checkbox" name="${O(r.name)}[]" ${r.required?"required":""}>\n                             <label for="${i}">${O(t)}</label>`,e.appendChild(n)})))}else if("checkbox"===t){const e=n.querySelector(".checkbox-field label");e&&(e.textContent=r.label);const t=n.querySelector(".checkbox-field input");t&&(r.required?t.setAttribute("required",""):t.removeAttribute("required"))}else if("consent"===t){const e=n.querySelector(".checkbox-field label");e&&(e.textContent=r.label);const t=n.querySelector(".checkbox-field input");t&&(r.required?t.setAttribute("required",""):t.removeAttribute("required"))}else if("submit_button"===t){const e=n.querySelector("button");e&&(e.textContent=r.button_text||"Submit",r.custom_style?e.setAttribute("style",r.custom_style):e.removeAttribute("style"))}else if("html"===t){const e=n.querySelector(".html-content");e&&(e.innerHTML=r.html||"<p></p>")}};if(["select","radio","multicheckbox"].includes(t)){const e=l.querySelector("#fp-options"),t=()=>{e.innerHTML="",(r.options||[]).forEach(((t,r)=>{const l=document.createElement("div");l.innerHTML=`<input data-i="${r}" value="${M(t)}"> <button data-i="${r}" class="rm" type="button">x</button>`,e.appendChild(l)}))};t(),l.querySelector("#fp-addopt").onclick=()=>{r.options.push(`Option ${r.options.length+1}`),t(),c(),a(),f()},e.addEventListener("click",(e=>{if(e.target.classList.contains("rm")){const l=+e.target.dataset.i;r.options.splice(l,1),t(),a(),f()}})),e.addEventListener("input",(e=>{e.target.matches("input[data-i]")&&(r.options[+e.target.dataset.i]=e.target.value,a(),f())}))}const c=()=>{const t=l.querySelector("#fp-label"),n=l.querySelector("#fp-ph"),i=l.querySelector("#fp-req"),o=l.querySelector("#fp-max"),s=l.querySelector("#fp-regex"),c=l.querySelector("#fp-errmsg"),d=l.querySelector("#fp-html"),u=l.querySelector("#fp-btntext"),p=l.querySelector("#fp-btncss");t&&t.addEventListener("input",(e=>{var t,l;r.label=e.target.value,r.name=null===(t=e.target.value)||void 0===t||null===(l=t.toLowerCase())||void 0===l?void 0:l.replace(/\s+/g,"_"),a(),f()})),n&&n.addEventListener("input",(e=>{r.placeholder=e.target.value,a(),f()})),i&&i.addEventListener("change",(t=>{r.required=t.target.checked,a(),L(e),f()})),o&&o.addEventListener("input",(e=>{r.maxlength=e.target.value,a(),f()})),s&&s.addEventListener("input",(e=>{r.regex=e.target.value;const t=l.querySelector("#fp-errmsg-required"),n=l.querySelector("#fp-errmsg");t&&(t.style.display=r.regex?"inline":"none"),n&&(r.regex&&!r.error_message?n.style.borderColor="#dc3545":n.style.borderColor=""),f()})),c&&c.addEventListener("input",(e=>{r.error_message=e.target.value,r.regex&&r.error_message?e.target.style.borderColor="":r.regex&&!r.error_message&&(e.target.style.borderColor="#dc3545"),f()})),d&&d.addEventListener("input",(e=>{r.html=e.target.value,a(),f()})),u&&u.addEventListener("input",(e=>{r.button_text=e.target.value||"Submit",a(),f()})),p&&p.addEventListener("input",(e=>{r.custom_style=e.target.value||"",a(),f()}))};setTimeout((()=>{c();const e=l.querySelector("#fp-apply");e&&(e.style.display="none")}),0)}function _(){u=null,n.querySelectorAll(".preview-field").forEach((e=>e.classList.remove("selected"))),i.classList.remove("has-selection");const e=i.querySelector(".field-props-placeholder");e&&(e.innerHTML='\n        <div class="panel-header">\n          <h2>Properties</h2>\n        </div>\n        <div class="no-selection">\n          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" opacity="0.2">\n            <rect x="3" y="5" width="18" height="14" rx="2" />\n            <path d="M7 10h10M7 14h6" />\n          </svg>\n          <p>Select a field to edit its properties</p>\n        </div>\n      ')}function A(e){return(e||"").charAt(0).toUpperCase()+(e||"").slice(1)}function O(){return String((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"").replace(/[&<>"']/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e])))}function M(){return O(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/"/g,"&quot;")}function P(e,t){const r=document.getElementById(e);r&&(r.value=null!==t&&void 0!==t?t:"")}function R(e){var t,r,l,i,o,s,a,u,p,m;const h=e.field_type||e.type||"text",f="field-"+c++,v=document.createElement("div");v.className="preview-field",v.id=f,v.dataset.type=h,v.innerHTML=E(h)+$(!!e.required),n.appendChild(v);const b={type:h,field_type:h,_id:e.id,label:null!==(t=e.label)&&void 0!==t?t:`${A(h)} Field`,name:null!==(r=e.name)&&void 0!==r?r:`${h}_field`,required:!!e.required,placeholder:null!==(l=e.placeholder)&&void 0!==l?l:"",maxlength:null!==(i=null!==(o=e.max_length)&&void 0!==o?o:e.maxlength)&&void 0!==i?i:"",regex:null!==(s=e.regex)&&void 0!==s?s:"",error_message:null!==(a=e.error_message)&&void 0!==a?a:"",options:Array.isArray(e.options)?[...e.options]:[],html:null!==(u=e.html)&&void 0!==u?u:void 0,button_text:null!==(p=e.button_text)&&void 0!==p?p:void 0,custom_style:null!==(m=e.custom_style)&&void 0!==m?m:void 0};d[f]=b,k(v,f,h);const y=v.querySelector(".form-field > label, .checkbox-field label");if(y&&b.label&&(y.innerHTML=`${b.label} ${b.required?' <span class="required-star">*</span>':""}`),["text","email","number","phone","url","date","time"].includes(h)){const e=v.querySelector("input");e&&("phone"===h&&(e.type="tel"),b.placeholder&&(e.placeholder=b.placeholder),b.maxlength&&!isNaN(b.maxlength)&&b.maxlength>0&&(e.maxLength=parseInt(b.maxlength,10)),b.required&&(e.required=!0))}else if("textarea"===h){const e=v.querySelector("textarea");e&&(b.placeholder&&(e.placeholder=b.placeholder),b.maxlength&&!isNaN(b.maxlength)&&b.maxlength>0&&(e.maxLength=parseInt(b.maxlength,10)),b.required&&(e.required=!0))}else if("select"===h){const e=v.querySelector("select");e&&(e.innerHTML=`<option value="">${b.placeholder||"Select an option"}</option>`+(b.options||[]).map((e=>`<option>${O(e)}</option>`)).join(""),b.required&&(e.required=!0))}else if("radio"===h){const e=v.querySelector(".form-field");e&&(e.querySelectorAll(".radio-field").forEach((e=>e.remove())),(b.options||[]).forEach(((t,r)=>{const l=document.createElement("div");l.className="radio-field";const n=`${b.name}-${r}`;l.innerHTML=`<input id="${n}" type="radio" name="${O(b.name)}">\n                           <label for="${n}">${O(t)}</label>`,e.appendChild(l)})))}else if("multicheckbox"===h){const e=v.querySelector(".form-field");e&&(e.querySelectorAll(".checkbox-field").forEach((e=>e.remove())),(b.options||[]).forEach(((t,r)=>{const l=document.createElement("div");l.className="checkbox-field";const n=`${b.name}-${r}`;l.innerHTML=`<input id="${n}" type="checkbox" name="${O(b.name)}[]">\n                           <label for="${n}">${O(t)}</label>`,e.appendChild(l)})))}else if("checkbox"===h||"consent"===h){const e=v.querySelector(".checkbox-field label");e&&b.label&&(e.textContent=b.label)}else if("html"===h){const e=v.querySelector(".html-content");e&&(e.innerHTML=b.html||"<p></p>")}else if("submit_button"===h){const e=v.querySelector("button");e&&(e.textContent=b.button_text||"Submit",b.custom_style&&e.setAttribute("style",b.custom_style))}}n.addEventListener("dragenter",(e=>{e.preventDefault(),n.classList.add("dragover")})),n.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy");const t=e.target.closest(".preview-field");if(t){const r=t.getBoundingClientRect(),l=r.top+r.height/2,i=e.clientY;n.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")})),i<l?(t.classList.add("drag-over-top"),S=t,q="before"):(t.classList.add("drag-over-bottom"),S=t,q="after")}else n.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")})),S=null,q=null})),n.addEventListener("dragleave",(e=>{n.contains(e.relatedTarget)||(n.classList.remove("dragover"),n.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")})),S=null,q=null)})),n.addEventListener("drop",(e=>{e.preventDefault(),n.classList.remove("dragover"),n.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")}));let t="";try{t=e.dataTransfer&&(e.dataTransfer.getData("application/x-field-type")||e.dataTransfer.getData("text/plain")||e.dataTransfer.getData("field-type"))||""}catch(r){}t&&(!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const l="field-"+c++,i=document.createElement("div");if(i.className="preview-field",i.id=l,i.dataset.type=e,i.innerHTML=E(e)+$(),t&&"before"===r)n.insertBefore(i,t);else if(t&&"after"===r)t.nextSibling?n.insertBefore(i,t.nextSibling):n.appendChild(i);else{const e=n.querySelector(".form-fields-container");e?e.appendChild(i):n.appendChild(i)}d[l]=function(e){const t={type:e,field_type:e,label:`${A(e)} Field`,name:`${e}_field`,required:!1,placeholder:`Enter ${e}`,maxlength:"",regex:"",error_message:"",options:[]};["select","radio","multicheckbox"].includes(e)&&(t.options=["Option 1","Option 2"]);"submit_button"===e&&(t.button_text="Submit",t.custom_style="");"html"===e&&(t.html="<p>HTML Content</p>");"consent"===e&&(t.label="I agree to the terms and conditions");return t}(e),k(i,l,e),N(),f();const o=n.querySelector(".empty-state");o&&(o.style.display="none")}(t,S,q),S=null,q=null)})),i.addEventListener("click",(e=>{e.target.closest(".property-group, .field-props-placeholder, .general-settings")||_()})),n.addEventListener("click",(e=>{e.target.closest(".preview-field")||_()})),s&&s.addEventListener("click",(()=>{const e=function(e){let t='<form class="preview-form-rendered">';e.forEach((e=>{const r=e.field_type||e.type;if("html"!==r){if(t+=`<div class="form-field ${e.required?"required":""}">`,["checkbox","consent"].includes(r)||(t+=`<label>\n        ${O(e.label||"")}\n        ${e.required?'<span class="required-star">*</span>':""}\n      </label>`),["text","email","number","phone","url","date","time"].includes(r)){t+=`<input \n        type="${"phone"===r?"tel":r}" \n        placeholder="${M(e.placeholder||"")}" \n        ${e.maxlength?`maxlength="${e.maxlength}"`:""} \n        ${e.required?"required":""} \n      />`}else"textarea"===r?t+=`<textarea \n        placeholder="${M(e.placeholder||"")}" \n        ${e.required?"required":""}>\n      </textarea>`:"select"===r?t+=`<select ${e.required?"required":""}>\n        <option value="">\n          ${O(e.placeholder||"Select an option")}\n        </option>\n        ${(e.options||[]).map((e=>`<option>${O(e)}</option>`)).join("")}\n      </select>`:"radio"===r?t+=(e.options||[]).map(((t,r)=>`\n          <div class="radio-field">\n            <input type="radio" id="${e.name}-${r}" name="${e.name}">\n            <label for="${e.name}-${r}">\n              ${O(t)}\n            </label>\n          </div>`)).join(""):"multicheckbox"===r?t+=(e.options||[]).map(((t,r)=>`\n          <div class="checkbox-field">\n            <input type="checkbox" id="${e.name}-${r}" name="${e.name}[]">\n            <label for="${e.name}-${r}">\n              ${O(t)}\n            </label>\n          </div>`)).join(""):"checkbox"===r||"consent"===r?t+=`\n        <div class="checkbox-field">\n          <input type="checkbox" id="${e.name}" ${e.required?"required":""}>\n          <label for="${e.name}">\n            ${O(e.label||"")}\n            ${e.required?'<span class="required-star">*</span>':""}\n          </label>\n        </div>\n      `:"submit_button"===r&&(t+=`<button \n        type="button" \n        class="preview-submit-btn" \n        style="${M(e.custom_style||"")}">\n        ${O(e.button_text||"Submit")}\n      </button>`);t+="</div>"}else t+=`<div class="form-field html-content">${e.html||""}</div>`})),e.some((e=>"submit_button"===(e.type||e.field_type)))||(t+='\n      <div class="form-field">\n        <button type="button" class="preview-submit-btn">Submit</button>\n      </div>\n    ');return t+="</form>",t}(Object.values(d)),t=l.querySelector("#preview-form-container-tab");if(t){const r=l.querySelector("#form-title"),n=l.querySelector("#form-description"),i=document.createElement("h6");i.textContent=r&&r.value||"Title";const o=document.createElement("small");o.style.color="#6b7280",o.textContent=n&&n.value||"Description";let s=`<b>${O(i.textContent)}</b>`;o.textContent&&(s+=`<small style="color: #6b7280;display: block;">${O(o.textContent)}</small>`),s+=e,t.innerHTML=s,setTimeout((()=>{const e=t.querySelector(".preview-submit-btn");e&&e.addEventListener("click",(t=>{t.preventDefault();const r=e.closest("form");r&&r.checkValidity()?alert("Form is valid! (This is a preview - form will not be submitted)"):r.reportValidity()}))}),100)}})),l.querySelectorAll(".modal-close").forEach((e=>{e.addEventListener("click",(()=>e.closest(".modal").style.display="none"))})),N(),r||0!==n.querySelectorAll(".preview-field").length||[{field_type:"text",name:"name",label:"Name",placeholder:"Enter your name",required:!0,order:0},{field_type:"email",name:"email",label:"Email",placeholder:"Enter your email",required:!0,order:1},{field_type:"phone",name:"phone",label:"Phone",placeholder:"Enter your phone",order:2},{field_type:"textarea",name:"message",label:"Message",placeholder:"Type your message",order:3}].forEach(R),a.addEventListener("click",(async()=>{a.disabled=!0;const e=a.innerHTML;a.innerHTML='\n      <svg class="spin" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 50 50">\n        <circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-dasharray="80" stroke-dashoffset="60" />\n      </svg>\n      Saving...\n    ',window.dispatchEvent(new CustomEvent("builder-clear-error"));try{const e=l.querySelector("#form-title");if(!e||!e.value.trim())throw new Error("Form title is required");const r=l.querySelector("#form-submit-to");if(!r||!r.value.trim())throw new Error("Submit To email address is required");const n=l.querySelector("#form-type");if("web"===((null===n||void 0===n?void 0:n.value)||"web")){const e=l.querySelector("#form-recaptcha-key");if(!e||!e.value.trim())throw new Error("Google reCAPTCHA site key is required");const t=l.querySelector("#form-recaptcha-secret");if(!t||!t.value.trim())throw new Error("Google reCAPTCHA secret key is required")}if(0===Object.keys(d).length)throw new Error("Please add at least one field to your form");const i=Object.values(d);console.log("fields: ",i);const s=i.find((e=>{var t;return"name"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())})),a=i.find((e=>{var t;return"email"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));if(!s)throw new Error('A "name" field is required. Please add a field with name "name".');if(!s.required)throw new Error('The "name" field must be marked as required.');if(!a)throw new Error('An "email" field is required. Please add a field with name "email".');if(!a.required)throw new Error('The "email" field must be marked as required.');Object.values(d).forEach((e=>{if(e.regex&&e.regex.trim()&&!e.error_message)throw new Error(`Field "${e.label}" has a Validation Pattern but is missing a Custom Error Message. Custom Error Message is required when Validation Pattern is set.`)}));const c=Object.values(d).map((e=>e.name)).filter((e=>e)).filter(((e,t,r)=>r.indexOf(e)!==t));if(c.length>0)throw new Error(`Duplicate field name(s) found: "${c.join('", "')}". Each field must have a unique name.`);const u=function(){var e;const r=Object.values(d).map(((e,t)=>({id:e._id||void 0,name:e.name||`${e.type}_field`,label:e.label||A(e.type),placeholder:e.placeholder||"",field_type:e.field_type||e.type,required:!!e.required,max_length:e.maxlength||null,error_message:e.error_message||null,options:Array.isArray(e.options)?e.options:void 0,regex:e.regex||void 0,html:"html"===e.type?e.html:void 0,button_text:"submit_button"===e.type&&e.button_text||void 0,custom_style:"submit_button"===e.type&&e.custom_style||void 0,order:t}))),n=e=>{var t;return((null===(t=l.querySelector("#"+e))||void 0===t?void 0:t.value)||"").trim()},i=n("form-type")||"web",s={organization:t,title:n("form-title"),description:n("form-description"),type:i,submit_to:n("form-submit-to"),submit_from:n("form-submit-from"),cc_email:n("form-cc-email"),bcc_email:n("form-bcc-email"),thank_you_message:n("form-thank-you")||"Thank you for reaching out. We'll get back to you soon!",error_message:n("form-error-message")||"Something went wrong. Please try again later.",submit_button_label:n("form-submit-label")||"Submit",custom_css:null!==(e=null===o||void 0===o?void 0:o.value)&&void 0!==e?e:"",fields:r};"web"===i&&(s.domain=n("form-domain"),s.recaptcha_site_key=n("form-recaptcha-key"),s.recaptcha_secret_key=n("form-recaptcha-secret"));const a=n("form-redirect-url");a&&(s.redirect_url=a);return s}(),m=p?await async function(e,t){const r=`https://app.memate.com.au/api/v1/inquiries/form/${e}/update/`,l=await fetch(r,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok){const e=await l.text().catch((()=>""));let t=`API ${l.status}: ${e||l.statusText}`;try{const r=JSON.parse(e);if(r&&"object"===typeof r){const e=[];for(const[t,l]of Object.entries(r)){const r=t.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),n=Array.isArray(l)?l:[l];e.push(`${r}: ${n.join(", ")}`)}e.length>0&&(t=e.join("\n"))}}catch(n){}throw new Error(t)}return l.json()}(p,u):await async function(e){const t=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text().catch((()=>""));let l=`API ${t.status}: ${e||t.statusText}`;try{const t=JSON.parse(e);if(t&&"object"===typeof t){const e=[];for(const[r,l]of Object.entries(t)){const t=r.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),n=Array.isArray(l)?l:[l];e.push(`${t}: ${n.join(", ")}`)}e.length>0&&(l=e.join("\n"))}}catch(r){}throw new Error(l)}return t.json()}(u);!p&&m&&m.id&&(p=m.id);const h=(null===m||void 0===m?void 0:m.public_key)||(null===m||void 0===m?void 0:m.id),f=(null===n||void 0===n?void 0:n.value)||"web";let v;if("form"===f){v=`${"https://app.memate.com.au/api/v1"}/inquiries/form/page/${h}/`}else{v=`<script src="${"https://app.memate.com.au"}/astatic/inquiries/embed.js" data-form-id="${h}"><\/script>`}const b=l.querySelector("#embed-modal"),x=l.querySelector("#embed-snippet"),g=l.querySelector("#copy-embed-btn"),w=l.querySelector("#close-embed-btn"),j=b?b.querySelector("[data-close-embed]"):null,S=b?b.querySelector(".modal-header h2"):null,q=b?b.querySelector(".modal-content > p"):null;S&&(S.textContent="form"===f?"Form Link":"Embed this Form"),q&&(q.textContent="form"===f?"Copy the link below to share your form.":"Copy the snippet below and paste it into your website where you want the form to appear."),x&&(x.value=v),w&&(w.disabled=!0),b&&(b.style.display="block");const E=async()=>{try{await navigator.clipboard.writeText(v)}catch(e){x&&x.select&&(x.select(),document.execCommand&&document.execCommand("copy"))}g&&(g.textContent="Copied!"),w&&(w.disabled=!1),setTimeout((()=>{window.location.href="/enquiries/forms"}),1e3)};g&&(g.onclick=E),w&&(w.onclick=()=>{b&&(b.style.display="none"),window.location.href="/enquiries/forms"}),j&&(j.onclick=()=>{w&&!w.disabled&&b&&(b.style.display="none"),window.location.href="/enquiries/forms"}),window.dispatchEvent(new CustomEvent("builder-save-success"))}catch(r){console.error("Form save error:",r.message||r),window.dispatchEvent(new CustomEvent("builder-save-error",{detail:{message:r.message||"Failed to save form"}}))}finally{a.disabled=!1,a.innerHTML=e}}))}var g=r(81047),w=r(57189),j=r(48417),S=r(70579);const q=e=>{let{type:t}=e;const r={width:22,height:22,viewBox:"0 0 24 24",fill:"none",stroke:"#2563eb",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};switch(t){case"text":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M4 6h16"}),(0,S.jsx)("path",{d:"M9 6v12"}),(0,S.jsx)("path",{d:"M15 6v12"})]});case"email":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M4 6h16v12H4z"}),(0,S.jsx)("path",{d:"M22 6l-10 7L2 6"})]});case"number":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M6 10h12"}),(0,S.jsx)("path",{d:"M6 14h12"}),(0,S.jsx)("path",{d:"M9 7v10"}),(0,S.jsx)("path",{d:"M15 7v10"})]});case"phone":return(0,S.jsx)("svg",{...r,children:(0,S.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.62-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.09 4.18 2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.9 12.9 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 10a16 16 0 0 0 6 6l1.36-1.27a2 2 0 0 1 2.11-.45 12.9 12.9 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})});case"textarea":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 9h10"}),(0,S.jsx)("path",{d:"M7 13h6"})]});case"select":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"6",rx:"2"}),(0,S.jsx)("path",{d:"M8 15l4 4 4-4"})]});case"radio":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("circle",{cx:"8",cy:"12",r:"3"}),(0,S.jsx)("circle",{cx:"16",cy:"12",r:"6"})]});case"checkbox":case"consent":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 12l3 3 7-7"})]});case"multicheckbox":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 10l3 3"}),(0,S.jsx)("path",{d:"M7 14l3 3"}),(0,S.jsx)("path",{d:"M14 10h3"}),(0,S.jsx)("path",{d:"M14 14h3"})]});case"date":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2"}),(0,S.jsx)("path",{d:"M8 3v4"}),(0,S.jsx)("path",{d:"M16 3v4"}),(0,S.jsx)("path",{d:"M3 9h18"})]});case"time":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,S.jsx)("path",{d:"M12 7v6l4 2"})]});case"html":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M10 15l-3-3 3-3"}),(0,S.jsx)("path",{d:"M14 9l3 3-3 3"}),(0,S.jsx)("path",{d:"M4 19h16"})]});default:return(0,S.jsx)("svg",{...r,children:(0,S.jsx)("circle",{cx:"12",cy:"12",r:"9"})})}};function E(){var e,t;const{session:r}=(0,w.As)(),{trialHeight:s}=(0,j.$)(),a=(0,l.useRef)(!1),{id:c}=(0,h.g)(),d="new"!==c?c:null,[u,y]=(0,l.useState)(!1),[E,$]=(0,l.useState)(""),[L,k]=(0,l.useState)(!1),[T,N]=(0,l.useState)("designer"),[C,_]=(0,l.useState)("web"),A=[["text","Single-Line Input"],["email","Email"],["number","Number"],["phone","Phone"],["textarea","Text Area"],["select","Dropdown"],["radio","Radio Button Group"],["checkbox","Checkboxes"],["multicheckbox","Multi-Select Checkboxes"],["date","Date"],["time","Time"],["html","HTML Block"],["consent","Consent"]].filter((e=>{let[t,r]=e;return r.toLowerCase().includes(E.toLowerCase())||t.toLowerCase().includes(E.toLowerCase())})),O=(0,l.useCallback)((()=>{N("preview"),setTimeout((()=>{const e=document.querySelector("#preview-btn");e&&e.click()}),100)}),[]),M=(0,l.useCallback)((()=>{window.dispatchEvent(new CustomEvent("builder-undo"))}),[]),P=(0,l.useCallback)((()=>{window.dispatchEvent(new CustomEvent("builder-redo"))}),[]),R=(0,f.I)({queryKey:["getOutgoingEmail"],queryFn:g.hx}),U=(null===R||void 0===R||null===(e=R.data)||void 0===e?void 0:e.outgoing_email)||"no-reply@memate.com.au";return(0,l.useEffect)((()=>{var e;const t=null===r||void 0===r||null===(e=r.organization)||void 0===e?void 0:e.id;if(!t)return;if(a.current)return;const l=setTimeout((async()=>{a.current=!0;try{if(d){const e=await async function(e){const t=`https://app.memate.com.au/api/v1/inquiries/form/${e}/`,r=await fetch(t);if(!r.ok){const e=await r.text().catch((()=>""));throw new Error(`API ${r.status}: ${e||r.statusText}`)}return r.json()}(d);console.log("formJson: ",e),_(e.type||"web"),x({defaultOrgId:t,initialForm:e})}else x({defaultOrgId:t})}catch(e){console.error("Failed to load form for editing:",e),x({defaultOrgId:t})}}),100);return()=>{clearTimeout(l),function(){const e=document.querySelector(".mf-builder");if(e){delete e.dataset.builderInitialized;const t=e.querySelector("#preview-container");t&&t.querySelectorAll(".preview-field").forEach((e=>e.remove()))}}()}}),[null===r||void 0===r||null===(t=r.organization)||void 0===t?void 0:t.id,d]),(0,l.useEffect)((()=>{const e=e=>{var t;const r=(null===(t=e.detail)||void 0===t?void 0:t.message)||"Failed to save form";b.oR.error(r,{duration:5e3}),k(!1)},t=()=>{b.oR.success("Form saved successfully!",{duration:3e3}),k(!1)},r=()=>{b.oR.dismiss()};return window.addEventListener("builder-save-error",e),window.addEventListener("builder-save-success",t),window.addEventListener("builder-clear-error",r),()=>{window.removeEventListener("builder-save-error",e),window.removeEventListener("builder-save-success",t),window.removeEventListener("builder-clear-error",r)}}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:"mf-builder",style:{overflow:"auto",height:`calc(100vh - 127px - ${s}px)`,"--trial-height":`${s}px`},children:(0,S.jsxs)("div",{className:"mf-container",children:[(0,S.jsxs)("div",{className:"builder-tabs",children:[(0,S.jsxs)("div",{className:"tabs-left",children:[(0,S.jsx)("button",{className:"tab-btn "+("designer"===T?"active":""),onClick:()=>N("designer"),children:"Designer"}),(0,S.jsx)("button",{className:"tab-btn "+("preview"===T?"active":""),onClick:O,children:"Preview"})]}),(0,S.jsxs)("div",{className:"tabs-right",children:[(0,S.jsx)("button",{className:"icon-btn",title:"Undo",onClick:M,children:(0,S.jsx)(n.A,{size:18})}),(0,S.jsx)("button",{className:"icon-btn",title:"Redo",onClick:P,children:(0,S.jsx)(i.A,{size:18})}),(0,S.jsx)("button",{className:"btn btn-primary",id:"save-btn",disabled:L,children:L?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(v.p,{style:{width:"16px",height:"16px"},strokeWidth:"2"}),"Saving..."]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.A,{size:16}),"Save Form"]})})]})]}),(0,S.jsxs)("div",{className:"editor-container",style:{display:"designer"===T?"grid":"none"},children:[(0,S.jsxs)("div",{className:"fields-panel "+(u?"collapsed":""),children:[(0,S.jsxs)("div",{className:"panel-header",children:[(0,S.jsxs)("div",{className:"panel-header-top",children:[(0,S.jsx)("h2",{children:u?"":"Toolbox"}),(0,S.jsx)("button",{className:"collapse-btn",onClick:()=>y(!u),title:u?"Expand Toolbox":"Collapse Toolbox",children:u?(0,S.jsx)(p,{size:18}):(0,S.jsx)(m.A,{size:18})})]}),!u&&(0,S.jsx)("input",{type:"text",placeholder:"Type to search...",className:"search-input",value:E,onChange:e=>$(e.target.value)})]}),(0,S.jsx)("div",{className:"field-types",children:A.map((e=>{let[t,r]=e;return(0,S.jsxs)("div",{className:"field-type",draggable:!0,"data-type":t,role:"button","aria-label":`Drag ${r} field`,title:`Drag ${r} field`,children:[(0,S.jsx)("span",{className:"icon",children:(0,S.jsx)(q,{type:t})}),!u&&(0,S.jsx)("span",{children:r})]},t)}))}),!u&&(0,S.jsxs)("div",{className:"css-editor-container",children:[(0,S.jsx)("h3",{children:"Custom CSS"}),(0,S.jsx)("textarea",{id:"form_style",className:"code-editor",rows:10,defaultValue:"",placeholder:"Add custom CSS here (optional)"}),(0,S.jsx)("p",{className:"help-text",children:"These styles will be applied to the embedded form."})]})]}),(0,S.jsxs)("div",{className:"editor-panel",children:[(0,S.jsx)("div",{className:"panel-header-inline",children:(0,S.jsx)("h3",{children:"Design Surface"})}),(0,S.jsxs)("div",{className:"form-preview",id:"preview-container",children:[(0,S.jsx)("div",{className:"page-header",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{id:"preview-form-title",children:"Title"}),(0,S.jsx)("p",{className:"page-description",id:"preview-form-description",children:"Description"})]})}),(0,S.jsxs)("div",{className:"empty-state",style:{display:"none"},children:[(0,S.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.2",children:[(0,S.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,S.jsx)("path",{d:"M3 9h18M9 21V9"})]}),(0,S.jsx)("p",{children:"Drag and drop fields from the Toolbox to build your form"})]})]})]}),(0,S.jsxs)("div",{className:"field-properties",id:"properties-container",children:[(0,S.jsxs)("div",{className:"field-props-placeholder",children:[(0,S.jsx)("div",{className:"panel-header",children:(0,S.jsx)("h2",{children:"Properties"})}),(0,S.jsxs)("div",{className:"no-selection",children:[(0,S.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.2",children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 10h10M7 14h6"})]}),(0,S.jsx)("p",{children:"Select a field to edit its properties"})]})]}),(0,S.jsxs)("div",{className:"general-settings",children:[(0,S.jsx)("div",{className:"panel-header",children:(0,S.jsx)("h2",{children:"General"})}),(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Form Type"}),(0,S.jsxs)("select",{id:"form-type",defaultValue:"web",onChange:e=>_(e.target.value),children:[(0,S.jsx)("option",{value:"web",children:"Web"}),(0,S.jsx)("option",{value:"form",children:"Form"})]})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["Form title",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-title",placeholder:"Enter form title"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Form description"}),(0,S.jsx)("textarea",{id:"form-description",placeholder:"Enter description",rows:"3"})]})]}),(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsx)("h3",{className:"section-title",children:"Settings"}),"web"===C&&(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Domain"}),(0,S.jsx)("input",{id:"form-domain",placeholder:"Enter domain",defaultValue:"https://memate.com.au/"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["To Email",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-submit-to",placeholder:"Enter email"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"From Email"}),(0,S.jsx)("input",{id:"form-submit-from",placeholder:"Enter email",defaultValue:U})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"CC Email"}),(0,S.jsx)("input",{id:"form-cc-email",placeholder:"Enter email"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"BCC Email"}),(0,S.jsx)("input",{id:"form-bcc-email",placeholder:"Enter email"})]})]}),(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsx)("h3",{className:"section-title",children:"Messages"}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Thank you message"}),(0,S.jsx)("input",{id:"form-thank-you",placeholder:"Enter message"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Error message"}),(0,S.jsx)("input",{id:"form-error-message",placeholder:"Enter message"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Submit Button Label"}),(0,S.jsx)("input",{id:"form-submit-label",defaultValue:"Submit"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Redirect URL"}),(0,S.jsx)("input",{id:"form-redirect-url",placeholder:"Enter URL"})]})]}),"web"===C&&(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsx)("h3",{className:"section-title",children:"reCAPTCHA"}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["Site Key",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-recaptcha-key",placeholder:"Enter site key"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["Secret Key",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-recaptcha-secret",placeholder:"Enter secret key"})]})]})]})]})]}),(0,S.jsx)("div",{className:"preview-tab-container",style:{display:"preview"===T?"block":"none"},children:(0,S.jsx)("div",{id:"preview-form-container-tab",className:"preview-form-content"})}),(0,S.jsx)("button",{id:"preview-btn",style:{display:"none"}}),(0,S.jsx)("div",{className:"modal",id:"preview-modal",style:{display:"none"},children:(0,S.jsxs)("div",{className:"modal-content",children:[(0,S.jsxs)("div",{className:"modal-header",children:[(0,S.jsx)("h2",{children:"Form Preview"}),(0,S.jsx)("button",{className:"modal-close",children:"\xd7"})]}),(0,S.jsx)("div",{id:"preview-form-container"})]})}),(0,S.jsx)("div",{className:"modal",id:"embed-modal",style:{display:"none"},children:(0,S.jsxs)("div",{className:"modal-content",children:[(0,S.jsxs)("div",{className:"modal-header",children:[(0,S.jsx)("h2",{children:"Embed this Form"}),(0,S.jsx)("button",{className:"modal-close","data-close-embed":!0,children:"\xd7"})]}),(0,S.jsx)("p",{children:"Copy the snippet below and paste it into your website where you want the form to appear."}),(0,S.jsx)("textarea",{id:"embed-snippet",readOnly:!0,rows:4,style:{boxSizing:"border-box",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'}}),(0,S.jsxs)("div",{className:"editor-actions",style:{justifyContent:"flex-end"},children:[(0,S.jsx)("button",{className:"btn",id:"copy-embed-btn",children:"Copy"}),(0,S.jsx)("button",{className:"btn btn-primary",id:"close-embed-btn",disabled:!0,children:"OK"})]})]})})]})})})}},76163:(e,t,r)=>{r.d(t,{A:()=>c});var l=r(65043),n=r(65173),i=r.n(n),o=["color","size","title","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},s.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=e.size,a=void 0===i?"1em":i,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,n=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)r=i[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o);return l.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:n,className:["bi","bi-arrow-clockwise",p].filter(Boolean).join(" ")},m),d?l.createElement("title",null,d):null,l.createElement("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"}),l.createElement("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const c=a},81047:(e,t,r)=>{r.d(t,{AO:()=>h,Ad:()=>j,Bz:()=>N,Hb:()=>u,IT:()=>T,Kb:()=>s,Mp:()=>w,Pf:()=>E,Rh:()=>S,SQ:()=>d,T6:()=>v,UM:()=>x,VQ:()=>k,Xm:()=>c,bd:()=>L,bj:()=>f,gY:()=>b,hS:()=>m,hx:()=>$,iS:()=>o,p4:()=>a,pJ:()=>g,rJ:()=>q,s:()=>p,sB:()=>y,tC:()=>i});var l=r(31342);const n="https://app.memate.com.au/api/v1",i=async()=>{const e=new URL(`${n}/jobs/templates/`);return(0,l.f)(e.toString(),{method:"GET"})},o=async e=>{const t=new URL(`${n}${`/jobs/templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},s=async e=>{const t={method:"POST",body:e},r=new URL(`${n}/jobs/templates/`);return(0,l.f)(r.toString(),t)},a=async(e,t)=>{const r={method:"PUT",body:t},i=new URL(`${n}${`/jobs/templates/${e}/`}`);return(0,l.f)(i.toString(),r)},c=async e=>{const t=new URL(`${n}${`/jobs/templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},d=async()=>{const e=new URL(`${n}/settings/templates/email-templates/`);return(0,l.f)(e.toString(),{method:"GET"})},u=async e=>{const t={method:"POST",body:e},r=new URL(`${n}/settings/templates/email-templates/`);return(0,l.f)(r.toString(),t)},p=async(e,t)=>{const r={method:"PUT",body:t},i=new URL(`${n}${`/settings/templates/email-templates/${e}/`}`);return(0,l.f)(i.toString(),r)},m=async e=>{const t=new URL(`${n}${`/settings/templates/email-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},h=async()=>{const e=new URL(`${n}/email-signatures/`);return(0,l.f)(e.toString(),{method:"GET"})},f=async e=>{const t=new URL(`${n}${`/email-signatures/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},v=async e=>{const t={method:"POST",body:e},r=new URL(`${n}/email-signatures/`);return(0,l.f)(r.toString(),t)},b=async(e,t)=>{const r={method:"PUT",body:t},i=new URL(`${n}${`/email-signatures/${e}/`}`);return(0,l.f)(i.toString(),r)},y=async e=>{const t=new URL(`${n}${`/email-signatures/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},x=async e=>{const t=new URL(`${n}${`/settings/email-signatures/default/${e}/`}`);return(0,l.f)(t.toString(),{method:"PUT"})},g=async()=>{const e=new URL(`${n}/sms-templates/`);return(0,l.f)(e.toString(),{method:"GET"})},w=async e=>{const t=new URL(`${n}${`/sms-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},j=async e=>{const t={method:"POST",body:e},r=new URL(`${n}/sms-templates/`);return(0,l.f)(r.toString(),t)},S=async(e,t)=>{const r={method:"PUT",body:t},i=new URL(`${n}${`/sms-templates/${e}/`}`);return(0,l.f)(i.toString(),r)},q=async e=>{const t=new URL(`${n}${`/sms-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},E=async e=>{const t=new URL(`${n}${`/proposals/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},$=async()=>{const e=new URL(`${n}/references/outgoing-email/`);return(0,l.f)(e.toString(),{method:"GET"})},L=async e=>{const t=new URL(`${n}${`/settings/templates/email-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},k=async()=>{const e=new URL(`${n}/settings/proposals/`);return(0,l.f)(e.toString(),{method:"GET"})},T=async e=>{const t=new URL(`${n}${`/settings/proposals/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},N=async e=>{const t=new URL(`${n}${`/settings/proposals/delete/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})}},91704:(e,t,r)=>{r.d(t,{A:()=>c});var l=r(65043),n=r(65173),i=r.n(n),o=["color","size","title","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},s.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,i=e.size,a=void 0===i?"1em":i,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,n=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)r=i[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o);return l.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:n,className:["bi","bi-save",p].filter(Boolean).join(" ")},m),d?l.createElement("title",null,d):null,l.createElement("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const c=a}}]);
//# sourceMappingURL=3908.c074bcaa.chunk.js.map