{"version":3,"file":"static/js/9022.569a1b04.chunk.js","mappings":"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","sources":["pages/business/enquiries/form-builder/builder/default-style.js","pages/business/enquiries/form-builder/builder/init-builder.js","pages/business/enquiries/form-builder/form-builder.jsx","pages/business/enquiries/form-builder/api.js"],"sourcesContent":["export const defaultFormStyle = `\n/* Wrapper & form card */\n#inquiry-form-container{display:flex;justify-content:center;align-items:flex-start;min-height:60vh;padding:24px;box-sizing:border-box}\n#inquiry-form-container .inquiry-form-wrapper{width:min(900px,92vw)}\n#inquiry-form-container form{background:#ffffff;border:1px solid #e6e8ee;border-radius:12px;padding:20px;box-shadow:0 6px 18px rgba(20,40,90,.08);font-family:system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;color:#1f2937}\n#inquiry-form-container h2{margin:0 0 12px;font-size:20px}\n\n/* Fields */\n#inquiry-form-container .form-field{margin-bottom:14px}\n#inquiry-form-container label{display:block;font-size:13px;font-weight:600;margin:0 0 6px}\n#inquiry-form-container input,\n#inquiry-form-container select,\n#inquiry-form-container textarea{width:100%;box-sizing:border-box;padding:10px 12px;border:1px solid #d6dae6;border-radius:10px;background:#fff;font-size:14px;color:#1f2937;outline:none;transition:border-color .15s ease, box-shadow .15s ease}\n#inquiry-form-container input:focus,\n#inquiry-form-container select:focus,\n#inquiry-form-container textarea:focus{border-color:#2563eb;box-shadow:0 0 0 4px rgba(37,99,235,.12)}\n\n/* Checkbox/Radio rows */\n#inquiry-form-container .checkbox-field,\n#inquiry-form-container .radio-field{display:flex;align-items:center;gap:10px}\n#inquiry-form-container .checkbox-field input,\n#inquiry-form-container .radio-field input{width:16px;height:16px}\n\n/* Multiselect as compact dropdown */\n#inquiry-form-container select[multiple]{min-height:38px}\n\n/* Messages */\n#inquiry-form-container .error-message{color:#ef4444;font-size:.9rem;margin-top:.25rem}\n#inquiry-success-message{background:#f7faff;border:1px solid #e6e8ee;border-radius:10px;padding:16px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.06)}\n\n/* Submit button */\n#inquiry-form-container button[type=\"submit\"]{background:#2563eb;border:none;border-radius:10px;color:#fff;padding:12px 20px;font-size:15px;cursor:pointer;transition:background .15s ease}\n#inquiry-form-container button[type=\"submit\"]:hover{background:#1d4ed8}\n`;","// src/builder/initBuilder.js\nimport { saveFormToApi, updateFormToApi } from '../api';\n\nexport function initBuilder({ defaultOrgId, getDefaultCss, initialForm = null }) {\n  // Guard against double binding in React StrictMode (dev) or accidental re-calls\n  if (typeof window === 'undefined') {\n    return;\n  }\n  // Scope all DOM lookups to the builder root to avoid collisions with host app\n  const root = document.querySelector('.mf-builder') || document;\n\n  // Core nodes\n  const preview = root.querySelector('#preview-container');\n  const properties = root.querySelector('#properties-container');\n  const cssTextarea = root.querySelector('#form_style');\n  const previewBtn = root.querySelector('#preview-btn');\n  const saveBtn = root.querySelector('#save-btn');\n  const previewModal = root.querySelector('#preview-modal');\n  const previewFormContainer = root.querySelector('#preview-form-container');\n\n  // Fill default CSS only when empty\n  if (cssTextarea && !cssTextarea.value && typeof getDefaultCss === 'function') {\n    const css = getDefaultCss();\n    if (css) cssTextarea.value = css;\n  }\n\n  // Internal state (must exist before any hydration uses it)\n  let fieldCounter = 1;\n  let fieldsData = {};\n  let currentField = null;\n  // If we're editing an existing form, keep its id so subsequent saves PATCH instead of POST\n  let currentFormId = initialForm?.id || null;\n\n  // If an existing form was passed in, hydrate all UI\n  if (initialForm) {\n    try {\n      hydrateInitialForm(initialForm);\n    } catch (err) {\n      console.error('Hydration failed:', err);\n    }\n  }\n\n  // Field palette (delegated to support dragging from child elements reliably)\n  const palette = root.querySelector('.field-types');\n  if (palette) {\n    palette.addEventListener('dragstart', (e) => {\n      const item = e.target && e.target.closest('.field-type');\n      if (!item) return;\n      try {\n        if (e.dataTransfer) {\n          e.dataTransfer.effectAllowed = 'copy';\n          // Set both a standard and a custom MIME so all browsers carry data\n          e.dataTransfer.setData('text/plain', item.dataset.type);\n          e.dataTransfer.setData('application/x-field-type', item.dataset.type);\n        }\n      } catch (_) { }\n    }, true);\n  }\n\n  // Drop target\n  preview.addEventListener('dragenter', (e) => {\n    e.preventDefault();\n    preview.classList.add('dragover');\n  });\n  preview.addEventListener('dragover', (e) => {\n    e.preventDefault();\n    if (e.dataTransfer) e.dataTransfer.dropEffect = 'copy';\n  });\n  preview.addEventListener('dragleave', (e) => {\n    if (!preview.contains(e.relatedTarget)) {\n      preview.classList.remove('dragover');\n    }\n  });\n  preview.addEventListener('drop', (e) => {\n    e.preventDefault();\n    preview.classList.remove('dragover');\n    let type = '';\n    try {\n      type = (e.dataTransfer && (\n        e.dataTransfer.getData('application/x-field-type') ||\n        e.dataTransfer.getData('text/plain') ||\n        e.dataTransfer.getData('field-type')\n      )) || '';\n    } catch (_) { }\n    if (!type) return;\n    addField(type);\n  });\n\n  function addField(type) {\n    const id = `field-${fieldCounter++}`;\n    const el = document.createElement('div');\n    el.className = 'preview-field';\n    el.id = id;\n    el.dataset.type = type;\n    el.innerHTML = getTemplate(type) + actionBar();\n    preview.appendChild(el);\n\n    fieldsData[id] = seedDataFor(type);\n    wireField(el, id, type);\n    selectField(id, type);\n    updateMoveButtons();\n  }\n\n  function getTemplate(type) {\n    const map = {\n      text: `<div class=\"form-field\"><label>Text Field</label><input type=\"text\" placeholder=\"Enter text\"></div>`,\n      email: `<div class=\"form-field\"><label>Email Field</label><input type=\"email\" placeholder=\"Enter email\"></div>`,\n      number: `<div class=\"form-field\"><label>Number Field</label><input type=\"number\" placeholder=\"Enter number\"></div>`,\n      phone: `<div class=\"form-field\"><label>Phone Field</label><input type=\"tel\" placeholder=\"Enter phone\"></div>`,\n      textarea: `<div class=\"form-field\"><label>Text Area</label><textarea placeholder=\"Enter text\"></textarea></div>`,\n      select: `<div class=\"form-field\"><label>Dropdown</label><select><option value=\"\">Select an option</option><option>Option 1</option><option>Option 2</option></select></div>`,\n      multiselect: `<div class=\"form-field\"><label>Multi Select</label><select multiple><option>Option 1</option><option>Option 2</option></select></div>`,\n      radio: `<div class=\"form-field\"><label>Radio Buttons</label><div class=\"radio-field\"><input id=\"r1\" type=\"radio\" name=\"rg\"><label for=\"r1\">Option 1</label></div><div class=\"radio-field\"><input id=\"r2\" type=\"radio\" name=\"rg\"><label for=\"r2\">Option 2</label></div></div>`,\n      checkbox: `<div class=\"form-field\"><div class=\"checkbox-field\"><input id=\"cb\" type=\"checkbox\"><label for=\"cb\">Checkbox</label></div></div>`,\n      multicheckbox: `<div class=\"form-field\"><label>Multi Checkbox</label><div class=\"checkbox-field\"><input id=\"m1\" type=\"checkbox\"><label for=\"m1\">Option 1</label></div><div class=\"checkbox-field\"><input id=\"m2\" type=\"checkbox\"><label for=\"m2\">Option 2</label></div></div>`,\n      date: `<div class=\"form-field\"><label>Date</label><input type=\"date\"></div>`,\n      time: `<div class=\"form-field\"><label>Time</label><input type=\"time\"></div>`,\n      url: `<div class=\"form-field\"><label>Website URL</label><input type=\"url\" placeholder=\"https://example.com\"></div>`,\n      html: `<div class=\"form-field html-content\"><p>HTML Content</p></div>`,\n      consent: `<div class=\"form-field\"><div class=\"checkbox-field\"><input id=\"consent\" type=\"checkbox\"><label for=\"consent\">I agree to the terms and conditions</label></div></div>`,\n      submit_button: `<div class=\"form-field\"><button type=\"submit\" class=\"btn-primary\">Submit</button></div>`\n    };\n    return map[type] || map.text;\n  }\n\n  function actionBar() {\n    return `\n      <div class=\"field-actions\">\n        <button class=\"move-field-up\" title=\"Up\">↑</button>\n        <button class=\"move-field-down\" title=\"Down\">↓</button>\n        <button class=\"edit-field\" title=\"Edit\">✎</button>\n        <button class=\"remove-field\" title=\"Remove\">✖</button>\n      </div>`;\n  }\n\n  function seedDataFor(type) {\n    const base = {\n      type,\n      field_type: type,\n      label: `${capitalize(type)} Field`,\n      name: `${type}_field`,\n      required: false,\n      placeholder: `Enter ${type}`,\n      maxlength: '',\n      regex: '',\n      error_message: '',\n      options: []\n    };\n    if (['select', 'radio', 'multicheckbox', 'multiselect'].includes(type)) {\n      base.options = ['Option 1', 'Option 2'];\n    }\n    if (type === 'submit_button') {\n      base.button_text = 'Submit';\n      base.custom_style = '';\n    }\n    if (type === 'html') {\n      base.html = '<p>HTML Content</p>';\n    }\n    if (type === 'consent') {\n      base.label = 'I agree to the terms and conditions';\n    }\n    return base;\n  }\n\n  function wireField(el, id, type) {\n    el.addEventListener('click', e => {\n      if (!e.target.closest('.field-actions')) selectField(id, type);\n    });\n    el.querySelector('.remove-field').addEventListener('click', () => {\n      delete fieldsData[id];\n      el.remove();\n      updateMoveButtons();\n    });\n    el.querySelector('.move-field-up').addEventListener('click', e => {\n      e.stopPropagation();\n      if (el.previousElementSibling) el.parentNode.insertBefore(el, el.previousElementSibling);\n      reindex();\n      updateMoveButtons();\n    });\n    el.querySelector('.move-field-down').addEventListener('click', e => {\n      e.stopPropagation();\n      const next = el.nextElementSibling;\n      if (next) el.parentNode.insertBefore(next, el);\n      reindex();\n      updateMoveButtons();\n    });\n    el.querySelector('.edit-field').addEventListener('click', e => {\n      e.stopPropagation();\n      selectField(id, type);\n    });\n  }\n\n  function reindex() {\n    const newOrder = {};\n    preview.querySelectorAll('.preview-field').forEach(node => {\n      newOrder[node.id] = fieldsData[node.id];\n    });\n    fieldsData = newOrder;\n    updateMoveButtons();\n  }\n\n  function updateMoveButtons() {\n    const nodes = Array.from(preview.querySelectorAll('.preview-field'));\n    nodes.forEach((node, idx) => {\n      const upBtn = node.querySelector('.move-field-up');\n      const downBtn = node.querySelector('.move-field-down');\n      if (upBtn) upBtn.disabled = (idx === 0);\n      if (downBtn) downBtn.disabled = (idx === nodes.length - 1);\n    });\n  }\n\n  function selectField(id, type) {\n    currentField = id;\n    const data = fieldsData[id];\n\n    properties.innerHTML = `\n      <h2>Field Properties</h2>\n      <div class=\"property-group\">\n        <h3>Basic</h3>\n        <label>Label <input id=\"fp-label\" value=\"${escapeHtml(data.label)}\"></label>\n        ${(['text', 'email', 'number', 'phone', 'url', 'textarea'].includes(type) ?\n        `<label>Placeholder <input id=\"fp-ph\" value=\"${escapeHtml(data.placeholder || '')}\"></label>` : '')}\n        ${(['text', 'email', 'number', 'phone', 'url', 'textarea'].includes(type) ?\n        `<label>Max Length <input id=\"fp-max\" type=\"number\" value=\"${escapeAttr(data.maxlength || '')}\"></label>` : '')}\n        ${(['text', 'email', 'number', 'phone', 'url', 'textarea'].includes(type) ? `\n          <div class=\"property-subtle\">\n            <label>Validation Pattern (Regex)\n              <input id=\"fp-regex\" placeholder=\"e.g. ^[A-Za-z]{3,}$\" value=\"${escapeAttr(data.regex || '')}\">\n            </label>\n            <p class=\"help-text\">Optional. Add a regex pattern for validation.</p>\n            <label>Custom Error Message\n              <input id=\"fp-errmsg\" placeholder=\"e.g. Please enter only letters\" value=\"${escapeAttr(data.error_message || '')}\">\n            </label>\n            <p class=\"help-text\">Optional. Custom message to show when validation fails.</p>\n          </div>` : '')}\n        <label class=\"inline\"><input type=\"checkbox\" id=\"fp-req\" ${data.required ? 'checked' : ''}> <span>Required</span></label>\n      </div>\n      ${(['select', 'radio', 'multicheckbox', 'multiselect'].includes(type) ? `\n        <div class=\"property-group\">\n          <h3>Options</h3>\n          <div id=\"fp-options\"></div>\n          <button id=\"fp-addopt\" type=\"button\">Add Option</button>\n        </div>` : '')}\n      ${type === 'html' ? `\n        <div class=\"property-group\">\n          <h3>HTML</h3>\n          <textarea id=\"fp-html\" rows=\"5\">${escapeHtml(data.html || '')}</textarea>\n        </div>` : ''}\n      ${type === 'submit_button' ? `\n        <div class=\"property-group\">\n          <h3>Button</h3>\n          <label>Text <input id=\"fp-btntext\" value=\"${escapeHtml(data.button_text || 'Submit')}\"></label>\n          <label>Style (CSS) <textarea id=\"fp-btncss\" rows=\"3\">${escapeHtml(data.custom_style || '')}</textarea></label>\n        </div>` : ''}\n      <div class=\"property-group\"><button id=\"fp-apply\" type=\"button\">Update Field</button></div>\n    `;\n\n    if (['select', 'radio', 'multicheckbox', 'multiselect'].includes(type)) {\n      const wrap = root.querySelector('#fp-options');\n      wrap.innerHTML = '';\n      (data.options || []).forEach((opt, i) => {\n        const row = document.createElement('div');\n        row.innerHTML = `<input data-i=\"${i}\" value=\"${escapeAttr(opt)}\"> <button data-i=\"${i}\" class=\"rm\" type=\"button\">✖</button>`;\n        wrap.appendChild(row);\n      });\n      root.querySelector('#fp-addopt').onclick = () => {\n        data.options.push(`Option ${data.options.length + 1}`);\n        selectField(id, type);\n      };\n      wrap.addEventListener('click', e => {\n        if (e.target.classList.contains('rm')) {\n          const i = +e.target.dataset.i;\n          data.options.splice(i, 1);\n          selectField(id, type);\n        }\n      });\n      wrap.addEventListener('input', e => {\n        if (e.target.matches('input[data-i]')) {\n          data.options[+e.target.dataset.i] = e.target.value;\n        }\n      });\n    }\n\n    root.querySelector('#fp-apply').onclick = () => {\n      data.label = val('#fp-label');\n      if (root.querySelector('#fp-name')) data.name = val('#fp-name');\n      if (root.querySelector('#fp-ph')) data.placeholder = val('#fp-ph');\n      if (root.querySelector('#fp-max')) data.maxlength = val('#fp-max');\n      if (root.querySelector('#fp-regex')) data.regex = val('#fp-regex');\n      if (root.querySelector('#fp-errmsg')) data.error_message = val('#fp-errmsg');\n      data.required = root.querySelector('#fp-req').checked;\n      if (type === 'html') data.html = val('#fp-html');\n      if (type === 'submit_button') {\n        data.button_text = val('#fp-btntext') || 'Submit';\n        data.custom_style = val('#fp-btncss') || '';\n      }\n      // Refresh simple label text in preview\n      const host = root.querySelector('#' + id);\n      const label = host.querySelector('.form-field > label, .checkbox-field label');\n      if (label) label.textContent = data.label;\n      alert('Field updated');\n    };\n  }\n\n  // Preview modal\n  previewBtn.addEventListener('click', () => {\n    const html = renderPreview(Object.values(fieldsData));\n    previewFormContainer.innerHTML = html;\n    previewModal.style.display = 'block';\n  });\n  root.querySelectorAll('.modal-close').forEach(btn => {\n    btn.addEventListener('click', () => (btn.closest('.modal').style.display = 'none'));\n  });\n  // Initial move button state (in case of zero nodes, this is a no-op)\n  updateMoveButtons();\n\n  // Seed default first four fields for brand-new forms\n  if (!initialForm && preview.querySelectorAll('.preview-field').length === 0) {\n    seedDefaultFields();\n  }\n\n  function renderPreview(fields) {\n    let out = `<form>`;\n    fields.forEach(f => {\n      const t = f.field_type || f.type;\n      if (t === 'html') {\n        out += `<div class=\"form-field html-content\">${f.html || ''}</div>`;\n        return;\n      }\n      out += `<div class=\"form-field ${f.required ? 'required' : ''}\">`;\n      if (!['checkbox', 'consent'].includes(t)) out += `<label>${escapeHtml(f.label || '')}</label>`;\n      if (['text', 'email', 'number', 'phone', 'url', 'date', 'time'].includes(t)) {\n        const inputType = t === 'phone' ? 'tel' : t;\n        out += `<input type=\"${inputType}\" placeholder=\"${escapeAttr(f.placeholder || '')}\" ${f.maxlength ? `maxlength=\"${f.maxlength}\"` : ''} ${f.required ? 'required' : ''} />`;\n      } else if (t === 'textarea') {\n        out += `<textarea placeholder=\"${escapeAttr(f.placeholder || '')}\" ${f.required ? 'required' : ''}></textarea>`;\n      } else if (t === 'select') {\n        out += `<select ${f.required ? 'required' : ''}><option value=\"\">${escapeHtml(f.placeholder || 'Select an option')}</option>${(f.options || []).map(o => `<option>${escapeHtml(o)}</option>`).join('')}</select>`;\n      } else if (t === 'multiselect') {\n        out += `<select multiple ${f.required ? 'required' : ''}>${(f.options || []).map(o => `<option>${escapeHtml(o)}</option>`).join('')}</select>`;\n      } else if (t === 'radio') {\n        out += (f.options || []).map((o, i) => `<div class=\"radio-field\"><input type=\"radio\" id=\"${f.name}-${i}\" name=\"${f.name}\"><label for=\"${f.name}-${i}\">${escapeHtml(o)}</label></div>`).join('');\n      } else if (t === 'multicheckbox') {\n        out += (f.options || []).map((o, i) => `<div class=\"checkbox-field\"><input type=\"checkbox\" id=\"${f.name}-${i}\" name=\"${f.name}[]\"><label for=\"${f.name}-${i}\">${escapeHtml(o)}</label></div>`).join('');\n      } else if (t === 'checkbox' || t === 'consent') {\n        out += `<div class=\"checkbox-field\"><input type=\"checkbox\" id=\"${f.name}\" ${f.required ? 'required' : ''}><label for=\"${f.name}\">${escapeHtml(f.label || '')}</label></div>`;\n      } else if (t === 'submit_button') {\n        out += `<button type=\"submit\" style=\"${escapeAttr(f.custom_style || '')}\">${escapeHtml(f.button_text || 'Submit')}</button>`;\n      }\n      out += `</div>`;\n    });\n    // safety submit button in preview\n    if (!fields.some(f => (f.type || f.field_type) === 'submit_button')) {\n      out += `<div class=\"form-field\"><button type=\"submit\">Submit</button></div>`;\n    }\n    out += `</form>`;\n    return out;\n  }\n\n  // Save -> API\n  saveBtn.addEventListener('click', async () => {\n    // Enforce Google reCAPTCHA site key required\n    const siteKeyEl = root.querySelector('#form-recaptcha-key');\n    if (!siteKeyEl || !siteKeyEl.value.trim()) {\n      alert('Google reCAPTCHA site key is required');\n      return;\n    }\n    // Enforce Google reCAPTCHA secret key required\n    const secretKeyEl = root.querySelector('#form-recaptcha-secret');\n    if (!secretKeyEl || !secretKeyEl.value.trim()) {\n      alert('Google reCAPTCHA secret key is required');\n      return;\n    }\n\n    const payload = buildApiPayload();\n    try {\n      const json = currentFormId\n        ? await updateFormToApi(currentFormId, payload)\n        : await saveFormToApi(payload);\n\n      // If we just created, remember the id so next saves will update\n      if (!currentFormId && json && json.id) {\n        currentFormId = json.id;\n      }\n\n      // Build embed code and show modal\n      const embedCode = `<script src=\"${process.env.REACT_APP_URL}/astatic/inquiries/embed.js\" data-form-id=\"${json?.id}\"></` + `script>`;\n      const embedModal = root.querySelector('#embed-modal');\n      const snippetEl = root.querySelector('#embed-snippet');\n      const copyBtn = root.querySelector('#copy-embed-btn');\n      const closeBtn = root.querySelector('#close-embed-btn');\n      const xBtn = embedModal ? embedModal.querySelector('[data-close-embed]') : null;\n\n      if (snippetEl) snippetEl.value = embedCode;\n      if (closeBtn) closeBtn.disabled = true; // must copy before closing\n      if (embedModal) embedModal.style.display = 'block';\n\n      const doCopy = async () => {\n        try {\n          await navigator.clipboard.writeText(embedCode);\n        } catch (_) {\n          // Fallback for older browsers\n          if (snippetEl && snippetEl.select) {\n            snippetEl.select();\n            document.execCommand && document.execCommand('copy');\n          }\n        }\n        if (copyBtn) copyBtn.textContent = 'Copied!';\n        if (closeBtn) closeBtn.disabled = false;\n      };\n\n      if (copyBtn) copyBtn.onclick = doCopy;\n      if (closeBtn) closeBtn.onclick = () => { if (embedModal) embedModal.style.display = 'none'; };\n      if (xBtn) xBtn.onclick = () => { if (closeBtn && !closeBtn.disabled && embedModal) embedModal.style.display = 'none'; };\n\n    } catch (e) {\n      alert(`Failed to save: ${e.message}`);\n    }\n  });\n\n  function buildApiPayload() {\n    const fields = Object.values(fieldsData).map((f, idx) => ({\n      id: f._id || undefined,    // include id when editing\n      name: f.name || `${f.type}_field`,\n      label: f.label || capitalize(f.type),\n      placeholder: f.placeholder || '',\n      field_type: f.field_type || f.type,\n      required: !!f.required,\n      max_length: f.maxlength || null,\n      error_message: f.error_message || null,\n      options: Array.isArray(f.options) ? f.options : undefined,\n      regex: f.regex || undefined,\n      html: f.type === 'html' ? f.html : undefined,\n      button_text: f.type === 'submit_button' ? (f.button_text || undefined) : undefined,\n      custom_style: f.type === 'submit_button' ? (f.custom_style || undefined) : undefined,\n      order: idx\n    }));\n\n    const get = id => (root.querySelector('#' + id)?.value || '').trim();\n\n    const payload = {\n      organization: defaultOrgId, // hard default as requested\n      title: get('form-title'),\n      domain: get('form-domain'),\n      submit_to: get('form-submit-to'),\n      submit_from: get('form-submit-from'),\n      cc_email: get('form-cc-email'),\n      bcc_email: get('form-bcc-email'),\n      thank_you_message: get('form-thank-you') || 'Thank you for reaching out. We’ll get back to you soon!',\n      error_message: get('form-error-message') || 'Something went wrong. Please try again later.',\n      submit_button_label: get('form-submit-label') || 'Submit',\n      custom_css: cssTextarea?.value ?? '',\n      recaptcha_site_key: get('form-recaptcha-key'),\n      recaptcha_secret_key: get('form-recaptcha-secret'),\n      fields\n    };\n\n    const redirect = get('form-redirect-url');\n    if (redirect) payload.redirect_url = redirect;\n    return payload;\n  }\n\n  // helpers\n  function val(sel) { return root.querySelector(sel)?.value || ''; }\n  function capitalize(s) { return (s || '').charAt(0).toUpperCase() + (s || '').slice(1); }\n  function escapeHtml(s = '') { return s.replace(/[&<>\"']/g, c => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '\"': '&quot;', \"'\": '&#39;' }[c])); }\n  function escapeAttr(s = '') { return escapeHtml(s).replace(/\"/g, '&quot;'); }\n\n  function seedDefaultFields() {\n    const defaults = [\n      { field_type: 'text', name: 'name', label: 'Name', placeholder: 'Enter your name', order: 0 },\n      { field_type: 'email', name: 'email', label: 'Email', placeholder: 'Enter your email', order: 1 },\n      { field_type: 'phone', name: 'phone', label: 'Phone', placeholder: 'Enter your phone', order: 2 },\n      { field_type: 'textarea', name: 'message', label: 'Message', placeholder: 'Type your message', order: 3 },\n    ];\n    defaults.forEach(addFieldFromData);\n  }\n\n  // ----- Hydration helpers -----\n  function setVal(id, v) {\n    const el = document.getElementById(id);\n    if (el) el.value = v ?? '';\n  }\n\n  function hydrateInitialForm(form) {\n    // right-column details\n    setVal('form-title', form.title);\n    setVal('form-domain', form.domain);\n    setVal('form-submit-to', form.submit_to);\n    setVal('form-submit-from', form.submit_from);\n    setVal('form-cc-email', form.cc_email);\n    setVal('form-bcc-email', form.bcc_email);\n    setVal('form-thank-you', form.thank_you_message);\n    setVal('form-error-message', form.error_message);\n    setVal('form-submit-label', form.submit_button_label || 'Submit');\n    setVal('form-redirect-url', form.redirect_url);\n    setVal('form-recaptcha-key', form.recaptcha_site_key);\n    setVal('form-recaptcha-secret', form.recaptcha_secret_key);\n\n    // custom css\n    if (cssTextarea && form.custom_css) {\n      cssTextarea.value = form.custom_css;\n    }\n\n    // fields canvas\n    const fields = (form.fields || []).slice().sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n    preview.innerHTML = '';\n    fieldsData = {};\n    fieldCounter = 1;\n\n    fields.forEach(addFieldFromData);\n    updateMoveButtons();\n  }\n\n  function addFieldFromData(f) {\n    const type = f.field_type || f.type || 'text';\n    const id = `field-${fieldCounter++}`;\n    const el = document.createElement('div');\n    el.className = 'preview-field';\n    el.id = id;\n    el.dataset.type = type;\n    el.innerHTML = getTemplate(type) + actionBar();\n    preview.appendChild(el);\n\n    const data = {\n      type,\n      field_type: type,\n      _id: f.id,\n      label: f.label ?? `${capitalize(type)} Field`,\n      name: f.name ?? `${type}_field`,\n      required: !!f.required,\n      placeholder: f.placeholder ?? '',\n      maxlength: f.max_length ?? f.maxlength ?? '',\n      regex: f.regex ?? '',\n      error_message: f.error_message ?? '',\n      options: Array.isArray(f.options) ? [...f.options] : [],\n      html: f.html ?? undefined,\n      button_text: f.button_text ?? undefined,\n      custom_style: f.custom_style ?? undefined,\n    };\n\n    fieldsData[id] = data;\n    wireField(el, id, type);\n\n    const labelEl = el.querySelector('.form-field > label, .checkbox-field label');\n    if (labelEl && data.label) labelEl.textContent = data.label;\n\n    if (['text', 'email', 'number', 'phone', 'url', 'date', 'time'].includes(type)) {\n      const input = el.querySelector('input');\n      if (input) {\n        if (type === 'phone') input.type = 'tel';\n        if (data.placeholder) input.placeholder = data.placeholder;\n        if (data.maxlength) input.maxLength = parseInt(data.maxlength, 10);\n        if (data.required) input.required = true;\n      }\n    } else if (type === 'textarea') {\n      const ta = el.querySelector('textarea');\n      if (ta) {\n        if (data.placeholder) ta.placeholder = data.placeholder;\n        if (data.maxlength) ta.maxLength = parseInt(data.maxlength, 10);\n        if (data.required) ta.required = true;\n      }\n    } else if (type === 'select') {\n      const sel = el.querySelector('select');\n      if (sel) {\n        sel.innerHTML =\n          `<option value=\"\">${data.placeholder || 'Select an option'}</option>` +\n          (data.options || []).map(o => `<option>${escapeHtml(o)}</option>`).join('');\n        if (data.required) sel.required = true;\n      }\n    } else if (type === 'multiselect') {\n      const sel = el.querySelector('select');\n      if (sel) {\n        sel.multiple = true;\n        sel.innerHTML = (data.options || []).map(o => `<option>${escapeHtml(o)}</option>`).join('');\n        if (data.required) sel.required = true;\n      }\n    } else if (type === 'radio') {\n      const wrap = el.querySelector('.form-field');\n      if (wrap) {\n        wrap.querySelectorAll('.radio-field').forEach(n => n.remove());\n        (data.options || []).forEach((o, i) => {\n          const div = document.createElement('div');\n          div.className = 'radio-field';\n          const rid = `${data.name}-${i}`;\n          div.innerHTML = `<input id=\"${rid}\" type=\"radio\" name=\"${escapeHtml(data.name)}\">\n                           <label for=\"${rid}\">${escapeHtml(o)}</label>`;\n          wrap.appendChild(div);\n        });\n      }\n    } else if (type === 'multicheckbox') {\n      const wrap = el.querySelector('.form-field');\n      if (wrap) {\n        wrap.querySelectorAll('.checkbox-field').forEach(n => n.remove());\n        (data.options || []).forEach((o, i) => {\n          const div = document.createElement('div');\n          div.className = 'checkbox-field';\n          const cid = `${data.name}-${i}`;\n          div.innerHTML = `<input id=\"${cid}\" type=\"checkbox\" name=\"${escapeHtml(data.name)}[]\">\n                           <label for=\"${cid}\">${escapeHtml(o)}</label>`;\n          wrap.appendChild(div);\n        });\n      }\n    } else if (type === 'checkbox' || type === 'consent') {\n      const lab = el.querySelector('.checkbox-field label');\n      if (lab && data.label) lab.textContent = data.label;\n    } else if (type === 'html') {\n      const block = el.querySelector('.html-content');\n      if (block) block.innerHTML = data.html || '<p></p>';\n    } else if (type === 'submit_button') {\n      const btn = el.querySelector('button');\n      if (btn) {\n        btn.textContent = data.button_text || 'Submit';\n        if (data.custom_style) btn.setAttribute('style', data.custom_style);\n      }\n    }\n\n    selectField(id, type);\n  }\n}","import { useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getFormById } from './api';\nimport { defaultFormStyle } from './builder/default-style';\nimport { initBuilder } from './builder/init-builder';\nimport './form-builder.css';\nimport { useAuth } from '../../../../app/providers/auth-provider';\nimport { useTrialHeight } from '../../../../app/providers/trial-height-provider';\n\n// Inline SVG Icon component for field types\nconst Icon = ({ type }) => {\n  const props = { width: 22, height: 22, viewBox: '0 0 24 24', fill: 'none', stroke: '#2563eb', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' };\n  switch (type) {\n    case 'text':\n      return (<svg {...props}><path d=\"M4 6h16\" /><path d=\"M9 6v12\" /><path d=\"M15 6v12\" /></svg>);\n    case 'email':\n      return (<svg {...props}><path d=\"M4 6h16v12H4z\" /><path d=\"M22 6l-10 7L2 6\" /></svg>);\n    case 'number':\n      return (<svg {...props}><path d=\"M6 10h12\" /><path d=\"M6 14h12\" /><path d=\"M9 7v10\" /><path d=\"M15 7v10\" /></svg>);\n    case 'phone':\n      return (<svg {...props}><path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.62-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.09 4.18 2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.9 12.9 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 10a16 16 0 0 0 6 6l1.36-1.27a2 2 0 0 1 2.11-.45 12.9 12.9 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\" /></svg>);\n    case 'textarea':\n      return (<svg {...props}><rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" /><path d=\"M7 9h10\" /><path d=\"M7 13h6\" /></svg>);\n    case 'select':\n      return (<svg {...props}><rect x=\"3\" y=\"5\" width=\"18\" height=\"6\" rx=\"2\" /><path d=\"M8 15l4 4 4-4\" /></svg>);\n    case 'multiselect':\n      return (<svg {...props}><rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" /><path d=\"M7 9h10\" /><path d=\"M7 13h10\" /><path d=\"M7 17h10\" /></svg>);\n    case 'radio':\n      return (<svg {...props}><circle cx=\"8\" cy=\"12\" r=\"3\" /><circle cx=\"16\" cy=\"12\" r=\"6\" /></svg>);\n    case 'checkbox':\n      return (<svg {...props}><rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" /><path d=\"M7 12l3 3 7-7\" /></svg>);\n    case 'multicheckbox':\n      return (<svg {...props}><rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" /><path d=\"M7 10l3 3\" /><path d=\"M7 14l3 3\" /><path d=\"M14 10h3\" /><path d=\"M14 14h3\" /></svg>);\n    case 'date':\n      return (<svg {...props}><rect x=\"3\" y=\"5\" width=\"18\" height=\"16\" rx=\"2\" /><path d=\"M8 3v4\" /><path d=\"M16 3v4\" /><path d=\"M3 9h18\" /></svg>);\n    case 'time':\n      return (<svg {...props}><circle cx=\"12\" cy=\"12\" r=\"9\" /><path d=\"M12 7v6l4 2\" /></svg>);\n    case 'html':\n      return (<svg {...props}><path d=\"M10 15l-3-3 3-3\" /><path d=\"M14 9l3 3-3 3\" /><path d=\"M4 19h16\" /></svg>);\n    case 'consent':\n      return (<svg {...props}><rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" /><path d=\"M7 12l3 3 7-7\" /></svg>);\n    default:\n      return (<svg {...props}><circle cx=\"12\" cy=\"12\" r=\"9\" /></svg>);\n  }\n};\n\nexport default function TempFormBuilder() {\n  const { session } = useAuth();\n  const { trialHeight } = useTrialHeight();\n  const bootstrappedRef = useRef(false);\n  const { id } = useParams();\n  const editId = id !== 'new' ? id : null;\n\n  useEffect(() => {\n    const orgId = session?.organization?.id;\n    if (!orgId) return;               // wait until session is ready\n    if (bootstrappedRef.current) return; // run only once\n    bootstrappedRef.current = true;\n\n    (async () => {\n      try {\n        if (editId) {\n          const formJson = await getFormById(editId);\n          console.log('formJson: ', formJson);\n          initBuilder({\n            defaultOrgId: orgId,\n            getDefaultCss: () => defaultFormStyle,\n            initialForm: formJson,\n          });\n        } else {\n          initBuilder({\n            defaultOrgId: orgId,\n            getDefaultCss: () => defaultFormStyle,\n          });\n        }\n      } catch (e) {\n        console.error('Failed to load form for editing:', e);\n        initBuilder({\n          defaultOrgId: orgId,\n          getDefaultCss: () => defaultFormStyle,\n        });\n      }\n    })();\n  }, [session?.organization?.id]);\n\n  return (\n    <div className=\"mf-builder\" style={{ overflow: 'auto', height: `calc(100vh - 127px - ${trialHeight}px)` }}>\n      <div className=\"mf-container\" >\n        <header>\n          <h1>Form Editor</h1>\n        </header>\n\n        <div className=\"editor-container\">\n          {/* Field Types (drag sources) */}\n          <div className=\"fields-panel\">\n            <h2>Field Types</h2>\n            <div className=\"field-types\">\n              {[\n                ['text', 'Text'], ['email', 'Email'], ['number', 'Number'], ['phone', 'Phone'], ['textarea', 'Text Area'], ['select', 'Dropdown'], ['multiselect', 'Multi Select'], ['radio', 'Radio Buttons'], ['checkbox', 'Checkbox'], ['multicheckbox', 'Multi Checkbox'], ['date', 'Date'], ['time', 'Time'], ['html', 'HTML Content'], ['consent', 'Consent']\n              ].map(([type, label]) => (\n                <div\n                  key={type}\n                  className=\"field-type\"\n                  draggable\n                  data-type={type}\n                  role=\"button\"\n                  aria-label={`Drag ${label} field`}\n                  title={`Drag ${label} field`}\n                >\n                  <span className=\"icon\"><Icon type={type} /></span>\n                  <span>{label}</span>\n                </div>\n              ))}\n            </div>\n\n            {/* Custom CSS */}\n            <div className=\"css-editor-container\">\n              <h3>Custom CSS</h3>\n              <textarea id=\"form_style\" className=\"code-editor\" rows={10} defaultValue='' placeholder=\"Add custom CSS here (optional)\" />\n              <p className=\"help-text\">These styles will be applied to the embedded form.</p>\n            </div>\n          </div>\n\n          {/* Canvas */}\n          <div className=\"editor-panel\">\n            <div className=\"form-preview\" id=\"preview-container\">\n              <h3>Form Preview</h3>\n              <div className=\"empty-state\">\n                <i className=\"fas fa-inbox\" />\n                <p>Drag and drop fields from the left panel to build your form</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Properties */}\n          <div className=\"field-properties\" id=\"properties-container\">\n            <h2>Field Properties</h2>\n            <div className=\"no-field-selected\">\n              <p>Select a field to edit its properties</p>\n            </div>\n          </div>\n\n          {/* Form Details */}\n          <div className=\"form-details\" id=\"form-details-container\">\n            <h2>Form Details</h2>\n            <div className=\"form-field\"><label>Title</label><input id=\"form-title\" placeholder=\"enter your title\" /></div>\n            <div className=\"form-field\"><label>Domain</label><input id=\"form-domain\" placeholder=\"enter your domain\" defaultValue=\"https://memate.com.au/\" /></div>\n            <div className=\"form-field\"><label>To Email</label><input id=\"form-submit-to\" placeholder=\"enter submit to\" /></div>\n            <div className=\"form-field\"><label>From Email</label><input id=\"form-submit-from\" placeholder=\"enter submit from\" /></div>\n            <div className=\"form-field\"><label>CC Email</label><input id=\"form-cc-email\" placeholder=\"enter cc email\" /></div>\n            <div className=\"form-field\"><label>BCC Email</label><input id=\"form-bcc-email\" placeholder=\"enter bcc email\" /></div>\n            <div className=\"form-field\"><label>Thank you message</label><input id=\"form-thank-you\" placeholder=\"enter your thank you message\" /></div>\n            <div className=\"form-field\"><label>Error message</label><input id=\"form-error-message\" placeholder=\"enter your error message\" /></div>\n            <div className=\"form-field\"><label>Submit Button Label</label><input id=\"form-submit-label\" defaultValue=\"Submit\" /></div>\n            <div className=\"form-field\"><label>Redirect URL</label><input id=\"form-redirect-url\" placeholder=\"enter redirect url\" /></div>\n            <div className=\"form-field\"><label>Google reCAPTCHA Site Key</label><input id=\"form-recaptcha-key\" placeholder=\"enter your reCAPTCHA site key\" /></div>\n            <div className=\"form-field\"><label>Google reCAPTCHA Secret Key</label><input id=\"form-recaptcha-secret\" placeholder=\"enter your reCAPTCHA secret key\" /></div>\n          </div>\n        </div>\n\n        {/* Footer actions */}\n        <div className=\"editor-actions\">\n          <button className=\"btn btn-secondary\" id=\"preview-btn\">Preview Form</button>\n          <button className=\"btn btn-primary\" id=\"save-btn\">Save Form</button>\n        </div>\n\n        {/* Preview Modal */}\n        <div className=\"modal\" id=\"preview-modal\" style={{ display: 'none' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>Form Preview</h2>\n              <button className=\"modal-close\">×</button>\n            </div>\n            <div id=\"preview-form-container\" />\n          </div>\n        </div>\n\n        {/* Embed Code Modal */}\n        <div className=\"modal\" id=\"embed-modal\" style={{ display: 'none' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2>Embed this Form</h2>\n              <button className=\"modal-close\" data-close-embed>×</button>\n            </div>\n            <p>Copy the snippet below and paste it into your website where you want the form to appear.</p>\n            <textarea\n              id=\"embed-snippet\"\n              readOnly\n              rows={4}\n              style={{\n                width: '100%',\n                boxSizing: 'border-box',\n                fontFamily: 'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace'\n              }}\n            />\n            <div className=\"editor-actions\" style={{ justifyContent: 'flex-end' }}>\n              <button className=\"btn\" id=\"copy-embed-btn\">Copy</button>\n              <button className=\"btn btn-primary\" id=\"close-embed-btn\" disabled>OK</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","export const INQUIRY_FORM_API_URL = `${process.env.REACT_APP_BACKEND_API_URL}/inquiries/form/`;\nexport const INQUIRY_FORM_DETAIL_URL = `${process.env.REACT_APP_BACKEND_API_URL}/inquiries/form/`;\n\nexport async function saveFormToApi(payload) {\n  const res = await fetch(INQUIRY_FORM_API_URL, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`API ${res.status}: ${text || res.statusText}`);\n  }\n  return res.json();\n}\n\nexport async function listFormsByOrganization(orgId) {\n  const base = `${process.env.REACT_APP_BACKEND_API_URL}/inquiries/forms/`;\n  const url = `${base}?organization=${encodeURIComponent(orgId)}`;\n  const res = await fetch(url);\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`API ${res.status}: ${text || res.statusText}`);\n  }\n  return res.json();\n}\n\nexport async function getFormById(id) {\n  const base = `${process.env.REACT_APP_BACKEND_API_URL}/inquiries/form/`;\n  const url = `${base}${id}/`;\n  const res = await fetch(url);\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`API ${res.status}: ${text || res.statusText}`);\n  }\n  return res.json();\n}\n\nexport async function updateFormToApi(id, payload) {\n  const base = `${process.env.REACT_APP_BACKEND_API_URL}/inquiries/form/`;\n  const url = `${base}${id}/update/`;\n  const res = await fetch(url, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`API ${res.status}: ${text || res.statusText}`);\n  }\n  return res.json();\n}\n\nexport async function listFormSubmissions(formId, params = {}) {\n  if (!formId) throw new Error('formId is required');\n  const base = `${process.env.REACT_APP_BACKEND_API_URL}/inquiries/form/${encodeURIComponent(formId)}/submissions/`;\n\n  const qs = new URLSearchParams();\n  // Optional filters/pagination if backend supports them\n  if (params.page) qs.set('page', params.page);\n  if (params.page_size) qs.set('page_size', params.page_size);\n  if (params.status != null) qs.set('status', params.status); // e.g., 0,1,2\n  if (params.assigned_to) qs.set('assigned_to', params.assigned_to); // user id/email if supported\n  if (params.search) qs.set('search', params.search);\n  if (params.ordering) qs.set('ordering', params.ordering);\n\n  const url = qs.toString() ? `${base}?${qs.toString()}` : base;\n  const res = await fetch(url);\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`API ${res.status}: ${text || res.statusText}`);\n  }\n  return res.json();\n}\n\nexport async function deleteForm(id) {\n  const base = `${process.env.REACT_APP_BACKEND_API_URL}/inquiries/form/`;\n  const url = `${base}${id}/delete/`;\n  const res = await fetch(url, { method: 'DELETE' });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`API ${res.status}: ${text || res.statusText}`);\n  }\n  return true;\n}"],"names":["defaultFormStyle","initBuilder","_ref","defaultOrgId","getDefaultCss","initialForm","window","root","document","querySelector","preview","properties","cssTextarea","previewBtn","saveBtn","previewModal","previewFormContainer","value","css","fieldCounter","fieldsData","currentField","currentFormId","id","form","setVal","title","domain","submit_to","submit_from","cc_email","bcc_email","thank_you_message","error_message","submit_button_label","redirect_url","recaptcha_site_key","recaptcha_secret_key","custom_css","fields","slice","sort","a","b","_a$order","_b$order","order","innerHTML","forEach","addFieldFromData","updateMoveButtons","hydrateInitialForm","err","console","error","palette","getTemplate","type","map","text","email","number","phone","textarea","select","multiselect","radio","checkbox","multicheckbox","date","time","url","html","consent","submit_button","actionBar","wireField","el","addEventListener","e","target","closest","selectField","remove","stopPropagation","previousElementSibling","parentNode","insertBefore","reindex","next","nextElementSibling","newOrder","querySelectorAll","node","nodes","Array","from","idx","upBtn","downBtn","disabled","length","data","escapeHtml","label","includes","placeholder","escapeAttr","maxlength","regex","required","button_text","custom_style","wrap","options","opt","i","row","createElement","appendChild","onclick","push","classList","contains","dataset","splice","matches","val","name","checked","textContent","alert","sel","_root$querySelector2","capitalize","s","charAt","toUpperCase","arguments","undefined","replace","c","v","getElementById","f","_f$label","_f$name","_f$placeholder","_ref2","_f$max_length","_f$regex","_f$error_message","_f$html","_f$button_text","_f$custom_style","field_type","className","_id","max_length","isArray","labelEl","input","maxLength","parseInt","ta","o","join","multiple","n","div","rid","cid","lab","block","btn","setAttribute","item","dataTransfer","effectAllowed","setData","_","preventDefault","add","dropEffect","relatedTarget","getData","base","seedDataFor","addField","out","t","some","renderPreview","Object","values","style","display","async","siteKeyEl","trim","secretKeyEl","payload","_cssTextarea$value","get","_root$querySelector","organization","redirect","buildApiPayload","json","updateFormToApi","saveFormToApi","embedCode","embedModal","snippetEl","copyBtn","closeBtn","xBtn","doCopy","navigator","clipboard","writeText","execCommand","message","Icon","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_jsxs","children","_jsx","d","x","y","rx","cx","cy","r","TempFormBuilder","_session$organization2","session","useAuth","trialHeight","useTrialHeight","bootstrappedRef","useRef","useParams","editId","useEffect","_session$organization","orgId","current","formJson","getFormById","log","overflow","draggable","role","rows","defaultValue","readOnly","boxSizing","fontFamily","justifyContent","INQUIRY_FORM_API_URL","res","fetch","method","headers","body","JSON","stringify","ok","catch","Error","status","statusText","listFormsByOrganization","encodeURIComponent","listFormSubmissions","formId","params","qs","URLSearchParams","page","set","page_size","assigned_to","search","ordering","toString","deleteForm"],"sourceRoot":""}