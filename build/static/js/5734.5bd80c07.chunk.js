"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5734],{1340:(e,s,l)=>{l.d(s,{A:()=>$});var a=l(65043),n=l(61072),r=l(78602),t=l(14282),o=l(44541),i=l(96141),d=l(24858),c=l(17380),m=l(18403),p=l(93747),u=l(58387),h=l(39764),x=l(8129),v=l(28676),g=l(74532),j=l(72052),f=l(27932),b=l(80899);const A={circledesignstyle:"supplier-form_circledesignstyle__-wJJ3",out:"supplier-form_out__-S7y7",tab:"supplier-form_tab__n7WH0",iconBox:"supplier-form_iconBox__d+lNt",tabText:"supplier-form_tabText__59Ovb",active:"supplier-form_active__9Q5p1",bgGreay:"supplier-form_bgGreay__ueCI3",fileUploadBox:"supplier-form_fileUploadBox__6TEtO",uploadedImgBox:"supplier-form_uploadedImgBox__CNI5t",uploadedText1:"supplier-form_uploadedText1__QqneJ",uploadedText2:"supplier-form_uploadedText2__Imz03",lable:"supplier-form_lable__8PPJB",inputText:"supplier-form_inputText__vF8up",error:"supplier-form_error__gA9RK",phoneInput:"supplier-form_phoneInput__oxqVV",countrySelector:"supplier-form_countrySelector__8p44J",headingInputs:"supplier-form_headingInputs__+VkEU",dropdownSelect:"supplier-form_dropdownSelect__5Gs0P",tempDelete:"supplier-form_tempDelete__EstTd",tempAdd:"supplier-form_tempAdd__wxX42"};var N=l(59638),y=l(27472),_=l(63882),w=l(70579);const S=b.Ik({name:b.Yj().required("Company name is required"),email:b.Yj().email("Invalid email").required("Email is required"),services:b.Yj().required("Services is required"),contact_persons:b.YO().of(b.Ik({email:b.Yj().nullable().email("Invalid contact email format").test("is-valid","Contact email must be a valid email if provided",(e=>!e||b.Yj().email().isValidSync(e)))}))}).required(),$=(0,a.forwardRef)(((e,s)=>{let{photo:l,setPhoto:b,onSubmit:$,defaultValues:C}=e;const[T,P]=(0,a.useState)(!1),[I,E]=(0,a.useState)(0),[R,U]=(0,a.useState)(""),[F,L]=(0,a.useState)(""),[B,k]=(0,a.useState)({}),G=(0,p.I)({queryKey:["countries"],queryFn:N.X6,enabled:!0}),D=(0,p.I)({queryKey:["states",R],queryFn:()=>(0,N.nP)(R),enabled:!!R,retry:1}),z=(0,p.I)({queryKey:["cities",F],queryFn:()=>(0,N.i6)(F),enabled:!!F});(0,a.useEffect)((()=>{F&&(async e=>{if(e&&!B[e]){const s=await(0,N.i6)(e);k((l=>({...l,[e]:s})))}})(F)}),[F]);const{control:q,register:V,handleSubmit:O,setValue:J,watch:H,formState:{errors:Y}}=(0,d.mN)({resolver:(0,m.t)(S),defaultValues:C}),{fields:K,append:Z,remove:M}=(0,d.jz)({control:q,name:"contact_persons"}),{fields:Q,append:W,remove:X}=(0,d.jz)({control:q,name:"addresses"});return(0,a.useEffect)((()=>{var e;if(null!==C&&void 0!==C&&null!==(e=C.addresses)&&void 0!==e&&e.length&&I<C.addresses.length){const e=null===C||void 0===C?void 0:C.addresses[I],s=null===e||void 0===e?void 0:e.country,l=null===e||void 0===e?void 0:e.state;s!==R?U(s):l!==F?L(l):E((e=>e+1))}}),[C,I,R,F]),(0,w.jsxs)("form",{ref:s,onSubmit:O($),children:[(0,w.jsxs)(n.A,{className:(0,u.A)(A.bgGreay,"pt-0"),children:[(0,w.jsxs)(r.A,{sm:12,children:[(0,w.jsxs)("div",{className:(0,u.A)(A.fileUploadBox),onClick:()=>P(!0),children:[(0,w.jsx)("div",{className:(0,u.A)(A.uploadedImgBox,"rounded"),children:l?(0,w.jsx)("img",{src:(null===l||void 0===l?void 0:l.croppedImageBase64)||l,alt:"profile"}):(0,w.jsx)(o.A,{size:32,color:"#667085"})}),(0,w.jsxs)("p",{className:(0,u.A)("mb-0",A.uploadedText1),children:[(0,w.jsx)("span",{className:(0,u.A)("mb-0",A.uploadedText2),children:"Click to upload"})," or drag and drop"]}),(0,w.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,w.jsx)(_.A,{show:T,setShow:P,setPhoto:b})]}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsxs)("label",{className:(0,u.A)(A.lable),children:["Company Name",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{children:Y.name&&(0,w.jsx)("img",{src:y.A,className:"mb-3",alt:"error-icon"})}),(0,w.jsx)(j.S,{...V("name"),className:(0,u.A)(A.inputText,{[A.error]:Y.name}),placeholder:"Enter company name"})]}),Y.name&&(0,w.jsx)("p",{className:"error-message",children:Y.name.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,w.jsxs)("label",{className:(0,u.A)(A.lable),children:["Email",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{children:Y.email&&(0,w.jsx)("img",{src:y.A,className:"mb-3",alt:"error-icon"})}),(0,w.jsx)(j.S,{...V("email"),className:(0,u.A)(A.inputText,{[A.error]:Y.email}),placeholder:"example@email.com"})]}),Y.email&&(0,w.jsx)("p",{className:"error-message",children:Y.email.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Website"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{children:Y.website&&(0,w.jsx)("img",{src:y.A,className:"mb-3",alt:"error-icon"})}),(0,w.jsx)(j.S,{...V("website"),className:(0,u.A)(A.inputText,{[A.error]:Y.website}),placeholder:"www.example.com"})]}),Y.website&&(0,w.jsx)("p",{className:"error-message",children:Y.website.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Phone number"}),(0,w.jsx)(d.xI,{name:"phone",control:q,render:e=>{let{field:s}=e;return(0,w.jsx)(c.LR,{defaultCountry:"au",value:"string"===typeof s.value?s.value:"",className:"phoneInput",containerClass:A.countrySelector,onChange:s.onChange})}}),Y.phone&&(0,w.jsx)("p",{className:"error-message",children:Y.phone.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"ABN"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{children:Y.abn&&(0,w.jsx)("img",{src:y.A,className:"mb-3",alt:"error-icon"})}),(0,w.jsx)(j.S,{...V("abn",{onChange:e=>{const s=e.target.value.replace(/\D/g,"");J("abn",s,{shouldValidate:!0})},onPaste:e=>{e.preventDefault();const s=e.clipboardData.getData("text").replace(/\D/g,"");J("abn",s,{shouldValidate:!0})}}),className:(0,u.A)(A.inputText,{[A.error]:Y.abn}),placeholder:"32 635 443 221"})]}),Y.abn&&(0,w.jsx)("p",{className:"error-message",children:Y.abn.message})]})})]}),(0,w.jsx)("h2",{className:(0,u.A)(A.headingInputs,"mt-4"),children:"Services"}),(0,w.jsxs)(n.A,{className:(0,u.A)(A.bgGreay,""),children:[(0,w.jsx)(r.A,{children:(0,w.jsxs)("div",{className:"d-flex flex-column mb-4 gap-1",children:[(0,w.jsxs)("label",{className:(0,u.A)(A.label),children:["Services",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(d.xI,{name:"services",control:q,render:e=>{let{field:s}=e;return(0,w.jsx)(h.C,{value:s.value?s.value.split(","):[],allowDuplicate:!1,addOnBlur:!0,onChange:e=>s.onChange(e.value.join(",")),className:(0,u.A)("w-100 custom-chipsInput"),separator:","})}}),Y.services&&(0,w.jsx)("span",{className:"error-message",children:Y.services.message})]})}),(0,w.jsx)(r.A,{sm:12,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Notes"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{style:{top:"75%"},children:Y.note&&(0,w.jsx)("img",{src:y.A,alt:"error-icon"})}),(0,w.jsx)(f.Z,{...V("note"),rows:4,cols:30,className:(0,u.A)(A.inputText,{[A.error]:Y.note}),style:{resize:"none"},placeholder:"Enter a note..."})]}),Y.note&&(0,w.jsx)("p",{className:"error-message",children:Y.note.message})]})})]}),(0,w.jsx)("h2",{className:(0,u.A)(A.headingInputs,"mt-4"),children:"Contact Person"}),(0,w.jsx)(n.A,{children:K.map(((e,s)=>{var l,a,o,m,p,h,x,f,b,N,_,S,$,C,T,P,I,E,R,U,F;return(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{type:"hidden",...V(`contact_persons.${s}.is_main`),value:0===s}),(0,w.jsxs)(n.A,{className:(0,u.A)(A.bgGreay),children:[(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"First Name"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{style:{top:"40%"},children:(null===(l=Y.contact_persons)||void 0===l||null===(a=l[s])||void 0===a?void 0:a.firstname)&&(0,w.jsx)("img",{src:y.A,alt:"error-icon"})}),(0,w.jsx)(j.S,{...V(`contact_persons.${s}.firstname`),rows:5,cols:30,className:(0,u.A)(A.inputText,{[A.error]:null===(o=Y.contact_persons)||void 0===o||null===(m=o[s])||void 0===m?void 0:m.firstname}),style:{resize:"none"},placeholder:"Jhon"})]})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Last Name"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{style:{top:"40%"},children:(null===(p=Y.contact_persons)||void 0===p||null===(h=p[s])||void 0===h?void 0:h.lastname)&&(0,w.jsx)("img",{src:y.A,alt:"error-icon"})}),(0,w.jsx)(j.S,{...V(`contact_persons.${s}.lastname`),rows:5,cols:30,className:(0,u.A)(A.inputText,{[A.error]:null===(x=Y.contact_persons)||void 0===x||null===(f=x[s])||void 0===f?void 0:f.lastname}),style:{resize:"none"},placeholder:"Doe"})]})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Email"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{style:{top:"40%"},children:(null===(b=Y.contact_persons)||void 0===b||null===(N=b[s])||void 0===N?void 0:N.email)&&(0,w.jsx)("img",{src:y.A,alt:"error-icon"})}),(0,w.jsx)(j.S,{...V(`contact_persons.${s}.email`),rows:5,cols:30,className:(0,u.A)(A.inputText,{[A.error]:null===(_=Y.contact_persons)||void 0===_||null===(S=_[s])||void 0===S?void 0:S.email}),style:{resize:"none"},placeholder:"golden@harvest.com"})]}),(null===($=Y.contact_persons)||void 0===$||null===(C=$[s])||void 0===C?void 0:C.email)&&(0,w.jsx)("p",{className:"error-message",children:null===(T=Y.contact_persons)||void 0===T||null===(P=T[s])||void 0===P||null===(I=P.email)||void 0===I?void 0:I.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Phone (Optional)"}),(0,w.jsx)(d.xI,{name:`contact_persons.${s}.phone`,control:q,render:e=>{let{field:s}=e;return(0,w.jsx)(c.LR,{defaultCountry:"au",value:s.value||"",className:"phoneInput",containerClass:A.countrySelector,onChange:e=>s.onChange(e)})}})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Position"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{style:{top:"40%"},children:(null===(E=Y.contact_persons)||void 0===E||null===(R=E[s])||void 0===R?void 0:R.position)&&(0,w.jsx)("img",{src:y.A,alt:"error-icon"})}),(0,w.jsx)(j.S,{...V(`contact_persons.${s}.position`),rows:5,cols:30,className:(0,u.A)(A.inputText,{[A.error]:null===(U=Y.contact_persons)||void 0===U||null===(F=U[s])||void 0===F?void 0:F.position}),style:{resize:"none"},placeholder:"Manager"})]})]})}),(0,w.jsx)(r.A,{sm:6})]}),(0,w.jsxs)(r.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==s&&(0,w.jsx)(t.A,{type:"button",className:(0,u.A)(A.tempDelete),onClick:()=>M(s),children:"Delete"}),s===K.length-1&&(0,w.jsxs)(t.A,{type:"button",className:(0,u.A)(A.tempAdd),onClick:()=>Z({}),children:["Add New ",(0,w.jsx)(i.A,{size:24,color:"#106b99"})]})]})]},e.id)}))}),(0,w.jsx)("h2",{className:(0,u.A)(A.headingInputs,"mt-4"),children:"Locations"}),(0,w.jsx)(n.A,{children:Q.map(((e,s)=>{var l,a,o,c,m,p,h,f,b,N,_,S,$,C,T,P,I,E,R,k,O,J,K,Z,M,ee,se,le,ae,ne,re,te,oe,ie,de,ce,me,pe,ue,he,xe,ve;return(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{type:"hidden",...V(`addresses.${s}.is_main`),value:0===s}),(0,w.jsxs)(n.A,{className:(0,u.A)(A.bgGreay),children:[(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Location Name (Optional)"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{children:(null===(l=Y.addresses)||void 0===l||null===(a=l[s])||void 0===a?void 0:a.title)&&(0,w.jsx)("img",{src:y.A,className:"mb-3",alt:"error-icon"})}),(0,w.jsx)(j.S,{...V(`addresses.${s}.title`),className:(0,u.A)(A.inputText,{[A.error]:null===(o=Y.addresses)||void 0===o||null===(c=o[s])||void 0===c?void 0:c.title}),placeholder:"Enter location name"})]}),(null===(m=Y.addresses)||void 0===m||null===(p=m[s])||void 0===p?void 0:p.title)&&(0,w.jsx)("p",{className:"error-message",children:null===(h=Y.addresses)||void 0===h||null===(f=h[s])||void 0===f||null===(b=f.title)||void 0===b?void 0:b.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Country"}),(0,w.jsx)(d.xI,{name:`addresses.${s}.country`,control:q,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,w.jsx)(x.m,{...l,options:G&&(null===(s=G.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),U(e.value)},className:(0,u.A)(A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:null===G||void 0===G?void 0:G.isFetching,placeholder:"Select a country"})}}),(null===(N=Y.addresses)||void 0===N||null===(_=N[s])||void 0===_?void 0:_.country)&&(0,w.jsx)("p",{className:"error-message",children:null===(S=Y.addresses)||void 0===S||null===($=S[s])||void 0===$||null===(C=$.country)||void 0===C?void 0:C.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"State"}),(0,w.jsx)(d.xI,{name:`addresses.${s}.state`,control:q,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,w.jsx)(x.m,{...l,options:D&&(null===(s=D.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),L(e.value)},className:(0,u.A)(A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:null===D||void 0===D?void 0:D.isFetching,placeholder:"Select a state",filter:!0})}}),(null===(T=Y.addresses)||void 0===T||null===(P=T[s])||void 0===P?void 0:P.state)&&(0,w.jsx)("p",{className:"error-message",children:null===(I=Y.addresses)||void 0===I||null===(E=I[s])||void 0===E||null===(R=E.state)||void 0===R?void 0:R.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"City/Suburb"}),(0,w.jsx)(d.xI,{name:`addresses.${s}.city`,control:q,defaultValue:"",render:e=>{var l;let{field:a}=e;const n=H(`addresses.${s}.state`);return(0,w.jsx)(x.m,{...a,options:(null===(l=B[n])||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{a.onChange(e.value)},className:(0,u.A)(A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:a.value,loading:n===F&&(null===z||void 0===z?void 0:z.isFetching),placeholder:"Select a city",filter:!0})}}),(null===(k=Y.addresses)||void 0===k||null===(O=k[s])||void 0===O?void 0:O.city)&&(0,w.jsx)("p",{className:"error-message",children:null===(J=Y.addresses)||void 0===J||null===(K=J[s])||void 0===K||null===(Z=K.city)||void 0===Z?void 0:Z.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Street Address"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{children:(null===(M=Y.addresses)||void 0===M||null===(ee=M[s])||void 0===ee?void 0:ee.address)&&(0,w.jsx)("img",{src:y.A,className:"mb-3",alt:"error-icon"})}),(0,w.jsx)(j.S,{...V(`addresses.${s}.address`),className:(0,u.A)(A.inputText,{[A.error]:null===(se=Y.addresses)||void 0===se||null===(le=se[s])||void 0===le?void 0:le.address}),placeholder:"Enter street address"})]}),(null===(ae=Y.addresses)||void 0===ae||null===(ne=ae[s])||void 0===ne?void 0:ne.address)&&(0,w.jsx)("p",{className:"error-message",children:null===(re=Y.addresses)||void 0===re||null===(te=re[s])||void 0===te||null===(oe=te.address)||void 0===oe?void 0:oe.message})]})}),(0,w.jsx)(r.A,{sm:6,children:(0,w.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,w.jsx)("label",{className:(0,u.A)(A.lable),children:"Postcode"}),(0,w.jsxs)(v.C,{children:[(0,w.jsx)(g.m,{children:(null===(ie=Y.addresses)||void 0===ie||null===(de=ie[s])||void 0===de?void 0:de.postcode)&&(0,w.jsx)("img",{src:y.A,className:"mb-3",alt:"error-icon"})}),(0,w.jsx)(j.S,{...V(`addresses.${s}.postcode`),keyfilter:"int",className:(0,u.A)(A.inputText,{[A.error]:null===(ce=Y.addresses)||void 0===ce||null===(me=ce[s])||void 0===me?void 0:me.postcode}),placeholder:"Enter postcode"})]}),(null===(pe=Y.addresses)||void 0===pe||null===(ue=pe[s])||void 0===ue?void 0:ue.postcode)&&(0,w.jsx)("p",{className:"error-message",children:null===(he=Y.addresses)||void 0===he||null===(xe=he[s])||void 0===xe||null===(ve=xe.postcode)||void 0===ve?void 0:ve.message})]})})]}),(0,w.jsxs)(r.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==s&&(0,w.jsx)(t.A,{type:"button",className:(0,u.A)(A.tempDelete),onClick:()=>X(s),children:"Delete"}),s===Q.length-1&&(0,w.jsxs)(t.A,{type:"button",className:(0,u.A)(A.tempAdd),onClick:()=>W({country:1}),children:["Add New ",(0,w.jsx)(i.A,{size:24,color:"#106b99"})]})]})]},e.id)}))})]})}))},14834:(e,s,l)=>{function a(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l=parseFloat(e);return isNaN(l)?"0.00":s&&Math.abs(l)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(l):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}l.d(s,{m:()=>a})},20793:(e,s,l)=>{e.exports=l.p+"static/media/NodataImg.ee3ccbdc6b7e66284e17.png"},31342:(e,s,l)=>{l.d(s,{f:()=>a});const a=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:a="GET",headers:n={},body:r}=s,t=localStorage.getItem("access_token"),o=r instanceof FormData,i={"Content-Type":o?"multipart/form-data":"application/json",...n};l&&(i.Authorization=`Bearer ${t}`);const d={method:a,headers:i,body:o?r:JSON.stringify(r),redirect:"follow"};try{const s=new URL(e),l=await fetch(s,d),a=l.headers.get("Content-Type");if(!l.ok){var c;let e=null;e=a&&a.includes("application/json")?await l.json():await l.text(),401===l.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const s=new Error((null===(c=e)||void 0===c?void 0:c.message)||`HTTP error! Status: ${l.status}`);throw s.status=l.status,s.data=e,s}if(a&&a.includes("application/json"))return await l.json();return{message:"Non-JSON response",body:await l.text()}}catch(m){throw console.error("Fetch API error:",m),m}}},52781:(e,s,l)=>{l.d(s,{Jj:()=>r,O5:()=>i,Xq:()=>t,tg:()=>d,xe:()=>o});var a=l(31342);const n="https://dev.memate.com.au/api/v1",r=async function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4?arguments[4]:void 0;const o=(e-1)*s,i=new URL(`${n}/suppliers/`);return i.searchParams.append("limit",s),i.searchParams.append("offset",o),l&&i.searchParams.append("name",l),r&&i.searchParams.append("ordering",r),t&&i.searchParams.append("deleted",1),(0,a.f)(i.toString(),{method:"GET"})},t=async e=>{const s=new URL(`${n}${`/suppliers/${e}/`}`);return(0,a.f)(s.toString(),{method:"GET"})},o=async function(e,s,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5?arguments[5]:void 0;const i=(s-1)*l,d=new URL(`${n}${`/suppliers/history/${e}/`}`);return d.searchParams.append("limit",l),d.searchParams.append("offset",i),r&&d.searchParams.append("name",r),t&&d.searchParams.append("ordering",t),o&&d.searchParams.append("deleted",1),(0,a.f)(d.toString(),{method:"GET"})},i=async e=>{const s=new URL(`${n}${`/suppliers/${e}/`}`);return(0,a.f)(s.toString(),{method:"DELETE"})},d=async e=>{const s=new URL(`${n}${`/suppliers/restore/${e}/`}`);return(0,a.f)(s.toString(),{method:"POST"})}},54967:(e,s,l)=>{l.d(s,{A:()=>i,h:()=>d});var a=l(65043),n=l(44541),r=l(95192);const t="image-avatar_clientImg__-nnRU";var o=l(70579);const i=e=>{let{has_photo:s,photo:l,is_business:t,size:i}=e;const[d,c]=(0,a.useState)(!1),m=t?n.A:r.A;return(0,o.jsx)(o.Fragment,{children:s&&l&&!d?(0,o.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,o.jsx)(m,{color:"#667085",size:i})})},d=e=>{let{has_photo:s,photo:l,is_business:i}=e;const[d,c]=(0,a.useState)(!1),m=i?n.A:r.A;return(0,o.jsx)("div",{className:`d-flex justify-content-center align-items-center ${t} ${i?"":"rounded-circle"}`,style:{overflow:"hidden"},children:s&&l&&!d?(0,o.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,o.jsx)(m,{color:"#667085"})})}},59638:(e,s,l)=>{l.d(s,{EZ:()=>t,F1:()=>j,Fl:()=>p,OF:()=>i,QK:()=>x,Ql:()=>o,X6:()=>d,Ye:()=>v,ab:()=>f,i6:()=>m,kB:()=>b,nP:()=>c,o6:()=>h,oO:()=>r,oo:()=>u,zZ:()=>g});var a=l(31342);const n="https://dev.memate.com.au/api/v1",r=async e=>{const s=new URL(`${n}${`/clients/restore/${e}/`}`);return(0,a.f)(s.toString(),{method:"POST"})},t=async e=>{const s=new URL(`${n}${`/clients/${e}/`}`);return(0,a.f)(s.toString(),{method:"GET"})},o=async()=>{const e=new URL(`${n}/references/clients/categories/`);return(0,a.f)(e.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${n}/references/clients/industries/`);return(0,a.f)(e.toString(),{method:"GET"})},d=async()=>{const e=new URL(`${n}/references/countries/`);return(0,a.f)(e.toString(),{method:"GET"},!1)},c=async e=>{const s=new URL(`${n}${`/references/states/${e}/`}`);return(0,a.f)(s.toString(),{method:"GET"},!1)},m=async e=>{const s=new URL(`${n}${`/references/cities/${e}/`}`);return(0,a.f)(s.toString(),{method:"GET"},!1)},p=async()=>{const e=new URL(`${n}/references/desktop-users/`);return(0,a.f)(e.toString(),{method:"GET"})},u=async function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4?arguments[4]:void 0;const o=(e-1)*s,i=new URL(`${n}/clients/`);return i.searchParams.append("limit",s),i.searchParams.append("offset",o),l&&i.searchParams.append("name",l),r&&i.searchParams.append("ordering",r),t&&i.searchParams.append("deleted",1),(0,a.f)(i.toString(),{method:"GET"})},h=async function(e,s,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const o=(s-1)*l,i=new URL(`${n}${`/clients/${e}/orders/`}`);return i.searchParams.append("limit",l),i.searchParams.append("offset",o),r&&i.searchParams.append("number",r),t&&i.searchParams.append("ordering",t),(0,a.f)(i.toString(),{method:"GET"})},x=async e=>{const s=new URL(`${n}${`/clients/address/${e}/main`}`);return(0,a.f)(s.toString(),{method:"PUT"})},v=async e=>{const s=new URL(`${n}${`/clients/contact-persons/${e}/main`}`);return(0,a.f)(s.toString(),{method:"PUT"})},g=async e=>{const s=new URL(`${n}${`/clients/delete/${e}/`}`);return(0,a.f)(s.toString(),{method:"DELETE"})},j=async e=>{const s=new URL(`${n}${`/clients/contact-persons/${e}/delete/`}`);return(0,a.f)(s.toString(),{method:"DELETE"})},f=async e=>{const s=new URL(`${n}${`/clients/address/${e}/delete/`}`);return(0,a.f)(s.toString(),{method:"DELETE"})},b=async e=>{const s={method:"PUT",body:{unique_id:e}},l=new URL(`${n}/projects/back/`);return(0,a.f)(l.toString(),s)}},63882:(e,s,l)=>{l.d(s,{A:()=>y});var a=l(65043),n=l(32952),r=l(14282),t=l(76163),o=l(69956),i=l(89488),d=l(55683),c=l(58387),m=l(73722);const p="file-uploader_title__+HTTy",u="file-uploader_previewSection__mnNRf",h="file-uploader_previewBox__j6psm",x="file-uploader_previewBoxImg1__SR-1w",v="file-uploader_previewBoxImg2__zYCKK",g="file-uploader_previewBoxImg3__YNTWI",j="file-uploader_previewBoxImg4__cRl+e",f="file-uploader_previewBoxImg5__GzHFj",b="file-uploader_previewActions__UO1dp",A="file-uploader_label__Udhfq";var N=l(70579);const y=e=>{let{show:s,setShow:l,setPhoto:y,additionalDesign:_,shape:w="rect"}=e;const[S,$]=(0,a.useState)([]),[C,T]=(0,a.useState)({x:0,y:0}),[P,I]=(0,a.useState)(1),[E,R]=(0,a.useState)(0),[U,F]=(0,a.useState)(null),[L,B]=(0,a.useState)({}),k=(0,a.useCallback)(((e,s)=>{F(s)}),[]),G=(0,a.useCallback)((async()=>{if(!S.length||!U)return;const e=document.createElement("canvas"),s=e.getContext("2d"),l=new Image;l.src=S[0].preview,await new Promise((e=>l.onload=e)),e.width=U.width,e.height=U.height,s.translate(e.width/2,e.height/2),s.rotate(E*Math.PI/180),s.translate(-e.width/2,-e.height/2),s.drawImage(l,U.x,U.y,U.width,U.height,0,0,U.width,U.height);return e.toDataURL("image/jpeg")}),[S,U,E]),D=async()=>{const e=await G();e&&B({img2:e,img3:e,img4:e,img5:e})};(0,a.useEffect)((()=>{D()}),[P,C,E,S,U]);const{getRootProps:z,getInputProps:q}=(0,i.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{$(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,N.jsxs)(n.A,{style:{zIndex:1111},show:s,centered:!0,onHide:()=>l(!1),onShow:D,children:[(0,N.jsx)(n.A.Header,{closeButton:!0,children:(0,N.jsx)(n.A.Title,{children:(0,N.jsx)("span",{className:`${p}`,children:"Edit Photo"})})}),(0,N.jsxs)(n.A.Body,{children:[_,(0,N.jsxs)("div",{className:`${u}`,children:[(0,N.jsxs)("div",{className:`${h}`,children:[(0,N.jsx)("div",{className:(0,c.A)(x,"round"===w?"rounded-circle":""),children:(0,N.jsx)(d.Ay,{image:S.length>0?S[0].preview:null,crop:C,zoom:P,cropShape:w,rotation:E,onCropChange:T,onZoomChange:I,onCropComplete:k,aspect:1,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,N.jsx)("div",{className:(0,c.A)(v,"round"===w?"rounded-circle":""),children:L.img2&&(0,N.jsx)("img",{src:L.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,c.A)(g,"round"===w?"rounded-circle":""),children:L.img3&&(0,N.jsx)("img",{src:L.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,c.A)(j,"round"===w?"rounded-circle":""),children:L.img4&&(0,N.jsx)("img",{src:L.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,c.A)(f,"round"===w?"rounded-circle":""),children:L.img5&&(0,N.jsx)("img",{src:L.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,N.jsxs)("div",{className:`${b}`,children:[(0,N.jsxs)(m.A.Group,{children:[(0,N.jsx)(m.A.Label,{className:`${A}`,children:"Zoom"}),(0,N.jsx)(m.A.Range,{value:P,min:1,max:3,step:.1,className:"custom-range",onChange:e=>I(e.target.value)})]}),(0,N.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,N.jsxs)(r.A,{className:"text-button",onClick:()=>{R((e=>(e+90)%360))},children:[(0,N.jsx)(t.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,N.jsxs)("div",{...z({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,N.jsx)("input",{...q()}),(0,N.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,N.jsx)(o.A,{})}),(0,N.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,N.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,N.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,N.jsxs)(n.A.Footer,{className:"d-flex justify-content-end",children:[(0,N.jsx)(r.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),$([]),B({}),y(null),l(!1)},children:"Cancel"}),(0,N.jsx)(r.A,{className:"solid-button",onClick:async()=>{const e=await G(),s=function(e,s){const l=atob(e.split(",")[1]),a=new ArrayBuffer(l.length),n=new Uint8Array(a);for(let r=0;r<l.length;r++)n[r]=l.charCodeAt(r);return new Blob([a],{type:s})}(e,"image/jpeg");y({croppedImageBase64:e,croppedImageBlob:s}),l(!1)},children:"Save Photo"})]})]})}},99868:(e,s,l)=>{l.d(s,{A:()=>x});var a=l(65043),n=l(14282),r=l(38294),t=l(35475),o=l(58387);const i="no-data-found-template_noDataBox__HgeT1",d="no-data-found-template_title__P5uV2",c="no-data-found-template_subTitle__zMBB-",m="no-data-found-template_supportext__pHg2P";var p=l(20793),u=l(63919),h=l(70579);const x=e=>{let{isDataExist:s=!0}=e;const[l,x]=(0,a.useState)(!1);return(0,h.jsxs)("div",{className:(0,o.A)(i),children:[(0,h.jsx)("div",{className:"position-relative d-flex flex-column",children:(0,h.jsx)("img",{src:p,alt:"no-data"})}),s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{className:(0,o.A)(d),children:"There is no results"}),(0,h.jsxs)("p",{className:(0,o.A)(c),children:["The user you are looking for doesn't exist. ",(0,h.jsx)("br",{}),"Here are some helpful links:"]}),(0,h.jsx)(t.N_,{to:"/",children:(0,h.jsxs)(n.A,{className:"outline-button",style:{marginBottom:"32px"},children:[" ",(0,h.jsx)(r.A,{})," Go back"]})}),(0,h.jsx)(t.N_,{onClick:()=>x(!0),to:"#",children:(0,h.jsx)("span",{className:(0,o.A)(m),children:"Support"})})]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("h2",{className:(0,o.A)(d),children:"No historical records yet."})}),(0,h.jsx)(u.A,{setVisible:x,visible:l})]})}}}]);
//# sourceMappingURL=5734.5bd80c07.chunk.js.map