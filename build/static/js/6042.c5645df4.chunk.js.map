{"version":3,"file":"static/js/6042.c5645df4.chunk.js","mappings":"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","sources":["APIs/expenses-api.js","components/Work/features/task/view-task/view-task.js","webpack://memateapp/./src/components/Work/features/task/create-task/comment-editor/comment-editor.module.scss?063d","components/Work/features/task/create-task/comment-editor/comment-editor.jsx","webpack://memateapp/./src/components/Work/features/task/create-task/create-task.module.scss?cbbe","components/Business/Pages/management/task/select-date.js","webpack://memateapp/./src/components/Work/features/task/task-comments/task-comments.module.scss?9e4a","components/Work/features/task/task-comments/task-comments.js","components/Work/features/task/create-task/create-task.js","APIs/TasksApi.js","APIs/task-api.js","shared/ui/date-range-picker-calendar/index.jsx"],"sourcesContent":["import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfExpense = async (page, limit, search = \"\", order = \"\", isShowUnpaid, filters) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/expenses/`;\n  const options = {\n    method: 'GET',\n  };\n  // Build query parameters manually to avoid URL encoding issues\n  const queryParams = [];\n  queryParams.push(`limit=${limit}`);\n  queryParams.push(`offset=${offset}`);\n  if (search) queryParams.push(`search=${encodeURIComponent(search)}`);\n  if (order) queryParams.push(`ordering=${encodeURIComponent(order)}`);\n  if (isShowUnpaid) queryParams.push('status=not_paid');\n\n  let suppliersFilter = '';\n  if (filters?.suppliers) {\n    suppliersFilter = filters?.suppliers?.map(supplier => supplier.id).join(',');\n    console.log('Suppliers filter string:', suppliersFilter);\n    if (suppliersFilter) {\n      queryParams.push(`suppliers=${suppliersFilter}`); // Don't encode commas\n    }\n  }\n\n  let departmentsFilter = '';\n  if (filters?.departments) {\n    departmentsFilter = filters?.departments?.map(dept => dept.id).join(',');\n    if (departmentsFilter) {\n      queryParams.push(`departments=${departmentsFilter}`); // Don't encode commas\n    }\n  }\n\n  let statusFilter = '';\n  if (filters?.status && filters?.status?.length === 1) {\n    console.log('Status filter array:', filters.status);\n    filters?.status?.forEach(element => {\n      console.log('Processing status element:', element);\n      if (element?.name === 'paid') statusFilter = 'paid';\n      else if (element?.name === 'not_paid') statusFilter = 'not_paid';\n    });\n    if (statusFilter) {\n      console.log('Applied status filter:', statusFilter);\n      queryParams.push(`status=${statusFilter}`);\n    }\n  } else if (filters?.status) {\n    console.log('Status filter not applied - length:', filters.status.length, 'values:', filters.status);\n  }\n\n  if (filters?.date) {\n    const startDate = filters?.date[0]?.value?.[0];\n    if (startDate) {\n      const date = new Date(startDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      queryParams.push(`date_after=${year}-${month}-${day}`);\n    }\n\n    const endDate = filters?.date[0]?.value?.[1];\n    if (endDate) {\n      const date = new Date(endDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      queryParams.push(`date_before=${year}-${month}-${day}`);\n    }\n  }\n\n  // Build final URL with unencoded commas\n  const finalUrl = `${API_BASE_URL}${endpoint}?${queryParams.join('&')}`;\n  console.log('Final expenses API URL:', finalUrl);\n\n  return fetchAPI(finalUrl, options);\n};\n\nexport const getXeroCodesList = async () => {\n  const endpoint = `/references/xero-codes/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProjectsList = async () => {\n  const endpoint = `/references/projects/expenses/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getExpense = async (id) => {\n  const endpoint = `/expenses/update/${id}/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createNewExpense = async (data) => {\n  const endpoint = '/expenses/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateExpense = async (id, data) => {\n  const endpoint = `/expenses/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const paidExpense = async (data) => {\n  const endpoint = '/expenses/paid/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const unpaidExpense = async (data) => {\n  const endpoint = '/expenses/unpaid/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendExpenseToXeroApi = async (data) => {\n  const endpoint = `/expenses/to-xero/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteExpense = async (uniqueId) => {\n  const endpoint = `/expenses/delete/${uniqueId}/`;\n  const options = {\n    method: 'DELETE'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const downloadStatement = async (data) => {\n  const endpoint = '/clients/statement/pdf/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendStatementEmail = async (data) => {\n  const endpoint = '/clients/statement/send/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const assignCodeToSupplier = async (id, code) => {\n  const endpoint = `/suppliers/service-update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: { code }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","import { useQuery } from '@tanstack/react-query';\nimport { getTask } from '../../../../../APIs/task-api';\nimport CreateTask from '../create-task/create-task';\n\nconst ViewTaskModal = ({ view, setView, taskId, setTaskId, reInitialize }) => {\n  const { data, refetch, isFetching } = useQuery({\n    queryKey: ['taskId', taskId],\n    queryFn: () => getTask(taskId),\n    enabled: !!taskId && !!view,\n    retry: 1,\n    cacheTime: 0,\n    staleTime: 0,\n  });\n\n  return (\n    <>\n      {view && <CreateTask show={view} setShow={setView} taskId={taskId} setTaskId={setTaskId} defaultValue={data} refetch={reInitialize} refetchTask={refetch} isFetching={isFetching} />}\n    </>\n  );\n};\n\nexport default ViewTaskModal;","// extracted by mini-css-extract-plugin\nexport default {\"asanaEditorWrapper\":\"comment-editor_asanaEditorWrapper__1UAiy\",\"avatarWrapper\":\"comment-editor_avatarWrapper__HX3H9\",\"editorContainer\":\"comment-editor_editorContainer__5DNNe\",\"focused\":\"comment-editor_focused__A0TDm\",\"dragOver\":\"comment-editor_dragOver__3RQri\",\"disabled\":\"comment-editor_disabled__kEgBL\",\"inputArea\":\"comment-editor_inputArea__iqu88\",\"textInput\":\"comment-editor_textInput__BuSfR\",\"attachmentsPreview\":\"comment-editor_attachmentsPreview__2tXR3\",\"attachmentChip\":\"comment-editor_attachmentChip__tsAPk\",\"error\":\"comment-editor_error__Gh98k\",\"fileIcon\":\"comment-editor_fileIcon__9QnuH\",\"fileInfo\":\"comment-editor_fileInfo__Ak+Ca\",\"fileName\":\"comment-editor_fileName__NFnbx\",\"fileSize\":\"comment-editor_fileSize__I8VsI\",\"fileStatus\":\"comment-editor_fileStatus__O7zuJ\",\"removeChip\":\"comment-editor_removeChip__UIpfQ\",\"toolbar\":\"comment-editor_toolbar__H14ex\",\"toolbarLeft\":\"comment-editor_toolbarLeft__QjN7m\",\"toolbarRight\":\"comment-editor_toolbarRight__q1XK-\",\"toolbarIcon\":\"comment-editor_toolbarIcon__YrnT2\",\"emojiWrapper\":\"comment-editor_emojiWrapper__xJmG8\",\"emojiPickerDropdown\":\"comment-editor_emojiPickerDropdown__hdgWf\",\"commentBtn\":\"comment-editor_commentBtn__zCVYF\",\"active\":\"comment-editor_active__j2dE3\",\"imagePreviewChip\":\"comment-editor_imagePreviewChip__YNUuv\",\"removeImageBtn\":\"comment-editor_removeImageBtn__lUflP\",\"progressBar\":\"comment-editor_progressBar__PTWAG\",\"progressFill\":\"comment-editor_progressFill__lTJmW\"};","import React, { useRef, useState, useCallback, useEffect } from 'react';\nimport { EmojiSmile, FileEarmark, Image as ImageIcon, Paperclip, X } from 'react-bootstrap-icons';\nimport axios from 'axios';\nimport clsx from 'clsx';\nimport EmojiPicker from 'emoji-picker-react';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport { toast } from 'sonner';\nimport styles from './comment-editor.module.scss';\nimport { createTaskComment, getCommentPresignedUrl } from '../../../../../../APIs/task-api';\nimport { FallbackImage } from '../../../../../../shared/ui/image-with-fallback/image-avatar';\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\nconst CommentEditor = ({\n    taskId,\n    session,\n    onCommentAdded,\n    disabled = false,\n    commentsScrollRef\n}) => {\n    const [comment, setComment] = useState('');\n    const [attachments, setAttachments] = useState([]);\n    const [isDragOver, setIsDragOver] = useState(false);\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [uploadingFiles, setUploadingFiles] = useState([]);\n    const [isFocused, setIsFocused] = useState(false);\n\n    const editorRef = useRef(null);\n    const fileInputRef = useRef(null);\n    const dropZoneRef = useRef(null);\n    const emojiPickerRef = useRef(null);\n\n    // Close emoji picker when clicking outside\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n                setShowEmojiPicker(false);\n            }\n        };\n\n        if (showEmojiPicker) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [showEmojiPicker]);\n\n    // Handle emoji selection\n    const handleEmojiSelect = (emojiData) => {\n        setComment(prev => prev + emojiData.emoji);\n        setShowEmojiPicker(false);\n        editorRef.current?.focus();\n    };\n\n    // Upload file to S3 using presigned URL - matching create-job.js pattern\n    const uploadToS3 = async (file, url, fileId) => {\n        try {\n            const response = await axios.put(url, file, {\n                headers: {\n                    \"Content-Type\": \"\", // Empty content type like create-job.js\n                },\n                onUploadProgress: (progressEvent) => {\n                    const progress = Math.round(\n                        (progressEvent.loaded / progressEvent.total) * 100\n                    );\n                    setUploadingFiles(prev =>\n                        prev.map(f => f.id === fileId ? { ...f, progress, url } : f)\n                    );\n                },\n            });\n\n            // Mark as successfully uploaded\n            setUploadingFiles(prev =>\n                prev.map(f => f.id === fileId ? { ...f, progress: 100, uploaded: true } : f)\n            );\n\n            return response;\n        } catch (err) {\n            // Handle specific error types\n            let errorMessage = \"Upload failed\";\n\n            if (err.response) {\n                if (err.response.status === 403) {\n                    errorMessage = \"Permission denied (403 Forbidden)\";\n                } else {\n                    errorMessage = `Server error: ${err.response.status}`;\n                }\n            } else if (err.request) {\n                errorMessage = \"No response from server\";\n            } else {\n                errorMessage = err.message;\n            }\n\n            console.error(`Error uploading ${file.name}:`, errorMessage);\n\n            // Update file with error status\n            setUploadingFiles(prev =>\n                prev.map(f => f.id === fileId ? {\n                    ...f,\n                    progress: 0,\n                    error: true,\n                    errorMessage,\n                    uploadFailed: true\n                } : f)\n            );\n\n            return { error: true, message: errorMessage };\n        }\n    };\n\n    // Handle file upload\n    const handleFileUpload = async (files) => {\n        if (!taskId) {\n            toast.error('Save the task first before adding attachments');\n            return;\n        }\n\n        const validFiles = Array.from(files).filter(file => {\n            if (file.size > MAX_FILE_SIZE) {\n                toast.error(`${file.name} is too large. Max size is 10MB`);\n                return false;\n            }\n            return true;\n        });\n\n        if (validFiles.length === 0) return;\n\n        const newUploading = validFiles.map((file, index) => ({\n            id: `upload-${Date.now()}-${index}`,\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            progress: 0,\n            file,\n        }));\n\n        setUploadingFiles(prev => [...prev, ...newUploading]);\n\n        for (const uploadFile of newUploading) {\n            try {\n                // Get presigned URL\n                const response = await getCommentPresignedUrl(taskId, uploadFile.name, uploadFile.type);\n                const { url } = response;\n\n                if (!url) {\n                    console.error(`No URL returned for file: ${uploadFile.name}`);\n                    setUploadingFiles(prev =>\n                        prev.map(f => f.id === uploadFile.id ? { ...f, error: true, errorMessage: 'No URL returned' } : f)\n                    );\n                    continue;\n                }\n\n                // Upload to S3 using the signed URL\n                const result = await uploadToS3(uploadFile.file, url, uploadFile.id);\n\n                // Check if upload was successful\n                if (result && !result.error) {\n                    const fileUrl = url.split('?')[0];\n                    setAttachments(prev => [...prev, {\n                        id: uploadFile.id,\n                        name: uploadFile.name,\n                        url: fileUrl,\n                        type: uploadFile.type,\n                        size: uploadFile.size,\n                    }]);\n                    setUploadingFiles(prev => prev.filter(f => f.id !== uploadFile.id));\n                }\n            } catch (error) {\n                console.error('Error uploading file:', uploadFile.name, error);\n                setUploadingFiles(prev =>\n                    prev.map(f => f.id === uploadFile.id ? {\n                        ...f,\n                        progress: 0,\n                        error: true,\n                        errorMessage: error.message || 'Failed to get upload URL',\n                        uploadFailed: true\n                    } : f)\n                );\n            }\n        }\n    };\n\n    // Drag and drop handlers\n    const handleDragEnter = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(true);\n    }, []);\n\n    const handleDragLeave = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!dropZoneRef.current?.contains(e.relatedTarget)) {\n            setIsDragOver(false);\n        }\n    }, []);\n\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n    }, []);\n\n    const handleDrop = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(false);\n\n        const files = e.dataTransfer.files;\n        if (files.length > 0) {\n            handleFileUpload(files);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [taskId]);\n\n    // Paste handler for images\n    const handlePaste = useCallback((e) => {\n        const items = e.clipboardData?.items;\n        if (!items) return;\n\n        const files = [];\n        for (const item of items) {\n            if (item.kind === 'file') {\n                const file = item.getAsFile();\n                if (file) files.push(file);\n            }\n        }\n\n        if (files.length > 0) {\n            e.preventDefault();\n            handleFileUpload(files);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [taskId]);\n\n    // Remove attachment\n    const removeAttachment = (id) => {\n        setAttachments(prev => prev.filter(a => a.id !== id));\n    };\n\n    // Remove uploading file\n    const removeUploadingFile = (id) => {\n        setUploadingFiles(prev => prev.filter(f => f.id !== id));\n    };\n\n    // Submit comment\n    const handleSubmit = async () => {\n        if (!comment.trim() && attachments.length === 0) {\n            return;\n        }\n\n        if (!taskId) {\n            toast.error('Save the task first');\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        try {\n            // Support multiple attachments - store as JSON string\n            let attachmentUrls = null;\n            let attachmentTypes = null;\n\n            if (attachments.length > 0) {\n                if (attachments.length === 1) {\n                    // Single attachment - keep backward compatibility\n                    attachmentUrls = attachments[0].url;\n                    attachmentTypes = attachments[0].type;\n                } else {\n                    // Multiple attachments - store as JSON array string\n                    attachmentUrls = JSON.stringify(attachments.map(a => a.url));\n                    attachmentTypes = JSON.stringify(attachments.map(a => a.type));\n                }\n            }\n\n            await createTaskComment(taskId, {\n                comment: comment.trim(),\n                attachment_url: attachmentUrls,\n                attachment_type: attachmentTypes,\n                created_by: { role: session?.user?.role },\n            });\n\n            setComment('');\n            setAttachments([]);\n            onCommentAdded?.();\n\n            // Scroll to bottom\n            setTimeout(() => {\n                if (commentsScrollRef?.current) {\n                    commentsScrollRef.current.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'end',\n                    });\n                }\n            }, 500);\n        } catch (error) {\n            console.error('Error adding comment:', error);\n            toast.error('Failed to add comment. Please try again.');\n        } finally {\n            setIsSubmitting(false);\n            editorRef.current?.focus();\n        }\n    };\n\n    // Handle key press\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit();\n        }\n    };\n\n    // Get file icon based on type\n    const getFileIcon = (type) => {\n        if (type?.startsWith('image/')) {\n            return <ImageIcon size={16} />;\n        }\n        return <FileEarmark size={16} />;\n    };\n\n    // Format file size\n    const formatFileSize = (bytes) => {\n        if (bytes < 1024) return bytes + ' B';\n        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n    };\n\n    // Check if file is an image\n    const isImage = (type) => type?.startsWith('image/');\n\n    const hasContent = comment.trim() || attachments.length > 0;\n\n    return (\n        <div className={styles.asanaEditorWrapper}>\n            {/* User Avatar */}\n            <div className={styles.avatarWrapper}>\n                <FallbackImage\n                    photo={session?.photo}\n                    has_photo={session?.has_photo}\n                    is_business={false}\n                    size={20}\n                />\n            </div>\n\n            {/* Attachments Preview - Shows when there are attachments */}\n            {(attachments.length > 0 || uploadingFiles.length > 0) && (\n                <div className={styles.attachmentsPreview}>\n                    {/* Uploading Files */}\n                    {uploadingFiles.map(file => (\n                        isImage(file.type) ? (\n                            <div key={file.id} className={styles.imagePreviewChip}>\n                                <img src={URL.createObjectURL(file.file)} alt={file.name} />\n                                <button\n                                    className={styles.removeImageBtn}\n                                    onClick={() => removeUploadingFile(file.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={12} />\n                                </button>\n                                {!file.uploaded && !file.error && (\n                                    <div className={styles.progressBar}>\n                                        <div className={styles.progressFill} style={{ width: `${file.progress}%` }} />\n                                    </div>\n                                )}\n                            </div>\n                        ) : (\n                            <div key={file.id} className={clsx(styles.attachmentChip, file.error && styles.error)}>\n                                <div className={styles.fileIcon}>\n                                    {getFileIcon(file.type)}\n                                </div>\n                                <div className={styles.fileInfo}>\n                                    <span className={styles.fileName}>{file.name}</span>\n                                    <span className={styles.fileSize}>{formatFileSize(file.size)}</span>\n                                </div>\n                                <span className={clsx(styles.fileStatus, file.error && styles.error)}>\n                                    {file.error ? 'Failed' : `${file.progress}%`}\n                                </span>\n                                <button\n                                    className={styles.removeChip}\n                                    onClick={() => removeUploadingFile(file.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={14} />\n                                </button>\n                            </div>\n                        )\n                    ))}\n\n                    {/* Uploaded Attachments */}\n                    {attachments.map(attachment => (\n                        isImage(attachment.type) ? (\n                            <div key={attachment.id} className={styles.imagePreviewChip}>\n                                <img src={attachment.url} alt={attachment.name} />\n                                <button\n                                    className={styles.removeImageBtn}\n                                    onClick={() => removeAttachment(attachment.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={12} />\n                                </button>\n                            </div>\n                        ) : (\n                            <div key={attachment.id} className={styles.attachmentChip}>\n                                <div className={styles.fileIcon}>\n                                    {getFileIcon(attachment.type)}\n                                </div>\n                                <div className={styles.fileInfo}>\n                                    <span className={styles.fileName}>{attachment.name}</span>\n                                    <span className={styles.fileSize}>{formatFileSize(attachment.size)}</span>\n                                </div>\n                                <button\n                                    className={styles.removeChip}\n                                    onClick={() => removeAttachment(attachment.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={14} />\n                                </button>\n                            </div>\n                        )\n                    ))}\n                </div>\n            )}\n\n            {/* Editor Container - Asana Style */}\n            <div\n                className={clsx(\n                    styles.editorContainer,\n                    isFocused && styles.focused,\n                    isDragOver && styles.dragOver,\n                    disabled && styles.disabled\n                )}\n                ref={dropZoneRef}\n                onDragEnter={handleDragEnter}\n                onDragLeave={handleDragLeave}\n                onDragOver={handleDragOver}\n                onDrop={handleDrop}\n            >\n                {/* Text Input Area */}\n                <div className={styles.inputArea}>\n                    <input\n                        ref={editorRef}\n                        type=\"text\"\n                        className={styles.textInput}\n                        placeholder=\"Add a comment\"\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                        onKeyDown={handleKeyDown}\n                        onPaste={handlePaste}\n                        onFocus={() => setIsFocused(true)}\n                        onBlur={() => setIsFocused(false)}\n                        disabled={disabled || isSubmitting || !taskId}\n                    />\n                </div>\n\n                {/* Bottom Toolbar - Simplified */}\n                <div className={styles.toolbar}>\n                    <div className={styles.toolbarLeft}>\n                        {/* Emoji picker */}\n                        <div className={styles.emojiWrapper} ref={emojiPickerRef}>\n                            <button\n                                className={styles.toolbarIcon}\n                                type=\"button\"\n                                title=\"Add emoji\"\n                                disabled={disabled || !taskId}\n                                onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n                            >\n                                <EmojiSmile size={18} />\n                            </button>\n                            {showEmojiPicker && (\n                                <div className={styles.emojiPickerDropdown}>\n                                    <EmojiPicker\n                                        onEmojiClick={handleEmojiSelect}\n                                        theme=\"light\"\n                                        width={300}\n                                        height={350}\n                                        searchPlaceHolder=\"Search emoji...\"\n                                        previewConfig={{ showPreview: false }}\n                                    />\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Attach file */}\n                        <button\n                            className={styles.toolbarIcon}\n                            onClick={() => fileInputRef.current?.click()}\n                            type=\"button\"\n                            title=\"Attach file\"\n                            disabled={disabled || !taskId}\n                        >\n                            <Paperclip size={18} />\n                        </button>\n                        <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            multiple\n                            onChange={(e) => handleFileUpload(e.target.files)}\n                            style={{ display: 'none' }}\n                        />\n                    </div>\n\n                    <div className={styles.toolbarRight}>\n                        {/* Comment Button */}\n                        <Button\n                            onClick={handleSubmit}\n                            className={clsx(styles.commentBtn, hasContent && styles.active)}\n                            disabled={disabled || isSubmitting || !taskId || !hasContent}\n                        >\n                            {isSubmitting ? (\n                                <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"3\" />\n                            ) : (\n                                'Comment'\n                            )}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CommentEditor;\n","// extracted by mini-css-extract-plugin\nexport default {\"circleDesignStyle\":\"create-task_circleDesignStyle__vtKho\",\"out\":\"create-task_out__LG-iY\",\"taskTitleInput\":\"create-task_taskTitleInput__s+lNu\",\"formLabel\":\"create-task_formLabel__04J0h\",\"taskDescriptionInput\":\"create-task_taskDescriptionInput__RZWSI\",\"projectDropdown\":\"create-task_projectDropdown__qXb5+\",\"messageInputIcons\":\"create-task_messageInputIcons__Cj2vl\",\"attachButton\":\"create-task_attachButton__k6PEF\",\"emojiButton\":\"create-task_emojiButton__YPWSi\",\"commentButton\":\"create-task_commentButton__3T-po\",\"saveStatusWrapper\":\"create-task_saveStatusWrapper__1NhE+\",\"saveStatus\":\"create-task_saveStatus__6yreg\",\"fadeIn\":\"create-task_fadeIn__iRwYB\",\"saved\":\"create-task_saved__jqL5a\",\"error\":\"create-task_error__5CguB\",\"footerHint\":\"create-task_footerHint__acXGx\",\"sidebarFooter\":\"create-task_sidebarFooter__+ieeU\",\"taskFooter\":\"create-task_taskFooter__zplYw\",\"footerRight\":\"create-task_footerRight__UmNHb\"};","import React, { useState, useRef, useEffect } from 'react';\nimport { Calendar2Event } from \"react-bootstrap-icons\";\nimport { DateRangePickerCalendar } from '../../../../../shared/ui/date-range-picker-calendar';\n\nconst formatDateRange = (startDate, endDate) => {\n    const options = { month: 'short', day: 'numeric' };\n    const start = new Date(startDate).toLocaleDateString('en-US', options);\n    const end = new Date(endDate).toLocaleDateString('en-US', options);\n    return `${start} - ${end}`;\n};\n\nconst DateRangeComponent = ({ startDate, endDate }) => (\n    <div className='dateSelectdTaskBar'>\n        {formatDateRange(startDate, endDate)}\n    </div>\n);\n\nconst SelectDate = ({ setDateRange, dateRange }) => {\n    const [isPickerVisible, setIsPickerVisible] = useState(false);\n    const selectDateRef = useRef(null);\n\n    const togglePicker = () => setIsPickerVisible(prev => !prev);\n\n    const handleDataApply = (data) => {\n        setDateRange(data);\n        setIsPickerVisible(false);\n    };\n\n    const handleClickOutside = (event) => {\n        if (selectDateRef.current && !selectDateRef.current.contains(event.target)) {\n            setIsPickerVisible(false);\n        }\n    };\n\n    useEffect(() => {\n        if (isPickerVisible) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isPickerVisible]);\n\n    return (\n        <div className='select-date' style={{ position: 'relative' }} ref={selectDateRef}>\n            <div onClick={togglePicker} style={{ cursor: 'pointer' }}>\n                {dateRange?.startDate && dateRange?.endDate ? (\n                    <DateRangeComponent startDate={dateRange.startDate} endDate={dateRange.endDate} />\n                ) : (\n                    <div style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%'}} className={`iconStyleCircle d-flex justify-content-center align-items-center iconStyleCircleRight ${isPickerVisible ? 'active' : ''}`}>\n                        <Calendar2Event color={isPickerVisible ? \"#1AB2FF\" : \"#475467\"} size={14} />\n                    </div>\n                )}\n            </div>\n            {isPickerVisible && (\n                <div className='select-date-range' style={{ position: 'absolute', top: '-100px', background: '#fff', zIndex: 1000 }}>\n                    <DateRangePickerCalendar onDataApply={handleDataApply} dateRange={dateRange} onClose={() => setIsPickerVisible(false)} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default SelectDate;\n","// extracted by mini-css-extract-plugin\nexport default {\"commentsContainer\":\"task-comments_commentsContainer__9Qiud\",\"commentsHeader\":\"task-comments_commentsHeader__SxVw0\",\"commentsTitle\":\"task-comments_commentsTitle__f66k0\",\"commentsList\":\"task-comments_commentsList__NBm+d\",\"commentItem\":\"task-comments_commentItem__bv78f\",\"deleteButton\":\"task-comments_deleteButton__XLlzH\",\"userName\":\"task-comments_userName__EH9bR\",\"commentTime\":\"task-comments_commentTime__4eCW6\",\"commentText\":\"task-comments_commentText__rSHhj\",\"addCommentSection\":\"task-comments_addCommentSection__-KvEG\",\"avatar\":\"task-comments_avatar__GZ9fT\",\"loadMoreWrapper\":\"task-comments_loadMoreWrapper__TLDxd\",\"loadMoreBtn\":\"task-comments_loadMoreBtn__6oQeF\",\"loading\":\"task-comments_loading__3LE67\",\"commentAvatar\":\"task-comments_commentAvatar__Pc8rI\",\"commentHeader\":\"task-comments_commentHeader__T9R4I\",\"noComments\":\"task-comments_noComments__xAIGD\",\"attachmentContainer\":\"task-comments_attachmentContainer__QEIIm\",\"imageAttachment\":\"task-comments_imageAttachment__pMEwt\",\"attachmentImage\":\"task-comments_attachmentImage__3TpwU\",\"fileAttachment\":\"task-comments_fileAttachment__F5SBZ\",\"fileIconWrapper\":\"task-comments_fileIconWrapper__bozGA\",\"fileDetails\":\"task-comments_fileDetails__3maHd\",\"fileName\":\"task-comments_fileName__6bsXF\",\"fileAction\":\"task-comments_fileAction__bNX3c\"};","import { forwardRef, useImperativeHandle } from 'react';\nimport { FileEarmark } from 'react-bootstrap-icons';\nimport { useInfiniteQuery, useMutation } from '@tanstack/react-query';\nimport { toast } from 'sonner';\nimport styles from './task-comments.module.scss';\nimport { deleteTaskComment, getCommentsForTask } from '../../../../../APIs/task-api';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\n\n/**\n * Normalize API response  UI-friendly shape\n */\nconst normalizeComment = (c) => {\n    // Parse attachments - could be single URL or JSON array string\n    let attachmentUrls = [];\n    let attachmentTypes = [];\n\n    if (c.attachment_url) {\n        try {\n            // Try to parse as JSON array\n            const parsed = JSON.parse(c.attachment_url);\n            if (Array.isArray(parsed)) {\n                attachmentUrls = parsed;\n            } else {\n                attachmentUrls = [c.attachment_url];\n            }\n        } catch {\n            // Not JSON, treat as single URL\n            attachmentUrls = [c.attachment_url];\n        }\n    }\n\n    if (c.attachment_type) {\n        try {\n            const parsed = JSON.parse(c.attachment_type);\n            if (Array.isArray(parsed)) {\n                attachmentTypes = parsed;\n            } else {\n                attachmentTypes = [c.attachment_type];\n            }\n        } catch {\n            attachmentTypes = [c.attachment_type];\n        }\n    }\n\n    return {\n        id: c.id,\n        text: c.comment,\n        created_at: c.created_at,\n        attachments: attachmentUrls.map((url, index) => ({\n            url,\n            type: attachmentTypes[index] || 'application/octet-stream',\n        })),\n        // Keep backward compatibility\n        attachment_url: c.attachment_url || null,\n        attachment_type: c.attachment_type || null,\n        user: {\n            id: c.created_by?.id,\n            full_name: c.created_by?.full_name,\n            email: c.created_by?.email,\n            photo: c.created_by?.avatar,\n            role: c.created_by?.role,\n        },\n    };\n};\n\n/**\n * Time ago helper\n */\nconst formatTimeAgo = (timestamp) => {\n    const now = new Date();\n    const date = new Date(timestamp);\n    const diff = Math.floor((now - date) / (1000 * 60));\n\n    if (diff < 1) return 'Just now';\n    if (diff < 60) return `${diff} min ago`;\n    if (diff < 1440) return `${Math.floor(diff / 60)} hours ago`;\n    return `${Math.floor(diff / 1440)} days ago`;\n};\n\nconst TaskComments = forwardRef(({ taskId, usersMap = new Map() }, ref) => {\n    const {\n        data,\n        refetch,\n        fetchNextPage,\n        hasNextPage,\n        isFetchingNextPage,\n        isLoading,\n    } = useInfiniteQuery({\n        queryKey: ['task-comments', taskId],\n        queryFn: ({ pageParam }) =>\n            pageParam\n                ? fetch(pageParam).then(res => res.json())\n                : getCommentsForTask(taskId),\n        enabled: !!taskId,\n        getNextPageParam: (lastPage) => lastPage.next,\n    });\n\n    useImperativeHandle(ref, () => ({\n        refetchComments: () => refetch(),\n    }));\n\n    const deleteCommentMutation = useMutation({\n        mutationFn: deleteTaskComment,\n        onSuccess: () => {\n            toast.success('Comment deleted');\n            refetch();\n        },\n        onError: () => {\n            toast.error('Failed to delete comment');\n        },\n    });\n\n    /**\n     * Flatten + normalize + sort (oldest  newest)\n     */\n    const comments = data\n        ? data.pages\n            .slice()\n            .flatMap(page => page.results)\n            .map(normalizeComment)\n            .sort(\n                (a, b) =>\n                    new Date(a.created_at).getTime() -\n                    new Date(b.created_at).getTime()\n            )\n            .reverse()\n        : [];\n\n    if (isLoading) {\n        return <div className={styles.loading}>Loading comments</div>;\n    }\n\n    if (!comments.length) {\n        return (\n            <div className={styles.noComments}>No comments yet.</div>\n        );\n    }\n\n    const handleDeleteComment = (commentId) => {\n        deleteCommentMutation.mutate(commentId);\n    };\n\n    return (\n        <div className={styles.commentsContainer}>\n            {/* Load Older (Asana-style) */}\n            {hasNextPage && (\n                <div className={styles.loadMoreWrapper}>\n                    <button\n                        onClick={fetchNextPage}\n                        disabled={isFetchingNextPage}\n                        className={styles.loadMoreBtn}\n                    >\n                        {isFetchingNextPage\n                            ? 'Loading'\n                            : 'Load older comments'}\n                    </button>\n                </div>\n            )}\n\n            {/* Comments List */}\n            <div className={styles.commentsList}>\n                {comments.map((comment) => {\n                    // Get user data from usersMap if available, fallback to comment.user\n                    const userFromMap = usersMap.get(comment.user?.id);\n                    const avatarPhoto = userFromMap?.photo || comment.user?.photo;\n                    const hasPhoto = userFromMap?.has_photo || !!avatarPhoto;\n\n                    return (\n                        <div key={comment.id} className={styles.commentItem}>\n                            <div className=\"d-flex gap-3\">\n                                <div\n                                    className={styles.avatar}\n                                >\n                                    <FallbackImage\n                                        photo={avatarPhoto}\n                                        has_photo={hasPhoto}\n                                        is_business={false}\n                                        size={18}\n                                    />\n                                </div>\n\n                                <div className=\"flex-grow-1\" style={{ width: 'calc(100% - 50px)' }}>\n                                    <div className={styles.header}>\n                                        <span className={styles.userName}>\n                                            {comment.user?.full_name}\n                                        </span>\n                                        <span className={styles.commentTime}>\n                                             {formatTimeAgo(comment.created_at * 1000)}\n                                        </span>\n                                        <button\n                                            onClick={() => handleDeleteComment(comment.id)}\n                                            disabled={deleteCommentMutation.isPending}\n                                            className={styles.deleteButton}\n                                            style={{\n                                                marginLeft: '5px',\n                                                background: 'none',\n                                                border: 'none',\n                                                color: '#D92D20',\n                                                cursor: deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id ? 'not-allowed' : 'pointer',\n                                                fontSize: 12,\n                                                opacity: deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id ? 0.6 : 1,\n                                            }}\n                                        >\n                                            {deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id\n                                                ? 'Deleting...'\n                                                : 'Delete'}\n                                        </button>\n                                    </div>\n\n                                    <p className={styles.commentText}>\n                                        {comment.text}\n                                    </p>\n\n                                    {/* Attachments Display - supports multiple */}\n                                    {comment.attachments && comment.attachments.length > 0 && (\n                                        <div className={styles.attachmentContainer}>\n                                            {comment.attachments.map((attachment, index) => (\n                                                attachment.type?.startsWith('image/') ? (\n                                                    <a\n                                                        key={index}\n                                                        href={attachment.url}\n                                                        target=\"_blank\"\n                                                        rel=\"noopener noreferrer\"\n                                                        className={styles.imageAttachment}\n                                                    >\n                                                        <img\n                                                            src={attachment.url}\n                                                            alt={`Attachment ${index + 1}`}\n                                                            className={styles.attachmentImage}\n                                                        />\n                                                    </a>\n                                                ) : (\n                                                    <a\n                                                        key={index}\n                                                        href={attachment.url}\n                                                        target=\"_blank\"\n                                                        rel=\"noopener noreferrer\"\n                                                        className={styles.fileAttachment}\n                                                    >\n                                                        <div className={styles.fileIconWrapper}>\n                                                            <FileEarmark size={18} />\n                                                        </div>\n                                                        <div className={styles.fileDetails}>\n                                                            <span className={styles.fileName}>\n                                                                {attachment.url.split('/').pop()?.split('?')[0] || 'Attachment'}\n                                                            </span>\n                                                            <span className={styles.fileAction}>Click to download</span>\n                                                        </div>\n                                                    </a>\n                                                )\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n});\n\nexport default TaskComments;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Check, CheckCircle, Person, PlusCircle, X } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport debounce from 'lodash.debounce';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Sidebar } from 'primereact/sidebar';\nimport { Skeleton } from 'primereact/skeleton';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport { CommentEditor } from './comment-editor';\nimport styles from './create-task.module.scss';\nimport { getProjectsList } from '../../../../../APIs/expenses-api';\nimport { createNewTask, getMobileUserList, getUserList, updateTask } from '../../../../../APIs/task-api';\nimport { fetchTasksDelete, TaskCompleteJob } from '../../../../../APIs/TasksApi';\nimport { useAuth } from '../../../../../app/providers/auth-provider';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport SelectDate from '../../../../Business/Pages/management/task/select-date';\nimport TaskComments from '../task-comments/task-comments';\n\nexport const dateFormat = (dateInMiliSec) => {\n    if (!dateInMiliSec) return null;\n\n    const date = new Date(1000 * +dateInMiliSec);\n    return date;\n};\n\nconst CreateTask = ({ show, setShow, refetch, taskId, setTaskId, defaultValue, projectId, refetchTask = undefined, isFetching = false }) => {\n    const dropdownRef = useRef(null);\n    const textareaRef = useRef(null);\n    const commentsRef = useRef(null);\n    const commentsScrollRef = useRef(null);\n    const { session } = useAuth();\n    const [saveStatus, setSaveStatus] = useState('idle'); // 'idle' | 'saving' | 'saved' | 'error'\n    const [createdTaskId, setCreatedTaskId] = useState(null); // Track auto-created task\n\n    const [taskTitle, setTaskTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [project, setProject] = useState(\"\");\n    const [user, setUser] = useState(null);\n    const [date, setDate] = useState(null);\n    const [errors, setErrors] = useState({\n        taskTitle: false,\n        description: false,\n        project: false,\n        user: false,\n        date: false,\n    });\n\n    // Get the effective task ID (either passed in or auto-created)\n    const effectiveTaskId = taskId || createdTaskId;\n\n    useEffect(() => {\n        if (taskId && defaultValue) {\n            setTaskTitle(defaultValue?.title);\n            setDescription(defaultValue?.description);\n            setProject(defaultValue?.project?.id);\n            setUser(defaultValue?.user?.id);\n            setDate({ startDate: dateFormat(defaultValue?.from_date), endDate: dateFormat(defaultValue?.to_date) });\n        }\n    }, [taskId, defaultValue]);\n\n\n    const reset = () => {\n        refetch();\n        setTaskTitle(\"\");\n        setDescription(\"\");\n        setProject(\"\");\n        setUser(null);\n        setDate(null);\n        setSaveStatus('idle');\n        setCreatedTaskId(null);\n        previousValuesRef.current = null;\n        isInitialLoadRef.current = true;\n        setErrors({\n            taskTitle: false,\n            description: false,\n            project: false,\n            user: false,\n            date: false\n        });\n    };\n    const projectsList = useQuery({ queryKey: ['getProjectsList'], queryFn: getProjectsList });\n    const usersList = useQuery({ queryKey: ['getUserList'], queryFn: getUserList });\n    const mobileUsersList = useQuery({ queryKey: ['getMobileUserList'], queryFn: getMobileUserList });\n\n    // Create a user map for quick lookup by ID (used for assignee display and comment avatars)\n    const usersMap = React.useMemo(() => {\n        const map = new Map();\n        \n        // Add desktop users\n        usersList?.data?.users?.forEach((u) => {\n            map.set(u.id, {\n                id: u.id,\n                label: `${u.first_name} ${u.last_name}`.trim() || u.first_name || \"-\",\n                photo: u.photo || \"\",\n                has_photo: u.has_photo,\n            });\n        });\n        \n        // Add mobile users\n        mobileUsersList?.data?.users?.forEach((u) => {\n            if (!map.has(u.id)) {\n                map.set(u.id, {\n                    id: u.id,\n                    label: `${u.first_name} ${u.last_name}`.trim() || u.first_name || \"-\",\n                    photo: u.photo || \"\",\n                    has_photo: u.has_photo,\n                });\n            }\n        });\n        \n        return map;\n    }, [usersList?.data?.users, mobileUsersList?.data?.users]);\n\n    useEffect(() => {\n        if (!show) reset();\n    }, [show]);\n\n    // Create task mutation (for new tasks)\n    const createMutation = useMutation({\n        mutationFn: (data) => createNewTask(data),\n        onSuccess: (response) => {\n            setCreatedTaskId(response?.id);\n            setSaveStatus('saved');\n            // refetch();\n            toast.success('Task created');\n            setTimeout(() => setSaveStatus('idle'), 2000);\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n            setSaveStatus('error');\n            toast.error('Failed to create task');\n        }\n    });\n\n    // Update task mutation (for existing tasks)\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateTask(effectiveTaskId, data),\n        onSuccess: () => {\n            setSaveStatus('saved');\n            // refetch();\n            setTimeout(() => setSaveStatus('idle'), 2000);\n        },\n        onError: (error) => {\n            console.error('Error updating task:', error);\n            setSaveStatus('error');\n            toast.error('Failed to save changes');\n        }\n    });\n\n    // Track previous values for comparison to avoid unnecessary API calls\n    const previousValuesRef = useRef(null);\n    const isInitialLoadRef = useRef(true);\n\n    // Auto-save function ref to avoid stale closures\n    const autoSaveRef = useRef(null);\n\n    // Update ref when dependencies change\n    useEffect(() => {\n        autoSaveRef.current = () => {\n            // Only require title to create/save task\n            if (!taskTitle?.trim()) {\n                return;\n            }\n\n            const taskData = {\n                title: taskTitle,\n                description: description || '',\n                ...(project && { project }),\n                ...(user && { user }),\n                ...(date?.startDate && { from_date: date.startDate }),\n                ...(date?.endDate && { to_date: date.endDate }),\n            };\n\n            // Create a comparable string of current values\n            const currentValues = JSON.stringify({\n                title: taskTitle,\n                description: description || '',\n                project: project || null,\n                user: user || null,\n                fromDate: date?.startDate?.toString() || null,\n                toDate: date?.endDate?.toString() || null,\n            });\n\n            // Skip if values haven't changed\n            if (previousValuesRef.current === currentValues) {\n                return;\n            }\n\n            // Skip initial load when editing existing task\n            if (isInitialLoadRef.current && effectiveTaskId) {\n                isInitialLoadRef.current = false;\n                previousValuesRef.current = currentValues;\n                return;\n            }\n\n            // Update previous values\n            previousValuesRef.current = currentValues;\n            isInitialLoadRef.current = false;\n\n            setSaveStatus('saving');\n\n            if (effectiveTaskId) {\n                updateMutation.mutate(taskData);\n            } else {\n                createMutation.mutate(taskData);\n            }\n        };\n    }, [taskTitle, description, project, user, date, effectiveTaskId, updateMutation, createMutation]);\n\n    // Debounced auto-save (1.5 seconds after last change)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const debouncedAutoSave = useCallback(\n        debounce(() => {\n            autoSaveRef.current?.();\n        }, 1500),\n        []\n    );\n\n    // Trigger auto-save when form fields change\n    useEffect(() => {\n        if (show && taskTitle?.trim()) {\n            debouncedAutoSave();\n        }\n        return () => {\n            debouncedAutoSave.cancel?.();\n        };\n    }, [taskTitle, description, project, user, date, show, debouncedAutoSave]);\n\n    const deleteMutation = useMutation({\n        mutationFn: () => fetchTasksDelete(effectiveTaskId),\n        onSuccess: () => {\n            console.log('Delete success');\n            setShow(false);\n            refetch();\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n        }\n    });\n\n    // Mark Complete mutation\n    const markCompleteMutation = useMutation({\n        mutationFn: (finished) => TaskCompleteJob(effectiveTaskId, finished),\n        onSuccess: (_, finished) => {\n            toast.success(finished ? 'Task marked as complete' : 'Task marked as incomplete');\n            refetchTask?.();\n        },\n        onError: (error) => {\n            console.error('Error updating task status:', error);\n            toast.error('Failed to update task status');\n        }\n    });\n\n    const handleMarkComplete = () => {\n        const isCurrentlyComplete = defaultValue?.finished;\n        markCompleteMutation.mutate(!isCurrentlyComplete);\n    };\n\n    const handleDelete = () => {\n        deleteMutation.mutate();\n    };\n\n    // Handle comment added callback\n    const handleCommentAdded = () => {\n        commentsRef.current?.refetchComments();\n    };\n\n\n    useEffect(() => {\n        setTimeout(() => {\n            if (textareaRef.current) {\n                textareaRef.current.style.height = \"auto\";\n                textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n            }\n        }, 200);\n    }, [description, taskId]);\n\n    useEffect(() => {\n        if (projectId) {\n            setProject(+projectId);\n        }\n    }, [projectId]);\n\n    return (\n        <Sidebar visible={show} position=\"right\" onHide={() => { setShow(false); if (taskId) setTaskId(null); reset(); }} modal={false} dismissable={false} style={{ width: '591px', height: '97vh', borderRadius: '10px', marginRight: '10px' }}\n            content={({ closeIconRef, hide }) => (\n                <div className='create-sidebar d-flex flex-column'>\n                    <div className=\"d-flex align-items-center justify-content-between flex-shrink-0\" style={{ borderBottom: '1px solid #EAECF0', padding: '24px' }}>\n                        <div className=\"d-flex align-items-center gap-2\">\n                            <div className={styles.circleDesignStyle}>\n                                <div className={styles.out}>\n                                    <PlusCircle size={24} color=\"#17B26A\" />\n                                </div>\n                            </div>\n                            <span style={{ color: '344054', fontSize: '20px', fontWeight: 600 }}>{effectiveTaskId ? \"Edit\" : \"Create New\"} Task</span>\n                            {/* Save Status Indicator */}\n                            <div className={styles.saveStatusWrapper}>\n                                {saveStatus === 'saving' && (\n                                    <div className={styles.saveStatus}>\n                                        <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"3\" />\n                                        <span>Saving...</span>\n                                    </div>\n                                )}\n                                {saveStatus === 'saved' && (\n                                    <div className={clsx(styles.saveStatus, styles.saved)}>\n                                        <Check size={14} />\n                                        <span>Saved</span>\n                                    </div>\n                                )}\n                                {saveStatus === 'error' && (\n                                    <div className={clsx(styles.saveStatus, styles.error)}>\n                                        <span>Save failed</span>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        <span>\n                            <Button type=\"button\" className='text-button' ref={closeIconRef} onClick={(e) => hide(e)}>\n                                <X size={24} color='#667085' />\n                            </Button>\n                        </span>\n                    </div>\n                    <div className='modal-body' style={{ height: 'calc(100vh - 72px - 200px)', overflow: 'auto' }}>\n                        {/* Skeleton Loading State */}\n                        {isFetching && taskId ? (\n                            <div className='task-content' style={{ padding: '24px' }}>\n                                {/* Title Skeleton */}\n                                <Skeleton width=\"70%\" height=\"28px\" className=\"mb-3\" />\n                                \n                                {/* Assignee Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center pt-2'>\n                                        <Skeleton width=\"80px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8} className='d-flex align-items-center'>\n                                        <Skeleton shape=\"circle\" size=\"24px\" className=\"me-2\" />\n                                        <Skeleton width=\"120px\" height=\"22px\" style={{ marginLeft: '8px' }} />\n                                    </Col>\n                                </Row>\n\n                                {/* Due Date Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center'>\n                                        <Skeleton width=\"80px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8}>\n                                        <Skeleton width=\"180px\" height=\"22px\" />\n                                    </Col>\n                                </Row>\n\n                                {/* Project Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center pt-3'>\n                                        <Skeleton width=\"100px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8}>\n                                        <Skeleton width=\"200px\" height=\"46px\" borderRadius=\"8px\" />\n                                    </Col>\n                                </Row>\n\n                                {/* Description Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4}>\n                                        <Skeleton width=\"90px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={12} className=\"mt-2\">\n                                        <Skeleton width=\"100%\" height=\"120px\" borderRadius=\"8px\" />\n                                    </Col>\n                                </Row>\n                            </div>\n                        ) : (\n                        <div className='task-content' style={{ padding: '24px' }}>\n                            <Form.Control\n                                type=\"text\"\n                                name='taskTitle'\n                                id='taskTitle'\n                                placeholder=\"Enter task title\"\n                                value={taskTitle}\n                                onChange={(e) => setTaskTitle(e.target.value)}\n                                className={styles.taskTitleInput}\n                            />\n                            {errors.taskTitle && <Form.Text className=\"error-message\">Task title is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center pt-2'>\n                                    <Form.Label className={styles.formLabel}>Assignee</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    {!user && <div className='d-flex align-items-center justify-content-center' onClick={() => dropdownRef.current?.show()} style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%' }}><Person\n                                        color={dropdownRef.current?.panel?.element?.offsetParent ? \"#1AB2FF\" : \"#475467\"}\n                                        size={18}\n                                        className='cursor-pointer' />\n                                    </div>}\n                                    <Dropdown\n                                        ref={dropdownRef}\n                                        options={[\n                                            {\n                                                label: 'Desktop User',\n                                                items: usersList?.data?.users?.filter((user) => user?.is_active)?.map((user) => ({\n                                                    value: user?.id,\n                                                    label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                    photo: user?.photo || \"\",\n                                                    has_photo: user?.has_photo\n                                                })) || []\n                                            },\n                                            ...(session?.has_work_subscription\n                                                ? [\n                                                    {\n                                                        label: 'Mobile User',\n                                                        items:\n                                                            mobileUsersList?.data?.users\n                                                                ?.filter((user) => user?.status !== 'disconnected')\n                                                                ?.map((user) => ({\n                                                                    value: user?.id,\n                                                                    label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                                    photo: user?.photo || \"\",\n                                                                    has_photo: user?.has_photo,\n                                                                })) || [],\n                                                    },\n                                                ]\n                                                : []),\n                                        ]}\n                                        onChange={(e) => {\n                                            setUser(e.value);\n                                        }}\n                                        valueTemplate={(option) => {\n                                            // When using grouped options, option might be the raw value (ID) not the object\n                                            // We use usersMap to get the correct user data\n                                            const userId = typeof option === 'object' ? option?.value : option;\n                                            const userData = usersMap.get(userId);\n                                            \n                                            if (!userData) return null;\n\n                                            return <div className='d-flex gap-2 align-items-center' style={{ position: 'relative', left: '-10px' }}>\n                                                <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                    <FallbackImage photo={userData?.photo} has_photo={userData?.has_photo} is_business={false} size={17} />\n                                                </div>\n                                                {userData?.label}\n                                            </div>;\n                                        }}\n                                        itemTemplate={(option) => {\n                                            return (\n                                                <div className='d-flex gap-2 align-items-center'>\n                                                    <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                        <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                                    </div>\n                                                    {option?.label}\n                                                </div>\n                                            );\n                                        }}\n                                        className='outline-none border-0 p-0'\n                                        style={{\n                                            width: !user ? '0px' : 'fit-content',\n                                            height: !user ? '0px' : '46px',\n                                            zIndex: !user ? '0' : '1',\n                                            position: 'relative',\n                                            left: !user ? '-60px' : '-4px',\n                                            top: !user ? '-15px' : '0px',\n                                        }}\n                                        value={user}\n                                        dropdownIcon={<></>}\n                                        collapseIcon={<></>}\n                                        placeholder=\"Select project\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                        optionGroupLabel=\"label\"\n                                        optionGroupChildren=\"items\"\n                                        scrollHeight=\"400px\"\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.user && <Form.Text className=\"error-message\">User is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center'>\n                                    <Form.Label className={styles.formLabel}>Due Date</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    <SelectDate dateRange={date} setDateRange={setDate} />\n                                </Col>\n                            </Row>\n                            {errors.date && <Form.Text className=\"error-message\">Date is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center pt-3'>\n                                    <Form.Label className={styles.formLabel}>Link to Project</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    <Dropdown\n                                        options={projectsList?.data?.map((project) => ({\n                                            value: project.id,\n                                            label: `${project.number}: ${project.reference}`\n                                        })) || []}\n                                        onChange={(e) => {\n                                            setProject(e.value);\n                                        }}\n                                        className={clsx('outline-none', styles.projectDropdown)}\n                                        style={{ height: '46px', maxWidth: '100%', width: 'fit-content' }}\n                                        value={project}\n                                        loading={projectsList?.isFetching}\n                                        placeholder=\"Select project\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                        panelStyle={{ maxHeight: '400px', width: '591px' }}\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.project && <Form.Text className=\"error-message\">Project task is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4}>\n                                    <Form.Label className={styles.formLabel}>Description</Form.Label>\n                                </Col>\n                                <Col sm={12}>\n                                    <Form.Control\n                                        name='taskDescription'\n                                        id='taskDescription'\n                                        as=\"textarea\"\n                                        placeholder='Enter a description...'\n                                        value={description}\n                                        rows={2}\n                                        ref={textareaRef}\n                                        onChange={(e) => {\n                                            setDescription(e.target.value);\n                                        }}\n                                        className={styles.taskDescriptionInput}\n                                        onInput={(e) => {\n                                            e.target.style.height = \"auto\"; // reset\n                                            e.target.style.height = e.target.scrollHeight + \"px\"; // grow\n                                        }}\n                                        onFocus={() => {\n                                            if (textareaRef.current) {\n                                                textareaRef.current.style.height = \"auto\";\n                                                textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n                                            }\n                                        }}\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.description && <Form.Text className=\"error-message\">Description is required</Form.Text>}\n                        </div>\n                        )}\n                        {/* Comments Section */}\n                        {effectiveTaskId && (\n                            <div className='border-top' style={{ background: '#F2F3F4', padding: '12px 24px' }}>\n                                <Form.Label className={styles.formLabel}>Comments</Form.Label>\n                                <div ref={commentsScrollRef}>\n                                    <TaskComments taskId={effectiveTaskId} ref={commentsRef} usersMap={usersMap} />\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    <div className={styles.sidebarFooter}>\n                        {/* Enhanced Comment Editor */}\n                        <CommentEditor\n                            taskId={effectiveTaskId}\n                            session={session}\n                            onCommentAdded={handleCommentAdded}\n                            disabled={!effectiveTaskId}\n                            commentsScrollRef={commentsScrollRef}\n                        />\n\n                        {/* Footer with Mark Complete and Delete buttons */}\n                        <div className={styles.taskFooter}>\n                            <Button\n                                disabled={!effectiveTaskId || markCompleteMutation.isPending}\n                                className={defaultValue?.finished ? 'outline-in-complete-button' : 'outline-complete-button'}\n                                onClick={handleMarkComplete}\n                            >\n                                {defaultValue?.finished ? 'Completed' : 'Mark Complete'}\n                                <CheckCircle size={16} color='#079455' />\n\n                                {markCompleteMutation.isPending && (\n                                    <ProgressSpinner style={{ width: '16px', height: '16px' }} strokeWidth=\"3\" />\n                                )}\n                            </Button>\n                            <div className={styles.footerRight}>\n                                <span className={styles.footerHint}>\n                                    {saveStatus === 'saving' && 'Saving...'}\n                                    {saveStatus === 'saved' && 'Changes saved'}\n                                    {saveStatus === 'idle' && 'Auto-save enabled'}\n                                </span>\n                                <Button className='danger-text-button' onClick={handleDelete} disabled={!effectiveTaskId}>\n                                    Delete\n                                    {deleteMutation.isPending && <ProgressSpinner style={{ width: '18px', height: '18px' }} />}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        ></Sidebar>\n    );\n};\n\nexport default CreateTask;","const API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasks = async (limit, offset) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> View Task API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksRead = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Update API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUpdate= async (mainData,taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify(mainData)\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task partials Update API  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const partialsTasksUpdate= async (taskId, data) => {\n  console.log('taskId: ', taskId);\n  console.log('data: ', data);\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PATCH',\n    headers: myHeaders,\n    body: JSON.stringify(data),\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Partials update error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Create API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksNew = async (formData) => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: JSON.stringify(formData), // Serialize formData directly here\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/tasks/new/`, requestOptions);\n    const result = await response.text();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Project API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksProject = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/projects/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Uses API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUsers = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/all-users/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DELETE Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksDelete = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'DELETE',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/delete/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    if (response.ok) \n    return { message: 'Task deleted successfully' };\n    else\n    throw new Error(\"Error during deleting\"); \n    \n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Complete Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const TaskCompleteJob = async (taskId, finished) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const raw = JSON.stringify({\n    \"finished\": finished\n  });\n\n  const requestOptions = {\n    method: \"PATCH\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/complete/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfTasks = async (page, limit, search = \"\", order = \"\", isShowDeleted = false, showNotCompleted = false, userId) => {\n    const offset = (page - 1) * limit;\n    const endpoint = `/tasks/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n    if (search) url.searchParams.append(\"search\", search);\n    if (order) url.searchParams.append(\"ordering\", order);\n    if (isShowDeleted) url.searchParams.append('deleted', 1);\n    if (showNotCompleted === true) url.searchParams.append('finished', false);\n    if (showNotCompleted === false) url.searchParams.append('finished', true);\n    if (userId) url.searchParams.append('users', userId);\n\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getTask = async (id) => {\n    const endpoint = `/tasks/${id}/`;\n    const options = {\n        method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createNewTask = async (data) => {\n    const endpoint = '/tasks/new/';\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateTask = async (id, data) => {\n    const endpoint = `/tasks/update/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getUserList = async () => {\n    const endpoint = `/desktop-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getMobileUserList = async () => {\n    const endpoint = `/team/mobile-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getCommentsForTask = async (taskId) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createTaskComment = async (taskId, payload) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'POST',\n        body: payload,\n    });\n};\n\nexport const deleteTaskComment = async (commentId) => {\n    const endpoint = `/tasks/comments/${commentId}/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'DELETE',\n    });\n};\n\nexport const getCommentPresignedUrl = async (taskId, filename, attachmentType) => {\n    const endpoint = `/tasks/comments/presigned-url/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'POST',\n        body: { file_name: filename, task_id: taskId, attachment_type: attachmentType },\n    });\n};\n\nexport const updateTaskComment = async (commentId, payload) => {\n    const endpoint = `/tasks/comments/${commentId}/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'PUT',\n        body: payload,\n    });\n};","import React, { useCallback, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { Calendar } from 'primereact/calendar';\nimport { ChevronLeftIcon } from 'primereact/icons/chevronleft';\nimport { ChevronRightIcon } from 'primereact/icons/chevronright';\nimport './date-range-picker-calendar.scss';\n\n/**\n * DateRangePickerCalendar - A Calendar component for selecting date ranges\n * \n * @param {Object} props - Component props\n * @param {Function} props.onDataApply - Callback when date range is applied ({ startDate, endDate })\n * @param {Object} props.dateRange - Initial date range { startDate, endDate }\n * @param {Function} props.onClose - Callback when picker is closed/cancelled\n * @param {string} props.className - Additional CSS classes\n */\nexport const DateRangePickerCalendar = ({\n    onDataApply,\n    dateRange,\n    onClose,\n    className = '',\n}) => {\n    const [dates, setDates] = useState(null);\n\n    // Initialize with provided dateRange\n    useEffect(() => {\n        if (dateRange?.startDate && dateRange?.endDate) {\n            const start = dateRange.startDate instanceof Date ? dateRange.startDate : new Date(dateRange.startDate);\n            const end = dateRange.endDate instanceof Date ? dateRange.endDate : new Date(dateRange.endDate);\n            setDates([start, end]);\n        }\n    }, [dateRange]);\n\n    // Handle Apply\n    const handleApply = useCallback(() => {\n        if (dates && dates.length === 2 && dates[0] && dates[1]) {\n            onDataApply({ startDate: dates[0], endDate: dates[1] });\n        } else if (dates && dates.length === 1 && dates[0]) {\n            // If only one date selected, use it as both start and end\n            onDataApply({ startDate: dates[0], endDate: dates[0] });\n        }\n    }, [dates, onDataApply]);\n\n    // Handle Cancel\n    const handleCancel = useCallback(() => {\n        setDates(null);\n        if (onClose) onClose();\n    }, [onClose]);\n\n    // Handle Today\n    const handleToday = useCallback(() => {\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        setDates([today, today]);\n    }, []);\n\n    // Custom footer template\n    const footerTemplate = useCallback(() => {\n        const hasValidRange = dates && dates.length >= 1 && dates[0];\n        \n        return (\n            <div className=\"date-range-footer\">\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-today\" \n                    onClick={handleToday}\n                >\n                    Today\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-cancel\" \n                    onClick={handleCancel}\n                >\n                    Cancel\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-apply\" \n                    onClick={handleApply}\n                    disabled={!hasValidRange}\n                >\n                    Apply\n                </button>\n            </div>\n        );\n    }, [dates, handleToday, handleCancel, handleApply]);\n\n    // Format selected range for display\n    const getHeaderText = useCallback(() => {\n        if (!dates || dates.length === 0) return 'Select date range';\n        \n        const options = { month: 'short', day: 'numeric', year: 'numeric' };\n        const start = dates[0]?.toLocaleDateString('en-US', options) || '';\n        const end = dates[1]?.toLocaleDateString('en-US', options) || '';\n        \n        if (start && end) {\n            return `${start} - ${end}`;\n        } else if (start) {\n            return `${start} - Select end date`;\n        }\n        return 'Select date range';\n    }, [dates]);\n\n    return (\n        <div className={clsx('date-range-picker-calendar', className)}>\n            <div className=\"date-range-header\">\n                <span className=\"date-range-header-text\">{getHeaderText()}</span>\n            </div>\n            <Calendar\n                value={dates}\n                onChange={(e) => setDates(e.value)}\n                selectionMode=\"range\"\n                inline\n                numberOfMonths={1}\n                locale=\"en\"\n                dateFormat=\"dd M yy\"\n                footerTemplate={footerTemplate}\n                firstDayOfWeek={1}\n                showButtonBar={false}\n                prevIcon={<ChevronLeftIcon />}\n                nextIcon={<ChevronRightIcon />}\n            />\n        </div>\n    );\n};\n\nexport default DateRangePickerCalendar;\n"],"names":["API_BASE_URL","process","getListOfExpense","async","page","limit","_filters$status","search","arguments","length","undefined","order","isShowUnpaid","filters","offset","queryParams","push","encodeURIComponent","suppliersFilter","_filters$suppliers","suppliers","map","supplier","id","join","console","log","departmentsFilter","_filters$departments","departments","dept","statusFilter","_filters$status2","status","forEach","element","name","date","_filters$date$","_filters$date$$value","_filters$date$2","_filters$date$2$value","startDate","value","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","endDate","finalUrl","fetchAPI","method","getXeroCodesList","url","URL","toString","getProjectsList","getExpense","createNewExpense","options","body","data","updateExpense","paidExpense","unpaidExpense","sendExpenseToXeroApi","deleteExpense","uniqueId","downloadStatement","sendStatementEmail","assignCodeToSupplier","code","_ref","view","setView","taskId","setTaskId","reInitialize","refetch","isFetching","useQuery","queryKey","queryFn","getTask","enabled","retry","cacheTime","staleTime","_jsx","_Fragment","children","CreateTask","show","setShow","defaultValue","refetchTask","session","onCommentAdded","disabled","commentsScrollRef","comment","setComment","useState","attachments","setAttachments","isDragOver","setIsDragOver","showEmojiPicker","setShowEmojiPicker","isSubmitting","setIsSubmitting","uploadingFiles","setUploadingFiles","isFocused","setIsFocused","editorRef","useRef","fileInputRef","dropZoneRef","emojiPickerRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","uploadToS3","file","fileId","response","axios","put","headers","onUploadProgress","progressEvent","progress","Math","round","loaded","total","prev","f","uploaded","err","errorMessage","request","message","error","uploadFailed","handleFileUpload","toast","validFiles","Array","from","files","filter","size","newUploading","index","now","type","uploadFile","getCommentPresignedUrl","result","fileUrl","split","handleDragEnter","useCallback","e","preventDefault","stopPropagation","handleDragLeave","_dropZoneRef$current","relatedTarget","handleDragOver","handleDrop","dataTransfer","handlePaste","_e$clipboardData","items","clipboardData","item","kind","getAsFile","removeAttachment","a","removeUploadingFile","handleSubmit","trim","_session$user","attachmentUrls","attachmentTypes","JSON","stringify","createTaskComment","attachment_url","attachment_type","created_by","role","user","setTimeout","scrollIntoView","behavior","block","_editorRef$current2","focus","getFileIcon","startsWith","ImageIcon","FileEarmark","formatFileSize","bytes","toFixed","isImage","hasContent","_jsxs","className","styles","FallbackImage","photo","has_photo","is_business","src","createObjectURL","alt","onClick","X","style","width","clsx","attachment","ref","onDragEnter","onDragLeave","onDragOver","onDrop","placeholder","onChange","onKeyDown","key","shiftKey","onPaste","onFocus","onBlur","title","EmojiSmile","EmojiPicker","onEmojiClick","emojiData","_editorRef$current","emoji","theme","height","searchPlaceHolder","previewConfig","showPreview","_fileInputRef$current","click","Paperclip","multiple","display","Button","ProgressSpinner","strokeWidth","formatDateRange","toLocaleDateString","DateRangeComponent","_ref2","setDateRange","dateRange","isPickerVisible","setIsPickerVisible","selectDateRef","position","togglePicker","cursor","border","borderRadius","Calendar2Event","color","top","background","zIndex","DateRangePickerCalendar","onDataApply","onClose","normalizeComment","c","_c$created_by","_c$created_by2","_c$created_by3","_c$created_by4","_c$created_by5","parsed","parse","isArray","text","created_at","full_name","email","avatar","formatTimeAgo","timestamp","diff","floor","forwardRef","usersMap","Map","fetchNextPage","hasNextPage","isFetchingNextPage","isLoading","useInfiniteQuery","pageParam","fetch","then","res","json","getCommentsForTask","getNextPageParam","lastPage","next","useImperativeHandle","refetchComments","deleteCommentMutation","useMutation","mutationFn","deleteTaskComment","onSuccess","success","onError","comments","pages","slice","flatMap","results","sort","b","getTime","reverse","loading","noComments","commentsContainer","loadMoreWrapper","loadMoreBtn","commentsList","_comment$user","_comment$user2","_comment$user3","userFromMap","get","avatarPhoto","hasPhoto","commentItem","header","userName","commentTime","handleDeleteComment","commentId","mutate","isPending","deleteButton","marginLeft","variables","fontSize","opacity","commentText","attachmentContainer","_attachment$type","_attachment$url$split","href","rel","imageAttachment","attachmentImage","fileAttachment","fileIconWrapper","fileDetails","fileName","pop","fileAction","dateFormat","dateInMiliSec","_usersList$data2","_mobileUsersList$data3","projectId","dropdownRef","textareaRef","commentsRef","useAuth","saveStatus","setSaveStatus","createdTaskId","setCreatedTaskId","taskTitle","setTaskTitle","description","setDescription","project","setProject","setUser","setDate","errors","setErrors","effectiveTaskId","_defaultValue$project","_defaultValue$user","from_date","to_date","reset","previousValuesRef","isInitialLoadRef","projectsList","usersList","getUserList","mobileUsersList","getMobileUserList","React","_usersList$data","_usersList$data$users","_mobileUsersList$data","_mobileUsersList$data2","users","u","set","label","first_name","last_name","has","createMutation","createNewTask","updateMutation","updateTask","autoSaveRef","_date$startDate","_date$endDate","taskData","currentValues","fromDate","toDate","debouncedAutoSave","debounce","_autoSaveRef$current","call","_debouncedAutoSave$ca","cancel","deleteMutation","fetchTasksDelete","markCompleteMutation","finished","TaskCompleteJob","_","handleMarkComplete","isCurrentlyComplete","handleDelete","handleCommentAdded","_commentsRef$current","scrollHeight","Sidebar","visible","onHide","modal","dismissable","marginRight","content","_dropdownRef$current2","_dropdownRef$current3","_dropdownRef$current4","_usersList$data3","_usersList$data3$user","_usersList$data3$user2","_mobileUsersList$data4","_mobileUsersList$data5","_mobileUsersList$data6","_projectsList$data","closeIconRef","hide","borderBottom","padding","PlusCircle","fontWeight","Check","overflow","Skeleton","Row","Col","sm","shape","Form","Control","Text","Label","_dropdownRef$current","Person","panel","offsetParent","Dropdown","is_active","has_work_subscription","valueTemplate","option","userId","userData","left","itemTemplate","dropdownIcon","collapseIcon","filterInputAutoFocus","optionGroupLabel","optionGroupChildren","SelectDate","number","reference","maxWidth","panelStyle","maxHeight","as","rows","onInput","TaskComments","CommentEditor","CheckCircle","fetchTasksRead","myHeaders","Headers","accessToken","localStorage","getItem","append","requestOptions","redirect","ok","Error","getListOfTasks","isShowDeleted","showNotCompleted","searchParams","payload","filename","attachmentType","file_name","task_id","dates","setDates","start","end","handleApply","handleCancel","handleToday","today","setHours","footerTemplate","hasValidRange","getHeaderText","_dates$","_dates$2","Calendar","selectionMode","inline","numberOfMonths","locale","firstDayOfWeek","showButtonBar","prevIcon","ChevronLeftIcon","nextIcon","ChevronRightIcon"],"sourceRoot":""}