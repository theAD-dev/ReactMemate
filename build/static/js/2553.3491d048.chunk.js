"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[2553],{14834:(e,t,s)=>{function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=parseFloat(e);return isNaN(s)?"0.00":t&&Math.abs(s)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(s):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}s.d(t,{m:()=>a})},31342:(e,t,s)=>{s.d(t,{f:()=>a});const a=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:a="GET",headers:i={},body:r}=t,o=localStorage.getItem("access_token"),n=r instanceof FormData,c={"Content-Type":n?"multipart/form-data":"application/json",...i};s&&(c.Authorization=`Bearer ${o}`);const l={method:a,headers:c,body:n?r:JSON.stringify(r),redirect:"follow"};try{const t=new URL(`${e}`),s=await fetch(t,l);if(!s.ok){if(401===s.status&&(window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace("/login")),404===s.status)throw new Error("Not found");throw new Error(`HTTP error! Status: ${s.status}`)}const a=s.headers.get("Content-Type");if(a&&a.includes("application/json"))return await s.json();return{message:"Non-JSON response",body:await s.text()}}catch(d){throw console.error("Fetch API error:",d),d}}},62260:(e,t,s)=>{s.d(t,{KN:()=>n,W2:()=>o,jC:()=>c});var a=s(55917),i=s(31342);const r="https://dev.memate.com.au/api/v1",o=async e=>{const t=new URL(`${r}/statistics/executive/`);return e&&t.searchParams.append("year",e),(0,i.f)(t.toString(),{method:"GET"})},n=async(e,t)=>{console.log("month: ",t),console.log("year: ",e);const s=new URL(`${r}${`/statistics/key-results/${e}/${t}/`}`);return(0,i.f)(s.toString(),{method:"GET"})},c=async(e,t)=>{const s=new Date(e),o=new Date(t),n=new Date(e);n.setFullYear(n.getFullYear()-1);const c=new Date(t);c.setFullYear(c.getFullYear()-1);const l=`${(0,a.A)(s,"yyyy-MM-dd")}:${(0,a.A)(o,"yyyy-MM-dd")}`,d=`${(0,a.A)(n,"yyyy-MM-dd")}:${(0,a.A)(c,"yyyy-MM-dd")}`,x=new URL(`${r}${`/statistics/overview/${l}/${d}/`}`);return(0,i.f)(x.toString(),{method:"GET"})}},92553:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T,verticalLinePlugin:()=>k});var a=s(65043),i=s(15258),r=s(14282),o=s(61072),n=s(78602),c=s(13846),l=s(35284),d=s(7006),x=s(84232),g=s(4313),m=s(45592),_=s(76748),u=s(68974),p=s(77527),h=s(49367),b=s(35475),v=s(93747),f=s(76361),y=s(119),A=s(58387),j=s(75600),w=s(62260),N=s(99033),F=s(48417),B=s(14834),C=s(70579);const k={id:"verticalLine",afterDraw:e=>{const t=null===e||void 0===e?void 0:e.tooltip,s=null===e||void 0===e?void 0:e.ctx,a=null===e||void 0===e?void 0:e.chartArea;if(t&&t._active&&t._active.length>0){const e=t._active[0].element.x;s.save(),s.lineWidth=2,s.strokeStyle="#1AB2FF",s.beginPath(),s.moveTo(e,a.top),s.lineTo(e,a.bottom),s.stroke(),s.restore()}}};f.t1.register(...f.$L,y.A,k);const T=()=>{const{trialHeight:e}=(0,F.$)(),[t,s]=(0,a.useState)(2025),[f,y]=(0,a.useState)({}),[k,T]=(0,a.useState)({}),[P,S]=(0,a.useState)({}),D=(new Date).getFullYear(),E=Array.from({length:5},((e,t)=>D-t)),L=a.useMemo((()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[]),$=(0,v.I)({queryKey:["getExecutiveStatistics",t],queryFn:()=>(0,w.W2)(t),enabled:!!t,retry:1});return(0,a.useEffect)((()=>{var e;const s=getComputedStyle(document.documentElement),a=s.getPropertyValue("--text-color"),i=s.getPropertyValue("--text-color-secondary"),r=s.getPropertyValue("--surface-border"),o=null===$||void 0===$||null===(e=$.data)||void 0===e?void 0:e.statistics,n=[],c=[],l=[],d=[],x=[],g=t===D,m=(new Date).getMonth(),_=g?m:12,u=L.slice(0,_);for(const t in o)n.push(parseFloat(o[t].total_income)),c.push(parseFloat(o[t].operating_profit)),l.push(parseFloat(o[t].cost_of_sale)),d.push(parseFloat(o[t].labor)),x.push(parseFloat(o[t].operating_expense));const p=n.reduce(((e,t)=>e+t),0),h=c.reduce(((e,t)=>e+t),0),b=l.reduce(((e,t)=>e+t),0),v=d.reduce(((e,t)=>e+t),0),f=x.reduce(((e,t)=>e+t),0);S({total_income:p,operating_profit:h,cost_of_sale:b,labor:v,operating_expense:f});const A={labels:u,datasets:[{label:"Total Income",data:n,fill:!0,tension:0,borderWidth:2,borderColor:"#475467",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(71, 84, 103, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(0,"rgba(71, 84, 103, 0.20)"),t.addColorStop(1,"rgba(71, 84, 103, 0.00)"),t}()},{label:"Operational Profit",data:c,fill:!0,tension:0,borderWidth:2,borderColor:"#17B26A",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(23, 178, 106, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(.0596,"rgba(23, 178, 106, 0.20)"),t.addColorStop(.9749,"rgba(23, 178, 106, 0.04)"),t}()},{label:"Cost of Sale",data:l,fill:!0,tension:0,borderWidth:2,borderColor:"#F04438",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(240, 68, 56, 0.3)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(.1,"rgba(240, 68, 56, 0.30)"),t.addColorStop(1,"rgba(240, 68, 56, 0.06)"),t}()},{label:"Labor",data:d,fill:!0,tension:0,borderWidth:2,borderColor:"#F79009",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(247, 144, 9, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(0,"rgba(247, 144, 9, 0.20)"),t.addColorStop(1,"rgba(247, 144, 9, 0.00)"),t}()},{label:"Operating Expense",data:x,tension:0,fill:!0,borderWidth:2,borderColor:"#1AB2FF",backgroundColor:function(){const e=document.createElement("canvas").getContext("2d");if(!e)return"rgba(26, 178, 255, 0.2)";const t=e.createLinearGradient(0,0,0,400);return t.addColorStop(0,"rgba(26, 178, 255, 0.20)"),t.addColorStop(1,"rgba(26, 178, 255, 0.00)"),t}()}]};const j={maintainAspectRatio:!1,aspectRatio:.6,plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",color:a,boxHeight:4}},title:{display:!0,text:"Financial Overview",position:"top",align:"start",color:"#101828",font:{size:18},padding:5},subtitle:{display:!0,text:"Track how your rating compares to your industry average.",position:"top",align:"start",font:{size:14},color:"#475467",padding:0},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"#fff",titleColor:"#667085",bodyColor:"#667085",borderColor:"#f2f2f2",borderWidth:1,callbacks:{label:function(e){const t=e.dataset.label,s=e.raw;return`${t}: $${(0,B.m)(s)}`},footer:function(){return"Hover over the chart to see values"}}},interaction:{mode:"index",intersect:!1},elements:{line:{borderWidth:2},point:{radius:4}}},scales:{x:{ticks:{color:i},grid:{color:r}},y:{beginAtZero:!1,ticks:{color:i,callback:function(e){return Math.abs(e)>=1e3?"$"+(e/1e3).toFixed(1)+"k":"$"+e}},grid:{color:r}}}};y(A),T(j)}),[null===$||void 0===$?void 0:$.data]),(0,a.useEffect)((()=>{const e=new Date;s(e.getUTCFullYear())}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(h.mg,{children:(0,C.jsx)("title",{children:"MeMate - Executive"})}),(0,C.jsxs)("div",{className:`topbar ${N.A.borderTopbar}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,C.jsxs)(b.N_,{to:"/statistics/executive",style:{background:"#F9F5FF"},className:(0,A.A)(N.A.activeTab,"d-flex align-items-center px-2 py-1"),children:[(0,C.jsx)(d.A,{color:"#9E77ED",size:16,className:"me-2"}),(0,C.jsx)("span",{className:N.A.topbartext,style:{color:"#9E77ED"},children:"Executive"})]}),(0,C.jsxs)(b.N_,{to:"/statistics/sales-conversion",className:(0,A.A)("d-flex align-items-center px-2 py-1",N.A.disabledLink),children:[(0,C.jsx)(x.A,{color:"#17B26A",size:16,className:"me-2"}),(0,C.jsx)("span",{className:N.A.topbartext,children:"Conversion"})]}),(0,C.jsxs)(b.N_,{to:"/statistics/overview",className:(0,A.A)("d-flex align-items-center px-2 py-1"),children:[(0,C.jsx)(g.A,{color:"#F04438",size:16,className:"me-2"}),(0,C.jsx)("span",{className:N.A.topbartext,children:"Overview"})]}),(0,C.jsxs)(b.N_,{to:"/statistics/key-results",className:"d-flex align-items-center px-2 py-1",children:[(0,C.jsx)(m.A,{color:"#667085",size:16,className:"me-2"}),(0,C.jsx)("span",{className:N.A.topbartext,children:"Key Results"})]}),(0,C.jsxs)(b.N_,{className:(0,A.A)("d-flex align-items-center px-2 py-1",N.A.disabledLink),children:[(0,C.jsx)(_.A,{color:"#084095",size:16,className:"me-2"}),(0,C.jsx)("span",{className:N.A.topbartext,children:"Reports"})]}),(0,C.jsxs)(b.N_,{className:(0,A.A)("d-flex align-items-center px-2 py-1",N.A.disabledLink),children:[(0,C.jsx)(u.A,{color:"#F79009",size:16,className:"me-2"}),(0,C.jsx)("span",{className:N.A.topbartext,children:"GA Widgets"})]})]}),(0,C.jsxs)("div",{className:(0,A.A)(N.A.keyResults),style:{padding:"24px",marginBottom:"20px",overflow:"auto",height:`calc(100vh - 175px - ${e}px)`,background:"#F8F9FC"},children:[(0,C.jsx)("h2",{className:(0,A.A)(N.A.keyResultsTitle),children:"Executive"}),(0,C.jsxs)(i.A,{children:[(0,C.jsxs)(i.A.Toggle,{as:r.A,className:(0,A.A)(N.A.button,"outline-button mx-auto"),children:[(0,C.jsx)(p.A,{color:"#475467",size:16}),t]}),(0,C.jsx)(i.A.Menu,{children:E.map((e=>(0,C.jsx)(i.A.Item,{eventKey:e,active:e===t,onClick:()=>(e=>{s(e)})(e),children:e},e)))})]}),(0,C.jsx)("div",{className:"d-flex justify-content-center gap-0",style:{marginTop:"16px",borderBottom:"1px solid var(--Gray-200, #EAECF0)",background:"#F8F9FC"}}),(0,C.jsxs)(o.A,{children:[(0,C.jsx)(n.A,{xs:8,children:(0,C.jsx)(c.A,{className:"mt-3 border-0",children:(0,C.jsx)(l.A,{className:"ps-3 pe-1",children:(0,C.jsx)(j.t,{type:"line",data:f,options:k})})})}),(0,C.jsxs)(n.A,{xs:4,className:"pt-3",children:[(0,C.jsxs)("div",{className:(0,A.A)(N.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#FCFCFD"},children:[(0,C.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,C.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#475467"})}),(0,C.jsx)("span",{className:N.A.title,children:"Total Income"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,C.jsxs)("span",{className:N.A.money,children:["$",(0,B.m)(P.total_income||0)]}),(0,C.jsx)(r.A,{className:(0,A.A)("text-button p-0",N.A.disabledLink),children:"View Invoices"})]})]}),(0,C.jsxs)("div",{className:(0,A.A)(N.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#F6FEF9"},children:[(0,C.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,C.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#17B26A"})}),(0,C.jsx)("span",{className:N.A.title,children:"Operational Profit"})]}),(0,C.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,C.jsxs)("span",{className:N.A.money,children:["$",(0,B.m)(P.operating_profit||0)]})})]}),(0,C.jsxs)("div",{className:(0,A.A)(N.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#FFFBFA"},children:[(0,C.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,C.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#F04438"})}),(0,C.jsx)("span",{className:N.A.title,children:"Cost of Sale"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,C.jsxs)("span",{className:N.A.money,children:["$",(0,B.m)(P.cost_of_sale||0)]}),(0,C.jsx)(r.A,{className:(0,A.A)("text-button p-0",N.A.disabledLink),children:"View Sales"})]})]}),(0,C.jsxs)("div",{className:(0,A.A)(N.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#FFFCF5"},children:[(0,C.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,C.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#F79009"})}),(0,C.jsx)("span",{className:N.A.title,children:"Labor"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,C.jsxs)("span",{className:N.A.money,children:["$",(0,B.m)(P.labor||0)]}),(0,C.jsx)(r.A,{className:(0,A.A)("text-button p-0",N.A.disabledLink),children:"View People"})]})]}),(0,C.jsxs)("div",{className:(0,A.A)(N.A.rightBoxDiv,"w-100 mb-3"),style:{background:"#F2FAFF"},children:[(0,C.jsxs)("div",{className:"d-flex gap-1 align-items-center mb-2",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,C.jsx)("circle",{cx:"4",cy:"4",r:"4",fill:"#1AB2FF"})}),(0,C.jsx)("span",{className:N.A.title,children:"Operating Expense"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,C.jsxs)("span",{className:N.A.money,children:["$",(0,B.m)(P.operating_expense||0)]}),(0,C.jsx)(r.A,{className:(0,A.A)("text-button p-0",N.A.disabledLink),children:"View Expenses"})]})]})]})]})]})]})}},99033:(e,t,s)=>{s.d(t,{A:()=>a});const a={borderTopbar:"statistics_borderTopbar__ljqaY",topbartext:"statistics_topbartext__HchJJ",box:"statistics_box__DcXrH",executiveBox:"statistics_executiveBox__ObZsN",executiveBox2:"statistics_executiveBox2__SboXU",executiveBox3:"statistics_executiveBox3__E-b3x",executiveBox4:"statistics_executiveBox4__4Nkgv",executiveBox5:"statistics_executiveBox5__opcH1",executiveBox6:"statistics_executiveBox6__+Ewe4",boxTitle:"statistics_boxTitle__NOx9r",boxSubtitle:"statistics_boxSubtitle__sP+Le",activeTab:"statistics_activeTab__lcBPp",disabledLink:"statistics_disabledLink__cVJyk",keyResults:"statistics_keyResults__Z6mVH",keyResultsTitle:"statistics_keyResultsTitle__FGClX",button:"statistics_button__yOhzt",monthName:"statistics_monthName__VNpP0",activeButton:"statistics_activeButton__a9d6t",chartBox:"statistics_chartBox__Ge0H+",rightBox:"statistics_rightBox__QVbDu",firstBox:"statistics_firstBox__NX8+s",secondBox:"statistics_secondBox__4-TxO",divider:"statistics_divider__Q+7Li",chartTextBox:"statistics_chartTextBox__vhgGM",chartTextLabel:"statistics_chartTextLabel__RSz82",boxlable:"statistics_boxlable__IDKF0",uptoDate:"statistics_uptoDate__yB-dd",target:"statistics_target__AkTXB",daysComplete:"statistics_daysComplete__TO81g",daysTotal:"statistics_daysTotal__hVKuy",circularProgressDiv:"statistics_circularProgressDiv__4qwlG",chartProgressText:"statistics_chartProgressText__IJ6Eo",text1:"statistics_text1__l19kj",ProgressBar:"statistics_ProgressBar__c-oQT",progressDefaultClass:"statistics_progressDefaultClass__-FFkg",ProgressBarInner:"statistics_ProgressBarInner__FYOyj",ProgressBarInner2:"statistics_ProgressBarInner2__Fll52",ProgressBarInner3:"statistics_ProgressBarInner3__HvY8O",ProgressBarInner4:"statistics_ProgressBarInner4__ngmi9",ProgressInnerBar:"statistics_ProgressInnerBar__yxRlG",ProgressInnerBarPercentage:"statistics_ProgressInnerBarPercentage__JRRCl",rightBoxDiv:"statistics_rightBoxDiv__M-E12",title:"statistics_title__PE0MJ",money:"statistics_money__i+Zbv",dateRangeSelector:"statistics_dateRangeSelector__9FaSI",dateRangeDropdown:"statistics_dateRangeDropdown__5DtSu",graphHeader:"statistics_graphHeader__IuB-s",graphHeaderLeft:"statistics_graphHeaderLeft__ZgmxU",graphHeaderLeftText:"statistics_graphHeaderLeftText__W44Ps",changePositive:"statistics_changePositive__M3RP9",changeNeutral:"statistics_changeNeutral__x8XEe",dateLabel:"statistics_dateLabel__xbQES",value:"statistics_value__qJhHh",bottomText:"statistics_bottomText__40PQh",calendar:"statistics_calendar__eDJFd",borderRadiusRightZero:"statistics_borderRadiusRightZero__4dtcG"}}}]);
//# sourceMappingURL=2553.3491d048.chunk.js.map