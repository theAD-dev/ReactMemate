{"version":3,"file":"static/js/6042.3665fa83.chunk.js","mappings":"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","sources":["APIs/expenses-api.js","webpack://memateapp/./src/components/Work/features/task/create-task/create-task.module.scss?cbbe","components/Work/features/task/create-task/task-attachment.jsx","components/Business/Pages/management/task/select-date.js","webpack://memateapp/./src/components/Work/features/task/task-comments/task-comments.module.scss?9e4a","components/Work/features/task/task-comments/task-comments.js","components/Work/features/task/create-task/create-task.js","features/chat/ui/chat-area/chat-emoji-picker.jsx","components/Work/features/task/view-task/view-task.js","APIs/TasksApi.js","APIs/task-api.js","shared/ui/date-range-picker-calendar/index.jsx","webpack://memateapp/./src/features/chat/ui/chat-area/chat-area.module.scss?2352"],"sourcesContent":["import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfExpense = async (page, limit, search = \"\", order = \"\", isShowUnpaid, filters) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/expenses/`;\n  const options = {\n    method: 'GET',\n  };\n  // Build query parameters manually to avoid URL encoding issues\n  const queryParams = [];\n  queryParams.push(`limit=${limit}`);\n  queryParams.push(`offset=${offset}`);\n  if (search) queryParams.push(`search=${encodeURIComponent(search)}`);\n  if (order) queryParams.push(`ordering=${encodeURIComponent(order)}`);\n  if (isShowUnpaid) queryParams.push('status=not_paid');\n\n  let suppliersFilter = '';\n  if (filters?.suppliers) {\n    suppliersFilter = filters?.suppliers?.map(supplier => supplier.id).join(',');\n    console.log('Suppliers filter string:', suppliersFilter);\n    if (suppliersFilter) {\n      queryParams.push(`suppliers=${suppliersFilter}`); // Don't encode commas\n    }\n  }\n\n  let departmentsFilter = '';\n  if (filters?.departments) {\n    departmentsFilter = filters?.departments?.map(dept => dept.id).join(',');\n    if (departmentsFilter) {\n      queryParams.push(`departments=${departmentsFilter}`); // Don't encode commas\n    }\n  }\n\n  let statusFilter = '';\n  if (filters?.status && filters?.status?.length === 1) {\n    console.log('Status filter array:', filters.status);\n    filters?.status?.forEach(element => {\n      console.log('Processing status element:', element);\n      if (element?.name === 'paid') statusFilter = 'paid';\n      else if (element?.name === 'not_paid') statusFilter = 'not_paid';\n    });\n    if (statusFilter) {\n      console.log('Applied status filter:', statusFilter);\n      queryParams.push(`status=${statusFilter}`);\n    }\n  } else if (filters?.status) {\n    console.log('Status filter not applied - length:', filters.status.length, 'values:', filters.status);\n  }\n\n  if (filters?.date) {\n    const startDate = filters?.date[0]?.value?.[0];\n    if (startDate) {\n      const date = new Date(startDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      queryParams.push(`date_after=${year}-${month}-${day}`);\n    }\n\n    const endDate = filters?.date[0]?.value?.[1];\n    if (endDate) {\n      const date = new Date(endDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      queryParams.push(`date_before=${year}-${month}-${day}`);\n    }\n  }\n\n  // Build final URL with unencoded commas\n  const finalUrl = `${API_BASE_URL}${endpoint}?${queryParams.join('&')}`;\n  console.log('Final expenses API URL:', finalUrl);\n\n  return fetchAPI(finalUrl, options);\n};\n\nexport const getXeroCodesList = async () => {\n  const endpoint = `/references/xero-codes/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProjectsList = async () => {\n  const endpoint = `/references/projects/expenses/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getExpense = async (id) => {\n  const endpoint = `/expenses/update/${id}/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createNewExpense = async (data) => {\n  const endpoint = '/expenses/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateExpense = async (id, data) => {\n  const endpoint = `/expenses/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const paidExpense = async (data) => {\n  const endpoint = '/expenses/paid/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const unpaidExpense = async (data) => {\n  const endpoint = '/expenses/unpaid/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendExpenseToXeroApi = async (data) => {\n  const endpoint = `/expenses/to-xero/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteExpense = async (uniqueId) => {\n  const endpoint = `/expenses/delete/${uniqueId}/`;\n  const options = {\n    method: 'DELETE'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const downloadStatement = async (data) => {\n  const endpoint = '/clients/statement/pdf/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendStatementEmail = async (data) => {\n  const endpoint = '/clients/statement/send/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const assignCodeToSupplier = async (id, code) => {\n  const endpoint = `/suppliers/service-update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: { code }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","// extracted by mini-css-extract-plugin\nexport default {\"circleDesignStyle\":\"create-task_circleDesignStyle__vtKho\",\"out\":\"create-task_out__LG-iY\",\"taskTitleInput\":\"create-task_taskTitleInput__s+lNu\",\"formLabel\":\"create-task_formLabel__04J0h\",\"taskDescriptionInput\":\"create-task_taskDescriptionInput__RZWSI\",\"projectDropdown\":\"create-task_projectDropdown__qXb5+\",\"messageInputIcons\":\"create-task_messageInputIcons__Cj2vl\",\"attachButton\":\"create-task_attachButton__k6PEF\",\"emojiButton\":\"create-task_emojiButton__YPWSi\",\"commentButton\":\"create-task_commentButton__3T-po\"};","import React, { useRef } from 'react';\nimport styles from './create-task.module.scss';\n\nconst TaskAttachment = () => {\n    const buttonRef = useRef();\n    return (\n        <>\n            <button\n                className={styles.attachButton}\n                type=\"button\"\n                aria-label=\"Attach file\"\n                ref={buttonRef}\n                style={{ padding: '4px' }}\n            >\n                <svg width=\"15\" height=\"15\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M18.0833 8.33333L9.16667 17.25C8.17221 18.2444 6.82407 18.8042 5.41667 18.8042C4.00926 18.8042 2.66112 18.2444 1.66667 17.25C0.672214 16.2556 0.112446 14.9074 0.112446 13.5C0.112446 12.0926 0.672214 10.7444 1.66667 9.75L10.5833 0.833329C11.2486 0.167998 12.1514 -0.149151 13.0833 0.0666624C14.0153 0.282476 14.8056 0.947998 15.25 1.83333C15.6944 2.71866 15.7361 3.75 15.3333 4.66666C14.9306 5.58333 14.1389 6.29166 13.1667 6.5L5.08333 14.5833C4.75 14.9167 4.31944 15.0833 3.83333 15.0833C3.34722 15.0833 2.91667 14.9167 2.58333 14.5833C2.25 14.25 2.08333 13.8194 2.08333 13.3333C2.08333 12.8472 2.25 12.4167 2.58333 12.0833L9.16667 5.5\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                </svg>\n            </button>\n        </>\n    );\n};\n\nexport default TaskAttachment;","import React, { useState, useRef, useEffect } from 'react';\nimport { Calendar2Event } from \"react-bootstrap-icons\";\nimport { DateRangePickerCalendar } from '../../../../../shared/ui/date-range-picker-calendar';\n\nconst formatDateRange = (startDate, endDate) => {\n    const options = { month: 'short', day: 'numeric' };\n    const start = new Date(startDate).toLocaleDateString('en-US', options);\n    const end = new Date(endDate).toLocaleDateString('en-US', options);\n    return `${start} - ${end}`;\n};\n\nconst DateRangeComponent = ({ startDate, endDate }) => (\n    <div className='dateSelectdTaskBar'>\n        {formatDateRange(startDate, endDate)}\n    </div>\n);\n\nconst SelectDate = ({ setDateRange, dateRange }) => {\n    const [isPickerVisible, setIsPickerVisible] = useState(false);\n    const selectDateRef = useRef(null);\n\n    const togglePicker = () => setIsPickerVisible(prev => !prev);\n\n    const handleDataApply = (data) => {\n        setDateRange(data);\n        setIsPickerVisible(false);\n    };\n\n    const handleClickOutside = (event) => {\n        if (selectDateRef.current && !selectDateRef.current.contains(event.target)) {\n            setIsPickerVisible(false);\n        }\n    };\n\n    useEffect(() => {\n        if (isPickerVisible) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isPickerVisible]);\n\n    return (\n        <div className='select-date' style={{ position: 'relative' }} ref={selectDateRef}>\n            <div onClick={togglePicker} style={{ cursor: 'pointer' }}>\n                {dateRange?.startDate && dateRange?.endDate ? (\n                    <DateRangeComponent startDate={dateRange.startDate} endDate={dateRange.endDate} />\n                ) : (\n                    <div style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%'}} className={`iconStyleCircle d-flex justify-content-center align-items-center iconStyleCircleRight ${isPickerVisible ? 'active' : ''}`}>\n                        <Calendar2Event color={isPickerVisible ? \"#1AB2FF\" : \"#475467\"} size={14} />\n                    </div>\n                )}\n            </div>\n            {isPickerVisible && (\n                <div className='select-date-range' style={{ position: 'absolute', top: '-100px', background: '#fff', zIndex: 1000 }}>\n                    <DateRangePickerCalendar onDataApply={handleDataApply} dateRange={dateRange} onClose={() => setIsPickerVisible(false)} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default SelectDate;\n","// extracted by mini-css-extract-plugin\nexport default {\"commentsContainer\":\"task-comments_commentsContainer__9Qiud\",\"commentsHeader\":\"task-comments_commentsHeader__SxVw0\",\"commentsTitle\":\"task-comments_commentsTitle__f66k0\",\"commentsList\":\"task-comments_commentsList__NBm+d\",\"commentItem\":\"task-comments_commentItem__bv78f\",\"deleteButton\":\"task-comments_deleteButton__XLlzH\",\"userName\":\"task-comments_userName__EH9bR\",\"commentTime\":\"task-comments_commentTime__4eCW6\",\"commentText\":\"task-comments_commentText__rSHhj\",\"addCommentSection\":\"task-comments_addCommentSection__-KvEG\",\"avatar\":\"task-comments_avatar__GZ9fT\",\"loadMoreWrapper\":\"task-comments_loadMoreWrapper__TLDxd\",\"loadMoreBtn\":\"task-comments_loadMoreBtn__6oQeF\",\"loading\":\"task-comments_loading__3LE67\",\"commentAvatar\":\"task-comments_commentAvatar__Pc8rI\",\"commentHeader\":\"task-comments_commentHeader__T9R4I\",\"noComments\":\"task-comments_noComments__xAIGD\"};","import { forwardRef, useImperativeHandle } from 'react';\nimport { useInfiniteQuery, useMutation } from '@tanstack/react-query';\nimport { toast } from 'sonner';\nimport styles from './task-comments.module.scss';\nimport { deleteTaskComment, getCommentsForTask } from '../../../../../APIs/task-api';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\n\n/**\n * Normalize API response → UI-friendly shape\n */\nconst normalizeComment = (c) => ({\n    id: c.id,\n    text: c.comment,\n    created_at: c.created_at,\n    user: {\n        id: c.created_by?.id,\n        full_name: c.created_by?.full_name,\n        email: c.created_by?.email,\n        photo: c.created_by?.avatar,\n        role: c.created_by?.role,\n    },\n});\n\n/**\n * Time ago helper\n */\nconst formatTimeAgo = (timestamp) => {\n    const now = new Date();\n    const date = new Date(timestamp);\n    const diff = Math.floor((now - date) / (1000 * 60));\n\n    if (diff < 1) return 'Just now';\n    if (diff < 60) return `${diff} min ago`;\n    if (diff < 1440) return `${Math.floor(diff / 60)} hours ago`;\n    return `${Math.floor(diff / 1440)} days ago`;\n};\n\nconst TaskComments = forwardRef(({ taskId }, ref) => {\n    const {\n        data,\n        refetch,\n        fetchNextPage,\n        hasNextPage,\n        isFetchingNextPage,\n        isLoading,\n    } = useInfiniteQuery({\n        queryKey: ['task-comments', taskId],\n        queryFn: ({ pageParam }) =>\n            pageParam\n                ? fetch(pageParam).then(res => res.json())\n                : getCommentsForTask(taskId),\n        enabled: !!taskId,\n        getNextPageParam: (lastPage) => lastPage.next,\n    });\n\n    useImperativeHandle(ref, () => ({\n        refetchComments: () => refetch(),\n    }));\n\n    const deleteCommentMutation = useMutation({\n        mutationFn: deleteTaskComment,\n        onSuccess: () => {\n            toast.success('Comment deleted');\n            refetch();\n        },\n        onError: () => {\n            toast.error('Failed to delete comment');\n        },\n    });\n\n    /**\n     * Flatten + normalize + sort (oldest → newest)\n     */\n    const comments = data\n        ? data.pages\n            .slice()\n            .flatMap(page => page.results)\n            .map(normalizeComment)\n            .sort(\n                (a, b) =>\n                    new Date(a.created_at).getTime() -\n                    new Date(b.created_at).getTime()\n            )\n            .reverse()\n        : [];\n\n    if (isLoading) {\n        return <div className={styles.loading}>Loading comments…</div>;\n    }\n\n    if (!comments.length) {\n        return (\n            <div className={styles.noComments}>No comments yet.</div>\n        );\n    }\n\n    const handleDeleteComment = (commentId) => {\n        deleteCommentMutation.mutate(commentId);\n    };\n\n    return (\n        <div className={styles.commentsContainer}>\n            {/* Load Older (Asana-style) */}\n            {hasNextPage && (\n                <div className={styles.loadMoreWrapper}>\n                    <button\n                        onClick={fetchNextPage}\n                        disabled={isFetchingNextPage}\n                        className={styles.loadMoreBtn}\n                    >\n                        {isFetchingNextPage\n                            ? 'Loading…'\n                            : 'Load older comments'}\n                    </button>\n                </div>\n            )}\n\n            {/* Comments List */}\n            <div className={styles.commentsList}>\n                {comments.map((comment) => (\n                    <div key={comment.id} className={styles.commentItem}>\n                        <div className=\"d-flex gap-3\">\n                            <div\n                                className={styles.avatar}\n                            >\n                                <FallbackImage\n                                    photo={comment.user?.photo}\n                                    has_photo={!!comment.user?.photo}\n                                    is_business={false}\n                                    size={18}\n                                />\n                            </div>\n\n                            <div className=\"flex-grow-1\" style={{ width: 'calc(100% - 50px)'}}>\n                                <div className={styles.header}>\n                                    <span className={styles.userName}>\n                                        {comment.user?.full_name}\n                                    </span>\n                                    <span className={styles.commentTime}>\n                                        · {formatTimeAgo(comment.created_at * 1000)}\n                                    </span>\n                                    <button\n                                        onClick={() => handleDeleteComment(comment.id)}\n                                        disabled={deleteCommentMutation.isLoading}\n                                        className={styles.deleteButton}\n                                        style={{\n                                            marginLeft: '5px',\n                                            background: 'none',\n                                            border: 'none',\n                                            color: '#D92D20',\n                                            cursor: 'pointer',\n                                            fontSize: 12,\n                                        }}\n                                    >\n                                        Delete\n                                    </button>\n                                </div>\n\n                                <p className={styles.commentText}>\n                                    {comment.text}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n});\n\nexport default TaskComments;\n","import { useEffect, useRef, useState } from 'react';\nimport { Person, PlusCircle, Send, X } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { Dropdown } from 'primereact/dropdown';\nimport { InputTextarea } from 'primereact/inputtextarea';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Sidebar } from 'primereact/sidebar';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport styles from './create-task.module.scss';\nimport TaskAttachment from './task-attachment';\nimport { getProjectsList } from '../../../../../APIs/expenses-api';\nimport { createNewTask, createTaskComment, getMobileUserList, getUserList, updateTask } from '../../../../../APIs/task-api';\nimport { fetchTasksDelete } from '../../../../../APIs/TasksApi';\nimport { useAuth } from '../../../../../app/providers/auth-provider';\nimport ChatEmojiPicker from '../../../../../features/chat/ui/chat-area/chat-emoji-picker';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport SelectDate from '../../../../Business/Pages/management/task/select-date';\nimport TaskComments from '../task-comments/task-comments';\n\nexport const dateFormat = (dateInMiliSec) => {\n    if (!dateInMiliSec) return null;\n\n    const date = new Date(1000 * +dateInMiliSec);\n    return date;\n};\n\nconst CreateTask = ({ show, setShow, refetch, taskId, setTaskId, defaultValue, projectId }) => {\n    const dropdownRef = useRef(null);\n    const textareaRef = useRef(null);\n    const commentsRef = useRef(null);\n    const commentInputRef = useRef(null);\n    const commentsScrollRef = useRef(null);\n    const { session } = useAuth();\n    const [submitted, setSubmitted] = useState(false);\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n\n    const [taskTitle, setTaskTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [project, setProject] = useState(\"\");\n    const [user, setUser] = useState(null);\n    const [date, setDate] = useState(null);\n    const [newComment, setNewComment] = useState('');\n    const [isSubmittingComment, setIsSubmittingComment] = useState(false);\n    const [errors, setErrors] = useState({\n        taskTitle: false,\n        description: false,\n        project: false,\n        user: false,\n        date: false,\n    });\n\n    useEffect(() => {\n        if (taskId && defaultValue) {\n            setTaskTitle(defaultValue?.title);\n            setDescription(defaultValue?.description);\n            setProject(defaultValue?.project?.id);\n            setUser(defaultValue?.user?.id);\n            setDate({ startDate: dateFormat(defaultValue?.from_date), endDate: dateFormat(defaultValue?.to_date) });\n        }\n    }, [taskId, defaultValue]);\n\n\n    const reset = () => {\n        setTaskTitle(\"\");\n        setDescription(\"\");\n        setProject(\"\");\n        setUser(null);\n        setDate(null);\n        setNewComment('');\n        setSubmitted(false);\n        setErrors({\n            taskTitle: false,\n            description: false,\n            project: false,\n            user: false,\n            date: false\n        });\n    };\n    const projectsList = useQuery({ queryKey: ['getProjectsList'], queryFn: getProjectsList });\n    const usersList = useQuery({ queryKey: ['getUserList'], queryFn: getUserList });\n    const mobileUsersList = useQuery({ queryKey: ['getMobileUserList'], queryFn: getMobileUserList });\n\n    useEffect(() => {\n        if (!show) reset();\n    }, [show]);\n\n    const mutation = useMutation({\n        mutationFn: (data) => taskId ? updateTask(taskId, data) : createNewTask(data),\n        onSuccess: () => {\n            refetch();\n            setShow(false);\n            reset();\n            if (taskId) setTaskId(null);\n            toast.success(`Task ${taskId ? \"updated\" : \"created\"} successfully`);\n        },\n        onError: (error) => {\n            console.error(`Error ${taskId ? \"updating\" : \"creating\"} task:`, error);\n            toast.error(`Failed to ${taskId ? \"update\" : \"create\"} client. Please try again.`);\n        }\n    });\n\n    useEffect(() => {\n        if (submitted) {\n            const newErrors = {\n                taskTitle: !taskTitle,\n                description: !description,\n                project: !project,\n                user: !user,\n                date: !date\n            };\n            setErrors(newErrors);\n        }\n    }, [taskTitle, description, project, user, date, submitted]);\n\n    const handleSubmit = () => {\n        setSubmitted(true);\n        const newErrors = {\n            taskTitle: !taskTitle,\n            description: !description,\n            project: !project,\n            user: !user,\n            date: !date\n        };\n        setErrors(newErrors);\n\n        if (!newErrors.taskTitle && !newErrors.description && !newErrors.user && !newErrors.date && !newErrors.project) {\n            mutation.mutate({\n                title: taskTitle,\n                description: description,\n                project: project,\n                user: user,\n                from_date: date.startDate,\n                to_date: date.endDate,\n            });\n        }\n    };\n\n    const deleteMutation = useMutation({\n        mutationFn: () => fetchTasksDelete(taskId),\n        onSuccess: () => {\n            console.log('Delete success');\n            setShow(false);\n            refetch();\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n        }\n    });\n\n    const handleDelete = () => {\n        deleteMutation.mutate();\n    };\n\n    const handleClose = () => {\n        setShow(false);\n        reset();\n    };\n\n    // Handle adding a new comment\n    const addCommentMutation = useMutation({\n        mutationFn: (payload) => createTaskComment(taskId, payload),\n        onSuccess: () => {\n            setNewComment('');\n            commentsRef.current?.refetchComments();\n\n            // Scroll to bottom after new comment\n            setTimeout(() => {\n                if (commentsScrollRef.current) {\n                    commentsScrollRef.current.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'end',\n                    });\n                }\n            }, 1000);\n        },\n        onError: (error) => {\n            console.error('Error adding comment:', error);\n            toast.error('Failed to add comment. Please try again.');\n        },\n        onSettled: () => {\n            setIsSubmittingComment(false);\n            setTimeout(() => {\n                commentInputRef.current?.focus();\n            }, 0);\n        },\n    });\n\n    const handleAddComment = () => {\n        if (!newComment.trim()) {\n            toast.error('Please enter a comment');\n            return;\n        }\n\n        if (!taskId) {\n            toast.error('Please save the task first before adding comments');\n            return;\n        }\n\n        setIsSubmittingComment(true);\n\n        addCommentMutation.mutate({\n            comment: newComment,\n            attachment_url: null,\n            attachment_type: null,\n            created_by: {\n                role: session?.user?.role,\n            },\n        });\n    };\n\n\n    useEffect(() => {\n        setTimeout(() => {\n            if (textareaRef.current) {\n                textareaRef.current.style.height = \"auto\";\n                textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n            }\n        }, 200);\n    }, [description, taskId]);\n\n    useEffect(() => {\n        if (projectId) {\n            setProject(+projectId);\n        }\n    }, [projectId]);\n\n    return (\n        <Sidebar visible={show} position=\"right\" onHide={() => { setShow(false); }} modal={false} dismissable={false} style={{ width: '591px', height: '97vh', borderRadius: '10px', marginRight: '10px' }}\n            content={({ closeIconRef, hide }) => (\n                <div className='create-sidebar d-flex flex-column'>\n                    <div className=\"d-flex align-items-center justify-content-between flex-shrink-0\" style={{ borderBottom: '1px solid #EAECF0', padding: '24px' }}>\n                        <div className=\"d-flex align-items-center gap-2\">\n                            <div className={styles.circleDesignStyle}>\n                                <div className={styles.out}>\n                                    <PlusCircle size={24} color=\"#17B26A\" />\n                                </div>\n                            </div>\n                            <span style={{ color: '344054', fontSize: '20px', fontWeight: 600 }}>{taskId ? \"Update\" : \"Create New\"} Task</span>\n                        </div>\n                        <span>\n                            <Button type=\"button\" className='text-button' ref={closeIconRef} onClick={(e) => hide(e)}>\n                                <X size={24} color='#667085' />\n                            </Button>\n                        </span>\n                    </div>\n                    <div className='modal-body' style={{ padding: '24px 24px', height: 'calc(100vh - 72px - 122px - 100px)', overflow: 'auto' }}>\n                        <Form.Control\n                            type=\"text\"\n                            name='taskTitle'\n                            id='taskTitle'\n                            placeholder=\"Enter task title\"\n                            value={taskTitle}\n                            onChange={(e) => setTaskTitle(e.target.value)}\n                            className={styles.taskTitleInput}\n                        />\n                        {errors.taskTitle && <Form.Text className=\"error-message\">Task title is required</Form.Text>}\n\n                        <Row className={\"mt-3\"}>\n                            <Col sm={4} className='d-flex flex-column justify-content-center pt-2'>\n                                <Form.Label className={styles.formLabel}>Assignee</Form.Label>\n                            </Col>\n                            <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                {!user && <div className='d-flex align-items-center justify-content-center' onClick={() => dropdownRef.current?.show()} style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%' }}><Person\n                                    color={dropdownRef.current?.panel?.element?.offsetParent ? \"#1AB2FF\" : \"#475467\"}\n                                    size={18}\n                                    className='cursor-pointer' />\n                                </div>}\n                                <Dropdown\n                                    ref={dropdownRef}\n                                    options={[\n                                        {\n                                            label: 'Desktop User',\n                                            items: usersList?.data?.users?.filter((user) => user?.is_active)?.map((user) => ({\n                                                value: user?.id,\n                                                label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                photo: user?.photo || \"\",\n                                                has_photo: user?.has_photo\n                                            })) || []\n                                        },\n                                        ...(session?.has_work_subscription\n                                            ? [\n                                                {\n                                                    label: 'Mobile User',\n                                                    items:\n                                                        mobileUsersList?.data?.users\n                                                            ?.filter((user) => user?.status !== 'disconnected')\n                                                            ?.map((user) => ({\n                                                                value: user?.id,\n                                                                label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                                photo: user?.photo || \"\",\n                                                                has_photo: user?.has_photo,\n                                                            })) || [],\n                                                },\n                                            ]\n                                            : []),\n                                    ]}\n                                    onChange={(e) => {\n                                        setUser(e.value);\n                                    }}\n                                    valueTemplate={(option) => {\n                                        if (!option) return null;\n\n                                        return <div className='d-flex gap-2 align-items-center' style={{ position: 'relative', left: '-10px' }}>\n                                            <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                            </div>\n                                            {option?.label}\n                                        </div>;\n                                    }}\n                                    itemTemplate={(option) => {\n                                        return (\n                                            <div className='d-flex gap-2 align-items-center'>\n                                                <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                    <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                                </div>\n                                                {option?.label}\n                                            </div>\n                                        );\n                                    }}\n                                    className='outline-none border-0 p-0'\n                                    style={{\n                                        width: !user ? '0px' : 'fit-content',\n                                        height: !user ? '0px' : '46px',\n                                        zIndex: !user ? '0' : '1',\n                                        position: 'relative',\n                                        left: !user ? '-60px' : '-4px',\n                                        top: !user ? '-15px' : '0px',\n                                    }}\n                                    value={user}\n                                    dropdownIcon={<></>}\n                                    collapseIcon={<></>}\n                                    placeholder=\"Select project\"\n                                    filter\n                                    filterInputAutoFocus={true}\n                                    optionGroupLabel=\"label\"\n                                    optionGroupChildren=\"items\"\n                                    scrollHeight=\"400px\"\n                                />\n                            </Col>\n                        </Row>\n                        {errors.user && <Form.Text className=\"error-message\">User is required</Form.Text>}\n\n                        <Row className={\"mt-3\"}>\n                            <Col sm={4} className='d-flex flex-column justify-content-center'>\n                                <Form.Label className={styles.formLabel}>Due Date</Form.Label>\n                            </Col>\n                            <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                <SelectDate dateRange={date} setDateRange={setDate} />\n                            </Col>\n                        </Row>\n                        {errors.date && <Form.Text className=\"error-message\">Date is required</Form.Text>}\n\n                        <Row className={\"mt-3\"}>\n                            <Col sm={4} className='d-flex flex-column justify-content-center pt-3'>\n                                <Form.Label className={styles.formLabel}>Link to Project</Form.Label>\n                            </Col>\n                            <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                <Dropdown\n                                    options={projectsList?.data?.map((project) => ({\n                                        value: project.id,\n                                        label: `${project.number}: ${project.reference}`\n                                    })) || []}\n                                    onChange={(e) => {\n                                        setProject(e.value);\n                                    }}\n                                    className={clsx('outline-none', styles.projectDropdown)}\n                                    style={{ height: '46px', maxWidth: '100%', width: 'fit-content' }}\n                                    value={project}\n                                    loading={projectsList?.isFetching}\n                                    placeholder=\"Select project\"\n                                    filter\n                                    filterInputAutoFocus={true}\n                                />\n                            </Col>\n                        </Row>\n                        {errors.project && <Form.Text className=\"error-message\">Project task is required</Form.Text>}\n\n                        <Row className={\"mt-3\"}>\n                            <Col sm={4}>\n                                <Form.Label className={styles.formLabel}>Description</Form.Label>\n                            </Col>\n                            <Col sm={12}>\n                                <Form.Control\n                                    name='taskDescription'\n                                    id='taskDescription'\n                                    as=\"textarea\"\n                                    placeholder='Enter a description...'\n                                    value={description}\n                                    rows={2}\n                                    ref={textareaRef}\n                                    onChange={(e) => {\n                                        setDescription(e.target.value);\n                                    }}\n                                    className={styles.taskDescriptionInput}\n                                    onInput={(e) => {\n                                        e.target.style.height = \"auto\"; // reset\n                                        e.target.style.height = e.target.scrollHeight + \"px\"; // grow\n                                    }}\n                                    onFocus={() => {\n                                        if (textareaRef.current) {\n                                            textareaRef.current.style.height = \"auto\";\n                                            textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n                                        }\n                                    }}\n                                />\n                            </Col>\n                        </Row>\n                        {errors.description && <Form.Text className=\"error-message\">Description is required</Form.Text>}\n\n                        {/* Comments Section */}\n                        {taskId && (\n                            <div className='border-top pt-2 mt-3'>\n                                <Form.Label className={styles.formLabel}>Comments</Form.Label>\n                                <div ref={commentsScrollRef}>\n                                    <TaskComments taskId={taskId} ref={commentsRef} />\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    <div className='modal-footer d-flex flex-column' style={{ borderTop: \"1px solid var(--Gray-200, #EAECF0)\" }}>\n                        <div className='d-flex w-100' style={{ padding: '16px 24px' }}>\n                            <div className='d-flex align-items-start gap-3 w-100'>\n                                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #EAECF0', flexShrink: 0 }}>\n                                    <FallbackImage\n                                        photo={session?.user?.photo}\n                                        has_photo={session?.user?.has_photo}\n                                        is_business={false}\n                                        size={23}\n                                    />\n                                </div>\n                                <div className='flex-grow-1'>\n                                    <InputTextarea\n                                        ref={commentInputRef}\n                                        id='comment-input'\n                                        as=\"textarea\"\n                                        placeholder=\"Add a comment...\"\n                                        rows={2}\n                                        value={newComment}\n                                        onChange={(e) => setNewComment(e.target.value)}\n                                        onKeyDown={(e) => {\n                                            if (e.key === 'Enter' && !e.shiftKey) {\n                                                e.preventDefault();\n                                                handleAddComment();\n                                            }\n                                        }}\n                                        disabled={isSubmittingComment || !taskId}\n                                        style={{\n                                            width: '100%',\n                                            border: '1px solid #D0D5DD',\n                                            borderRadius: '8px',\n                                            padding: '10px 14px',\n                                            fontSize: '14px',\n                                            resize: 'none',\n                                            minHeight: '44px',\n                                            transition: 'all 0.2s ease'\n                                        }}\n                                    />\n                                    <div className={styles.messageInputIcons}>\n                                        <TaskAttachment />\n                                        <ChatEmojiPicker\n                                            show={showEmojiPicker}\n                                            setShow={setShowEmojiPicker}\n                                            setMessage={setNewComment}\n                                        />\n                                        <Button onClick={handleAddComment} className={clsx(\"font-12\", styles.commentButton)}>\n                                            {\n                                                isSubmittingComment\n                                                    ? <ProgressSpinner style={{ width: '10px', height: '10px' }} />\n                                                    : <Send size={10} color='#fff' />\n                                            }\n                                        </Button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className='w-100 d-flex align-items-center justify-content-between gap-3' style={{ borderTop: \"1px solid var(--Gray-200, #EAECF0)\", padding: '12px 14px 6px 14px' }}>\n                            <div>\n                                {taskId && (\n                                    <Button className='danger-text-button gap-2' onClick={handleDelete}>\n                                        Delete\n                                        {deleteMutation.isPending && <ProgressSpinner style={{ width: '18px', height: '18px' }} />}\n                                    </Button>\n                                )}\n                            </div>\n                            <div className='d-flex align-items-center gap-3'>\n                                <Button type='button' onClick={handleClose} className='outline-button'>Cancel</Button>\n                                <Button type='button' onClick={handleSubmit} className='solid-button' style={{ minWidth: '70px' }} disabled={mutation.isPending}>{taskId ? \"Update Task\" : \"Create Task\"} {mutation.isPending && <ProgressSpinner style={{ width: '18px', height: '18px' }} />}</Button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        ></Sidebar>\n    );\n};\n\nexport default CreateTask;","import React from 'react';\nimport clsx from 'clsx';\nimport EmojiPicker from 'emoji-picker-react';\nimport styles from './chat-area.module.scss';\n\nconst ChatEmojiPicker = ({ show, setShow, setMessage }) => {\n  const handleClickOutside = (event) => {\n    const emojiPicker = document.querySelector(`.emoji-picker`);\n    const emojiButton = document.querySelector(`.chat-emoji-button`);\n\n    if (emojiPicker && !emojiPicker.contains(event.target) && !emojiButton.contains(event.target)) {\n      setShow(false);\n    }\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, []);\n  \n  return (\n    <div className='chat-emoji-picker'>\n      <button\n        type=\"button\"\n        className={clsx(styles.emojiButton, 'chat-emoji-button')}\n        onClick={() => setShow((v) => !v)}\n        tabIndex={-1}\n        style={{ padding: '4px' }}\n      >\n        <svg width=\"15\" height=\"15\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M10 18.3333C14.6024 18.3333 18.3334 14.6024 18.3334 10C18.3334 5.39763 14.6024 1.66667 10 1.66667C5.39765 1.66667 1.66669 5.39763 1.66669 10C1.66669 14.6024 5.39765 18.3333 10 18.3333Z\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n          <path d=\"M6.66669 11.6667C6.66669 11.6667 7.91669 13.3333 10 13.3333C12.0834 13.3333 13.3334 11.6667 13.3334 11.6667\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n          <path d=\"M7.5 7.5H7.50833\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n          <path d=\"M12.5 7.5H12.5083\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </svg>\n      </button>\n      {show && (\n        <div className={\"emoji-picker\"} style={{ position: 'absolute', bottom: '40px', right: 0, zIndex: 10 }}>\n          <EmojiPicker\n            onEmojiClick={(emojiData) => {\n              setMessage((prev) => prev + (emojiData.emoji || ''));\n              setShow(false);\n            }}\n            theme=\"light\"\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatEmojiPicker;","import { useQuery } from '@tanstack/react-query';\nimport Placeholder from 'react-bootstrap/Placeholder';\nimport { getTask } from '../../../../../APIs/task-api';\nimport CreateTask from '../create-task/create-task';\n\nconst TaskLoadingView = () => {\n  return (\n    <>\n      <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n        <Placeholder xs={12} bg=\"secondary\" size='lg' />\n      </Placeholder>\n      <Placeholder as=\"p\" animation=\"wave\">\n        <Placeholder xs={12} bg=\"secondary\" style={{ height: '80px' }} size='lg' />\n      </Placeholder>\n      <table className='task-deatils-table w-100'>\n        <tbody>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n    </>\n  );\n};\n\nconst ViewTaskModal = ({ view, setView, taskId, setTaskId, reInitialize }) => {\n  const { data } = useQuery({\n    queryKey: ['taskId', taskId],\n    queryFn: () => getTask(taskId),\n    enabled: !!taskId && !!view,\n    retry: 1,\n    cacheTime: 0,\n    staleTime: 0,\n  });\n\n  return (\n    <>\n      {view && <CreateTask show={view} setShow={setView} taskId={taskId} setTaskId={setTaskId} defaultValue={data} refetch={reInitialize} />}\n    </>\n  );\n};\n\nexport default ViewTaskModal;","const API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasks = async (limit, offset) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> View Task API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksRead = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Update API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUpdate= async (mainData,taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify(mainData)\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task partials Update API  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const partialsTasksUpdate= async (taskId, data) => {\n  console.log('taskId: ', taskId);\n  console.log('data: ', data);\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PATCH',\n    headers: myHeaders,\n    body: JSON.stringify(data),\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Partials update error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Create API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksNew = async (formData) => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: JSON.stringify(formData), // Serialize formData directly here\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/tasks/new/`, requestOptions);\n    const result = await response.text();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Project API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksProject = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/projects/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Uses API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUsers = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/all-users/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DELETE Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksDelete = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'DELETE',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/delete/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    if (response.ok) \n    return { message: 'Task deleted successfully' };\n    else\n    throw new Error(\"Error during deleting\"); \n    \n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Complete Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const TaskCompleteJob = async (taskId, finished) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const raw = JSON.stringify({\n    \"finished\": finished\n  });\n\n  const requestOptions = {\n    method: \"PATCH\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/complete/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfTasks = async (page, limit, search = \"\", order = \"\", isShowDeleted = false, showNotCompleted = false, userId) => {\n    const offset = (page - 1) * limit;\n    const endpoint = `/tasks/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n    if (search) url.searchParams.append(\"search\", search);\n    if (order) url.searchParams.append(\"ordering\", order);\n    if (isShowDeleted) url.searchParams.append('deleted', 1);\n    if (showNotCompleted === true) url.searchParams.append('finished', false);\n    if (showNotCompleted === false) url.searchParams.append('finished', true);\n    if (userId) url.searchParams.append('users', userId);\n\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getTask = async (id) => {\n    const endpoint = `/tasks/${id}/`;\n    const options = {\n        method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createNewTask = async (data) => {\n    const endpoint = '/tasks/new/';\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateTask = async (id, data) => {\n    const endpoint = `/tasks/update/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getUserList = async () => {\n    const endpoint = `/desktop-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getMobileUserList = async () => {\n    const endpoint = `/team/mobile-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getCommentsForTask = async (taskId) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createTaskComment = async (taskId, payload) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'POST',\n        body: payload,\n    });\n};\n\nexport const deleteTaskComment = async (commentId) => {\n    const endpoint = `/tasks/comments/${commentId}/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'DELETE',\n    });\n};","import React, { useCallback, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { Calendar } from 'primereact/calendar';\nimport { ChevronLeftIcon } from 'primereact/icons/chevronleft';\nimport { ChevronRightIcon } from 'primereact/icons/chevronright';\nimport './date-range-picker-calendar.scss';\n\n/**\n * DateRangePickerCalendar - A Calendar component for selecting date ranges\n * \n * @param {Object} props - Component props\n * @param {Function} props.onDataApply - Callback when date range is applied ({ startDate, endDate })\n * @param {Object} props.dateRange - Initial date range { startDate, endDate }\n * @param {Function} props.onClose - Callback when picker is closed/cancelled\n * @param {string} props.className - Additional CSS classes\n */\nexport const DateRangePickerCalendar = ({\n    onDataApply,\n    dateRange,\n    onClose,\n    className = '',\n}) => {\n    const [dates, setDates] = useState(null);\n\n    // Initialize with provided dateRange\n    useEffect(() => {\n        if (dateRange?.startDate && dateRange?.endDate) {\n            const start = dateRange.startDate instanceof Date ? dateRange.startDate : new Date(dateRange.startDate);\n            const end = dateRange.endDate instanceof Date ? dateRange.endDate : new Date(dateRange.endDate);\n            setDates([start, end]);\n        }\n    }, [dateRange]);\n\n    // Handle Apply\n    const handleApply = useCallback(() => {\n        if (dates && dates.length === 2 && dates[0] && dates[1]) {\n            onDataApply({ startDate: dates[0], endDate: dates[1] });\n        } else if (dates && dates.length === 1 && dates[0]) {\n            // If only one date selected, use it as both start and end\n            onDataApply({ startDate: dates[0], endDate: dates[0] });\n        }\n    }, [dates, onDataApply]);\n\n    // Handle Cancel\n    const handleCancel = useCallback(() => {\n        setDates(null);\n        if (onClose) onClose();\n    }, [onClose]);\n\n    // Handle Today\n    const handleToday = useCallback(() => {\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        setDates([today, today]);\n    }, []);\n\n    // Custom footer template\n    const footerTemplate = useCallback(() => {\n        const hasValidRange = dates && dates.length >= 1 && dates[0];\n        \n        return (\n            <div className=\"date-range-footer\">\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-today\" \n                    onClick={handleToday}\n                >\n                    Today\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-cancel\" \n                    onClick={handleCancel}\n                >\n                    Cancel\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-apply\" \n                    onClick={handleApply}\n                    disabled={!hasValidRange}\n                >\n                    Apply\n                </button>\n            </div>\n        );\n    }, [dates, handleToday, handleCancel, handleApply]);\n\n    // Format selected range for display\n    const getHeaderText = useCallback(() => {\n        if (!dates || dates.length === 0) return 'Select date range';\n        \n        const options = { month: 'short', day: 'numeric', year: 'numeric' };\n        const start = dates[0]?.toLocaleDateString('en-US', options) || '';\n        const end = dates[1]?.toLocaleDateString('en-US', options) || '';\n        \n        if (start && end) {\n            return `${start} - ${end}`;\n        } else if (start) {\n            return `${start} - Select end date`;\n        }\n        return 'Select date range';\n    }, [dates]);\n\n    return (\n        <div className={clsx('date-range-picker-calendar', className)}>\n            <div className=\"date-range-header\">\n                <span className=\"date-range-header-text\">{getHeaderText()}</span>\n            </div>\n            <Calendar\n                value={dates}\n                onChange={(e) => setDates(e.value)}\n                selectionMode=\"range\"\n                inline\n                numberOfMonths={1}\n                locale=\"en\"\n                dateFormat=\"dd M yy\"\n                footerTemplate={footerTemplate}\n                firstDayOfWeek={1}\n                showButtonBar={false}\n                prevIcon={<ChevronLeftIcon />}\n                nextIcon={<ChevronRightIcon />}\n            />\n        </div>\n    );\n};\n\nexport default DateRangePickerCalendar;\n","// extracted by mini-css-extract-plugin\nexport default {\"chatArea\":\"chat-area_chatArea__LcIUx\",\"chatSidebar\":\"chat-area_chatSidebar__YWktj\",\"slideIn\":\"chat-area_slideIn__YYoN5\",\"chatContent\":\"chat-area_chatContent__uf9lg\",\"chatBodyArea\":\"chat-area_chatBodyArea__pnfS9\",\"messagesContainer\":\"chat-area_messagesContainer__jP8AR\",\"dragOver\":\"chat-area_dragOver__zUubn\",\"loadingContainer\":\"chat-area_loadingContainer__GABMB\",\"messageInputContainer\":\"chat-area_messageInputContainer__utwWT\",\"messageInput\":\"chat-area_messageInput__IlSJP\",\"messageInputIcons\":\"chat-area_messageInputIcons__hW5ZW\",\"attachButton\":\"chat-area_attachButton__oHyZF\",\"emojiButton\":\"chat-area_emojiButton__DtKy-\",\"sendButton\":\"chat-area_sendButton__ZTAOh\",\"emptyChat\":\"chat-area_emptyChat__Kcq0J\",\"emptyChatIcon\":\"chat-area_emptyChatIcon__2jxD+\",\"emptyChatText\":\"chat-area_emptyChatText__bUdhG\",\"chatMenu\":\"chat-area_chatMenu__K57W1\",\"attachmentLabel\":\"chat-area_attachmentLabel__Zt7sR\"};"],"names":["API_BASE_URL","process","getListOfExpense","async","page","limit","_filters$status","search","arguments","length","undefined","order","isShowUnpaid","filters","offset","queryParams","push","encodeURIComponent","suppliersFilter","_filters$suppliers","suppliers","map","supplier","id","join","console","log","departmentsFilter","_filters$departments","departments","dept","statusFilter","_filters$status2","status","forEach","element","name","date","_filters$date$","_filters$date$$value","_filters$date$2","_filters$date$2$value","startDate","value","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","endDate","finalUrl","fetchAPI","method","getXeroCodesList","url","URL","toString","getProjectsList","getExpense","createNewExpense","options","body","data","updateExpense","paidExpense","unpaidExpense","sendExpenseToXeroApi","deleteExpense","uniqueId","downloadStatement","sendStatementEmail","assignCodeToSupplier","code","TaskAttachment","buttonRef","useRef","_jsx","_Fragment","children","className","styles","type","ref","style","padding","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","formatDateRange","toLocaleDateString","DateRangeComponent","_ref","_ref2","setDateRange","dateRange","isPickerVisible","setIsPickerVisible","useState","selectDateRef","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","_jsxs","position","onClick","togglePicker","prev","cursor","border","borderRadius","Calendar2Event","color","size","top","background","zIndex","DateRangePickerCalendar","onDataApply","onClose","normalizeComment","c","_c$created_by","_c$created_by2","_c$created_by3","_c$created_by4","_c$created_by5","text","comment","created_at","user","created_by","full_name","email","photo","avatar","role","formatTimeAgo","timestamp","now","diff","Math","floor","forwardRef","taskId","refetch","fetchNextPage","hasNextPage","isFetchingNextPage","isLoading","useInfiniteQuery","queryKey","queryFn","pageParam","fetch","then","res","json","getCommentsForTask","enabled","getNextPageParam","lastPage","next","useImperativeHandle","refetchComments","deleteCommentMutation","useMutation","mutationFn","deleteTaskComment","onSuccess","toast","success","onError","error","comments","pages","slice","flatMap","results","sort","a","b","getTime","reverse","loading","noComments","commentsContainer","loadMoreWrapper","disabled","loadMoreBtn","commentsList","_comment$user","_comment$user2","_comment$user3","commentItem","FallbackImage","has_photo","is_business","header","userName","commentTime","handleDeleteComment","commentId","mutate","deleteButton","marginLeft","fontSize","commentText","dateFormat","dateInMiliSec","show","setShow","setTaskId","defaultValue","projectId","dropdownRef","textareaRef","commentsRef","commentInputRef","commentsScrollRef","session","useAuth","submitted","setSubmitted","showEmojiPicker","setShowEmojiPicker","taskTitle","setTaskTitle","description","setDescription","project","setProject","setUser","setDate","newComment","setNewComment","isSubmittingComment","setIsSubmittingComment","errors","setErrors","_defaultValue$project","_defaultValue$user","title","from_date","to_date","reset","projectsList","useQuery","usersList","getUserList","mobileUsersList","getMobileUserList","mutation","updateTask","createNewTask","handleSubmit","newErrors","deleteMutation","fetchTasksDelete","handleDelete","handleClose","addCommentMutation","payload","createTaskComment","_commentsRef$current","setTimeout","scrollIntoView","behavior","block","onSettled","_commentInputRef$curr","focus","handleAddComment","_session$user","trim","attachment_url","attachment_type","scrollHeight","Sidebar","visible","onHide","modal","dismissable","marginRight","content","_dropdownRef$current2","_dropdownRef$current3","_dropdownRef$current4","_usersList$data","_usersList$data$users","_usersList$data$users2","_mobileUsersList$data","_mobileUsersList$data2","_mobileUsersList$data3","_projectsList$data","_session$user2","_session$user3","closeIconRef","hide","borderBottom","PlusCircle","fontWeight","Button","e","X","overflow","Form","Control","placeholder","onChange","Text","Row","Col","sm","Label","_dropdownRef$current","Person","panel","offsetParent","Dropdown","label","items","users","filter","is_active","first_name","last_name","has_work_subscription","valueTemplate","option","left","itemTemplate","dropdownIcon","collapseIcon","filterInputAutoFocus","optionGroupLabel","optionGroupChildren","SelectDate","number","reference","clsx","maxWidth","isFetching","as","rows","onInput","onFocus","TaskComments","borderTop","flexShrink","InputTextarea","onKeyDown","key","shiftKey","preventDefault","resize","minHeight","transition","ChatEmojiPicker","setMessage","ProgressSpinner","Send","isPending","minWidth","emojiPicker","querySelector","emojiButton","React","v","tabIndex","bottom","right","EmojiPicker","onEmojiClick","emojiData","emoji","theme","view","setView","reInitialize","getTask","retry","cacheTime","staleTime","CreateTask","fetchTasksRead","myHeaders","Headers","accessToken","localStorage","getItem","append","requestOptions","headers","response","redirect","ok","message","Error","TaskCompleteJob","finished","JSON","stringify","getListOfTasks","isShowDeleted","showNotCompleted","userId","searchParams","dates","setDates","start","end","handleApply","useCallback","handleCancel","handleToday","today","setHours","footerTemplate","hasValidRange","getHeaderText","_dates$","_dates$2","Calendar","selectionMode","inline","numberOfMonths","locale","firstDayOfWeek","showButtonBar","prevIcon","ChevronLeftIcon","nextIcon","ChevronRightIcon"],"sourceRoot":""}