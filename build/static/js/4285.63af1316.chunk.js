"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[4285,6731],{13534:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),l=n(65173),r=n.n(l),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(null,arguments)}var a=(0,s.forwardRef)((function(e,t){var n=e.color,l=void 0===n?"currentColor":n,r=e.size,a=void 0===r?"1em":r,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,v=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,i);return s.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-geo-alt",p].filter(Boolean).join(" ")},v),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"}),s.createElement("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"}))}));a.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const c=a},33361:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),l=n(65173),r=n.n(l),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(null,arguments)}var a=(0,s.forwardRef)((function(e,t){var n=e.color,l=void 0===n?"currentColor":n,r=e.size,a=void 0===r?"1em":r,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,v=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,i);return s.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-envelope",p].filter(Boolean).join(" ")},v),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"}))}));a.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const c=a},39759:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),l=n(65173),r=n.n(l),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(null,arguments)}var a=(0,s.forwardRef)((function(e,t){var n=e.color,l=void 0===n?"currentColor":n,r=e.size,a=void 0===r?"1em":r,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,v=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,i);return s.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-filter",p].filter(Boolean).join(" ")},v),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"}))}));a.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const c=a},54967:(e,t,n)=>{n.d(t,{Ab:()=>a,dg:()=>c,fr:()=>d,Ay:()=>u});var s=n(65043),l=n(44541),r=n(95192);const i="image-avatar_clientImg__-nnRU";var o=n(70579);const a=e=>{let{has_photo:t,photo:n,is_business:i,size:a}=e;const[c,d]=(0,s.useState)(!1),u=i?l.A:r.A;return(0,o.jsx)(o.Fragment,{children:t&&n&&!c?(0,o.jsx)("img",{src:n,alt:"client avatar",className:"w-100",onError:()=>d(!0)}):(0,o.jsx)(u,{color:"#667085",size:a})})},c=e=>{var t,n,l;let{has_photo:r,photo:i,name:a}=e;const[c,d]=(0,s.useState)(!1),u=a&&(null===a||void 0===a||null===(t=a.split(" "))||void 0===t||null===(n=t.map((e=>e[0])))||void 0===n||null===(l=n.join(""))||void 0===l?void 0:l.toUpperCase())||"";return(0,o.jsx)(o.Fragment,{children:r&&i&&!c?(0,o.jsx)("img",{src:i,alt:"client avatar",className:"w-100",onError:()=>d(!0)}):u})},d=e=>{let{name:t,size:n=14}=e;const s=t.split(" ").map((e=>e[0])).join("").toUpperCase();return(0,o.jsx)("span",{style:{fontSize:`${n}px`},children:s})},u=e=>{let{has_photo:t,photo:n,is_business:a}=e;const[c,d]=(0,s.useState)(!1),u=a?l.A:r.A;return(0,o.jsx)("div",{className:`d-flex justify-content-center align-items-center ${i} ${a?"":"rounded-circle"}`,style:{overflow:"hidden"},children:t&&n&&!c?(0,o.jsx)("img",{src:n,alt:"client avatar",className:"w-100",onError:()=>d(!0)}):(0,o.jsx)(u,{color:"#667085"})})}},61427:(e,t,n)=>{n.d(t,{A:()=>f});var s=n(65043),l=n(14282),r=n(93202),i=n(56741),o=n(73216),a=n(64018),c=n(63712),d=n(20288),u=n(56328);const p="supplier-create_circledesignstyle__RXgvx",v="supplier-create_out__lEI-I";var m=n(1340),h=n(70579);const f=e=>{let{visible:t,setVisible:n,refetch:f}=e;const g=(0,s.useRef)(null),x=new URLSearchParams((0,o.zy)().search).get("addNewSupplier"),[b,y]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[N]=(0,s.useState)({contact_persons:[{}],addresses:[{title:"Main Location",country:1}]}),S=async e=>{console.log("data: ",e),(async e=>{console.log("data: ",e);const t=new FormData;t.append("name",e.name),e.email&&t.append("email",e.email),e.website&&t.append("website",e.website),e.abn&&t.append("abn",e.abn);const s=(null===e||void 0===e?void 0:e.phone)&&(0,a.l)(e.phone);if(null!==s&&void 0!==s&&s.nationalNumber&&t.append("phone",e.phone),e.service&&t.append("service",e.service),e.note&&t.append("note",e.note),e.addresses.forEach(((e,n)=>{e.city&&(t.append(`addresses[${n}]address`,e.address),t.append(`addresses[${n}]city`,e.city),t.append(`addresses[${n}]postcode`,e.postcode),t.append(`addresses[${n}]is_main`,e.is_main),t.append(`addresses[${n}]title`,e.title))})),e.contact_persons.forEach(((e,n)=>{if(e.firstname||e.email){t.append(`contact_persons[${n}]firstname`,e.firstname),t.append(`contact_persons[${n}]lastname`,e.lastname),t.append(`contact_persons[${n}]email`,e.email);const s=(null===e||void 0===e?void 0:e.phone)&&(0,a.l)(e.phone);null!==s&&void 0!==s&&s.nationalNumber&&t.append(`contact_persons[${n}]phone`,e.phone),t.append(`contact_persons[${n}]position`,e.position),t.append(`contact_persons[${n}]is_main`,e.is_main)}})),null!==j&&void 0!==j&&j.croppedImageBlob){const e=(0,c.Ak)(6);t.append("photo",null===j||void 0===j?void 0:j.croppedImageBlob,`${e}.jpg`)}try{y(!0);const e=localStorage.getItem("access_token"),s=await fetch("https://app.memate.com.au/api/v1/suppliers/new/",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t});s.ok?(console.log("response: ",s),u.oR.success("New supplier created successfully"),n(!1),f((e=>!e))):u.oR.error("Failed to create new supplier. Please try again.")}catch(l){u.oR.error("Failed to create new supplier. Please try again.")}finally{y(!1)}})(e)},O=()=>{g.current&&g.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,s.useEffect)((()=>{t||w(null)}),[t]),(0,s.useEffect)((()=>{x&&n(!0)}),[x,n]),(0,h.jsx)(d.B,{visible:t,position:"right",onHide:()=>n(!1),modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{let{closeIconRef:t,hide:s}=e;return(0,h.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,h.jsx)("div",{className:p,children:(0,h.jsx)("div",{className:v,children:(0,h.jsx)(r.A,{size:24,color:"#17B26A"})})}),(0,h.jsx)("span",{style:{color:"344054",fontSize:"20px",fontWeight:600},children:"Create new Supplier"})]}),(0,h.jsx)("span",{children:(0,h.jsx)(l.A,{type:"button",className:"text-button",ref:t,onClick:e=>s(e),children:(0,h.jsx)(i.A,{size:24,color:"#667085"})})})]}),(0,h.jsx)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 122px)",overflow:"auto"},children:(0,h.jsx)(m.A,{photo:j,setPhoto:w,ref:g,onSubmit:S,defaultValues:N})}),(0,h.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,h.jsx)(l.A,{type:"button",onClick:e=>{e.stopPropagation(),n(!1)},className:"outline-button",children:"Cancel"}),(0,h.jsx)(l.A,{type:"button",disabled:b,onClick:O,className:"solid-button",style:{minWidth:"75px"},children:b?"Loading...":"Save"})]})]})}})}},75329:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),l=n(65173),r=n.n(l),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(null,arguments)}var a=(0,s.forwardRef)((function(e,t){var n=e.color,l=void 0===n?"currentColor":n,r=e.size,a=void 0===r?"1em":r,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,v=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,i);return s.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-download",p].filter(Boolean).join(" ")},v),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),s.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"}))}));a.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const c=a},76104:(e,t,n)=>{n.d(t,{v:()=>m});var s=n(65043),l=n(84052),r=n(41828),i=n(2028),o=n(4504);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={value:"p-tag-value",icon:"p-tag-icon",root:function(e){var t=e.props;return(0,o.xW)("p-tag p-component",d(d({},"p-tag-".concat(t.severity),null!==t.severity),"p-tag-rounded",t.rounded))}},p=r.x.extend({defaultProps:{__TYPE:"Tag",value:null,severity:null,rounded:!1,icon:null,style:null,className:null,children:void 0},css:{classes:u,styles:"\n@layer primereact {\n    .p-tag {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-tag-icon,\n    .p-tag-value,\n    .p-tag-icon.pi {\n        line-height: 1.5;\n    }\n    \n    .p-tag.p-tag-rounded {\n        border-radius: 10rem;\n    }\n}\n"}});function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}var m=s.forwardRef((function(e,t){var n=(0,i.qV)(),a=s.useContext(l.UM),c=p.getProps(e,a),u=p.setMetaData({props:c}),m=u.ptm,h=u.cx,f=u.isUnstyled;(0,r.j)(p.css.styles,f,{name:"tag"});var g=s.useRef(null),x=n({className:h("icon")},m("icon")),b=o.Hj.getJSXIcon(c.icon,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},x),{props:c});s.useImperativeHandle(t,(function(){return{props:c,getElement:function(){return g.current}}}));var y=n({ref:g,className:(0,o.xW)(c.className,h("root")),style:c.style},p.getOtherProps(c),m("root")),j=n({className:h("value")},m("value"));return s.createElement("span",y,b,s.createElement("span",j,c.value),s.createElement("span",null,c.children))}));m.displayName="Tag"},83608:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),l=n(65173),r=n.n(l),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(null,arguments)}var a=(0,s.forwardRef)((function(e,t){var n=e.color,l=void 0===n?"currentColor":n,r=e.size,a=void 0===r?"1em":r,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,v=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,i);return s.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:l,className:["bi","bi-globe",p].filter(Boolean).join(" ")},v),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m7.5-6.923c-.67.204-1.335.82-1.887 1.855A8 8 0 0 0 5.145 4H7.5zM4.09 4a9.3 9.3 0 0 1 .64-1.539 7 7 0 0 1 .597-.933A7.03 7.03 0 0 0 2.255 4zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a7 7 0 0 0-.656 2.5zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5zM8.5 5v2.5h2.99a12.5 12.5 0 0 0-.337-2.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5zM5.145 12q.208.58.468 1.068c.552 1.035 1.218 1.65 1.887 1.855V12zm.182 2.472a7 7 0 0 1-.597-.933A9.3 9.3 0 0 1 4.09 12H2.255a7 7 0 0 0 3.072 2.472M3.82 11a13.7 13.7 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5zm6.853 3.472A7 7 0 0 0 13.745 12H11.91a9.3 9.3 0 0 1-.64 1.539 7 7 0 0 1-.597.933M8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855q.26-.487.468-1.068zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.7 13.7 0 0 1-.312 2.5m2.802-3.5a7 7 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7 7 0 0 0-3.072-2.472c.218.284.418.598.597.933M10.855 4a8 8 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4z"}))}));a.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const c=a},93759:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var s=n(65043),l=n(14282),r=n(75329),i=n(39759),o=n(6168),a=n(43908),c=n(49367),d=n(58387),u=n(2028),p=n(90818),v=n(33361),m=n(13534),h=n(83608),f=n(73216),g=n(35475),x=n(72018),b=n(9642),y=n(64824),j=n(76104);const w="suppliers_filterBox__CnW1D",N="suppliers_menu__RZTGG",S="suppliers_newButton__JlVBu",O="suppliers_total__90fZx",_="suppliers_totalCount__Eut2l",C="suppliers_ellipsis__09ko+",z="suppliers_location__Jnqsv",A="suppliers_active__0N4Oa",E="suppliers_selectedCount__Qv+be",P="suppliers_deletedRow__NjDyz";var $=n(52781),M=n(48417),R=n(14834),k=n(27734),D=n(54967),B=n(99868),V=n(70579);const F=(0,s.forwardRef)(((e,t)=>{let{searchValue:n,setTotalSuppliers:l,selectedSuppliers:r,setSelectedSuppliers:i,isShowDeleted:o,refetch:a}=e;const c=(0,f.Zp)(),d=(0,s.useRef)(null),{trialHeight:u}=(0,M.$)(),[p,w]=(0,s.useState)([]),[N,S]=(0,s.useState)(1),[O,_]=(0,s.useState)({sortField:"number",sortOrder:-1}),[A,E]=(0,s.useState)({sortField:"number",sortOrder:-1}),[F,T]=(0,s.useState)(!0),[W,I]=(0,s.useState)(!1);(0,s.useEffect)((()=>{S(1)}),[n,a,o]),(0,s.useEffect)((()=>{(async()=>{I(!0);let e="";1===(null===A||void 0===A?void 0:A.sortOrder)?e=`${A.sortField}`:-1===(null===A||void 0===A?void 0:A.sortOrder)&&(e=`-${A.sortField}`);const t=await(0,$.Jj)(N,25,n,e,o);var s;(l((()=>(null===t||void 0===t?void 0:t.count)||0)),1===N)?w(t.results):(null===t||void 0===t||null===(s=t.results)||void 0===s?void 0:s.length)>0&&w((e=>{const n=new Set(e.map((e=>e.id))),s=t.results.filter((e=>!n.has(e.id)));return[...e,...s]}));_(A),T(t.count!==p.length),I(!1)})()}),[N,n,A,a,o]),(0,s.useEffect)((()=>{if(p.length>0&&F){d.current=new IntersectionObserver((e=>{e[0].isIntersecting&&S((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&d.current.observe(e)}return()=>{d.current&&d.current.disconnect()}}),[p,F]);return(0,V.jsxs)(y.b,{ref:t,value:p,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,onColumnResizeEnd:e=>{console.log("event: ",e)},showGridlines:!0,size:"large",scrollHeight:`calc(100vh - 175px - ${u}px)`,className:"border",selection:r,onSelectionChange:e=>i(e.value),loading:W,loadingIcon:k.A,emptyMessage:(0,V.jsx)(B.A,{isDataExist:!!n||!!o}),sortField:null===O||void 0===O?void 0:O.sortField,sortOrder:null===O||void 0===O?void 0:O.sortOrder,onSort:e=>{const{sortField:t,sortOrder:n}=e;E({sortField:t,sortOrder:n}),S(1)},rowClassName:e=>null!==e&&void 0!==e&&e.deleted?P:"",children:[(0,V.jsx)(b.V,{selectionMode:"multiple",headerClassName:"border-end-0 ps-4",bodyClassName:"show-on-hover border-end-0 ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,V.jsx)(b.V,{field:"number",header:"Supplier ID",body:e=>(0,V.jsx)("div",{className:"d-flex align-items-center",children:(0,V.jsx)("span",{children:e.number})}),headerClassName:"paddingLeftHide",bodyClassName:"paddingLeftHide",style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,V.jsx)(b.V,{field:"name",header:"Supplier A\u2192Z",body:e=>(0,V.jsxs)("div",{className:"d-flex align-items-center gap-1 show-on-hover",children:[(0,V.jsx)(D.Ay,{has_photo:e.has_photo,photo:e.photo,is_business:!0}),(0,V.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,V.jsx)("div",{className:`${C}`,children:e.name}),e.deleted?(0,V.jsx)(j.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]}),(0,V.jsx)(x.$,{label:"Open",onClick:()=>c(`/suppliers/${e.id}/history`),className:"primary-text-button ms-3 show-on-hover-element not-show-checked",text:!0})]}),headerClassName:"shadowRight",bodyClassName:"shadowRight",style:{minWidth:"254px"},frozen:!0,sortable:!0}),(0,V.jsx)(b.V,{field:"services",header:"Supplier Services",body:e=>{var t,n,s;return null!==e&&void 0!==e&&e.service?`${null===e||void 0===e||null===(t=e.service)||void 0===t?void 0:t.code} | ${null===e||void 0===e||null===(n=e.service)||void 0===n?void 0:n.industry_name}: ${null===e||void 0===e||null===(s=e.service)||void 0===s?void 0:s.name} `:"-"},style:{minWidth:"469px"}}),(0,V.jsx)(b.V,{field:"email",header:"Email",body:e=>(0,V.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,V.jsx)(g.N_,{to:"#",onClick:t=>{t.preventDefault(),window.location.href=`mailto:${null===e||void 0===e?void 0:e.email}`},children:(0,V.jsx)(v.A,{size:20,color:"#98A2B3",className:"email-icon"})})}),style:{minWidth:"68px"}}),(0,V.jsx)(b.V,{header:"Address",body:e=>{var t,n,s,l;let r=(null===e||void 0===e||null===(t=e.addresses)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(n=e.addresses[0])||void 0===n?void 0:n.address)||"",i=(null===e||void 0===e||null===(s=e.addresses)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(l=e.addresses)||void 0===l?void 0:l.find((e=>!0===e.is_main)));return(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,V.jsx)("span",{style:{color:"#98A2B3",fontSize:"14px"},children:(null===i||void 0===i?void 0:i.address)||r||"-"}),((null===i||void 0===i?void 0:i.address)||r)&&(0,V.jsx)(g.N_,{to:`http://maps.google.com/?q=${(null===i||void 0===i?void 0:i.address)||r}`,target:"_blank",className:`${z} show-on-hover-element`,children:(0,V.jsx)(m.A,{})})]})},style:{minWidth:"313px"}}),(0,V.jsx)(b.V,{header:"State",body:e=>{var t,n,s,l;let r=(null===e||void 0===e||null===(t=e.addresses)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(n=e.addresses[0])||void 0===n?void 0:n.state_alias)||"",i=(null===e||void 0===e||null===(s=e.addresses)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(l=e.addresses)||void 0===l?void 0:l.find((e=>!0===e.is_main)));return(null===i||void 0===i?void 0:i.state_alias)||r||"-"},style:{minWidth:"60px",textAlign:"center"}}),(0,V.jsx)(b.V,{header:"Post Code",body:e=>{var t,n,s,l;let r=(null===e||void 0===e||null===(t=e.addresses)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(n=e.addresses[0])||void 0===n?void 0:n.postcode)||"",i=(null===e||void 0===e||null===(s=e.addresses)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(l=e.addresses)||void 0===l?void 0:l.find((e=>!0===e.is_main)));return(null===i||void 0===i?void 0:i.postcode)||r||"-"},style:{minWidth:"88px",textAlign:"center"}}),(0,V.jsx)(b.V,{field:"total_spent",body:e=>(0,V.jsx)(j.v,{value:`$${(0,R.m)(e.total_spent)}`,style:{height:"22px",minWidth:"26px",borderRadius:"20px",border:"1px solid #D0D5DD",background:"#fff",color:"#344054",fontSize:"12px",fontWeight:500}}),header:"Total Spent",style:{minWidth:"111px"},sortable:!0}),(0,V.jsx)(b.V,{field:"website",header:"Website",body:e=>e.website?(0,V.jsx)(g.N_,{to:e.website?e.website.startsWith("http://")||e.website.startsWith("https://")?e.website:`https://${e.website}`:"#",target:"_blank",children:(0,V.jsx)(h.A,{className:"show-on-hover-element",color:"#98A2B3"})}):"-",style:{minWidth:"56px",textAlign:"center"}})]})}));var T=n(61427);const W=()=>{const e=(0,s.useRef)(null),t=(0,s.useRef)(null),[n,v]=(0,s.useState)(!1),[m,h]=(0,s.useState)(0),[f,g]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),[y,j]=(0,s.useState)(null),[C,z,P]=(0,u.d7)("",400);return(0,V.jsxs)("div",{className:"peoples-page",children:[(0,V.jsx)(c.mg,{children:(0,V.jsx)("title",{children:"MeMate - Suppliers"})}),(0,V.jsxs)("div",{className:`topbar ${null!==y&&void 0!==y&&y.length?A:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,V.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==y&&void 0!==y&&y.length?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("h6",{className:E,children:["Selected: ",null===y||void 0===y?void 0:y.length]}),(0,V.jsx)("div",{className:"filtered-box",children:(0,V.jsx)("button",{className:`${w}`,onClick:()=>{return t=!0,void(e.current?e.current.exportCSV({selectionOnly:t}):console.error("DataTable ref is null"));var t},children:(0,V.jsx)(r.A,{})})})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"filtered-box",children:[(0,V.jsx)("button",{className:`${w}`,onClick:e=>t.current.toggle(e),children:(0,V.jsx)(i.A,{size:20})}),(0,V.jsx)(p.b,{model:[{label:(0,V.jsx)("div",{onClick:()=>b(!x),className:"d-flex align-items-center text-nowrap gap-3 p",children:x?(0,V.jsxs)(V.Fragment,{children:["Hide Deleted Clients ",(0,V.jsx)(o.A,{})]}):(0,V.jsxs)(V.Fragment,{children:["Show Deleted Suppliers ",(0,V.jsx)(a.A,{})]})})}],className:(0,d.A)(N),popup:!0,ref:t,breakpoint:"767px"})]}),(0,V.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,V.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,V.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,V.jsx)("input",{type:"text",placeholder:"Search",value:C,onChange:e=>P(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,V.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,V.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Suppliers"}),(0,V.jsx)(l.A,{onClick:()=>g(!0),className:`${S}`,children:"Create New Supplier"})]}),(0,V.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,V.jsx)("h1",{className:`${O} mb-0`,children:"Total"}),(0,V.jsxs)("div",{className:`${_}`,children:[m," Suppliers"]})]})]}),(0,V.jsx)(F,{ref:e,searchValue:z,setTotalSuppliers:h,selectedSuppliers:y,setSelectedSuppliers:j,isShowDeleted:x,refetch:n}),(0,V.jsx)(T.A,{visible:f,setVisible:g,refetch:v})]})}}}]);
//# sourceMappingURL=4285.63af1316.chunk.js.map