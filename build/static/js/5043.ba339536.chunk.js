"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5043],{12532:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/taskEditIcon.5073a6098e75cbfe59e3f782e1a2d772.svg"},31342:(e,t,n)=>{n.d(t,{f:()=>a});const a=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:a="GET",headers:o={},body:s}=t,r=localStorage.getItem("access_token"),c=s instanceof FormData,i={"Content-Type":c?"multipart/form-data":"application/json",...o};n&&(i.Authorization=`Bearer ${r}`);const d={method:a,headers:i,body:c?s:JSON.stringify(s),redirect:"follow"};try{const t=new URL(`${e}`),n=await fetch(t,d);if(!n.ok){if(401===n.status&&(window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace("/login")),404===n.status)throw new Error("Not found");throw new Error(`HTTP error! Status: ${n.status}`)}const a=n.headers.get("Content-Type");if(a&&a.includes("application/json"))return await n.json();return{message:"Non-JSON response",body:await n.text()}}catch(l){throw console.error("Fetch API error:",l),l}}},34168:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(65043),o=(n(7245),n(27965)),s=n(70579);const r=e=>{let{onDataApply:t,dateRange:n,onClose:r}=e;const[c,i]=(0,a.useState)([]),d=(0,a.useRef)(null),[l,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1),[g,w]=(0,a.useState)("");(0,a.useEffect)((()=>{n&&(i([null===n||void 0===n?void 0:n.startDate,null===n||void 0===n?void 0:n.endDate]),u(null===n||void 0===n?void 0:n.startDate),h(null===n||void 0===n?void 0:n.endDate))}),[]),(0,a.useEffect)((()=>{const e=new Date,t=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;w(t)}),[]);(0,a.useEffect)((()=>{if(2===c.length){const e=c[0],t=c[1];u(e),h(t)}else if(1===c.length){const e=c[0];u(e)}}),[c]);(0,a.useEffect)((()=>{}),[m]);const y=()=>{const e=new Date;i([e,e])};return(0,a.useEffect)((()=>{if(l||p){if(l&&p){const e={year:"numeric",month:"short",day:"numeric"},t=`<p>${`${new Date(l).toLocaleDateString("en-US",e)} - ${new Date(p).toLocaleDateString("en-US",e)}`}</p><span class="today-span" style="cursor: pointer">Today</span>`,n=document.querySelector(".flatpickr-months");if(n){const e=document.querySelector(".custom-div");if(e)e.innerHTML=t;else{const e=document.createElement("div");e.className="custom-div",e.innerHTML=t,n.parentNode.insertBefore(e,n.nextSibling)}}}}else{const e=new Date;u(e),h(e)}}),[l,p]),(0,a.useEffect)((()=>{const e=document.querySelector(".today-span");return e&&e.addEventListener("click",y),()=>{e&&e.removeEventListener("click",y)}}),[l,p]),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.A,{options:{dateFormat:"Y-m-d",mode:"range",locale:{firstDayOfWeek:1},inline:!0},value:c,onChange:e=>{i(e)},ref:d}),(0,s.jsxs)("div",{className:"calenderBut",children:[(0,s.jsx)("button",{className:"tabCancel",onClick:()=>{i([]),u(null),h(null),f(!1),r&&r();const e=document.querySelector(".custom-div p");e&&(e.textContent=`${g}`)},children:"Cancel"}),(0,s.jsx)("button",{className:"tabApply",onClick:()=>{f(!0),t({startDate:l,endDate:p});const e=document.querySelector(".tags-input-container .rangedatepicker .mainWrapperTags");e&&(e.textContent=`${l.toISOString().split("T")[0]} - ${p.toISOString().split("T")[0]}`)},children:"Apply"})]})]})}},35470:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),o=n(63040),s=n(34168),r=n(70579);const c=(e,t)=>{const n={month:"short",day:"numeric"};return`${new Date(e).toLocaleDateString("en-US",n)} - ${new Date(t).toLocaleDateString("en-US",n)}`},i=e=>{let{startDate:t,endDate:n}=e;return(0,r.jsx)("div",{className:"dateSelectdTaskBar",children:c(t,n)})},d=e=>{let{setDateRange:t,dateRange:n}=e;console.log("dateRange: ",n);const[c,d]=(0,a.useState)(!1),l=(0,a.useRef)(null),u=e=>{l.current&&!l.current.contains(e.target)&&d(!1)};return(0,a.useEffect)((()=>(c?document.addEventListener("mousedown",u):document.removeEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)})),[c]),(0,r.jsxs)("div",{className:"select-date",style:{position:"relative"},ref:l,children:[(0,r.jsx)("div",{onClick:()=>d((e=>!e)),style:{cursor:"pointer"},children:null!==n&&void 0!==n&&n.startDate&&null!==n&&void 0!==n&&n.endDate?(0,r.jsx)(i,{startDate:n.startDate,endDate:n.endDate}):(0,r.jsx)("span",{className:"iconStyleCircle iconStyleCircleRight "+(c?"active":""),children:(0,r.jsx)(o.A,{color:c?"#1AB2FF":"#475467",size:18})})}),c&&(0,r.jsx)("div",{className:"select-date-range",style:{position:"absolute",bottom:"40px",background:"#fff",zIndex:1e3},children:(0,r.jsx)(s.A,{onDataApply:e=>{t(e),d(!1)},dateRange:n,onClose:()=>d(!1)})})]})}},42052:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/task-details.6c24fdfe452b19f485da192519e9cbe3.svg"},42265:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/Avatar.58594ab62b53fb25ff3255321cd11118.svg"},72796:(e,t,n)=>{n.d(t,{Nl:()=>r,_x:()=>i,dd:()=>o,mM:()=>c,wW:()=>s});const a="https://dev.memate.com.au/api/v1",o=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const o={method:"GET",headers:t};try{const t=new URL(`${a}/tasks/${e}/`),n=await fetch(t,o);return await n.json()}catch(s){throw console.error("Tasks fetch error:",s),s}},s=async(e,t)=>{const n=new Headers,o=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${o}`),n.append("Content-Type","application/json");const s={method:"PUT",headers:n,body:JSON.stringify(e)};try{const e=new URL(`${a}/tasks/update/${t}/`),n=await fetch(e,s);return await n.json()}catch(r){throw console.error("Tasks fetch error:",r),r}},r=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const o={method:"POST",headers:t,body:JSON.stringify(e),redirect:"follow"};try{const e=await fetch(`${a}/tasks/new/`,o);return await e.text()}catch(s){throw console.error(s),s}},c=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const o={method:"DELETE",headers:t,redirect:"follow"};try{const t=new URL(`${a}/tasks/delete/${e}/`);if((await fetch(t,o)).ok)return{message:"Task deleted successfully"};throw new Error("Error during deleting")}catch(s){throw console.error("Tasks fetch error:",s),s}},i=async(e,t)=>{const n=new Headers,o=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${o}`),n.append("Content-Type","application/json");const s={method:"PATCH",headers:n,body:JSON.stringify({finished:t}),redirect:"follow"};try{const t=new URL(`${a}/tasks/complete/${e}/`),n=await fetch(t,s);return await n.json()}catch(r){throw console.error("Tasks fetch error:",r),r}}},79106:(e,t,n)=>{n.d(t,{Af:()=>c,U9:()=>s,aU:()=>d,gg:()=>r,gy:()=>l,lC:()=>i});var a=n(31342);const o="https://dev.memate.com.au/api/v1",s=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;const c=(e-1)*t,i=new URL(`${o}/tasks/`);return i.searchParams.append("limit",t),i.searchParams.append("offset",c),n&&i.searchParams.append("name",n),s&&i.searchParams.append("ordering",s),r&&i.searchParams.append("deleted",1),(0,a.f)(i.toString(),{method:"GET"})},r=async e=>{const t=new URL(`${o}${`/tasks/${e}/`}`);return(0,a.f)(t.toString(),{method:"GET"})},c=async e=>{const t={method:"POST",body:e},n=new URL(`${o}/tasks/new/`);return(0,a.f)(n.toString(),t)},i=async(e,t)=>{const n={method:"PUT",body:t},s=new URL(`${o}${`/tasks/update/${e}/`}`);return(0,a.f)(s.toString(),n)},d=async()=>{const e=new URL(`${o}/desktop-users/`);return(0,a.f)(e.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${o}/team/mobile-users/`);return(0,a.f)(e.toString(),{method:"GET"})}},84678:(e,t,n)=>{n.d(t,{A:()=>a});n(65043);const a=n.p+"static/media/new-task.1f7c3f35d1b3af6863cc0437d88ae2f1.svg"}}]);
//# sourceMappingURL=5043.ba339536.chunk.js.map