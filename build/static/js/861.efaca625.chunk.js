"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[861],{14834:(e,s,a)=>{function l(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=parseFloat(e);return isNaN(a)?"0.00":s&&Math.abs(a)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(a):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}a.d(s,{m:()=>l})},17344:(e,s,a)=>{a.d(s,{A:()=>C});var l=a(65043),r=a(61072),d=a(78602),n=a(95192),i=a(24858),t=a(17380),o=a(18403),c=a(93747),m=a(58387),u=a(88060),p=a(28676),x=a(74532),h=a(72052),v=a(27932),j=a(80899),g=a(20685),A=a(59638),N=a(27472),f=a(63882),b=a(70579);const y=j.Ik({firstname:j.Yj().required("First name is required"),lastname:j.Yj().required("Last name is required"),email:j.Yj().nullable().transform((e=>""===e?null:e)).matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Invalid email address").notRequired(),payment_terms:j.ai().typeError("Enter a valid payment terms").required("Payment terms are required"),category:j.ai().typeError("Enter a valid category").required("Category is required")}).required(),C=(0,l.forwardRef)(((e,s)=>{var a,j,C,S,I,F,w,q,_,k,T,E,P,D,B,G,V,H,L,$,z,K,M,R;let{photo:U,setPhoto:Y,onSubmit:O,defaultValues:J}=e;const[Q,W]=(0,l.useState)(!1),[X,Z]=(0,l.useState)(""),[ee,se]=(0,l.useState)(""),ae=(0,c.I)({queryKey:["countries"],queryFn:A.X6,enabled:!0}),le=(0,c.I)({queryKey:["states",X],queryFn:()=>(0,A.nP)(X),enabled:!!X,retry:1}),re=(0,c.I)({queryKey:["cities",ee],queryFn:()=>(0,A.i6)(ee),enabled:!!ee}),de=(0,c.I)({queryKey:["categories"],queryFn:A.Ql}),{control:ne,register:ie,handleSubmit:te,formState:{errors:oe},setValue:ce}=(0,i.mN)({resolver:(0,o.t)(y),defaultValues:J});return(0,l.useEffect)((()=>{var e,s,a,l;null!==J&&void 0!==J&&null!==(e=J.address)&&void 0!==e&&e.country&&Z(null===J||void 0===J||null===(s=J.address)||void 0===s?void 0:s.country),null!==J&&void 0!==J&&null!==(a=J.address)&&void 0!==a&&a.state&&se(null===J||void 0===J||null===(l=J.address)||void 0===l?void 0:l.state)}),[null===J||void 0===J?void 0:J.address]),(0,l.useEffect)((()=>{var e;if(null!==de&&void 0!==de&&null!==(e=de.data)&&void 0!==e&&e.length&&!J.category){var s;let e=null===(s=de.data)||void 0===s?void 0:s.find((e=>"regular"===e.name.toLowerCase()));e.name&&ce("category",e.id)}}),[null===de||void 0===de?void 0:de.data,J,ce]),(0,b.jsxs)("form",{ref:s,onSubmit:te(O),children:[(0,b.jsxs)(r.A,{className:(0,m.A)(g.A.bgGreay,"pt-0"),children:[(0,b.jsxs)(d.A,{sm:12,children:[(0,b.jsxs)("div",{className:(0,m.A)(g.A.fileUploadBox,"cursor-pointer"),onClick:()=>W(!0),children:[(0,b.jsx)("div",{className:(0,m.A)(g.A.uploadedImgBox),children:U?(0,b.jsx)("img",{src:(null===U||void 0===U?void 0:U.croppedImageBase64)||U,alt:"profile-img"}):(0,b.jsx)(n.A,{size:32,color:"#667085"})}),(0,b.jsx)("p",{className:(0,m.A)("mb-0",g.A.uploadedText1),children:(0,b.jsx)("span",{className:(0,m.A)("mb-0",g.A.uploadedText2),children:"Click to upload"})}),(0,b.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,b.jsx)(f.A,{show:Q,setShow:W,setPhoto:Y,shape:"round"})]}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsxs)("label",{className:(0,m.A)(g.A.lable),children:["First Name",(0,b.jsx)("span",{className:"required",children:"*"})]}),(0,b.jsxs)(p.C,{children:[(0,b.jsx)(x.m,{children:oe.firstname&&(0,b.jsx)("img",{src:N.A,className:"mb-3"})}),(0,b.jsx)(h.S,{...ie("firstname"),className:(0,m.A)(g.A.inputText,{[g.A.error]:oe.firstname}),placeholder:"Enter first name"})]}),oe.firstname&&(0,b.jsx)("p",{className:"error-message",children:oe.firstname.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsxs)("label",{className:(0,m.A)(g.A.lable),children:["Last Name",(0,b.jsx)("span",{className:"required",children:"*"})]}),(0,b.jsxs)(p.C,{children:[(0,b.jsx)(x.m,{children:oe.lastname&&(0,b.jsx)("img",{src:N.A,className:"mb-3"})}),(0,b.jsx)(h.S,{...ie("lastname"),className:(0,m.A)(g.A.inputText,{[g.A.error]:oe.lastname}),placeholder:"Enter last name"})]}),oe.lastname&&(0,b.jsx)("p",{className:"error-message",children:oe.lastname.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"Email"}),(0,b.jsxs)(p.C,{children:[(0,b.jsx)(x.m,{children:oe.email&&(0,b.jsx)("img",{src:N.A,className:"mb-3"})}),(0,b.jsx)(h.S,{...ie("email"),className:(0,m.A)(g.A.inputText,{[g.A.error]:oe.email}),placeholder:"example@email.com"})]}),oe.email&&(0,b.jsx)("p",{className:"error-message",children:oe.email.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"Phone number"}),(0,b.jsx)(i.xI,{name:"phone",control:ne,render:e=>{let{field:s}=e;return(0,b.jsx)(t.LR,{defaultCountry:"au",value:s.value,className:"phoneInput rounded",containerClass:g.A.countrySelector,onChange:s.onChange,style:{border:"1px solid "+(oe.phone?"red":"#dedede")}})}}),oe.phone&&(0,b.jsx)("p",{className:"error-message",children:oe.phone.message})]})})]}),(0,b.jsx)("h2",{className:(0,m.A)(g.A.headingInputs,"mt-4"),children:"Payment Terms"}),(0,b.jsxs)(r.A,{className:(0,m.A)(g.A.bgGreay),children:[(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsxs)("label",{className:(0,m.A)(g.A.lable),children:["Payment Terms",(0,b.jsx)("span",{className:"required",children:"*"})]}),(0,b.jsx)(i.xI,{name:"payment_terms",control:ne,render:e=>{let{field:s}=e;return(0,b.jsx)(u.m,{...s,options:[{value:1,label:"COD"},{value:0,label:"Prepaid"},{value:7,label:"Week"},{value:14,label:"Two weeks"},{value:30,label:"One month"}]||0,onChange:e=>{s.onChange(e.value)},className:(0,m.A)(g.A.dropdownSelect,"dropdown-height-fixed",{[g.A.error]:oe.payment_terms}),style:{height:"46px"},value:s.value,placeholder:"Select payment terms",scrollHeight:"380px",filterInputAutoFocus:!0})}}),oe.payment_terms&&(0,b.jsx)("p",{className:"error-message",children:oe.payment_terms.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsxs)("label",{className:(0,m.A)(g.A.lable),children:["Customers Discount Category",(0,b.jsx)("span",{className:"required",children:"*"})]}),(0,b.jsx)(i.xI,{name:"category",control:ne,render:e=>{var s;let{field:a}=e;return(0,b.jsx)(u.m,{...a,options:[...de&&(null===(s=de.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:`${e.name} - ${e.value}%`}))))||[]],onChange:e=>{a.onChange(e.value)},className:(0,m.A)(g.A.dropdownSelect,"dropdown-height-fixed",{[g.A.error]:oe.category}),style:{height:"46px"},value:a.value,loading:null===de||void 0===de?void 0:de.isFetching,placeholder:"Select a category",scrollHeight:"380px",filterInputAutoFocus:!0})}}),oe.category&&(0,b.jsx)("p",{className:"error-message",children:oe.category.message})]})})]}),(0,b.jsx)("h2",{className:(0,m.A)(g.A.headingInputs),children:"Locations"}),(0,b.jsxs)(r.A,{className:(0,m.A)(g.A.bgGreay),children:[(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"Location Name"}),(0,b.jsxs)(p.C,{children:[(0,b.jsx)(x.m,{children:(null===(a=oe.address)||void 0===a?void 0:a.title)&&(0,b.jsx)("img",{src:N.A,className:"mb-3"})}),(0,b.jsx)(h.S,{...ie("address.title"),className:(0,m.A)(g.A.inputText,{[g.A.error]:null===(j=oe.address)||void 0===j?void 0:j.title}),placeholder:"Enter location name"})]}),(null===(C=oe.address)||void 0===C?void 0:C.title)&&(0,b.jsx)("p",{className:"error-message",children:null===(S=oe.address)||void 0===S||null===(I=S.title)||void 0===I?void 0:I.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"Country"}),(0,b.jsx)(i.xI,{name:"address.country",control:ne,defaultValue:"",render:e=>{var s;let{field:a}=e;return(0,b.jsx)(u.m,{...a,options:ae&&(null===(s=ae.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{a.onChange(e.value),Z(e.value)},className:(0,m.A)(g.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:a.value,loading:null===ae||void 0===ae?void 0:ae.isFetching,placeholder:"Select a country",scrollHeight:"380px",filterInputAutoFocus:!0})}}),(null===(F=oe.address)||void 0===F?void 0:F.country)&&(0,b.jsx)("p",{className:"error-message",children:null===(w=oe.address)||void 0===w||null===(q=w.country)||void 0===q?void 0:q.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"State"}),(0,b.jsx)(i.xI,{name:"address.state",control:ne,defaultValue:"",render:e=>{var s;let{field:a}=e;return(0,b.jsx)(u.m,{...a,options:le&&(null===(s=le.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{a.onChange(e.value),se(e.value)},className:(0,m.A)(g.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:a.value,loading:null===le||void 0===le?void 0:le.isFetching,placeholder:"Select a state",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(_=oe.address)||void 0===_?void 0:_.state)&&(0,b.jsx)("p",{className:"error-message",children:null===(k=oe.address)||void 0===k||null===(T=k.state)||void 0===T?void 0:T.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"City/Suburb"}),(0,b.jsx)(i.xI,{name:"address.city",control:ne,defaultValue:"",render:e=>{var s;let{field:a}=e;return(0,b.jsx)(u.m,{...a,options:re&&(null===(s=re.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{a.onChange(e.value)},className:(0,m.A)(g.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:a.value,loading:null===re||void 0===re?void 0:re.isFetching,disabled:null===re||void 0===re?void 0:re.isFetching,placeholder:"Select a city",emptyMessage:ee?"No cities found":"Select a state first",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(E=oe.address)||void 0===E?void 0:E.city)&&(0,b.jsx)("p",{className:"error-message",children:null===(P=oe.address)||void 0===P||null===(D=P.city)||void 0===D?void 0:D.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"Street Address"}),(0,b.jsxs)(p.C,{children:[(0,b.jsx)(x.m,{children:(null===(B=oe.address)||void 0===B?void 0:B.address)&&(0,b.jsx)("img",{src:N.A,className:"mb-3"})}),(0,b.jsx)(h.S,{...ie("address.address"),className:(0,m.A)(g.A.inputText,{[g.A.error]:null===(G=oe.address)||void 0===G?void 0:G.address}),placeholder:"Enter street address"})]}),(null===(V=oe.address)||void 0===V?void 0:V.address)&&(0,b.jsx)("p",{className:"error-message",children:null===(H=oe.address)||void 0===H||null===(L=H.address)||void 0===L?void 0:L.message})]})}),(0,b.jsx)(d.A,{sm:6,children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"Postcode"}),(0,b.jsxs)(p.C,{children:[(0,b.jsx)(x.m,{children:(null===($=oe.address)||void 0===$?void 0:$.postcode)&&(0,b.jsx)("img",{src:N.A,className:"mb-3"})}),(0,b.jsx)(h.S,{...ie("address.postcode"),keyfilter:"int",className:(0,m.A)(g.A.inputText,{[g.A.error]:null===(z=oe.address)||void 0===z?void 0:z.postcode}),placeholder:"Enter postcode"})]}),(null===(K=oe.address)||void 0===K?void 0:K.postcode)&&(0,b.jsx)("p",{className:"error-message",children:null===(M=oe.address)||void 0===M||null===(R=M.postcode)||void 0===R?void 0:R.message})]})})]}),(0,b.jsx)("h2",{className:(0,m.A)(g.A.headingInputs),children:"Client Description"}),(0,b.jsx)(r.A,{className:(0,m.A)(g.A.bgGreay),children:(0,b.jsx)(d.A,{children:(0,b.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,b.jsx)("label",{className:(0,m.A)(g.A.lable),children:"Description"}),(0,b.jsxs)(p.C,{children:[(0,b.jsx)(x.m,{style:{top:"80%"},children:oe.description&&(0,b.jsx)("img",{src:N.A})}),(0,b.jsx)(v.Z,{...ie("description"),rows:5,cols:30,className:(0,m.A)(g.A.inputText,{[g.A.error]:oe.description}),style:{resize:"none"},placeholder:"Enter a description..."})]}),oe.description&&(0,b.jsx)("p",{className:"error-message",children:oe.description.message})]})})})]})}))},20793:(e,s,a)=>{e.exports=a.p+"static/media/NodataImg.ee3ccbdc6b7e66284e17.png"},43162:(e,s,a)=>{a.d(s,{$:()=>d,g:()=>n});var l=a(64018),r=a(63712);const d=(e,s)=>{const a=new FormData;a.append("firstname",e.firstname),a.append("lastname",e.lastname),e.email&&a.append("email",e.email);const d=(null===e||void 0===e?void 0:e.phone)&&(0,l.l)(e.phone);if(null!==d&&void 0!==d&&d.nationalNumber&&a.append("phone",e.phone),"0"!=e.category&&a.append("category",e.category),a.append("payment_terms",e.payment_terms),e.description&&a.append("description",e.description),e.address.city&&(a.append("address.country",e.address.country),a.append("address.title",e.address.title),a.append("address.city",e.address.city),a.append("address.address",e.address.address),a.append("address.state",e.address.state),a.append("address.postcode",e.address.postcode),e.address.id&&a.append("address.id",e.address.id)),null!==s&&void 0!==s&&s.croppedImageBlob){const e=(0,r.Ak)(6);a.append("photo",s.croppedImageBlob,`${e}.jpg`)}return a},n=async(e,s,a,l,r)=>{const d=localStorage.getItem("access_token");try{const n=await fetch(e,{method:s,headers:{Authorization:`Bearer ${d}`},body:a});if(n.ok)l(n);else{r(await n.json())}}catch(n){console.error("API request error:",n),r()}}},99868:(e,s,a)=>{a.d(s,{A:()=>h});var l=a(65043),r=a(14282),d=a(38294),n=a(35475),i=a(58387);const t="no-data-found-template_noDataBox__HgeT1",o="no-data-found-template_title__P5uV2",c="no-data-found-template_subTitle__zMBB-",m="no-data-found-template_supportext__pHg2P";var u=a(20793),p=a(63919),x=a(70579);const h=e=>{let{isDataExist:s=!0}=e;const[a,h]=(0,l.useState)(!1);return(0,x.jsxs)("div",{className:(0,i.A)(t),children:[(0,x.jsx)("div",{className:"position-relative d-flex flex-column",children:(0,x.jsx)("img",{src:u,alt:"no-data"})}),s?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:(0,i.A)(o),children:"There is no results"}),(0,x.jsxs)("p",{className:(0,i.A)(c),children:["The user you are looking for doesn't exist. ",(0,x.jsx)("br",{}),"Here are some helpful links:"]}),(0,x.jsx)(n.N_,{to:"/",children:(0,x.jsxs)(r.A,{className:"outline-button",style:{marginBottom:"32px"},children:[" ",(0,x.jsx)(d.A,{})," Go back"]})}),(0,x.jsx)(n.N_,{onClick:()=>h(!0),to:"#",children:(0,x.jsx)("span",{className:(0,i.A)(m),children:"Support"})})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("h2",{className:(0,i.A)(o),children:"No historical records yet."})}),(0,x.jsx)(p.A,{setVisible:h,visible:a})]})}}}]);
//# sourceMappingURL=861.efaca625.chunk.js.map