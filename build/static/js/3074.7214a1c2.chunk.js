"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[3074],{20685:(e,s,n)=>{n.d(s,{A:()=>l});const l={circledesignstyle:"new-client-create_circledesignstyle__sG0j7",out:"new-client-create_out__UsInp",tab:"new-client-create_tab__IdlaT",iconBox:"new-client-create_iconBox__AupEc",tabText:"new-client-create_tabText__RSTYW",active:"new-client-create_active__2eoaJ",bgGreay:"new-client-create_bgGreay__y1jMx",fileUploadBox:"new-client-create_fileUploadBox__n9KJX",uploadedImgBox:"new-client-create_uploadedImgBox__rHsYh",uploadedText1:"new-client-create_uploadedText1__9ZZMJ",uploadedText2:"new-client-create_uploadedText2__PeAVp",lable:"new-client-create_lable__mDL9D",inputText:"new-client-create_inputText__Y-va7",error:"new-client-create_error__YI1Tz",phoneInput:"new-client-create_phoneInput__oIg7A",countrySelector:"new-client-create_countrySelector__fLpJG",headingInputs:"new-client-create_headingInputs__X8li4",dropdownSelect:"new-client-create_dropdownSelect__CZFIr",tempDelete:"new-client-create_tempDelete__q+CA0",tempAdd:"new-client-create_tempAdd__PhaaR"}},31342:(e,s,n)=>{n.d(s,{f:()=>l});const l=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:l="GET",headers:a={},body:r}=s,t=localStorage.getItem("access_token"),o=r instanceof FormData,i={"Content-Type":o?"multipart/form-data":"application/json",...a};n&&(i.Authorization=`Bearer ${t}`);const d={method:l,headers:i,body:o?r:JSON.stringify(r),redirect:"follow"};try{const s=new URL(e),n=await fetch(s,d),l=n.headers.get("Content-Type");if(!n.ok){var c;let e=null;e=l&&l.includes("application/json")?await n.json():await n.text(),401===n.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const s=new Error((null===(c=e)||void 0===c?void 0:c.message)||`HTTP error! Status: ${n.status}`);throw s.status=n.status,s.data=e,s}if(l&&l.includes("application/json"))return await n.json();return{message:"Non-JSON response",body:await n.text()}}catch(m){throw console.error("Fetch API error:",m),m}}},33074:(e,s,n)=>{n.d(s,{A:()=>C});var l=n(65043),a=n(61072),r=n(78602),t=n(14282),o=n(44541),i=n(96141),d=n(24858),c=n(17380),m=n(18403),p=n(93747),u=n(58387),h=n(88060),x=n(28676),v=n(74532),g=n(72052),j=n(27932),f=n(93740),A=n(80899),y=n(20685),b=n(59638),w=n(27472),N=n(63882),_=n(70579);const S=A.Ik({name:A.Yj().required("Company name is required"),abn:A.Yj().nullable().transform((e=>""===e?null:e)).matches(/^\d{11}$/,"ABN must be an 11-digit number").notRequired(),email:A.Yj().nullable().transform((e=>""===e?null:e)).matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Invalid email address").notRequired(),payment_terms:A.ai().typeError("Enter a valid payment terms").required("Payment terms are required"),category:A.ai().typeError("Enter a valid category").required("Category is required"),contact_persons:A.YO().of(A.Ik({email:A.Yj().nullable().email("Invalid contact email format").test("is-valid","Contact email must be a valid email if provided",(e=>!e||A.Yj().email().isValidSync(e)))}))}).required(),C=(0,l.forwardRef)(((e,s)=>{var n;let{photo:A,setPhoto:C,onSubmit:I,defaultValues:$,deleteAddress:P,deleteContact:T}=e;const[k,E]=(0,l.useState)(!1),[B,F]=(0,l.useState)(0),[R,q]=(0,l.useState)({type:null,index:null}),L=(0,p.I)({queryKey:["categories"],queryFn:b.Ql}),U=(0,p.I)({queryKey:["industries"],queryFn:b.OF}),[D,G]=(0,l.useState)(""),[z,O]=(0,l.useState)(""),[Y,V]=(0,l.useState)({}),H=(0,p.I)({queryKey:["countries"],queryFn:b.X6,enabled:!0}),J=(0,p.I)({queryKey:["states",D],queryFn:()=>(0,b.nP)(D),enabled:!!D,retry:1}),K=(0,p.I)({queryKey:["cities",z],queryFn:async()=>(0,b.i6)(z),enabled:!!z,keepPreviousData:!0});(0,l.useEffect)((()=>{z&&(async e=>{if(e&&!Y[e]){const s=await(0,b.i6)(e);V((n=>({...n,[e]:s})))}})(z)}),[z]);const{control:M,register:W,handleSubmit:Z,watch:X,formState:{errors:Q},setValue:ee}=(0,d.mN)({resolver:(0,m.t)(S),defaultValues:$}),{fields:se,append:ne,remove:le}=(0,d.jz)({control:M,name:"contact_persons"}),{fields:ae,append:re,remove:te}=(0,d.jz)({control:M,name:"addresses"});return(0,l.useEffect)((()=>{var e;if(null!==$&&void 0!==$&&null!==(e=$.addresses)&&void 0!==e&&e.length&&B<$.addresses.length){const e=$.addresses[B],s=e.country,n=e.state;s!==D?G(s):n!==z?O(n):F((e=>e+1))}}),[$,B,D,z]),(0,l.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.data)&&void 0!==e&&e.length&&!$.category){var s;let e=null===(s=L.data)||void 0===s?void 0:s.find((e=>"regular"===e.name.toLowerCase()));e.name&&ee("category",e.id)}}),[null===L||void 0===L?void 0:L.data,$,ee]),(0,_.jsxs)("form",{ref:s,onSubmit:Z(I),children:[(0,_.jsxs)(a.A,{className:(0,u.A)(y.A.bgGreay,"pt-0"),children:[(0,_.jsxs)(r.A,{sm:12,children:[(0,_.jsxs)("div",{className:(0,u.A)(y.A.fileUploadBox),onClick:()=>E(!0),children:[(0,_.jsx)("div",{className:(0,u.A)(y.A.uploadedImgBox,"rounded"),children:A?(0,_.jsx)("img",{src:(null===A||void 0===A?void 0:A.croppedImageBase64)||A,alt:"img"}):(0,_.jsx)(o.A,{size:32,color:"#667085"})}),(0,_.jsx)("p",{className:(0,u.A)("mb-0",y.A.uploadedText1),children:(0,_.jsx)("span",{className:(0,u.A)("mb-0",y.A.uploadedText2),children:"Click to upload"})}),(0,_.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,_.jsx)(N.A,{show:k,setShow:E,setPhoto:C})]}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsxs)("label",{className:(0,u.A)(y.A.lable),children:["Company Name",(0,_.jsx)("span",{className:"required",children:"*"})]}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:Q.name&&(0,_.jsx)("img",{src:w.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...W("name"),className:(0,u.A)(y.A.inputText,{[y.A.error]:Q.name}),placeholder:"Enter company name"})]}),Q.name&&(0,_.jsx)("p",{className:"error-message",children:Q.name.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Industry"}),(0,_.jsx)(d.xI,{name:"industry",control:M,render:e=>{var s;let{field:n}=e;return(0,_.jsx)(h.m,{...n,options:U&&(null===(s=U.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(e.value)},className:(0,u.A)(y.A.dropdownSelect,"dropdown-height-fixed",{[y.A.error]:Q.industry}),style:{height:"46px"},scrollHeight:"380px",value:n.value,loading:null===U||void 0===U?void 0:U.isFetching,placeholder:"Select Industry",filter:!0,filterInputAutoFocus:!0})}}),Q.industry&&(0,_.jsx)("p",{className:"error-message",children:null===(n=Q.industry)||void 0===n?void 0:n.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"ABN"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:Q.abn&&(0,_.jsx)("img",{src:w.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...W("abn",{onChange:e=>{const s=e.target.value.replace(/\D/g,"");ee("abn",s,{shouldValidate:!0})},onPaste:e=>{e.preventDefault();const s=e.clipboardData.getData("text").replace(/\D/g,"");ee("abn",s,{shouldValidate:!0})}}),className:(0,u.A)(y.A.inputText,{[y.A.error]:Q.abn}),placeholder:"32 635 443 221"})]}),Q.abn&&(0,_.jsx)("p",{className:"error-message",children:Q.abn.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Phone number"}),(0,_.jsx)(d.xI,{name:"phone",control:M,render:e=>{let{field:s}=e;return(0,_.jsx)(c.LR,{defaultCountry:"au",value:"string"===typeof s.value?s.value:"",className:"phoneInput rounded",containerClass:y.A.countrySelector,onChange:s.onChange,style:{border:"1px solid "+(Q.phone?"red":"#dedede")}})}}),Q.phone&&(0,_.jsx)("p",{className:"error-message",children:Q.phone.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Email"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:Q.email&&(0,_.jsx)("img",{src:w.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...W("email"),className:(0,u.A)(y.A.inputText,{[y.A.error]:Q.email}),placeholder:"example@email.com"})]}),Q.email&&(0,_.jsx)("p",{className:"error-message",children:Q.email.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Website"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:Q.website&&(0,_.jsx)("img",{src:w.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...W("website"),className:(0,u.A)(y.A.inputText,{[y.A.error]:Q.website}),placeholder:"www.example.com"})]}),Q.website&&(0,_.jsx)("p",{className:"error-message",children:Q.website.message})]})})]}),(0,_.jsx)("h2",{className:(0,u.A)(y.A.headingInputs,"mt-4"),children:"Payment Terms"}),(0,_.jsxs)(a.A,{className:(0,u.A)(y.A.bgGreay),children:[(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsxs)("label",{className:(0,u.A)(y.A.lable),children:["Payment Terms",(0,_.jsx)("span",{className:"required",children:"*"})]}),(0,_.jsx)(d.xI,{name:"payment_terms",control:M,render:e=>{let{field:s}=e;return(0,_.jsx)(h.m,{...s,options:[{value:1,label:"COD"},{value:0,label:"Prepaid"},{value:7,label:"Week"},{value:14,label:"Two weeks"},{value:30,label:"One month"}]||0,onChange:e=>{s.onChange(e.value)},className:(0,u.A)(y.A.dropdownSelect,"dropdown-height-fixed",{[y.A.error]:Q.payment_terms}),style:{height:"46px"},value:s.value,scrollHeight:"380px",placeholder:"Select payment terms",filterInputAutoFocus:!0})}}),Q.payment_terms&&(0,_.jsx)("p",{className:"error-message",children:Q.payment_terms.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsxs)("label",{className:(0,u.A)(y.A.lable),children:["Customers Discount Category",(0,_.jsx)("span",{className:"required",children:"*"})]}),(0,_.jsx)(d.xI,{name:"category",control:M,render:e=>{var s;let{field:n}=e;return(0,_.jsx)(h.m,{...n,options:[...L&&(null===(s=L.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:`${e.name} - ${e.value}%`}))))||[]],onChange:e=>{n.onChange(e.value)},className:(0,u.A)(y.A.dropdownSelect,"dropdown-height-fixed",{[y.A.error]:Q.category}),style:{height:"46px"},value:n.value,loading:null===L||void 0===L?void 0:L.isFetching,placeholder:"Select a category",scrollHeight:"380px",filterInputAutoFocus:!0})}}),Q.category&&(0,_.jsx)("p",{className:"error-message",children:Q.category.message})]})})]}),(0,_.jsx)("h2",{className:(0,u.A)(y.A.headingInputs,"mt-4"),children:"Contact Person"}),(0,_.jsx)(a.A,{children:se.map(((e,s)=>{var n,l,o,m,p,h,j,A,b,N,S,C,I,$,P,k,E,B,F,L,U,D,G,z,O,Y,V,H,J,K,Z,X,ee,ae,re,te,oe,ie,de,ce;return(0,_.jsxs)("div",{children:[(0,_.jsx)("input",{type:"hidden",...W(`contact_persons.${s}.is_main`),value:0===s}),(0,_.jsxs)(a.A,{className:(0,u.A)(y.A.bgGreay),children:[(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"First Name"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(n=Q.contact_persons)||void 0===n||null===(l=n[s])||void 0===l?void 0:l.firstname)&&(0,_.jsx)("img",{src:w.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...W(`contact_persons.${s}.firstname`),rows:5,cols:30,className:(0,u.A)(y.A.inputText,{[y.A.error]:null===(o=Q.contact_persons)||void 0===o||null===(m=o[s])||void 0===m?void 0:m.firstname}),style:{resize:"none"},placeholder:"Jhon"})]}),(null===(p=Q.contact_persons)||void 0===p||null===(h=p[s])||void 0===h?void 0:h.firstname)&&(0,_.jsx)("p",{className:"error-message",children:null===(j=Q.contact_persons)||void 0===j||null===(A=j[s])||void 0===A||null===(b=A.firstname)||void 0===b?void 0:b.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Last Name"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(N=Q.contact_persons)||void 0===N||null===(S=N[s])||void 0===S?void 0:S.lastname)&&(0,_.jsx)("img",{src:w.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...W(`contact_persons.${s}.lastname`),rows:5,cols:30,className:(0,u.A)(y.A.inputText,{[y.A.error]:null===(C=Q.contact_persons)||void 0===C||null===(I=C[s])||void 0===I?void 0:I.lastname}),style:{resize:"none"},placeholder:"Doe"})]}),(null===($=Q.contact_persons)||void 0===$||null===(P=$[s])||void 0===P?void 0:P.lastname)&&(0,_.jsx)("p",{className:"error-message",children:null===(k=Q.contact_persons)||void 0===k||null===(E=k[s])||void 0===E||null===(B=E.lastname)||void 0===B?void 0:B.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Email"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(F=Q.contact_persons)||void 0===F||null===(L=F[s])||void 0===L?void 0:L.email)&&(0,_.jsx)("img",{src:w.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...W(`contact_persons.${s}.email`),rows:5,cols:30,className:(0,u.A)(y.A.inputText,{[y.A.error]:null===(U=Q.contact_persons)||void 0===U||null===(D=U[s])||void 0===D?void 0:D.email}),style:{resize:"none"},placeholder:"golden@harvest.com"})]}),(null===(G=Q.contact_persons)||void 0===G||null===(z=G[s])||void 0===z?void 0:z.email)&&(0,_.jsx)("p",{className:"error-message",children:null===(O=Q.contact_persons)||void 0===O||null===(Y=O[s])||void 0===Y||null===(V=Y.email)||void 0===V?void 0:V.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Phone number"}),(0,_.jsx)(d.xI,{name:`contact_persons.${s}.phone`,control:M,render:e=>{var n,l;let{field:a}=e;return(0,_.jsx)(c.LR,{defaultCountry:"au",value:a.value||"",className:"phoneInput rounded",containerClass:y.A.countrySelector,onChange:e=>a.onChange(e),style:{border:"1px solid "+(null!==(n=Q.contact_persons)&&void 0!==n&&null!==(l=n[s])&&void 0!==l&&l.phone?"red":"#dedede")}})}}),(null===(H=Q.contact_persons)||void 0===H||null===(J=H[s])||void 0===J?void 0:J.phone)&&(0,_.jsx)("p",{className:"error-message",children:null===(K=Q.contact_persons)||void 0===K||null===(Z=K[s])||void 0===Z?void 0:Z.phone.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Position"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"40%"},children:(null===(X=Q.contact_persons)||void 0===X||null===(ee=X[s])||void 0===ee?void 0:ee.position)&&(0,_.jsx)("img",{src:w.A,alt:"error-icon"})}),(0,_.jsx)(g.S,{...W(`contact_persons.${s}.position`),rows:5,cols:30,className:(0,u.A)(y.A.inputText,{[y.A.error]:null===(ae=Q.contact_persons)||void 0===ae||null===(re=ae[s])||void 0===re?void 0:re.position}),style:{resize:"none"},placeholder:"Manager"})]}),(null===(te=Q.contact_persons)||void 0===te||null===(oe=te[s])||void 0===oe?void 0:oe.position)&&(0,_.jsx)("p",{className:"error-message",children:null===(ie=Q.contact_persons)||void 0===ie||null===(de=ie[s])||void 0===de||null===(ce=de.position)||void 0===ce?void 0:ce.message})]})}),(0,_.jsx)(r.A,{sm:6})]}),(0,_.jsxs)(r.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==s&&(0,_.jsxs)(t.A,{type:"button",className:(0,u.A)(y.A.tempDelete),onClick:()=>(async(e,s)=>{q({type:"contact",index:e}),s&&await T(s),le(e),q({type:null,index:null})})(s,e.uniqeId),disabled:!("contact"!==(null===R||void 0===R?void 0:R.type)||R.index!==s),children:["Delete ","contact"===(null===R||void 0===R?void 0:R.type)&&R.index===s?(0,_.jsx)(f.p,{style:{width:"20px",height:"20px"}}):""]}),s===se.length-1&&(0,_.jsxs)(t.A,{type:"button",className:(0,u.A)(y.A.tempAdd),onClick:()=>ne({}),children:["Add New ",(0,_.jsx)(i.A,{size:24,color:"#106b99"})]})]})]},e.id)}))}),(0,_.jsx)("h2",{className:(0,u.A)(y.A.headingInputs,"mt-4"),children:"Locations"}),(0,_.jsx)(a.A,{children:ae.map(((e,s)=>{var n,l,o,c,m,p,j,A,b,N,S,C,I,$,T,k,E,B,F,L,U,D,V,Z,ee,se,ne,le,oe,ie,de,ce,me,pe,ue,he,xe,ve,ge,je,fe,Ae;return(0,_.jsxs)("div",{children:[(0,_.jsx)("input",{type:"hidden",...W(`addresses.${s}.is_main`),value:0===s}),(0,_.jsxs)(a.A,{className:(0,u.A)(y.A.bgGreay),children:[(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Location Name"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:(null===(n=Q.addresses)||void 0===n||null===(l=n[s])||void 0===l?void 0:l.title)&&(0,_.jsx)("img",{src:w.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...W(`addresses.${s}.title`),className:(0,u.A)(y.A.inputText,{[y.A.error]:null===(o=Q.addresses)||void 0===o||null===(c=o[s])||void 0===c?void 0:c.title}),placeholder:"Enter location name"})]}),(null===(m=Q.addresses)||void 0===m||null===(p=m[s])||void 0===p?void 0:p.title)&&(0,_.jsx)("p",{className:"error-message",children:null===(j=Q.addresses)||void 0===j||null===(A=j[s])||void 0===A||null===(b=A.title)||void 0===b?void 0:b.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Country"}),(0,_.jsx)(d.xI,{name:`addresses.${s}.country`,control:M,defaultValue:"",render:e=>{var s;let{field:n}=e;return(0,_.jsx)(h.m,{...n,options:H&&(null===(s=H.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(e.value),G(e.value)},className:(0,u.A)(y.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:n.value,loading:null===H||void 0===H?void 0:H.isFetching,placeholder:"Select a country",scrollHeight:"380px",filterInputAutoFocus:!0})}}),(null===(N=Q.addresses)||void 0===N||null===(S=N[s])||void 0===S?void 0:S.country)&&(0,_.jsx)("p",{className:"error-message",children:null===(C=Q.addresses)||void 0===C||null===(I=C[s])||void 0===I||null===($=I.country)||void 0===$?void 0:$.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"State"}),(0,_.jsx)(d.xI,{name:`addresses.${s}.state`,control:M,defaultValue:"",render:e=>{var s;let{field:n}=e;return(0,_.jsx)(h.m,{...n,options:J&&(null===(s=J.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{n.onChange(e.value),O(e.value)},className:(0,u.A)(y.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:n.value,loading:null===J||void 0===J?void 0:J.isFetching,placeholder:"Select a state",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(T=Q.addresses)||void 0===T||null===(k=T[s])||void 0===k?void 0:k.state)&&(0,_.jsx)("p",{className:"error-message",children:null===(E=Q.addresses)||void 0===E||null===(B=E[s])||void 0===B||null===(F=B.state)||void 0===F?void 0:F.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"City/Suburb"}),(0,_.jsx)(d.xI,{name:`addresses.${s}.city`,control:M,defaultValue:"",render:e=>{var n;let{field:l}=e;const a=X(`addresses.${s}.state`);return(0,_.jsx)(h.m,{...l,options:(null===(n=Y[a])||void 0===n?void 0:n.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value)},className:(0,u.A)(y.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:a===z&&(null===K||void 0===K?void 0:K.isFetching),disabled:null===K||void 0===K?void 0:K.isFetching,placeholder:"Select a city",emptyMessage:a?"No cities found":"Select a state first",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(L=Q.addresses)||void 0===L||null===(U=L[s])||void 0===U?void 0:U.city)&&(0,_.jsx)("p",{className:"error-message",children:null===(D=Q.addresses)||void 0===D||null===(V=D[s])||void 0===V||null===(Z=V.city)||void 0===Z?void 0:Z.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Street Address"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:(null===(ee=Q.addresses)||void 0===ee||null===(se=ee[s])||void 0===se?void 0:se.address)&&(0,_.jsx)("img",{src:w.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...W(`addresses.${s}.address`),className:(0,u.A)(y.A.inputText,{[y.A.error]:null===(ne=Q.addresses)||void 0===ne||null===(le=ne[s])||void 0===le?void 0:le.address}),placeholder:"Enter street address"})]}),(null===(oe=Q.addresses)||void 0===oe||null===(ie=oe[s])||void 0===ie?void 0:ie.address)&&(0,_.jsx)("p",{className:"error-message",children:null===(de=Q.addresses)||void 0===de||null===(ce=de[s])||void 0===ce||null===(me=ce.address)||void 0===me?void 0:me.message})]})}),(0,_.jsx)(r.A,{sm:6,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Postcode"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{children:(null===(pe=Q.addresses)||void 0===pe||null===(ue=pe[s])||void 0===ue?void 0:ue.postcode)&&(0,_.jsx)("img",{src:w.A,className:"mb-3",alt:"error-icon"})}),(0,_.jsx)(g.S,{...W(`addresses.${s}.postcode`),keyfilter:"int",className:(0,u.A)(y.A.inputText,{[y.A.error]:null===(he=Q.addresses)||void 0===he||null===(xe=he[s])||void 0===xe?void 0:xe.postcode}),placeholder:"Enter postcode"})]}),(null===(ve=Q.addresses)||void 0===ve||null===(ge=ve[s])||void 0===ge?void 0:ge.postcode)&&(0,_.jsx)("p",{className:"error-message",children:null===(je=Q.addresses)||void 0===je||null===(fe=je[s])||void 0===fe||null===(Ae=fe.postcode)||void 0===Ae?void 0:Ae.message})]})})]}),(0,_.jsxs)(r.A,{sm:12,className:"d-flex justify-content-end gap-3 mb-4",children:[0!==s&&(0,_.jsxs)(t.A,{type:"button",className:(0,u.A)(y.A.tempDelete),onClick:()=>(async(e,s)=>{q({type:"address",index:e}),s&&await P(s),te(e),q({type:null,index:null})})(s,e.uniqeId),disabled:!("address"!==(null===R||void 0===R?void 0:R.type)||R.index!==s),children:["Delete ","address"===(null===R||void 0===R?void 0:R.type)&&R.index===s?(0,_.jsx)(f.p,{style:{width:"20px",height:"20px"}}):""]}),s===ae.length-1&&(0,_.jsxs)(t.A,{type:"button",className:(0,u.A)(y.A.tempAdd),onClick:()=>re({country:1}),children:["Add New ",(0,_.jsx)(i.A,{size:24,color:"#106b99"})]})]})]},e.id)}))}),(0,_.jsx)("h2",{className:(0,u.A)(y.A.headingInputs),children:"Client Description"}),(0,_.jsx)(a.A,{className:(0,u.A)(y.A.bgGreay),children:(0,_.jsx)(r.A,{sm:12,children:(0,_.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,_.jsx)("label",{className:(0,u.A)(y.A.lable),children:"Description"}),(0,_.jsxs)(x.C,{children:[(0,_.jsx)(v.m,{style:{top:"75%"},children:Q.description&&(0,_.jsx)("img",{src:w.A,alt:"error-icon"})}),(0,_.jsx)(j.Z,{...W("description"),rows:5,cols:30,className:(0,u.A)(y.A.inputText,{[y.A.error]:Q.description}),style:{resize:"none"},placeholder:"Enter a description..."})]}),Q.description&&(0,_.jsx)("p",{className:"error-message",children:Q.description.message})]})})})]})}))},59638:(e,s,n)=>{n.d(s,{EZ:()=>t,F1:()=>j,Fl:()=>p,OF:()=>i,QK:()=>x,Ql:()=>o,X6:()=>d,Ye:()=>v,ab:()=>f,i6:()=>m,kB:()=>A,nP:()=>c,o6:()=>h,oO:()=>r,oo:()=>u,zZ:()=>g});var l=n(31342);const a="https://app.memate.com.au/api/v1",r=async e=>{const s=new URL(`${a}${`/clients/restore/${e}/`}`);return(0,l.f)(s.toString(),{method:"POST"})},t=async e=>{const s=new URL(`${a}${`/clients/${e}/`}`);return(0,l.f)(s.toString(),{method:"GET"})},o=async()=>{const e=new URL(`${a}/references/clients/categories/`);return(0,l.f)(e.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${a}/references/clients/industries/`);return(0,l.f)(e.toString(),{method:"GET"})},d=async()=>{const e=new URL(`${a}/references/countries/`),s=await(0,l.f)(e.toString(),{method:"GET"},!1),n=[1];return(null===s||void 0===s?void 0:s.filter((e=>n.includes(e.id))))||[]},c=async e=>{const s=new URL(`${a}${`/references/states/${e}/`}`);return(0,l.f)(s.toString(),{method:"GET"},!1)},m=async e=>{const s=new URL(`${a}${`/references/cities/${e}/`}`);return(0,l.f)(s.toString(),{method:"GET"},!1)},p=async()=>{const e=new URL(`${a}/references/desktop-users/`);return(0,l.f)(e.toString(),{method:"GET"})},u=async function(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4?arguments[4]:void 0;const o=(e-1)*s,i=new URL(`${a}/clients/`);return i.searchParams.append("limit",s),i.searchParams.append("offset",o),n&&i.searchParams.append("search",n),r&&i.searchParams.append("ordering",r),t&&i.searchParams.append("deleted",1),(0,l.f)(i.toString(),{method:"GET"})},h=async function(e,s,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const o=(s-1)*n,i=new URL(`${a}${`/clients/${e}/orders/`}`);return i.searchParams.append("limit",n),i.searchParams.append("offset",o),r&&i.searchParams.append("number",r),t&&i.searchParams.append("ordering",t),(0,l.f)(i.toString(),{method:"GET"})},x=async e=>{const s=new URL(`${a}${`/clients/address/${e}/main`}`);return(0,l.f)(s.toString(),{method:"PUT"})},v=async e=>{const s=new URL(`${a}${`/clients/contact-persons/${e}/main`}`);return(0,l.f)(s.toString(),{method:"PUT"})},g=async e=>{const s=new URL(`${a}${`/clients/delete/${e}/`}`);return(0,l.f)(s.toString(),{method:"DELETE"})},j=async e=>{const s=new URL(`${a}${`/clients/contact-persons/${e}/delete/`}`);return(0,l.f)(s.toString(),{method:"DELETE"})},f=async e=>{const s=new URL(`${a}${`/clients/address/${e}/delete/`}`);return(0,l.f)(s.toString(),{method:"DELETE"})},A=async e=>{const s={method:"PUT",body:{unique_id:e}},n=new URL(`${a}/projects/back/`);return(0,l.f)(n.toString(),s)}},63882:(e,s,n)=>{n.d(s,{A:()=>h});var l=n(65043),a=n(32952),r=n(14282),t=n(76163),o=n(69956),i=n(89488),d=n(55683),c=n(58387),m=n(29853);const p={title:"file-uploader_title__+HTTy",previewSection:"file-uploader_previewSection__mnNRf",previewBox:"file-uploader_previewBox__j6psm",previewBoxImg1:"file-uploader_previewBoxImg1__SR-1w",rectangle:"file-uploader_rectangle__dFhi8",previewBoxImg2:"file-uploader_previewBoxImg2__zYCKK",previewBoxImg3:"file-uploader_previewBoxImg3__YNTWI",previewBoxImg4:"file-uploader_previewBoxImg4__cRl+e",previewBoxImg5:"file-uploader_previewBoxImg5__GzHFj",previewActions:"file-uploader_previewActions__UO1dp",label:"file-uploader_label__Udhfq",label2:"file-uploader_label2__cY-JF"};var u=n(70579);const h=e=>{let{show:s,setShow:n,setPhoto:h,additionalDesign:x,shape:v="rect",aspect:g=1}=e;const[j,f]=(0,l.useState)([]),[A,y]=(0,l.useState)({x:0,y:0}),[b,w]=(0,l.useState)(1),[N,_]=(0,l.useState)(0),[S,C]=(0,l.useState)(null),[I,$]=(0,l.useState)({}),P=(0,l.useCallback)(((e,s)=>{C(s)}),[]),T=(0,l.useCallback)((async()=>{if(!j.length||!S)return;const e=document.createElement("canvas"),s=e.getContext("2d"),n=new Image;n.src=j[0].preview,await new Promise((e=>n.onload=e)),e.width=S.width,e.height=S.height,s.translate(e.width/2,e.height/2),s.rotate(N*Math.PI/180),s.translate(-e.width/2,-e.height/2),s.drawImage(n,S.x,S.y,S.width,S.height,0,0,S.width,S.height);return e.toDataURL("image/jpeg")}),[j,S,N]),k=async()=>{const e=await T();e&&$({img2:e,img3:e,img4:e,img5:e})};(0,l.useEffect)((()=>{k()}),[b,A,N,j,S]);const{getRootProps:E,getInputProps:B}=(0,i.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{f(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,u.jsxs)(a.A,{style:{zIndex:1111},show:s,centered:!0,onHide:()=>n(!1),onShow:k,children:[(0,u.jsx)(a.A.Header,{closeButton:!0,children:(0,u.jsx)(a.A.Title,{children:(0,u.jsx)("span",{className:`${p.title}`,children:"Edit Photo"})})}),(0,u.jsxs)(a.A.Body,{children:[x,(0,u.jsxs)("div",{className:`${p.previewSection}`,children:[(0,u.jsxs)("div",{className:`${p.previewBox}`,children:[(0,u.jsx)("div",{className:(0,c.A)(p.previewBoxImg1,"round"===v?"rounded-circle":"",1===g?p.square:p.rectangle),children:(0,u.jsx)(d.Ay,{image:j.length>0?j[0].preview:null,crop:A,zoom:b,cropShape:v,rotation:N,onCropChange:y,onZoomChange:w,onCropComplete:P,aspect:g,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,u.jsx)("div",{className:(0,c.A)(p.previewBoxImg2,"round"===v?"rounded-circle":"",1===g?p.square:p.rectangle),children:I.img2&&(0,u.jsx)("img",{src:I.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,u.jsx)("div",{className:(0,c.A)(p.previewBoxImg3,"round"===v?"rounded-circle":"",1===g?p.square:p.rectangle),children:I.img3&&(0,u.jsx)("img",{src:I.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,u.jsx)("div",{className:(0,c.A)(p.previewBoxImg4,"round"===v?"rounded-circle":"",1===g?p.square:p.rectangle),children:I.img4&&(0,u.jsx)("img",{src:I.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,u.jsx)("div",{className:(0,c.A)(p.previewBoxImg5,"round"===v?"rounded-circle":"",1===g?p.square:p.rectangle),children:I.img5&&(0,u.jsx)("img",{src:I.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,u.jsxs)("div",{className:`${p.previewActions}`,children:[(0,u.jsxs)(m.A.Group,{children:[(0,u.jsx)(m.A.Label,{className:`${p.label}`,children:"Zoom"}),(0,u.jsx)(m.A.Range,{value:b,min:1,max:3,step:.1,className:"custom-range",onChange:e=>w(e.target.value)})]}),(0,u.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,u.jsxs)(r.A,{className:"text-button",onClick:()=>{_((e=>(e+90)%360))},children:[(0,u.jsx)(t.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,u.jsxs)("div",{...E({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,u.jsx)("input",{...B()}),(0,u.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,u.jsx)(o.A,{})}),(0,u.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,u.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,u.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,u.jsxs)(a.A.Footer,{className:"d-flex justify-content-end",children:[(0,u.jsx)(r.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),f([]),$({}),h(null),n(!1)},children:"Cancel"}),(0,u.jsx)(r.A,{className:"solid-button",onClick:async()=>{const e=await T(),s=function(e,s){const n=atob(e.split(",")[1]),l=new ArrayBuffer(n.length),a=new Uint8Array(l);for(let r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return new Blob([l],{type:s})}(e,"image/jpeg");h({croppedImageBase64:e,croppedImageBlob:s}),n(!1)},children:"Save Photo"})]})]})}},93740:(e,s,n)=>{n.d(s,{p:()=>d});var l=n(65043),a=n(84052),r=n(41828),t=n(2028),o=n(4504),i=r.x.extend({defaultProps:{__TYPE:"ProgressSpinner",id:null,style:null,className:null,strokeWidth:"2",fill:"none",animationDuration:"2s",children:void 0},css:{classes:{root:"p-progress-spinner",spinner:"p-progress-spinner-svg",circle:"p-progress-spinner-circle"},styles:"\n@layer primereact {\n    .p-progress-spinner {\n        position: relative;\n        margin: 0 auto;\n        width: 100px;\n        height: 100px;\n        display: inline-block;\n    }\n    \n    .p-progress-spinner::before {\n        content: '';\n        display: block;\n        padding-top: 100%;\n    }\n    \n    .p-progress-spinner-svg {\n        animation: p-progress-spinner-rotate 2s linear infinite;\n        height: 100%;\n        transform-origin: center center;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        margin: auto;\n    }\n    \n    .p-progress-spinner-circle {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: 0;\n        stroke: #d62d20;\n        animation: p-progress-spinner-dash 1.5s ease-in-out infinite, p-progress-spinner-color 6s ease-in-out infinite;\n        stroke-linecap: round;\n    }\n}\n\n@keyframes p-progress-spinner-rotate {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@keyframes p-progress-spinner-dash {\n    0% {\n        stroke-dasharray: 1, 200;\n        stroke-dashoffset: 0;\n    }\n    50% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -35px;\n    }\n    100% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -124px;\n    }\n}\n\n@keyframes p-progress-spinner-color {\n    100%,\n    0% {\n        stroke: #d62d20;\n    }\n    40% {\n        stroke: #0057e7;\n    }\n    66% {\n        stroke: #008744;\n    }\n    80%,\n    90% {\n        stroke: #ffa700;\n    }\n}\n",inlineStyles:{spinner:function(e){return{animationDuration:e.props.animationDuration}}}}}),d=l.memo(l.forwardRef((function(e,s){var n=(0,t.qV)(),d=l.useContext(a.UM),c=i.getProps(e,d),m=l.useRef(null),p=i.setMetaData({props:c}),u=p.ptm,h=p.cx,x=p.sx,v=p.isUnstyled;(0,r.j)(i.css.styles,v,{name:"progressspinner"}),l.useImperativeHandle(s,(function(){return{props:c,getElement:function(){return m.current}}}));var g=n({id:c.id,ref:m,style:c.style,className:(0,o.xW)(c.className,h("root")),role:"progressbar","aria-busy":!0},i.getOtherProps(c),u("root")),j=n({className:h("spinner"),viewBox:"25 25 50 50",style:x("spinner")},u("spinner")),f=n({className:h("circle"),cx:"50",cy:"50",r:"20",fill:c.fill,strokeWidth:c.strokeWidth,strokeMiterlimit:"10"},u("circle"));return l.createElement("div",g,l.createElement("svg",j,l.createElement("circle",f)))})));d.displayName="ProgressSpinner"},96141:(e,s,n)=>{n.d(s,{A:()=>d});var l=n(65043),a=n(65173),r=n.n(a),t=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},o.apply(null,arguments)}var i=(0,l.forwardRef)((function(e,s){var n=e.color,a=void 0===n?"currentColor":n,r=e.size,i=void 0===r?"1em":r,d=e.title,c=void 0===d?null:d,m=e.className,p=void 0===m?"":m,u=function(e,s){if(null==e)return{};var n,l,a=function(e,s){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;n[l]=e[l]}return n}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],s.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,t);return l.createElement("svg",o({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:a,className:["bi","bi-plus",p].filter(Boolean).join(" ")},u),c?l.createElement("title",null,c):null,l.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));i.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string};const d=i}}]);
//# sourceMappingURL=3074.7214a1c2.chunk.js.map