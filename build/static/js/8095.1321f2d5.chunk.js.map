{"version":3,"file":"static/js/8095.1321f2d5.chunk.js","mappings":"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","sources":["APIs/SettingsGeneral.js","APIs/management-api.js","APIs/invoice-api.js","APIs/location-api.js","webpack://memateapp/./src/components/Work/features/task/create-task/comment-editor/comment-editor.module.scss?063d","components/Work/features/task/create-task/comment-editor/comment-editor.jsx","webpack://memateapp/./src/components/Work/features/task/create-task/create-task.module.scss?cbbe","components/Business/Pages/management/task/select-date.js","webpack://memateapp/./src/components/Work/features/task/task-comments/task-comments.module.scss?9e4a","components/Work/features/task/task-comments/task-comments.js","components/Work/features/task/create-task/create-task.js","components/Business/Pages/management/event-scheduler/utils.js","components/Business/Pages/management/project-card/add-note.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/cancel-project/cancel-project.module.scss?abdc","components/Business/Pages/management/project-card/cancel-project/cancel-project.jsx","webpack://memateapp/./src/components/Business/Pages/management/project-card/compose-email/compose-email.module.scss?1389","components/Business/Pages/management/project-card/compose-email/compose-email.js","assets/images/icon/folderFileIcon.svg","components/Business/Pages/management/project-card/files-management/files-model.js","assets/images/icon/googleReviewIcon.svg","components/Business/Pages/management/project-card/google-review/google-review.js","webpack://memateapp/./src/ui/send-invoice/send-invoice.module.scss?f866","ui/send-invoice/send-invoice.jsx","components/Business/Pages/management/project-card/invoice-create/invoice-create.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/mailchimp/mailchimp-integration.module.scss?70c7","components/Business/Pages/management/project-card/mailchimp/mailchimp-integration.js","components/Business/Pages/management/task/create-task.js","components/Business/Pages/management/project-card/new-task.js","components/Business/Pages/management/project-card/project-card-filter.js","assets/images/icon/OrdersIcon.svg","components/Business/Pages/management/project-card/schedule-update.js","components/Business/Pages/management/project-card/select-status.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/send-sms/send-sms.module.scss?7d3f","components/Business/Pages/management/project-card/send-sms/send-sms.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/send-to-calendar/send-to-calendar.module.scss?26cb","assets/images/icon/calendar.svg","components/Business/Pages/management/project-card/send-to-calendar/index.js","components/Business/Pages/management/project-card/send-to-calendar/send-to-calendar.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/start-chat/start-chat.module.scss?b498","components/Business/Pages/management/project-card/start-chat/start-chat.js","components/Business/Pages/management/project-card/ui/current-job-and-expense-loading.js","components/Business/Pages/management/project-card/project-card-model.js","components/Business/Pages/management/task/view-task.js","components/Business/Pages/management/event-scheduler/event-scheduler.js","components/Business/Pages/management/management-page.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/ui/job-status/job-status.module.scss?2fd7","components/Business/Pages/management/project-card/ui/job-status/job-status.js","APIs/SalesApi.js","assets/images/icon/addNoteModeIcon.svg","APIs/TasksApi.js","APIs/task-api.js","webpack://memateapp/./src/ui/send-email-2/send-email.module.scss?3bd9","ui/send-email-2/send-email.jsx","shared/ui/date-range-picker-calendar/index.jsx","APIs/integrations-api.js","features/chat/ui/chat-area/chat-attachment-popover.jsx","shared/lib/bootstrap-file-icons.js"],"sourcesContent":["import { nanoid } from \"nanoid\";\nimport { getLocation } from \"./location-api\";\n\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n/**\n * A generic fetch function to make API calls.\n * @param {string} endpoint - The API endpoint to call.\n * @param {object} options - The fetch options including method, headers, and body.\n * @returns {Promise<any>} - The JSON response from the API.\n */\nconst fetchAPI = async (endpoint, options = {}) => {\n  const { method = 'GET', headers = {}, body } = options;\n  const accessToken = localStorage.getItem(\"access_token\");\n\n  const defaultHeaders = {\n    'Authorization': `Bearer ${accessToken}`,\n    'Content-Type': 'application/json',\n    ...headers\n  };\n\n  const requestOptions = {\n    method,\n    headers: defaultHeaders,\n    body: JSON.stringify(body),\n    redirect: 'follow'\n  };\n\n  try {\n    const url = new URL(`${endpoint}`);\n    const response = await fetch(url, requestOptions);\n    \n    const contentType = response.headers.get('Content-Type');\n    \n    if (!response.ok) {\n      // Try to parse error response as JSON\n      if (contentType && contentType.includes('application/json')) {\n        const errorData = await response.json();\n        const error = new Error(errorData.detail || `HTTP error! Status: ${response.status}`);\n        error.status = response.status;\n        error.data = errorData;\n        throw error;\n      } else {\n        const errorText = await response.text();\n        const error = new Error(errorText || `HTTP error! Status: ${response.status}`);\n        error.status = response.status;\n        throw error;\n      }\n    }\n\n    if (contentType && contentType.includes('application/json')) {\n      return await response.json();\n    } else {\n      // Handle non-JSON responses\n      const text = await response.text();\n      return { message: 'Non-JSON response', body: text };\n    }\n\n  } catch (error) {\n    console.error('Fetch API error:', error);\n    throw error;\n  }\n};\n\nexport const getBillingPersonalInfo = async () => {\n  const endpoint = `/settings/subscriptions/tax-id/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getUpcomingPayment = async () => {\n  const endpoint = `/settings/subscriptions/upcoming/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateBillingPersonalInfo = async (data) => {\n  const endpoint = `/settings/subscriptions/tax-id/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getPaymentMethodInfo = async () => {\n  const endpoint = `/settings/subscriptions/payment-method/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const retryPayment = async () => {\n  const endpoint = `/subscriptions/retry/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updatePaymentMethodInfo = async (data) => {\n  const endpoint = `/settings/subscriptions/payment-method/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getReginalAndLanguage = async () => {\n  const endpoint = `/settings/organization/region-language/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateReginalAndLanguage = async (data) => {\n  const endpoint = `/settings/organization/region-language/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createProjectStatus = async (data) => {\n  console.log('data: ', data);\n  if (data.id) delete data.id;\n  if (data.isNew) delete data.isNew;\n  if (data.isChanged) delete data.isChanged;\n  if (data.value) delete data.value;\n\n  const endpoint = `/settings/project-statuses/new/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectStatusById = async (id, data) => {\n  const endpoint = `/settings/project-statuses/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteProjectStatusById = async (id) => {\n  const endpoint = `/settings/project-statuses/delete/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\n\n\n\n\n\n\nexport const SettingsGeneralInformation = async () => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/general/`, requestOptions);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const updateGeneralInformation = async (data, photo) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const formData = new FormData();\n  Object.keys(data).forEach((key) => {\n    formData.append(key, data[key]);\n  });\n\n  if (photo?.croppedImageBlob) {\n    const photoHintId = nanoid(6);\n    formData.append('company_logo', photo?.croppedImageBlob, `${photoHintId}.jpg`);\n  }\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: formData,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/general/`, requestOptions);\n    const result = await response.text();\n    console.log('result>>>>>>>>>>: ', result);\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const SettingsBankInformation = async () => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/bank/`, requestOptions);\n    const result = await response.text();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const updateBankInformation = async (generalData) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const formData = new FormData();\n  Object.keys(generalData).forEach((key) => {\n    formData.append(key, generalData[key]);\n  });\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: formData,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/bank/`, requestOptions);\n    const result = await response.text();\n    console.log('result: ', result);\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const ProjectStatusesList = async () => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/project-statuses/`, requestOptions);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('project fetch error:', error);\n    throw error;\n  }\n};\n\n\nexport const getHolidaysList = async () => {\n  try {\n    const location = JSON.parse(localStorage.getItem(\"profileData\")).location;\n    const locationDetails = await getLocation(location);\n    if (!locationDetails || !locationDetails.state) {\n      console.error('Invalid location details:', locationDetails);\n      return [];\n    }\n    const endpoint = `/locations/${locationDetails.state}/holidays/`;\n    const options = {\n      method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n  } catch (err) {\n    console.error('Error fetching holidays:', err);\n    return [];\n  }\n};","const API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n/**\n * A generic fetch function to make API calls.\n * @param {string} endpoint - The API endpoint to call.\n * @param {object} options - The fetch options including method, headers, and body.\n * @returns {Promise<any>} - The JSON response from the API.\n */\nconst fetchAPI = async (endpoint, options = {}) => {\n    const { method = 'GET', headers = {}, body } = options;\n    const accessToken = localStorage.getItem(\"access_token\");\n\n    const defaultHeaders = {\n        'Authorization': `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n        ...headers\n    };\n\n    const requestOptions = {\n        method,\n        headers: defaultHeaders,\n        body: JSON.stringify(body),\n        redirect: 'follow'\n    };\n\n    try {\n        const url = new URL(`${endpoint}`);\n        const response = await fetch(url, requestOptions);\n        if (!response.ok) {\n            throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const contentType = response.headers.get('Content-Type');\n        if (contentType && contentType.includes('application/json')) {\n            return await response.json();\n        } else {\n            // Handle non-JSON responses\n            const text = await response.text();\n            return { message: 'Non-JSON response', body: text };\n        }\n\n    } catch (error) {\n        console.error('Fetch API error:', error);\n        throw error;\n    }\n};\n\n\nexport const updateProjectScheduleById = async (id, data) => {\n    const endpoint = `/project-card/schedule/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectStatusById = async (id, data) => {\n    const endpoint = `/project-card/custom-status/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectReferenceById = async (id, data) => {\n    const endpoint = `/project-card/reference/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createProjectNoteById = async (id, data) => {\n    const endpoint = `/project-card/note/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsToSalesUpdate = async (id) => {\n    const endpoint = `/projects/back/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsOrderDecline = async (id) => {\n    const endpoint = `/projects/decline/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsComplete = async (id) => {\n    const endpoint = `/projects/complete/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createInvoiceById = async (id) => {\n    const endpoint = `/invoices/create/${id}/`;\n    const options = {\n        method: 'POST'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createAndSendInvoiceById = async (id, data) => {\n    const endpoint = `/invoices/send/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getProjectFilesById = async (id) => {\n    const endpoint = `/projects/file-list/${id}/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const deleteFileByKey = async (id, fileKey) => {\n    const endpoint = `/projects/file-delete/${id}/`;\n    const options = {\n        method: 'POST',\n        body: { file_name: fileKey }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateCostBreakDownDescription = async (id, data) => {\n    const endpoint = `/project-card/calc-description/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const sendComposeEmail = async (id, action, data) => {\n    let endpoint;\n    if (action) endpoint = `/custom/email/${id}/${action}/`;\n    else endpoint = `/custom/email/${id}/`;\n\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const sendSms = async (id, data) => {\n    let endpoint = `/sms/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const resendQuoteEmail = async (id, data) => {\n    let endpoint = `/resend/quote/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getManagement = async () => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"GET\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/management/`, requestOptions);\n        const result = await response.json();\n        return result; // Return the result if needed\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\n\n\nexport const ProjectCardApi = async (uniqueId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"GET\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/${uniqueId}/`, requestOptions);\n        const result = await response.json();\n        return result; // Return the result if needed\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\nexport const cardScheduleUpdateApi = async (uniqueId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"PUT\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/schedule/${uniqueId}/`, requestOptions);\n        console.log('response: ', response);\n        const result = await response.text();\n        return result;\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\nexport const cardAddNoteApi = async (projectId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"PUT\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/sales-note/${projectId}/`, requestOptions);\n        console.log('response: ', response);\n        const result = await response.text();\n        console.log('result: ', result);\n        return result;\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\n\n\n\n\n\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfInvoice = async (page, limit, search = \"\", order = \"\", isShowUnpaid, filters) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/invoices/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  url.searchParams.append(\"limit\", limit);\n  url.searchParams.append(\"offset\", offset);\n  if (search) url.searchParams.append(\"search\", search);\n  if (order) url.searchParams.append(\"ordering\", order);\n  if (isShowUnpaid) url.searchParams.append('status', 'not_paid');\n\n  let clientsFilter = '';\n  if (filters?.client) {\n    clientsFilter = filters?.client?.map(client => client.id).join(',');\n  }\n  if (clientsFilter) url.searchParams.append('clients', clientsFilter);\n\n  let statusFilter = '';\n  if (filters?.status && filters?.status?.length === 1) {\n    filters?.status?.forEach(element => {\n      if (element?.name === 'Paid') statusFilter = 'paid';\n      else if (element?.name === 'Not Paid') statusFilter = 'not_paid';\n    });\n  }\n  if (statusFilter) url.searchParams.append('status', statusFilter);\n\n  if (filters?.date) {\n    const startDate = filters?.date[0]?.value?.[0];\n    if (startDate) {\n      const date = new Date(startDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      url.searchParams.append('create_date_after', `${year}-${month}-${day}`);\n    }\n\n    const endDate = filters?.date[0]?.value?.[1];\n    if (endDate) {\n      const date = new Date(endDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      url.searchParams.append('create_date_before', `${year}-${month}-${day}`);\n    }\n  }\n\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/view/${uniqueId}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const getInvoicePartialHistory = async (uniqueId) => {\n  if (!uniqueId) return null;\n  const endpoint = `/invoices/read/${uniqueId}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const paymentIntentCreate = async (uniqueId, data) => {\n  const endpoint = `/invoices/payment-intent/${uniqueId}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const deleteInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/delete/${uniqueId}/`;\n  const options = {\n    method: 'DELETE'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceEmail = async (id, data) => {\n  const endpoint = `/invoices/send/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const resendInvoiceEmail = async (id, data) => {\n  const endpoint = `/resend/invoice/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const partialPaymentCreate = async (id, data) => {\n  const endpoint = `/invoices/partial-payment/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceToXeroApi = async (data) => {\n  const endpoint = `/invoices/to-xero/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markInvoiceAsPaid = async (id) => {\n  const endpoint = `/team/mobile-users/invoices/${id}/pay/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markInvoiceAsUnpaid = async (id) => {\n  const endpoint = `/team/mobile-users/invoices/${id}/unpay/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getLocationList = async () => {\n  const endpoint = `/locations/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getLocation = async (id) => {\n  const endpoint = `/locations/${id}`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createLocation = async (data) => {\n  const endpoint = '/locations/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateLocation = async (id, data) => {\n  if(!id) throw new Error(\"No id found\");\n\n  const endpoint = `/locations/${id}/update/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteLocation = async (id) => {\n  const endpoint = `/locations/${id}/delete/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getDesktopUserList = async () => {\n  const endpoint = `/references/desktop-users/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const userAssigned = async (locationId, userId) => {\n  const endpoint = `/locations/${locationId}/${userId}/assign-user/`;\n  const options = {\n    method: 'POST',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const userUnassigned = async (locationId, userId) => {\n  if (!locationId) throw new Error(\"Location id not found\");\n  if (!userId) throw new Error(\"User id not found\");\n\n  const endpoint = `/locations/${locationId}/${userId}/unassign-user/`;\n  const options = {\n    method: 'POST',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","// extracted by mini-css-extract-plugin\nexport default {\"asanaEditorWrapper\":\"comment-editor_asanaEditorWrapper__1UAiy\",\"avatarWrapper\":\"comment-editor_avatarWrapper__HX3H9\",\"editorContainer\":\"comment-editor_editorContainer__5DNNe\",\"focused\":\"comment-editor_focused__A0TDm\",\"dragOver\":\"comment-editor_dragOver__3RQri\",\"disabled\":\"comment-editor_disabled__kEgBL\",\"inputArea\":\"comment-editor_inputArea__iqu88\",\"textInput\":\"comment-editor_textInput__BuSfR\",\"attachmentsPreview\":\"comment-editor_attachmentsPreview__2tXR3\",\"attachmentChip\":\"comment-editor_attachmentChip__tsAPk\",\"error\":\"comment-editor_error__Gh98k\",\"fileIcon\":\"comment-editor_fileIcon__9QnuH\",\"fileInfo\":\"comment-editor_fileInfo__Ak+Ca\",\"fileName\":\"comment-editor_fileName__NFnbx\",\"fileSize\":\"comment-editor_fileSize__I8VsI\",\"fileStatus\":\"comment-editor_fileStatus__O7zuJ\",\"removeChip\":\"comment-editor_removeChip__UIpfQ\",\"toolbar\":\"comment-editor_toolbar__H14ex\",\"toolbarLeft\":\"comment-editor_toolbarLeft__QjN7m\",\"toolbarRight\":\"comment-editor_toolbarRight__q1XK-\",\"toolbarIcon\":\"comment-editor_toolbarIcon__YrnT2\",\"emojiWrapper\":\"comment-editor_emojiWrapper__xJmG8\",\"emojiPickerDropdown\":\"comment-editor_emojiPickerDropdown__hdgWf\",\"commentBtn\":\"comment-editor_commentBtn__zCVYF\",\"active\":\"comment-editor_active__j2dE3\",\"imagePreviewChip\":\"comment-editor_imagePreviewChip__YNUuv\",\"removeImageBtn\":\"comment-editor_removeImageBtn__lUflP\",\"progressBar\":\"comment-editor_progressBar__PTWAG\",\"progressFill\":\"comment-editor_progressFill__lTJmW\"};","import React, { useRef, useState, useCallback, useEffect } from 'react';\nimport { EmojiSmile, FileEarmark, Image as ImageIcon, Paperclip, X } from 'react-bootstrap-icons';\nimport axios from 'axios';\nimport clsx from 'clsx';\nimport EmojiPicker from 'emoji-picker-react';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport { toast } from 'sonner';\nimport styles from './comment-editor.module.scss';\nimport { createTaskComment, getCommentPresignedUrl } from '../../../../../../APIs/task-api';\nimport { FallbackImage } from '../../../../../../shared/ui/image-with-fallback/image-avatar';\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\nconst CommentEditor = ({\n    taskId,\n    session,\n    onCommentAdded,\n    disabled = false,\n    commentsScrollRef\n}) => {\n    const [comment, setComment] = useState('');\n    const [attachments, setAttachments] = useState([]);\n    const [isDragOver, setIsDragOver] = useState(false);\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [uploadingFiles, setUploadingFiles] = useState([]);\n    const [isFocused, setIsFocused] = useState(false);\n\n    const editorRef = useRef(null);\n    const fileInputRef = useRef(null);\n    const dropZoneRef = useRef(null);\n    const emojiPickerRef = useRef(null);\n\n    // Close emoji picker when clicking outside\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n                setShowEmojiPicker(false);\n            }\n        };\n\n        if (showEmojiPicker) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [showEmojiPicker]);\n\n    // Handle emoji selection\n    const handleEmojiSelect = (emojiData) => {\n        setComment(prev => prev + emojiData.emoji);\n        setShowEmojiPicker(false);\n        editorRef.current?.focus();\n    };\n\n    // Upload file to S3 using presigned URL - matching create-job.js pattern\n    const uploadToS3 = async (file, url, fileId) => {\n        try {\n            const response = await axios.put(url, file, {\n                headers: {\n                    \"Content-Type\": \"\", // Empty content type like create-job.js\n                },\n                onUploadProgress: (progressEvent) => {\n                    const progress = Math.round(\n                        (progressEvent.loaded / progressEvent.total) * 100\n                    );\n                    setUploadingFiles(prev =>\n                        prev.map(f => f.id === fileId ? { ...f, progress, url } : f)\n                    );\n                },\n            });\n\n            // Mark as successfully uploaded\n            setUploadingFiles(prev =>\n                prev.map(f => f.id === fileId ? { ...f, progress: 100, uploaded: true } : f)\n            );\n\n            return response;\n        } catch (err) {\n            // Handle specific error types\n            let errorMessage = \"Upload failed\";\n\n            if (err.response) {\n                if (err.response.status === 403) {\n                    errorMessage = \"Permission denied (403 Forbidden)\";\n                } else {\n                    errorMessage = `Server error: ${err.response.status}`;\n                }\n            } else if (err.request) {\n                errorMessage = \"No response from server\";\n            } else {\n                errorMessage = err.message;\n            }\n\n            console.error(`Error uploading ${file.name}:`, errorMessage);\n\n            // Update file with error status\n            setUploadingFiles(prev =>\n                prev.map(f => f.id === fileId ? {\n                    ...f,\n                    progress: 0,\n                    error: true,\n                    errorMessage,\n                    uploadFailed: true\n                } : f)\n            );\n\n            return { error: true, message: errorMessage };\n        }\n    };\n\n    // Handle file upload\n    const handleFileUpload = async (files) => {\n        if (!taskId) {\n            toast.error('Save the task first before adding attachments');\n            return;\n        }\n\n        const validFiles = Array.from(files).filter(file => {\n            if (file.size > MAX_FILE_SIZE) {\n                toast.error(`${file.name} is too large. Max size is 10MB`);\n                return false;\n            }\n            return true;\n        });\n\n        if (validFiles.length === 0) return;\n\n        const newUploading = validFiles.map((file, index) => ({\n            id: `upload-${Date.now()}-${index}`,\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            progress: 0,\n            file,\n        }));\n\n        setUploadingFiles(prev => [...prev, ...newUploading]);\n\n        for (const uploadFile of newUploading) {\n            try {\n                // Get presigned URL\n                const response = await getCommentPresignedUrl(taskId, uploadFile.name, uploadFile.type);\n                const { url } = response;\n\n                if (!url) {\n                    console.error(`No URL returned for file: ${uploadFile.name}`);\n                    setUploadingFiles(prev =>\n                        prev.map(f => f.id === uploadFile.id ? { ...f, error: true, errorMessage: 'No URL returned' } : f)\n                    );\n                    continue;\n                }\n\n                // Upload to S3 using the signed URL\n                const result = await uploadToS3(uploadFile.file, url, uploadFile.id);\n\n                // Check if upload was successful\n                if (result && !result.error) {\n                    const fileUrl = url.split('?')[0];\n                    setAttachments(prev => [...prev, {\n                        id: uploadFile.id,\n                        name: uploadFile.name,\n                        url: fileUrl,\n                        type: uploadFile.type,\n                        size: uploadFile.size,\n                    }]);\n                    setUploadingFiles(prev => prev.filter(f => f.id !== uploadFile.id));\n                }\n            } catch (error) {\n                console.error('Error uploading file:', uploadFile.name, error);\n                setUploadingFiles(prev =>\n                    prev.map(f => f.id === uploadFile.id ? {\n                        ...f,\n                        progress: 0,\n                        error: true,\n                        errorMessage: error.message || 'Failed to get upload URL',\n                        uploadFailed: true\n                    } : f)\n                );\n            }\n        }\n    };\n\n    // Drag and drop handlers\n    const handleDragEnter = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(true);\n    }, []);\n\n    const handleDragLeave = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!dropZoneRef.current?.contains(e.relatedTarget)) {\n            setIsDragOver(false);\n        }\n    }, []);\n\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n    }, []);\n\n    const handleDrop = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(false);\n\n        const files = e.dataTransfer.files;\n        if (files.length > 0) {\n            handleFileUpload(files);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [taskId]);\n\n    // Paste handler for images\n    const handlePaste = useCallback((e) => {\n        const items = e.clipboardData?.items;\n        if (!items) return;\n\n        const files = [];\n        for (const item of items) {\n            if (item.kind === 'file') {\n                const file = item.getAsFile();\n                if (file) files.push(file);\n            }\n        }\n\n        if (files.length > 0) {\n            e.preventDefault();\n            handleFileUpload(files);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [taskId]);\n\n    // Remove attachment\n    const removeAttachment = (id) => {\n        setAttachments(prev => prev.filter(a => a.id !== id));\n    };\n\n    // Remove uploading file\n    const removeUploadingFile = (id) => {\n        setUploadingFiles(prev => prev.filter(f => f.id !== id));\n    };\n\n    // Submit comment\n    const handleSubmit = async () => {\n        if (!comment.trim() && attachments.length === 0) {\n            return;\n        }\n\n        if (!taskId) {\n            toast.error('Save the task first');\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        try {\n            // Support multiple attachments - store as JSON string\n            let attachmentUrls = null;\n            let attachmentTypes = null;\n\n            if (attachments.length > 0) {\n                if (attachments.length === 1) {\n                    // Single attachment - keep backward compatibility\n                    attachmentUrls = attachments[0].url;\n                    attachmentTypes = attachments[0].type;\n                } else {\n                    // Multiple attachments - store as JSON array string\n                    attachmentUrls = JSON.stringify(attachments.map(a => a.url));\n                    attachmentTypes = JSON.stringify(attachments.map(a => a.type));\n                }\n            }\n\n            await createTaskComment(taskId, {\n                comment: comment.trim(),\n                attachment_url: attachmentUrls,\n                attachment_type: attachmentTypes,\n                created_by: { role: session?.user?.role },\n            });\n\n            setComment('');\n            setAttachments([]);\n            onCommentAdded?.();\n\n            // Scroll to bottom\n            setTimeout(() => {\n                if (commentsScrollRef?.current) {\n                    commentsScrollRef.current.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'end',\n                    });\n                }\n            }, 500);\n        } catch (error) {\n            console.error('Error adding comment:', error);\n            toast.error('Failed to add comment. Please try again.');\n        } finally {\n            setIsSubmitting(false);\n            editorRef.current?.focus();\n        }\n    };\n\n    // Handle key press\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit();\n        }\n    };\n\n    // Get file icon based on type\n    const getFileIcon = (type) => {\n        if (type?.startsWith('image/')) {\n            return <ImageIcon size={16} />;\n        }\n        return <FileEarmark size={16} />;\n    };\n\n    // Format file size\n    const formatFileSize = (bytes) => {\n        if (bytes < 1024) return bytes + ' B';\n        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n    };\n\n    // Check if file is an image\n    const isImage = (type) => type?.startsWith('image/');\n\n    const hasContent = comment.trim() || attachments.length > 0;\n\n    return (\n        <div className={styles.asanaEditorWrapper}>\n            {/* User Avatar */}\n            <div className={styles.avatarWrapper}>\n                <FallbackImage\n                    photo={session?.photo}\n                    has_photo={session?.has_photo}\n                    is_business={false}\n                    size={20}\n                />\n            </div>\n\n            {/* Attachments Preview - Shows when there are attachments */}\n            {(attachments.length > 0 || uploadingFiles.length > 0) && (\n                <div className={styles.attachmentsPreview}>\n                    {/* Uploading Files */}\n                    {uploadingFiles.map(file => (\n                        isImage(file.type) ? (\n                            <div key={file.id} className={styles.imagePreviewChip}>\n                                <img src={URL.createObjectURL(file.file)} alt={file.name} />\n                                <button\n                                    className={styles.removeImageBtn}\n                                    onClick={() => removeUploadingFile(file.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={12} />\n                                </button>\n                                {!file.uploaded && !file.error && (\n                                    <div className={styles.progressBar}>\n                                        <div className={styles.progressFill} style={{ width: `${file.progress}%` }} />\n                                    </div>\n                                )}\n                            </div>\n                        ) : (\n                            <div key={file.id} className={clsx(styles.attachmentChip, file.error && styles.error)}>\n                                <div className={styles.fileIcon}>\n                                    {getFileIcon(file.type)}\n                                </div>\n                                <div className={styles.fileInfo}>\n                                    <span className={styles.fileName}>{file.name}</span>\n                                    <span className={styles.fileSize}>{formatFileSize(file.size)}</span>\n                                </div>\n                                <span className={clsx(styles.fileStatus, file.error && styles.error)}>\n                                    {file.error ? 'Failed' : `${file.progress}%`}\n                                </span>\n                                <button\n                                    className={styles.removeChip}\n                                    onClick={() => removeUploadingFile(file.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={14} />\n                                </button>\n                            </div>\n                        )\n                    ))}\n\n                    {/* Uploaded Attachments */}\n                    {attachments.map(attachment => (\n                        isImage(attachment.type) ? (\n                            <div key={attachment.id} className={styles.imagePreviewChip}>\n                                <img src={attachment.url} alt={attachment.name} />\n                                <button\n                                    className={styles.removeImageBtn}\n                                    onClick={() => removeAttachment(attachment.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={12} />\n                                </button>\n                            </div>\n                        ) : (\n                            <div key={attachment.id} className={styles.attachmentChip}>\n                                <div className={styles.fileIcon}>\n                                    {getFileIcon(attachment.type)}\n                                </div>\n                                <div className={styles.fileInfo}>\n                                    <span className={styles.fileName}>{attachment.name}</span>\n                                    <span className={styles.fileSize}>{formatFileSize(attachment.size)}</span>\n                                </div>\n                                <button\n                                    className={styles.removeChip}\n                                    onClick={() => removeAttachment(attachment.id)}\n                                    type=\"button\"\n                                >\n                                    <X size={14} />\n                                </button>\n                            </div>\n                        )\n                    ))}\n                </div>\n            )}\n\n            {/* Editor Container - Asana Style */}\n            <div\n                className={clsx(\n                    styles.editorContainer,\n                    isFocused && styles.focused,\n                    isDragOver && styles.dragOver,\n                    disabled && styles.disabled\n                )}\n                ref={dropZoneRef}\n                onDragEnter={handleDragEnter}\n                onDragLeave={handleDragLeave}\n                onDragOver={handleDragOver}\n                onDrop={handleDrop}\n            >\n                {/* Text Input Area */}\n                <div className={styles.inputArea}>\n                    <input\n                        ref={editorRef}\n                        type=\"text\"\n                        className={styles.textInput}\n                        placeholder=\"Add a comment\"\n                        value={comment}\n                        onChange={(e) => setComment(e.target.value)}\n                        onKeyDown={handleKeyDown}\n                        onPaste={handlePaste}\n                        onFocus={() => setIsFocused(true)}\n                        onBlur={() => setIsFocused(false)}\n                        disabled={disabled || isSubmitting || !taskId}\n                    />\n                </div>\n\n                {/* Bottom Toolbar - Simplified */}\n                <div className={styles.toolbar}>\n                    <div className={styles.toolbarLeft}>\n                        {/* Emoji picker */}\n                        <div className={styles.emojiWrapper} ref={emojiPickerRef}>\n                            <button\n                                className={styles.toolbarIcon}\n                                type=\"button\"\n                                title=\"Add emoji\"\n                                disabled={disabled || !taskId}\n                                onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n                            >\n                                <EmojiSmile size={18} />\n                            </button>\n                            {showEmojiPicker && (\n                                <div className={styles.emojiPickerDropdown}>\n                                    <EmojiPicker\n                                        onEmojiClick={handleEmojiSelect}\n                                        theme=\"light\"\n                                        width={300}\n                                        height={350}\n                                        searchPlaceHolder=\"Search emoji...\"\n                                        previewConfig={{ showPreview: false }}\n                                    />\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Attach file */}\n                        <button\n                            className={styles.toolbarIcon}\n                            onClick={() => fileInputRef.current?.click()}\n                            type=\"button\"\n                            title=\"Attach file\"\n                            disabled={disabled || !taskId}\n                        >\n                            <Paperclip size={18} />\n                        </button>\n                        <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            multiple\n                            onChange={(e) => handleFileUpload(e.target.files)}\n                            style={{ display: 'none' }}\n                        />\n                    </div>\n\n                    <div className={styles.toolbarRight}>\n                        {/* Comment Button */}\n                        <Button\n                            onClick={handleSubmit}\n                            className={clsx(styles.commentBtn, hasContent && styles.active)}\n                            disabled={disabled || isSubmitting || !taskId || !hasContent}\n                        >\n                            {isSubmitting ? (\n                                <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"3\" />\n                            ) : (\n                                'Comment'\n                            )}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CommentEditor;\n","// extracted by mini-css-extract-plugin\nexport default {\"circleDesignStyle\":\"create-task_circleDesignStyle__vtKho\",\"out\":\"create-task_out__LG-iY\",\"taskTitleInput\":\"create-task_taskTitleInput__s+lNu\",\"formLabel\":\"create-task_formLabel__04J0h\",\"taskDescriptionInput\":\"create-task_taskDescriptionInput__RZWSI\",\"projectDropdown\":\"create-task_projectDropdown__qXb5+\",\"messageInputIcons\":\"create-task_messageInputIcons__Cj2vl\",\"attachButton\":\"create-task_attachButton__k6PEF\",\"emojiButton\":\"create-task_emojiButton__YPWSi\",\"commentButton\":\"create-task_commentButton__3T-po\",\"saveStatusWrapper\":\"create-task_saveStatusWrapper__1NhE+\",\"saveStatus\":\"create-task_saveStatus__6yreg\",\"fadeIn\":\"create-task_fadeIn__iRwYB\",\"saved\":\"create-task_saved__jqL5a\",\"error\":\"create-task_error__5CguB\",\"footerHint\":\"create-task_footerHint__acXGx\",\"sidebarFooter\":\"create-task_sidebarFooter__+ieeU\",\"taskFooter\":\"create-task_taskFooter__zplYw\",\"footerRight\":\"create-task_footerRight__UmNHb\"};","import React, { useState, useRef, useEffect } from 'react';\nimport { Calendar2Event } from \"react-bootstrap-icons\";\nimport { DateRangePickerCalendar } from '../../../../../shared/ui/date-range-picker-calendar';\n\nconst formatDateRange = (startDate, endDate) => {\n    const options = { month: 'short', day: 'numeric' };\n    const start = new Date(startDate).toLocaleDateString('en-US', options);\n    const end = new Date(endDate).toLocaleDateString('en-US', options);\n    return `${start} - ${end}`;\n};\n\nconst DateRangeComponent = ({ startDate, endDate }) => (\n    <div className='dateSelectdTaskBar'>\n        {formatDateRange(startDate, endDate)}\n    </div>\n);\n\nconst SelectDate = ({ setDateRange, dateRange }) => {\n    const [isPickerVisible, setIsPickerVisible] = useState(false);\n    const selectDateRef = useRef(null);\n\n    const togglePicker = () => setIsPickerVisible(prev => !prev);\n\n    const handleDataApply = (data) => {\n        setDateRange(data);\n        setIsPickerVisible(false);\n    };\n\n    const handleClickOutside = (event) => {\n        if (selectDateRef.current && !selectDateRef.current.contains(event.target)) {\n            setIsPickerVisible(false);\n        }\n    };\n\n    useEffect(() => {\n        if (isPickerVisible) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isPickerVisible]);\n\n    return (\n        <div className='select-date' style={{ position: 'relative' }} ref={selectDateRef}>\n            <div onClick={togglePicker} style={{ cursor: 'pointer' }}>\n                {dateRange?.startDate && dateRange?.endDate ? (\n                    <DateRangeComponent startDate={dateRange.startDate} endDate={dateRange.endDate} />\n                ) : (\n                    <div style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%'}} className={`iconStyleCircle d-flex justify-content-center align-items-center iconStyleCircleRight ${isPickerVisible ? 'active' : ''}`}>\n                        <Calendar2Event color={isPickerVisible ? \"#1AB2FF\" : \"#475467\"} size={14} />\n                    </div>\n                )}\n            </div>\n            {isPickerVisible && (\n                <div className='select-date-range' style={{ position: 'absolute', top: '-100px', background: '#fff', zIndex: 1000 }}>\n                    <DateRangePickerCalendar onDataApply={handleDataApply} dateRange={dateRange} onClose={() => setIsPickerVisible(false)} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default SelectDate;\n","// extracted by mini-css-extract-plugin\nexport default {\"commentsContainer\":\"task-comments_commentsContainer__9Qiud\",\"commentsHeader\":\"task-comments_commentsHeader__SxVw0\",\"commentsTitle\":\"task-comments_commentsTitle__f66k0\",\"commentsList\":\"task-comments_commentsList__NBm+d\",\"commentItem\":\"task-comments_commentItem__bv78f\",\"deleteButton\":\"task-comments_deleteButton__XLlzH\",\"userName\":\"task-comments_userName__EH9bR\",\"commentTime\":\"task-comments_commentTime__4eCW6\",\"commentText\":\"task-comments_commentText__rSHhj\",\"addCommentSection\":\"task-comments_addCommentSection__-KvEG\",\"avatar\":\"task-comments_avatar__GZ9fT\",\"loadMoreWrapper\":\"task-comments_loadMoreWrapper__TLDxd\",\"loadMoreBtn\":\"task-comments_loadMoreBtn__6oQeF\",\"loading\":\"task-comments_loading__3LE67\",\"commentAvatar\":\"task-comments_commentAvatar__Pc8rI\",\"commentHeader\":\"task-comments_commentHeader__T9R4I\",\"noComments\":\"task-comments_noComments__xAIGD\",\"attachmentContainer\":\"task-comments_attachmentContainer__QEIIm\",\"imageAttachment\":\"task-comments_imageAttachment__pMEwt\",\"attachmentImage\":\"task-comments_attachmentImage__3TpwU\",\"fileAttachment\":\"task-comments_fileAttachment__F5SBZ\",\"fileIconWrapper\":\"task-comments_fileIconWrapper__bozGA\",\"fileDetails\":\"task-comments_fileDetails__3maHd\",\"fileName\":\"task-comments_fileName__6bsXF\",\"fileAction\":\"task-comments_fileAction__bNX3c\"};","import { forwardRef, useImperativeHandle } from 'react';\nimport { FileEarmark } from 'react-bootstrap-icons';\nimport { useInfiniteQuery, useMutation } from '@tanstack/react-query';\nimport { toast } from 'sonner';\nimport styles from './task-comments.module.scss';\nimport { deleteTaskComment, getCommentsForTask } from '../../../../../APIs/task-api';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\n\n/**\n * Normalize API response  UI-friendly shape\n */\nconst normalizeComment = (c) => {\n    // Parse attachments - could be single URL or JSON array string\n    let attachmentUrls = [];\n    let attachmentTypes = [];\n\n    if (c.attachment_url) {\n        try {\n            // Try to parse as JSON array\n            const parsed = JSON.parse(c.attachment_url);\n            if (Array.isArray(parsed)) {\n                attachmentUrls = parsed;\n            } else {\n                attachmentUrls = [c.attachment_url];\n            }\n        } catch {\n            // Not JSON, treat as single URL\n            attachmentUrls = [c.attachment_url];\n        }\n    }\n\n    if (c.attachment_type) {\n        try {\n            const parsed = JSON.parse(c.attachment_type);\n            if (Array.isArray(parsed)) {\n                attachmentTypes = parsed;\n            } else {\n                attachmentTypes = [c.attachment_type];\n            }\n        } catch {\n            attachmentTypes = [c.attachment_type];\n        }\n    }\n\n    return {\n        id: c.id,\n        text: c.comment,\n        created_at: c.created_at,\n        attachments: attachmentUrls.map((url, index) => ({\n            url,\n            type: attachmentTypes[index] || 'application/octet-stream',\n        })),\n        // Keep backward compatibility\n        attachment_url: c.attachment_url || null,\n        attachment_type: c.attachment_type || null,\n        user: {\n            id: c.created_by?.id,\n            full_name: c.created_by?.full_name,\n            email: c.created_by?.email,\n            photo: c.created_by?.avatar,\n            role: c.created_by?.role,\n        },\n    };\n};\n\n/**\n * Time ago helper\n */\nconst formatTimeAgo = (timestamp) => {\n    const now = new Date();\n    const date = new Date(timestamp);\n    const diff = Math.floor((now - date) / (1000 * 60));\n\n    if (diff < 1) return 'Just now';\n    if (diff < 60) return `${diff} min ago`;\n    if (diff < 1440) return `${Math.floor(diff / 60)} hours ago`;\n    return `${Math.floor(diff / 1440)} days ago`;\n};\n\nconst TaskComments = forwardRef(({ taskId, usersMap = new Map() }, ref) => {\n    const {\n        data,\n        refetch,\n        fetchNextPage,\n        hasNextPage,\n        isFetchingNextPage,\n        isLoading,\n    } = useInfiniteQuery({\n        queryKey: ['task-comments', taskId],\n        queryFn: ({ pageParam }) =>\n            pageParam\n                ? fetch(pageParam).then(res => res.json())\n                : getCommentsForTask(taskId),\n        enabled: !!taskId,\n        getNextPageParam: (lastPage) => lastPage.next,\n    });\n\n    useImperativeHandle(ref, () => ({\n        refetchComments: () => refetch(),\n    }));\n\n    const deleteCommentMutation = useMutation({\n        mutationFn: deleteTaskComment,\n        onSuccess: () => {\n            toast.success('Comment deleted');\n            refetch();\n        },\n        onError: () => {\n            toast.error('Failed to delete comment');\n        },\n    });\n\n    /**\n     * Flatten + normalize + sort (oldest  newest)\n     */\n    const comments = data\n        ? data.pages\n            .slice()\n            .flatMap(page => page.results)\n            .map(normalizeComment)\n            .sort(\n                (a, b) =>\n                    new Date(a.created_at).getTime() -\n                    new Date(b.created_at).getTime()\n            )\n            .reverse()\n        : [];\n\n    if (isLoading) {\n        return <div className={styles.loading}>Loading comments</div>;\n    }\n\n    if (!comments.length) {\n        return (\n            <div className={styles.noComments}>No comments yet.</div>\n        );\n    }\n\n    const handleDeleteComment = (commentId) => {\n        deleteCommentMutation.mutate(commentId);\n    };\n\n    return (\n        <div className={styles.commentsContainer}>\n            {/* Load Older (Asana-style) */}\n            {hasNextPage && (\n                <div className={styles.loadMoreWrapper}>\n                    <button\n                        onClick={fetchNextPage}\n                        disabled={isFetchingNextPage}\n                        className={styles.loadMoreBtn}\n                    >\n                        {isFetchingNextPage\n                            ? 'Loading'\n                            : 'Load older comments'}\n                    </button>\n                </div>\n            )}\n\n            {/* Comments List */}\n            <div className={styles.commentsList}>\n                {comments.map((comment) => {\n                    // Get user data from usersMap if available, fallback to comment.user\n                    const userFromMap = usersMap.get(comment.user?.id);\n                    const avatarPhoto = userFromMap?.photo || comment.user?.photo;\n                    const hasPhoto = userFromMap?.has_photo || !!avatarPhoto;\n\n                    return (\n                        <div key={comment.id} className={styles.commentItem}>\n                            <div className=\"d-flex gap-3\">\n                                <div\n                                    className={styles.avatar}\n                                >\n                                    <FallbackImage\n                                        photo={avatarPhoto}\n                                        has_photo={hasPhoto}\n                                        is_business={false}\n                                        size={18}\n                                    />\n                                </div>\n\n                                <div className=\"flex-grow-1\" style={{ width: 'calc(100% - 50px)' }}>\n                                    <div className={styles.header}>\n                                        <span className={styles.userName}>\n                                            {comment.user?.full_name}\n                                        </span>\n                                        <span className={styles.commentTime}>\n                                             {formatTimeAgo(comment.created_at * 1000)}\n                                        </span>\n                                        <button\n                                            onClick={() => handleDeleteComment(comment.id)}\n                                            disabled={deleteCommentMutation.isPending}\n                                            className={styles.deleteButton}\n                                            style={{\n                                                marginLeft: '5px',\n                                                background: 'none',\n                                                border: 'none',\n                                                color: '#D92D20',\n                                                cursor: deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id ? 'not-allowed' : 'pointer',\n                                                fontSize: 12,\n                                                opacity: deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id ? 0.6 : 1,\n                                            }}\n                                        >\n                                            {deleteCommentMutation.isPending && deleteCommentMutation.variables === comment.id\n                                                ? 'Deleting...'\n                                                : 'Delete'}\n                                        </button>\n                                    </div>\n\n                                    <p className={styles.commentText}>\n                                        {comment.text}\n                                    </p>\n\n                                    {/* Attachments Display - supports multiple */}\n                                    {comment.attachments && comment.attachments.length > 0 && (\n                                        <div className={styles.attachmentContainer}>\n                                            {comment.attachments.map((attachment, index) => (\n                                                attachment.type?.startsWith('image/') ? (\n                                                    <a\n                                                        key={index}\n                                                        href={attachment.url}\n                                                        target=\"_blank\"\n                                                        rel=\"noopener noreferrer\"\n                                                        className={styles.imageAttachment}\n                                                    >\n                                                        <img\n                                                            src={attachment.url}\n                                                            alt={`Attachment ${index + 1}`}\n                                                            className={styles.attachmentImage}\n                                                        />\n                                                    </a>\n                                                ) : (\n                                                    <a\n                                                        key={index}\n                                                        href={attachment.url}\n                                                        target=\"_blank\"\n                                                        rel=\"noopener noreferrer\"\n                                                        className={styles.fileAttachment}\n                                                    >\n                                                        <div className={styles.fileIconWrapper}>\n                                                            <FileEarmark size={18} />\n                                                        </div>\n                                                        <div className={styles.fileDetails}>\n                                                            <span className={styles.fileName}>\n                                                                {attachment.url.split('/').pop()?.split('?')[0] || 'Attachment'}\n                                                            </span>\n                                                            <span className={styles.fileAction}>Click to download</span>\n                                                        </div>\n                                                    </a>\n                                                )\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n});\n\nexport default TaskComments;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Check, CheckCircle, Person, PlusCircle, X } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport debounce from 'lodash.debounce';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Sidebar } from 'primereact/sidebar';\nimport { Skeleton } from 'primereact/skeleton';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport { CommentEditor } from './comment-editor';\nimport styles from './create-task.module.scss';\nimport { getProjectsList } from '../../../../../APIs/expenses-api';\nimport { createNewTask, getMobileUserList, getUserList, updateTask } from '../../../../../APIs/task-api';\nimport { fetchTasksDelete, TaskCompleteJob } from '../../../../../APIs/TasksApi';\nimport { useAuth } from '../../../../../app/providers/auth-provider';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport SelectDate from '../../../../Business/Pages/management/task/select-date';\nimport TaskComments from '../task-comments/task-comments';\n\nexport const dateFormat = (dateInMiliSec) => {\n    if (!dateInMiliSec) return null;\n\n    const date = new Date(1000 * +dateInMiliSec);\n    return date;\n};\n\nconst CreateTask = ({ show, setShow, refetch, taskId, setTaskId, defaultValue, projectId, refetchTask = undefined, isFetching = false }) => {\n    const dropdownRef = useRef(null);\n    const textareaRef = useRef(null);\n    const commentsRef = useRef(null);\n    const commentsScrollRef = useRef(null);\n    const { session } = useAuth();\n    const [saveStatus, setSaveStatus] = useState('idle'); // 'idle' | 'saving' | 'saved' | 'error'\n    const [createdTaskId, setCreatedTaskId] = useState(null); // Track auto-created task\n\n    const [taskTitle, setTaskTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [project, setProject] = useState(\"\");\n    const [user, setUser] = useState(null);\n    const [date, setDate] = useState(null);\n    const [errors, setErrors] = useState({\n        taskTitle: false,\n        description: false,\n        project: false,\n        user: false,\n        date: false,\n    });\n\n    // Get the effective task ID (either passed in or auto-created)\n    const effectiveTaskId = taskId || createdTaskId;\n\n    useEffect(() => {\n        if (taskId && defaultValue) {\n            setTaskTitle(defaultValue?.title);\n            setDescription(defaultValue?.description);\n            setProject(defaultValue?.project?.id);\n            setUser(defaultValue?.user?.id);\n            setDate({ startDate: dateFormat(defaultValue?.from_date), endDate: dateFormat(defaultValue?.to_date) });\n        }\n    }, [taskId, defaultValue]);\n\n\n    const reset = () => {\n        refetch();\n        setTaskTitle(\"\");\n        setDescription(\"\");\n        setProject(\"\");\n        setUser(null);\n        setDate(null);\n        setSaveStatus('idle');\n        setCreatedTaskId(null);\n        previousValuesRef.current = null;\n        isInitialLoadRef.current = true;\n        setErrors({\n            taskTitle: false,\n            description: false,\n            project: false,\n            user: false,\n            date: false\n        });\n    };\n    const projectsList = useQuery({ queryKey: ['getProjectsList'], queryFn: getProjectsList });\n    const usersList = useQuery({ queryKey: ['getUserList'], queryFn: getUserList });\n    const mobileUsersList = useQuery({ queryKey: ['getMobileUserList'], queryFn: getMobileUserList });\n\n    // Create a user map for quick lookup by ID (used for assignee display and comment avatars)\n    const usersMap = React.useMemo(() => {\n        const map = new Map();\n        \n        // Add desktop users\n        usersList?.data?.users?.forEach((u) => {\n            map.set(u.id, {\n                id: u.id,\n                label: `${u.first_name} ${u.last_name}`.trim() || u.first_name || \"-\",\n                photo: u.photo || \"\",\n                has_photo: u.has_photo,\n            });\n        });\n        \n        // Add mobile users\n        mobileUsersList?.data?.users?.forEach((u) => {\n            if (!map.has(u.id)) {\n                map.set(u.id, {\n                    id: u.id,\n                    label: `${u.first_name} ${u.last_name}`.trim() || u.first_name || \"-\",\n                    photo: u.photo || \"\",\n                    has_photo: u.has_photo,\n                });\n            }\n        });\n        \n        return map;\n    }, [usersList?.data?.users, mobileUsersList?.data?.users]);\n\n    useEffect(() => {\n        if (!show) reset();\n    }, [show]);\n\n    // Create task mutation (for new tasks)\n    const createMutation = useMutation({\n        mutationFn: (data) => createNewTask(data),\n        onSuccess: (response) => {\n            setCreatedTaskId(response?.id);\n            setSaveStatus('saved');\n            // refetch();\n            toast.success('Task created');\n            setTimeout(() => setSaveStatus('idle'), 2000);\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n            setSaveStatus('error');\n            toast.error('Failed to create task');\n        }\n    });\n\n    // Update task mutation (for existing tasks)\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateTask(effectiveTaskId, data),\n        onSuccess: () => {\n            setSaveStatus('saved');\n            // refetch();\n            setTimeout(() => setSaveStatus('idle'), 2000);\n        },\n        onError: (error) => {\n            console.error('Error updating task:', error);\n            setSaveStatus('error');\n            toast.error('Failed to save changes');\n        }\n    });\n\n    // Track previous values for comparison to avoid unnecessary API calls\n    const previousValuesRef = useRef(null);\n    const isInitialLoadRef = useRef(true);\n\n    // Auto-save function ref to avoid stale closures\n    const autoSaveRef = useRef(null);\n\n    // Update ref when dependencies change\n    useEffect(() => {\n        autoSaveRef.current = () => {\n            // Only require title to create/save task\n            if (!taskTitle?.trim()) {\n                return;\n            }\n\n            const taskData = {\n                title: taskTitle,\n                description: description || '',\n                ...(project && { project }),\n                ...(user && { user }),\n                ...(date?.startDate && { from_date: date.startDate }),\n                ...(date?.endDate && { to_date: date.endDate }),\n            };\n\n            // Create a comparable string of current values\n            const currentValues = JSON.stringify({\n                title: taskTitle,\n                description: description || '',\n                project: project || null,\n                user: user || null,\n                fromDate: date?.startDate?.toString() || null,\n                toDate: date?.endDate?.toString() || null,\n            });\n\n            // Skip if values haven't changed\n            if (previousValuesRef.current === currentValues) {\n                return;\n            }\n\n            // Skip initial load when editing existing task\n            if (isInitialLoadRef.current && effectiveTaskId) {\n                isInitialLoadRef.current = false;\n                previousValuesRef.current = currentValues;\n                return;\n            }\n\n            // Update previous values\n            previousValuesRef.current = currentValues;\n            isInitialLoadRef.current = false;\n\n            setSaveStatus('saving');\n\n            if (effectiveTaskId) {\n                updateMutation.mutate(taskData);\n            } else {\n                createMutation.mutate(taskData);\n            }\n        };\n    }, [taskTitle, description, project, user, date, effectiveTaskId, updateMutation, createMutation]);\n\n    // Debounced auto-save (1.5 seconds after last change)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const debouncedAutoSave = useCallback(\n        debounce(() => {\n            autoSaveRef.current?.();\n        }, 1500),\n        []\n    );\n\n    // Trigger auto-save when form fields change\n    useEffect(() => {\n        if (show && taskTitle?.trim()) {\n            debouncedAutoSave();\n        }\n        return () => {\n            debouncedAutoSave.cancel?.();\n        };\n    }, [taskTitle, description, project, user, date, show, debouncedAutoSave]);\n\n    const deleteMutation = useMutation({\n        mutationFn: () => fetchTasksDelete(effectiveTaskId),\n        onSuccess: () => {\n            console.log('Delete success');\n            setShow(false);\n            refetch();\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n        }\n    });\n\n    // Mark Complete mutation\n    const markCompleteMutation = useMutation({\n        mutationFn: (finished) => TaskCompleteJob(effectiveTaskId, finished),\n        onSuccess: (_, finished) => {\n            toast.success(finished ? 'Task marked as complete' : 'Task marked as incomplete');\n            refetchTask?.();\n        },\n        onError: (error) => {\n            console.error('Error updating task status:', error);\n            toast.error('Failed to update task status');\n        }\n    });\n\n    const handleMarkComplete = () => {\n        const isCurrentlyComplete = defaultValue?.finished;\n        markCompleteMutation.mutate(!isCurrentlyComplete);\n    };\n\n    const handleDelete = () => {\n        deleteMutation.mutate();\n    };\n\n    // Handle comment added callback\n    const handleCommentAdded = () => {\n        commentsRef.current?.refetchComments();\n    };\n\n\n    useEffect(() => {\n        setTimeout(() => {\n            if (textareaRef.current) {\n                textareaRef.current.style.height = \"auto\";\n                textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n            }\n        }, 200);\n    }, [description, taskId]);\n\n    useEffect(() => {\n        if (projectId) {\n            setProject(+projectId);\n        }\n    }, [projectId]);\n\n    return (\n        <Sidebar visible={show} position=\"right\" onHide={() => { setShow(false); if (taskId) setTaskId(null); reset(); }} modal={false} dismissable={false} style={{ width: '591px', height: '97vh', borderRadius: '10px', marginRight: '10px' }}\n            content={({ closeIconRef, hide }) => (\n                <div className='create-sidebar d-flex flex-column'>\n                    <div className=\"d-flex align-items-center justify-content-between flex-shrink-0\" style={{ borderBottom: '1px solid #EAECF0', padding: '24px' }}>\n                        <div className=\"d-flex align-items-center gap-2\">\n                            <div className={styles.circleDesignStyle}>\n                                <div className={styles.out}>\n                                    <PlusCircle size={24} color=\"#17B26A\" />\n                                </div>\n                            </div>\n                            <span style={{ color: '344054', fontSize: '20px', fontWeight: 600 }}>{effectiveTaskId ? \"Edit\" : \"Create New\"} Task</span>\n                            {/* Save Status Indicator */}\n                            <div className={styles.saveStatusWrapper}>\n                                {saveStatus === 'saving' && (\n                                    <div className={styles.saveStatus}>\n                                        <ProgressSpinner style={{ width: '14px', height: '14px' }} strokeWidth=\"3\" />\n                                        <span>Saving...</span>\n                                    </div>\n                                )}\n                                {saveStatus === 'saved' && (\n                                    <div className={clsx(styles.saveStatus, styles.saved)}>\n                                        <Check size={14} />\n                                        <span>Saved</span>\n                                    </div>\n                                )}\n                                {saveStatus === 'error' && (\n                                    <div className={clsx(styles.saveStatus, styles.error)}>\n                                        <span>Save failed</span>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        <span>\n                            <Button type=\"button\" className='text-button' ref={closeIconRef} onClick={(e) => hide(e)}>\n                                <X size={24} color='#667085' />\n                            </Button>\n                        </span>\n                    </div>\n                    <div className='modal-body' style={{ height: 'calc(100vh - 72px - 200px)', overflow: 'auto' }}>\n                        {/* Skeleton Loading State */}\n                        {isFetching && taskId ? (\n                            <div className='task-content' style={{ padding: '24px' }}>\n                                {/* Title Skeleton */}\n                                <Skeleton width=\"70%\" height=\"28px\" className=\"mb-3\" />\n                                \n                                {/* Assignee Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center pt-2'>\n                                        <Skeleton width=\"80px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8} className='d-flex align-items-center'>\n                                        <Skeleton shape=\"circle\" size=\"24px\" className=\"me-2\" />\n                                        <Skeleton width=\"120px\" height=\"22px\" style={{ marginLeft: '8px' }} />\n                                    </Col>\n                                </Row>\n\n                                {/* Due Date Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center'>\n                                        <Skeleton width=\"80px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8}>\n                                        <Skeleton width=\"180px\" height=\"22px\" />\n                                    </Col>\n                                </Row>\n\n                                {/* Project Row Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4} className='d-flex flex-column justify-content-center pt-3'>\n                                        <Skeleton width=\"100px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={8}>\n                                        <Skeleton width=\"200px\" height=\"46px\" borderRadius=\"8px\" />\n                                    </Col>\n                                </Row>\n\n                                {/* Description Skeleton */}\n                                <Row className=\"mt-3\">\n                                    <Col sm={4}>\n                                        <Skeleton width=\"90px\" height=\"22px\" />\n                                    </Col>\n                                    <Col sm={12} className=\"mt-2\">\n                                        <Skeleton width=\"100%\" height=\"120px\" borderRadius=\"8px\" />\n                                    </Col>\n                                </Row>\n                            </div>\n                        ) : (\n                        <div className='task-content' style={{ padding: '24px' }}>\n                            <Form.Control\n                                type=\"text\"\n                                name='taskTitle'\n                                id='taskTitle'\n                                placeholder=\"Enter task title\"\n                                value={taskTitle}\n                                onChange={(e) => setTaskTitle(e.target.value)}\n                                className={styles.taskTitleInput}\n                            />\n                            {errors.taskTitle && <Form.Text className=\"error-message\">Task title is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center pt-2'>\n                                    <Form.Label className={styles.formLabel}>Assignee</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    {!user && <div className='d-flex align-items-center justify-content-center' onClick={() => dropdownRef.current?.show()} style={{ border: '1px dashed #98A2B3', width: '24px', height: '24px', borderRadius: '50%' }}><Person\n                                        color={dropdownRef.current?.panel?.element?.offsetParent ? \"#1AB2FF\" : \"#475467\"}\n                                        size={18}\n                                        className='cursor-pointer' />\n                                    </div>}\n                                    <Dropdown\n                                        ref={dropdownRef}\n                                        options={[\n                                            {\n                                                label: 'Desktop User',\n                                                items: usersList?.data?.users?.filter((user) => user?.is_active)?.map((user) => ({\n                                                    value: user?.id,\n                                                    label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                    photo: user?.photo || \"\",\n                                                    has_photo: user?.has_photo\n                                                })) || []\n                                            },\n                                            ...(session?.has_work_subscription\n                                                ? [\n                                                    {\n                                                        label: 'Mobile User',\n                                                        items:\n                                                            mobileUsersList?.data?.users\n                                                                ?.filter((user) => user?.status !== 'disconnected')\n                                                                ?.map((user) => ({\n                                                                    value: user?.id,\n                                                                    label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                                    photo: user?.photo || \"\",\n                                                                    has_photo: user?.has_photo,\n                                                                })) || [],\n                                                    },\n                                                ]\n                                                : []),\n                                        ]}\n                                        onChange={(e) => {\n                                            setUser(e.value);\n                                        }}\n                                        valueTemplate={(option) => {\n                                            // When using grouped options, option might be the raw value (ID) not the object\n                                            // We use usersMap to get the correct user data\n                                            const userId = typeof option === 'object' ? option?.value : option;\n                                            const userData = usersMap.get(userId);\n                                            \n                                            if (!userData) return null;\n\n                                            return <div className='d-flex gap-2 align-items-center' style={{ position: 'relative', left: '-10px' }}>\n                                                <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                    <FallbackImage photo={userData?.photo} has_photo={userData?.has_photo} is_business={false} size={17} />\n                                                </div>\n                                                {userData?.label}\n                                            </div>;\n                                        }}\n                                        itemTemplate={(option) => {\n                                            return (\n                                                <div className='d-flex gap-2 align-items-center'>\n                                                    <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                        <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                                    </div>\n                                                    {option?.label}\n                                                </div>\n                                            );\n                                        }}\n                                        className='outline-none border-0 p-0'\n                                        style={{\n                                            width: !user ? '0px' : 'fit-content',\n                                            height: !user ? '0px' : '46px',\n                                            zIndex: !user ? '0' : '1',\n                                            position: 'relative',\n                                            left: !user ? '-60px' : '-4px',\n                                            top: !user ? '-15px' : '0px',\n                                        }}\n                                        value={user}\n                                        dropdownIcon={<></>}\n                                        collapseIcon={<></>}\n                                        placeholder=\"Select project\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                        optionGroupLabel=\"label\"\n                                        optionGroupChildren=\"items\"\n                                        scrollHeight=\"400px\"\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.user && <Form.Text className=\"error-message\">User is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center'>\n                                    <Form.Label className={styles.formLabel}>Due Date</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    <SelectDate dateRange={date} setDateRange={setDate} />\n                                </Col>\n                            </Row>\n                            {errors.date && <Form.Text className=\"error-message\">Date is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4} className='d-flex flex-column justify-content-center pt-3'>\n                                    <Form.Label className={styles.formLabel}>Link to Project</Form.Label>\n                                </Col>\n                                <Col sm={8} className='d-flex flex-column justify-content-center'>\n                                    <Dropdown\n                                        options={projectsList?.data?.map((project) => ({\n                                            value: project.id,\n                                            label: `${project.number}: ${project.reference}`\n                                        })) || []}\n                                        onChange={(e) => {\n                                            setProject(e.value);\n                                        }}\n                                        className={clsx('outline-none', styles.projectDropdown)}\n                                        style={{ height: '46px', maxWidth: '100%', width: 'fit-content' }}\n                                        value={project}\n                                        loading={projectsList?.isFetching}\n                                        placeholder=\"Select project\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                        panelStyle={{ maxHeight: '400px', width: '591px' }}\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.project && <Form.Text className=\"error-message\">Project task is required</Form.Text>}\n\n                            <Row className={\"mt-3\"}>\n                                <Col sm={4}>\n                                    <Form.Label className={styles.formLabel}>Description</Form.Label>\n                                </Col>\n                                <Col sm={12}>\n                                    <Form.Control\n                                        name='taskDescription'\n                                        id='taskDescription'\n                                        as=\"textarea\"\n                                        placeholder='Enter a description...'\n                                        value={description}\n                                        rows={2}\n                                        ref={textareaRef}\n                                        onChange={(e) => {\n                                            setDescription(e.target.value);\n                                        }}\n                                        className={styles.taskDescriptionInput}\n                                        onInput={(e) => {\n                                            e.target.style.height = \"auto\"; // reset\n                                            e.target.style.height = e.target.scrollHeight + \"px\"; // grow\n                                        }}\n                                        onFocus={() => {\n                                            if (textareaRef.current) {\n                                                textareaRef.current.style.height = \"auto\";\n                                                textareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\n                                            }\n                                        }}\n                                    />\n                                </Col>\n                            </Row>\n                            {errors.description && <Form.Text className=\"error-message\">Description is required</Form.Text>}\n                        </div>\n                        )}\n                        {/* Comments Section */}\n                        {effectiveTaskId && (\n                            <div className='border-top' style={{ background: '#F2F3F4', padding: '12px 24px' }}>\n                                <Form.Label className={styles.formLabel}>Comments</Form.Label>\n                                <div ref={commentsScrollRef}>\n                                    <TaskComments taskId={effectiveTaskId} ref={commentsRef} usersMap={usersMap} />\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    <div className={styles.sidebarFooter}>\n                        {/* Enhanced Comment Editor */}\n                        <CommentEditor\n                            taskId={effectiveTaskId}\n                            session={session}\n                            onCommentAdded={handleCommentAdded}\n                            disabled={!effectiveTaskId}\n                            commentsScrollRef={commentsScrollRef}\n                        />\n\n                        {/* Footer with Mark Complete and Delete buttons */}\n                        <div className={styles.taskFooter}>\n                            <Button\n                                disabled={!effectiveTaskId || markCompleteMutation.isPending}\n                                className={defaultValue?.finished ? 'outline-in-complete-button' : 'outline-complete-button'}\n                                onClick={handleMarkComplete}\n                            >\n                                {defaultValue?.finished ? 'Completed' : 'Mark Complete'}\n                                <CheckCircle size={16} color='#079455' />\n\n                                {markCompleteMutation.isPending && (\n                                    <ProgressSpinner style={{ width: '16px', height: '16px' }} strokeWidth=\"3\" />\n                                )}\n                            </Button>\n                            <div className={styles.footerRight}>\n                                <span className={styles.footerHint}>\n                                    {saveStatus === 'saving' && 'Saving...'}\n                                    {saveStatus === 'saved' && 'Changes saved'}\n                                    {saveStatus === 'idle' && 'Auto-save enabled'}\n                                </span>\n                                <Button className='danger-text-button' onClick={handleDelete} disabled={!effectiveTaskId}>\n                                    Delete\n                                    {deleteMutation.isPending && <ProgressSpinner style={{ width: '18px', height: '18px' }} />}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        ></Sidebar>\n    );\n};\n\nexport default CreateTask;","import { updateProjectScheduleById } from \"../../../../../APIs/management-api\";\nimport { updateTask } from \"../../../../../APIs/task-api\";\n\nlet dp;\nlet DP;\nlet expandRow;\n\nfunction parseTimestamp(timestampStr) {\n  return new Date(new Date(timestampStr).getTime() - (new Date(timestampStr).getTimezoneOffset() * 60 * 1000));\n}\n\nfunction loadData(responses, hasWorkSubscription) {\n  const events = [];\n  const resources = responses?.map((data) => {\n    let color = data?.custom_status?.color || \"rgb(192, 192, 192)\";\n    let background = data?.custom_status?.background;\n    let font = data?.custom_status?.font;\n\n    const status = data?.custom_status?.title\n      ? `<div style='color:${font}; background:${background}; border: 1px solid ${color}; width: fit-content; max-width: 85px; border-radius: 20px; padding: 0px 6px; font-weight: 500; margin-left: auto; display: flex; align-items: center; height: 22px;' title=\"${data.custom_status.title}\">\n          <div style='max-width: 80px; overflow: hidden; text-overflow: ellipsis; display: inline-block; position: relative; top: 0px; white-space: nowrap; font-size: 12px;'>${data.custom_status.title}</div>\n        </div>`\n      : `<div style='font-size: 12px;color: #344054; background: #F2F4F7; border: 1px solid rgba(0, 0, 0, 0.498); width: fit-content; border-radius: 20px; padding: 0px 6px; font-weight: 500; margin-left: auto; display: flex; align-items: center; height: 22px'>No status</div>`;\n\n    let jobsStatus = \"not-started\";\n    if (data.jobs_count === 0 && data.jobs_count === 0)\n      jobsStatus = \"not-started\";\n    else if (data.jobs_done === data.jobs_count) jobsStatus = \"done\";\n    else if (data.jobs_done === 0) jobsStatus = \"not-done\";\n    else if (data.jobs_done) jobsStatus = \"pending\";\n\n    const projectEndDate = new Date(parseInt(data.booking_end) * 1000);\n    projectEndDate.setHours(23, 59, 59, 999);\n    let isJobOverdue = projectEndDate < new Date();\n    let overdueIcon = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"24\" height=\"24\" rx=\"12\" fill=\"#FEE4E2\" />\n            <path d=\"M12.515 5.01896C12.344 5.00635 12.1722 5 12 5V4C12.1968 4 12.3931 4.00726 12.5885 4.02167L12.515 5.01896ZM14.5193 5.46905C14.1985 5.34533 13.8691 5.2454 13.5337 5.17008L13.7528 4.19438C14.1361 4.28046 14.5126 4.39467 14.8792 4.53605L14.5193 5.46905ZM15.889 6.17971C15.7458 6.08402 15.5994 5.99388 15.4503 5.90939L15.9432 5.0393C16.1136 5.13586 16.2809 5.23888 16.4446 5.34824C16.6082 5.4576 16.7674 5.5727 16.9219 5.69322L16.3066 6.48158C16.1715 6.37612 16.0322 6.27541 15.889 6.17971ZM17.7231 7.96934C17.5252 7.68829 17.3068 7.42218 17.0697 7.17321L17.794 6.48368C18.0649 6.76821 18.3145 7.07233 18.5407 7.39353L17.7231 7.96934ZM18.4672 9.32122C18.4012 9.16208 18.3296 9.00583 18.2526 8.85271L19.1458 8.40311C19.2339 8.5781 19.3157 8.75667 19.391 8.93853C19.4664 9.12039 19.5348 9.30453 19.5962 9.49054L18.6467 9.80423C18.5929 9.64147 18.5331 9.48035 18.4672 9.32122ZM18.9979 11.8282C18.9895 11.4846 18.9557 11.142 18.8969 10.8033L19.8822 10.6323C19.9494 11.0194 19.988 11.4109 19.9976 11.8037L18.9979 11.8282ZM18.8655 13.3656C18.8991 13.1967 18.9264 13.027 18.9474 12.8569L19.9398 12.9793C19.9159 13.1737 19.8847 13.3677 19.8463 13.5607C19.8079 13.7538 19.7625 13.9449 19.7102 14.1337L18.7464 13.867C18.7922 13.7018 18.8319 13.5346 18.8655 13.3656ZM17.914 15.745C18.0979 15.4546 18.2602 15.151 18.3995 14.8367L19.3137 15.2419C19.1545 15.6011 18.969 15.9481 18.7588 16.28L17.914 15.745ZM16.9497 16.9497C17.0715 16.828 17.1885 16.702 17.3005 16.5722L18.0577 17.2254C17.9297 17.3737 17.796 17.5177 17.6569 17.6569L16.9497 16.9497Z\" fill=\"#F04438\" />\n            <path d=\"M12 5C10.8488 5 9.71545 5.2839 8.70022 5.82655C7.68499 6.3692 6.81926 7.15386 6.17971 8.11101C5.54017 9.06816 5.14654 10.1683 5.03371 11.3139C4.92088 12.4595 5.09232 13.6153 5.53285 14.6788C5.97337 15.7423 6.66939 16.6808 7.55925 17.4111C8.44911 18.1414 9.50533 18.6409 10.6344 18.8655C11.7634 19.0901 12.9304 19.0327 14.032 18.6986C15.1336 18.3644 16.1358 17.7637 16.9497 16.9497L17.6569 17.6569C16.7266 18.5871 15.5812 19.2736 14.3223 19.6555C13.0633 20.0374 11.7296 20.1029 10.4393 19.8463C9.14895 19.5896 7.94183 19.0187 6.92486 18.1841C5.90788 17.3495 5.11243 16.2769 4.60897 15.0615C4.1055 13.846 3.90957 12.5251 4.03852 11.2159C4.16748 9.90659 4.61733 8.64933 5.34825 7.55544C6.07916 6.46155 7.06857 5.5648 8.22883 4.94463C9.38909 4.32446 10.6844 4 12 4V5Z\" fill=\"#F04438\" />\n            <path d=\"M11.5 7C11.7761 7 12 7.22386 12 7.5V12.7098L15.2481 14.5659C15.4878 14.7029 15.5711 15.0083 15.4341 15.2481C15.2971 15.4878 14.9917 15.5711 14.7519 15.4341L11.2519 13.4341C11.0961 13.3451 11 13.1794 11 13V7.5C11 7.22386 11.2239 7 11.5 7Z\" fill=\"#F04438\" />\n          </svg>`;\n\n\n    // add project event\n    events.push({\n      start: parseTimestamp(1000 * +data.booking_start),\n      end: parseTimestamp(1000 * +data.booking_end),\n      id: data.unique_id,\n      cssClass: 'project-item',\n      resource: data.unique_id,\n      backColor: background,\n      borderColor: color,\n      tag: { number: data.number, reference: data.reference, value: data.id, type: 'project' },\n      text: `<ul class=\"eventStyleCal\">\n        <li>\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_6815_57879)\"><rect width=\"24\" height=\"24\" rx=\"4\" fill=\"url(#paint0_linear_6815_57879)\"/><g opacity=\"0.08\"><rect x=\"0.375\" y=\"0.375\" width=\"23.25\" height=\"23.25\" rx=\"3.625\" stroke=\"#101828\" stroke-width=\"0.75\"/></g><g clip-path=\"url(#clip1_6815_57879)\">\n            <path d=\"M8.57171 7.28592C8.57171 7.04923 8.76359 6.85735 9.00028 6.85735H9.85742C10.0941 6.85735 10.286 7.04923 10.286 7.28592V8.14307C10.286 8.37976 10.0941 8.57164 9.85742 8.57164H9.00028C8.76359 8.57164 8.57171 8.37976 8.57171 8.14307V7.28592Z\" fill=\"#667085\"/>\n            <path d=\"M11.1431 7.28592C11.1431 7.04923 11.335 6.85735 11.5717 6.85735H12.4289C12.6655 6.85735 12.8574 7.04923 12.8574 7.28592V8.14307C12.8574 8.37976 12.6655 8.57164 12.4289 8.57164H11.5717C11.335 8.57164 11.1431 8.37976 11.1431 8.14307V7.28592Z\" fill=\"#667085\"/>\n            <path d=\"M14.1431 6.85735C13.9064 6.85735 13.7146 7.04923 13.7146 7.28592V8.14307C13.7146 8.37976 13.9064 8.57164 14.1431 8.57164H15.0003C15.237 8.57164 15.4289 8.37976 15.4289 8.14307V7.28592C15.4289 7.04923 15.237 6.85735 15.0003 6.85735H14.1431Z\" fill=\"#667085\"/>\n            <path d=\"M8.57171 9.85735C8.57171 9.62066 8.76359 9.42878 9.00028 9.42878H9.85742C10.0941 9.42878 10.286 9.62066 10.286 9.85735V10.7145C10.286 10.9512 10.0941 11.1431 9.85742 11.1431H9.00028C8.76359 11.1431 8.57171 10.9512 8.57171 10.7145V9.85735Z\" fill=\"#667085\"/>\n            <path d=\"M11.5717 9.42878C11.335 9.42878 11.1431 9.62066 11.1431 9.85735V10.7145C11.1431 10.9512 11.335 11.1431 11.5717 11.1431H12.4289C12.6655 11.1431 12.8574 10.9512 12.8574 10.7145V9.85735C12.8574 9.62066 12.6655 9.42878 12.4289 9.42878H11.5717Z\" fill=\"#667085\"/>\n            <path d=\"M13.7146 9.85735C13.7146 9.62066 13.9064 9.42878 14.1431 9.42878H15.0003C15.237 9.42878 15.4289 9.62066 15.4289 9.85735V10.7145C15.4289 10.9512 15.237 11.1431 15.0003 11.1431H14.1431C13.9064 11.1431 13.7146 10.9512 13.7146 10.7145V9.85735Z\" fill=\"#667085\"/>\n            <path d=\"M9.00028 12.0002C8.76359 12.0002 8.57171 12.1921 8.57171 12.4288V13.2859C8.57171 13.5226 8.76359 13.7145 9.00028 13.7145H9.85742C10.0941 13.7145 10.286 13.5226 10.286 13.2859V12.4288C10.286 12.1921 10.0941 12.0002 9.85742 12.0002H9.00028Z\" fill=\"#667085\"/>\n            <path d=\"M11.1431 12.4288C11.1431 12.1921 11.335 12.0002 11.5717 12.0002H12.4289C12.6655 12.0002 12.8574 12.1921 12.8574 12.4288V13.2859C12.8574 13.5226 12.6655 13.7145 12.4289 13.7145H11.5717C11.335 13.7145 11.1431 13.5226 11.1431 13.2859V12.4288Z\" fill=\"#667085\"/>\n            <path d=\"M14.1431 12.0002C13.9064 12.0002 13.7146 12.1921 13.7146 12.4288V13.2859C13.7146 13.5226 13.9064 13.7145 14.1431 13.7145H15.0003C15.237 13.7145 15.4289 13.5226 15.4289 13.2859V12.4288C15.4289 12.1921 15.237 12.0002 15.0003 12.0002H14.1431Z\" fill=\"#667085\"/>\n            <path d=\"M6.85742 6.00021C6.85742 5.52682 7.24118 5.14307 7.71456 5.14307H16.286C16.7594 5.14307 17.1431 5.52682 17.1431 6.00021V18.0002C17.1431 18.4736 16.7594 18.8574 16.286 18.8574H7.71456C7.24118 18.8574 6.85742 18.4736 6.85742 18.0002V6.00021ZM16.286 6.00021L7.71456 6.00021V18.0002H10.286V15.8574C10.286 15.6207 10.4779 15.4288 10.7146 15.4288H13.286C13.5227 15.4288 13.7146 15.6207 13.7146 15.8574V18.0002H16.286V6.00021Z\" fill=\"#667085\"/></g></g><defs><linearGradient id=\"paint0_linear_6815_57879\" x1=\"12\" y1=\"0\" x2=\"12\" y2=\"24\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#F9FAFB\"/><stop offset=\"1\" stop-color=\"#EDF0F3\"/></linearGradient><clipPath id=\"clip0_6815_57879\"><rect width=\"24\" height=\"24\" rx=\"4\" fill=\"white\"/></clipPath><clipPath id=\"clip1_6815_57879\"><rect width=\"13.7143\" height=\"13.7143\" fill=\"white\" transform=\"translate(5.14307 5.14307)\"/></clipPath></defs>\n          </svg>\n          &nbsp;\n          <strong style=\"color: ${font}; font-weight: 400\">${data.reference}</strong>\n        </li>\n      </ul>`,\n    });\n\n    const unfinishedTasks = data.tasks.filter(task => !task.finished)?.length || 0;\n    const totalTasks = data.tasks.length;\n    const childResource = [];\n\n    childResource.push({\n      id: data.number,\n      name: `<div class=\"d-flex flex-column rowResourceEvent\">\n            <div class=\"d-flex gap-1 task-heading rowResourceEvent\" style=\"--main-color: ${color}; height: 34px\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 12 12\" fill=\"none\">\n                <path d=\"M10.875 2.25C11.0821 2.25 11.25 2.41789 11.25 2.625V9.375C11.25 9.58211 11.0821 9.75 10.875 9.75H1.125C0.917893 9.75 0.75 9.58211 0.75 9.375V2.625C0.75 2.41789 0.917893 2.25 1.125 2.25H10.875ZM1.125 1.5C0.50368 1.5 0 2.00368 0 2.625V9.375C0 9.99632 0.50368 10.5 1.125 10.5H10.875C11.4963 10.5 12 9.99632 12 9.375V2.625C12 2.00368 11.4963 1.5 10.875 1.5H1.125Z\" fill=\"#475467\"/>\n                <path d=\"M5.25 4.125C5.25 3.91789 5.41789 3.75 5.625 3.75H9.375C9.58211 3.75 9.75 3.91789 9.75 4.125C9.75 4.33211 9.58211 4.5 9.375 4.5H5.625C5.41789 4.5 5.25 4.33211 5.25 4.125Z\" fill=\"#475467\"/>\n                <path d=\"M4.12767 3.48484C4.27411 3.63128 4.27411 3.86872 4.12767 4.01516L3.00267 5.14016C2.85622 5.28661 2.61878 5.28661 2.47234 5.14016L2.09734 4.76516C1.95089 4.61872 1.95089 4.38128 2.09734 4.23484C2.24378 4.08839 2.48122 4.08839 2.62767 4.23484L2.7375 4.34467L3.59734 3.48484C3.74378 3.33839 3.98122 3.33839 4.12767 3.48484Z\" fill=\"#475467\"/>\n                <path d=\"M5.25 7.125C5.25 6.91789 5.41789 6.75 5.625 6.75H9.375C9.58211 6.75 9.75 6.91789 9.75 7.125C9.75 7.33211 9.58211 7.5 9.375 7.5H5.625C5.41789 7.5 5.25 7.33211 5.25 7.125Z\" fill=\"#475467\"/>\n                <path d=\"M4.12767 6.48484C4.27411 6.63128 4.27411 6.86872 4.12767 7.01516L3.00267 8.14017C2.85622 8.28661 2.61878 8.28661 2.47234 8.14017L2.09734 7.76517C1.95089 7.61872 1.95089 7.38128 2.09734 7.23484C2.24378 7.08839 2.48122 7.08839 2.62767 7.23484L2.7375 7.34467L3.59734 6.48484C3.74378 6.33839 3.98122 6.33839 4.12767 6.48484Z\" fill=\"#475467\"/>\n              </svg>\n              <span class=\"font-14\">Tasks</span>\n            </div>\n           </div>`,\n      minHeight: 40,\n      marginBottom: 4,\n    });\n\n    // Task child resource\n    data?.tasks?.forEach((task) => {\n      events.push({\n        start: parseTimestamp(1000 * +task.from_date),\n        end: parseTimestamp(1000 * +task.to_date),\n        id: task.id,\n        cssClass: \"childEvent task-item\",\n        resource: task.id,\n        backColor: task.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n        borderColor: task.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n        text: task.title,\n        tag: { type: \"task\", task: task },\n      });\n\n      const statusIMG = task.finished\n        ? `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#DCFAE6\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#085D3A\"/>\n            </svg>`\n        : `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#F2F4F7\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#475467\"/>\n            </svg>`;\n\n      childResource.push({\n        id: task.id,\n        name: `<div class=\"d-flex flex-column\">\n            <div task-id=\"${task.id}\" class=\"task-list rowResourceEvent\" style=\"--main-color: ${color}\" task-id=\"${task.id}\">\n              <div class=\"flex\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_5999_560822)\"><rect width=\"16\" height=\"16\" rx=\"8\" fill=\"url(#paint0_linear_5999_560822)\"/><g opacity=\"0.08\"><rect x=\"0.375\" y=\"0.375\" width=\"15.25\" height=\"15.25\" rx=\"7.625\" stroke=\"#101828\" stroke-width=\"0.75\"/></g>\n                  <path d=\"M6.57129 6.28585C6.41349 6.28585 6.28557 6.41377 6.28557 6.57157C6.28557 6.72936 6.41349 6.85728 6.57129 6.85728H9.42843C9.58623 6.85728 9.71415 6.72936 9.71415 6.57157C9.71415 6.41377 9.58623 6.28585 9.42843 6.28585H6.57129Z\" fill=\"#475467\"/>\n                  <path d=\"M6.57129 7.42871C6.41349 7.42871 6.28557 7.55663 6.28557 7.71443C6.28557 7.87222 6.41349 8.00014 6.57129 8.00014H8.28557C8.44337 8.00014 8.57129 7.87222 8.57129 7.71443C8.57129 7.55663 8.44337 7.42871 8.28557 7.42871H6.57129Z\" fill=\"#475467\"/>\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.99986 4.57157C8.63104 4.57157 9.14272 4.05989 9.14272 3.42871H10.5713C11.0447 3.42871 11.4284 3.81247 11.4284 4.28585V11.7144C11.4284 12.1878 11.0447 12.5716 10.5713 12.5716H5.42843C4.95505 12.5716 4.57129 12.1878 4.57129 11.7144V4.28585C4.57129 3.81247 4.95505 3.42871 5.42843 3.42871H6.857C6.857 4.05989 7.36868 4.57157 7.99986 4.57157ZM7.99986 5.143C8.74627 5.143 9.38127 4.66596 9.6166 4.00014H10.5713C10.7291 4.00014 10.857 4.12806 10.857 4.28585V11.7144C10.857 11.8722 10.7291 12.0001 10.5713 12.0001H5.42843C5.27064 12.0001 5.14272 11.8722 5.14272 11.7144V4.28585C5.14272 4.12806 5.27064 4.00014 5.42843 4.00014H6.38312C6.61846 4.66596 7.25345 5.143 7.99986 5.143Z\" fill=\"#475467\"/></g><defs><linearGradient id=\"paint0_linear_5999_560822\" x1=\"8\" y1=\"0\" x2=\"8\" y2=\"16\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#F9FAFB\"/><stop offset=\"1\" stop-color=\"#EDF0F3\"/></linearGradient><clipPath id=\"clip0_5999_560822\"><rect width=\"16\" height=\"16\" rx=\"8\" fill=\"white\"/></clipPath></defs>\n                </svg>\n                <div class=\"title-description-section\">\n                  <span class=\"task-assigner\">${task?.assigned_to?.name}</span>\n                  <span class=\"task-title\">${task.title}</span>\n                </div> \n              </div>\n              <div class=\"completion-status ${statusIMG === 'completed' ? 'completed-class' : 'incomplete-class'}\">\n                ${statusIMG}\n              </div>\n            </div>\n          </div>`,\n        minHeight: 40,\n        marginBottom: 4,\n      });\n    });\n\n    childResource.push({\n      id: data.number,\n      name: `<div class=\"create-task-div rowResourceEvent\" style=\"--main-color: ${color}; height: ${data.tasks?.length ? '45px' : '40px'}\">\n              <button class=\"create-task-button\" project-id=\"${data.id}\" number=\"${data?.number}\" reference=\"${data?.reference}\" style=\"margin-bottom: ${data.tasks?.length ? '16px' : '6px'}\">Create Task\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                  <path d=\"M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z\" fill=\"#106B99\"/>\n                </svg>\n              </button> \n            </div>`,\n      minHeight: 40,\n      marginBottom: 0,\n    });\n\n    let unfinishedJobs = 0;\n    let totalJobs = 0;\n    if (hasWorkSubscription) {\n      unfinishedJobs = data?.jobs?.filter(job => !job.finished)?.length || 0;\n      totalJobs = data?.jobs?.length || 0;\n\n      childResource.push({\n        id: data.number,\n        name: `<div class=\"d-flex flex-column rowResourceEvent\">\n            <div class=\"d-flex gap-1 task-heading rowResourceEvent\" style=\"--main-color: ${color}; height: 34px\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 12 12\" fill=\"none\">\n                <path d=\"M4.875 0.75C4.2538 0.75 3.75 1.25338 3.75 1.87482V2.25H1.125C0.50368 2.25 0 2.75368 0 3.375V9.375C0 9.99632 0.50368 10.5 1.125 10.5H10.875C11.4963 10.5 12 9.99632 12 9.375V3.375C12 2.75368 11.4963 2.25 10.875 2.25H8.25V1.87482C8.25 1.25338 7.7462 0.75 7.125 0.75H4.875ZM4.875 1.5H7.125C7.33223 1.5 7.5 1.66847 7.5 1.87546V2.25H4.5V1.87482C4.5 1.66783 4.66777 1.5 4.875 1.5ZM6.28987 6.68581L11.25 5.3631V9.375C11.25 9.58211 11.0821 9.75 10.875 9.75H1.125C0.917893 9.75 0.75 9.58211 0.75 9.375V5.3631L5.71013 6.68581C5.90006 6.73645 6.09994 6.73645 6.28987 6.68581ZM1.125 3H10.875C11.0821 3 11.25 3.16789 11.25 3.375V4.5869L6.09662 5.96113C6.03331 5.97801 5.96669 5.97801 5.90338 5.96113L0.75 4.5869V3.375C0.75 3.16789 0.917893 3 1.125 3Z\" fill=\"#475467\"/>\n              </svg>\n              <span class=\"font-14\">Jobs</span>\n            </div>\n           </div>`,\n        minHeight: 40,\n        marginBottom: 4,\n      });\n\n      // Job child resource\n      data?.jobs?.forEach((job, index) => {\n        events.push({\n          start: parseTimestamp(1000 * +job.start_date),\n          end: parseTimestamp(1000 * +job.end_date),\n          id: `project_${data.id}_job_${job.id}_${index}`,\n          cssClass: \"childEvent job-item\",\n          resource: job.id,\n          backColor: job.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n          borderColor: job.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n          text: job.short_description,\n          tag: { type: \"job\", job: job },\n          resizeDisabled: true\n        });\n\n        const statusIMG = job.status === '5'\n          ? `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#DCFAE6\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#085D3A\"/>\n            </svg>`\n          : `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#F2F4F7\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#475467\"/>\n            </svg>`;\n\n        const alias = job?.worker?.alias || '';\n        const jobImg = job?.worker?.has_photo\n          ? `<img src=\"${job?.worker?.photo}\" style=\"width: 20px; height: 20px; border-radius: 50%;\" onerror=\"this.outerHTML='<div class=\\\\'job-alias\\\\'>${alias}</div>'\" />`\n          : `<div class=\"job-alias\">${alias}</div>`;\n\n        childResource.push({\n          id: job.id,\n          name: `<div class=\"d-flex flex-column job-resource-child\" job-id=\"${job.id}\">\n            <div class=\"task-list rowResourceEvent\" style=\"--main-color: ${color}\">\n              <div class=\"flex\">\n                <div class=\"job-icon\">\n                 ${jobImg}\n                </div>\n                <div class=\"title-description-section\">\n                  <span class=\"task-assigner\">${job?.worker?.full_name}</span>\n                  <span class=\"task-title\">${job.short_description}</span>\n                </div> \n              </div>\n              <div class=\"completion-status ${statusIMG === 'completed' ? 'completed-class' : 'incomplete-class'}\">\n                ${statusIMG}\n              </div>\n            </div>\n          </div>`,\n          minHeight: 40,\n          marginBottom: 4,\n        });\n      });\n\n      childResource.push({\n        id: data.number,\n        name: `<div class=\"create-task-div rowResourceEvent\" style=\"--main-color: ${color}; height: ${data.tasks?.length ? '45px' : '40px'}\">\n              <button class=\"createJobButton\" project-id=\"${data.id}\" style=\"margin-bottom: ${data.tasks?.length ? '16px' : '6px'}\">\n                Create Job\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                  <path d=\"M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z\" fill=\"#106B99\"/>\n                </svg>\n              </button> \n            </div>`,\n        minHeight: 40,\n        marginBottom: 0,\n      });\n    }\n\n    const unfinished = unfinishedTasks + unfinishedJobs;\n    const total = totalTasks + totalJobs;\n\n    return {\n      id: data.unique_id,\n      expanded: expandRow === data.unique_id,\n      name: `<div class=\"resourceList rowResourceEvent\" style=\"--main-color: ${color};\">\n        <ul class=\"resourceMan me-2\">\n          <li title=\"${data.number}\">\n            <div style=\"width: 70px; overflow: hidden; text-overflow: ellipsis; display: inline-block; position: relative; top: 2px; white-space: nowrap;\" class=\"\">${data.number}</div>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M5 4C4.72386 4 4.5 4.22386 4.5 4.5C4.5 4.77614 4.72386 5 5 5H11C11.2761 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.2761 4 11 4H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M4.5 6.5C4.5 6.22386 4.72386 6 5 6H11C11.2761 6 11.5 6.22386 11.5 6.5C11.5 6.77614 11.2761 7 11 7H5C4.72386 7 4.5 6.77614 4.5 6.5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M5 8C4.72386 8 4.5 8.22386 4.5 8.5C4.5 8.77614 4.72386 9 5 9H11C11.2761 9 11.5 8.77614 11.5 8.5C11.5 8.22386 11.2761 8 11 8H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M5 10C4.72386 10 4.5 10.2239 4.5 10.5C4.5 10.7761 4.72386 11 5 11H8C8.27614 11 8.5 10.7761 8.5 10.5C8.5 10.2239 8.27614 10 8 10H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M2 2C2 0.89543 2.89543 0 4 0H12C13.1046 0 14 0.89543 14 2V14C14 15.1046 13.1046 16 12 16H4C2.89543 16 2 15.1046 2 14V2ZM12 1H4C3.44772 1 3 1.44772 3 2V14C3 14.5523 3.44772 15 4 15H12C12.5523 15 13 14.5523 13 14V2C13 1.44772 12.5523 1 12 1Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M11 7.5C11 7.22386 11.2239 7 11.5 7H12.5C12.7761 7 13 7.22386 13 7.5V8.5C13 8.77614 12.7761 9 12.5 9H11.5C11.2239 9 11 8.77614 11 8.5V7.5Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n              <path d=\"M3.5 0C3.77614 0 4 0.223858 4 0.5V1H12V0.5C12 0.223858 12.2239 0 12.5 0C12.7761 0 13 0.223858 13 0.5V1H14C15.1046 1 16 1.89543 16 3V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V3C0 1.89543 0.895431 1 2 1H3V0.5C3 0.223858 3.22386 0 3.5 0ZM2 2C1.44772 2 1 2.44772 1 3V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V3C15 2.44772 14.5523 2 14 2H2Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n              <path d=\"M2.5 4C2.5 3.72386 2.72386 3.5 3 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V5C13.5 5.27614 13.2761 5.5 13 5.5H3C2.72386 5.5 2.5 5.27614 2.5 5V4Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M4 10.7813C4.14782 12.4484 5.51294 13.6306 7.59107 13.7837V15H8.63448V13.7837C10.9039 13.6051 12.3125 12.3463 12.3125 10.4836C12.3125 8.89307 11.3647 7.97448 9.35617 7.45565L8.63448 7.26853V3.46659C9.75615 3.57716 10.5126 4.18104 10.7039 5.08262H12.1734C12.0082 3.4836 10.6343 2.33536 8.63448 2.20778V1H7.59107V2.23329C5.65207 2.46294 4.32172 3.70474 4.32172 5.38882C4.32172 6.84326 5.28687 7.87242 6.98241 8.3062L7.59107 8.4678V12.4994C6.44332 12.3293 5.65207 11.6999 5.46077 10.7813H4ZM7.39108 6.94532C6.34767 6.68165 5.79119 6.12029 5.79119 5.32928C5.79119 4.38518 6.49549 3.68773 7.59107 3.50061V6.99635L7.39108 6.94532ZM8.98228 8.81652C10.2692 9.13973 10.8343 9.67558 10.8343 10.5857C10.8343 11.6829 10.0083 12.4143 8.63448 12.5249V8.73147L8.98228 8.81652Z\" fill=\"${!data.is_invoice_created ? '#667085' : data.paid === \"PAID\" ? \"#17B26A\" : data.paid === \"NOT PAID\" ? \"#F04438\" : data.paid === \"PARTIAL PAYMENT\" ? \"#fedf89\" : \"#F79009\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <span class='${jobsStatus}'>${data.jobs_done}/${data.jobs_count}</span>\n          </li>\n          <li>\n            ${isJobOverdue ? overdueIcon : ''}\n          </li>\n          <li class=\"text-end float-end me-2\" style=\"width: 100px; flex: 1\">\n            ${status}\n          </li>\n          <li class=\"me-3\" style=\"position: relative;\">\n            ${unfinished !== 0 ? `<div class=\"taskUnreadCount\">${unfinished}</div>` : ''}\n            <div class=\"taskCount\">${total || 0}</div>\n          </li>\n        </ul>\n        <div class=\"project-content\" unique-id=\"${data.unique_id}\" project-id=\"${data.id}\" number=\"${data?.number}\" reference=\"${data?.reference}\">\n          <span class=\"small project-content-name\" unique-id=\"${data.unique_id}\">${data?.client?.name}</span>\n          <h2 class=\"project-content-name\" unique-id=\"${data.unique_id}\">${data.reference}</h2>\n        </div>\n      </div>`,\n      children: childResource,\n      minHeight: 95,\n    };\n  });\n\n  dp.update({ resources, events });\n  dp.onResourceExpand = function (args) {\n    expandRow = args.resource.id;\n  };\n}\n\nfunction startDaypilot(elementId, responses, viewTaskDetails, reInitialize, hasWorkSubscription, holidays) {\n  const isDaypilotLoaded = typeof window !== undefined && Boolean(window.DayPilot);\n  if (!isDaypilotLoaded) return;\n\n  DP = window.DayPilot;\n\n  dp = new DP.Scheduler(elementId, {\n    days: 365,\n    scale: \"Day\",\n    separators: [{ color: \"#48C1FF\", width: 4 }],\n    treeImage: \"img/nochildren.png\",\n    rowMinHeight: 110,\n    cellWidth: 73,\n    eventEndSpec: \"Date\",\n    durationBarVisible: false,\n    eventArrangement: \"Cascade\",\n    eventMoveHandling: \"Disabled\",\n    eventResizingStartEndEnabled: true,\n    timeRangeSelectedHandling: \"Disabled\",\n    treeImageNoChildren: false,\n    rowHeaderWidth: 380,\n    timeHeaders: [\n      { groupBy: \"Month\", format: \"MMMM yyyy\" },\n      { groupBy: \"Day\", format: \"d\" }\n    ],\n    treeEnabled: true,\n    progressiveRowRendering: true,\n    treePreventParentUsage: false,\n    scrollDelayEvents: 0,\n    infiniteScrollingEnabled: true,\n    infiniteScrollingStepDays: 100,\n  });\n\n  dp.onBeforeRowHeaderRender = function (args) {\n    args.row.cssClass = \"resourcesRow\";\n  };\n\n  const holidaysList = holidays?.map(holiday => {\n    const date = new Date(+holiday.date * 1000);\n    // Convert to Sydney timezone and get date string\n    const sydneyDate = new Date(date.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }));\n    return sydneyDate.toISOString().split(\"T\")[0];\n  }) || [];\n\n  // Group all events by date (support multiple items per day)\n  const holidayMap = holidays?.reduce((map, holiday) => {\n    const date = new Date(+holiday.date * 1000);\n    // Convert to Sydney timezone and get date string\n    const sydneyDate = new Date(date.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }));\n    const dateStr = sydneyDate.toISOString().split(\"T\")[0];\n    \n    if (!map[dateStr]) {\n      map[dateStr] = [];\n    }\n    map[dateStr].push({\n      title: holiday.title,\n      type: holiday.type || 'Public Holiday'\n    });\n    return map;\n  }, {}) || {};\n\n  // Helper function to generate icon HTML based on event type\n  const getEventIcon = (type) => {\n    if (type === 'Public Holiday') {\n      return `<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect x=\"0.5\" y=\"0.5\" width=\"27\" height=\"27\" rx=\"13.5\" fill=\"#EBF8FF\"/>\n        <rect x=\"0.5\" y=\"0.5\" width=\"27\" height=\"27\" rx=\"13.5\" stroke=\"#BAE8FF\"/>\n        <path d=\"M16.1402 14.1098C16.2866 14.2563 16.2866 14.4937 16.1402 14.6402L13.8902 16.8902C13.8198 16.9605 13.7245 17 13.625 17C13.5255 17 13.4302 16.9605 13.3598 16.8902L12.2348 15.7652C12.0884 15.6187 12.0884 15.3813 12.2348 15.2348C12.3813 15.0884 12.6187 15.0884 12.7652 15.2348L13.625 16.0947L15.6098 14.1098C15.7563 13.9634 15.9937 13.9634 16.1402 14.1098Z\" fill=\"#158ECC\"/>\n        <path d=\"M10.625 8C10.8321 8 11 8.16789 11 8.375V8.75H17V8.375C17 8.16789 17.1679 8 17.375 8C17.5821 8 17.75 8.16789 17.75 8.375V8.75H18.5C19.3284 8.75 20 9.42157 20 10.25V18.5C20 19.3284 19.3284 20 18.5 20H9.5C8.67157 20 8 19.3284 8 18.5V10.25C8 9.42157 8.67157 8.75 9.5 8.75H10.25V8.375C10.25 8.16789 10.4179 8 10.625 8ZM9.5 9.5C9.08579 9.5 8.75 9.83579 8.75 10.25V18.5C8.75 18.9142 9.08579 19.25 9.5 19.25H18.5C18.9142 19.25 19.25 18.9142 19.25 18.5V10.25C19.25 9.83579 18.9142 9.5 18.5 9.5H9.5Z\" fill=\"#158ECC\"/>\n        <path d=\"M9.875 11C9.875 10.7929 10.0429 10.625 10.25 10.625H17.75C17.9571 10.625 18.125 10.7929 18.125 11V11.75C18.125 11.9571 17.9571 12.125 17.75 12.125H10.25C10.0429 12.125 9.875 11.9571 9.875 11.75V11Z\" fill=\"#158ECC\"/>\n      </svg>`;\n    } else {\n      // Vehicle reminder or other reminder types\n      return `<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect x=\"0.5\" y=\"0.5\" width=\"27\" height=\"27\" rx=\"13.5\" fill=\"#FFF8E1\"/>\n        <rect x=\"0.5\" y=\"0.5\" width=\"27\" height=\"27\" rx=\"13.5\" stroke=\"#FFECB3\"/>\n        <path d=\"M14 8L20.5263 18.5H7.47372L14 8Z\" fill=\"#FFB800\" stroke=\"#FFB800\" stroke-width=\"1.5\"/>\n        <path d=\"M14 12V15\" stroke=\"#FFFFFF\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n        <circle cx=\"14\" cy=\"17.5\" r=\"1\" fill=\"#FFFFFF\"/>\n      </svg>`;\n    }\n  };\n\n  // Helper function to generate the header HTML for events on a day\n  const generateDayEventsHtml = (events, originalHtml) => {\n    if (!events || events.length === 0) return originalHtml;\n\n    const publicHolidays = events.filter(e => e.type === 'Public Holiday');\n    const reminders = events.filter(e => e.type !== 'Public Holiday');\n    const hasPublicHoliday = publicHolidays.length > 0;\n    const hasReminder = reminders.length > 0;\n    \n    // Build modal content with all events grouped by type\n    let modalContent = '';\n    \n    if (hasPublicHoliday) {\n      modalContent += `<div class=\"event-modal-group\">\n        <div class=\"event-modal-group-header\">\n          <span class=\"event-modal-icon\"></span>\n          <span>Public Holidays (${publicHolidays.length})</span>\n        </div>\n        <ul class=\"event-modal-list\">\n          ${publicHolidays.map(e => `<li>${e.title}</li>`).join('')}\n        </ul>\n      </div>`;\n    }\n    \n    if (hasReminder) {\n      modalContent += `<div class=\"event-modal-group\">\n        <div class=\"event-modal-group-header\">\n          <span class=\"event-modal-icon\"></span>\n          <span>Reminders (${reminders.length})</span>\n        </div>\n        <ul class=\"event-modal-list\">\n          ${reminders.map(e => `<li>${e.title}</li>`).join('')}\n        </ul>\n      </div>`;\n    }\n\n    // Generate icons - show first icon type only, with count if multiple\n    let iconHtml = '';\n    const totalCount = events.length;\n    \n    if (hasPublicHoliday) {\n      iconHtml = getEventIcon('Public Holiday');\n    } else {\n      iconHtml = getEventIcon('vehicle_reminder');\n    }\n\n    // Escape the modal content for data attribute\n    const escapedContent = modalContent.replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n\n    return `\n    <div style=\"position: relative; width: 84px;\">\n      <div style=\"position: absolute; top: -25px; left: 0px; z-index: 1;\">\n        <div class=\"event-icon-trigger\" data-event-count=\"${totalCount}\" data-modal-content=\"${escapedContent}\" onclick=\"window.showEventModal(this, event)\">\n          ${iconHtml}\n          ${totalCount > 1 ? `<span class=\"event-count-badge\">${totalCount}</span>` : ''}\n        </div>\n      </div>\n      ${originalHtml}\n    </div>`;\n  };\n\n  dp.onBeforeTimeHeaderRender = function (args) {\n    args.header.text = \"\";\n    args.header.toolTip = \"\";\n    if (args.header.level === 1) {\n      const australiaSydneyDate = args.header.start.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }).split(\"T\")[0];\n      const dayEvents = holidayMap[australiaSydneyDate];\n      \n      if (args.header.start && dayEvents && dayEvents.length > 0) {\n        args.header.backColor = \"#F2FAFF\";\n        args.header.cssClass = \"holidayHeader\";\n        args.header.html = generateDayEventsHtml(dayEvents, args.header.html);\n      } else if (args.header.start.getDayOfWeek() === 6 || args.header.start.getDayOfWeek() === 0) {\n        args.header.cssClass = \"weekendHeader\";\n        args.header.backColor = \"#F9FAFB\";\n      }\n    }\n  };\n\n  dp.onBeforeEventRender = function (args) {\n    args.data.areas = [\n      {\n        top: 0,\n        left: 0,\n        right: 0,\n        width: 1,\n        cssClass: \"childEventborder\",\n        text: args.data.text,\n        backColor: args.data.borderColor,\n        fontColor: \"#ffffff\",\n        horizontalAlignment: \"center\",\n        style: \"border-top-left-radius: 4px; border-bottom-left-radius: 4px; background-color: #0000007f; color: #ffffff; padding: 2px;height: 36px;\",\n      },\n    ];\n\n    args.data.text = \"Event details\";\n  };\n\n  dp.onEventClicked = function (args) {\n    const taskId = args.e.id();\n    if (args.div.className.includes(\"task-item\") && taskId) {\n      viewTaskDetails(taskId, false);\n    } else if (args.div.className.includes(\"project-item\") && taskId) {\n      const projectDetails = args.e.tag();\n      viewTaskDetails(taskId, true, projectDetails);\n    } else if (args.div.className.includes(\"job-item\") && taskId) {\n      const jobDetails = args.e.tag();\n      viewTaskDetails(taskId, true, jobDetails);\n    }\n  };\n\n  dp.onBeforeCellRender = function (args) {\n    if (\n      args.cell.start.getDayOfWeek() === 6 ||\n      args.cell.start.getDayOfWeek() === 0\n    ) {\n      args.cell.backColor = \"#F9FAFB\"; // Highlight weekends\n    }\n\n    const australiaSydneyDate = args.cell.start.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }).split(\"T\")[0];\n    if (args.cell.start && holidaysList.includes(australiaSydneyDate)) {\n      args.cell.backColor = \"#F2FAFF\"; // Highlight holidays\n    }\n  };\n\n  dp.onEventResize = async function (args) {\n    const taskId = args.e.id();\n    const startDate = new Date(args.newStart).toISOString();\n    const endDate = new Date(args.newEnd).toISOString();\n    console.log('args.e.tag().type: ', args.e.tag().type);\n\n    if (args.e.tag().type === \"task\") {\n      const task = args.e.tag().task;\n      try {\n        await updateTask(taskId, {\n          title: task.title,\n          description: task.description,\n          user: task.assigned_to.id,\n          from_date: startDate,\n          to_date: endDate,\n        });\n        dp.message(\"The task has been successfully updated.\", { cssClass: \"success_message\" });\n      } catch (error) {\n        console.log(error);\n        dp.message(\"An error occurred while updating the task. Please try again.\");\n      }\n    }\n\n    if (args.e.tag().type === \"project\") {\n      try {\n        await updateProjectScheduleById(taskId, {\n          booking_start: startDate,\n          booking_end: endDate,\n        });\n        dp.message(\"The project schedule has been successfully updated.\", { cssClass: \"success_message\" });\n        reInitialize();\n      } catch (error) {\n        console.log(error);\n        dp.message(\"An error occurred while updating the project schedule. Please try again.\");\n      }\n    }\n  };\n\n  dp.init();\n\n  // Global function to show event modal on icon click\n  window.showEventModal = function(element, event) {\n    event.stopPropagation();\n    \n    // Remove any existing modal\n    const existingModal = document.querySelector('.event-popup-modal');\n    if (existingModal) {\n      existingModal.remove();\n    }\n    \n    const content = element.getAttribute('data-modal-content');\n    const rect = element.getBoundingClientRect();\n    \n    // Create modal\n    const modal = document.createElement('div');\n    modal.className = 'event-popup-modal';\n    modal.innerHTML = `\n      <div class=\"event-popup-header\">\n        <span>Events</span>\n        <button class=\"event-popup-close\" onclick=\"this.closest('.event-popup-modal').remove()\">&times;</button>\n      </div>\n      <div class=\"event-popup-content\">\n        ${content}\n      </div>\n    `;\n    \n    document.body.appendChild(modal);\n    \n    // Position modal below the icon\n    const modalRect = modal.getBoundingClientRect();\n    let left = rect.left + (rect.width / 2) - (modalRect.width / 2);\n    let top = rect.bottom + 8;\n    \n    // Keep modal within viewport\n    if (left < 10) left = 10;\n    if (left + modalRect.width > window.innerWidth - 10) {\n      left = window.innerWidth - modalRect.width - 10;\n    }\n    \n    modal.style.left = left + 'px';\n    modal.style.top = top + 'px';\n    \n    // Close modal when clicking outside\n    setTimeout(() => {\n      document.addEventListener('click', function closeModal(e) {\n        if (!modal.contains(e.target) && e.target !== element) {\n          modal.remove();\n          document.removeEventListener('click', closeModal);\n        }\n      });\n    }, 0);\n  };\n\n  loadData(responses, hasWorkSubscription);\n}\n\nexport function reInitializeData(responses, hasWorkSubscription) {\n  try {\n    if (dp) loadData(responses, hasWorkSubscription);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function initDaypilot(elementId, response, viewTaskDetails, reInitialize, hasWorkSubscription, holidays) {\n  try {\n    startDaypilot(elementId, response, viewTaskDetails, reInitialize, hasWorkSubscription, holidays);\n  } catch (error) {\n    console.log(error);\n  }\n}","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { createProjectNoteById } from '../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst AddNote = ({ projectId, projectCardData }) => {\n  const [viewShow, setViewShow] = useState(false);\n  const [updateDis, setUpdateDis] = useState('');\n  const [errors, setErrors] = useState({\n    description: '',\n  });\n\n  const MAX_LENGTH = 2000; // Maximum allowed characters\n  const MIN_LENGTH = 3;   // Minimum required characters\n\n  const handleClose = () => setViewShow(false);\n  const handleShow = () => setViewShow(true);\n\n  const mutation = useMutation({\n    mutationFn: (data) => createProjectNoteById(projectId, data),\n    onSuccess: () => {\n      handleClose();\n      projectCardData(projectId);\n    },\n    onError: (error) => {\n      console.error('Error creating note:', error);\n      setErrors(prev => ({\n        ...prev,\n        description: error.message || 'Failed to save note. Please try again.'\n      }));\n    }\n  });\n\n  const validateNote = (text) => {\n    if (!text.trim()) {\n      return 'Note is required';\n    }\n    if (text.length < MIN_LENGTH) {\n      return `Note must be at least ${MIN_LENGTH} characters long`;\n    }\n    if (text.length > MAX_LENGTH) {\n      return `Note must not exceed ${MAX_LENGTH} characters`;\n    }\n    // Add any additional validation rules here (e.g., special characters, etc.)\n    if (/^\\s+$/.test(text)) {\n      return 'Note cannot contain only whitespace';\n    }\n    return '';\n  };\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setUpdateDis(value);\n\n    // Real-time validation\n    const error = validateNote(value);\n    setErrors(prev => ({ ...prev, description: error }));\n  };\n\n  const handleSubmit = () => {\n    const validationError = validateNote(updateDis);\n\n    if (validationError) {\n      setErrors(prev => ({ ...prev, description: validationError }));\n      return;\n    }\n\n    mutation.mutate({ text: updateDis.trim() });\n  };\n\n  useEffect(() => {\n    if (!viewShow) {\n      setUpdateDis('');\n      setErrors({ description: '' });\n    }\n  }, [viewShow]);\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 border-right\" onClick={handleShow}>\n        Add Note\n      </div>\n\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n        size=\"lg\"\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Add Note\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label htmlFor=\"note-input\">Note <span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`}>\n                    <textarea\n                      id=\"note-input\"\n                      type=\"text\"\n                      name=\"note\"\n                      value={updateDis}\n                      placeholder='Enter a message here...'\n                      onChange={handleChange}\n                      maxLength={MAX_LENGTH}\n                      rows={10}\n                      className=\"w-100\"\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between mt-1\">\n                    <small className={errors.description ? \"error-message\" : \"text-muted\"}>\n                      {errors.description || `${updateDis.length}/${MAX_LENGTH} characters`}\n                    </small>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </Modal.Body>\n        <Modal.Footer className='pt-0'>\n          <div className=\"popoverbottom w-100 border-0 mt-0 pt-0\">\n            <Button\n              variant=\"outline-danger\"\n              onClick={handleClose}\n              disabled={mutation.isPending}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary save\"\n              onClick={handleSubmit}\n              disabled={mutation.isPending || !!errors.description}\n            >\n              {mutation.isPending ? \"Saving...\" : \"Save\"}\n            </Button>\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default AddNote;","// extracted by mini-css-extract-plugin\nexport default {\"cancelProjectContainer\":\"cancel-project_cancelProjectContainer__y6XWT\",\"cancelProjectDescription\":\"cancel-project_cancelProjectDescription__hduCm\",\"cancelProjectActions\":\"cancel-project_cancelProjectActions__IlWRQ\",\"cancelProjectTitle\":\"cancel-project_cancelProjectTitle__49fSj\",\"cancelProjectDescriptionText\":\"cancel-project_cancelProjectDescriptionText__GQncp\",\"cancelProjectButton\":\"cancel-project_cancelProjectButton__REME8\"};","import React from 'react';\nimport { X } from 'react-bootstrap-icons';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport styles from './cancel-project.module.scss';\n\nconst CancelProject = ({ show, onClose, onConfirm, isLoading }) => {\n    if (!show) return null;\n\n    return (\n        <div className={styles.cancelProjectContainer}>\n            <div className='d-flex align-items-end'>\n                <div className='me-2'>\n                    <svg width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <rect x=\"9\" y=\"9\" width=\"20\" height=\"20\" rx=\"10\" fill=\"white\" />\n                        <g opacity=\"0.3\">\n                            <rect x=\"6\" y=\"6\" width=\"26\" height=\"26\" rx=\"13\" stroke=\"#D92D20\" strokeWidth=\"2\" />\n                        </g>\n                        <g opacity=\"0.1\">\n                            <rect x=\"1\" y=\"1\" width=\"36\" height=\"36\" rx=\"18\" stroke=\"#D92D20\" strokeWidth=\"2\" />\n                        </g>\n                        <g clipPath=\"url(#clip0_3922_546259)\">\n                            <path d=\"M18.9998 15.6665V18.9998M18.9998 22.3332H19.0082M27.3332 18.9998C27.3332 23.6022 23.6022 27.3332 18.9998 27.3332C14.3975 27.3332 10.6665 23.6022 10.6665 18.9998C10.6665 14.3975 14.3975 10.6665 18.9998 10.6665C23.6022 10.6665 27.3332 14.3975 27.3332 18.9998Z\" stroke=\"#D92D20\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                        </g>\n                        <defs>\n                            <clipPath id=\"clip0_3922_546259\">\n                                <rect width=\"20\" height=\"20\" fill=\"white\" transform=\"translate(9 9)\" />\n                            </clipPath>\n                        </defs>\n                    </svg>\n\n                </div>\n                <h1 className={styles.cancelProjectTitle}>Cancel Project?</h1>\n                <button \n                    className='ms-auto mb-3'\n                    onClick={onClose}\n                    style={{ background: 'none', border: 'none', cursor: 'pointer', padding: 0 }}\n                >\n                    <X size={24} className={styles.cancelProjectCloseIcon} />\n                </button>\n            </div>\n\n            <div className={styles.cancelProjectDescription}>\n                <p className={styles.cancelProjectDescriptionText}>This will cancel the project and permanently delete the linked invoice.</p>\n                <p className={styles.cancelProjectDescriptionText}>Are you sure you want to proceed?</p>\n            </div>\n\n            <div className={styles.cancelProjectActions}>\n                <button \n                    className={styles.cancelProjectButton}\n                    onClick={onConfirm}\n                    disabled={isLoading}\n                    style={{ opacity: isLoading ? 0.6 : 1, cursor: isLoading ? 'not-allowed' : 'pointer' }}\n                >\n                    Cancel Project\n                    {isLoading && <ProgressSpinner style={{ width: '14px', height: '14px', marginLeft: '8px', position: 'relative', top: '2px' }} />}\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default CancelProject;","// extracted by mini-css-extract-plugin\nexport default {\"emailUnavailableText\":\"compose-email_emailUnavailableText__-vpup\",\"emailStatus\":\"compose-email_emailStatus__ounlY\",\"disconnectedBadge\":\"compose-email_disconnectedBadge__6fNJK\",\"smsUnavailableText\":\"compose-email_smsUnavailableText__wC3+X\",\"settingsLink\":\"compose-email_settingsLink__Pe9yH\",\"disconnected\":\"compose-email_disconnected__mB26k\",\"dots\":\"compose-email_dots__Lk2LO\"};","import { useState } from \"react\";\nimport { Envelope, X } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport clsx from \"clsx\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { toast } from \"sonner\";\nimport style from \"./compose-email.module.scss\";\nimport { getOutgoingEmail } from \"../../../../../../APIs/email-template\";\nimport { sendComposeEmail } from \"../../../../../../APIs/management-api\";\nimport SendDynamicEmailForm from \"../../../../../../ui/send-email-2/send-email\";\n\nconst ComposeEmail = ({ projectId, projectCardData, contactPersons = [] }) => {\n  const [, setPayload] = useState({});\n  const [viewShow, setViewShow] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const outgoingEmailTemplateQuery = useQuery({\n    queryKey: [\"getOutgoingEmail\"],\n    queryFn: getOutgoingEmail\n  });\n\n  const handleShow = () => {\n    if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email !== 'no-reply@memate.com.au') {\n      setViewShow(true);\n    } else {\n      setShowInstructions(true);\n    }\n  };\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendComposeEmail(projectId, \"\", data),\n    onSuccess: () => {\n      setViewShow(false);\n      projectCardData();\n      toast.success(`Email send successfully.`);\n    },\n    onError: (error) => {\n      console.error('Error sending email:', error);\n      toast.error(`Failed to send email. Please try again.`);\n    }\n  });\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 ps-0\" onClick={handleShow}>Compose Email</div>\n\n      {/* Instructions modal */}\n      <Modal\n        show={showInstructions}\n        onHide={() => setShowInstructions(false)}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                <path d=\"M18 21.5H38C39.1 21.5 40 22.4 40 23.5V33.5C40 34.6 39.1 35.5 38 35.5H18C16.9 35.5 16 34.6 16 33.5V23.5C16 22.4 16.9 21.5 18 21.5ZM38 23.5L28 29.5L18 23.5V25.5L28 31.5L38 25.5V23.5Z\" fill=\"#F04438\" />\n              </svg>\n\n              <span className='ms-3'>Email is currently unavailable</span>\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <p className={style.emailUnavailableText}>Email functionality is currently unavailable. To use this feature, please configure an email account via <Link to=\"/settings/integrations?openEmail=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.</p>\n          </div>\n          <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto\", style.emailStatus)}>\n            <div className={clsx(\"d-flex align-items-center justify-content-center\")}>\n              <Envelope size={25} color=\"#667085\" />\n              <h6 className=\"ms-2 mt-2\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                Outgoing Email\n              </h6>\n            </div>\n            <span className={clsx(\"px-2 py-1\", style.disconnected)}>\n              Pending\n              <span className={style.dots}></span>\n            </span>\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      {/* Compose email modal */}\n      <SendDynamicEmailForm show={viewShow} isLoading={false} mutation={mutation} setShow={setViewShow} setPayload={setPayload} contactPersons={contactPersons} isComposeEmail={true} />\n    </>\n  );\n};\n\nexport default ComposeEmail;\n","var _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgFolderFileIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"folder\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Union\",\n    d: \"M0.539556 4.37024L0.5 3.5C0.5 2.39543 1.39543 1.5 2.5 1.5H6.17157C6.70201 1.5 7.21071 1.71071 7.58579 2.08579L8.41421 2.91421C8.78929 3.28929 9.29799 3.5 9.82843 3.5H13.8099C14.986 3.5 15.9082 4.50984 15.8017 5.68107L15.1654 12.6811C15.0717 13.7112 14.208 14.5 13.1736 14.5H2.82644C1.79203 14.5 0.928302 13.7112 0.834651 12.6811L0.198287 5.68107C0.154232 5.19647 0.286283 4.73949 0.539556 4.37024ZM2.19007 4.5C1.60204 4.5 1.14094 5.00492 1.19418 5.59054L1.83054 12.5905C1.87737 13.1056 2.30923 13.5 2.82644 13.5H13.1736C13.6908 13.5 14.1226 13.1056 14.1695 12.5905L14.8058 5.59054C14.8591 5.00492 14.398 4.5 13.8099 4.5H2.19007ZM6.87868 2.79289C6.69114 2.60536 6.43679 2.5 6.17157 2.5H2.5C1.95402 2.5 1.51024 2.93755 1.50017 3.48112L1.50647 3.61964C1.71927 3.54231 1.94936 3.5 2.19007 3.5H7.58579L6.87868 2.79289Z\",\n    fill: \"#1D2939\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFolderFileIcon);\nexport default __webpack_public_path__ + \"static/media/folderFileIcon.ea8d1ab0e5f9d712876b6e6f3e9f303d.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useRef, useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { X, CloudUpload, Trash, Folder as FolderIcon, Check, X as CancelIcon, Share, CheckCircleFill } from \"react-bootstrap-icons\";\nimport { useDropzone } from 'react-dropzone';\nimport { Link } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { ProgressBar } from 'primereact/progressbar';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Skeleton } from 'primereact/skeleton';\nimport Modal from 'react-bootstrap/Modal';\nimport { toast } from 'sonner';\nimport styles from './files-model.module.scss';\nimport { deleteFileByKey, getProjectFilesById } from '../../../../../../APIs/management-api';\nimport FolderFileIcon from \"../../../../../../assets/images/icon/folderFileIcon.svg\";\nimport { formatFileSize } from '../../../../../../features/chat/ui/chat-area/chat-attachment-popover';\nimport { BootstrapFileIcons } from '../../../../../../shared/lib/bootstrap-file-icons';\n\n// Helper function to check if file is an image\nconst isImageFile = (extension) => {\n  const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'svg', 'bmp', 'webp', 'heic'];\n  return imageExtensions.includes(extension?.toLowerCase());\n};\n\n// File Preview Component\nconst FilePreview = ({ file }) => {\n  const extension = file?.key?.split('.').pop()?.toLowerCase();\n  const isImage = isImageFile(extension);\n\n  if (isImage) {\n    return (\n      <div\n        style={{\n          width: '48px',\n          height: '48px',\n          borderRadius: '6px',\n          overflow: 'hidden',\n          flexShrink: 0,\n          background: '#E5E7EB'\n        }}\n      >\n        <img\n          src={file.url}\n          alt={file.key}\n          style={{\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover'\n          }}\n          onError={(e) => {\n            e.target.style.display = 'none';\n            e.target.parentElement.innerHTML = '<div style=\"width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"#9CA3AF\"><path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg></div>';\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      style={{\n        width: '48px',\n        height: '48px',\n        borderRadius: '6px',\n        background: '#F9FAFB',\n        border: '1px solid #E5E7EB',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexShrink: 0\n      }}\n    >\n      <BootstrapFileIcons extension={extension} size={28} />\n    </div>\n  );\n};\n\n// Folder Preview Component\nconst FolderPreview = () => (\n  <div\n    style={{\n      width: '48px',\n      height: '48px',\n      borderRadius: '6px',\n      background: '#F9FAFB',\n      border: '1px solid #E5E7EB',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexShrink: 0\n    }}\n  >\n    <FolderIcon size={28} color=\"#FFA500\" />\n  </div>\n);\n\n// Function to get contents at current path\nconst getContentsAtPath = (allFiles, path) => {\n  const prefix = path.join('/') + (path.length ? '/' : '');\n  const items = new Map();\n\n  for (const file of allFiles) {\n    if (file.key.startsWith(prefix)) {\n      const rel = file.key.slice(prefix.length);\n      if (rel === '') continue;\n      const parts = rel.split('/');\n      const first = parts[0];\n      if (parts.length > 1) {\n        if (!items.has(first)) {\n          items.set(first, { type: 'folder', name: first, ...file });\n        }\n      } else {\n        items.set(first, { type: 'file', name: first, ...file });\n      }\n    }\n  }\n\n  return Array.from(items.values()).sort((a, b) =>\n    a.type === b.type ? a.name.localeCompare(b.name) : a.type === 'folder' ? -1 : 1\n  );\n};\n\n// Share File Popover Component - YouTube style\nconst ShareFilePopover = ({ file, onClose, triggerRef }) => {\n  const [copied, setCopied] = useState(false);\n  const popoverRef = useRef(null);\n  const fileUrl = file.url;\n  const [position, setPosition] = useState(null); // Start with null to indicate not calculated yet\n\n  // Calculate position based on trigger element\n  useEffect(() => {\n    if (triggerRef?.current) {\n      const rect = triggerRef.current.getBoundingClientRect();\n      const popoverWidth = 415;\n      const popoverHeight = 280;\n      \n      // Calculate left position - try to align right edge with trigger\n      let left = rect.right - popoverWidth;\n      if (left < 10) left = 10; // Don't go off left edge\n      \n      // Calculate top position - prefer below, but go above if no space\n      let top = rect.bottom + 8;\n      if (top + popoverHeight > window.innerHeight - 10) {\n        top = rect.top - popoverHeight - 8;\n      }\n      if (top < 10) top = 10; // Don't go off top edge\n      \n      setPosition({ top, left });\n    }\n  }, [triggerRef]);\n\n  // Handle click outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (popoverRef.current && !popoverRef.current.contains(event.target)) {\n        onClose();\n      }\n    };\n    \n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [onClose]);\n\n  // Don't render until position is calculated\n  if (!position) return null;\n\n  const handleCopyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(fileUrl);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n      setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    } catch (error) {\n      // Fallback for browsers that don't support clipboard API\n      const ta = document.createElement('textarea');\n      ta.value = fileUrl;\n      document.body.appendChild(ta);\n      ta.select();\n      document.execCommand && document.execCommand('copy');\n      document.body.removeChild(ta);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n      setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    }\n  };\n\n  const shareOptions = [\n    {\n      name: 'WhatsApp',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#25D366\"/>\n          <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://wa.me/?text=${encodeURIComponent(`Check out this file: ${file.name}\\n${fileUrl}`)}`, '_blank');\n        onClose();\n      }\n    },\n    {\n      name: 'Facebook',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#1877F2\"/>\n          <path d=\"M16.671 15.469l.547-3.469h-3.343V9.531c0-.969.475-1.906 1.984-1.906h1.532V4.656s-1.39-.234-2.719-.234c-2.773 0-4.578 1.657-4.578 4.656V12H6.921v3.469h3.173V24h3.906v-8.531h2.671z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(fileUrl)}`, '_blank', 'width=600,height=400');\n        onClose();\n      }\n    },\n    {\n      name: 'X',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#000000\"/>\n          <path d=\"M13.544 10.456L17.89 5.5h-1.03l-3.773 4.305L10.16 5.5H6.5l4.56 6.513L6.5 17.5h1.03l3.987-4.55 3.184 4.55H18l-4.456-7.044zm-1.41 1.608l-.462-.649L8.04 6.28h1.585l2.97 4.17.462.649 3.862 5.423h-1.585l-3.2-4.458z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(`Check out this file: ${file.name}`)}&url=${encodeURIComponent(fileUrl)}`, '_blank', 'width=600,height=400');\n        onClose();\n      }\n    },\n    {\n      name: 'Email',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#9CA3AF\"/>\n          <path d=\"M6 8.5C6 7.67157 6.67157 7 7.5 7H16.5C17.3284 7 18 7.67157 18 8.5V15.5C18 16.3284 17.3284 17 16.5 17H7.5C6.67157 17 6 16.3284 6 15.5V8.5Z\" stroke=\"white\" strokeWidth=\"1.5\"/>\n          <path d=\"M6.5 8L12 12L17.5 8\" stroke=\"white\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/>\n        </svg>\n      ),\n      onClick: () => {\n        const subject = encodeURIComponent(`Shared File: ${file.name}`);\n        const body = encodeURIComponent(`Hi,\\n\\nI wanted to share this file with you:\\n\\n${file.name}\\n\\nYou can access it here:\\n${fileUrl}\\n\\nBest regards`);\n        window.location.href = `mailto:?subject=${subject}&body=${body}`;\n        onClose();\n      }\n    },\n    {\n      name: 'LinkedIn',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#0A66C2\"/>\n          <path d=\"M8.5 10H6.5V17.5H8.5V10Z\" fill=\"white\"/>\n          <path d=\"M7.5 8.5C8.19036 8.5 8.75 7.94036 8.75 7.25C8.75 6.55964 8.19036 6 7.5 6C6.80964 6 6.25 6.55964 6.25 7.25C6.25 7.94036 6.80964 8.5 7.5 8.5Z\" fill=\"white\"/>\n          <path d=\"M13 10H10.5V17.5H13V13.5C13 12.5 13.5 11.5 14.75 11.5C16 11.5 16 12.75 16 13.5V17.5H18V13C18 10.5 16.5 10 15.25 10C14 10 13.25 10.75 13 11V10Z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(fileUrl)}`, '_blank', 'width=600,height=400');\n        onClose();\n      }\n    },\n    {\n      name: 'Telegram',\n      icon: (\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"#0088CC\"/>\n          <path d=\"M17.0708 7.25736L5.82893 11.7157C5.19282 11.9722 5.19617 12.3354 5.71355 12.4916L8.45534 13.3441L15.2726 8.87451C15.5898 8.67576 15.879 8.78168 15.6426 9.00033L10.0851 14.0632H10.0839L10.0851 14.0637L9.87243 16.8879C10.1449 16.8879 10.2654 16.7614 10.4166 16.6161L11.734 15.3391L14.5173 17.4133C15.0157 17.6918 15.3734 17.5497 15.4991 16.9561L17.4706 8.19979C17.6561 7.47058 17.1969 7.14026 17.0708 7.25736Z\" fill=\"white\"/>\n        </svg>\n      ),\n      onClick: () => {\n        window.open(`https://t.me/share/url?url=${encodeURIComponent(fileUrl)}&text=${encodeURIComponent(`Check out this file: ${file.name}`)}`, '_blank');\n        onClose();\n      }\n    }\n  ];\n\n  return (\n    <div\n      ref={popoverRef}\n      onClick={(e) => e.stopPropagation()}\n      style={{\n        position: 'fixed',\n        top: `${position.top}px`,\n        left: `${position.left}px`,\n        background: '#FFFFFF',\n        borderRadius: '12px',\n        boxShadow: '0px 12px 24px -4px rgba(16, 24, 40, 0.18), 0px 8px 16px -4px rgba(16, 24, 40, 0.08)',\n        border: '1px solid #EAECF0',\n        padding: '16px',\n        width: '415px',\n        zIndex: 9999\n      }}\n    >\n      {/* Header */}\n      <div className='d-flex justify-content-between align-items-center mb-4'>\n        <span style={{ fontSize: '16px', fontWeight: '600', color: '#101828' }}>Share</span>\n        <div \n          onClick={onClose} \n          style={{ \n            cursor: 'pointer', \n            padding: '4px',\n            borderRadius: '4px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <X size={20} color=\"#667085\" />\n        </div>\n      </div>\n\n      {/* Social Media Icons Row */}\n      <div className='d-flex justify-content-start gap-3 mb-4' style={{ overflowX: 'auto', paddingBottom: '4px' }}>\n        {shareOptions.map((option) => (\n          <div\n            key={option.name}\n            onClick={option.onClick}\n            className='d-flex flex-column align-items-center gap-2'\n            style={{\n              cursor: 'pointer',\n              minWidth: '48px'\n            }}\n          >\n            <div\n              style={{\n                width: '48px',\n                height: '48px',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                transition: 'transform 0.2s ease'\n              }}\n              onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.1)'}\n              onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}\n            >\n              {option.icon}\n            </div>\n            <span style={{ fontSize: '11px', color: '#667085', textAlign: 'center' }}>{option.name}</span>\n          </div>\n        ))}\n      </div>\n\n      {/* Copy Link Section */}\n      <div\n        className='d-flex align-items-center gap-2'\n        style={{\n          background: '#F9FAFB',\n          borderRadius: '8px',\n          border: '1px solid #E5E7EB',\n          padding: '8px 12px'\n        }}\n      >\n        <input\n          type=\"text\"\n          value={fileUrl}\n          readOnly\n          style={{\n            flex: 1,\n            border: 'none',\n            background: 'transparent',\n            fontSize: '13px',\n            color: '#667085',\n            outline: 'none',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis'\n          }}\n        />\n        <button\n          onClick={handleCopyLink}\n          style={{\n            padding: '8px 16px',\n            background: copied ? '#17B26A' : '#158ECC',\n            border: 'none',\n            borderRadius: '20px',\n            color: '#FFFFFF',\n            fontSize: '13px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease',\n            whiteSpace: 'nowrap',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '4px'\n          }}\n        >\n          {copied ? (\n            <>\n              <CheckCircleFill size={14} />\n              Copied\n            </>\n          ) : (\n            'Copy'\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// ShareButton Component - handles button and popover together\nconst ShareButton = ({ item, isShareOpen, onToggle, onClose }) => {\n  const buttonRef = useRef(null);\n\n  return (\n    <>\n      <div\n        ref={buttonRef}\n        className='d-flex align-items-center justify-content-center'\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          onToggle();\n        }}\n        title='Share'\n        style={{\n          background: isShareOpen ? '#EBF8FF' : '#F0F9FF',\n          borderRadius: '50%',\n          width: '28px',\n          height: '28px',\n          flexShrink: 0,\n          cursor: 'pointer',\n          transition: 'all 0.2s ease',\n          border: isShareOpen ? '1px solid #158ECC' : '1px solid transparent'\n        }}\n        onMouseEnter={(e) => {\n          if (!isShareOpen) e.currentTarget.style.background = '#E0F2FE';\n        }}\n        onMouseLeave={(e) => {\n          if (!isShareOpen) e.currentTarget.style.background = '#F0F9FF';\n        }}\n      >\n        <Share size={14} color=\"#158ECC\" />\n      </div>\n      {isShareOpen && (\n        <ShareFilePopover \n          file={item} \n          onClose={onClose}\n          triggerRef={buttonRef}\n        />\n      )}\n    </>\n  );\n};\n\nconst FilesModel = ({ projectId }) => {\n  const [uploadingFiles, setUploadingFiles] = useState([]);\n  const [creatingFile, setCreatingFile] = useState(false);\n  const [creatingFolder, setCreatingFolder] = useState(false);\n  const [isFolderCreating, setIsFolderCreating] = useState(false);\n  const [newFolderName, setNewFolderName] = useState('');\n  const [viewShow, setViewShow] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [currentPath, setCurrentPath] = useState([]);\n  const [sharePopoverFile, setSharePopoverFile] = useState(null); // Track which file's share popover is open\n  const folderInputRef = useRef(null);\n  const accessToken = localStorage.getItem(\"access_token\");\n  const handleClose = () => {\n    setViewShow(false);\n    setCurrentPath([]);\n    setInputValue('');\n    setCreatingFolder(false);\n    setNewFolderName('');\n    setUploadingFiles([]);\n    setSharePopoverFile(null);\n  };\n\n  const filesQuery = useQuery({\n    queryKey: ['id', projectId],\n    queryFn: () => getProjectFilesById(projectId),\n    enabled: !!projectId,\n    retry: 1,\n    staleTime: 0,\n    cacheTime: 0,\n  });\n\n  const handleShow = () => {\n    setViewShow(true);\n  };\n\n  const uploadToS3 = async (file, url, fileId) => {\n    return axios.put(url, file, {\n      headers: {\n        \"Content-Type\": \"\",\n      },\n      onUploadProgress: (progressEvent) => {\n        const progress = Math.round(\n          (progressEvent.loaded / progressEvent.total) * 100\n        );\n        setUploadingFiles((prev) =>\n          prev.map((f) =>\n            f.id === fileId ? { ...f, progress } : f\n          )\n        );\n      },\n    }).catch((err) => {\n      console.log('err: ', err);\n      setUploadingFiles((prev) =>\n        prev.map((f) =>\n          f.id === fileId ? { ...f, progress: 0, error: true } : f\n        )\n      );\n      throw err;\n    });\n  };\n\n  const fileUploadBySignedURL = async (uploadFiles) => {\n    if (!uploadFiles.length) return;\n    if (!accessToken) return toast.error('Access token is missing. Please log in again.');\n\n    const currentPrefix = currentPath.join('/') + (currentPath.length ? '/' : '');\n\n    const newUploading = uploadFiles.map((file, index) => ({\n      id: Date.now() + index,\n      name: file.name,\n      progress: 0,\n      error: false,\n      type: 'uploading_file',\n    }));\n    setUploadingFiles((prev) => [...newUploading, ...prev]);\n\n    for (const [index, file] of uploadFiles.entries()) {\n      const fileId = newUploading[index].id;\n      const uniqueNumber = Date.now();\n      const fileNameParts = file.name.split('.');\n      const ext = fileNameParts.pop();\n      const baseName = fileNameParts.join('.');\n      const newName = `${currentPrefix}${baseName}-${uniqueNumber}.${ext}`;\n\n      try {\n        const response = await axios.post(\n          `${process.env.REACT_APP_BACKEND_API_URL}/projects/file/${projectId}/`,\n          { file_name: newName },\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          }\n        );\n\n        const { url } = response.data;\n        if (!url) {\n          throw new Error('No URL received');\n        }\n        let originalURL = url.split('?')[0];\n        await uploadToS3(file, originalURL, fileId);\n        toast.success(`Successfully uploaded ${file.name}`);\n        filesQuery?.refetch();\n      } catch (error) {\n        console.error(\"Error uploading file:\", file.name, error);\n        toast.error(`Failed to upload ${file.name}. Please try again.`);\n        setUploadingFiles((prev) =>\n          prev.map((f) =>\n            f.id === fileId ? { ...f, error: true } : f\n          )\n        );\n        continue;\n      } finally {\n        setUploadingFiles((prev) => prev.filter((f) => f.id !== fileId));\n      }\n    }\n\n  };\n\n  const createFolder = async (name) => {\n    if (!name.trim()) {\n      toast.error('Folder name cannot be empty.');\n      setCreatingFolder(false);\n      setNewFolderName('');\n      return;\n    }\n    if (!accessToken) {\n      toast.error('Access token is missing. Please log in again.');\n      setCreatingFolder(false);\n      return;\n    }\n\n    const currentPrefix = currentPath.join('/') + (currentPath.length ? '/' : '');\n    const folderKey = `${currentPrefix}${name}/`;\n\n    try {\n      setIsFolderCreating(true);\n      const response = await axios.post(\n        `${process.env.REACT_APP_BACKEND_API_URL}/projects/file/${projectId}/`,\n        { file_name: folderKey },\n        {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n          },\n        }\n      );\n\n      const { url } = response.data;\n      if (!url) {\n        throw new Error('No URL received');\n      }\n\n      await axios.put(url, new Blob(), {\n        headers: {\n          \"Content-Type\": \"\",\n        },\n      });\n      toast.success(`Successfully created folder ${name}`);\n      filesQuery?.refetch();\n    } catch (error) {\n      console.error(\"Error creating folder:\", error);\n      toast.error(`Failed to create folder ${name}. Please try again.`);\n    } finally {\n      setCreatingFolder(false);\n      setNewFolderName('');\n      setIsFolderCreating(false);\n    }\n  };\n\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    multiple: true,\n    accept: { 'application/pdf': ['.pdf'], 'image/*': ['.png', '.jpg', '.jpeg'], 'video/mp4': ['.mp4'] },\n    maxSize: 25 * 1024 * 1024,\n    onDrop: acceptedFiles => {\n      fileUploadBySignedURL(acceptedFiles);\n    }\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: (fileKey) => deleteFileByKey(projectId, fileKey),\n    onSuccess: () => {\n      toast.success('File deleted successfully');\n      filesQuery?.refetch();\n    },\n    onError: () => {\n      toast.error('Failed to delete file');\n    },\n  });\n\n  const deleteFolderMutation = useMutation({\n    mutationFn: async (folderPrefix) => {\n      console.log('folderPrefix: ', folderPrefix);\n      const toDelete = filesQuery.data.filter((f) => f.url.includes(folderPrefix));\n      console.log('toDelete: ', toDelete);\n      await Promise.all(toDelete.map((file) => {\n        let url = file?.url;\n        if (!url) return;\n        const urlObj = new URL(url);\n        const fileKey = urlObj.pathname.replace(/^\\/+/, '');\n        deleteFileByKey(projectId, fileKey);\n      }));\n      const markerKey = folderPrefix;\n      if (filesQuery.data.some((f) => f.key === markerKey) && !toDelete.some((f) => f.key === markerKey)) {\n        await deleteFileByKey(projectId, markerKey);\n      }\n    },\n    onSuccess: () => {\n      toast.success('Folder deleted successfully');\n      filesQuery?.refetch();\n    },\n    onError: (error) => {\n      console.error('Error deleting folder:', error);\n      toast.error('Failed to delete folder');\n    },\n  });\n\n  const removeFile = (item) => {\n    let url = item?.url;\n    if (!url) return;\n\n    try {\n      const urlObj = new URL(url);\n      const fileKey = urlObj.pathname.replace(/^\\/+/, '');\n      deleteMutation.mutate(fileKey);\n    } catch (error) {\n      console.error('Invalid URL:', url);\n      toast.error('Failed to delete file');\n    }\n  };\n\n  const removeFolder = async(item) => {\n    let url = item?.url;\n    if (!url) return;\n\n    try {\n      const urlObj = new URL(url);\n      const folderPrefix = urlObj.pathname.replace(/^\\/+/, '');\n      await deleteFolderMutation.mutateAsync(folderPrefix);\n      filesQuery?.refetch();\n    } catch (error) {\n      console.error('Invalid URL:', url);\n      toast.error('Failed to delete folder');\n    }\n  };\n\n  const startCreatingFolder = () => {\n    setCreatingFolder(true);\n    setNewFolderName('');\n    setTimeout(() => {\n      if (folderInputRef.current) {\n        folderInputRef.current.focus();\n      }\n    }, 0);\n  };\n\n  const cancelCreatingFolder = () => {\n    setCreatingFolder(false);\n    setNewFolderName('');\n  };\n\n  const contents = getContentsAtPath(filesQuery.data || [], currentPath);\n  let displayContents = inputValue\n    ? contents.filter((item) => item.name.toLowerCase().includes(inputValue.toLowerCase()))\n    : contents;\n\n  displayContents = [...uploadingFiles, ...displayContents];\n\n  if (creatingFolder) {\n    displayContents = [{ type: 'new_folder' }, ...displayContents];\n  }\n\n  return (\n    <>\n      {/* View modal trigger */}\n      <Button className={`filebut ${filesQuery?.data?.length ? 'fileActive' : ''}`} onClick={handleShow}>\n        Files\n        <img src={FolderFileIcon} alt=\"FolderFileIcon\" />\n      </Button>\n\n      {/* View modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject taskModelProjectFiles\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start py-2\">\n            <span>\n              Integrated File System\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className='d-flex justify-content-between align-items-center mb-3'>\n            {/* Breadcrumb */}\n            <nav aria-label=\"breadcrumb\">\n              <ol className=\"breadcrumb\" style={{ fontSize: '14px', marginBottom: '0' }}>\n                {['Files', ...currentPath].map((part, index, arr) => (\n                  <li className={`breadcrumb-item ${index === arr.length - 1 ? 'active' : ''}`} key={index}>\n                    <a\n                      href=\"#\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        setCurrentPath(currentPath.slice(0, index));\n                      }}\n                      className='font-14'\n                      style={{ color: index === arr.length - 1 ? '#344054' : '#106B99', textDecoration: 'none' }}\n                    >\n                      {part}\n                    </a>\n                  </li>\n                ))}\n              </ol>\n            </nav>\n\n            <div className='d-flex gap-2 justify-content-end align-items-center'>\n              <Button className=\"solid-button font-14 d-flex align-items-center\" onClick={() => setCreatingFile(!creatingFile)}>\n                Upload Files\n              </Button>\n              <Button className=\"outline-button font-14 d-flex align-items-center\" onClick={startCreatingFolder}>\n                New Folder\n              </Button>\n\n              <div className=\"searchBox\" style={{ position: 'relative' }}>\n                <div style={{ position: 'absolute', top: '3px', left: '8px' }}>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 20 20\" fill=\"none\">\n                    <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n                  </svg>\n                </div>\n                <input type=\"text\" placeholder=\"Search\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} className=\"border search-resource\" style={{ borderRadius: '4px', width: '184px', border: '1px solid #D0D5DD', color: '#424242', paddingLeft: '36px', fontSize: '14px', height: '32px' }} />\n              </div>\n            </div>\n          </div>\n\n          {/* Professional Upload Section - Always visible */}\n          {creatingFile && (\n            <div {...getRootProps({ className: 'dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer mb-4' })} style={{ width: '100%', height: '100px', background: '#F9FAFB', borderRadius: '8px', border: '2px dashed #D0D5DD', padding: '20px' }}>\n              <input {...getInputProps()} />\n              <CloudUpload size={24} color=\"#106B99\" />\n              <p className='mb-0 mt-2' style={{ color: '#475467', fontSize: '14px', textAlign: 'center' }}>\n                <span style={{ color: '#106B99', fontWeight: '600' }}>Click to upload</span> or drag and drop files here<br />\n                <small>(PDF, PNG, JPG, JPEG, MP4 - Max 25MB)</small>\n              </p>\n            </div>\n          )}\n\n          <div style={{ height: '300px', overflow: 'auto', paddingRight: '4px' }}>\n            <div className='d-flex gap-2 flex-wrap'>\n              {!filesQuery?.isPending && displayContents?.map((item, idx) => {\n                if (item.type === 'new_folder') {\n                  return (\n                    <div\n                      key=\"new_folder\"\n                      style={{\n                        background: '#F9FAFB',\n                        padding: '10px',\n                        borderRadius: '8px',\n                        border: '1px solid #EAECF0',\n                        height: 'fit-content',\n                        width: 'calc(33.333% - 5.33px)',\n                        minWidth: '200px'\n                      }}\n                      className='d-flex align-items-center gap-2'\n                    >\n                      <FolderPreview />\n                      <input\n                        ref={folderInputRef}\n                        type=\"text\"\n                        value={newFolderName}\n                        onChange={(e) => setNewFolderName(e.target.value)}\n                        onKeyDown={(e) => {\n                          if (e.key === 'Enter') {\n                            createFolder(newFolderName);\n                          } else if (e.key === 'Escape') {\n                            cancelCreatingFolder();\n                          }\n                        }}\n                        style={{ flex: 1, border: 'none', background: 'transparent', fontSize: '13px', fontWeight: '500', color: '#344054' }}\n                        placeholder=\"Folder name\"\n                      />\n                      <div className='d-flex gap-1'>\n                        <div\n                          onClick={() => createFolder(newFolderName)}\n                          style={{ cursor: 'pointer', color: '#106B99' }}\n                          title=\"Save\"\n                        >\n                          {\n                            isFolderCreating\n                              ? <ProgressSpinner style={{ width: '14px', height: '14px' }} />\n                              : <Check size={20} />\n                          }\n                        </div>\n                        <div\n                          onClick={cancelCreatingFolder}\n                          style={{ cursor: 'pointer', color: '#F04438' }}\n                          title=\"Cancel\"\n                        >\n                          <CancelIcon size={20} />\n                        </div>\n                      </div>\n                    </div>\n                  );\n                }\n\n                if (item.type === 'uploading_file') {\n                  return (\n                    <div\n                      key={item.id}\n                      style={{\n                        background: '#F9FAFB',\n                        padding: '10px',\n                        borderRadius: '8px',\n                        border: '1px solid #EAECF0',\n                        height: 'fit-content',\n                        width: 'calc(33.333% - 5.33px)',\n                        minWidth: '200px'\n                      }}\n                      className='d-flex align-items-center justify-content-between gap-2'\n                    >\n                      <div className='d-flex align-items-center gap-2' style={{ flex: 1, minWidth: 0 }}>\n                        <div\n                          style={{\n                            width: '48px',\n                            height: '48px',\n                            borderRadius: '6px',\n                            background: '#F9FAFB',\n                            border: '1px solid #E5E7EB',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            flexShrink: 0\n                          }}\n                        >\n                          <CloudUpload size={28} color=\"#106B99\" />\n                        </div>\n                        <div className='d-flex flex-column' style={{ flex: 1, minWidth: 0, fontSize: '13px' }}>\n                          <div\n                            title={item.name}\n                            style={{\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap',\n                              fontWeight: '500',\n                              color: '#344054',\n                              marginBottom: '2px'\n                            }}\n                          >\n                            {item.name}\n                          </div>\n                          {item.error ? (\n                            <small style={{ color: '#F04438', fontSize: '12px' }}>Upload failed</small>\n                          ) : (\n                            <ProgressBar value={item.progress} style={{ height: '6px' }} showValue={false} />\n                          )}\n                        </div>\n                      </div>\n                      {item.error && (\n                        <div\n                          onClick={() => setUploadingFiles((prev) => prev.filter((f) => f.id !== item.id))}\n                          style={{ cursor: 'pointer', color: '#F04438' }}\n                          title=\"Remove\"\n                        >\n                          <Trash size={14} />\n                        </div>\n                      )}\n                    </div>\n                  );\n                }\n\n                const isDeleting = deleteMutation?.isPending && item.url.includes(deleteMutation?.variables);\n                const isShareOpen = sharePopoverFile === item.key;\n                return (\n                  <div\n                    key={item.name || idx}\n                    style={{\n                      background: '#F9FAFB',\n                      padding: '10px',\n                      borderRadius: '8px',\n                      border: '1px solid #EAECF0',\n                      height: 'fit-content',\n                      width: 'calc(33.333% - 5.33px)',\n                      minWidth: '200px',\n                      position: 'relative'\n                    }}\n                    className='d-flex align-items-center justify-content-between gap-2'\n                  >\n                    {item.type === 'file' ? (\n                      <Link\n                        to={`${item.url}`}\n                        target='_blank'\n                        className='d-flex align-items-center gap-2'\n                        style={{ flex: 1, minWidth: 0, textDecoration: 'none' }}\n                      >\n                        <FilePreview file={item} />\n                        <div className='d-flex flex-column' style={{ flex: 1, minWidth: 0, fontSize: '13px' }}>\n                          <div\n                            title={item?.name}\n                            style={{\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap',\n                              fontWeight: '500',\n                              color: '#344054',\n                              marginBottom: '2px'\n                            }}\n                          >\n                            {item?.name}\n                          </div>\n                          <small style={{ color: '#667085', fontSize: '12px' }}>{formatFileSize(item?.size)}</small>\n                        </div>\n                      </Link>\n                    ) : (\n                      <div\n                        className='d-flex align-items-center gap-2 cursor-pointer'\n                        style={{ flex: 1, minWidth: 0 }}\n                        onClick={() => setCurrentPath([...currentPath, item.name])}\n                      >\n                        <FolderPreview />\n                        <div className='d-flex flex-column' style={{ flex: 1, minWidth: 0, fontSize: '13px' }}>\n                          <div\n                            title={item?.name}\n                            style={{\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              whiteSpace: 'nowrap',\n                              fontWeight: '500',\n                              color: '#344054',\n                              marginBottom: '2px'\n                            }}\n                          >\n                            {item?.name}\n                          </div>\n                          <small style={{ color: '#667085', fontSize: '12px' }}>Folder</small>\n                        </div>\n                      </div>\n                    )}\n                    {/* Action buttons */}\n                    <div className='d-flex align-items-center gap-1'>\n                      {/* Share button - only for files */}\n                      {item.type === 'file' && (\n                        <ShareButton \n                          item={item} \n                          isShareOpen={isShareOpen}\n                          onToggle={() => setSharePopoverFile(isShareOpen ? null : item.key)}\n                          onClose={() => setSharePopoverFile(null)}\n                        />\n                      )}\n                      {/* Delete button */}\n                      <div\n                        className='d-flex align-items-center justify-content-center'\n                        onClick={() => item.type === 'file' ? removeFile(item) : removeFolder(item)}\n                        title='Delete'\n                        style={{\n                          background: '#FEE4E2',\n                          borderRadius: '50%',\n                          width: '28px',\n                          height: '28px',\n                          flexShrink: 0,\n                          cursor: 'pointer',\n                          transition: 'all 0.2s ease'\n                        }}\n                        onMouseEnter={(e) => e.currentTarget.style.background = '#FEF3F2'}\n                        onMouseLeave={(e) => e.currentTarget.style.background = '#FEE4E2'}\n                      >\n                        {isDeleting\n                          ? <ProgressSpinner style={{ width: '14px', height: '14px' }} />\n                          : <Trash size={14} color=\"#F04438\" />\n                        }\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n              {filesQuery?.isPending && <>\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n              </>}\n              {!filesQuery?.isPending && displayContents.length === 0 && (\n                <div style={{ width: '100%', textAlign: 'center', color: '#667085', fontSize: '14px' }}>\n                  No files found.\n                </div>\n              )}\n            </div>\n          </div>\n        </Modal.Body>\n        <div className='CustonCloseModalBottom'>\n          <button className='but' onClick={handleClose}>\n            Close\n          </button>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default FilesModel;","var _g, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgGoogleReviewIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 21,\n    viewBox: \"0 0 20 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Social icon\",\n    clipPath: \"url(#clip0_7030_25924)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector\",\n    d: \"M19.8052 10.7305C19.8052 10.0507 19.7501 9.36724 19.6325 8.69849H10.2002V12.5493H15.6016C15.3775 13.7913 14.6573 14.8899 13.6027 15.5881V18.0867H16.8252C18.7176 16.345 19.8052 13.7729 19.8052 10.7305Z\",\n    fill: \"#4285F4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_2\",\n    d: \"M10.2 20.5008C12.897 20.5008 15.1715 19.6152 16.8287 18.0867L13.6062 15.588C12.7096 16.198 11.5522 16.5434 10.2037 16.5434C7.5948 16.5434 5.38279 14.7833 4.58911 12.417H1.26373V14.9928C2.96133 18.3696 6.41898 20.5008 10.2 20.5008Z\",\n    fill: \"#34A853\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_3\",\n    d: \"M4.58564 12.417C4.16676 11.175 4.16676 9.8302 4.58564 8.58824V6.01245H1.26395C-0.154389 8.8381 -0.154389 12.1671 1.26395 14.9928L4.58564 12.417Z\",\n    fill: \"#FBBC04\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_4\",\n    d: \"M10.2 4.45805C11.6257 4.436 13.0036 4.97247 14.0361 5.95722L16.8911 3.10218C15.0833 1.40459 12.6839 0.471278 10.2 0.500674C6.41898 0.500674 2.96133 2.63185 1.26373 6.01234L4.58543 8.58813C5.37544 6.21811 7.59113 4.45805 10.2 4.45805Z\",\n    fill: \"#EA4335\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7030_25924\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 20,\n    height: 20,\n    fill: \"white\",\n    transform: \"translate(0 0.5)\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGoogleReviewIcon);\nexport default __webpack_public_path__ + \"static/media/googleReviewIcon.0184cc6ef401c44935cf67effccb9dd0.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from \"react\";\nimport { Google, X } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport clsx from \"clsx\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { toast } from \"sonner\";\nimport { sendComposeEmail } from \"../../../../../../APIs/management-api\";\nimport { useAuth } from \"../../../../../../app/providers/auth-provider\";\nimport googleLogo from \"../../../../../../assets/images/icon/googleLogo.png\";\nimport GoogleReviewIcon from \"../../../../../../assets/images/icon/googleReviewIcon.svg\";\nimport SendDynamicEmailForm from \"../../../../../../ui/send-email-2/send-email\";\n\nconst GoogleReviewEmail = ({ projectId, contactPersons = [], hasGoogleReviewEmailSend, reInitialize }) => {\n    const { session } = useAuth();\n    const [, setPayload] = useState({});\n    const [viewShow, setViewShow] = useState(false);\n    const [showInstructions, setShowInstructions] = useState(false);\n\n    const handleShow = () => {\n        if (session?.has_google_review) {\n            setViewShow(true);\n        } else {\n            setShowInstructions(true);\n        }\n    };\n\n    const mutation = useMutation({\n        mutationFn: (data) => sendComposeEmail(projectId, \"google-review\", data),\n        onSuccess: () => {\n            setViewShow(false);\n            reInitialize();\n            toast.success(`Email send successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error sending email:', error);\n            toast.error(`Failed to send email. Please try again.`);\n        }\n    });\n\n    return (\n        <>\n            <Button\n                variant=\"light\"\n                className={clsx('rounded-circle px-2')}\n                onClick={handleShow}\n                title='Add to Mailchimp'\n                style={{ width: '38px', height: '38px' }}\n            >\n                {\n                    hasGoogleReviewEmailSend ? (\n                        <img src={GoogleReviewIcon} alt=\"GoogleReview\" style={{ width: '18px', height: '18px' }} />\n                    ) : (\n                        <Google size={16} color=\"#667085\" />\n                    )\n                }\n            </Button>\n\n            {/* Instructions modal when Google Review is not connected */}\n            <Modal\n                show={showInstructions}\n                onHide={() => setShowInstructions(false)}\n                aria-labelledby=\"contained-modal-title-vcenter\"\n                centered\n                className=\"taskModelProject\"\n                animation={false}\n            >\n                <Modal.Header className=\"mb-0 pb-0 border-0\">\n                    <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n                        <span>\n                            <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                                <path d=\"M28 18C22.48 18 18 22.48 18 28C18 33.52 22.48 38 28 38C33.52 38 38 33.52 38 28C38 22.48 33.52 18 28 18ZM29 33H27V31H29V33ZM29 29H27V23H29V29Z\" fill=\"#F04438\" />\n                            </svg>\n                            <span className='ms-3'>Google Review is currently unavailable</span>\n                        </span>\n                    </div>\n                    <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n                        <X size={24} color='#667085' />\n                    </button>\n                </Modal.Header>\n                <Modal.Body>\n                    <div className=\"ContactModel\">\n                        <p style={{ color: '#475467', fontSize: '14px', fontWeight: '400', lineHeight: '20px', textAlign: 'center' }}>\n                            Google Review functionality is currently unavailable. To use this feature, please connect your Google Review account via <Link to=\"/settings/integrations?openGoogleReview=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.\n                        </p>\n\n                        <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto border p-3 rounded\")} style={{ marginTop: '16px', width: 'fit-content' }}>\n                            <div className={clsx(\"d-flex align-items-center justify-content-center gap-2\")}>\n                                <img src={googleLogo} alt=\"Google Review\" style={{ width: '20px', height: '20px' }} />\n                                <h6 className=\"mb-0\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                                    Google Review\n                                </h6>\n                            </div>\n                            <span className=\"px-2 py-1\" style={{ fontSize: '12px', color: '#F79009', backgroundColor: '#FEF6EE', borderRadius: '16px' }}>\n                                Disconnected\n                                &nbsp;\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\">\n                                    <circle cx=\"4\" cy=\"4.5\" r=\"3\" fill=\"#F79009\" />\n                                </svg>\n                            </span>\n                        </div>\n                    </div>\n                </Modal.Body>\n            </Modal>\n\n            <SendDynamicEmailForm show={viewShow} mutation={mutation} isLoading={false} setShow={setViewShow} setPayload={setPayload} contactPersons={contactPersons} defaultTemplateId={'Google Review'} />\n        </>\n    );\n};\n\nexport default GoogleReviewEmail;\n","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-invoice_headerTitle__YBmdt\",\"customLabel\":\"send-invoice_customLabel__0D26B\",\"templateInfo\":\"send-invoice_templateInfo__osqvZ\",\"bag\":\"send-invoice_bag__VXoPF\",\"lable\":\"send-invoice_lable__hDm-2\",\"dropdownSelect\":\"send-invoice_dropdownSelect__y4YWM\",\"autoCompleteBox\":\"send-invoice_autoCompleteBox__sVyzX\",\"AutoComplete\":\"send-invoice_AutoComplete__cCiBx\",\"bcc\":\"send-invoice_bcc__KYSsZ\",\"box\":\"send-invoice_box__pOjbC\",\"active\":\"send-invoice_active__hBlO9\",\"inputBox\":\"send-invoice_inputBox__gIZLk\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Modal, Row } from \"react-bootstrap\";\nimport { InfoCircle } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport { toast } from 'sonner';\nimport style from \"./send-invoice.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\nimport { resendInvoiceEmail } from '../../APIs/invoice-api';\nimport { createAndSendInvoiceById } from '../../APIs/management-api';\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendInvoiceEmailForm = ({ show, setShow, contactPersons, setPayload, isLoading, create, projectId, projectCardData, isCreated }) => {\n    const op = useRef(null);\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n    const handleClose = () => setShow(false);\n\n    // Email validation function\n    const isValidEmail = useCallback((email) => {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email.trim());\n    }, []);\n\n    // Validate array of emails\n    const validateEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return true; // Empty array is valid\n        return emailArray.every(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Get invalid emails from array\n    const getInvalidEmails = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => !isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Clean email array by removing invalid emails\n    const cleanEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Validate and clean all email fields\n    const validateAndCleanAllEmails = useCallback(() => {\n        let hasErrors = false;\n        \n        // Check TO emails\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                setTo(cleanEmailArray(to));\n                hasErrors = true;\n            }\n        }\n        \n        // Check CC emails\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                setCC(cleanEmailArray(cc));\n                hasErrors = true;\n            }\n        }\n        \n        // Check BCC emails\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                setBCC(cleanEmailArray(bcc));\n                hasErrors = true;\n            }\n        }\n        \n        return !hasErrors; // Return true if no errors found\n    }, [to, cc, bcc, getInvalidEmails, cleanEmailArray]);\n\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n    });\n\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n    });\n\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n    });\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n    }, [emailQuery, outgoingEmailTemplateQuery]);\n\n    const mutation = useMutation({\n        mutationFn: (data) => isCreated ? resendInvoiceEmail(projectId, data) : createAndSendInvoiceById(projectId, data),\n        onSuccess: () => {\n            handleClose();\n            projectCardData();\n            toast.success(`Invoice created and send successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n            toast.error(`Failed to create and send invoice. Please try again.`);\n        }\n    });\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        // First, validate and clean all email arrays\n        const allEmailsValid = validateAndCleanAllEmails();\n        if (!allEmailsValid) {\n            console.log('Some emails were invalid and have been cleaned');\n        }\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        } else if (!validateEmailArray(to)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(to);\n            console.log('Invalid TO emails:', invalidEmails);\n            setErrors((others) => ({ ...others, to: true, toInvalid: true, invalidToEmails: invalidEmails }));\n        }\n\n        if (cc.length > 0 && !validateEmailArray(cc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(cc);\n            console.log('Invalid CC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, cc: true, invalidCcEmails: invalidEmails }));\n        }\n\n        if (bcc.length > 0 && !validateEmailArray(bcc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(bcc);\n            console.log('Invalid BCC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, bcc: true, invalidBccEmails: invalidEmails }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n\n        mutation.mutate({\n            subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        });\n    };\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setTo((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length && validEmails.length > 0) {\n                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, cc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setBCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, bcc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    // Auto-clean invalid emails from arrays\n    useEffect(() => {\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Auto-cleaning invalid TO emails:', invalidToEmails);\n                const validEmails = cleanEmailArray(to);\n                setTo(validEmails);\n            }\n        }\n    }, [to, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Auto-cleaning invalid CC emails:', invalidCcEmails);\n                const validEmails = cleanEmailArray(cc);\n                setCC(validEmails);\n            }\n        }\n    }, [cc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Auto-cleaning invalid BCC emails:', invalidBccEmails);\n                const validEmails = cleanEmailArray(bcc);\n                setBCC(validEmails);\n            }\n        }\n    }, [bcc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n    \n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    useEffect(() => {\n        if (emailTemplateQuery?.data) {\n            const activeTemplateId = isCreated ?\n                emailTemplateQuery?.data?.find((template) => template.type === 'Invoice')\n                : emailTemplateQuery?.data?.find((template) => template.type === 'Invoice');\n            setEmailTemplatedId(activeTemplateId?.id);\n        }\n    }, [emailTemplateQuery?.data, isCreated]);\n\n    return (\n        <Modal\n            show={show}\n            centered\n            onHide={handleClose}\n            className='invoice-form'\n            size='lg'\n        >\n            <Modal.Header closeButton>\n                <div className={`${style.modalHeader}`}>\n                    <div className=\"w-100 d-flex align-items-center gap-2\">\n                        <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                            {isCreated ? \"Resend\" : \"Send\"} a Invoice\n                        </span>\n                    </div>\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <Row>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>FROM</label>\n                            <Dropdown\n                                options={\n                                    (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                        value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                        label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                    }])) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '60px' }}\n                                placeholder=\"Select from email\"\n                                onChange={(e) => {\n                                    setFrom(e.value);\n                                    setErrors((others) => ({ ...others, from: false }));\n                                }}\n                                value={from}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                        {errors?.from && (\n                            <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (emailTemplateQuery &&\n                                        emailTemplateQuery.data?.map((emailTemplate) => ({\n                                            value: emailTemplate.id,\n                                            label: `${emailTemplate.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setEmailTemplatedId(e.value);\n                                }}\n                                value={emailTemplateId}\n                                loading={emailTemplateQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                            <div className={style.templateInfo} onClick={(e) => op.current.toggle(e)}>\n                                <InfoCircle size={16} color='#737374ff' />\n                            </div>\n                            <OverlayPanel ref={op}>\n                                <p className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>Choose from your existing templates here.</p>\n                                <div className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>To edit or add new templates, go to<br /> Profile Settings &gt; Templates &gt; Email<br/> Templates.</div>\n                            </OverlayPanel>\n                        </div>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex gap-3 w-100\">\n                            <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>TO</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef}\n                                    value={to}\n                                    completeMethod={search}\n                                    onChange={(e) => {\n                                        setTo(e.value);\n                                        setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus}\n                                    onFocus={onFocus}\n                                    onKeyUp={onInputChange}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setTo((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, toInvalid: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"TO\"\n                                />\n                            </div>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showCC })}\n                                onClick={() => { setShowCC(!showCC); setCC([]); }}\n                            >\n                                CC\n                            </Button>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showBCC })}\n                                onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                            >\n                                BCC\n                            </Button>\n                        </div>\n                        {errors?.to && !errors?.toInvalid && (\n                            <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                        )}\n                        {errors?.toInvalid && (\n                            <div>\n                                <p className=\"error-message mb-0\">{\"Please enter valid email addresses for TO\"}</p>\n                                {errors?.invalidToEmails && errors.invalidToEmails.length > 0 && (\n                                    <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                        Invalid emails: {errors.invalidToEmails.join(', ')}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </Col>\n                    {\n                        showCC &&\n                        <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>CC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef2}\n                                    value={cc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setCC(e.value);\n                                        setErrors((others) => ({ ...others, cc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus2}\n                                    onFocus={onFocus2}\n                                    onKeyUp={onInputChange2}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, cc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, cc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"CC\"\n                                />\n                            </div>\n                            {errors?.cc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for CC\"}</p>\n                                    {errors?.invalidCcEmails && errors.invalidCcEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidCcEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n\n                    {\n                        showBCC && <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '60px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>BCC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef3}\n                                    value={bcc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setBCC(e.value);\n                                        setErrors((others) => ({ ...others, bcc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus3}\n                                    onFocus={onFocus3}\n                                    onKeyUp={onInputChange3}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, bcc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, bcc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                    placeholder=\"BCC\"\n                                />\n                            </div>\n                            {errors?.bcc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for BCC\"}</p>\n                                    {errors?.invalidBccEmails && errors.invalidBccEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidBccEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n                    <Col sm={12} className='mb-2'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>SUBJECT</label>\n                            <IconField>\n                                <InputIcon>\n                                    {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                </InputIcon>\n                                <InputText\n                                    value={subject}\n                                    className={clsx(style.inputBox, 'w-100')}\n                                    style={{ paddingLeft: '100px' }}\n                                    onChange={(e) => {\n                                        setSubject(e.target.value);\n                                        setErrors((others) => ({ ...others, subject: false }));\n                                    }}\n                                    placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                                />\n                            </IconField>\n                        </div>\n                        {errors?.subject && (\n                            <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                            <label className={clsx(style.lable)}>Message</label>\n                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <Editor\n                                style={{ minHeight: \"150px\" }}\n                                headerTemplate={header}\n                                value={text}\n                                placeholder='Enter a description...'\n                                onTextChange={(e) => {\n                                    setText(e.htmlValue);\n                                    setErrors((others) => ({ ...others, text: false }));\n                                }}\n                            />\n                        </div>\n                        {errors?.text && (\n                            <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12}>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Signature</label>\n                            <Dropdown\n                                options={\n                                    (signatureQuery &&\n                                        signatureQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                panelClassName='px880-dropdown-item'\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select signature\"\n                                onChange={(e) => {\n                                    setSignature(e.value);\n                                }}\n                                value={signature}\n                                loading={signatureQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-between'>\n                <Button onClick={handleClose} className='text-button text-danger'>Cancel</Button>\n                <div className=\"d-flex justify-content-end gap-2\">\n                    {\n                        !isCreated && (\n                            <Button disabled={isLoading} className=\"outline-button\" onClick={create}>\n                                Create and Save{\" \"}\n                                {isLoading && (\n                                    <ProgressSpinner\n                                        style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                                    />\n                                )}\n                            </Button>\n                        )\n                    }\n\n                    <Button className=\"solid-button\" disabled={mutation?.isPending} onClick={onSubmit}>\n                        {isCreated ? \"Resend\" : \"Create and Send\"}{\" \"}\n                        {\n                            mutation?.isPending && (\n                                <ProgressSpinner\n                                    style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                                />\n                            )\n                        }\n                    </Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default SendInvoiceEmailForm;","import React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport InvoicesIcon from \"../../../../../../assets/images/icon/InvoicesIcon.svg\";\nimport SendInvoiceEmailForm from '../../../../../../ui/send-invoice/send-invoice';\n\nconst InvoiceCreate = ({ projectId, isLoading, create, projectCardData, isCreated, contactPersons = [] }) => {\n    const [show, setShow] = useState(false);\n    const [, setPayload] = useState({});\n\n    return (\n        <>\n            <Button className='InvoiceAction InvoiceActive me-3' onClick={() => setShow(true)}>\n              {isCreated ? \"Resend\" : \"Create\"} Invoice  <img src={InvoicesIcon} alt=\"Invoices\" />\n            </Button>\n            <SendInvoiceEmailForm projectId={projectId} show={show} create={create} isLoading={isLoading} setShow={setShow} setPayload={setPayload} contactPersons={contactPersons} projectCardData={projectCardData} isCreated={isCreated}/>\n        </>\n    );\n};\n\nexport default InvoiceCreate;","// extracted by mini-css-extract-plugin\nexport default {\"triggerButton\":\"mailchimp-integration_triggerButton__oUsxN\",\"emailSection\":\"mailchimp-integration_emailSection__0dpZ5\",\"label\":\"mailchimp-integration_label__nOjz5\",\"emailDisplay\":\"mailchimp-integration_emailDisplay__Yagm4\",\"checkboxSection\":\"mailchimp-integration_checkboxSection__D0IT-\",\"checkboxWrapper\":\"mailchimp-integration_checkboxWrapper__v23yc\",\"checkboxLabel\":\"mailchimp-integration_checkboxLabel__nQE14\",\"dropdownSection\":\"mailchimp-integration_dropdownSection__tU1s+\",\"slideDown\":\"mailchimp-integration_slideDown__hVM1F\",\"dropdown\":\"mailchimp-integration_dropdown__y7w51\",\"unavailableText\":\"mailchimp-integration_unavailableText__UOZb+\",\"integrationStatus\":\"mailchimp-integration_integrationStatus__-54kn\",\"disconnectedBadge\":\"mailchimp-integration_disconnectedBadge__RVvUU\"};","import React, { useState } from 'react';\nimport { EnvelopeCheck, X } from 'react-bootstrap-icons';\nimport { Link } from 'react-router-dom';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport { toast } from 'sonner';\nimport styles from './mailchimp-integration.module.scss';\nimport { addUserToMailchimpListAndProjectCard, getMailchimpLists } from '../../../../../../APIs/integrations-api';\nimport { useAuth } from '../../../../../../app/providers/auth-provider';\nimport mailchimpLogo from '../../../../../../assets/images/mailchimp_icon.png';\n\nconst MailchimpIntegration = ({ projectId, contactPersons = [], hasIntegratedMailchimp, reInitialize }) => {\n  const { session } = useAuth();\n  const [show, setShow] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [selectedListId, setSelectedListId] = useState('');\n  const [selectedEmail, setSelectedEmail] = useState('');\n\n  // Get email options for dropdown from contactPersons prop\n  const emailOptions = contactPersons\n    .filter(person => person.email)\n    .map(person => ({\n      value: person.email,\n      label: person.email\n    }));\n\n  const handleClose = () => {\n    setShow(false);\n    setSelectedListId('');\n    setSelectedEmail('');\n  };\n\n  const handleShow = () => {\n    if (session?.has_mailchimp) {\n      setShow(true);\n    } else {\n      setShowInstructions(true);\n    }\n  };\n\n  const mailchimpListsQuery = useQuery({\n    queryKey: ['mailchimp-lists'],\n    queryFn: getMailchimpLists,\n    enabled: show && session?.has_mailchimp\n  });\n\n  const addToMailchimpMutation = useMutation({\n    mutationFn: (data) => addUserToMailchimpListAndProjectCard(data, projectId),\n    onSuccess: () => {\n      reInitialize();\n      toast.success('Successfully added to Mailchimp mailing list!');\n      handleClose();\n    },\n    onError: (error) => {\n      console.log('Error adding to Mailchimp:', error);\n      if (error?.details?.title === 'Member Exists') {\n        toast.warning('User is already subscribed to the mailing list.');\n        return;\n      }\n      toast.error('Failed to add to Mailchimp. Please try again.');\n    }\n  });\n\n  const handleSubmit = () => {\n    if (!selectedEmail) {\n      toast.error('Please select an email address');\n      return;\n    }\n    if (!selectedListId) {\n      toast.error('Please select a mailing list');\n      return;\n    }\n\n    const selectedUser = contactPersons.find(person => person.email === selectedEmail);\n    if (!selectedUser) {\n      toast.error('Selected email address is not valid');\n      return;\n    }\n\n    const mailchimpData = {\n      list_id: selectedListId,\n      project_id: projectId,\n      email: selectedEmail,\n      first_name: selectedUser.firstname || '',\n      last_name: selectedUser.lastname || '',\n      phone: selectedUser.phone || ''\n    };\n\n    addToMailchimpMutation.mutate(mailchimpData);\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"light\"\n        className={clsx('rounded-circle', styles.triggerButton)}\n        onClick={handleShow}\n        title='Add to Mailchimp'\n      >\n        {hasIntegratedMailchimp ? (\n          <img src={mailchimpLogo} alt=\"Mailchimp Logo\" style={{ width: '25px', height: '25px' }} />\n        ) : (\n          <EnvelopeCheck color=\"#667085\" size={20} />\n        )}\n      </Button>\n\n      {/* Instructions modal - shown when Mailchimp is not connected */}\n      <Modal\n        show={showInstructions}\n        onHide={() => setShowInstructions(false)}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                <path d=\"M28 18C22.48 18 18 22.48 18 28C18 33.52 22.48 38 28 38C33.52 38 38 33.52 38 28C38 22.48 33.52 18 28 18ZM29 33H27V31H29V33ZM29 29H27V23H29V29Z\" fill=\"#F04438\" />\n              </svg>\n              <span className='ms-3'>Mailchimp is currently unavailable</span>\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <p className={styles.unavailableText}>\n              Mailchimp functionality is currently unavailable. To use this feature, please connect your Mailchimp account via <Link to=\"/settings/integrations?openMailchimp=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.\n            </p>\n\n            <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto\", styles.integrationStatus)}>\n              <div className={clsx(\"d-flex align-items-center justify-content-center gap-2\")}>\n                <img src={mailchimpLogo} alt=\"Mailchimp\" style={{ width: '40px', height: '40px' }} />\n                <h6 className=\"mb-0\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                  Mailchimp\n                </h6>\n              </div>\n              <span className={clsx(\"px-2 py-1\", styles.disconnectedBadge)}>\n                Disconnected\n                &nbsp;\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\">\n                  <circle cx=\"4\" cy=\"4.5\" r=\"3\" fill=\"#F79009\" />\n                </svg>\n              </span>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      {/* Main Mailchimp modal */}\n      <Modal\n        show={show}\n        onHide={handleClose}\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start w-100\">\n            <div className=\"d-flex align-items-center\">\n              <img src={mailchimpLogo} alt=\"Mailchimp\" style={{ width: '40px', height: '40px' }} />\n              <span className='ms-3' style={{ fontSize: '18px', fontWeight: 600, color: '#101828' }}>\n                Add to Mailchimp\n              </span>\n            </div>\n            <button className='CustonCloseModal' onClick={handleClose}>\n              <X size={24} color='#667085' />\n            </button>\n          </div>\n        </Modal.Header>\n\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            {/* Client Email Selection */}\n            <div className={styles.emailSection}>\n              <label className={styles.label}>\n                Select Email <span style={{ color: '#F04438' }}>*</span>\n              </label>\n              <Dropdown\n                value={selectedEmail}\n                options={emailOptions}\n                onChange={(e) => setSelectedEmail(e.value)}\n                className={styles.dropdown}\n                placeholder=\"Select an email address\"\n                emptyMessage=\"No email addresses found\"\n              />\n            </div>\n\n            {/* Mailing List Dropdown */}\n            <div className={styles.dropdownSection}>\n              <label className={styles.label}>\n                Select Mailing List <span style={{ color: '#F04438' }}>*</span>\n              </label>\n              <Dropdown\n                value={selectedListId}\n                options={Array.isArray(mailchimpListsQuery?.data?.lists)\n                  ? mailchimpListsQuery.data.lists.map((list) => ({\n                    value: list.id,\n                    label: list.name\n                  }))\n                  : []\n                }\n                onChange={(e) => setSelectedListId(e.value)}\n                className={styles.dropdown}\n                placeholder=\"Select a mailing list\"\n                loading={mailchimpListsQuery?.isFetching}\n                emptyMessage={mailchimpListsQuery?.isFetching ? \"Loading...\" : \"No mailing lists found\"}\n                filter\n                filterPlaceholder=\"Search lists\"\n              />\n            </div>\n          </div>\n        </Modal.Body>\n\n        <Modal.Footer className=\"pt-0\">\n          <div className=\"popoverbottom w-100 border-0 mt-0 pt-0\">\n            <Button\n              variant=\"outline-danger\"\n              onClick={handleClose}\n              disabled={addToMailchimpMutation.isPending}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary save\"\n              onClick={handleSubmit}\n              disabled={!selectedEmail || !selectedListId || addToMailchimpMutation.isPending}\n            >\n              {addToMailchimpMutation.isPending ? (\n                <>\n                  <ProgressSpinner style={{ width: '16px', height: '16px', marginRight: '8px' }} />\n                  Adding...\n                </>\n              ) : (\n                'Add to Mailchimp'\n              )}\n            </Button>\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default MailchimpIntegration;\n","import CreateTask from '../../../../Work/features/task/create-task/create-task';\n\nconst CreateTaskFeature = ({ show, setShow, project, reInitialize }) => {\n    const projectId = project.value;\n    return (\n        <>\n            {show && <CreateTask show={show} setShow={setShow} projectId={projectId} refetch={reInitialize} />}\n        </>\n    );\n};\n\nexport default CreateTaskFeature;\n","import { useState } from 'react';\nimport CreateTask from '../task/create-task';\n\nconst NewTask = ({ project, reInitialize, projectCardData }) => {\n    const [viewShow, setViewShow] = useState(false);\n    const handleShow = () => setViewShow(true);\n    \n    return (\n        <>\n            <div className=\"linkByttonStyle py-2 border-right pe-5\" onClick={handleShow}>\n                New Task\n            </div>\n            <CreateTask show={viewShow} setShow={setViewShow} project={project} reInitialize={reInitialize} projectCardData={projectCardData} />\n        </>\n    );\n};\n\nexport default NewTask;\n","import React, { useState } from 'react';\nimport { Filter, FileText, FileEarmarkText, Bezier2, CardChecklist, Envelope, PhoneVibrate, ListCheck, Check2Circle, FolderSymlink } from 'react-bootstrap-icons';\n\nconst OPTIONS = [\n  { icon: <FileText size={16} color='#1AB2FF' />, label: 'Invoice', value: 'invoice' },\n  { icon: <FileEarmarkText size={16} color='#1AB2FF' />, label: 'Quote', value: 'quote' },\n  { icon: <Bezier2 size={16} color='#1AB2FF' />, label: 'System', value: 'system' },\n  { icon: <CardChecklist size={16} color='#1AB2FF' />, label: 'Notes', value: 'note' },\n  { icon: <Envelope size={16} color='#1AB2FF' />, label: 'Email', value: 'email' },\n  { icon: <PhoneVibrate size={16} color='#1AB2FF' />, label: 'SMS', value: 'sms' },\n  { icon: <ListCheck size={16} color='#1AB2FF' />, label: 'Tasks', value: 'task' },\n  { icon: <Check2Circle size={16} color='#1AB2FF' />, label: 'Job Created', value: 'job' },\n  { icon: <FolderSymlink size={16} color='#1AB2FF' />, label: 'Expense Linked', value: 'order' }\n];\n\nconst ProjectCardFilter = ({ setFilteredHistoryOptions }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [tempSelectedOptions, setTempSelectedOptions] = useState([]);\n\n  const toggleDropdown = () => setIsOpen(prev => !prev);\n\n  const handleCheckboxChange = (value) => {\n    setTempSelectedOptions(prev =>\n      prev.includes(value)\n        ? prev.filter(opt => opt !== value)\n        : [...prev, value]\n    );\n  };\n\n  const handleApply = () => {\n    setFilteredHistoryOptions(tempSelectedOptions);\n    setIsOpen(false);\n  };\n\n  const handleSelectAll = () => {\n    if (tempSelectedOptions?.length > 0) setTempSelectedOptions([]);\n    else setTempSelectedOptions(OPTIONS.map(option => option.value));\n  };\n\n  const handleClearSelection = () => setTempSelectedOptions([]);\n\n  return (\n    <div className='projectCardFilterDropdown'>\n      <span onClick={toggleDropdown}>\n        <Filter size={20} color='#344054' />\n      </span>\n\n      {isOpen && (\n        <div className=\"dropdown-menuF px-0\">\n          <button className='all p-0 ps-2 pe-2 mx-2 text-left d-flex justify-content-between align-items-center rounded' style={{ background: '#F9FAFB', width: '94%' }} onClick={handleSelectAll}>\n            <span className='border-0' style={{ background: 'transparent' }}>All</span>\n            {\n              OPTIONS.length === tempSelectedOptions?.length && <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M16.6666 5L7.49992 14.1667L3.33325 10\" stroke=\"#1AB2FF\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n              </svg>\n            }\n          </button>\n          <ul className='ps-3'>\n            {OPTIONS.map(({ icon, label, value }) => (\n              <li\n                key={label}\n                className={tempSelectedOptions.includes(label) ? 'active' : ''}\n                onClick={() => handleCheckboxChange(value)}\n              >\n                <label htmlFor={label} className='w-100 d-flex justify-content-between align-items-center'>\n                  <input\n                    id={label}\n                    type=\"checkbox\"\n                    checked={tempSelectedOptions.includes(value)}\n                    readOnly\n                    style={{ cursor: 'pointer', height: '40px' }}\n                  />\n                  <span className='border-0'>{icon} {label}</span>\n                  {\n                    tempSelectedOptions.includes(value) && <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                      <path d=\"M16.6666 5L7.49992 14.1667L3.33325 10\" stroke=\"#1AB2FF\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                    </svg>\n                  }\n                </label>\n              </li>\n            ))}\n          </ul>\n          <hr/>\n          <div className=\"dropdown-buttonsF pb-2 px-3\">\n            <button className='cancel' onClick={handleClearSelection}>Cancel</button>\n            <button className='apply' onClick={handleApply}>Apply</button>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default ProjectCardFilter;\n","var _g, _path, _path2, _path3, _g2, _g3, _path4, _path5, _path6, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgOrdersIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.4\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.37 11.3901V17.3801C21.37 20.1401 19.13 22.3801 16.37 22.3801H7.63C4.87 22.3801 2.63 20.1401 2.63 17.3801V11.4601C3.39 12.2801 4.47 12.7501 5.64 12.7501C6.9 12.7501 8.11 12.1201 8.87 11.1101C9.55 12.1201 10.71 12.7501 12 12.7501C13.28 12.7501 14.42 12.1501 15.11 11.1501C15.88 12.1401 17.07 12.7501 18.31 12.7501C19.52 12.7501 20.62 12.2601 21.37 11.3901Z\",\n    fill: \"#344054\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.37 11.3901V17.3801C21.37 20.1401 19.13 22.3801 16.37 22.3801H7.63C4.87 22.3801 2.63 20.1401 2.63 17.3801V11.4601C3.39 12.2801 4.47 12.7501 5.64 12.7501C6.9 12.7501 8.11 12.1201 8.87 11.1101C9.55 12.1201 10.71 12.7501 12 12.7501C13.28 12.7501 14.42 12.1501 15.11 11.1501C15.88 12.1401 17.07 12.7501 18.31 12.7501C19.52 12.7501 20.62 12.2601 21.37 11.3901Z\",\n    fill: \"url(#paint0_linear_1254_88290)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.37 11.3901V17.3801C21.37 20.1401 19.13 22.3801 16.37 22.3801H7.63C4.87 22.3801 2.63 20.1401 2.63 17.3801V11.4601C3.39 12.2801 4.47 12.7501 5.64 12.7501C6.9 12.7501 8.11 12.1201 8.87 11.1101C9.55 12.1201 10.71 12.7501 12 12.7501C13.28 12.7501 14.42 12.1501 15.11 11.1501C15.88 12.1401 17.07 12.7501 18.31 12.7501C19.52 12.7501 20.62 12.2601 21.37 11.3901Z\",\n    fill: \"url(#paint1_linear_1254_88290)\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.99 1.25H8.98997L8.24997 8.61C8.18997 9.29 8.28997 9.93 8.53997 10.51C9.11997 11.87 10.48 12.75 12 12.75C13.54 12.75 14.87 11.89 15.47 10.52C15.65 10.09 15.76 9.59 15.77 9.08V8.89L14.99 1.25Z\",\n    fill: \"#344054\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.99 1.25H8.98997L8.24997 8.61C8.18997 9.29 8.28997 9.93 8.53997 10.51C9.11997 11.87 10.48 12.75 12 12.75C13.54 12.75 14.87 11.89 15.47 10.52C15.65 10.09 15.76 9.59 15.77 9.08V8.89L14.99 1.25Z\",\n    fill: \"url(#paint2_linear_1254_88290)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.99 1.25H8.98997L8.24997 8.61C8.18997 9.29 8.28997 9.93 8.53997 10.51C9.11997 11.87 10.48 12.75 12 12.75C13.54 12.75 14.87 11.89 15.47 10.52C15.65 10.09 15.76 9.59 15.77 9.08V8.89L14.99 1.25Z\",\n    fill: \"url(#paint3_linear_1254_88290)\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.6\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.36 8.27L22.07 5.5C21.65 2.48 20.28 1.25 17.35 1.25H13.51L14.25 8.75C14.26 8.85 14.27 8.96 14.27 9.15C14.33 9.67 14.49 10.15 14.73 10.58C15.45 11.9 16.85 12.75 18.31 12.75C19.64 12.75 20.84 12.16 21.59 11.12C22.19 10.32 22.46 9.31 22.36 8.27Z\",\n    fill: \"#344054\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.36 8.27L22.07 5.5C21.65 2.48 20.28 1.25 17.35 1.25H13.51L14.25 8.75C14.26 8.85 14.27 8.96 14.27 9.15C14.33 9.67 14.49 10.15 14.73 10.58C15.45 11.9 16.85 12.75 18.31 12.75C19.64 12.75 20.84 12.16 21.59 11.12C22.19 10.32 22.46 9.31 22.36 8.27Z\",\n    fill: \"url(#paint4_linear_1254_88290)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.36 8.27L22.07 5.5C21.65 2.48 20.28 1.25 17.35 1.25H13.51L14.25 8.75C14.26 8.85 14.27 8.96 14.27 9.15C14.33 9.67 14.49 10.15 14.73 10.58C15.45 11.9 16.85 12.75 18.31 12.75C19.64 12.75 20.84 12.16 21.59 11.12C22.19 10.32 22.46 9.31 22.36 8.27Z\",\n    fill: \"url(#paint5_linear_1254_88290)\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.6\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.59002 1.25C3.65002 1.25 2.29002 2.48 1.86002 5.53L1.59002 8.28C1.49002 9.35 1.78002 10.39 2.41002 11.2C3.17002 12.19 4.34002 12.75 5.64002 12.75C7.10002 12.75 8.50002 11.9 9.21002 10.6C9.47002 10.15 9.64002 9.63 9.69002 9.09L10.47 1.26H6.59002V1.25Z\",\n    fill: \"#344054\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.59002 1.25C3.65002 1.25 2.29002 2.48 1.86002 5.53L1.59002 8.28C1.49002 9.35 1.78002 10.39 2.41002 11.2C3.17002 12.19 4.34002 12.75 5.64002 12.75C7.10002 12.75 8.50002 11.9 9.21002 10.6C9.47002 10.15 9.64002 9.63 9.69002 9.09L10.47 1.26H6.59002V1.25Z\",\n    fill: \"url(#paint6_linear_1254_88290)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.59002 1.25C3.65002 1.25 2.29002 2.48 1.86002 5.53L1.59002 8.28C1.49002 9.35 1.78002 10.39 2.41002 11.2C3.17002 12.19 4.34002 12.75 5.64002 12.75C7.10002 12.75 8.50002 11.9 9.21002 10.6C9.47002 10.15 9.64002 9.63 9.69002 9.09L10.47 1.26H6.59002V1.25Z\",\n    fill: \"url(#paint7_linear_1254_88290)\"\n  }))), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.35 16.66C10.08 16.79 9.12 17.87 9.12 19.15V22.38H14.87V19.5C14.88 17.41 13.65 16.42 11.35 16.66Z\",\n    fill: \"#344054\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.35 16.66C10.08 16.79 9.12 17.87 9.12 19.15V22.38H14.87V19.5C14.88 17.41 13.65 16.42 11.35 16.66Z\",\n    fill: \"url(#paint8_linear_1254_88290)\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.35 16.66C10.08 16.79 9.12 17.87 9.12 19.15V22.38H14.87V19.5C14.88 17.41 13.65 16.42 11.35 16.66Z\",\n    fill: \"url(#paint9_linear_1254_88290)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_1254_88290\",\n    x1: 2.63,\n    y1: 11.1101,\n    x2: 12.5849,\n    y2: 27.6633,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_1254_88290\",\n    x1: 2.62971,\n    y1: 22.38,\n    x2: 12.5846,\n    y2: 5.82672,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_1254_88290\",\n    x1: 8.23303,\n    y1: 1.25,\n    x2: 18.7777,\n    y2: 8.16081,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear_1254_88290\",\n    x1: 8.23291,\n    y1: 12.7499,\n    x2: 18.7776,\n    y2: 5.83907,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint4_linear_1254_88290\",\n    x1: 13.51,\n    y1: 1.25,\n    x2: 24.633,\n    y2: 9.82958,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint5_linear_1254_88290\",\n    x1: 13.5099,\n    y1: 12.7499,\n    x2: 24.6329,\n    y2: 4.17029,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint6_linear_1254_88290\",\n    x1: 1.57068,\n    y1: 1.25,\n    x2: 12.7028,\n    y2: 9.86468,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint7_linear_1254_88290\",\n    x1: 1.57054,\n    y1: 12.7499,\n    x2: 12.7027,\n    y2: 4.13519,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint8_linear_1254_88290\",\n    x1: 9.12,\n    y1: 16.6248,\n    x2: 14.8752,\n    y2: 22.3748,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint9_linear_1254_88290\",\n    x1: 9.11991,\n    y1: 22.38,\n    x2: 14.8752,\n    y2: 16.6299,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrdersIcon);\nexport default __webpack_public_path__ + \"static/media/OrdersIcon.bb129217463e985edc21ff683898e113.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useEffect } from 'react';\nimport { useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport { updateProjectScheduleById } from '../../../../../APIs/management-api';\nimport OrdersIcon from \"../../../../../assets/images/icon/OrdersIcon.svg\";\nimport { DateRangePickerCalendar } from '../../../../../shared/ui/date-range-picker-calendar';\n\nconst formatDateRange = (startDate, endDate) => {\n    const options = { month: 'short', day: 'numeric' };\n    const start = new Date(startDate).toLocaleDateString('en-US', options);\n    const end = new Date(endDate).toLocaleDateString('en-US', options);\n    return `${start} - ${end}`;\n};\n\nconst DateRangeComponent = ({ startDate, endDate }) => (\n    <Button className='dateSelectdTaskBar schedule schActive' style={{ minWidth: '160px', minHeight: '46px' }}>\n        {formatDateRange(startDate, endDate)} <img src={OrdersIcon} alt=\"OrdersIcon\" /></Button>\n);\n\nconst ScheduleUpdate = ({ projectId, projectCardData, isFetching, startDate, endDate }) => {\n    const [dateRange, setDateRange] = useState({ startDate: null, endDate: null });\n    const [isPickerVisible, setIsPickerVisible] = useState(false);\n    const selectDateRef = useRef(null);\n    const togglePicker = () => setIsPickerVisible(prev => !prev);\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateProjectScheduleById(projectId, data),\n        onSuccess: async () => {\n            projectCardData(projectId);\n        },\n        onError: (error) => {\n            setDateRange({ startDate: null, endDate: null });\n            console.error('Error creating task:', error);\n        }\n    });\n    const handleDataApply = (data) => {\n        updateMutation.mutate({ booking_start: data.startDate, booking_end: data.endDate });\n        setDateRange(data);\n        setIsPickerVisible(false);\n    };\n    const handleClickOutside = (event) => {\n        if (selectDateRef.current && !selectDateRef.current.contains(event.target)) {\n            setIsPickerVisible(false);\n        }\n    };\n\n    useEffect(() => {\n        if (startDate && endDate) setDateRange({ startDate: new Date(1000 * +startDate), endDate: new Date(1000 * +endDate) });\n    }, [startDate, endDate]);\n\n    useEffect(() => {\n        if (isPickerVisible) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isPickerVisible]);\n\n    return (\n        <div className='select-date' style={{ position: 'relative' }} ref={selectDateRef}>\n            <div onClick={togglePicker} style={{ cursor: 'pointer' }}>\n                {(dateRange?.startDate && dateRange?.endDate && !updateMutation.isPending) ? (\n                    <DateRangeComponent isPending={updateMutation.isPending} startDate={dateRange.startDate} endDate={dateRange.endDate} />\n                ) : (\n                    <Button className={`schedule schActive text-nowrap`} style={{ minWidth: '201px', minHeight: '46px' }}>\n                        {updateMutation.isPending || isFetching ? <div className=\"dot-flashing\" ></div>\n                            : <span>Schedule Project  <img src={OrdersIcon} alt=\"OrdersIcon\" /></span>}\n                    </Button>\n                )}\n            </div>\n            {isPickerVisible && (\n                <div className='select-date-range' style={{ position: 'absolute', bottom: '40px', background: '#fff', zIndex: 1000 }}>\n                    <DateRangePickerCalendar onDataApply={handleDataApply} dateRange={dateRange} onClose={() => setIsPickerVisible(false)} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ScheduleUpdate;","import React, { useEffect, useState } from 'react';\nimport { ChevronDown } from 'react-bootstrap-icons';\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\nimport { useMutation } from '@tanstack/react-query';\nimport '@szhsin/react-menu/dist/index.css';\nimport { updateProjectStatusById } from '../../../../../APIs/management-api';\n\nexport const colorMapping = {\n    \"#1AB2FF\": { bg: \"#BAE8FF\", border: \"#1AB2FF\", color: \"#0A4766\", text: \"Blue\" },\n    \"#4E5BA6\": { bg: \"#EAECF5\", border: \"#4E5BA6\", color: \"#293056\", text: \"Deep Blue\" },\n    \"#2970FF\": { bg: \"#D1E0FF\", border: \"#2970FF\", color: \"#0040C1\", text: \"Dark Blue\" },\n    \"#FFB258\": { bg: \"#FFE8CD\", border: \"#FFB258\", color: \"#6D471A\", text: \"Orange\" },\n    \"#15B79E\": { bg: \"#CCFBEF\", border: \"#15B79E\", color: \"#125D56\", text: \"Green\" },\n    \"#66C61C\": { bg: \"#E3FBCC\", border: \"#66C61C\", color: \"#326212\", text: \"Light Green\" },\n    \"#7A5AF8\": { bg: \"#EBE9FE\", border: \"#7A5AF8\", color: \"#4A1FB8\", text: \"Light Purple\" },\n    \"#D444F1\": { bg: \"#FBE8FF\", border: \"#D444F1\", color: \"#821890\", text: \"Magenta\" },\n    \"#F63D68\": { bg: \"#FFE4E8\", border: \"#F63D68\", color: \"#A11043\", text: \"Pink\" },\n    \"#FF007F\": { bg: \"#FFCCE5\", border: \"#FF007F\", color: \"#6F0A3C\", text: \"Soft Pink\" },\n    \"#FFD700\": { bg: \"#FFF8D1\", border: \"#FFD700\", color: \"#997100\", text: \"Yellow\" },\n    \"#6C6C1C\": { bg: \"#E1E1B8\", border: \"#6C6C1C\", color: \"#444403\", text: \"Dark Yellow\" }\n};\n\nconst SelectStatus = ({ projectId, statusOptions, custom_status }) => {\n    const [selectedOption, setSelectedOption] = useState(null);\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateProjectStatusById(projectId, data),\n        onSuccess: async () => {\n        },\n        onError: (error) => {\n            setSelectedOption(custom_status);\n            console.error('Error creating task:', error);\n        }\n    });\n    const handleSubMenuClick = (choosedStatus) => {\n        if (choosedStatus?.id) {\n            updateMutation.mutate({ custom_status: choosedStatus?.id });\n            setSelectedOption(choosedStatus);\n        }\n    };\n\n    useEffect(() => {\n        setSelectedOption(custom_status);\n    }, [custom_status]);\n\n    return (\n        <Menu\n            menuButton={\n                <MenuButton style={{\n                    width: '204px',\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    justifyContent: 'flex-end',\n                    padding: '8px 0px',\n                    cursor: 'pointer',\n                    background: 'transparent',\n                    border: 'none',\n                    color: '#98A2B3',\n                    gap: '10px'\n                }}>\n                    {\n                        selectedOption && selectedOption.title ? (\n                            <div className=\"d-flex justify-content-center\" style={{ width: '204px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                                <>{\n                                    updateMutation.isPending ? (<div className=\"dot-flashing\"></div>) : (\n                                        <>\n                                            <div className=\"h-100\" style={{ width: '4px', background: `${colorMapping[selectedOption?.color]?.border}` }}></div>\n                                            <div className=\"h-100 statusFlex d-flex align-items-center\" style={{ width: '100%', background: `${colorMapping[selectedOption?.color]?.bg}` }}>\n                                                <span style={{ color: `${colorMapping[selectedOption?.color]?.color}`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>{selectedOption?.title}</span>\n                                                <span className='inArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                                            </div>\n                                            \n                                        </>\n                                    )\n                                }\n                                </>\n                            </div>\n                        ) : (   <div className=\"d-flex justify-content-center\" style={{ width: '204px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                            <>{\n                             \n                                    <>\n                                        <div className=\"h-100\" style={{ width: '4px', background: `#1D2939` }}></div>\n                                        <div className=\"h-100 statusFlex d-flex align-items-center\" style={{ width: '100%', background: `#F2F4F7` }}>\n                                            <span style={{ color: `#1D2939`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>No Status</span>\n                                            <span className='inArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                                        </div>\n                                        \n                                    </>\n                                \n                            }\n                            </>\n                        </div>)\n                    }\n                    <span className='outArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                </MenuButton>}\n            overflow={\"auto\"}\n            position={\"anchor\"}\n        >\n            {statusOptions?.map((status) => (\n                <MenuItem style={{ textAlign: 'left' }} onClick={() => handleSubMenuClick(status)} key={status.id}>\n                    <div className=\"d-flex\" style={{ width: '163px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                        <div className=\"h-100\" style={{ width: '4px', background: `${colorMapping[status?.color]?.border}` }}></div>\n                        <div className=\"h-100 d-flex align-items-center\" style={{ width: '100%', background: `${colorMapping[status?.color]?.bg}` }}>\n                            <span style={{ color: `${colorMapping[status?.color]?.color}`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>{status?.title}</span>\n                        </div>\n                    </div>\n                </MenuItem>\n            ))}\n        </Menu>\n    );\n};\n\nexport default SelectStatus;","// extracted by mini-css-extract-plugin\nexport default {\"phoneInput\":\"send-sms_phoneInput__Qgh+S\",\"countrySelector\":\"send-sms_countrySelector__y14UT\",\"customLabel\":\"send-sms_customLabel__RzF9F\",\"smsUnavailableAlert\":\"send-sms_smsUnavailableAlert__8Wmw4\",\"smsIcon\":\"send-sms_smsIcon__mwlTu\",\"twilioStatus\":\"send-sms_twilioStatus__9LyX9\",\"twilioIcon\":\"send-sms_twilioIcon__vuhjt\",\"disconnectedBadge\":\"send-sms_disconnectedBadge__L41qv\",\"smsUnavailableText\":\"send-sms_smsUnavailableText__iot1y\",\"settingsLink\":\"send-sms_settingsLink__DYIqa\"};","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { PhoneInput } from 'react-international-phone';\nimport { Link } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { PhoneNumberUtil } from 'google-libphonenumber';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport style from './send-sms.module.scss';\nimport { getSMS, getSMSTemplates } from '../../../../../../APIs/email-template';\nimport { sendSms } from '../../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst phoneUtil = PhoneNumberUtil.getInstance();\nconst isPhoneValid = (phone) => {\n  try {\n    return phoneUtil.isValidNumber(phoneUtil.parseAndKeepRawInput(phone));\n  } catch (error) {\n    return false;\n  }\n};\n\nconst SendSMS = ({ projectId, projectCardData }) => {\n  const [smsTemplateId, setSMSTemplatedId] = useState(null);\n  const [viewShow, setViewShow] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [message, setMessage] = useState('');\n  const [errors, setErrors] = useState({});\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const handleClose = () => {\n    setViewShow(false);\n    setMessage(\"\");\n    setPhoneNumber(\"\");\n    setErrors({});\n    setSMSTemplatedId(null);\n  };\n\n  const handleShow = () => {\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || \"{}\");\n    if (profileData?.has_twilio)\n      setViewShow(true);\n    else {\n      setShowInstructions(true);\n    }\n  };\n\n  const smsTemplateQuery = useQuery({\n    queryKey: [\"getSMSTemplates\"],\n    queryFn: getSMSTemplates\n  });\n\n  const smsQuery = useQuery({\n    queryKey: [\"smsQuery\", smsTemplateId],\n    queryFn: () => getSMS(smsTemplateId),\n    enabled: !!smsTemplateId,\n    retry: 1,\n  });\n\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendSms(projectId, data),\n    onSuccess: () => {\n      toast.success(`SMS send successfully`);\n      handleClose();\n      projectCardData();\n    },\n    onError: (error) => {\n      console.error('Error creating expense:', error);\n      toast.error('Failed to send sms. Please try again.');\n    }\n  });\n\n  const handleSubmit = () => {\n    let error = {};\n    if (!message) error.message = true;\n    if (!phoneNumber || !isPhoneValid(phoneNumber)) error.phone = true;\n    if (Object.keys(error).length) return setErrors(error);\n\n    mutation.mutate({\n      phone_number: phoneNumber,\n      message: message\n    });\n  };\n\n  useEffect(() => {\n    if (smsQuery?.data?.text) {\n      setMessage(smsQuery.data.text);\n      setErrors((others) => ({ ...others, message: false }));\n    }\n  }, [smsQuery.data]);\n\n  return (\n    <>\n      {/* View modal trigger */}\n      <div className=\"linkByttonStyle py-2 border-right text-center ps-0\" onClick={handleShow}>\n        Send SMS\n      </div>\n\n      {/* Instructions modal */}\n      <Modal\n        show={showInstructions}\n        onHide={() => setShowInstructions(false)}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                <path d=\"M20.0168 34.3409C20.3324 34.6574 20.4904 35.0981 20.4479 35.5431C20.3524 36.5401 20.1325 37.5778 19.8502 38.5417C21.9425 38.0581 23.2204 37.4972 23.8012 37.2028C24.1309 37.0357 24.5107 36.9963 24.8677 37.092C25.8545 37.3566 26.9061 37.5 28 37.5C33.9934 37.5 38.5 33.2887 38.5 28.5C38.5 23.7113 33.9934 19.5 28 19.5C22.0066 19.5 17.5 23.7113 17.5 28.5C17.5 30.7021 18.426 32.7456 20.0168 34.3409ZM19.2773 40.1984C19.2672 40.2004 19.2571 40.2024 19.247 40.2044C19.1093 40.2315 18.9688 40.2583 18.8257 40.2845C18.625 40.3212 18.419 40.357 18.2076 40.3916C17.9091 40.4405 17.6805 40.1282 17.7985 39.8496C17.8755 39.6676 17.9515 39.4769 18.0255 39.2791C18.0725 39.1535 18.1187 39.025 18.1639 38.8941C18.1658 38.8885 18.1678 38.8828 18.1697 38.8772C18.5413 37.7976 18.8439 36.5567 18.9547 35.4001C17.1146 33.5548 16 31.1413 16 28.5C16 22.701 21.3726 18 28 18C34.6274 18 40 22.701 40 28.5C40 34.299 34.6274 39 28 39C26.7749 39 25.5926 38.8394 24.4793 38.5408C23.7 38.9357 22.0215 39.6545 19.2773 40.1984Z\" fill=\"#F04438\" />\n                <path d=\"M22 24.75C22 24.3358 22.3358 24 22.75 24H33.25C33.6642 24 34 24.3358 34 24.75C34 25.1642 33.6642 25.5 33.25 25.5H22.75C22.3358 25.5 22 25.1642 22 24.75ZM22 28.5C22 28.0858 22.3358 27.75 22.75 27.75H33.25C33.6642 27.75 34 28.0858 34 28.5C34 28.9142 33.6642 29.25 33.25 29.25H22.75C22.3358 29.25 22 28.9142 22 28.5ZM22 32.25C22 31.8358 22.3358 31.5 22.75 31.5H28.75C29.1642 31.5 29.5 31.8358 29.5 32.25C29.5 32.6642 29.1642 33 28.75 33H22.75C22.3358 33 22 32.6642 22 32.25Z\" fill=\"#F04438\" />\n              </svg>\n\n              <span className='ms-3'>SMS is currently unavailable</span>\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <p className={style.smsUnavailableText}>SMS functionality is currently unavailable. To use this<br /> feature, please ask your admin to set up a Twilio<br /> account and connect it via <Link to=\"/settings/integrations?openTwilio=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.</p>\n\n            <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto\", style.twilioStatus)}>\n              <div className={clsx(\"d-flex align-items-center justify-content-center\", style.twilioIcon)}>\n                <img src='/static/media/twilio-logo.c9f32aa9e92765a4deb7.png' style={{ width: '50px' }} />\n                <h6 className=\"mb-1\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                  Twilio\n                </h6>\n              </div>\n              <span className={clsx(\"px-2 py-1\", style.disconnectedBadge)}>\n                Disconnected\n                &nbsp;\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\">\n                  <circle cx=\"4\" cy=\"4.5\" r=\"3\" fill=\"#F79009\" />\n                </svg>\n              </span>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      {/* View modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Send SMS\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col sm={12} className='mb-3'>\n                <div style={{ position: 'relative' }}>\n                  <label className={clsx(style.customLabel)}>Templates</label>\n                  <Dropdown\n                    options={\n                      (smsTemplateQuery &&\n                        smsTemplateQuery.data?.map((smsTemplate) => ({\n                          value: smsTemplate.id,\n                          label: `${smsTemplate.title}`,\n                        }))) ||\n                      []\n                    }\n                    className={clsx(\n                      style.dropdownSelect,\n                      \"dropdown-height-fixed w-100\"\n                    )}\n                    style={{ height: \"46px\", paddingLeft: '88px' }}\n                    placeholder=\"Select template\"\n                    onChange={(e) => {\n                      setSMSTemplatedId(e.value);\n                    }}\n                    value={smsTemplateId}\n                    loading={smsTemplateQuery?.isFetching}\n                    filterInputAutoFocus={true}\n                  />\n                </div>\n              </Col>\n              <Col>\n                <div className=\"formgroup sendSMSPhone mb-2 mt-0\">\n                  <label>To<span className=\"required\">*</span></label>\n                  <div className={`inputInfo p-0 ${errors.taskRead ? 'error-border' : 'border-0'}`}>\n                    <PhoneInput\n                      defaultCountry='au'\n                      placeholder='Enter phone number'\n                      value={phoneNumber || \"\"}\n                      className='phoneInput w-100'\n                      containerClass={style.countrySelector}\n                      onChange={(e) => {\n                        setPhoneNumber(e);\n                        if (isPhoneValid(e)) setErrors((others) => ({ ...others, phone: false }));\n                      }}\n                    />\n                  </div>\n                  {errors.phone && <p className=\"error-message\">Phone is not valid</p>}\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label>Message<span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`} style={{ position: 'relative' }}>\n                    <div style={{ position: 'absolute', right: '10px', top: '15px' }}>\n                      {smsQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                    </div>\n                    <textarea\n                      type=\"text\"\n                      name=\"Enter a message here...\"\n                      value={message}\n                      placeholder='Enter a message here...'\n                      onChange={(e) => {\n                        const newText = e.target.value.slice(0, 150);\n                        setMessage(newText);\n                        setErrors((others) => ({ ...others, message: false }));\n                      }}\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between align-items-center mt-1\">\n                    <p className=\"error-message\">{errors.message && \"Description is required\"}</p>\n                    <div style={{ float: 'right', fontSize: '14px', color: '#6c757d' }}>\n                      {message?.length || 0}/150\n                    </div>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n            </Row>\n            <div className=\"popoverbottom  mt-0 pt-4\">\n              <Button variant=\"outline-danger\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button disabled={mutation?.isPending} variant=\"primary save d-flex align-items-center gap-2\" onClick={handleSubmit}>\n                Send\n                {\n                  mutation?.isPending && <ProgressSpinner style={{ width: '15px', height: '15px' }} />\n                }\n              </Button>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default SendSMS;\n","// extracted by mini-css-extract-plugin\nexport default {\"calendarButton\":\"send-to-calendar_calendarButton__wLLgP\",\"calendarModal\":\"send-to-calendar_calendarModal__ZnyeK\",\"calendarTypeRadio\":\"send-to-calendar_calendarTypeRadio__lZev2\",\"selected\":\"send-to-calendar_selected__mOnKi\",\"modalTitle\":\"send-to-calendar_modalTitle__yfOOC\",\"formLabel\":\"send-to-calendar_formLabel__eKaq1\",\"AutoComplete\":\"send-to-calendar_AutoComplete__iw4uu\",\"borderDanger\":\"send-to-calendar_borderDanger__P-SWh\",\"bcc\":\"send-to-calendar_bcc__jJnIa\"};","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgCalendar(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 0.5H2C0.89543 0.5 0 1.39543 0 2.5V14.5C0 15.6046 0.89543 16.5 2 16.5H14C15.1046 16.5 16 15.6046 16 14.5V2.5C16 1.39543 15.1046 0.5 14 0.5ZM1 4.35714C1 3.88376 1.44772 3.5 2 3.5H14C14.5523 3.5 15 3.88376 15 4.35714V14.6429C15 15.1162 14.5523 15.5 14 15.5H2C1.44772 15.5 1 15.1162 1 14.6429V4.35714Z\",\n    fill: \"#1D2939\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 7.5C7.05228 7.5 7.5 7.05228 7.5 6.5C7.5 5.94772 7.05228 5.5 6.5 5.5C5.94772 5.5 5.5 5.94772 5.5 6.5C5.5 7.05228 5.94772 7.5 6.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 7.5C10.0523 7.5 10.5 7.05228 10.5 6.5C10.5 5.94772 10.0523 5.5 9.5 5.5C8.94772 5.5 8.5 5.94772 8.5 6.5C8.5 7.05228 8.94772 7.5 9.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 7.5C13.0523 7.5 13.5 7.05228 13.5 6.5C13.5 5.94772 13.0523 5.5 12.5 5.5C11.9477 5.5 11.5 5.94772 11.5 6.5C11.5 7.05228 11.9477 7.5 12.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 10.5C4.05228 10.5 4.5 10.0523 4.5 9.5C4.5 8.94772 4.05228 8.5 3.5 8.5C2.94772 8.5 2.5 8.94772 2.5 9.5C2.5 10.0523 2.94772 10.5 3.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 10.5C7.05228 10.5 7.5 10.0523 7.5 9.5C7.5 8.94772 7.05228 8.5 6.5 8.5C5.94772 8.5 5.5 8.94772 5.5 9.5C5.5 10.0523 5.94772 10.5 6.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 10.5C10.0523 10.5 10.5 10.0523 10.5 9.5C10.5 8.94772 10.0523 8.5 9.5 8.5C8.94772 8.5 8.5 8.94772 8.5 9.5C8.5 10.0523 8.94772 10.5 9.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 10.5C13.0523 10.5 13.5 10.0523 13.5 9.5C13.5 8.94772 13.0523 8.5 12.5 8.5C11.9477 8.5 11.5 8.94772 11.5 9.5C11.5 10.0523 11.9477 10.5 12.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 13.5C4.05228 13.5 4.5 13.0523 4.5 12.5C4.5 11.9477 4.05228 11.5 3.5 11.5C2.94772 11.5 2.5 11.9477 2.5 12.5C2.5 13.0523 2.94772 13.5 3.5 13.5Z\",\n    fill: \"#1D2939\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 13.5C7.05228 13.5 7.5 13.0523 7.5 12.5C7.5 11.9477 7.05228 11.5 6.5 11.5C5.94772 11.5 5.5 11.9477 5.5 12.5C5.5 13.0523 5.94772 13.5 6.5 13.5Z\",\n    fill: \"#1D2939\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 13.5C10.0523 13.5 10.5 13.0523 10.5 12.5C10.5 11.9477 10.0523 11.5 9.5 11.5C8.94772 11.5 8.5 11.9477 8.5 12.5C8.5 13.0523 8.94772 13.5 9.5 13.5Z\",\n    fill: \"#1D2939\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendar);\nexport default __webpack_public_path__ + \"static/media/calendar.9ebe7da58af479b138e37b33d2affea2.svg\";\nexport { ForwardRef as ReactComponent };","import SendToCalendar from './send-to-calendar';\n\nexport default SendToCalendar;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Button, Modal, Form, Row, Col } from 'react-bootstrap';\nimport { Calendar3 } from 'react-bootstrap-icons';\nimport { useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport clsx from 'clsx';\nimport { format } from 'date-fns';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport { Calendar } from 'primereact/calendar';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport styles from './send-to-calendar.module.scss';\nimport { getClientById } from '../../../../../../APIs/ClientsApi';\nimport { getOutgoingEmail } from '../../../../../../APIs/email-template';\nimport CalendarIcon from \"../../../../../../assets/images/icon/calendar.svg\";\n\nconst SendToCalendar = ({ projectId, project, projectCardData }) => {\n  const autoCompleteRef = useRef(null);\n  const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n  const accessToken = localStorage.getItem(\"access_token\");\n  const [show, setShow] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [eventTitle, setEventTitle] = useState('');\n  const [eventDescription, setEventDescription] = useState('');\n  const [eventLocation, setEventLocation] = useState('');\n  const [meetLink, setMeetLink] = useState('');\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n  const [guests, setGuests] = useState([]);\n  const [from, setFrom] = useState('');\n  const [filteredEmails, setFilteredEmails] = useState([]);\n  const [errors, setErrors] = useState({});\n\n  const clientQuery = useQuery({\n    queryKey: ['getClientById', project?.client],\n    queryFn: () => getClientById(project?.client),\n    enabled: !!project?.client && !!show,\n    retry: 1,\n  });\n\n  const outgoingEmailTemplateQuery = useQuery({\n    queryKey: [\"getOutgoingEmail\"],\n    queryFn: getOutgoingEmail,\n    enabled: !!show,\n  });\n\n  const handleClose = () => {\n    setShow(false);\n    setGuests([]);\n    setEventTitle('');\n    setEventDescription('');\n    setEventLocation('');\n    setStartDate(null);\n    setEndDate(null);\n    setMeetLink('');\n    setFrom('');\n  };\n\n  const handleShow = () => {\n    if (project?.reference) {\n      setEventTitle(`${project.reference}`);\n    } else if (project?.number) {\n      setEventTitle(`Project #${project.number}`);\n    } else {\n      setEventTitle('Project Event');\n    }\n\n    setEventDescription(project?.description || '');\n\n    if (project?.booking_start) {\n      setStartDate(new Date(project.booking_start * 1000));\n    }\n\n    if (project?.booking_end) {\n      setEndDate(new Date(project.booking_end * 1000));\n    }\n\n    setShow(true);\n  };\n\n  useEffect(() => {\n    if (project?.booking_start && !startDate) {\n      setStartDate(new Date(project.booking_start * 1000));\n    }\n\n    if (project?.booking_end && !endDate) {\n      setEndDate(new Date(project.booking_end * 1000));\n    }\n  }, [project, startDate, endDate]);\n\n\n  const generateICalContent = (attendees = [], organizerEmail = profileData?.email || 'no-reply@memate.com.au') => {\n    const formatDate = (date) => format(date, \"yyyyMMdd'T'HHmmss'Z'\");\n    const now = new Date();\n    const uid = `${Date.now()}@memate.com.au`;\n    const dtStamp = formatDate(now);\n\n    // Determine meeting platform type based on URL pattern\n    const getMeetingPlatform = (url) => {\n      if (!url) return null;\n      if (url.includes('zoom.us')) return 'Zoom';\n      if (url.includes('teams.microsoft.com')) return 'Microsoft Teams';\n      if (url.includes('meet.google.com')) return 'Google Meet';\n      if (url.includes('webex.com')) return 'Cisco Webex';\n      return 'Online Meeting'; // Generic fallback\n    };\n\n    // Create description with meeting link if provided\n    let formattedDescription = eventDescription || \"Meeting Invitation\";\n    let htmlDescription = `<html><body><p>${eventDescription || \"Meeting Invitation\"}</p>`;\n\n    if (meetLink) {\n      const platform = getMeetingPlatform(meetLink);\n      formattedDescription += `\\n\\n${platform} Link: ${meetLink}`;\n      htmlDescription += `<p><strong>${platform} Link:</strong> <a href=\"${meetLink}\">${meetLink}</a></p>`;\n    }\n\n    htmlDescription += `</body></html>`;\n    htmlDescription = htmlDescription.replace(/\\n/g, '').replace(/\\s+/g, ' ');\n\n    const calendarContent = [\n      \"BEGIN:VCALENDAR\",\n      \"PRODID:-//MeMate//Calendar//EN\",\n      \"VERSION:2.0\",\n      \"CALSCALE:GREGORIAN\",\n      \"METHOD:REQUEST\",\n      \"BEGIN:VEVENT\",\n      `UID:${uid}`,\n      `DTSTAMP:${dtStamp}`,\n      `SUMMARY:${eventTitle}`,\n      `DESCRIPTION:${formattedDescription.replace(/\\n/g, '\\\\n')}`,\n      `LOCATION:${eventLocation || meetLink || ''}`,\n      meetLink ? `URL:${meetLink}` : '',\n      `DTSTART:${formatDate(startDate)}`,\n      `DTEND:${formatDate(endDate)}`,\n      `ORGANIZER;CN=${profileData?.first_name && profileData?.last_name ?\n        `${profileData.first_name} ${profileData.last_name}` :\n        organizerEmail.split('@')[0] || 'MeMate'}:mailto:${organizerEmail}`\n    ].filter(line => line !== ''); // Remove empty lines\n\n    if (attendees && attendees.length > 0) {\n      attendees.forEach(email => {\n        let name = email.split('@')[0].replace(/[.]/g, ' ');\n        name = name.split(' ').map(part => part.charAt(0).toUpperCase() + part.slice(1)).join(' ');\n\n        calendarContent.push(`ATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN=${name}:mailto:${email}`);\n      });\n    }\n\n    calendarContent.push(\n      \"STATUS:CONFIRMED\",\n      \"SEQUENCE:0\",\n      \"TRANSP:OPAQUE\",\n      \"BEGIN:VALARM\",\n      \"TRIGGER:-PT15M\",\n      \"ACTION:DISPLAY\",\n      \"DESCRIPTION:Reminder\",\n      \"END:VALARM\",\n      \"X-MICROSOFT-CDO-BUSYSTATUS:BUSY\",\n      \"X-MICROSOFT-CDO-IMPORTANCE:1\",\n      \"X-MICROSOFT-DISALLOW-COUNTER:FALSE\",\n      \"X-MICROSOFT-DONOTFORWARDMEETING:FALSE\",\n      \"X-MICROSOFT-CDO-ALLDAYEVENT:FALSE\"\n    );\n\n    // Add platform-specific properties\n    if (meetLink) {\n      if (meetLink.includes('meet.google.com')) {\n        calendarContent.push(`X-GOOGLE-CONFERENCE:${meetLink}`);\n      } else if (meetLink.includes('teams.microsoft.com')) {\n        calendarContent.push(`X-MICROSOFT-SKYPETEAMSMEETINGURL:${meetLink}`);\n      }\n    }\n\n    // Add HTML description for better email client compatibility\n    calendarContent.push(`X-ALT-DESC;FMTTYPE=text/html:${htmlDescription}`);\n\n    calendarContent.push(\n      \"END:VEVENT\",\n      \"END:VCALENDAR\"\n    );\n\n    return calendarContent.join(\"\\r\\n\");\n  };\n\n  const validateForm = () => {\n    const err = {};\n  \n    if (!eventTitle.trim()) {\n      err.eventTitle = 'Event title is required';\n    }\n\n    if (!startDate) {\n      err.startDate = 'Start date is required';\n    }\n\n    if (!endDate) {\n      err.endDate = 'End date is required';\n    }\n\n    if (startDate > endDate) {\n      err.endDate = 'End date must be after start date';\n    }\n\n    if (guests.length === 0) {\n      err.guests = 'Guests are required';\n    }\n\n    if (!from) {\n      err.from = 'From email is required';\n    }\n\n    if (!eventDescription.trim()) {\n      err.eventDescription = 'Description is required';\n    }\n\n    if (Object.keys(err).length > 0) {\n      setErrors(err);\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      if (!validateForm()) {\n        setIsLoading(false);\n        return;\n      }\n\n      const calendarContent = generateICalContent(guests, from);\n      const fileName = `invite.ics`;\n      const icsFile = new File([calendarContent], fileName, { type: 'text/calendar' });\n      const formData = new FormData();\n\n      formData.append('subject', `Invitation: ${eventTitle}`);\n      formData.append('email_body', eventDescription);\n      formData.append('from_email', from);\n      formData.append('to', guests.toString());\n      formData.append('attachments', icsFile);\n\n      await axios.post(\n        `${process.env.REACT_APP_BACKEND_API_URL}/custom/email/${projectId}/`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n      toast.success('Calendar event created successfully!');\n      handleClose();\n      projectCardData(projectId);\n    } catch (error) {\n      console.error('Error creating calendar event:', error);\n      toast.error('Failed to create calendar event. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const search = (event) => {\n    const query = event?.query?.toLowerCase() || '';\n\n    const contactPersons = clientQuery.data?.contact_persons || [];\n    let emails = contactPersons.map((data) => (data.email)).filter(email => email);\n    emails = emails.filter((email) => !guests.includes(email));\n\n    emails = emails.filter((email) =>\n      email.toLowerCase().includes(query)\n    );\n\n    setFilteredEmails(emails);\n  };\n\n  const onFocus = () => {\n    search();\n    if (autoCompleteRef.current) autoCompleteRef.current.show();\n  };\n\n  const onInputChange = (e) => {\n    const currentValue = e.target.value;\n    if (currentValue.includes(',') || e.key === 'Enter') {\n      const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n      setGuests((prev) => [...new Set([...prev, ...emails])]);\n      e.target.value = '';\n    }\n  };\n\n  useEffect(() => {\n    if (outgoingEmailTemplateQuery?.data) {\n      if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n        setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n      else\n        setFrom('no-reply@memate.com.au');\n    }\n  }, [outgoingEmailTemplateQuery]);\n\n  useEffect(() => {\n    if (profileData?.email && show) {\n      setGuests([profileData?.email]);\n    }\n  }, [profileData?.email, show]);\n\n  return (\n    <>\n      <Button disabled={!project?.booking_start} className={`calenBut calenActive text-nowrap ${styles.calendarButton}`} onClick={handleShow}>\n        Send to Calendar <img src={CalendarIcon} alt=\"Calendar\" />\n      </Button>\n\n      <Modal show={show} onHide={handleClose} centered className={styles.calendarModal}>\n        <Modal.Header closeButton>\n          <Modal.Title className={styles.modalTitle}>Send to Calendar</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Event Title<span className=\"required\">*</span></Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter event title\"\n                value={eventTitle}\n                onChange={(e) => setEventTitle(e.target.value)}\n                className={clsx('border outline-none', errors?.eventTitle && 'border-danger')}\n              />\n              {errors?.eventTitle && <Form.Text className=\"error-message\">{errors.eventTitle}</Form.Text>}\n            </Form.Group>\n\n            <Row className=\"mb-3\">\n              <Col>\n                <Form.Group>\n                  <Form.Label className={styles.formLabel}>Start Date & Time<span className=\"required\">*</span></Form.Label>\n                  <Calendar\n                    value={startDate}\n                    dateFormat=\"dd/mm/yy\"\n                    locale=\"en\"\n                    onChange={(e) => {\n                      setStartDate(e.value);\n                    }}\n                    onSelect={() => {\n                      document.body.click();\n                    }}\n                    onClear={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    onTodayButtonClick={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    showTime\n                    stepMinute={15}\n                    showIcon\n                    showButtonBar\n                    todayButtonClassName=\"p-button-sm p-button-outlined\"\n                    clearButtonClassName=\"p-button-sm p-button-outlined p-button-danger\"\n                    icon={<Calendar3 color='#667085' size={20} />}\n                    className={clsx('w-100 border rounded', errors?.startDate && 'border-danger')}\n                    appendTo={document.body}\n                    style={{ height: '46px', width: '230px', overflow: 'hidden' }}\n                    panelClassName=\"calendar-panel-higher-z\"\n                  />\n                  {errors?.startDate && <Form.Text className=\"error-message\">{errors?.startDate}</Form.Text>}\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group>\n                  <Form.Label className={styles.formLabel}>End Date & Time<span className=\"required\">*</span></Form.Label>\n                  <Calendar\n                    value={endDate}\n                    dateFormat=\"dd/mm/yy\"\n                    locale=\"en\"\n                    onChange={(e) => {\n                      setEndDate(e.value);\n                    }}\n                    onSelect={() => {\n                      document.body.click();\n                    }}\n                    onClear={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    onTodayButtonClick={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    showTime\n                    stepMinute={15}\n                    showIcon\n                    showButtonBar\n                    todayButtonClassName=\"p-button-sm p-button-outlined\"\n                    clearButtonClassName=\"p-button-sm p-button-outlined p-button-danger\"\n                    icon={<Calendar3 color='#667085' size={20} />}\n                    className={clsx('w-100 border rounded', errors?.endDate && 'border-danger')}\n                    appendTo={document.body}\n                    style={{ height: '46px', width: '230px', overflow: 'hidden' }}\n                    panelClassName=\"calendar-panel-higher-z\"\n                  />\n                  {errors?.endDate && <Form.Text className=\"error-message\">{errors?.endDate}</Form.Text>}\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Add Guests<span className=\"required\">*</span></Form.Label>\n              <AutoComplete\n                ref={autoCompleteRef}\n                value={guests}\n                completeMethod={search}\n                onChange={(e) => {\n                  setGuests(e.value);\n                }}\n                multiple\n                suggestions={filteredEmails}\n                onClick={onFocus}\n                onFocus={onFocus}\n                onKeyUp={onInputChange}\n                onBlur={(e) => {\n                  const currentValue = e.target.value.trim();\n                  if (currentValue) {\n                    setGuests((prev) => [...new Set([...prev, currentValue])]);\n                    e.target.value = '';\n                  }\n                }}\n                className={clsx(styles.AutoComplete, \"w-100\", errors?.guests && styles.borderDanger)}\n                placeholder=\"Add guests\"\n              />\n              {errors?.guests && <Form.Text className=\"error-message\">{errors?.guests}</Form.Text>}\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Location</Form.Label>\n              <Form.Control\n                type=\"text\"\n                className='border outline-none'\n                placeholder=\"Enter physical location (optional)\"\n                value={eventLocation}\n                onChange={(e) => setEventLocation(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Meeting Link</Form.Label>\n              <Form.Control\n                type=\"text\"\n                className='border outline-none'\n                placeholder=\"Enter meeting link (Zoom, Teams, etc.)\"\n                value={meetLink}\n                onChange={(e) => setMeetLink(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Description<span className=\"required\">*</span></Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                className={clsx('border outline-none', errors?.eventDescription && 'border-danger')}\n                placeholder=\"Enter event description\"\n                value={eventDescription}\n                onChange={(e) => setEventDescription(e.target.value)}\n              />\n              {errors?.eventDescription && <Form.Text className=\"error-message\">{errors?.eventDescription}</Form.Text>}\n            </Form.Group>\n\n            <div className=\"d-flex justify-content-end gap-2 mt-4 border-top pt-4\">\n              <Button className=\"outline-button\" variant=\"secondary\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button className=\"solid-button\" variant=\"primary\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? (\n                  <>\n                    <ProgressSpinner style={{ width: '20px', height: '20px', marginRight: '8px' }} />\n                    Sending...\n                  </>\n                ) : (\n                  'Send via Email'\n                )}\n              </Button>\n            </div>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default SendToCalendar;\n","// extracted by mini-css-extract-plugin\nexport default {\"chatButton\":\"start-chat_chatButton__cwbTm\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { io } from 'socket.io-client';\nimport { toast } from 'sonner';\nimport style from './start-chat.module.scss';\nimport { useAuth } from '../../../../../../app/providers/auth-provider';\n\nconst StartChat = ({ projectId, project }) => {\n    const socketRef = useRef(null);\n    const { session } = useAuth();\n    const navigate = useNavigate();\n    const user_id = session?.desktop_user_id;\n    const [isConnected, setIsConnected] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        // Connect to socket.io server\n        const socket = io(process.env.REACT_APP_CHAT_API_URL, {\n            transports: ['websocket'],\n            autoConnect: true,\n        });\n        socketRef.current = socket;\n\n        if (!user_id) return;\n\n        socket.emit('register_user', { user_id, org_id: session?.organization?.id }, (res) => {\n            if (res.status === 'success') {\n                setIsConnected(true);\n                console.log('User registered successfully');\n            } else {\n                toast.error('Failed to connect to chat server');\n            }\n        });\n    }, [user_id, session]);\n\n    const handleStartChat = () => {\n        if (!user_id) return;\n        if (!socketRef.current) return toast.error('Failed to start chat');\n\n        if (socketRef.current) {\n            setLoading(true);\n            socketRef.current.emit('create_chat_group', {\n                user_id: user_id,\n                name: project?.reference,\n                participants: [],\n                project_id: projectId,\n                job_id: null\n            },\n                (res) => {\n                    if (res.status === 'success' && res.chat_group_id) {\n                        setLoading(false);\n                        navigate(`/chat?id=${res.chat_group_id}`);\n                    } else {\n                        setLoading(false);\n                        console.log(\"Error during creation chat group: \", res);\n                        toast.error(\"Failed to create chat group\");\n                    }\n                }\n            );\n        }\n    };\n\n    return (\n        <Button className={clsx(style.chatButton, 'text-nowrap')} disabled={loading || !socketRef.current || !isConnected} onClick={handleStartChat}>\n            {loading && <ProgressSpinner style={{ width: '20px', height: '20px', marginRight: '8px' }} />}\n            Start Chat\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n                <g opacity=\"0.4\">\n                    <path d=\"M1.66663 11.3082V6.32484C1.66663 4.02484 3.53329 2.1665 5.83329 2.1665H14.1666C16.4666 2.1665 18.3333 4.02484 18.3333 6.32484V12.1415C18.3333 14.4332 16.4666 16.2915 14.1666 16.2915H12.9166C12.6583 16.2915 12.4083 16.4165 12.25 16.6248L11 18.2832C10.45 19.0165 9.54996 19.0165 8.99996 18.2832L7.74996 16.6248C7.61663 16.4415 7.31663 16.2915 7.08329 16.2915H5.83329C3.53329 16.2915 1.66663 14.4332 1.66663 12.1415V11.3082Z\" fill=\"#1D2939\" />\n                    <path d=\"M1.66663 11.3082V6.32484C1.66663 4.02484 3.53329 2.1665 5.83329 2.1665H14.1666C16.4666 2.1665 18.3333 4.02484 18.3333 6.32484V12.1415C18.3333 14.4332 16.4666 16.2915 14.1666 16.2915H12.9166C12.6583 16.2915 12.4083 16.4165 12.25 16.6248L11 18.2832C10.45 19.0165 9.54996 19.0165 8.99996 18.2832L7.74996 16.6248C7.61663 16.4415 7.31663 16.2915 7.08329 16.2915H5.83329C3.53329 16.2915 1.66663 14.4332 1.66663 12.1415V11.3082Z\" fill=\"url(#paint0_linear_16871_70907)\" />\n                </g>\n                <path d=\"M14.1667 7.7915H5.83337C5.49171 7.7915 5.20837 7.50817 5.20837 7.1665C5.20837 6.82484 5.49171 6.5415 5.83337 6.5415H14.1667C14.5084 6.5415 14.7917 6.82484 14.7917 7.1665C14.7917 7.50817 14.5084 7.7915 14.1667 7.7915Z\" fill=\"#292D32\" />\n                <path d=\"M14.1667 7.7915H5.83337C5.49171 7.7915 5.20837 7.50817 5.20837 7.1665C5.20837 6.82484 5.49171 6.5415 5.83337 6.5415H14.1667C14.5084 6.5415 14.7917 6.82484 14.7917 7.1665C14.7917 7.50817 14.5084 7.7915 14.1667 7.7915Z\" fill=\"url(#paint1_linear_16871_70907)\" />\n                <path d=\"M10.8334 11.9585H5.83337C5.49171 11.9585 5.20837 11.6752 5.20837 11.3335C5.20837 10.9918 5.49171 10.7085 5.83337 10.7085H10.8334C11.175 10.7085 11.4584 10.9918 11.4584 11.3335C11.4584 11.6752 11.175 11.9585 10.8334 11.9585Z\" fill=\"#292D32\" />\n                <path d=\"M10.8334 11.9585H5.83337C5.49171 11.9585 5.20837 11.6752 5.20837 11.3335C5.20837 10.9918 5.49171 10.7085 5.83337 10.7085H10.8334C11.175 10.7085 11.4584 10.9918 11.4584 11.3335C11.4584 11.6752 11.175 11.9585 10.8334 11.9585Z\" fill=\"url(#paint2_linear_16871_70907)\" />\n                <defs>\n                    <linearGradient id=\"paint0_linear_16871_70907\" x1=\"1.66663\" y1=\"2.1665\" x2=\"18.3333\" y2=\"18.8332\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor=\"#89F7FE\" />\n                        <stop offset=\"1\" stopColor=\"#66A6FF\" />\n                    </linearGradient>\n                    <linearGradient id=\"paint1_linear_16871_70907\" x1=\"5.20837\" y1=\"6.5415\" x2=\"5.52901\" y2=\"8.99968\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor=\"#89F7FE\" />\n                        <stop offset=\"1\" stopColor=\"#66A6FF\" />\n                    </linearGradient>\n                    <linearGradient id=\"paint2_linear_16871_70907\" x1=\"5.20837\" y1=\"10.7085\" x2=\"5.68914\" y2=\"13.1123\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor=\"#89F7FE\" />\n                        <stop offset=\"1\" stopColor=\"#66A6FF\" />\n                    </linearGradient>\n                </defs>\n            </svg>\n        </Button>\n    );\n};\n\nexport default StartChat;","import { Placeholder } from 'react-bootstrap';\n\nconst CurrentJobAndExpenseLoading = () => {\n    return (\n        <tr>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '80%', height: '14px', position: 'relative', left: '-10px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n        </tr>\n    );\n};\n\nexport default CurrentJobAndExpenseLoading;","import { useState, useEffect, useRef } from 'react';\nimport { OverlayTrigger, Placeholder, Table, Tooltip } from 'react-bootstrap';\nimport {\n  X, CurrencyDollar, PencilSquare, FileEarmark, FilePdf, FileText, Link45deg, XCircle, Files, Reply, Check2Circle, CardChecklist, ListCheck, PhoneVibrate,\n  Envelope,\n  Tag,\n  Postcard,\n  PlusCircle,\n  PauseCircle,\n  Copy,\n  Briefcase as BriefcaseIcon,\n  FolderSymlink\n} from \"react-bootstrap-icons\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { Column } from 'primereact/column';\nimport { DataTable } from 'primereact/datatable';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport AddNote from './add-note';\nimport CancelProject from './cancel-project/cancel-project';\nimport ComposeEmail from './compose-email/compose-email';\nimport FilesModel from './files-management/files-model';\nimport GoogleReviewEmail from './google-review/google-review';\nimport InvoiceCreate from './invoice-create/invoice-create';\nimport MailchimpIntegration from './mailchimp/mailchimp-integration';\nimport NewTask from './new-task';\nimport ProjectCardFilter from './project-card-filter';\nimport ScheduleUpdate from './schedule-update';\nimport SelectStatus from './select-status';\nimport SendSMS from './send-sms/send-sms';\nimport SendToCalendar from './send-to-calendar';\nimport StartChat from './start-chat/start-chat';\nimport CurrentJobAndExpenseLoading from './ui/current-job-and-expense-loading';\nimport JobStatus from './ui/job-status/job-status';\nimport { getClientById } from '../../../../../APIs/ClientsApi';\nimport { createInvoiceById, ProjectCardApi, projectsComplete, projectsOrderDecline, projectsToSalesUpdate, updateCostBreakDownDescription, updateProjectReferenceById } from \"../../../../../APIs/management-api\";\nimport { fetchduplicateData } from '../../../../../APIs/SalesApi';\nimport Briefcase from \"../../../../../assets/images/icon/briefcase.svg\";\nimport ExpenseIcon from \"../../../../../assets/images/icon/ExpenseIcon.svg\";\nimport useSocket from '../../../../../shared/hooks/use-socket';\nimport { formatAUD } from '../../../../../shared/lib/format-aud';\nimport ImageAvatar from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport CreateJob from '../../../../Work/features/create-job/create-job';\nimport NewExpensesCreate from '../../../features/expenses-features/new-expenses-create/new-expense-create';\n\n\n\nconst ProjectCardModel = ({ viewShow, setViewShow, projectId, project, statusOptions, reInitialize }) => {\n  const navigate = useNavigate();\n  const { socket, isConnected } = useSocket();\n  const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n  const [isDuplicating, setIsDuplicating] = useState(false);\n  const [isFetching, setIsFetching] = useState(true);\n  const [cardData, setCardData] = useState(null);\n  const [isEditingReference, setIsEditingReference] = useState(false);\n  const [editedReference, setEditedReference] = useState('');\n  const [expenseJobsMapping, setExpenseJobsMapping] = useState([]);\n  const [filteredHistory, setFilteredHistory] = useState([]);\n  const [filteredHistoryOptions, setFilteredHistoryOptions] = useState([]);\n  const [showCostBreakdown, setShowCostBreakdown] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [createExpenseVisible, setCreateExpenseVisible] = useState(false);\n  const [showCancelConfirmation, setShowCancelConfirmation] = useState(false);\n\n  // Fetch client data once for all child components\n  const clientQuery = useQuery({\n    queryKey: ['getClientById', cardData?.client],\n    queryFn: () => getClientById(cardData?.client),\n    enabled: !!cardData?.client,\n    retry: 1,\n  });\n\n  // Build contact persons list from client data\n  const contactPersons = [\n    ...(clientQuery?.data?.contact_persons || []),\n    ...(clientQuery?.data?.email ? [{ email: clientQuery?.data?.email }] : [])\n  ];\n\n  //Real Cost Calculation\n  const cs = parseFloat(cardData?.cost_of_sale) || 0;\n  const le = parseFloat(cardData?.labor_expense) || 0;\n  const oe = parseFloat(cardData?.operating_expense) || 0;\n  const RealCost = cs + le + oe;\n  const formattedRealCost = parseFloat(RealCost).toFixed(2);\n\n  const handleClose = () => {\n    setViewShow(false);\n    reInitialize();\n  };\n\n  const handleEditReference = () => {\n    setIsEditingReference(true);\n    setEditedReference(cardData?.reference || '');\n  };\n\n  const handleReferenceChange = (e) => {\n    setEditedReference(e.target.value);\n  };\n\n  const projectCardData = async (uniqueId) => {\n    setIsFetching(true);\n    try {\n      const data = await ProjectCardApi(uniqueId);\n      if (data?.detail === 'Not found.') throw new Error('Project card not found');\n      setCardData(data);\n    } catch (error) {\n      console.error('Error fetching project card data:', error);\n      toast.error(`Failed to fetch project card data. Please try again.`);\n      setViewShow(false);\n      setCardData(null);\n    } finally {\n      setIsFetching(false);\n    }\n  };\n\n  const duplicateSale = async () => {\n    try {\n      if (!projectId) return toast.error(\"Project id not found\");\n      setIsDuplicating(true);\n      await fetchduplicateData(projectId);\n      navigate('/sales');\n      toast.success('Sale has been successfully duplicated');\n    } catch (error) {\n      console.error('Error is duplicating:', error);\n      toast.error(`Failed to duplicate sale. Please try again.`);\n    } finally {\n      setIsDuplicating(false);\n    }\n  };\n\n  const referencemutation = useMutation({\n    mutationFn: (data) => updateProjectReferenceById(projectId, data),\n    onSuccess: () => {\n      setCardData(prevData => ({\n        ...prevData,\n        reference: editedReference\n      }));\n    },\n    onError: (error) => {\n      console.error('Error creating task:', error);\n    }\n  });\n\n  const handleSaveReference = async () => {\n    setIsEditingReference(false);\n    await referencemutation.mutateAsync({ reference: editedReference });\n    await createInvoiceById(projectId);\n  };\n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp * 1000);\n    const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };\n    const dayOptions = { weekday: 'short' };\n    const timeString = new Intl.DateTimeFormat('en-US', timeOptions).format(date);\n    const dayString = new Intl.DateTimeFormat('en-US', dayOptions).format(date);\n    const day = date.getDate();\n    const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n      month: \"short\",\n    }).format(date);\n    const year = date.getFullYear();\n    const dateString = `${day} ${monthAbbreviation} ${year}`;\n    return `${timeString} | ${dayString} | ${dateString}`;\n  };\n\n  const updateReturnMutation = useMutation({\n    mutationFn: (data) => projectsToSalesUpdate(data),\n    onSuccess: (response) => {\n      if (response) {\n        navigate('/sales');\n      } else {\n        toast.error(`Failed to update sendBack to sales. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error updating sendBack to sales:', error);\n      toast.error(`Failed to update sendBack to sales. Please try again.`);\n    }\n  });\n\n  const declinecOrderMutation = useMutation({\n    mutationFn: (data) => projectsOrderDecline(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        toast.success('Order has been successfully cancelled');\n      } else {\n        toast.error(`Failed to cancel the order. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error declining the order:', error);\n      toast.error(`Failed to decline the order. Please try again.`);\n    }\n  });\n\n  const completeMutation = useMutation({\n    mutationFn: (data) => projectsComplete(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        toast.success('Project has been successfully completed');\n      } else {\n        toast.error(`Failed to complete the project. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error completing the project:', error);\n      toast.error(`Failed to complete the project. Please try again.`);\n    }\n  });\n\n  const createInvoiceMutation = useMutation({\n    mutationFn: (data) => createInvoiceById(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        projectCardData(projectId);\n        toast.success('Invoice has been successfully created');\n      } else {\n        toast.error(`Failed to create the invoice. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error creating the invoice:', error);\n      toast.error(`Failed to create the invoice. Please try again.`);\n    }\n  });\n\n  const handleCompleteProject = () => {\n    if (socket && isConnected) {\n      completeMutation.mutate(projectId);\n      socket.emit('archive_chat_by_project', { project_id: projectId });\n    } else {\n      console.error('Socket is not connected');\n      toast.error('Unable to delete chat. Please try again.');\n    }\n  };\n\n  const createInvoice = () => {\n    createInvoiceMutation.mutate(projectId);\n  };\n\n  const declinecOrder = () => {\n    setShowCancelConfirmation(true);\n  };\n\n  const canReturn = (isReturn) => {\n    if (isReturn) return;\n    updateReturnMutation.mutate(projectId);\n  };\n\n  const confirmCancelOrder = async () => {\n    setShowCancelConfirmation(false);\n    declinecOrderMutation.mutate(projectId);\n  };\n\n  useEffect(() => {\n    if (filteredHistoryOptions?.length) {\n      let histories = cardData?.history?.filter((history) => filteredHistoryOptions.includes(history.type));\n      setFilteredHistory(histories || []);\n    } else {\n      setFilteredHistory(cardData?.history);\n    }\n  }, [filteredHistoryOptions, cardData?.history]);\n\n  useEffect(() => {\n    if (cardData) {\n      let expensesWithType = cardData?.expenses?.map(item => ({ ...item, type: 'expense' }));\n      let jobsWithType = cardData?.jobs?.map(item => ({ ...item, type: 'job' }));\n      let mix = [...expensesWithType, ...jobsWithType];\n      let sortedMix = mix.sort((a, b) => parseInt(b.created) - parseInt(a.created));\n      setExpenseJobsMapping(sortedMix);\n      setFilteredHistory(cardData?.history || []);\n    }\n  }, [cardData]);\n\n  useEffect(() => {\n    if (projectId && viewShow) projectCardData(projectId);\n    window.history.pushState({}, '', '/management');\n  }, [projectId, viewShow]);\n\n  const parseEmailData = (text) => {\n    const lines = text.split(\"\\n\");\n\n    // Extract and clean the subject\n    const subject = lines.find((line) => line.startsWith(\"Subject:\"))?.replace(\"Subject: \", \"\") || \"\";\n\n    // Extract and clean the recipients\n    const rawRecipients = lines.find((line) => line?.startsWith(\"Recipient(s):\"))?.replace(\"Recipient(s): \", \"\") || [];\n    const recipients = JSON.parse(rawRecipients?.length && rawRecipients?.replace(/'/g, '\"')); // Replace single quotes with double quotes\n\n    // Extract the body\n    const body = text.split(\"Body:\")[1]?.trim();\n\n    return { subject, recipients, body };\n  };\n\n  const EmailComponent = ({ emailData }) => {\n    const [showFullBody, setShowFullBody] = useState(false);\n    const [isOverflowing, setIsOverflowing] = useState(false);\n\n    const emailBodyRef = useRef(null); // Ref to measure the height of the content\n\n    const email = parseEmailData(emailData);\n\n    // Process email body lines, splitting by paragraph or newlines\n    const bodyLines = email.body?.split(/<\\/p>\\s*<p>|<br\\s*\\/?>|\\n/)?.map(\n      (line, idx) => `<p key=${idx}>${line?.trim()}</p>`\n    );\n\n    const visibleBody = bodyLines?.join(\"\");\n\n    useEffect(() => {\n      if (emailBodyRef.current) {\n        const bodyHeight = emailBodyRef.current.scrollHeight;\n        setIsOverflowing(bodyHeight > 90); // Check if the content exceeds 100px\n      }\n    }, [visibleBody]);\n\n    return (\n      <div>\n        <ul className=\"d-flex flex-column align-items-start\">\n          <li className=\"font-12\">\n            <strong className=\"font-12\">Subject:</strong>&nbsp; {email.subject}\n          </li>\n          <li>\n            <strong className=\"font-12\">Recipients:</strong>&nbsp;\n            <ul>\n              {email?.recipients?.length && email?.recipients?.map((recipient, index) => (\n                <li className=\"font-12\" key={index}>\n                  {recipient}\n                </li>\n              ))}\n            </ul>\n          </li>\n        </ul>\n        <div>\n          <div\n            ref={emailBodyRef}\n            style={{\n              maxHeight: showFullBody ? \"none\" : \"87px\",\n              overflowY: \"hidden\",\n              overflowX: showFullBody ? \"auto\" : \"hidden\"\n            }}\n            dangerouslySetInnerHTML={{ __html: visibleBody }}\n          />\n          {isOverflowing && (\n            <button\n              className=\"text-button font-12 px-0\"\n              onClick={() => setShowFullBody(!showFullBody)}\n            >\n              {showFullBody ? \"Show Less\" : \"Load More\"}\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const updateCostBreakDownMutation = useMutation({\n    mutationFn: (data) => updateCostBreakDownDescription(projectId, data),\n    onSuccess: () => {\n      toast.success('Cost breakdown updated successfully');\n    },\n    onError: (error) => {\n      console.error('Error creating task:', error);\n      toast.error('Failed to update cost breakdown');\n      projectCardData(projectId);\n    }\n  });\n\n  const handleCostBreakdown = (id, description) => {\n    updateCostBreakDownMutation.mutate({ id, description });\n  };\n\n  const ConstBreakDownTextArea = (rowData) => {\n    const [description, setDescription] = useState(rowData.description);\n    const [isEditing, setIsEditing] = useState(false);\n\n    useEffect(() => {\n      if (isEditing) {\n        document.getElementById(`cost-breakdown-${rowData.id}`)?.focus();\n      }\n    }, [isEditing, rowData.id]);\n\n    return (<div className='d-flex'>\n      <textarea rows={1} className=\"auto-expand\" style={{ background: 'transparent', border: '0px solid #fff', fontSize: '14px', minHeight: '50px' }}\n        value={description}\n        id={`cost-breakdown-${rowData.id}`}\n        onChange={(e) => { setDescription(e.target.value); }}\n        disabled={!isEditing}\n        onInput={(e) => {\n          e.target.style.height = 'auto';\n          e.target.style.height = `${e.target.scrollHeight}px`;\n        }}\n        onFocus={(e) => {\n          e.target.style.height = 'auto';\n          e.target.style.height = `${e.target.scrollHeight}px`;\n          e.target.style.border = '1px solid #dedede';\n          e.target.style.background = '#fff';\n        }}\n        onBlur={(e) => {\n          e.target.style.height = '50px';\n          e.target.style.border = '0px solid #fff';\n          e.target.style.background = 'transparent';\n          handleCostBreakdown(rowData.id, description);\n          setIsEditing(false);\n        }}\n        onClick={(e) => {\n          e.target.style.height = 'auto';\n          e.target.style.height = `${e.target.scrollHeight}px`;\n        }}\n      ></textarea>\n      {updateCostBreakDownMutation?.isPending && updateCostBreakDownMutation?.variables?.id === rowData.id ?\n        <ProgressSpinner style={{ width: '20px', height: '20px' }} />\n        : <PencilSquare size={16} color='#106B99'\n          onClick={() => setIsEditing(true)}\n          style={{ cursor: 'pointer', marginLeft: '8px' }} />\n      }\n    </div>\n    );\n  };\n\n  const handleCopy = () => {\n    if (cardData?.calculator_descriptions?.length) {\n      let allDescriptions = cardData?.calculator_descriptions?.map(item => `- ${item.description}`).join('\\n');\n      navigator.clipboard.writeText(allDescriptions);\n      toast.success('Copied to clipboard');\n    }\n  };\n\n  return (\n    <>\n      {/* Main Project Card Modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"projectCardModel\"\n        onHide={handleClose}\n        animation={false}\n        enforceFocus={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 justify-content-between \">\n          <div className=\"modelHeader\" style={{ flex: '1', maxWidth: \"calc(100% - 350px)\" }}>\n            <ul className='d-flex align-items-center'>\n              <li className='me-1 d-flex align-items-center'>\n                <strong className='dollorIcon' style={{\n                  background: !cardData?.invoice_created ? '#F9FAFB'\n                    : cardData?.payment_status === 'paid' ? '#F2FDEC'\n                      : cardData?.payment_status === 'not_paid' ? \"#FEF3F2\"\n                        : \"#FFFAEB\"\n                }}><CurrencyDollar size={13} color={\n                  !cardData?.invoice_created ? '#667085'\n                    : cardData?.payment_status === 'paid' ? '#17B26A'\n                      : cardData?.payment_status === 'not_paid' ? \"#F04438\"\n                        : \"#B54708\"\n                } /></strong>\n                {\n                  isFetching ? (\n                    <Placeholder as=\"span\" animation=\"wave\" className=\"ms-2 me-2\">\n                      <Placeholder xs={12} bg=\"secondary\" size='md' style={{ width: '120px' }} />\n                    </Placeholder>\n                  ) : <span className='cardId text-nowrap'>{cardData?.number} &nbsp;</span>\n                }\n              </li>\n              <li className='refrencesTag mt-1' style={{ width: \"calc(100% - 120px)\" }}>\n                Reference:&nbsp;\n                {isFetching ? (\n                  <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '120px', height: '20px' }} />\n                  </Placeholder>\n                ) : isEditingReference ? (\n                  <input\n                    type=\"text\"\n                    value={editedReference}\n                    onChange={handleReferenceChange}\n                    onBlur={handleSaveReference}\n\n                    className='border rounded w-100'\n                    style={{ maxWidth: \"calc(100% - 120px)\" }}\n                  />\n                ) : (\n                  <>\n                    {\n                      referencemutation.isPending\n                        ? <div className=\"dot-flashing ms-5 mt-1\"></div>\n                        : <>\n                          <small className='ellipsis-width' style={{ color: '#1D2939', fontSize: '16px', maxWidth: \"calc(100% - 220px)\" }}> {cardData?.reference}</small>\n                          <span> <PencilSquare size={16} color='#106B99' onClick={handleEditReference} style={{ cursor: 'pointer' }} /></span>\n                        </>\n                    }\n                  </>\n                )}\n              </li>\n            </ul>\n          </div>\n          <div className='d-flex align-items-center' style={{ gap: '15px' }}>\n            <MailchimpIntegration\n              projectId={projectId}\n              hasIntegratedMailchimp={cardData?.mailchimp}\n              contactPersons={contactPersons}\n              reInitialize={() => projectCardData(projectId)}\n            />\n            <GoogleReviewEmail\n              projectId={projectId}\n              contactPersons={contactPersons}\n              hasGoogleReviewEmailSend={cardData?.google_review}\n              reInitialize={() => projectCardData(projectId)}\n            />\n            <Link to={`/api/v1/project-card/${projectId}/pdf/`} target='_blank'>\n              <Button variant=\"light\" className='rounded-circle px-2' title='Project Card'><Postcard color=\"#344054\" size={20} /></Button>\n            </Link>            <Link to={`/api/v1/sales/${projectId}/label/`} target='_blank' title='Label'>\n              <Button variant=\"light\" className='rounded-circle px-2'><Tag color=\"#344054\" size={20} /></Button>\n            </Link>\n\n            <div className='selectButStatus'>\n              {\n                isFetching ? (\n                  <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '120px', height: '20px' }} />\n                  </Placeholder>\n                ) : (<SelectStatus projectId={projectId} statusOptions={statusOptions} custom_status={cardData?.custom_status} />)\n              }\n            </div>\n            <button className='CustonCloseModal' onClick={handleClose}>\n              <X size={24} color='#667085' />\n            </button>\n          </div>\n        </Modal.Header>\n        <Modal.Body className='p-0'>\n          <div className=\"ContactModel\">\n            <Row className=\"text-left mt-0 projectCardMain\">\n              <Col sm={6} className='orderDiscription'>\n                <div className='d-flex justify-content-between align-items-center w-100'>\n                  <strong>Order Description</strong>\n                  <Copy size={16} color='#106B99' onClick={handleCopy} style={{ cursor: 'pointer' }} />\n                </div>\n                <div className='customScrollBar'>\n                  {\n                    isFetching ? (<>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                    </>\n                    ) : (\n                      <ul>\n                        {cardData?.calculator_descriptions?.length ? (\n                          cardData?.calculator_descriptions?.map(({ description }, index) => (\n                            <li key={index}>- {description}</li>\n                          ))\n                        ) : (\n                          <li>No Description available</li>\n                        )}\n                      </ul>\n                    )\n                  }\n                </div>\n                <div className='currentJobsTable'>\n                  <h5>Current Jobs / Expense for this order</h5>\n                  <Table responsive>\n                    <thead style={{ position: \"sticky\", top: \"0px\", zIndex: 9 }}>\n                      <tr>\n                        <th className='border-right'>#</th>\n                        <th>Reference</th>\n                        <th>Provider</th>\n                        <th>Estimate/Total</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {\n                        isFetching ? (\n                          <>\n                            <CurrentJobAndExpenseLoading />\n                            <CurrentJobAndExpenseLoading />\n                            <CurrentJobAndExpenseLoading />\n                            <CurrentJobAndExpenseLoading />\n                          </>\n                        ) : expenseJobsMapping?.length ? (\n                          expenseJobsMapping?.map((data, index) => (\n                            <tr key={data.number || `je-${index}`}>\n                              <td className='border-right'>\n                                {\n                                  data?.type === 'job' ? (\n                                    <Link to={`/work/jobs?jobId=${data?.id}`} className='linkText' target='_blank'>\n                                      {data?.number}\n                                    </Link>\n                                  ) : (\n                                    <Link to={`/expenses?expenseId=${data?.id}&supplierName=${data?.supplier?.name}`} className='linkText' target='_blank'>\n                                      {data?.number}\n                                    </Link>\n                                  )\n                                }\n                              </td>\n                              <td>\n                                <div className='ellipsis-width'>\n                                  {data?.type === 'job'\n                                    ? data?.reference || \"-\"\n                                    : data?.invoice_reference || \"-\"}\n                                </div>\n                              </td>\n                              <td>\n                                <OverlayTrigger\n                                  key={'top'}\n                                  placement={'top'}\n                                  overlay={\n                                    <Tooltip className='TooltipOverlay' id={`tooltip-${top}`}>\n                                      {\n                                        data?.type === 'job'\n                                          ? data?.worker?.full_name || \"\"\n                                          : data?.supplier?.name || \"\"\n                                      }\n                                    </Tooltip>\n                                  }\n                                >\n                                  <div className='mx-auto d-flex align-items-center justify-content-center ps-2' style={{ width: 'fit-content' }}>\n                                    {\n                                      data?.type === 'job'\n                                        ? (<ImageAvatar has_photo={data?.worker?.has_photo} photo={data?.worker?.photo} is_business={false} size={16} />)\n                                        : (<ImageAvatar has_photo={data?.supplier?.has_photo} photo={data?.supplier?.photo} is_business={true} size={16} />)\n                                    }\n                                  </div>\n                                </OverlayTrigger>\n                              </td>\n                              <td>${formatAUD(data?.total) || \"-\"}</td>\n                              <td className='status'>\n                                {data?.type === 'job'\n                                  ? <JobStatus status={data?.status} actionStatus={data?.action_status} published={data?.published} />\n                                  : <span className={data?.paid ? 'paid' : 'unpaid'}>\n                                    {data?.paid ? 'Paid' : 'Not Paid'}\n                                  </span>}\n                              </td>\n                            </tr>\n                          ))\n                        ) : (\n                          <tr>\n                            <td colSpan={5} className='noDataAvilable text-center'> No data available</td>\n                          </tr>\n                        )}\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n              <Col sm={6} className='projectHistoryCol'>\n                <Row>\n                  <Col className='tabModelMenu d-flex justify-content-between align-items-center p-0' >\n                    <AddNote projectId={projectId} projectCardData={projectCardData} />\n                    <NewTask project={project} reInitialize={reInitialize} projectCardData={() => projectCardData(projectId)} />\n                    <SendSMS projectId={projectId} projectCardData={() => projectCardData(projectId)} />\n                    <ComposeEmail projectId={projectId} projectCardData={() => projectCardData(projectId)} contactPersons={contactPersons} />\n                  </Col>\n                  <Col className='d-flex justify-content-center align-items-center filter'  >\n                    <ProjectCardFilter setFilteredHistoryOptions={setFilteredHistoryOptions} />\n                  </Col>\n                </Row>\n                <Row className='projectHistoryWrap'>\n                  <Col className='p-0' >\n                    <h3>Project History</h3>\n                    {\n                      isFetching ? (\n                        <>\n                          {Array.from({ length: 10 }, (_, index) => (\n                            <Placeholder\n                              key={`history-key-${index + 1}`}\n                              as=\"p\"\n                              animation=\"wave\"\n                              className={index % 2 === 0 ? \"mb-0 mt-1\" : \"mb-3 mt-1\"}\n                            >\n                              <Placeholder\n                                xs={12}\n                                bg=\"secondary\"\n                                className=\"rounded-0\"\n                                size='sm'\n                                style={{\n                                  width: index % 2 === 0 ? '200px' : '90%',\n                                  height: index % 2 === 0 ? '15px' : '10px'\n                                }}\n                              />\n                            </Placeholder>\n                          ))}\n                        </>\n                      ) : (\n                        <div className='projectHistoryScroll'>\n                          {filteredHistory?.length ? (\n                            filteredHistory?.map(({ id, type, text, title, created, manager, links }, index) => (\n                              <div className='projectHistorygroup' key={`history-${id || index}`}>\n                                <ul>\n                                  <li>\n                                    {type === \"quote\" ? (\n                                      <>\n                                        <div className='d-flex align-items-center'>\n                                          <FileEarmark size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Quote &nbsp;</strong>\n                                          &nbsp;{links?.quote_pdf && <Link to={`${links?.quote_pdf || \"#\"}`} target='_blank'><FilePdf color='#FF0000' size={14} /></Link>}\n                                          &nbsp;&nbsp;{projectId && title === \"Quote Created\" && <Link to={`/quote/${projectId}`} target='_blank'><Link45deg color='#3366CC' size={16} /></Link>}\n                                        </div>\n                                      </>\n\n                                    ) : type === \"task\" ? (\n                                      <>\n                                        <>\n                                          <Check2Circle size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Task</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"order\" ? (\n                                      <>\n                                        <>\n                                          <Check2Circle size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Order</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"note\" ? (\n                                      <>\n                                        <>\n                                          <CardChecklist size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Note</strong>\n                                        </>\n                                      </>\n                                    ) : type === \"tag\" ? (\n                                      <>\n                                        <>\n                                          <ListCheck size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Tag</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"invoice\" ? (\n                                      <>\n                                        <div className='d-flex align-items-center'>\n                                          <FileText size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Invoice&nbsp;</strong>\n                                          &nbsp;{links?.invoice_pdf && <Link to={`${links?.invoice_pdf || \"#\"}`} target='_blank'><FilePdf color='#FF0000' size={14} /></Link>}\n                                          &nbsp;&nbsp;{projectId && title === \"Invoice Created\" && <Link to={`/invoice/${projectId}`} target='_blank'><Link45deg color='#3366CC' size={16} /></Link>}\n                                        </div>\n                                      </>\n\n                                    ) : type === \"billing\" ? (\n                                      <>\n                                        <>\n                                          <PhoneVibrate size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Billing</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"email\" ? (<>\n                                      <Envelope size={16} color=\"#1AB2FF\" />{\" \"}\n                                      <strong>&nbsp; Email</strong>\n                                    </>) : type === \"job\" ? (<>\n                                      <BriefcaseIcon size={16} color=\"#1AB2FF\" />{\" \"}\n                                      <strong>&nbsp; Job</strong>\n                                    </>) : type === \"expense\" ? (<>\n                                      <FolderSymlink size={16} color=\"#1AB2FF\" />{\" \"}\n                                      <strong>&nbsp; Expense</strong>\n                                    </>) : (\n                                      ''\n                                    )}\n                                  </li>\n\n                                </ul>\n                                <h5 style={{ whiteSpace: \"pre-line\" }}>{type !== \"email\" && title || \"\"}</h5>\n                                {\n                                  type === \"email\" && title !== 'Google review sent' ? <EmailComponent emailData={text} />\n                                    :\n                                    <h6 style={{ whiteSpace: \"pre-line\" }} dangerouslySetInnerHTML={{ __html: text }} />\n                                }\n                                <p>{formatTimestamp(created)} by {manager}</p>\n                              </div>\n                            ))\n                          ) : (\n                            <p>No history available</p>\n                          )}\n                        </div>\n                      )\n                    }\n\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n            <Row className='projectCardButWrap'>\n              <Col>\n                <ScheduleUpdate key={projectId} projectId={projectId} projectCardData={projectCardData} isFetching={isFetching} startDate={+cardData?.booking_start} endDate={+cardData?.booking_end} />\n                <Button className='expense expActive text-nowrap' onClick={() => setCreateExpenseVisible(true)}>Create Expense <img src={ExpenseIcon} alt=\"Expense\" /></Button>\n                {/* <Button className='createPo poActive'>Create PO  <img src={CreatePoIcon} alt=\"CreatePoIcon\" /></Button> */}\n                {\n                  profileData?.has_work_subscription && <>\n                    <Button className='createJob jobActive text-nowrap' onClick={() => setVisible(true)}>Create a Job <img src={Briefcase} alt=\"briefcase\" /></Button>\n                  </>\n                }\n                <FilesModel projectId={projectId} />\n                <SendToCalendar projectId={projectId} project={cardData} projectCardData={projectCardData} />\n                <StartChat projectId={projectId} project={cardData} />\n              </Col>\n            </Row>\n            <Row className='projectCardCalculation'>\n              <Col className='proCostSale projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Cost Of Sale</h5>\n                  <p>${formatAUD(cardData?.cost_of_sale)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <PlusCircle size={20} color='#344054' />\n                </div>\n              </Col>\n              <Col className='proLabour projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Labour</h5>\n                  <p>${formatAUD(cardData?.labor_expense)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <PlusCircle size={20} color='#344054' />\n                </div>\n              </Col>\n              <Col className='proOperatingExpense projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Operating Expense</h5>\n                  <p>${formatAUD(cardData?.operating_expense)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n                    <path d=\"M4.16675 8H15.8334M4.16675 13H15.8334\" stroke=\"#344054\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                </div>\n              </Col>\n              <Col className='proRealCost projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Real Cost</h5>\n                  <p>${formatAUD(formattedRealCost)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <span className='font-14'>VS</span>\n                </div>\n              </Col>\n              <Col className='proBuget projectColBg'>\n                <div>\n                  <h5>Budget</h5>\n                  <p>${formatAUD(cardData?.budget)}</p>\n                </div>\n              </Col>\n            </Row>\n            <Row className='projectCardactionBut'>\n              <Col className='actionLeftSide' style={{ position: 'relative' }}>\n                <CancelProject\n                  show={showCancelConfirmation}\n                  onClose={() => setShowCancelConfirmation(false)}\n                  onConfirm={confirmCancelOrder}\n                  isLoading={declinecOrderMutation.isPending}\n                />\n                <Button onClick={declinecOrder} disabled={!cardData?.can_be_declined || declinecOrderMutation.isPending} className='declineAction'>\n                  <XCircle size={20} color='#912018' /> Cancel Project\n                  {\n                    declinecOrderMutation.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n                <Button disabled={isDuplicating} className='duplicateAction' onClick={duplicateSale}>\n                  <Files size={20} color='#0A4766' className='me-1' />\n                  <span style={{ position: 'relative', top: '2px' }}>Duplicate</span> {isDuplicating && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '6px' }} />}\n                </Button>\n                <Button disabled={!cardData?.can_be_return} onClick={() => canReturn(!cardData?.can_be_return)} className='sendBackAction'>\n                  <Reply size={20} color='#344054' opacity={!cardData?.can_be_return ? .5 : 1} />\n                  Send Back to Sales\n                  {\n                    updateReturnMutation.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n              </Col>\n              <Col className='actionRightSide'>\n                <InvoiceCreate isCreated={cardData?.invoice_created} projectId={projectId} isLoading={createInvoiceMutation?.isPending} create={() => createInvoice(projectId)} projectCardData={() => projectCardData(projectId)} contactPersons={contactPersons} />\n\n                {/* <Button className='InvoiceAction InvoiceActive me-3' >\n                  Invoice  <img src={InvoicesIcon} alt=\"Invoices\" />\n                  {createInvoiceMutation?.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />}\n                </Button> */}\n\n                {/* <Button className='ProgressAction'>Progress Invoice  <img src={InvoicesIcon} alt=\"Invoices\" /></Button> */}\n\n                <Button onClick={handleCompleteProject} disabled={!cardData?.can_be_completed} className='CompleteActionBut'>\n                  Complete & Archive\n                  {\n                    completeMutation?.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n              </Col>\n            </Row>\n            <Row className='projectBreakdown px-0 pb-0'>\n              <Col sm={12} className='px-0'>\n                <Button className='mb-2' onClick={() => setShowCostBreakdown(!showCostBreakdown)}>{!showCostBreakdown ? 'Show' : 'Hide'} Cost breakdown</Button>\n                {\n                  showCostBreakdown &&\n                  <>\n                    <DataTable value={cardData?.calculations || []} showGridlines className=\"border-top\">\n                      <Column field=\"id\" header=\"Order\" bodyClassName='text-center' headerClassName='text-center' style={{ width: '60px' }} body={(_, options) => options.rowIndex + 1}></Column>\n                      <Column field=\"subindex\" header=\"Department\" style={{ minWidth: '192px' }} body={(rowData) => <div className=\"ellipsis-width\" title={rowData.subindex} style={{ maxWidth: '192px' }}>{rowData.subindex}</div>}></Column>\n                      <Column field=\"description\" header=\"Description\"\n                        body={ConstBreakDownTextArea}\n                        style={{ width: '100%' }}\n                      ></Column>\n                      <Column field=\"cost\" header=\"Cost\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.cost)}`}></Column>\n                      <Column field=\"profit_type_value\" header=\"Markup/Margin\" body={(rowData) => `${rowData.profit_type_value} ${rowData.profit_type === \"AMN\" ? \"AMT $\" : rowData.profit_type === \"MRG\" ? \"MRG %\" : \"MRK %\"}`} style={{ width: '100%' }}></Column>\n                      <Column field=\"unit_price\" header=\"Unit Price\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.unit_price)}`}></Column>\n                      <Column field=\"quantity\" header=\"Qty/Unit\" style={{ width: '100%' }}></Column>\n                      <Column field=\"discount\" header=\"Discount\" style={{ width: '100%' }} body={(rowData) => `${rowData.discount}%`}></Column>\n                      <Column field=\"total\" header=\"Amount\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.total)}`}></Column>\n                    </DataTable>\n                    <div className='w-100 d-flex align-items-center justify-content-end gap-4' style={{ background: '#EBF8FF', padding: '8px 24px 8px 40px' }}>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Sub Total</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.sub_total)}</p>\n                      </div>\n                      <div>\n                        <PlusCircle size={20} color='#106B99' />\n                      </div>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Tax</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.gst)}</p>\n                      </div>\n                      <div>\n                        <div>\n                          <PauseCircle size={20} color='#106B99' style={{ transform: 'rotate(90deg)' }} />\n                        </div>\n                      </div>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Total Invoice Amount</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.total)}</p>\n                      </div>\n                    </div>\n                  </>\n                }\n              </Col>\n            </Row>\n          </div>\n        </Modal.Body>\n      </Modal>\n      <CreateJob visible={visible} setVisible={setVisible} setRefetch={() => projectCardData(projectId)} jobProjectId={visible ? project?.value : \"\"} projectReference={visible ? project?.reference : \"\"} />\n      <NewExpensesCreate visible={createExpenseVisible} setVisible={setCreateExpenseVisible} setRefetch={() => projectCardData(projectId)} expenseProjectId={project?.value} projectReference={project?.reference} />\n    </>\n  );\n};\n\nexport default ProjectCardModel;","\nimport { useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { fetchTasksRead } from '../../../../../APIs/TasksApi';\nimport CreateTask from '../../../../Work/features/task/create-task/create-task';\n\nconst ViewTask = ({ view, setView, taskId, setTaskId, reInitialize }) => {\n  const { data, refetch, isFetching } = useQuery({\n    queryKey: ['task', taskId],\n    queryFn: () => fetchTasksRead(taskId),\n    enabled: !!taskId,\n    retry: 1,\n  });\n\n  useEffect(() => {\n    if (taskId) {\n      refetch({ cancelRefetch: false });\n    }\n  }, [taskId, refetch]);\n\n  return (\n    <>\n      {view && <CreateTask show={view} setShow={setView} taskId={taskId} setTaskId={setTaskId} defaultValue={data} refetch={reInitialize} refetchTask={refetch} isFetching={isFetching} />}\n    </>\n  );\n};\n\nexport default ViewTask;","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Button, Dropdown, Spinner } from \"react-bootstrap\";\nimport { CalendarWeek, Filter, SortDown } from \"react-bootstrap-icons\";\nimport clsx from \"clsx\";\nimport { MultiSelect } from \"primereact/multiselect\";\nimport { initDaypilot, reInitializeData } from \"./utils\";\nimport { getVehicleReminders } from \"../../../../../APIs/assets-api\";\nimport { getManagement } from \"../../../../../APIs/management-api\";\nimport { getHolidaysList, ProjectStatusesList } from \"../../../../../APIs/SettingsGeneral\";\nimport { useAuth } from \"../../../../../app/providers/auth-provider\";\nimport { useTrialHeight } from \"../../../../../app/providers/trial-height-provider\";\nimport CreateJob from \"../../../../Work/features/create-job/create-job\";\nimport ViewJob from \"../../../../Work/features/view-job/view-job\";\nimport ProjectCardModel from \"../project-card/project-card-model\";\nimport { colorMapping } from \"../project-card/select-status\";\nimport CreateTaskFeature from \"../task/create-task\";\nimport ViewTask from \"../task/view-task\";\n\n\nconst CALENDAR_ID = \"calender\";\nfunction EventScheduler() {\n  const { session } = useAuth();\n  const hasWorkSubscription = session?.has_work_subscription || false;\n  const timeoutRef = useRef(null);\n  const { trialHeight } = useTrialHeight();\n  const [search, setSearch] = useState(\"\");\n  const [management, setManagement] = useState([]);\n  const [show, setShow] = useState(false);\n  const [view, setView] = useState(false);\n  const [viewProjectModel, setViewProjectModel] = useState(false);\n  const [isReinitialize, setIsReinitialize] = useState(false);\n  const [statusOptions, setStatusOptions] = useState([]);\n  const [taskId, setTaskId] = useState(null);\n  const [projectId, setProjectId] = useState(null);\n  const [projectDetails, setProjectDetails] = useState({});\n  const [filterBy, setFilterBy] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"\");\n  const [statusBy, seStatusBy] = useState(\"\");\n  const [visible, setVisible] = useState(false);\n  const [jobProjectId, setJobProjectId] = useState(null);\n  const [viewJob, setViewJob] = useState({ visible: false, jobId: null });\n  const [editMode, setEditMode] = useState(false);\n\n  // show project model from invoice\n  const url = window.location.href;\n  const urlObj = new URL(url);\n  const params = new URLSearchParams(urlObj.search);\n  const unique_id = params.get('unique_id');\n  if (unique_id && !projectId) {\n    setProjectId(unique_id);\n\n    const reference = params.get('reference');\n    const number = params.get('number');\n    const value = params.get('value');\n    setProjectDetails({ number: number || \"\", reference, value: value });\n    setViewProjectModel(true);\n  }\n\n\n  function viewTaskDetails(id, isJob = false, projectDetails) {\n    if (isJob) {\n      const type = projectDetails.type;\n      if (type === 'job') {\n        setViewJob({ visible: true, jobId: projectDetails.job.id });\n      } else {\n        setProjectId(id);\n        setProjectDetails(projectDetails);\n        setViewProjectModel(true);\n      }\n    } else {\n      setTaskId(id);\n      setView(true);\n    }\n  }\n\n  const fetchData = async () => {\n    try {\n      const data = await ProjectStatusesList();\n      setStatusOptions([...data]);\n    } catch (error) {\n      console.error(\"Error fetching project status data:\", error);\n    }\n  };\n\n  const getHolidays = async () => {\n    try {\n      const holidays = await getHolidaysList();\n      const vehiclesReminders = await getVehicleReminders();\n      const vehiclesResponse = vehiclesReminders?.results?.map((item) => ({\n        title: `${item?.label} - ${item?.vehicle?.make} ${item?.vehicle?.model}`,\n        date: item?.due_on,\n        type: 'vehicle_reminder'\n      }));\n      const response = [...holidays, ...vehiclesResponse];\n      return response;\n    } catch (error) {\n      console.error(\"Error fetching holidays:\", error);\n      return [];\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // This useEffect for open create model\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (!(e.target instanceof HTMLSelectElement)) {\n        if (e.target.closest('.createJobButton')) {\n          const projectId = e.target.getAttribute('project-id');\n          setJobProjectId(projectId);\n          setVisible(true);\n        }\n\n        if (e.target.closest('.job-resource-child')) {\n          const jobId = e.target.closest('.job-resource-child').getAttribute('job-id');\n          setViewJob({ visible: true, jobId: jobId });\n        }\n\n        if (e.target.closest('.create-task-button')) {\n          const number = e.target.getAttribute('number');\n          const reference = e.target.getAttribute('reference');\n          const projectId = e.target.getAttribute('project-id');\n\n          setProjectDetails({ number, reference, value: projectId });\n          setShow(true);\n        } else if (e.target.closest('.task-list')) {\n          const taskId = e.target.closest('.task-list').getAttribute('task-id');\n          console.log('task-list: ....', taskId);\n          if (taskId) viewTaskDetails(taskId);\n        } else if (e.target.closest(\".project-content\")) {\n          const uniqueId = e.target.closest('.project-content').getAttribute('unique-id');\n          const number = e.target.closest('.project-content').getAttribute('number');\n          const reference = e.target.closest('.project-content').getAttribute('reference');\n          const projectId = e.target.closest('.project-content').getAttribute('project-id');\n\n          console.log('uniqueId: ....', uniqueId);\n          setProjectId(uniqueId);\n          setProjectDetails({ number, reference, value: projectId });\n          setViewProjectModel(true);\n        }\n      }\n    };\n    document.addEventListener('click', handleClick);\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, []);\n\n  // Listen for global search result events to open project modal\n  useEffect(() => {\n    const handleSearchResult = (event) => {\n      const { type, item } = event.detail;\n      if (type === 'project') {\n        setProjectId(item.unique_id || item.id);\n        setProjectDetails({ \n          number: item.number || \"\", \n          reference: item.reference || \"\",\n          value: item.id \n        });\n        setViewProjectModel(true);\n      }\n    };\n\n    window.addEventListener('openSearchResult', handleSearchResult);\n    return () => {\n      window.removeEventListener('openSearchResult', handleSearchResult);\n    };\n  }, []);\n\n  const reInitialize = async () => {\n    try {\n      setIsReinitialize(true);\n      const response = await getManagement();\n      setManagement(response);\n      if (search) searchData(search, response);\n      else reInitializeData(response, hasWorkSubscription);\n      setIsReinitialize(false);\n    } catch (error) {\n      console.error(\"Error initializing DayPilot:\", error);\n    }\n  };\n\n  useEffect(() => {\n    const daypilotScript = document.createElement(\"script\");\n    daypilotScript.src =\n      \"/daypilot-all.min.js\";\n    daypilotScript.id = \"daypilot-script-ele\";\n\n    const handleError = () => {\n      console.error(\"Failed to load DayPilot script.\");\n    };\n\n    const handleLoad = async () => {\n      try {\n        const response = await getManagement();\n        const holidays = await getHolidays();\n        setManagement(response);\n        initDaypilot(CALENDAR_ID, response, viewTaskDetails, reInitialize, hasWorkSubscription, holidays);\n      } catch (error) {\n        console.error(\"Error initializing DayPilot:\", error);\n      }\n    };\n\n    daypilotScript.addEventListener('error', handleError);\n    daypilotScript.addEventListener('load', handleLoad);\n\n    document.body.appendChild(daypilotScript);\n\n    return () => {\n      daypilotScript.removeEventListener('error', handleError);\n      daypilotScript.removeEventListener('load', handleLoad);\n      if (document.body.contains(daypilotScript)) {\n        document.body.removeChild(daypilotScript);\n      }\n    };\n  }, []);\n\n  const handleViewTask = () => {\n    console.log('handleViewTask: ');\n  };\n\n  useEffect(() => {\n    const taskList = document.querySelector(\".task-list\");\n    if (taskList) {\n      let taskId = taskList.getAttribute('task-id');\n      console.log('taskId: ', taskId);\n      taskList.addEventListener(\"click\", handleViewTask());\n    }\n\n    return () => {\n      if (taskList) {\n        let taskId = taskList.getAttribute('task-id');\n        console.log('taskId: ', taskId);\n        taskList.removeEventListener(\"click\", handleViewTask);\n      }\n    };\n  }, []);\n\n  const searchData = (search, newData) => {\n    const managementData = newData || management;\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    timeoutRef.current = setTimeout(() => {\n      let filteredResponse = managementData.filter((data) => {\n        if (\n          (data?.number?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.reference?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.client?.name.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n        ) return true;\n        else return false;\n      });\n      reInitializeData(filteredResponse || [], hasWorkSubscription);\n    }, 600);\n  };\n\n  const applyFiltersAndSort = useCallback(() => {\n    let filteredData = [...management];\n\n    // Apply filters\n    if (filterBy === \"Not Invoiced\") {\n      filteredData = filteredData.filter((item) => !item.is_invoice_created);\n    } else if (filterBy === \"Not Booked\") {\n      filteredData = filteredData.filter((item) => !item.booking_start);\n    } else if (filterBy === \"Not Paid\") {\n      filteredData = filteredData.filter((item) => item.paid !== \"PAID\");\n    }\n\n    // Apply sorting\n    if (sortBy === \"Date Due\") {\n      filteredData.sort((a, b) => new Date(a.booking_end * 1000) - new Date(b.booking_end * 1000));\n    } else if (sortBy === \"Date Accepted\") {\n      filteredData.sort((a, b) => new Date(a.booking_start * 1000) - new Date(b.booking_start * 1000));\n    } else if (sortBy === \"Job Number\") {\n      filteredData.sort((a, b) => a.number.localeCompare(b.number));\n    } else if (sortBy === \"Order Status\") {\n      filteredData.sort((a, b) => (a?.custom_status?.title || \"\").localeCompare(b?.custom_status?.title || \"\"));\n    }\n\n    // Apply status filter\n    if (statusBy?.length > 0) {\n      const status = statusBy.map((option) => option.id);\n      filteredData = filteredData.filter((item) => status.includes(item?.custom_status?.id));\n    }\n\n    // Apply search\n    if (search) {\n      filteredData = filteredData.filter((data) => {\n        if (\n          (data?.number?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.reference?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.client?.name.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n        ) return true;\n        else return false;\n      });\n    }\n\n    reInitializeData(filteredData, hasWorkSubscription);\n  }, [management, filterBy, sortBy, search, hasWorkSubscription, statusBy]);\n\n  useEffect(() => {\n    applyFiltersAndSort();\n  }, [filterBy, sortBy, search, applyFiltersAndSort, statusBy]);\n\n  const handleFilterChange = (filter) => {\n    setFilterBy(filter);\n  };\n\n  const handleSortChange = (sort) => {\n    setSortBy(sort);\n  };\n\n  const handleSearch = (e) => {\n    const search = e.target.value;\n    setSearch(search);\n  };\n\n  return <React.Fragment>\n    <div className=\"topbar bottom-border\" style={{ padding: '0px 20px', position: 'relative' }}>\n      <div className='left-side d-flex align-items-center' style={{ gap: '12px' }}>\n        <div className=\"searchBox\" style={{ position: 'relative' }}>\n          <div style={{ position: 'absolute', top: '2px', left: '6px' }}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n              <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n            </svg>\n          </div>\n          <input type=\"text\" placeholder=\"Search\" onChange={handleSearch} className=\"border search-resource\" style={{ borderRadius: '4px', border: '1px solid #D0D5DD', width: '184px', color: '#424242', paddingLeft: '36px', fontSize: '14px', height: '32px' }} />\n        </div>\n\n        <div className=\"d-flex gap-1 justify-content-end align-items-center\" style={{ position: 'absolute', left: '4px', top: '56px', zIndex: 1000 }}>\n          <Dropdown>\n            <Dropdown.Toggle as={Button} className={clsx(\"outline-button mx-auto\")} style={{ padding: \"6px 16px\", position: \"relative\" }}>\n              <span className=\"font-14 d-flex align-items-center\">\n                <SortDown size={16} color=\"#667085\" className=\"me-1\" />\n                <div className=\"ellipsis-width\" style={{ maxWidth: '55px', color: '#424242', fontWeight: 400 }} title={sortBy}>{sortBy || <span style={{ color: '#667085' }}>Sort By</span>}</div>\n              </span>\n              {sortBy && (\n                <span\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleSortChange(\"\");\n                  }}\n                  style={{\n                    position: \"absolute\",\n                    right: \"8px\",\n                    top: \"50%\",\n                    transform: \"translateY(-50%)\",\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"16px\",\n                    height: \"16px\",\n                    borderRadius: \"50%\",\n                    backgroundColor: \"#F2F4F7\",\n                    marginLeft: \"8px\"\n                  }}\n                >\n                  <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M9 3L3 9M3 3L9 9\" stroke=\"#667085\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                </span>\n              )}\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n              <Dropdown.Item key={\"Date Due\"} eventKey={\"Date Due\"} active={sortBy === \"Date Due\"} onClick={() => handleSortChange(\"Date Due\")}>\n                Date Due\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Date Accepted\"} eventKey={\"Date Accepted\"} active={sortBy === \"Date Accepted\"} onClick={() => handleSortChange(\"Date Accepted\")}>\n                Date Accepted\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Job Number\"} eventKey={\"Job Number\"} active={sortBy === \"Job Number\"} onClick={() => handleSortChange(\"Job Number\")}>\n                Job Number\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Order Status\"} eventKey={\"Order Status\"} active={sortBy === \"Order Status\"} onClick={() => handleSortChange(\"Order Status\")}>\n                Order Status\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n\n          <Dropdown>\n            <Dropdown.Toggle as={Button} className={clsx(\"outline-button mx-auto\")} style={{ padding: \"6px 16px\", position: \"relative\" }}>\n              <span className=\"font-14 d-flex align-items-center\">\n                <CalendarWeek size={16} color=\"#667085\" className=\"me-1\" />\n                <div className=\"ellipsis-width\" style={{ maxWidth: '55px', color: '#424242', fontWeight: 400 }} title={filterBy}>{filterBy || <span style={{ color: '#667085' }}>Filter By</span>}</div>\n              </span>\n              {filterBy && (\n                <span\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleFilterChange(\"\");\n                  }}\n                  style={{\n                    position: \"absolute\",\n                    right: \"8px\",\n                    top: \"50%\",\n                    transform: \"translateY(-50%)\",\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"16px\",\n                    height: \"16px\",\n                    borderRadius: \"50%\",\n                    backgroundColor: \"#F2F4F7\",\n                    marginLeft: \"8px\"\n                  }}\n                >\n                  <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M9 3L3 9M3 3L9 9\" stroke=\"#667085\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                </span>\n              )}\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n              <Dropdown.Item key={\"Not Invoiced\"} eventKey={\"Not Invoiced\"} active={filterBy === \"Not Invoiced\"} onClick={() => handleFilterChange(\"Not Invoiced\")}>\n                Not Invoiced\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Not Booked\"} eventKey={\"Not Booked\"} active={filterBy === \"Not Booked\"} onClick={() => handleFilterChange(\"Not Booked\")}>\n                Not Booked\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Not Paid\"} eventKey={\"Not Paid\"} active={filterBy === \"Not Paid\"} onClick={() => handleFilterChange(\"Not Paid\")}>\n                Not Paid\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n\n          <div style={{ position: 'relative', maxWidth: '113px' }}>\n            <div style={{ position: 'absolute', top: '3px', left: '12px', zIndex: 1 }}>\n              <Filter size={20} color=\"#667085\" />\n            </div>\n            <MultiSelect\n              value={statusBy}\n              options={statusOptions}\n              onChange={(e) => seStatusBy(e.value)}\n              optionLabel=\"title\"\n              placeholder=\"Status\"\n              maxSelectedLabels={0}\n              itemTemplate={(item) => {\n                return (<div className=\"d-flex align-items-center gap-2\" style={{ width: '250px' }}>\n                  <div className=\"w-100 p-2 rounded\" style={{ background: `${colorMapping[item?.color]?.bg}`, borderLeft: `4px solid ${colorMapping[item?.color]?.border}`, color: `${colorMapping[item?.color]?.color}` }}>\n                    <span className=\"ellipsis-width\" style={{ maxWidth: '250px' }}>{item.title}</span>\n                  </div>\n                </div>);\n              }}\n              filter\n              scrollHeight=\"400px\"\n              display=\"chip\"\n              showClear={true}\n              className=\"w-100 custom-multiselect management-multiselect\"\n              style={{ width: '184px', borderRadius: '40px', padding: '2px 8px', paddingLeft: '34px' }}\n            />\n          </div>\n        </div>\n\n      </div>\n\n      <div className=\"featureName\" style={{ position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)' }}>\n        <h1 className=\"title mx-0\">Project Management</h1>\n      </div>\n      <div className=\"right-side d-flex align-items-center\">\n\n      </div>\n    </div>\n\n    <div className={trialHeight && 'trial-height-added'}>\n      <div id={CALENDAR_ID}>\n        <div style={{ position: 'fixed', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </div>\n      </div>\n    </div>\n\n    <ViewTask view={view} setView={setView} taskId={taskId} setTaskId={setTaskId} reInitialize={reInitialize} />\n    <CreateTaskFeature show={show} setShow={setShow} project={projectDetails} reInitialize={reInitialize} />\n\n    <ProjectCardModel key={projectId} viewShow={viewProjectModel} setViewShow={setViewProjectModel} projectId={projectId} project={projectDetails} statusOptions={statusOptions} reInitialize={reInitialize} />\n    <CreateJob visible={visible} setVisible={setVisible} setRefetch={reInitialize} jobProjectId={jobProjectId} />\n    <ViewJob visible={viewJob?.visible} jobId={viewJob?.jobId} setVisible={(bool) => setViewJob((others) => ({ ...others, visible: bool }))} setRefetch={reInitialize} editMode={editMode} setEditMode={setEditMode} />\n\n    {\n      isReinitialize && <div style={{ position: 'absolute', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n      </div>\n    }\n  </React.Fragment>;\n}\n\nexport default EventScheduler;\n","import React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { EventScheduler } from \"./event-scheduler\";\n\nconst Management = () => {\n    return (\n        <>\n            <Helmet>\n                <title>MeMate - Management</title>\n            </Helmet>\n            <EventScheduler />\n        </>\n    );\n};\nexport default Management;","// extracted by mini-css-extract-plugin\nexport default {\"defaultStatus\":\"job-status_defaultStatus__emAxy\",\"status\":\"job-status_status__HXyT-\",\"DRAFT\":\"job-status_DRAFT__HqpDF\",\"OPEN\":\"job-status_OPEN__yb7zB\",\"ASSIGNED\":\"job-status_ASSIGNED__0WFAv\",\"CONFIRMED\":\"job-status_CONFIRMED__iTcji\",\"DECLINED\":\"job-status_DECLINED__2RC2+\",\"SUBMITTED\":\"job-status_SUBMITTED__GFRLu\",\"FINISHED\":\"job-status_FINISHED__RbfR-\",\"IN_PROGRESS\":\"job-status_IN_PROGRESS__BoR97\"};","import clsx from 'clsx';\nimport styles from './job-status.module.scss';\n\nconst JobStatus = ({ status, actionStatus, published }) => {\n    const getStatusLabel = (status, actionStatus, published=true) => {\n        if (!published) {\n            return { label: \"Draft\", className: \"DRAFT\", color: '#344054', backColor: '#f9fafb', borderColor: '#eaecf0' };\n        }\n\n        if (status === 'a' && actionStatus) {\n            return { label: \"In Progress\", className: \"IN_PROGRESS\", color: '#3D5AFE', backColor: '#EEF1FF', borderColor: '#C3CCFF' };\n        }\n\n        const statusMap = {\n            \"1\": { label: \"Open\", className: \"OPEN\", color: '#065b76', backColor: '#ecf7fd', borderColor: '#a9d6ef' },\n            \"2\": { label: \"Assigned\", className: \"ASSIGNED\", color: '#520676', backColor: '#f6ecfd', borderColor: '#dda9ef' },\n            \"3\": { label: \"Submitted\", className: \"SUBMITTED\", color: '#344054', backColor: '#f9fafb', borderColor: '#eaecf0' },\n            \"4\": { label: \"Finished\", className: \"FINISHED\", color: '#29B27C', backColor: '#BBFFE4', borderColor: '#BBFFE4' },\n            \"6\": { label: \"Declined\", className: \"DECLINED\", color: '#b42318', backColor: '#fef3f2', borderColor: '#fecdca' },\n            'a': { label: \"Confirmed\", className: \"CONFIRMED\", color: '#067647', backColor: '#ecfdf3', borderColor: '#a9efc5' },\n        };\n\n        return statusMap[status] || { label: status, className: \"defaultStatus\" };\n    };\n\n    return (\n        <div className={clsx(styles.status, styles[getStatusLabel(status, actionStatus, published).className])}>\n            {getStatusLabel(status, actionStatus, published).label}\n        </div>\n    );\n};\n\nexport default JobStatus;","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const draftSalesRequest = async (data) => {\n  const endpoint = `/sales/new-request/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const assignManagers = async (id, data) => {\n  const endpoint = `/sales/managers/${id}/`;\n  const options = {\n    method: 'POST',\n    body: {managers: data}\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const fetchSales = async () => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/`, requestOptions);\n    const result = await response.text();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\n\n// Sales Note Api\nexport const fetchSalesNotes = async (saleUniqueId, updatedNote) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify({ sales_note: updatedNote }),\n    redirect: 'follow',\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/notes/`, requestOptions);\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Sales notes update failed with status ${response.status}: ${errorText}`);\n    }\n\n    const result = await response.text();\n\n    const parsedResult = result.trim() ? JSON.parse(result) : null;\n\n    return parsedResult;\n  } catch (error) {\n    console.error('Sales notes update error:', error);\n    throw error;\n  }\n};\n\nexport const markWon = async (ids) => {\n  const endpoint = `/sales/status/won/`;\n  const options = {\n    method: 'PUT',\n    body: { ids: ids }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markLost = async (ids) => {\n  const endpoint = `/sales/status/lost/`;\n  const options = {\n    method: 'PUT',\n    body: { ids: ids }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\n// Sale Won Api\nexport const fetchWon = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  const raw = JSON.stringify({\n    \"ids\": [saleUniqueId]\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n  const response = await fetch(`${API_BASE_URL}/sales/status/won/`, requestOptions);\n  const result = await response.json();\n  return result[0];\n};\n\n\n// Sale Contact Api\nexport const fetchContacts = async (saleUniqueId, formData) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  const requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: JSON.stringify(formData),\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/contacts/`, requestOptions);\n    if (response.ok) {\n      return response;\n    } else {\n      console.log('Error:', response.status);\n      return null;\n    }\n  } catch (error) {\n    console.log('Error:', error);\n    return null;\n  }\n};\n\n\n// Sale Lead Api\nexport const fetchSaleslead = async (saleUniqueId, updatedLead) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify({ lead: updatedLead, unique_id: saleUniqueId }),\n    redirect: 'follow',\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/lead/`, requestOptions);\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Sales lead update failed with status ${response.status}: ${errorText}`);\n    }\n\n    const result = await response.text();\n\n    const parsedResult = result.trim() ? JSON.parse(result) : null;\n\n    return parsedResult;\n  } catch (error) {\n    console.error('Sales lead update error:', error);\n    throw error;\n  }\n};\n\n\n\n\n// Sale Multi Won Api\nexport const fetchMultipleData = async (selectedUniqueIds) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const raw = JSON.stringify({\n    \"ids\": selectedUniqueIds\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw, // Include the body here\n    redirect: \"follow\"\n  };\n\n  const responses = await Promise.all([\n    fetch(`${API_BASE_URL}/sales/status/won/`, requestOptions), // Pass requestOptions directly\n  ]);\n\n  const data = await Promise.all(responses.map(response => response.json()));\n  return data;\n};\n\n\n// Sale DUPLICATE Api\nexport const fetchduplicateData = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/duplicate/`, requestOptions);\n  const result = await response.json();\n  return result[0];\n};\n\n\n\n\n// Sale history Api\nexport const fetchhistoryData = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/history/`, requestOptions);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n\n\n\n\n// Sale Multi Lost Api\nexport const fetchMultipleLost = async (selectedUniqueIds) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const raw = JSON.stringify({\n    \"ids\": selectedUniqueIds\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw, // Include the body here\n    redirect: \"follow\"\n  };\n\n\n  const responses = await Promise.all([\n    fetch(`${API_BASE_URL}/sales/status/lost/`, requestOptions), // Pass requestOptions directly\n  ]);\n\n  const data = await Promise.all(responses.map(response => response.json()));\n  return data; // Return data to handleMoveToManagementWon function\n};\n\n\n\n\n\n","var _rect, _rect2, _path, _path2, _path3;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgAddNoteModeIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 41,\n    height: 40,\n    viewBox: \"0 0 41 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    fill: \"#BAE8FF\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    stroke: \"#EBF8FF\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.75 12.5C24.5784 12.5 25.25 13.1716 25.25 14V26C25.25 26.8284 24.5784 27.5 23.75 27.5H17.75C16.9216 27.5 16.25 26.8284 16.25 26V14C16.25 13.1716 16.9216 12.5 17.75 12.5H23.75ZM17.75 11C16.0931 11 14.75 12.3431 14.75 14V26C14.75 27.6569 16.0931 29 17.75 29H23.75C25.4069 29 26.75 27.6569 26.75 26V14C26.75 12.3431 25.4069 11 23.75 11H17.75Z\",\n    fill: \"#158ECC\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.75 26C21.5784 26 22.25 25.3284 22.25 24.5C22.25 23.6716 21.5784 23 20.75 23C19.9216 23 19.25 23.6716 19.25 24.5C19.25 25.3284 19.9216 26 20.75 26Z\",\n    fill: \"#158ECC\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.1481 14.0869C11.5143 14.2805 11.6542 14.7343 11.4606 15.1005C10.6879 16.5624 10.25 18.229 10.25 20C10.25 21.771 10.6879 23.4376 11.4606 24.8995C11.6542 25.2657 11.5143 25.7195 11.1481 25.9131C10.7819 26.1066 10.3281 25.9667 10.1345 25.6005C9.25032 23.9278 8.75 22.0212 8.75 20C8.75 17.9788 9.25032 16.0722 10.1345 14.3995C10.3281 14.0333 10.7819 13.8934 11.1481 14.0869ZM30.3519 14.0869C30.7181 13.8934 31.1719 14.0333 31.3655 14.3995C32.2497 16.0722 32.75 17.9788 32.75 20C32.75 22.0212 32.2497 23.9278 31.3655 25.6005C31.1719 25.9667 30.7181 26.1066 30.3519 25.9131C29.9857 25.7195 29.8458 25.2657 30.0394 24.8995C30.8121 23.4376 31.25 21.771 31.25 20C31.25 18.229 30.8121 16.5624 30.0394 15.1005C29.8458 14.7343 29.9857 14.2805 30.3519 14.0869ZM13.3352 16.3014C13.7211 16.4521 13.9117 16.887 13.761 17.2728C13.4313 18.1171 13.25 19.0365 13.25 20C13.25 20.9635 13.4313 21.8829 13.761 22.7272C13.9117 23.113 13.7211 23.5479 13.3352 23.6986C12.9494 23.8493 12.5145 23.6587 12.3638 23.2728C11.9673 22.2575 11.75 21.1532 11.75 20C11.75 18.8468 11.9673 17.7425 12.3638 16.7272C12.5145 16.3413 12.9494 16.1507 13.3352 16.3014ZM28.1648 16.3014C28.5506 16.1507 28.9855 16.3413 29.1362 16.7272C29.5327 17.7425 29.75 18.8468 29.75 20C29.75 21.1532 29.5327 22.2575 29.1362 23.2728C28.9855 23.6587 28.5506 23.8493 28.1648 23.6986C27.7789 23.5479 27.5883 23.113 27.739 22.7272C28.0687 21.8829 28.25 20.9635 28.25 20C28.25 19.0365 28.0687 18.1171 27.739 17.2728C27.5883 16.887 27.7789 16.4521 28.1648 16.3014Z\",\n    fill: \"#158ECC\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddNoteModeIcon);\nexport default __webpack_public_path__ + \"static/media/addNoteModeIcon.43bdc8582f3ef769329a44f15a05fe67.svg\";\nexport { ForwardRef as ReactComponent };","const API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasks = async (limit, offset) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> View Task API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksRead = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Update API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUpdate= async (mainData,taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify(mainData)\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task partials Update API  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const partialsTasksUpdate= async (taskId, data) => {\n  console.log('taskId: ', taskId);\n  console.log('data: ', data);\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'PATCH',\n    headers: myHeaders,\n    body: JSON.stringify(data),\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/update/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Partials update error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Task Create API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksNew = async (formData) => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: JSON.stringify(formData), // Serialize formData directly here\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/tasks/new/`, requestOptions);\n    const result = await response.text();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Project API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksProject = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/projects/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Fetch Task Uses API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksUsers = async () => {\n \n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/references/all-users/`, requestOptions);\n    const result = await response.json();\n    return result; // Return the result if needed\n  } catch (error) {\n    console.error(error);\n    throw error; // Rethrow the error if needed\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DELETE Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const fetchTasksDelete = async (taskId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'DELETE',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/tasks/delete/${taskId}/`);\n\n    const response = await fetch(url, requestOptions);\n    if (response.ok) \n    return { message: 'Task deleted successfully' };\n    else\n    throw new Error(\"Error during deleting\"); \n    \n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n\n\n// >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Complete Task  API >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nexport const TaskCompleteJob = async (taskId, finished) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const raw = JSON.stringify({\n    \"finished\": finished\n  });\n\n  const requestOptions = {\n    method: \"PATCH\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n\n  try {\n    const url = new URL(`${API_BASE_URL}/tasks/complete/${taskId}/`);\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Tasks fetch error:', error);\n    throw error;\n  }\n};\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfTasks = async (page, limit, search = \"\", order = \"\", isShowDeleted = false, showNotCompleted = false, userId) => {\n    const offset = (page - 1) * limit;\n    const endpoint = `/tasks/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n    if (search) url.searchParams.append(\"search\", search);\n    if (order) url.searchParams.append(\"ordering\", order);\n    if (isShowDeleted) url.searchParams.append('deleted', 1);\n    if (showNotCompleted === true) url.searchParams.append('finished', false);\n    if (showNotCompleted === false) url.searchParams.append('finished', true);\n    if (userId) url.searchParams.append('users', userId);\n\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getTask = async (id) => {\n    const endpoint = `/tasks/${id}/`;\n    const options = {\n        method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createNewTask = async (data) => {\n    const endpoint = '/tasks/new/';\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateTask = async (id, data) => {\n    const endpoint = `/tasks/update/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getUserList = async () => {\n    const endpoint = `/desktop-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getMobileUserList = async () => {\n    const endpoint = `/team/mobile-users/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getCommentsForTask = async (taskId) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createTaskComment = async (taskId, payload) => {\n    const endpoint = `/tasks/${taskId}/comments/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'POST',\n        body: payload,\n    });\n};\n\nexport const deleteTaskComment = async (commentId) => {\n    const endpoint = `/tasks/comments/${commentId}/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'DELETE',\n    });\n};\n\nexport const getCommentPresignedUrl = async (taskId, filename, attachmentType) => {\n    const endpoint = `/tasks/comments/presigned-url/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'POST',\n        body: { file_name: filename, task_id: taskId, attachment_type: attachmentType },\n    });\n};\n\nexport const updateTaskComment = async (commentId, payload) => {\n    const endpoint = `/tasks/comments/${commentId}/`;\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n\n    return fetchAPI(url.toString(), {\n        method: 'PUT',\n        body: payload,\n    });\n};","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-email_headerTitle__50KUB\",\"customLabel\":\"send-email_customLabel__r5xED\",\"templateInfo\":\"send-email_templateInfo__mWkVT\",\"bag\":\"send-email_bag__wtdwK\",\"lable\":\"send-email_lable__+kNCa\",\"dropdownSelect\":\"send-email_dropdownSelect__RY5w8\",\"autoCompleteBox\":\"send-email_autoCompleteBox__fWZ7C\",\"AutoComplete\":\"send-email_AutoComplete__m9YI5\",\"bcc\":\"send-email_bcc__BwFzl\",\"box\":\"send-email_box__Zlmer\",\"active\":\"send-email_active__vEx4h\",\"inputBox\":\"send-email_inputBox__NpU2b\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Modal, Row } from \"react-bootstrap\";\nimport { InfoCircle } from 'react-bootstrap-icons';\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport style from \"./send-email.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendDynamicEmailForm = ({ show, setShow, mutation, contactPersons, setPayload, defaultTemplateId, isAddingContact = false }) => {\n    const op = useRef(null);\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n\n    // Email validation function\n    const isValidEmail = useCallback((email) => {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email.trim());\n    }, []);\n\n    // Validate array of emails\n    const validateEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return true; // Empty array is valid\n        return emailArray.every(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Get invalid emails from array\n    const getInvalidEmails = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => !isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Clean email array by removing invalid emails\n    const cleanEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Validate and clean all email fields\n    const validateAndCleanAllEmails = useCallback(() => {\n        let hasErrors = false;\n        \n        // Check TO emails\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Found invalid TO emails:', invalidToEmails);\n                setTo(cleanEmailArray(to));\n                hasErrors = true;\n            }\n        }\n        \n        // Check CC emails\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Found invalid CC emails:', invalidCcEmails);\n                setCC(cleanEmailArray(cc));\n                hasErrors = true;\n            }\n        }\n        \n        // Check BCC emails\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Found invalid BCC emails:', invalidBccEmails);\n                setBCC(cleanEmailArray(bcc));\n                hasErrors = true;\n            }\n        }\n        \n        return !hasErrors; // Return true if no errors found\n    }, [to, cc, bcc, getInvalidEmails, cleanEmailArray]);\n\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n    const reset = () => {\n        setFrom([]);\n        setTo([]);\n        setCC([]);\n        setBCC([]);\n        setSubject([]);\n        setText([]);\n        setEmailTemplatedId(null);\n    };\n\n    const handleClose = () => {\n        setShow(false);\n        if (!defaultTemplateId) reset();\n    };\n\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n        enabled: !!show,\n    });\n\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n        enabled: !!show,\n    });\n\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n        enabled: !!show,\n    });\n\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n\n        if (!emailTemplateId && emailTemplateQuery?.data && defaultTemplateId) {\n            const activeTemplateId = emailTemplateQuery?.data?.find((template) => template.type === defaultTemplateId);\n            if (activeTemplateId) setEmailTemplatedId(activeTemplateId?.id);\n        }\n\n    }, [emailTemplateQuery, outgoingEmailTemplateQuery, defaultTemplateId, emailTemplateId]);\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        // First, validate and clean all email arrays\n        const allEmailsValid = validateAndCleanAllEmails();\n        if (!allEmailsValid) {\n            console.log('Some emails were invalid and have been cleaned');\n        }\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        } else if (!validateEmailArray(to)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(to);\n            console.log('Invalid TO emails:', invalidEmails);\n            setErrors((others) => ({ ...others, to: true, toInvalid: true, invalidToEmails: invalidEmails }));\n        }\n\n        if (cc.length > 0 && !validateEmailArray(cc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(cc);\n            console.log('Invalid CC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, cc: true, invalidCcEmails: invalidEmails }));\n        }\n\n        if (bcc.length > 0 && !validateEmailArray(bcc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(bcc);\n            console.log('Invalid BCC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, bcc: true, invalidBccEmails: invalidEmails }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n\n        mutation.mutate({\n            subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        });\n    };\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setTo((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length && validEmails.length > 0) {\n                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, cc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setBCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, bcc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    // Auto-clean invalid emails from arrays\n    useEffect(() => {\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Auto-cleaning invalid TO emails:', invalidToEmails);\n                const validEmails = cleanEmailArray(to);\n                setTo(validEmails);\n            }\n        }\n    }, [to, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Auto-cleaning invalid CC emails:', invalidCcEmails);\n                const validEmails = cleanEmailArray(cc);\n                setCC(validEmails);\n            }\n        }\n    }, [cc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Auto-cleaning invalid BCC emails:', invalidBccEmails);\n                const validEmails = cleanEmailArray(bcc);\n                setBCC(validEmails);\n            }\n        }\n    }, [bcc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n\n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    return (\n        <Modal\n            show={show}\n            centered\n            onHide={handleClose}\n            className='invoice-form'\n            size='lg'\n        >\n            <Modal.Header closeButton>\n                <div className={`${style.modalHeader}`}>\n                    <div className=\"w-100 d-flex align-items-center gap-2\">\n                        <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                            Send email\n                        </span>\n                    </div>\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <Row>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>FROM</label>\n                            <Dropdown\n                                options={\n                                    (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                        value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                        label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                    }])) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '60px' }}\n                                placeholder=\"Select from email\"\n                                onChange={(e) => {\n                                    setFrom(e.value);\n                                    setErrors((others) => ({ ...others, from: false }));\n                                }}\n                                value={from}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                        {errors?.from && (\n                            <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (emailTemplateQuery &&\n                                        emailTemplateQuery.data?.map((emailTemplate) => ({\n                                            value: emailTemplate.id,\n                                            label: `${emailTemplate.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setEmailTemplatedId(e.value);\n                                }}\n                                value={emailTemplateId}\n                                loading={emailTemplateQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                            <div className={style.templateInfo} onClick={(e) => op.current.toggle(e)}>\n                                <InfoCircle size={16} color='#737374ff' />\n                            </div>\n                            <OverlayPanel ref={op}>\n                                <p className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>Choose from your existing templates here.</p>\n                                <div className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>To edit or add new templates, go to<br /> Profile Settings &gt; Templates &gt; Email<br/> Templates.</div>\n                            </OverlayPanel>\n                        </div>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex gap-3 w-100\">\n                            <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>TO</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef}\n                                    value={to}\n                                    completeMethod={search}\n                                    onChange={(e) => {\n                                        setTo(e.value);\n                                        setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus}\n                                    onFocus={onFocus}\n                                    onKeyUp={onInputChange}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setTo((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, toInvalid: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"TO\"\n                                />\n                            </div>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showCC })}\n                                onClick={() => { setShowCC(!showCC); setCC([]); }}\n                            >\n                                CC\n                            </Button>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showBCC })}\n                                onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                            >\n                                BCC\n                            </Button>\n                        </div>\n                        {errors?.to && !errors?.toInvalid && (\n                            <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                        )}\n                        {errors?.toInvalid && (\n                            <div>\n                                <p className=\"error-message mb-0\">{\"Please enter valid email addresses for TO\"}</p>\n                                {errors?.invalidToEmails && errors.invalidToEmails.length > 0 && (\n                                    <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                        Invalid emails: {errors.invalidToEmails.join(', ')}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </Col>\n                    {\n                        showCC &&\n                        <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>CC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef2}\n                                    value={cc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setCC(e.value);\n                                        setErrors((others) => ({ ...others, cc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus2}\n                                    onFocus={onFocus2}\n                                    onKeyUp={onInputChange2}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, cc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, cc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"CC\"\n                                />\n                            </div>\n                            {errors?.cc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for CC\"}</p>\n                                    {errors?.invalidCcEmails && errors.invalidCcEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidCcEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n\n                    {\n                        showBCC && <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '60px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>BCC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef3}\n                                    value={bcc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setBCC(e.value);\n                                        setErrors((others) => ({ ...others, bcc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus3}\n                                    onFocus={onFocus3}\n                                    onKeyUp={onInputChange3}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, bcc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, bcc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                    placeholder=\"BCC\"\n                                />\n                            </div>\n                            {errors?.bcc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for BCC\"}</p>\n                                    {errors?.invalidBccEmails && errors.invalidBccEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidBccEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n                    <Col sm={12} className='mb-2'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>SUBJECT</label>\n                            <IconField>\n                                <InputIcon>\n                                    {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                </InputIcon>\n                                <InputText\n                                    value={subject}\n                                    className={clsx(style.inputBox, 'w-100')}\n                                    style={{ paddingLeft: '100px' }}\n                                    onChange={(e) => {\n                                        setSubject(e.target.value);\n                                        setErrors((others) => ({ ...others, subject: false }));\n                                    }}\n                                    placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                                />\n                            </IconField>\n                        </div>\n                        {errors?.subject && (\n                            <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                            <label className={clsx(style.lable)}>Message</label>\n                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <Editor\n                                style={{ minHeight: \"150px\" }}\n                                headerTemplate={header}\n                                value={text}\n                                placeholder='Enter a description...'\n                                onTextChange={(e) => {\n                                    setText(e.htmlValue);\n                                    setErrors((others) => ({ ...others, text: false }));\n                                }}\n                            />\n                        </div>\n                        {errors?.text && (\n                            <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12}>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Signature</label>\n                            <Dropdown\n                                options={\n                                    (signatureQuery &&\n                                        signatureQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                panelClassName='px880-dropdown-item'\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select signature\"\n                                onChange={(e) => {\n                                    setSignature(e.value);\n                                }}\n                                value={signature}\n                                loading={signatureQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-between'>\n                <span></span>\n                <div className=\"d-flex justify-content-end gap-2\">\n                    <Button className=\"outline-button\" onClick={handleClose}>\n                        Cancel{\" \"}\n                    </Button>\n                    <Button disabled={mutation?.isPending} className=\"solid-button\" onClick={onSubmit}>\n                        Send{\" \"}\n                        {(mutation?.isPending || isAddingContact) && (\n                            <ProgressSpinner\n                                style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default SendDynamicEmailForm;","import React, { useCallback, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { Calendar } from 'primereact/calendar';\nimport { ChevronLeftIcon } from 'primereact/icons/chevronleft';\nimport { ChevronRightIcon } from 'primereact/icons/chevronright';\nimport './date-range-picker-calendar.scss';\n\n/**\n * DateRangePickerCalendar - A Calendar component for selecting date ranges\n * \n * @param {Object} props - Component props\n * @param {Function} props.onDataApply - Callback when date range is applied ({ startDate, endDate })\n * @param {Object} props.dateRange - Initial date range { startDate, endDate }\n * @param {Function} props.onClose - Callback when picker is closed/cancelled\n * @param {string} props.className - Additional CSS classes\n */\nexport const DateRangePickerCalendar = ({\n    onDataApply,\n    dateRange,\n    onClose,\n    className = '',\n}) => {\n    const [dates, setDates] = useState(null);\n\n    // Initialize with provided dateRange\n    useEffect(() => {\n        if (dateRange?.startDate && dateRange?.endDate) {\n            const start = dateRange.startDate instanceof Date ? dateRange.startDate : new Date(dateRange.startDate);\n            const end = dateRange.endDate instanceof Date ? dateRange.endDate : new Date(dateRange.endDate);\n            setDates([start, end]);\n        }\n    }, [dateRange]);\n\n    // Handle Apply\n    const handleApply = useCallback(() => {\n        if (dates && dates.length === 2 && dates[0] && dates[1]) {\n            onDataApply({ startDate: dates[0], endDate: dates[1] });\n        } else if (dates && dates.length === 1 && dates[0]) {\n            // If only one date selected, use it as both start and end\n            onDataApply({ startDate: dates[0], endDate: dates[0] });\n        }\n    }, [dates, onDataApply]);\n\n    // Handle Cancel\n    const handleCancel = useCallback(() => {\n        setDates(null);\n        if (onClose) onClose();\n    }, [onClose]);\n\n    // Handle Today\n    const handleToday = useCallback(() => {\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        setDates([today, today]);\n    }, []);\n\n    // Custom footer template\n    const footerTemplate = useCallback(() => {\n        const hasValidRange = dates && dates.length >= 1 && dates[0];\n        \n        return (\n            <div className=\"date-range-footer\">\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-today\" \n                    onClick={handleToday}\n                >\n                    Today\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-cancel\" \n                    onClick={handleCancel}\n                >\n                    Cancel\n                </button>\n                <button \n                    type=\"button\" \n                    className=\"date-range-footer-btn date-range-footer-btn-apply\" \n                    onClick={handleApply}\n                    disabled={!hasValidRange}\n                >\n                    Apply\n                </button>\n            </div>\n        );\n    }, [dates, handleToday, handleCancel, handleApply]);\n\n    // Format selected range for display\n    const getHeaderText = useCallback(() => {\n        if (!dates || dates.length === 0) return 'Select date range';\n        \n        const options = { month: 'short', day: 'numeric', year: 'numeric' };\n        const start = dates[0]?.toLocaleDateString('en-US', options) || '';\n        const end = dates[1]?.toLocaleDateString('en-US', options) || '';\n        \n        if (start && end) {\n            return `${start} - ${end}`;\n        } else if (start) {\n            return `${start} - Select end date`;\n        }\n        return 'Select date range';\n    }, [dates]);\n\n    return (\n        <div className={clsx('date-range-picker-calendar', className)}>\n            <div className=\"date-range-header\">\n                <span className=\"date-range-header-text\">{getHeaderText()}</span>\n            </div>\n            <Calendar\n                value={dates}\n                onChange={(e) => setDates(e.value)}\n                selectionMode=\"range\"\n                inline\n                numberOfMonths={1}\n                locale=\"en\"\n                dateFormat=\"dd M yy\"\n                footerTemplate={footerTemplate}\n                firstDayOfWeek={1}\n                showButtonBar={false}\n                prevIcon={<ChevronLeftIcon />}\n                nextIcon={<ChevronRightIcon />}\n            />\n        </div>\n    );\n};\n\nexport default DateRangePickerCalendar;\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getStripeIntegrations = async () => {\n    const endpoint = `/settings/integrations/stripe/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const stripeIntegrationsSet = async (data) => {\n    const endpoint = '/settings/integrations/stripe/';\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const stripeIntegrationsDelete = async (data) => {\n    const endpoint = '/settings/integrations/stripe/disconnect/';\n    const options = {\n        method: 'DELETE',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getGoogleReviewIntegrations = async () => {\n    const endpoint = `/settings/integrations/google/review/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const googleReviewIntegrationsSet = async (data) => {\n    const endpoint = '/settings/integrations/google/review/';\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getTwilioIntegrations = async () => {\n    const endpoint = `/settings/integrations/twilio/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const twilioIntegrationsSet = async (data) => {\n    const endpoint = '/settings/integrations/twilio/';\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getEmailIntegrations = async () => {\n    const endpoint = `/references/outgoing-email/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const emailIntegrationsSet = async (data) => {\n    const endpoint = '/references/outgoing-email/';\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getXeroIntegrations = async () => {\n    const endpoint = '/xero/status/';\n    const options = {\n        method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const disconnectXeroIntegrations = async () => {\n    const endpoint = '/xero/disconnect/';\n    const options = {\n        method: 'POST'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const mailchimpIntegrationsSet = async (data) => {\n    const endpoint = '/settings/integrations/mailchimp/';\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const mailchimpIntegrationsDelete = async () => {\n    const endpoint = '/settings/integrations/mailchimp/disconnect/';\n    const options = {\n        method: 'DELETE'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getMailchimpLists = async () => {\n    const endpoint = '/settings/integrations/mailchimp/get-lists/';\n    const options = {\n        method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const addUserToMailchimpList = async (data) => {\n    const endpoint = '/settings/integrations/mailchimp/add-users/';\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const addUserToMailchimpListAndProjectCard = async (data, id) => {\n    const endpoint = `/settings/integrations/mailchimp/add-users/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};","import React, { useState, useRef } from 'react';\nimport { FileText, Image } from 'react-bootstrap-icons';\n\nexport function formatFileSize(size) {\n  if (size >= 1024 * 1024) return (size / (1024 * 1024)).toFixed(1) + ' MB';\n  if (size >= 1024) return (size / 1024).toFixed(1) + ' KB';\n  return size + ' B';\n}\n\nconst ChatAttachmentPopover = ({ onFileChange, styles }) => {\n  const [open, setOpen] = useState(false);\n  const buttonRef = useRef();\n  const popoverRef = useRef();\n\n  const handleClickOutside = (event) => {\n    const btn = buttonRef.current;\n    const pop = popoverRef.current;\n    if (!btn || !pop) return;\n    const clickedInsideTrigger = btn.contains(event.target);\n    const clickedInsidePopover = pop.contains(event.target);\n    if (!clickedInsideTrigger && !clickedInsidePopover) setOpen(false);\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <div style={{ position: 'relative', display: 'inline-block' }}>\n      <button\n        className={styles.attachButton}\n        type=\"button\"\n        aria-label=\"Attach file\"\n        ref={buttonRef}\n        onClick={() => setOpen((v) => !v)}\n        style={{ padding: '6px 6px 6px 8px' }}\n      >\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M18.0833 8.33333L9.16667 17.25C8.17221 18.2444 6.82407 18.8042 5.41667 18.8042C4.00926 18.8042 2.66112 18.2444 1.66667 17.25C0.672214 16.2556 0.112446 14.9074 0.112446 13.5C0.112446 12.0926 0.672214 10.7444 1.66667 9.75L10.5833 0.833329C11.2486 0.167998 12.1514 -0.149151 13.0833 0.0666624C14.0153 0.282476 14.8056 0.947998 15.25 1.83333C15.6944 2.71866 15.7361 3.75 15.3333 4.66666C14.9306 5.58333 14.1389 6.29166 13.1667 6.5L5.08333 14.5833C4.75 14.9167 4.31944 15.0833 3.83333 15.0833C3.34722 15.0833 2.91667 14.9167 2.58333 14.5833C2.25 14.25 2.08333 13.8194 2.08333 13.3333C2.08333 12.8472 2.25 12.4167 2.58333 12.0833L9.16667 5.5\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </svg>\n      </button>\n      {open && (\n        <div ref={popoverRef} className={styles.attachmentPopover} style={{ position: 'absolute', bottom: '40px', left: -200, zIndex: 20, minWidth: 220, background: '#fff', borderRadius: 8, boxShadow: '0 4px 24px rgba(16,24,40,0.18)', padding: 10 }}>\n          <label className={styles.attachmentLabel} style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', gap: 8, padding: '10px 6px' }}>\n            <input\n              type=\"file\"\n              style={{ display: 'none' }}\n              onChange={(e) => {\n                onFileChange(e);\n                setOpen(false);\n              }}\n              accept='.pdf, .doc, .docx, .txt'\n            />\n            <FileText size={16} color=\"#667085\" />\n            <span className=\"font-16\">Document</span>\n          </label>\n          <label className={styles.attachmentLabel} style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', gap: 8, padding: '10px 6px' }}>\n            <input\n              type=\"file\"\n              style={{ display: 'none' }}\n              onChange={(e) => {\n                onFileChange(e);\n                setOpen(false);\n              }}\n              accept='image/*'\n            />\n            <Image size={16} color=\"#667085\" />\n            <span className=\"font-16\">Photo </span>\n          </label>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatAttachmentPopover;\n","import {\n    FiletypeAac, FiletypeAi, FiletypeBmp, FiletypeCs, FiletypeCss, FiletypeCsv, FiletypeDoc, FiletypeDocx, FiletypeExe, FiletypeGif, FiletypeHeic, FiletypeHtml, FiletypeJava, FiletypeJpg, FiletypeJs, FiletypeJson, FiletypeJsx, FiletypeKey, FiletypeM4p, FiletypeMd, FiletypeMdx, FiletypeMov, FiletypeMp3, FiletypeMp4, FiletypeOtf, FiletypePdf, FiletypePhp, FiletypePng, FiletypePpt, FiletypePptx, FiletypePsd, FiletypePy, FiletypeRaw, FiletypeRb, FiletypeSass, FiletypeScss, FiletypeSh, FiletypeSql, FiletypeSvg, FiletypeTiff, FiletypeTsx, FiletypeTtf, FiletypeTxt, FiletypeWav, FiletypeWoff, FiletypeXls, FiletypeXlsx, FiletypeXml, FiletypeYml\n} from 'react-bootstrap-icons';\n\n\n// Map file extensions to their corresponding icon components and default colors\nconst extensionToIcon = {\n    aac: { icon: FiletypeAac, color: '#4CAF50' },\n    ai: { icon: FiletypeAi, color: '#FF9800' },\n    bmp: { icon: FiletypeBmp, color: '#00ADEF' },\n    cs: { icon: FiletypeCs, color: '#239120' },\n    css: { icon: FiletypeCss, color: '#1572B6' },\n    csv: { icon: FiletypeCsv, color: '#22A746' },\n    doc: { icon: FiletypeDoc, color: '#2368E1' },\n    docx: { icon: FiletypeDocx, color: '#2368E1' },\n    exe: { icon: FiletypeExe, color: '#8E8E8E' },\n    gif: { icon: FiletypeGif, color: '#F64A8A' },\n    heic: { icon: FiletypeHeic, color: '#FFAA00' },\n    html: { icon: FiletypeHtml, color: '#E34F26' },\n    java: { icon: FiletypeJava, color: '#007396' },\n    jpg: { icon: FiletypeJpg, color: '#FFAA00' },\n    jpeg: { icon: FiletypeJpg, color: '#FFAA00' },\n    js: { icon: FiletypeJs, color: '#F7DF1E' },\n    json: { icon: FiletypeJson, color: '#22A746' },\n    jsx: { icon: FiletypeJsx, color: '#61DAFB' },\n    key: { icon: FiletypeKey, color: '#FF9800' },\n    m4p: { icon: FiletypeM4p, color: '#4CAF50' },\n    md: { icon: FiletypeMd, color: '#8E8E8E' },\n    mdx: { icon: FiletypeMdx, color: '#8E8E8E' },\n    mov: { icon: FiletypeMov, color: '#9C27B0' },\n    mp3: { icon: FiletypeMp3, color: '#4CAF50' },\n    mp4: { icon: FiletypeMp4, color: '#9C27B0' },\n    otf: { icon: FiletypeOtf, color: '#795548' },\n    pdf: { icon: FiletypePdf, color: '#FF0000' },\n    php: { icon: FiletypePhp, color: '#777BB4' },\n    png: { icon: FiletypePng, color: '#00ADEF' },\n    ppt: { icon: FiletypePpt, color: '#FF9800' },\n    pptx: { icon: FiletypePptx, color: '#FF9800' },\n    psd: { icon: FiletypePsd, color: '#31A8FF' },\n    py: { icon: FiletypePy, color: '#3776AB' },\n    raw: { icon: FiletypeRaw, color: '#FFAA00' },\n    rb: { icon: FiletypeRb, color: '#CC342D' },\n    sass: { icon: FiletypeSass, color: '#CF649A' },\n    scss: { icon: FiletypeScss, color: '#CF649A' },\n    sh: { icon: FiletypeSh, color: '#8E8E8E' },\n    sql: { icon: FiletypeSql, color: '#336791' },\n    svg: { icon: FiletypeSvg, color: '#FF5722' },\n    tiff: { icon: FiletypeTiff, color: '#FFAA00' },\n    tsx: { icon: FiletypeTsx, color: '#3178C6' },\n    ttf: { icon: FiletypeTtf, color: '#795548' },\n    txt: { icon: FiletypeTxt, color: '#8E8E8E' },\n    wav: { icon: FiletypeWav, color: '#795548' },\n    woff: { icon: FiletypeWoff, color: '#795548' },\n    xls: { icon: FiletypeXls, color: '#22A746' },\n    xlsx: { icon: FiletypeXlsx, color: '#22A746' },\n    xml: { icon: FiletypeXml, color: '#E34F26' },\n    yml: { icon: FiletypeYml, color: '#8E8E8E' },\n    // Additional common extensions not in bootstrap icons\n    zip: { icon: FiletypeExe, color: '#FFD700' },\n    rar: { icon: FiletypeExe, color: '#F44336' },\n    tar: { icon: FiletypeExe, color: '#FFC107' },\n    pub: { icon: FiletypeDoc, color: '#4CAF50' },\n    swf: { icon: FiletypeExe, color: '#FFEB3B' },\n};\n\nexport const BootstrapFileIcons = ({ extension, color, size }) => {\n    const ext = extension?.toLowerCase();\n    const iconData = extensionToIcon[ext];\n    if (iconData) {\n        const Icon = iconData.icon;\n        const iconColor = color || iconData.color;\n        return <Icon color={iconColor} size={size} />;\n    }\n    // fallback generic file icon\n    return <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill={color || '#888'} xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.5L9.5 0H4zm8 1.5V6H9V1h3z\"/></svg>;\n};\n"],"names":["API_BASE_URL","process","fetchAPI","async","endpoint","options","arguments","length","undefined","method","headers","body","requestOptions","localStorage","getItem","JSON","stringify","redirect","url","URL","response","fetch","contentType","get","ok","includes","errorData","json","error","Error","detail","status","data","errorText","text","message","console","getBillingPersonalInfo","toString","getUpcomingPayment","updateBillingPersonalInfo","getPaymentMethodInfo","retryPayment","updatePaymentMethodInfo","getReginalAndLanguage","updateReginalAndLanguage","createProjectStatus","log","id","isNew","isChanged","value","updateProjectStatusById","deleteProjectStatusById","SettingsGeneralInformation","myHeaders","Headers","accessToken","append","updateGeneralInformation","photo","formData","FormData","Object","keys","forEach","key","croppedImageBlob","photoHintId","nanoid","result","SettingsBankInformation","updateBankInformation","generalData","ProjectStatusesList","getHolidaysList","location","parse","locationDetails","getLocation","state","err","updateProjectScheduleById","updateProjectReferenceById","createProjectNoteById","projectsToSalesUpdate","unique_id","projectsOrderDecline","projectsComplete","createInvoiceById","createAndSendInvoiceById","getProjectFilesById","deleteFileByKey","fileKey","file_name","updateCostBreakDownDescription","sendComposeEmail","action","sendSms","resendQuoteEmail","getManagement","ProjectCardApi","uniqueId","getListOfInvoice","page","limit","_filters$status","search","order","isShowUnpaid","filters","offset","searchParams","clientsFilter","_filters$client","client","map","join","statusFilter","_filters$status2","element","name","date","_filters$date$","_filters$date$$value","_filters$date$2","_filters$date$2$value","startDate","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","endDate","getInvoice","getInvoicePartialHistory","paymentIntentCreate","deleteInvoice","sendInvoiceEmail","resendInvoiceEmail","partialPaymentCreate","sendInvoiceToXeroApi","markInvoiceAsPaid","markInvoiceAsUnpaid","getLocationList","createLocation","updateLocation","deleteLocation","getDesktopUserList","userAssigned","locationId","userId","userUnassigned","_ref","taskId","session","onCommentAdded","disabled","commentsScrollRef","comment","setComment","useState","attachments","setAttachments","isDragOver","setIsDragOver","showEmojiPicker","setShowEmojiPicker","isSubmitting","setIsSubmitting","uploadingFiles","setUploadingFiles","isFocused","setIsFocused","editorRef","useRef","fileInputRef","dropZoneRef","emojiPickerRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","uploadToS3","file","fileId","axios","put","onUploadProgress","progressEvent","progress","Math","round","loaded","total","prev","f","uploaded","errorMessage","request","uploadFailed","handleFileUpload","toast","validFiles","Array","from","files","filter","size","newUploading","index","now","type","uploadFile","getCommentPresignedUrl","fileUrl","split","handleDragEnter","useCallback","e","preventDefault","stopPropagation","handleDragLeave","_dropZoneRef$current","relatedTarget","handleDragOver","handleDrop","dataTransfer","handlePaste","_e$clipboardData","items","clipboardData","item","kind","getAsFile","push","removeAttachment","a","removeUploadingFile","handleSubmit","trim","_session$user","attachmentUrls","attachmentTypes","createTaskComment","attachment_url","attachment_type","created_by","role","user","setTimeout","scrollIntoView","behavior","block","_editorRef$current2","focus","getFileIcon","startsWith","_jsx","ImageIcon","FileEarmark","formatFileSize","bytes","toFixed","isImage","hasContent","_jsxs","className","styles","children","FallbackImage","has_photo","is_business","src","createObjectURL","alt","onClick","X","style","width","clsx","attachment","ref","onDragEnter","onDragLeave","onDragOver","onDrop","placeholder","onChange","onKeyDown","shiftKey","onPaste","onFocus","onBlur","title","EmojiSmile","EmojiPicker","onEmojiClick","emojiData","_editorRef$current","emoji","theme","height","searchPlaceHolder","previewConfig","showPreview","_fileInputRef$current","click","Paperclip","multiple","display","Button","ProgressSpinner","strokeWidth","formatDateRange","toLocaleDateString","DateRangeComponent","_ref2","setDateRange","dateRange","isPickerVisible","setIsPickerVisible","selectDateRef","position","togglePicker","cursor","border","borderRadius","Calendar2Event","color","top","background","zIndex","DateRangePickerCalendar","onDataApply","onClose","normalizeComment","c","_c$created_by","_c$created_by2","_c$created_by3","_c$created_by4","_c$created_by5","parsed","isArray","created_at","full_name","email","avatar","formatTimeAgo","timestamp","diff","floor","forwardRef","usersMap","Map","refetch","fetchNextPage","hasNextPage","isFetchingNextPage","isLoading","useInfiniteQuery","queryKey","queryFn","pageParam","then","res","getCommentsForTask","enabled","getNextPageParam","lastPage","next","useImperativeHandle","refetchComments","deleteCommentMutation","useMutation","mutationFn","deleteTaskComment","onSuccess","success","onError","comments","pages","slice","flatMap","results","sort","b","getTime","reverse","loading","noComments","commentsContainer","loadMoreWrapper","loadMoreBtn","commentsList","_comment$user","_comment$user2","_comment$user3","userFromMap","avatarPhoto","hasPhoto","commentItem","header","userName","commentTime","handleDeleteComment","commentId","mutate","isPending","deleteButton","marginLeft","variables","fontSize","opacity","commentText","attachmentContainer","_attachment$type","_attachment$url$split","href","rel","imageAttachment","attachmentImage","fileAttachment","fileIconWrapper","fileDetails","fileName","pop","fileAction","dateFormat","dateInMiliSec","_usersList$data2","_mobileUsersList$data3","show","setShow","setTaskId","defaultValue","projectId","refetchTask","isFetching","dropdownRef","textareaRef","commentsRef","useAuth","saveStatus","setSaveStatus","createdTaskId","setCreatedTaskId","taskTitle","setTaskTitle","description","setDescription","project","setProject","setUser","setDate","errors","setErrors","effectiveTaskId","_defaultValue$project","_defaultValue$user","from_date","to_date","reset","previousValuesRef","isInitialLoadRef","projectsList","useQuery","getProjectsList","usersList","getUserList","mobileUsersList","getMobileUserList","React","_usersList$data","_usersList$data$users","_mobileUsersList$data","_mobileUsersList$data2","users","u","set","label","first_name","last_name","has","createMutation","createNewTask","updateMutation","updateTask","autoSaveRef","_date$startDate","_date$endDate","taskData","currentValues","fromDate","toDate","debouncedAutoSave","debounce","_autoSaveRef$current","call","_debouncedAutoSave$ca","cancel","deleteMutation","fetchTasksDelete","markCompleteMutation","finished","TaskCompleteJob","_","handleMarkComplete","isCurrentlyComplete","handleDelete","handleCommentAdded","_commentsRef$current","scrollHeight","Sidebar","visible","onHide","modal","dismissable","marginRight","content","_dropdownRef$current2","_dropdownRef$current3","_dropdownRef$current4","_usersList$data3","_usersList$data3$user","_usersList$data3$user2","_mobileUsersList$data4","_mobileUsersList$data5","_mobileUsersList$data6","_projectsList$data","closeIconRef","hide","borderBottom","padding","PlusCircle","fontWeight","Check","overflow","Skeleton","Row","Col","sm","shape","Form","Control","Text","Label","_dropdownRef$current","Person","panel","offsetParent","Dropdown","is_active","has_work_subscription","valueTemplate","option","userData","left","itemTemplate","dropdownIcon","_Fragment","collapseIcon","filterInputAutoFocus","optionGroupLabel","optionGroupChildren","SelectDate","number","reference","maxWidth","panelStyle","maxHeight","as","rows","onInput","TaskComments","CommentEditor","CheckCircle","dp","DP","expandRow","parseTimestamp","timestampStr","getTimezoneOffset","loadData","responses","hasWorkSubscription","events","resources","_data$custom_status","_data$custom_status2","_data$custom_status3","_data$custom_status4","_data$tasks$filter","_data$tasks","_data$tasks2","_data$tasks3","_data$client","custom_status","font","jobsStatus","jobs_count","jobs_done","projectEndDate","parseInt","booking_end","setHours","isJobOverdue","start","booking_start","end","cssClass","resource","backColor","borderColor","tag","unfinishedTasks","tasks","task","totalTasks","childResource","minHeight","marginBottom","_task$assigned_to","statusIMG","assigned_to","unfinishedJobs","totalJobs","_data$jobs","_data$jobs$filter","_data$jobs2","_data$jobs3","_data$tasks4","_data$tasks5","jobs","job","_job$worker","_job$worker2","_job$worker3","_job$worker4","start_date","end_date","short_description","resizeDisabled","alias","worker","jobImg","unfinished","expanded","is_invoice_created","paid","update","onResourceExpand","args","startDaypilot","elementId","viewTaskDetails","reInitialize","holidays","window","Boolean","DayPilot","Scheduler","days","scale","separators","treeImage","rowMinHeight","cellWidth","eventEndSpec","durationBarVisible","eventArrangement","eventMoveHandling","eventResizingStartEndEnabled","timeRangeSelectedHandling","treeImageNoChildren","rowHeaderWidth","timeHeaders","groupBy","format","treeEnabled","progressiveRowRendering","treePreventParentUsage","scrollDelayEvents","infiniteScrollingEnabled","infiniteScrollingStepDays","onBeforeRowHeaderRender","row","holidaysList","holiday","toLocaleString","timeZone","toISOString","holidayMap","reduce","dateStr","getEventIcon","onBeforeTimeHeaderRender","toolTip","level","australiaSydneyDate","dayEvents","html","generateDayEventsHtml","originalHtml","publicHolidays","reminders","hasPublicHoliday","hasReminder","modalContent","iconHtml","totalCount","replace","getDayOfWeek","onBeforeEventRender","areas","right","fontColor","horizontalAlignment","onEventClicked","div","projectDetails","jobDetails","onBeforeCellRender","cell","onEventResize","newStart","newEnd","init","showEventModal","existingModal","querySelector","remove","getAttribute","rect","getBoundingClientRect","createElement","innerHTML","appendChild","modalRect","bottom","innerWidth","closeModal","reInitializeData","projectCardData","viewShow","setViewShow","updateDis","setUpdateDis","MAX_LENGTH","handleClose","mutation","validateNote","test","handleShow","Modal","centered","animation","Header","AddNoteModeIcon","Body","htmlFor","maxLength","Footer","variant","validationError","onConfirm","cancelProjectContainer","viewBox","fill","xmlns","x","y","rx","stroke","clipPath","d","strokeLinecap","strokeLinejoin","transform","cancelProjectTitle","cancelProjectCloseIcon","cancelProjectDescription","cancelProjectDescriptionText","cancelProjectActions","cancelProjectButton","contactPersons","setPayload","showInstructions","setShowInstructions","outgoingEmailTemplateQuery","getOutgoingEmail","_outgoingEmailTemplat","_outgoingEmailTemplat2","outgoing_email","Link","to","Envelope","lineHeight","SendDynamicEmailForm","isComposeEmail","FilePreview","_file$key","_file$key$split$pop","extension","toLowerCase","isImageFile","flexShrink","objectFit","parentElement","alignItems","justifyContent","BootstrapFileIcons","FolderPreview","FolderIcon","ShareFilePopover","triggerRef","copied","setCopied","popoverRef","setPosition","popoverWidth","popoverHeight","innerHeight","shareOptions","icon","cx","cy","r","open","encodeURIComponent","subject","boxShadow","overflowX","paddingBottom","minWidth","transition","onMouseEnter","currentTarget","onMouseLeave","textAlign","readOnly","flex","outline","textOverflow","navigator","clipboard","writeText","ta","select","execCommand","removeChild","whiteSpace","gap","CheckCircleFill","ShareButton","_ref3","isShareOpen","onToggle","buttonRef","Share","_ref4","_filesQuery$data","_displayContents","creatingFile","setCreatingFile","creatingFolder","setCreatingFolder","isFolderCreating","setIsFolderCreating","newFolderName","setNewFolderName","inputValue","setInputValue","currentPath","setCurrentPath","sharePopoverFile","setSharePopoverFile","folderInputRef","filesQuery","retry","staleTime","cacheTime","catch","createFolder","folderKey","post","Authorization","Blob","getRootProps","getInputProps","useDropzone","accept","maxSize","acceptedFiles","uploadFiles","currentPrefix","entries","uniqueNumber","fileNameParts","ext","newName","originalURL","fileUploadBySignedURL","deleteFolderMutation","folderPrefix","toDelete","Promise","all","pathname","markerKey","some","cancelCreatingFolder","contents","getContentsAtPath","allFiles","path","prefix","parts","first","values","localeCompare","displayContents","FolderFileIcon","part","arr","textDecoration","startCreatingFolder","paddingLeft","CloudUpload","paddingRight","idx","CancelIcon","ProgressBar","showValue","Trash","isDeleting","removeFile","mutateAsync","removeFolder","hasGoogleReviewEmailSend","has_google_review","GoogleReviewIcon","Google","marginTop","googleLogo","backgroundColor","defaultTemplateId","_outgoingEmailTemplat4","_outgoingEmailTemplat5","_emailTemplateQuery$d3","_signatureQuery$data2","create","isCreated","op","profileData","setFrom","setTo","cc","setCC","bcc","setBCC","setSubject","setText","signature","setSignature","filteredEmails","setFilteredEmails","autoCompleteRef","autoCompleteRef2","autoCompleteRef3","showCC","setShowCC","showBCC","setShowBCC","isValidEmail","validateEmailArray","emailArray","every","getInvalidEmails","cleanEmailArray","validateAndCleanAllEmails","hasErrors","emailTemplateId","setEmailTemplatedId","emailTemplateQuery","getEmailTemplates","signatureQuery","getSignatureTemplates","emailQuery","getEmail","_outgoingEmailTemplat3","outgoing_email_verified","_event$query","_contactPersons$map","query","emails","onFocus2","onFocus3","_contactPersons$map2","invalidToEmails","validEmails","invalidCcEmails","invalidBccEmails","email_body","from_email","_signatureQuery$data","_signatureQuery$data$","find","template","email_signature","_emailQuery$data","_emailQuery$data2","others","_emailTemplateQuery$d","_emailTemplateQuery$d2","activeTemplateId","closeButton","modalHeader","headerTitle","customLabel","dropdownSelect","emailTemplate","templateInfo","toggle","InfoCircle","OverlayPanel","autoCompleteBox","bag","AutoComplete","completeMethod","toInvalid","suggestions","onKeyUp","currentValue","Set","box","active","IconField","InputIcon","InputText","inputBox","lable","Editor","headerTemplate","onTextChange","htmlValue","panelClassName","errorCount","invalidEmails","InvoicesIcon","SendInvoiceEmailForm","_mailchimpListsQuery$","hasIntegratedMailchimp","selectedListId","setSelectedListId","selectedEmail","setSelectedEmail","emailOptions","person","mailchimpListsQuery","getMailchimpLists","has_mailchimp","addToMailchimpMutation","addUserToMailchimpListAndProjectCard","_error$details","details","warning","mailchimpLogo","EnvelopeCheck","emptyMessage","lists","list","filterPlaceholder","selectedUser","mailchimpData","list_id","project_id","firstname","lastname","phone","CreateTask","OPTIONS","FileText","FileEarmarkText","Bezier2","CardChecklist","PhoneVibrate","ListCheck","Check2Circle","FolderSymlink","setFilteredHistoryOptions","isOpen","setIsOpen","tempSelectedOptions","setTempSelectedOptions","toggleDropdown","Filter","handleSelectAll","opt","handleCheckboxChange","checked","handleClearSelection","handleApply","OrdersIcon","colorMapping","bg","_colorMapping$selecte","_colorMapping$selecte2","_colorMapping$selecte3","statusOptions","selectedOption","setSelectedOption","Menu","menuButton","MenuButton","ChevronDown","_colorMapping$status$","_colorMapping$status$2","_colorMapping$status$3","MenuItem","choosedStatus","phoneUtil","PhoneNumberUtil","getInstance","isPhoneValid","isValidNumber","parseAndKeepRawInput","_smsTemplateQuery$dat","smsTemplateId","setSMSTemplatedId","setMessage","phoneNumber","setPhoneNumber","smsTemplateQuery","getSMSTemplates","smsQuery","getSMS","_smsQuery$data","has_twilio","smsUnavailableText","twilioStatus","twilioIcon","disconnectedBadge","smsTemplate","taskRead","PhoneInput","defaultCountry","containerClass","countrySelector","newText","float","phone_number","setIsLoading","eventTitle","setEventTitle","eventDescription","setEventDescription","eventLocation","setEventLocation","meetLink","setMeetLink","setStartDate","setEndDate","guests","setGuests","clientQuery","getClientById","_clientQuery$data","contact_persons","CalendarIcon","Title","onSubmit","validateForm","calendarContent","attendees","organizerEmail","formatDate","uid","dtStamp","formattedDescription","htmlDescription","platform","line","charAt","toUpperCase","generateICalContent","icsFile","File","Group","Calendar","locale","onSelect","onClear","onTodayButtonClick","showTime","stepMinute","showIcon","showButtonBar","todayButtonClassName","clearButtonClassName","Calendar3","appendTo","socketRef","navigate","useNavigate","user_id","desktop_user_id","isConnected","setIsConnected","setLoading","_session$organization","socket","io","transports","autoConnect","emit","org_id","organization","handleStartChat","participants","job_id","chat_group_id","x1","y1","x2","y2","gradientUnits","stopColor","CurrentJobAndExpenseLoading","Placeholder","xs","_clientQuery$data2","_clientQuery$data3","_cardData$calculator_3","_cardData$calculator_4","useSocket","isDuplicating","setIsDuplicating","setIsFetching","cardData","setCardData","isEditingReference","setIsEditingReference","editedReference","setEditedReference","expenseJobsMapping","setExpenseJobsMapping","filteredHistory","setFilteredHistory","filteredHistoryOptions","showCostBreakdown","setShowCostBreakdown","setVisible","createExpenseVisible","setCreateExpenseVisible","showCancelConfirmation","setShowCancelConfirmation","cs","parseFloat","cost_of_sale","le","labor_expense","oe","operating_expense","formattedRealCost","referencemutation","prevData","formatTimestamp","Intl","DateTimeFormat","hour","minute","hour12","weekday","updateReturnMutation","declinecOrderMutation","completeMutation","createInvoiceMutation","_cardData$history","histories","history","_cardData$expenses","_cardData$jobs","sortedMix","expenses","created","pushState","EmailComponent","_email$body","_email$body$split","_email$recipients","_email$recipients2","emailData","showFullBody","setShowFullBody","isOverflowing","setIsOverflowing","emailBodyRef","_lines$find","_lines$find2","_text$split$","lines","rawRecipients","recipients","parseEmailData","bodyLines","visibleBody","bodyHeight","recipient","overflowY","dangerouslySetInnerHTML","__html","updateCostBreakDownMutation","enforceFocus","invoice_created","payment_status","CurrencyDollar","PencilSquare","handleEditReference","MailchimpIntegration","mailchimp","GoogleReviewEmail","google_review","Postcard","Tag","SelectStatus","Copy","handleCopy","_cardData$calculator_","calculator_descriptions","_cardData$calculator_2","allDescriptions","Table","responsive","_data$supplier","_data$worker","_data$supplier2","_data$worker2","_data$worker3","_data$supplier3","_data$supplier4","supplier","invoice_reference","OverlayTrigger","placement","overlay","Tooltip","ImageAvatar","formatAUD","JobStatus","actionStatus","action_status","published","colSpan","AddNote","NewTask","SendSMS","ComposeEmail","ProjectCardFilter","manager","links","quote_pdf","FilePdf","Link45deg","invoice_pdf","BriefcaseIcon","ScheduleUpdate","ExpenseIcon","Briefcase","FilesModel","SendToCalendar","StartChat","budget","CancelProject","declinecOrder","can_be_declined","XCircle","fetchduplicateData","Files","can_be_return","Reply","InvoiceCreate","handleCompleteProject","can_be_completed","DataTable","calculations","showGridlines","Column","field","bodyClassName","headerClassName","rowIndex","rowData","subindex","_updateCostBreakDownM","isEditing","setIsEditing","_document$getElementB","getElementById","handleCostBreakdown","cost","profit_type_value","profit_type","unit_price","discount","sub_total","gst","PauseCircle","CreateJob","setRefetch","jobProjectId","projectReference","NewExpensesCreate","expenseProjectId","view","setView","fetchTasksRead","cancelRefetch","CALENDAR_ID","timeoutRef","trialHeight","useTrialHeight","setSearch","management","setManagement","viewProjectModel","setViewProjectModel","isReinitialize","setIsReinitialize","setStatusOptions","setProjectId","setProjectDetails","filterBy","setFilterBy","sortBy","setSortBy","statusBy","seStatusBy","setJobProjectId","viewJob","setViewJob","jobId","editMode","setEditMode","urlObj","params","URLSearchParams","fetchData","handleClick","HTMLSelectElement","closest","handleSearchResult","searchData","daypilotScript","handleError","handleLoad","_vehiclesReminders$re","vehiclesReminders","getVehicleReminders","vehiclesResponse","_item$vehicle","_item$vehicle2","vehicle","make","model","due_on","getHolidays","initDaypilot","handleViewTask","taskList","newData","managementData","clearTimeout","_data$number","_data$number$toLowerC","_data$reference","_data$reference$toLow","_data$client$name$toL","applyFiltersAndSort","filteredData","_a$custom_status","_b$custom_status","_item$custom_status","_data$number2","_data$number2$toLower","_data$reference2","_data$reference2$toLo","_data$client2","_data$client2$name$to","handleFilterChange","handleSortChange","Toggle","SortDown","Item","eventKey","CalendarWeek","MultiSelect","optionLabel","maxSelectedLabels","_colorMapping$item$co","_colorMapping$item$co2","_colorMapping$item$co3","borderLeft","showClear","Spinner","ViewTask","CreateTaskFeature","ProjectCardModel","ViewJob","bool","Management","Helmet","EventScheduler","getStatusLabel","draftSalesRequest","assignManagers","managers","fetchSales","fetchSalesNotes","saleUniqueId","updatedNote","sales_note","markWon","ids","markLost","fetchContacts","fetchSaleslead","updatedLead","lead","fetchMultipleData","selectedUniqueIds","fetchMultipleLost","getListOfTasks","isShowDeleted","showNotCompleted","getTask","payload","filename","attachmentType","task_id","isAddingContact","dates","setDates","handleCancel","handleToday","today","footerTemplate","hasValidRange","getHeaderText","_dates$","_dates$2","selectionMode","inline","numberOfMonths","firstDayOfWeek","prevIcon","ChevronLeftIcon","nextIcon","ChevronRightIcon","getStripeIntegrations","stripeIntegrationsSet","stripeIntegrationsDelete","getGoogleReviewIntegrations","googleReviewIntegrationsSet","getTwilioIntegrations","twilioIntegrationsSet","getEmailIntegrations","emailIntegrationsSet","getXeroIntegrations","disconnectXeroIntegrations","mailchimpIntegrationsSet","mailchimpIntegrationsDelete","addUserToMailchimpList","onFileChange","setOpen","btn","clickedInsideTrigger","clickedInsidePopover","attachButton","v","attachmentPopover","attachmentLabel","Image","extensionToIcon","aac","FiletypeAac","ai","FiletypeAi","bmp","FiletypeBmp","FiletypeCs","css","FiletypeCss","csv","FiletypeCsv","doc","FiletypeDoc","docx","FiletypeDocx","exe","FiletypeExe","gif","FiletypeGif","heic","FiletypeHeic","FiletypeHtml","java","FiletypeJava","jpg","FiletypeJpg","jpeg","js","FiletypeJs","FiletypeJson","jsx","FiletypeJsx","FiletypeKey","m4p","FiletypeM4p","md","FiletypeMd","mdx","FiletypeMdx","mov","FiletypeMov","mp3","FiletypeMp3","mp4","FiletypeMp4","otf","FiletypeOtf","pdf","FiletypePdf","php","FiletypePhp","png","FiletypePng","ppt","FiletypePpt","pptx","FiletypePptx","psd","FiletypePsd","py","FiletypePy","raw","FiletypeRaw","rb","FiletypeRb","sass","FiletypeSass","scss","FiletypeScss","sh","FiletypeSh","sql","FiletypeSql","svg","FiletypeSvg","tiff","FiletypeTiff","tsx","FiletypeTsx","ttf","FiletypeTtf","txt","FiletypeTxt","wav","FiletypeWav","woff","FiletypeWoff","xls","FiletypeXls","xlsx","FiletypeXlsx","xml","FiletypeXml","yml","FiletypeYml","zip","rar","tar","pub","swf","iconData","Icon","iconColor"],"sourceRoot":""}