"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[7063],{700:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Te});var l=t(65043),n=t(75329),i=t(38294),r=t(80248),o=t(73216),a=t(35475),d=t(93747),c=t(72018),u=t(2028),h=t(20288),m=t(56328),p=t(85632),v=t(52572),x=t(72413),f=t(22636),j=t(90991),g=t(71807),y=t(22927),b=t(99832),A=t(27066),w=t(38300),N=t(31683),C=t(77918),_=t(88578),S=t(65173),O=t.n(S),P=["color","size","title","className"];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},k.apply(null,arguments)}var F=(0,l.forwardRef)((function(e,s){var t=e.color,n=void 0===t?"currentColor":t,i=e.size,r=void 0===i?"1em":i,o=e.title,a=void 0===o?null:o,d=e.className,c=void 0===d?"":d,u=function(e,s){if(null==e)return{};var t,l,n=function(e,s){if(null==e)return{};var t={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;t[l]=e[l]}return t}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)t=i[l],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,P);return l.createElement("svg",k({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n,className:["bi","bi-arrow-left-circle",c].filter(Boolean).join(" ")},u),a?l.createElement("title",null,a):null,l.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"}))}));F.propTypes={color:O().string,size:O().oneOfType([O().string,O().number]),title:O().string,className:O().string};const E=F;var $=t(90688),B=t(88120),z=t(58387),L=(t(93066),t(9642)),R=t(64824),D=t(93740),T=t(76104);const I={gobackBtn:"client-order-history_gobackBtn__hjQYj",filterBox:"client-order-history_filterBox__5GK2j",active:"client-order-history_active__eNK2b",selectedCount:"client-order-history_selectedCount__Zqu8f",clientName:"client-order-history_clientName__wdACW",lost:"client-order-history_lost__IVJOh",complete:"client-order-history_complete__Jbs33",declined:"client-order-history_declined__FzHHB",inprogress:"client-order-history_inprogress__mjVTk",defaultStatus:"client-order-history_defaultStatus__6l+xZ",lostProfit:"client-order-history_lostProfit__CwGac",inprogressProfit:"client-order-history_inprogressProfit__ZoNLr",completeProfit:"client-order-history_completeProfit__ZF3X+",declinedProfit:"client-order-history_declinedProfit__34CM+",department:"client-order-history_department__Ipt3B",subdepartment:"client-order-history_subdepartment__uVr3f",orderHeading:"client-order-history_orderHeading__G9AFg",historyTitle:"client-order-history_historyTitle__7zmr+",historyText:"client-order-history_historyText__ShzSh",historyDescription:"client-order-history_historyDescription__EQ36H"};var M=t(59638),W=t(67046),q=t(27734),H=t(99868),V=t(70579);const U=(0,l.forwardRef)(((e,s)=>{let{selected:t,setSelected:n,searchValue:i}=e;const{id:r}=(0,o.g)(),d=(0,o.Zp)(),c=(0,l.useRef)(null),[u,h]=(0,l.useState)([]),[S,O]=(0,l.useState)(1),[P,k]=(0,l.useState)({sortField:"number",sortOrder:-1}),[F,U]=(0,l.useState)({sortField:"number",sortOrder:-1}),[Z,G]=(0,l.useState)(!0),[X,Y]=(0,l.useState)(!1),[J,K]=(0,l.useState)(null),[Q,ee]=(0,l.useState)(null);(0,l.useEffect)((()=>{G(!0),O(1)}),[i]),(0,l.useEffect)((()=>{r&&(async()=>{Y(!0);let e="";1===(null===F||void 0===F?void 0:F.sortOrder)?e=`${F.sortField}`:-1===(null===F||void 0===F?void 0:F.sortOrder)&&(e=`-${F.sortField}`);const s=await(0,M.o6)(r,S,25,i,e);var t;1===S?h((null===s||void 0===s?void 0:s.results)||[]):(null===s||void 0===s||null===(t=s.results)||void 0===t?void 0:t.length)>0&&h((e=>{const t=new Set(e.map((e=>e.unique_id))),l=s.results.filter((e=>!t.has(e.unique_id)));return[...e,...l]}));k(F),G((null===s||void 0===s?void 0:s.count)!==(null===u||void 0===u?void 0:u.length)),Y(!1)})()}),[r,S,i,F]),(0,l.useEffect)((()=>{if((null===u||void 0===u?void 0:u.length)>0&&Z){c.current=new IntersectionObserver((e=>{e[0].isIntersecting&&O((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&c.current.observe(e)}return()=>{c.current&&c.current.disconnect()}}),[u,Z]);return(0,V.jsxs)(R.b,{ref:s,value:u,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:"calc(100vh - 182px)",className:"border",selection:t,onSelectionChange:e=>n(e.value),loading:X,loadingIcon:q.A,emptyMessage:(0,V.jsx)(H.A,{isDataExist:!(null===u||void 0===u||!u.length)}),sortField:null===P||void 0===P?void 0:P.sortField,sortOrder:null===P||void 0===P?void 0:P.sortOrder,onSort:e=>{const{sortField:s,sortOrder:t}=e;O(1),G(!0),U({sortField:s,sortOrder:t})},children:[(0,V.jsx)(L.V,{selectionMode:"multiple",headerClassName:"ps-4",bodyClassName:"show-on-hover ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,V.jsx)(L.V,{field:"number",header:"Project ID",frozen:!0,sortable:!0,style:{minWidth:"100px"},headerClassName:"shadowRight",bodyClassName:"shadowRight"}),(0,V.jsx)(L.V,{field:"reference",header:"Reference",style:{minWidth:"154px"}}),(0,V.jsx)(L.V,{field:"status",header:"Status",body:e=>{const s=e.status;switch(s){case"Lost":return(0,V.jsx)(T.v,{className:`status ${I.lost}`,value:s});case"Completed":return(0,V.jsx)(T.v,{className:`status ${I.complete}`,value:s});case"In progress":return(0,V.jsx)(T.v,{className:`status ${I.inprogress}`,value:s});case"Declined":return(0,V.jsx)(T.v,{className:`status ${I.declined}`,value:s});default:return(0,V.jsx)(T.v,{className:`status ${I.defaultStatus}`,value:s})}},sortable:!0,style:{minWidth:"113px"}}),(0,V.jsx)(L.V,{header:"Invoice",body:e=>e.has_invoice?(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-4",children:[(0,V.jsx)(a.N_,{to:`https://dev.memate.com.au/${e.invoice_url}`,target:"_blank",children:(0,V.jsx)(v.A,{color:"#FF0000",size:16})}),(0,V.jsx)(a.N_,{to:`/invoice/${e.unique_id}`,target:"_blank",children:(0,V.jsx)(x.A,{color:"#3366CC",size:16})})]}):"",style:{minWidth:"114px"}}),(0,V.jsx)(L.V,{header:"Quote",body:e=>(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-4",children:[(0,V.jsx)(a.N_,{to:`/sales/quote-calculation/${e.unique_id}`,target:"_blank",children:(0,V.jsx)("div",{children:(0,V.jsx)(f.A,{color:"#FDB022",size:16})})}),(0,V.jsx)(a.N_,{to:`https://dev.memate.com.au/${e.quote_url}`,target:"_blank",children:(0,V.jsx)(v.A,{color:"#FF0000",size:16})}),(0,V.jsx)(a.N_,{to:`/quote/${e.unique_id}`,target:"_blank",children:(0,V.jsx)(x.A,{color:"#3366CC",size:16})})]}),style:{minWidth:"160px"}}),(0,V.jsx)(L.V,{header:"History",body:e=>{var s;const t=(0,l.useRef)(null),[n,i]=(0,l.useState)(!1),r=(0,$.k)(n,i),o=e=>{const s=1e3*+e.created,t=new Date(s),l=t.toLocaleString("en-US",{weekday:"short"}).substring(0,3);return`${t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).replace(",","")} | ${l} | ${t.toLocaleDateString("en-GB").replaceAll("/",".")} by ${(null===e||void 0===e?void 0:e.manager)||"-"}`};function a(e){switch(e){case"billing":return(0,V.jsx)(j.A,{size:16,color:"#1AB2FF"});case"quote":return(0,V.jsx)(g.A,{size:16,color:"#1AB2FF"});case"invoice":return(0,V.jsx)(y.A,{size:16,color:"#1AB2FF"});case"task":case"order":return(0,V.jsx)(b.A,{size:16,color:"#1AB2FF"});case"note":return(0,V.jsx)(A.A,{size:16,color:"#1AB2FF"});case"tag":return(0,V.jsx)(w.A,{size:16,color:"#1AB2FF"});default:return"-"}}return(0,V.jsxs)(l.Fragment,{children:[(0,V.jsx)(y.A,{color:"#667085",size:16,className:"cursor-pointer",ref:t,...r}),(0,V.jsx)("div",{className:"fixedMenu",style:{position:"fixed",top:"50%",left:"40%"},children:(0,V.jsxs)(B.k,{state:n?"open":"closed",anchorRef:t,onClose:()=>i(!1),menuStyle:{padding:"24px 24px 20px 24px",width:"405px",textAlign:"left"},children:[(0,V.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,V.jsx)("div",{className:"BoxNo",children:(0,V.jsx)("div",{children:(0,V.jsx)(N.A,{color:"#FFFFFF",size:24})})}),(0,V.jsx)(p.A,{onClick:()=>i(!1)})]}),(0,V.jsx)("h1",{className:(0,z.A)(I.orderHeading,"mb-3"),children:"Order card history "}),(0,V.jsx)("div",{style:{maxHeight:"300px",overflow:"auto"},children:null===e||void 0===e||null===(s=e.history)||void 0===s?void 0:s.map(((s,t)=>(0,V.jsxs)("div",{className:"d-flex flex-column mb-4 text-start",children:[(0,V.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[a(s.type),(0,V.jsx)("p",{className:(0,z.A)(I.historyTitle,"mb-0"),children:(null===s||void 0===s?void 0:s.title)||"-"})]}),(null===s||void 0===s?void 0:s.text)&&(0,V.jsx)("p",{className:(0,z.A)(I.historyText,"mb-1"),dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.text}}),(0,V.jsx)("p",{className:(0,z.A)(I.historyDescription,"mb-0"),children:o(s)})]},`${e.unique_id}-${t}`)))})]})},e.id)]})},bodyClassName:"text-center",style:{minWidth:"70px"}}),(0,V.jsx)(L.V,{header:"Info",body:e=>{var s;const t=(0,l.useRef)(null),[n,i]=(0,l.useState)(!1),r=(0,$.k)(n,i);return(0,V.jsxs)(l.Fragment,{children:[(0,V.jsx)(C.A,{color:"#667085",size:16,className:"cursor-pointer",ref:t,...r}),(0,V.jsx)("div",{className:"fixedMenu",style:{position:"fixed",top:"40%",left:"40%"},children:(0,V.jsxs)(B.k,{state:n?"open":"closed",anchorRef:t,onClose:()=>i(!1),menuStyle:{padding:"24px 24px 20px 24px",width:"365px",marginTop:"45px"},children:[(0,V.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,V.jsx)("div",{className:"BoxNo",children:(0,V.jsx)("div",{children:(0,V.jsx)(N.A,{color:"#FFFFFF",size:24})})}),(0,V.jsx)(p.A,{onClick:()=>i(!1)})]}),(0,V.jsx)("div",{style:{maxHeight:"300px",overflow:"auto"},children:null===e||void 0===e||null===(s=e.indexes)||void 0===s?void 0:s.map((e=>(0,V.jsxs)("div",{className:(0,z.A)("mb-3 text-start"),children:[(0,V.jsx)("h1",{className:I.department,children:e[1]}),(0,V.jsx)("h5",{className:I.subdepartment,children:e[2]})]},e[0])))})]})})]})},bodyClassName:"text-center",style:{minWidth:"68px"}}),(0,V.jsx)(L.V,{field:"total",header:"Total",body:e=>`$${e.total}`,bodyClassName:"text-end",style:{minWidth:"110px"}}),(0,V.jsx)(L.V,{field:"profit",header:"Operational Profit",body:e=>{switch(e.status){case"Lost":return(0,V.jsx)(T.v,{className:`profit ${I.lostProfit} rounded`,value:`$ ${e.profit}`});case"Completed":return(0,V.jsx)(T.v,{className:`profit ${I.completeProfit} rounded`,value:`$ ${e.profit}`});case"In progress":return(0,V.jsx)(T.v,{className:`profit ${I.inprogressProfit}`,value:`$ ${e.profit}`});case"Declined":return(0,V.jsx)(T.v,{className:`profit ${I.declinedProfit} rounded`,value:`$ ${e.profit}`});default:return(0,V.jsx)(T.v,{className:`profit ${I.defaultProfit} rounded`,value:`$ ${e.profit}`})}},bodyClassName:"text-end",style:{minWidth:"144px"},sortable:!0}),(0,V.jsx)(L.V,{header:"Duplicate",body:e=>(0,V.jsx)(V.Fragment,{children:(null===e||void 0===e?void 0:e.unique_id)===J?(0,V.jsx)(D.p,{style:{width:"18px",height:"18px",position:"relative",top:"2px"}}):(0,V.jsx)(_.A,{color:"#667085",size:16,className:"cursor-pointer",onClick:()=>(async e=>{try{if(!e)return m.oR.error("Project id not found");K(e),await(0,W.CK)(e),d("/sales"),m.oR.success("Sale has been successfully duplicated")}catch(s){console.error("Error is duplicating:",s),m.oR.error("Failed to duplicate sale. Please try again.")}finally{K(null)}})(null===e||void 0===e?void 0:e.unique_id)})}),bodyClassName:"text-center",style:{minWidth:"82px"}}),(0,V.jsx)(L.V,{header:"Bring Back",body:e=>(0,V.jsx)(V.Fragment,{children:(null===e||void 0===e?void 0:e.unique_id)===Q?(0,V.jsx)(D.p,{style:{width:"18px",height:"18px",position:"relative",top:"2px"}}):(0,V.jsx)(E,{color:"#667085",size:16,className:"cursor-pointer",onClick:()=>(async(e,s)=>{try{if(!e)return m.oR.error("Project id not found");ee(e),await(0,M.kB)(e)?"Lost"===s||"In progress"===s?d("/sales"):"Completed"===s||"Declined"===s?d("/management"):window.location.reload():m.oR.error("Failed to update sendBack to sales. Please try again.")}catch(t){console.error("Error updating sendBack to sales:",t),m.oR.error("Failed to update sendBack to sales. Please try again.")}finally{ee(null)}})(null===e||void 0===e?void 0:e.unique_id,e.status)})}),bodyClassName:"text-center",style:{minWidth:"110px"}})]})}));var Z=t(14282),G=t(61072),X=t(78602),Y=t(44541),J=t(56741),K=["color","size","title","className"];function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Q.apply(null,arguments)}var ee=(0,l.forwardRef)((function(e,s){var t=e.color,n=void 0===t?"currentColor":t,i=e.size,r=void 0===i?"1em":i,o=e.title,a=void 0===o?null:o,d=e.className,c=void 0===d?"":d,u=function(e,s){if(null==e)return{};var t,l,n=function(e,s){if(null==e)return{};var t={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;t[l]=e[l]}return t}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)t=i[l],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,K);return l.createElement("svg",Q({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n,className:["bi","bi-star-fill",c].filter(Boolean).join(" ")},u),a?l.createElement("title",null,a):null,l.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}))}));ee.propTypes={color:O().string,size:O().oneOfType([O().string,O().number]),title:O().string,className:O().string};const se=ee,te="business-client_profileBox__VGcoZ",le="business-client_box__+9rUT",ne="business-client_boxLabel__InMvR",ie="business-client_boxLabel2__IXr47",re="business-client_label__v0SXB",oe="business-client_text__y7JLT",ae="business-client_iconBoxsContainer__pG+eu",de="business-client_iconBox__BOGzY";var ce=t(74196),ue=t(63712),he=t(33074);const me=(0,l.forwardRef)(((e,s)=>{var t,n,i,r,a;let{client:d,refetch:c,setIsPending:u,handleExternalSubmit:h,setIsEdit:p}=e;const v=(0,o.Zp)(),[x,f]=(0,l.useState)((null===d||void 0===d?void 0:d.photo)||null),[j,g]=(0,l.useState)({...d,category:(null===d||void 0===d||null===(t=d.category)||void 0===t?void 0:t.id)||1,contact_persons:null===d||void 0===d||null===(n=d.contact_persons)||void 0===n?void 0:n.filter((e=>!(null!==e&&void 0!==e&&e.deleted))).map((e=>({...e,uniqeId:(null===e||void 0===e?void 0:e.id)||"",deleted:null===e||void 0===e?void 0:e.deleted}))),addresses:null===d||void 0===d||null===(i=d.addresses)||void 0===i?void 0:i.filter((e=>!(null!==e&&void 0!==e&&e.deleted))).map((e=>({id:(null===e||void 0===e?void 0:e.id)||"",uniqeId:(null===e||void 0===e?void 0:e.id)||"",deleted:null===e||void 0===e?void 0:e.deleted,title:(null===e||void 0===e?void 0:e.title)||"",country:(null===e||void 0===e?void 0:e.country_id)||"",state:(null===e||void 0===e?void 0:e.state_id)||"",city:(null===e||void 0===e?void 0:e.city)||"",address:(null===e||void 0===e?void 0:e.address)||"",postcode:(null===e||void 0===e?void 0:e.postcode)||""})))}||null);0===(null===j||void 0===j||null===(r=j.addresses)||void 0===r?void 0:r.length)&&j.addresses.push({deleted:!1}),0===(null===j||void 0===j||null===(a=j.contact_persons)||void 0===a?void 0:a.length)&&j.contact_persons.push({deleted:!1});return(0,V.jsx)(he.A,{photo:x,setPhoto:f,ref:s,onSubmit:async e=>{d.id?(async e=>{console.log("data: ",e);const s=new FormData;if(s.append("name",e.name),s.append("abn",e.abn),s.append("phone",e.phone),s.append("email",e.email),s.append("website",e.website),s.append("payment_terms",e.payment_terms),s.append("category",e.category),s.append("industry",e.industry),s.append("description",e.description),e.addresses.forEach(((e,t)=>{e.city&&(s.append(`addresses[${t}]city`,e.city),s.append(`addresses[${t}]title`,e.title),s.append(`addresses[${t}]address`,e.address),s.append(`addresses[${t}]is_main`,e.is_main),s.append(`addresses[${t}]postcode`,e.postcode),null!==e&&void 0!==e&&e.id&&s.append(`addresses[${t}]id`,null===e||void 0===e?void 0:e.id))})),e.contact_persons.forEach(((e,t)=>{(e.firstname||e.email)&&(s.append(`contact_persons[${t}]firstname`,e.firstname),s.append(`contact_persons[${t}]lastname`,e.lastname),s.append(`contact_persons[${t}]email`,e.email),s.append(`contact_persons[${t}]phone`,e.phone),s.append(`contact_persons[${t}]position`,e.position),s.append(`contact_persons[${t}]is_main`,e.is_main),null!==e&&void 0!==e&&e.id&&s.append(`contact_persons[${t}]id`,null===e||void 0===e?void 0:e.id))})),null!==x&&void 0!==x&&x.croppedImageBlob){const e=(0,ue.Ak)(6);s.append("photo",null===x||void 0===x?void 0:x.croppedImageBlob,`${e}.jpg`)}try{u(!0);const e=localStorage.getItem("access_token"),t=await fetch(`https://dev.memate.com.au/api/v1/clients/update/business/${d.id}/`,{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:s});t.ok?(p(!1),console.log("response: ",t),m.oR.success("Client updated successfully"),v("/clients")):m.oR.error("Failed to update client. Please try again.")}catch(t){m.oR.error("Failed to update client. Please try again.")}finally{u(!1)}})(e):m.oR.error("Client id not found")},defaultValues:j,deleteAddress:async e=>{try{const s=await(0,M.ab)(e);console.log("response: ",s),s.message?m.oR.success("Address deleted successfully."):m.oR.error("Failed to delete address. Please try again.")}catch(s){m.oR.error("Failed to delete address. Please try again.")}},deleteContact:async e=>{try{(await(0,M.F1)(e)).message?m.oR.success("Contact deleted successfully."):m.oR.error("Failed to delete contact. Please try again.")}catch(s){m.oR.error("Failed to delete contact. Please try again.")}}})})),pe=me;var ve=t(94819),xe=t(47097),fe=t(30970);const je=e=>{let{id:s}=e;const t=(0,o.Zp)(),l=(0,xe.n)({mutationFn:e=>(0,M.zZ)(s),onSuccess:()=>{t("/clients"),m.oR.success("Client deleted successfully")},onError:e=>{m.oR.error("Failed to delete client. Please try again.")}}),n=()=>{l.mutate()},i=()=>{};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(fe.r,{}),(0,V.jsx)(Z.A,{type:"button",onClick:e=>{if(!s)return m.oR.error("Id not found");console.log("id: ",s),(0,fe.P)({target:e.currentTarget,message:"Do you want to delete this record?",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:n,reject:i})},disabled:l.isPending,className:"outline-button",children:l.isPending?(0,V.jsx)(D.p,{style:{width:"20px",height:"20px"}}):(0,V.jsx)(ve.A,{color:"#344054",size:20})})]})},ge=e=>{let{id:s,refetch:t}=e;const n=(0,o.Zp)(),[i,r]=(0,l.useState)(!1);return(0,V.jsxs)(Z.A,{type:"button",disabled:i,onClick:e=>{e.stopPropagation(),(async e=>{e||m.oR.error("Id not found");try{r(!0);const s=await(0,M.oO)(e);if(null===s||void 0===s||!s.detail)throw new Error("Failed to restore client.");n("/clients"),m.oR.success("Client restored successfully")}catch(s){console.log("err: ",s),m.oR.error("Failed to restore client. Please try again.")}finally{r(!1)}})(s)},className:"outline-button",children:["Restore Client ",i&&(0,V.jsx)(D.p,{style:{width:"20px",height:"20px"}})]})},ye=e=>{var s,t,n;let{client:i,industries:r,refetch:o}=e;const[d,c]=(0,l.useState)(null),u=[{value:1,label:"COD"},{value:0,label:"Prepaid"},{value:7,label:"Week"},{value:14,label:"Two weeks"},{value:30,label:"One month"}];let h=null===r||void 0===r?void 0:r.find((e=>e.id===(null===i||void 0===i?void 0:i.industry))),p=null===u||void 0===u?void 0:u.find((e=>(null===e||void 0===e?void 0:e.value)===(null===i||void 0===i?void 0:i.payment_terms)));const v=null===i||void 0===i||null===(s=i.addresses)||void 0===s?void 0:s.filter((e=>!(null!==e&&void 0!==e&&e.deleted))),x=null===i||void 0===i||null===(t=i.contact_persons)||void 0===t?void 0:t.filter((e=>!(null!==e&&void 0!==e&&e.deleted)));return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:(0,z.A)(le),children:[(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"ABN"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:(null===i||void 0===i?void 0:i.abn)||"-"})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Industry"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:(null===h||void 0===h?void 0:h.name)||"-"})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Customer Type"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:null!==i&&void 0!==i&&i.is_business?"Business":"Indivisual"})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Phone"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:(null===i||void 0===i?void 0:i.phone)||"-"})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Email"}),(0,V.jsx)(a.N_,{to:"#",onClick:e=>{e.preventDefault(),window.location.href=`mailto:${null===i||void 0===i?void 0:i.email}`},children:(0,V.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#106B99",fontSize:"16px"},children:[(0,V.jsxs)("div",{className:"ellipsis-width",title:null===i||void 0===i?void 0:i.email,children:[(null===i||void 0===i?void 0:i.email)||"-","\xa0"]}),(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,V.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Website"}),(0,V.jsx)(a.N_,{to:null!==i&&void 0!==i&&i.website?i.website.startsWith("http://")||i.website.startsWith("https://")?i.website:`https://${i.website}`:"#",target:"_blank",children:(0,V.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#106B99",fontSize:"16px"},children:[(0,V.jsxs)("div",{className:"ellipsis-width",title:null===i||void 0===i?void 0:i.website,children:[(null===i||void 0===i?void 0:i.website)||"-","\xa0"]}),(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,V.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]})]}),(0,V.jsx)("h5",{className:(0,z.A)(ne),children:"Payment Terms"}),(0,V.jsx)("div",{className:(0,z.A)(le),children:(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Payment Terms"}),(0,V.jsx)("h4",{className:(0,z.A)(oe,"mb-0"),children:(null===p||void 0===p?void 0:p.label)||"-"})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Customers Discount Category"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:(null===i||void 0===i||null===(n=i.category)||void 0===n?void 0:n.name)||"-"})]})]})}),(0,V.jsx)("h5",{className:(0,z.A)(ne),children:"Contact Person"}),null===x||void 0===x?void 0:x.map((e=>(0,V.jsxs)("div",{className:(0,z.A)(le),children:[(0,V.jsx)("div",{className:(0,z.A)(ae),children:(0,V.jsx)("button",{className:(0,z.A)(de,"cursor-pointer"),disabled:d===e.id,onClick:()=>(async e=>{try{if(!e)return m.oR.error("Id not found");c(e),await(0,M.Ye)(e),o(),m.oR.success("Contact person has been successfully set as the primary contact")}catch(s){console.error("Error is setting primary contact:",s),m.oR.error("Failed to set primary contact. Please try again.")}finally{c(null)}})(e.id),children:d===e.id?(0,V.jsx)(D.p,{style:{width:"20px",height:"20px"}}):(0,V.jsx)(se,{color:e.is_main?"#FFCB45":"#D0D5DD",size:16})})}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Full Name"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:`${e.firstname} ${e.lastname}`})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Email"}),(0,V.jsx)(a.N_,{to:"#",onClick:s=>{s.preventDefault(),window.location.href=`mailto:${null===e||void 0===e?void 0:e.email}`},children:(0,V.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#106B99",fontSize:"16px"},children:[(0,V.jsxs)("div",{className:"ellipsis-width",title:null===e||void 0===e?void 0:e.email,children:[(null===e||void 0===e?void 0:e.email)||"-","\xa0"]}),(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,V.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Position"}),(0,V.jsx)("h4",{className:(0,z.A)(oe,"mb-0"),children:(null===e||void 0===e?void 0:e.position)||"-"})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Phone"}),(0,V.jsxs)("h4",{className:(0,z.A)(oe,"mb-0"),children:[(null===e||void 0===e?void 0:e.phone)||"-","\xa0\xa0",(0,V.jsx)(a.N_,{to:"#",onClick:s=>{s.preventDefault(),window.location.href=`tel:${null===e||void 0===e?void 0:e.phone}`},style:{position:"relative",top:"-2px"},children:(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",children:(0,V.jsx)("path",{d:"M4.15387 1.32849C3.90343 1.00649 3.42745 0.976861 3.139 1.26531L2.10508 2.29923C1.6216 2.78271 1.44387 3.46766 1.6551 4.06847C2.50338 6.48124 3.89215 8.74671 5.82272 10.6773C7.75329 12.6078 10.0188 13.9966 12.4315 14.8449C13.0323 15.0561 13.7173 14.8784 14.2008 14.3949L15.2347 13.361C15.5231 13.0726 15.4935 12.5966 15.1715 12.3461L12.8653 10.5524C12.7008 10.4245 12.4866 10.3793 12.2845 10.4298L10.0954 10.9771C9.50082 11.1257 8.87183 10.9515 8.43845 10.5181L5.98187 8.06155C5.54849 7.62817 5.37427 6.99919 5.52292 6.40459L6.07019 4.21553C6.12073 4.01336 6.07552 3.79918 5.94758 3.63468L4.15387 1.32849ZM2.38477 0.511076C3.12689 -0.231039 4.3515 -0.154797 4.99583 0.673634L6.78954 2.97983C7.1187 3.40304 7.23502 3.95409 7.10498 4.47423L6.55772 6.66329C6.49994 6.8944 6.56766 7.13888 6.7361 7.30732L9.19268 9.7639C9.36113 9.93235 9.6056 10.0001 9.83671 9.94229L12.0258 9.39502C12.5459 9.26498 13.097 9.3813 13.5202 9.71047L15.8264 11.5042C16.6548 12.1485 16.731 13.3731 15.9889 14.1152L14.955 15.1492C14.2153 15.8889 13.1089 16.2137 12.0778 15.8512C9.51754 14.9511 7.11438 13.4774 5.06849 11.4315C3.0226 9.38562 1.54895 6.98246 0.648838 4.42225C0.286318 3.39112 0.61113 2.28472 1.35085 1.545L2.38477 0.511076Z",fill:"#106B99"})})})]})]})]})]},e.id))),0===(null===x||void 0===x?void 0:x.length)&&(0,V.jsx)("div",{className:(0,z.A)(le),children:"-"}),(0,V.jsx)("h5",{className:(0,z.A)(ne),children:"Locations"}),null===v||void 0===v?void 0:v.map((e=>(0,V.jsxs)("div",{className:(0,z.A)(le),children:[(0,V.jsxs)("div",{className:(0,z.A)(ae),children:[(0,V.jsx)("button",{className:(0,z.A)(de,"cursor-pointer"),disabled:d===e.id,onClick:()=>(async e=>{try{if(!e)return m.oR.error("Id not found");c(e),await(0,M.QK)(e),o(),m.oR.success("Address has been successfully set as the primary address")}catch(s){console.error("Error is setting primary address:",s),m.oR.error("Failed to set primary address. Please try again.")}finally{c(null)}})(e.id),children:d===e.id?(0,V.jsx)(D.p,{style:{width:"20px",height:"20px"}}):(0,V.jsx)(se,{color:e.is_main?"#FFCB45":"#D0D5DD",size:16})}),(0,V.jsx)("div",{className:(0,z.A)(de),children:(0,V.jsx)(a.N_,{to:`http://maps.google.com/?q=${e.address}`,target:"_blank",children:(0,V.jsx)("img",{src:ce,alt:"map"})})})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Location Name"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:`${e.title||"-"}`})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Country"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:`${e.country||"-"}`})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"State"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:`${e.state||"-"}`})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"City"}),(0,V.jsx)("h4",{className:(0,z.A)(oe),children:`${e.city||"-"}`})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Street Address"}),(0,V.jsx)("h4",{className:(0,z.A)(oe,"mb-0"),children:`${e.address||"-"}`})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(re),children:"Postcode"}),(0,V.jsx)("h4",{className:(0,z.A)(oe,"mb-0"),children:`${e.postcode||"-"}`})]})]})]},e.id))),0===(null===v||void 0===v?void 0:v.length)&&(0,V.jsx)("div",{className:(0,z.A)(le),children:"-"}),(0,V.jsx)("h5",{className:(0,z.A)(ne),children:"Client Description"}),(0,V.jsx)("div",{className:(0,z.A)(le,"mb-0"),children:i.description||"-"})]})},be=e=>{let{client:s,refetch:t,closeIconRef:n,hide:i}=e;const r=(0,l.useRef)(null),[o,a]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),h=(0,d.I)({queryKey:["industries"],queryFn:M.OF}),m=()=>{r.current&&r.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,V.jsx)("div",{className:"view-details-sidebar",children:(0,V.jsxs)("div",{className:"d-flex flex-column",children:[(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,V.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,V.jsx)("div",{className:(0,z.A)(te,"d-flex align-items-center justify-content-center"),children:s.photo?(0,V.jsx)("img",{src:s.photo,alt:"client-photo"}):(0,V.jsx)(Y.A,{color:"#667085",size:26})}),(0,V.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,V.jsx)("span",{style:{color:"344054",fontSize:"22px",fontWeight:600},children:s.name}),s.deleted?(0,V.jsx)(T.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]})]}),(0,V.jsx)("span",{children:(0,V.jsx)(Z.A,{type:"button",className:"text-button",ref:n,onClick:e=>i(e),children:(0,V.jsx)(J.A,{size:24,color:"#667085"})})})]}),(0,V.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:[(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,V.jsx)("h5",{className:(0,z.A)(ne),children:"Client Details"}),(0,V.jsxs)("h6",{className:(0,z.A)(ie),children:["Client ID: ",null===s||void 0===s?void 0:s.number]})]}),c?(0,V.jsx)(pe,{ref:r,refetch:t,setIsPending:a,handleExternalSubmit:m,client:s,setIsEdit:u}):(0,V.jsx)(ye,{client:s,industries:null===h||void 0===h?void 0:h.data,refetch:t})]}),(0,V.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-between h-100",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)"},children:[s.deleted?(0,V.jsx)("span",{}):(0,V.jsx)(je,{id:null===s||void 0===s?void 0:s.id}),c?(0,V.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,V.jsx)(Z.A,{type:"button",onClick:e=>{e.stopPropagation(),u(!1)},className:"outline-button",children:"Cancel"}),(0,V.jsx)(Z.A,{type:"button",onClick:m,className:"solid-button",style:{width:"180px"},children:o?"Loading...":"Save Client Details"})]}):s.deleted?(0,V.jsx)(ge,{id:null===s||void 0===s?void 0:s.id,refetch:t}):(0,V.jsx)(Z.A,{type:"button",onClick:e=>{e.stopPropagation(),u(!0)},className:"solid-button",children:"Edit Client"})]})]})})};var Ae=t(95192);const we="indivisual-client-view_profileBox__WzeFK",Ne="indivisual-client-view_box__ObzCe",Ce="indivisual-client-view_boxLabel__w8zNR",_e="indivisual-client-view_boxLabel2__5dIgs",Se="indivisual-client-view_label__hrhXx",Oe="indivisual-client-view_text__d2e62",Pe="indivisual-client-view_iconBoxsContainer__XWWcT",ke="indivisual-client-view_iconBox__PFmlv";var Fe=t(24572),Ee=t(43162),$e=t(17344);const Be=(0,l.forwardRef)(((e,s)=>{var t,n,i,r,a,d,c,u,h,p,v,x,f,j,g,y,b,A,w;let{client:N,refetch:C,setIsPending:_,handleExternalSubmit:S,setIsEdit:O}=e;const P=(0,o.Zp)(),[k,F]=(0,l.useState)((null===N||void 0===N?void 0:N.photo)||null),[E]=(0,l.useState)({firstname:(null===N||void 0===N||null===(t=N.name)||void 0===t||null===(n=t.split(" "))||void 0===n?void 0:n[0])||"",lastname:(null===N||void 0===N||null===(i=N.name)||void 0===i||null===(r=i.split(" "))||void 0===r?void 0:r[1])||"",email:null===N||void 0===N?void 0:N.email,phone:null===N||void 0===N?void 0:N.phone,category:(null===N||void 0===N||null===(a=N.category)||void 0===a?void 0:a.id)||1,payment_terms:null===N||void 0===N?void 0:N.payment_terms,description:null===N||void 0===N?void 0:N.description,address:{id:(null===(d=N.addresses)||void 0===d||null===(c=d[0])||void 0===c?void 0:c.id)||"",title:(null===(u=N.addresses)||void 0===u||null===(h=u[0])||void 0===h?void 0:h.title)||"",country:(null===(p=N.addresses)||void 0===p||null===(v=p[0])||void 0===v?void 0:v.country_id)||"",state:(null===(x=N.addresses)||void 0===x||null===(f=x[0])||void 0===f?void 0:f.state_id)||"",city:(null===(j=N.addresses)||void 0===j||null===(g=j[0])||void 0===g?void 0:g.city)||"",address:(null===(y=N.addresses)||void 0===y||null===(b=y[0])||void 0===b?void 0:b.address)||"",postcode:(null===(A=N.addresses)||void 0===A||null===(w=A[0])||void 0===w?void 0:w.postcode)||""}});return(0,V.jsx)($e.A,{photo:k,setPhoto:F,ref:s,onSubmit:async e=>{N.id?(async e=>{console.log("indivisualFormSubmit: ",e);const s=(0,Ee.$)(e,k);_(!0),await(0,Ee.g)(`https://dev.memate.com.au/api/v1/clients/update/individual/${N.id}/`,"PUT",s,(e=>{O(!1),console.log("response: ",e),m.oR.success("Client updated successfully"),P("/clients")}),(()=>{m.oR.error("Failed to update client. Please try again.")})),_(!1)})(e):m.oR.error("Client id not found")},defaultValues:E})})),ze=e=>{var s,t,l,n,i;let{client:r}=e;const o=[{value:1,label:"COD"},{value:0,label:"Prepaid"},{value:7,label:"Week"},{value:14,label:"Two weeks"},{value:30,label:"One month"}];let d=null===o||void 0===o?void 0:o.find((e=>(null===e||void 0===e?void 0:e.value)===(null===r||void 0===r?void 0:r.payment_terms)));return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:(0,z.A)(Ne),children:(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Email"}),(0,V.jsx)(a.N_,{to:"#",onClick:e=>{e.preventDefault(),window.location.href=`mailto:${null===r||void 0===r?void 0:r.email}`},children:(0,V.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#106B99",fontSize:"16px"},children:[(0,V.jsxs)("div",{className:"ellipsis-width",title:null===r||void 0===r?void 0:r.email,children:[(null===r||void 0===r?void 0:r.email)||"-","\xa0"]}),(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,V.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Phone"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:(null===r||void 0===r?void 0:r.phone)||"-"})]})]})}),(0,V.jsx)("h5",{className:(0,z.A)(Ce),children:"Payment Terms"}),(0,V.jsx)("div",{className:(0,z.A)(Ne),children:(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Payment Terms"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe,"mb-0"),children:(null===d||void 0===d?void 0:d.label)||"-"})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Customers Discount Category"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:(null===r||void 0===r||null===(s=r.category)||void 0===s?void 0:s.name)||"-"})]})]})}),(0,V.jsx)("h5",{className:(0,z.A)(Ce),children:"Contact Person"}),null===r||void 0===r||null===(t=r.contact_persons)||void 0===t?void 0:t.map((e=>{var s;return(0,V.jsxs)("div",{className:(0,z.A)(Ne),children:[(0,V.jsx)("div",{className:(0,z.A)(Pe),children:(0,V.jsx)("div",{className:(0,z.A)(ke),children:(0,V.jsx)(se,{color:e.is_main||1===(null===r||void 0===r||null===(s=r.contact_persons)||void 0===s?void 0:s.length)?"#FFCB45":"#D0D5DD",size:16})})}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Full Name"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:`${e.firstname} ${e.lastname}`})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Email"}),(0,V.jsx)(a.N_,{to:"#",onClick:s=>{s.preventDefault(),window.location.href=`mailto:${null===e||void 0===e?void 0:e.email}`},children:(0,V.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#106B99",fontSize:"16px"},children:[(0,V.jsxs)("div",{className:"ellipsis-width",title:null===e||void 0===e?void 0:e.email,children:[(null===e||void 0===e?void 0:e.email)||"-","\xa0"]}),(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,V.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Position"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe,"mb-0"),children:(null===e||void 0===e?void 0:e.position)||"-"})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Phone"}),(0,V.jsxs)("h4",{className:(0,z.A)(Oe,"mb-0"),children:[(null===e||void 0===e?void 0:e.phone)||"-","\xa0\xa0",(0,V.jsx)(a.N_,{to:"#",onClick:s=>{s.preventDefault(),window.location.href=`tel:${null===e||void 0===e?void 0:e.phone}`},style:{position:"relative",top:"-2px"},children:(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",children:(0,V.jsx)("path",{d:"M4.15387 1.32849C3.90343 1.00649 3.42745 0.976861 3.139 1.26531L2.10508 2.29923C1.6216 2.78271 1.44387 3.46766 1.6551 4.06847C2.50338 6.48124 3.89215 8.74671 5.82272 10.6773C7.75329 12.6078 10.0188 13.9966 12.4315 14.8449C13.0323 15.0561 13.7173 14.8784 14.2008 14.3949L15.2347 13.361C15.5231 13.0726 15.4935 12.5966 15.1715 12.3461L12.8653 10.5524C12.7008 10.4245 12.4866 10.3793 12.2845 10.4298L10.0954 10.9771C9.50082 11.1257 8.87183 10.9515 8.43845 10.5181L5.98187 8.06155C5.54849 7.62817 5.37427 6.99919 5.52292 6.40459L6.07019 4.21553C6.12073 4.01336 6.07552 3.79918 5.94758 3.63468L4.15387 1.32849ZM2.38477 0.511076C3.12689 -0.231039 4.3515 -0.154797 4.99583 0.673634L6.78954 2.97983C7.1187 3.40304 7.23502 3.95409 7.10498 4.47423L6.55772 6.66329C6.49994 6.8944 6.56766 7.13888 6.7361 7.30732L9.19268 9.7639C9.36113 9.93235 9.6056 10.0001 9.83671 9.94229L12.0258 9.39502C12.5459 9.26498 13.097 9.3813 13.5202 9.71047L15.8264 11.5042C16.6548 12.1485 16.731 13.3731 15.9889 14.1152L14.955 15.1492C14.2153 15.8889 13.1089 16.2137 12.0778 15.8512C9.51754 14.9511 7.11438 13.4774 5.06849 11.4315C3.0226 9.38562 1.54895 6.98246 0.648838 4.42225C0.286318 3.39112 0.61113 2.28472 1.35085 1.545L2.38477 0.511076Z",fill:"#106B99"})})})]})]})]})]},e.id)})),0===(null===r||void 0===r||null===(l=r.contact_persons)||void 0===l?void 0:l.length)&&(0,V.jsx)("div",{className:(0,z.A)(Ne),children:"-"}),(0,V.jsx)("h5",{className:(0,z.A)(Ce),children:"Locations"}),null===r||void 0===r||null===(n=r.addresses)||void 0===n?void 0:n.map((e=>{var s;return(0,V.jsxs)("div",{className:(0,z.A)(Ne),children:[(0,V.jsxs)("div",{className:(0,z.A)(Pe),children:[(0,V.jsx)("div",{className:(0,z.A)(ke),children:(0,V.jsx)(se,{color:e.is_main||1===(null===r||void 0===r||null===(s=r.addresses)||void 0===s?void 0:s.length)?"#FFCB45":"#D0D5DD",size:16})}),(0,V.jsx)("div",{className:(0,z.A)(ke),children:(0,V.jsx)(a.N_,{to:`http://maps.google.com/?q=${e.address}`,target:"_blank",children:(0,V.jsx)("img",{src:ce,alt:"map"})})})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Location Name"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:`${e.title||"-"}`})]}),(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Country"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:`${e.country||"-"}`})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"State"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:`${e.state||"-"}`})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"City"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:`${e.city_name||"-"}`})]})]}),(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Street Address"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe,"mb-0"),children:`${e.address||"-"}`})]}),(0,V.jsxs)(X.A,{sm:6,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Postcode"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe,"mb-0"),children:`${e.postcode||"-"}`})]})]})]},e.id)})),0===(null===r||void 0===r||null===(i=r.addresses)||void 0===i?void 0:i.length)&&(0,V.jsx)("div",{className:(0,z.A)(Ne),children:"-"}),(0,V.jsx)("h5",{className:(0,z.A)(Ce),children:"Client Description"}),(0,V.jsx)("div",{className:(0,z.A)(Ne),children:r.description||"-"}),(0,V.jsx)("h5",{className:(0,z.A)(Ce),children:"Calculations"}),(0,V.jsxs)(G.A,{children:[(0,V.jsx)(X.A,{sm:6,children:(0,V.jsx)("div",{className:(0,z.A)(Ne),children:(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Total Turnover:"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:(0,Fe.up)(+r.total_turnover)||"-"})]}),(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Average Weekly Turnover:"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:(0,Fe.up)(+r.average_weekly)||"-"})]}),(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Total orders:"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:(0,Fe.up)(+r.total_orders)||"-"})]})]})})}),(0,V.jsx)(X.A,{sm:6,children:(0,V.jsx)("div",{className:(0,z.A)(Ne),children:(0,V.jsxs)(G.A,{children:[(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Total requests:"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:+r.total_requests||"-"})]}),(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Order Frequency:"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:((e,s)=>{const t=12*((new Date).getFullYear()-new Date(1e3*+s).getFullYear())+((new Date).getMonth()-new Date(1e3*s).getMonth());return`${t>0?(parseFloat(e)/t).toFixed(2):0} p/m`})(r.total_orders,r.created)||"-"})]}),(0,V.jsxs)(X.A,{sm:12,children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Average order:"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe),children:(0,Fe.up)(+r.average_orders)||"-"})]})]})})})]}),(0,V.jsxs)("div",{className:(0,z.A)(Ne,"mb-0"),children:[(0,V.jsx)("label",{className:(0,z.A)(Se),children:"Date Entered:"}),(0,V.jsx)("h4",{className:(0,z.A)(Oe,"mb-0"),children:(0,Fe.i$)(r.created,!0)||"-"})]})]})},Le=e=>{let{client:s,refetch:t,closeIconRef:n,hide:i}=e;const r=(0,l.useRef)(null),[o,a]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),u=()=>{r.current&&r.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,V.jsx)("div",{className:"view-details-sidebar",children:(0,V.jsxs)("div",{className:"d-flex flex-column",children:[(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,V.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,V.jsx)("div",{className:(0,z.A)(we,"d-flex align-items-center justify-content-center"),children:s.photo?(0,V.jsx)("img",{src:s.photo,alt:"client-photo"}):(0,V.jsx)(Ae.A,{color:"#667085",size:26})}),(0,V.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,V.jsx)("span",{style:{color:"344054",fontSize:"22px",fontWeight:600},children:s.name}),s.deleted?(0,V.jsx)(T.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]})]}),(0,V.jsx)("span",{children:(0,V.jsx)(Z.A,{type:"button",className:"text-button",ref:n,onClick:e=>i(e),children:(0,V.jsx)(J.A,{size:24,color:"#667085"})})})]}),(0,V.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:[(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,V.jsx)("h5",{className:(0,z.A)(Ce),children:"Client Details"}),(0,V.jsxs)("h6",{className:(0,z.A)(_e),children:["Client ID: ",null===s||void 0===s?void 0:s.number]})]}),d?(0,V.jsx)(Be,{ref:r,refetch:t,setIsPending:a,handleExternalSubmit:u,client:s,setIsEdit:c}):(0,V.jsx)(ze,{client:s})]}),(0,V.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-between h-100",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)"},children:[s.deleted?(0,V.jsx)("span",{}):(0,V.jsx)(je,{id:null===s||void 0===s?void 0:s.id}),d?(0,V.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,V.jsx)(Z.A,{type:"button",onClick:e=>{e.stopPropagation(),c(!1)},className:"outline-button",children:"Cancel"}),(0,V.jsx)(Z.A,{type:"button",onClick:u,className:"solid-button",style:{minWidth:"179px"},children:o?"Loading...":"Save Client Details"})]}):s.deleted?(0,V.jsx)(ge,{id:null===s||void 0===s?void 0:s.id,refetch:t}):(0,V.jsx)(Z.A,{type:"button",onClick:e=>{e.stopPropagation(),c(!0)},className:"solid-button",children:"Edit Client"})]})]})})};var Re=t(74856);const De=()=>(0,V.jsx)("div",{className:"loading-details-sidebar",children:(0,V.jsxs)("div",{className:"d-flex flex-column",children:[(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,V.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,V.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{borderRadius:"var(--radius-xs, 4px)",border:"1px solid #dedede",width:"56px",height:"56px",overflow:"hidden"},children:(0,V.jsx)(Re.E,{size:"3.5rem"})}),(0,V.jsx)(Re.E,{height:"2rem",width:"20rem",className:"mb-2"})]}),(0,V.jsx)("span",{children:(0,V.jsx)(Re.E,{shape:"circle",size:"2rem",className:"mr-2"})})]}),(0,V.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:[(0,V.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,V.jsx)(Re.E,{height:"1.5rem",width:"10rem",className:"mb-2"}),(0,V.jsx)(Re.E,{height:"1.5rem",width:"10rem",className:"mb-2"})]}),(0,V.jsx)(Re.E,{width:"100%",className:"mb-4",height:"150px"}),(0,V.jsx)(Re.E,{height:"2rem",className:"mb-2"}),(0,V.jsx)(Re.E,{width:"100%",className:"mb-4",height:"150px"}),(0,V.jsx)(Re.E,{height:"2rem",className:"mb-2"}),(0,V.jsx)(Re.E,{width:"100%",className:"mb-4",height:"150px"})]}),(0,V.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-between h-100",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)"},children:[(0,V.jsx)(Re.E,{width:"4rem",height:"3rem"}),(0,V.jsx)(Re.E,{width:"8rem",height:"3rem"})]})]})}),Te=()=>{var e,s,t;const p=(0,o.Zp)(),v=(0,l.useRef)(null),{id:x}=(0,o.g)(),[f,j]=(0,l.useState)(!0),[g,y]=(0,l.useState)(null),[b,A,w]=(0,u.d7)("",400),N=(0,d.I)({queryKey:["client-read"],queryFn:()=>(0,M.EZ)(x),enabled:!!x,retry:1});return"Not found"===(null===N||void 0===N||null===(e=N.error)||void 0===e?void 0:e.message)&&(m.oR.error("Client not found"),p("/clients")),(0,V.jsxs)("div",{className:"client-order-history-page",children:[(0,V.jsxs)("div",{className:"client-order-history",style:{width:f?"calc(100% - 559px)":"100%"},children:[(0,V.jsxs)("div",{className:`topbar ${null!==g&&void 0!==g&&g.length?I.active:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,V.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==g&&void 0!==g&&g.length?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("h6",{className:I.selectedCount,children:["Selected: ",null===g||void 0===g?void 0:g.length]}),(0,V.jsx)("div",{className:"filtered-box",children:(0,V.jsx)("button",{className:`${I.filterBox}`,onClick:()=>{return e=!0,void(v.current?v.current.exportCSV({selectionOnly:e}):console.error("DataTable ref is null"));var e},children:(0,V.jsx)(n.A,{})})})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(a.N_,{to:"/clients",className:`${I.gobackBtn}`,children:[(0,V.jsx)(i.A,{color:"#1AB2FF",size:20})," Go Back"]}),(0,V.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,V.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,V.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,V.jsx)("input",{type:"text",placeholder:"Search",value:b,onChange:e=>w(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,V.jsx)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:(0,V.jsx)("h1",{onClick:()=>{j(!0)},className:`${I.clientName} m-0 p-0 cursor-pointer`,title:null===N||void 0===N||null===(s=N.data)||void 0===s?void 0:s.name,children:(null===N||void 0===N||null===(t=N.data)||void 0===t?void 0:t.name)||""})}),(0,V.jsx)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:(0,V.jsx)(c.$,{label:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(r.A,{color:"#1ab2ff",size:20})," \xa0 ",(0,V.jsx)("span",{style:{position:"relative",top:"2px"},children:"Open"})]}),onClick:()=>j(!0),className:"primary-text-button",text:!0})})]}),(0,V.jsx)(U,{ref:v,selected:g,setSelected:y,searchValue:A,setVisible:j})]}),(0,V.jsx)(h.B,{visible:f,position:"right",onHide:()=>j(!1),modal:!1,dismissable:!1,style:{width:"559px"},content:e=>{var s,t;let{closeIconRef:l,hide:n}=e;return null!==N&&void 0!==N&&null!==(s=N.data)&&void 0!==s&&s.is_business?(0,V.jsx)(be,{client:(null===N||void 0===N?void 0:N.data)||{},refetch:null===N||void 0===N?void 0:N.refetch,closeIconRef:l,hide:n,setVisible:j}):!1===(null===N||void 0===N||null===(t=N.data)||void 0===t?void 0:t.is_business)?(0,V.jsx)(Le,{client:(null===N||void 0===N?void 0:N.data)||{},refetch:null===N||void 0===N?void 0:N.refetch,closeIconRef:l,hide:n}):(0,V.jsx)(De,{})}})]})}},24572:(e,s,t)=>{function l(e){var s,t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},l="";for(s in t)for(;e>=t[s];)l+=s,e-=t[s];return l}function n(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}t.d(s,{Mf:()=>l,i$:()=>i,up:()=>n});const i=(e,s)=>{var t;if(!e)return"-";const l=new Date(1e3*+e);if(s){return l.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,".")}return null===(t=l.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))||void 0===t?void 0:t.replace(/,/g,"")}},67046:(e,s,t)=>{t.d(s,{CK:()=>m,D7:()=>i,HT:()=>p,Op:()=>d,V3:()=>u,WG:()=>a,cS:()=>o,fW:()=>h,j3:()=>r,oe:()=>c});var l=t(31342);const n="https://dev.memate.com.au/api/v1",i=async e=>{const s={method:"POST",body:e},t=new URL(`${n}/sales/new-request/`);return(0,l.f)(t.toString(),s)},r=async()=>{const e=new Headers,s=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${s}`);const t={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${n}/sales/`,t);return await e.text()}catch(l){throw console.error("Profile fetch error:",l),l}},o=async(e,s)=>{const t=new Headers,l=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${l}`),t.append("Content-Type","application/json");const i={method:"PUT",headers:t,body:JSON.stringify({sales_note:s}),redirect:"follow"};try{const s=await fetch(`${n}/sales/${e}/notes/`,i);if(!s.ok){const e=await s.text();throw new Error(`Sales notes update failed with status ${s.status}: ${e}`)}const t=await s.text();return t.trim()?JSON.parse(t):null}catch(r){throw console.error("Sales notes update error:",r),r}},a=async e=>{const s={method:"PUT",body:{ids:e}},t=new URL(`${n}/sales/status/won/`);return(0,l.f)(t.toString(),s)},d=async e=>{const s={method:"PUT",body:{ids:e}},t=new URL(`${n}/sales/status/lost/`);return(0,l.f)(t.toString(),s)},c=async(e,s)=>{const t=new Headers,l=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${l}`),t.append("Content-Type","application/json");const i={method:"POST",headers:t,body:JSON.stringify(s),redirect:"follow"};try{const s=await fetch(`${n}/sales/${e}/contacts/`,i);return s.ok?s:(console.log("Error:",s.status),null)}catch(r){return console.log("Error:",r),null}},u=async(e,s)=>{const t=new Headers,l=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${l}`),t.append("Content-Type","application/json");const i={method:"PUT",headers:t,body:JSON.stringify({lead:s,unique_id:e}),redirect:"follow"};try{const s=await fetch(`${n}/sales/${e}/lead/`,i);if(!s.ok){const e=await s.text();throw new Error(`Sales lead update failed with status ${s.status}: ${e}`)}const t=await s.text();return t.trim()?JSON.parse(t):null}catch(r){throw console.error("Sales lead update error:",r),r}},h=async e=>{const s=new Headers,t=localStorage.getItem("access_token");s.append("Authorization",`Bearer ${t}`),s.append("Content-Type","application/json");const l={method:"PUT",headers:s,body:JSON.stringify({ids:e}),redirect:"follow"},i=await Promise.all([fetch(`${n}/sales/status/won/`,l)]);return await Promise.all(i.map((e=>e.json())))},m=async e=>{const s=new Headers,t=localStorage.getItem("access_token");s.append("Authorization",`Bearer ${t}`),s.append("Content-Type","application/json");const l={method:"POST",headers:s,redirect:"follow"},i=await fetch(`${n}/sales/${e}/duplicate/`,l);return(await i.json())[0]},p=async e=>{const s=new Headers,t=localStorage.getItem("access_token");s.append("Authorization",`Bearer ${t}`),s.append("Content-Type","application/json");const l={method:"PUT",headers:s,body:JSON.stringify({ids:e}),redirect:"follow"},i=await Promise.all([fetch(`${n}/sales/status/lost/`,l)]);return await Promise.all(i.map((e=>e.json())))}},74196:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKZSURBVHgBjZM7aBRBGMf/sze53MNAYthdonJ5cZeQFAkSEHyQswiCWJxFIlho4yOFRbAwkigimMIikkI0lSLYSMBSUZK7aFqx0GAUTXyQ+EgkHvHu9h67M87M3i7auezON7v7/X/ft//ZIfiP42MqWc9pcIJX7OMgpJ4QPOeUnGufmX1NemdGkmBIykTGmJiqmYpqFOejmXcnueO0gAOcMzkIDmHlcOgArTh2psJs7N7eiiitxbP1JTjMETou8jgOfcqBM66wn/NFFB0HrdFa1HCu1eQKE7TMKjgTH1CAtcKmLILM90W//d6fJTFylAVkYSOrOmCsDp11YRANezRZpd/swvkX9/DNyiJpdqMp3OADcpT48yjVVNxGAyoKVlaTFbfKFvoa2/F47SX26h2qCwmWcWFHWCUHhXOpnTqOxUzsitRCvQR/QplIvPLqAUa7U2iO6riznMZXa9OHnNjPQFcDsN/bClRD1Avp7aoD5yppuX/KdQjcF7l3wGQij0GzjK0NAz+uf4Fm5ZVYAVri1xK3717WeNVt2YnXtszxxEXWhLXIaZQGjvhiu6cP1vCIIwtpTLVTFVY7mOxwxSwQQ7F+HAFaB7KvH6wtrrqzD6d8Y9UqeJeE3egoKPHKr2ZML44psWEYoJTC7uqB05YAb2j0AbRqgKo+5YtjuDg/hlwlgnyZ42xSU5CN3j4wq4C/D7EK7s871Wlh0HArj86PC2FEPU+/JaI7DcMHAT2ewDr4PwDNqzxklLCSjfli+Zy5nmFOQKYzGgLBIIzOLvU5PmBKGDZklrAsxBcyl5ATYk/oGSuH2SWCW2kBCQRgmiZCoZALONpYefphU4jTY/hdCqkdyeWurEZvLq/ZNxw359ROzOq6/lAC/gA2jGWYJ8Il5QAAAABJRU5ErkJggg=="},74856:(e,s,t)=>{t.d(s,{E:()=>v});var l=t(65043),n=t(84052),i=t(41828),r=t(2028),o=t(4504);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function d(e){var s=function(e,s){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,s||"default");if("object"!=a(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==a(s)?s:s+""}function c(e,s,t){return(s=d(s))in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}var u={root:function(e){var s=e.props;return(0,o.xW)("p-skeleton p-component",{"p-skeleton-circle":"circle"===s.shape,"p-skeleton-none":"none"===s.animation})}},h=i.x.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:u,inlineStyles:{root:{position:"relative"}},styles:'\n@layer primereact {\n    .p-skeleton {\n        position: relative;\n        overflow: hidden;\n    }\n    \n    .p-skeleton::after {\n        content: "";\n        animation: p-skeleton-animation 1.2s infinite;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(-100%);\n        z-index: 1;\n    }\n    \n    .p-skeleton-circle {\n        border-radius: 50%;\n    }\n    \n    .p-skeleton-none::after {\n        animation: none;\n    }\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n'}});function m(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,l)}return t}function p(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?m(Object(t),!0).forEach((function(s){c(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var v=l.memo(l.forwardRef((function(e,s){var t=(0,r.qV)(),a=l.useContext(n.UM),d=h.getProps(e,a),c=h.setMetaData({props:d}),u=c.ptm,m=c.cx,v=c.sx,x=c.isUnstyled;(0,i.j)(h.css.styles,x,{name:"skeleton"});var f=l.useRef(null);l.useImperativeHandle(s,(function(){return{props:d,getElement:function(){return f.current}}}));var j=d.size?{width:d.size,height:d.size,borderRadius:d.borderRadius}:{width:d.width,height:d.height,borderRadius:d.borderRadius},g=t({ref:f,className:(0,o.xW)(d.className,m("root")),style:p(p({},j),v("root")),"aria-hidden":!0},h.getOtherProps(d),u("root"));return l.createElement("div",g)})));v.displayName="Skeleton"},75329:(e,s,t)=>{t.d(s,{A:()=>d});var l=t(65043),n=t(65173),i=t.n(n),r=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},o.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,s){var t=e.color,n=void 0===t?"currentColor":t,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,h=void 0===u?"":u,m=function(e,s){if(null==e)return{};var t,l,n=function(e,s){if(null==e)return{};var t={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;t[l]=e[l]}return t}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)t=i[l],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,r);return l.createElement("svg",o({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:n,className:["bi","bi-download",h].filter(Boolean).join(" ")},m),c?l.createElement("title",null,c):null,l.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),l.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a},76104:(e,s,t)=>{t.d(s,{v:()=>p});var l=t(65043),n=t(84052),i=t(41828),r=t(2028),o=t(4504);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function d(e){var s=function(e,s){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,s||"default");if("object"!=a(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==a(s)?s:s+""}function c(e,s,t){return(s=d(s))in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}var u={value:"p-tag-value",icon:"p-tag-icon",root:function(e){var s=e.props;return(0,o.xW)("p-tag p-component",c(c({},"p-tag-".concat(s.severity),null!==s.severity),"p-tag-rounded",s.rounded))}},h=i.x.extend({defaultProps:{__TYPE:"Tag",value:null,severity:null,rounded:!1,icon:null,style:null,className:null,children:void 0},css:{classes:u,styles:"\n@layer primereact {\n    .p-tag {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-tag-icon,\n    .p-tag-value,\n    .p-tag-icon.pi {\n        line-height: 1.5;\n    }\n    \n    .p-tag.p-tag-rounded {\n        border-radius: 10rem;\n    }\n}\n"}});function m(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);s&&(l=l.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,l)}return t}var p=l.forwardRef((function(e,s){var t=(0,r.qV)(),a=l.useContext(n.UM),d=h.getProps(e,a),u=h.setMetaData({props:d}),p=u.ptm,v=u.cx,x=u.isUnstyled;(0,i.j)(h.css.styles,x,{name:"tag"});var f=l.useRef(null),j=t({className:v("icon")},p("icon")),g=o.Hj.getJSXIcon(d.icon,function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?m(Object(t),!0).forEach((function(s){c(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({},j),{props:d});l.useImperativeHandle(s,(function(){return{props:d,getElement:function(){return f.current}}}));var y=t({ref:f,className:(0,o.xW)(d.className,v("root")),style:d.style},h.getOtherProps(d),p("root")),b=t({className:v("value")},p("value"));return l.createElement("span",y,g,l.createElement("span",b,d.value),l.createElement("span",null,d.children))}));p.displayName="Tag"},77918:(e,s,t)=>{t.d(s,{A:()=>d});var l=t(65043),n=t(65173),i=t.n(n),r=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},o.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,s){var t=e.color,n=void 0===t?"currentColor":t,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,h=void 0===u?"":u,m=function(e,s){if(null==e)return{};var t,l,n=function(e,s){if(null==e)return{};var t={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;t[l]=e[l]}return t}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)t=i[l],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,r);return l.createElement("svg",o({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:n,className:["bi","bi-info-circle",h].filter(Boolean).join(" ")},m),c?l.createElement("title",null,c):null,l.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),l.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a},80248:(e,s,t)=>{t.d(s,{A:()=>d});var l=t(65043),n=t(65173),i=t.n(n),r=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},o.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,s){var t=e.color,n=void 0===t?"currentColor":t,i=e.size,a=void 0===i?"1em":i,d=e.title,c=void 0===d?null:d,u=e.className,h=void 0===u?"":u,m=function(e,s){if(null==e)return{};var t,l,n=function(e,s){if(null==e)return{};var t={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(s.includes(l))continue;t[l]=e[l]}return t}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)t=i[l],s.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,r);return l.createElement("svg",o({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:n,className:["bi","bi-box-arrow-left",h].filter(Boolean).join(" ")},m),c?l.createElement("title",null,c):null,l.createElement("path",{fillRule:"evenodd",d:"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"}),l.createElement("path",{fillRule:"evenodd",d:"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"}))}));a.propTypes={color:i().string,size:i().oneOfType([i().string,i().number]),title:i().string,className:i().string};const d=a}}]);
//# sourceMappingURL=7063.b312d646.chunk.js.map