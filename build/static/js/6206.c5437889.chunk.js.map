{"version":3,"file":"static/js/6206.c5437889.chunk.js","mappings":"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","sources":["APIs/SettingsGeneral.js","APIs/management-api.js","APIs/invoice-api.js","APIs/location-api.js","components/Business/Pages/management/event-scheduler/utils.js","assets/images/icon/addNoteModeIcon.svg","components/Business/Pages/management/project-card/add-note.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/cancel-project/cancel-project.module.scss?abdc","components/Business/Pages/management/project-card/cancel-project/cancel-project.jsx","webpack://memateapp/./src/components/Business/Pages/management/project-card/compose-email/compose-email.module.scss?1389","components/Business/Pages/management/project-card/compose-email/compose-email.js","assets/images/icon/folderFileIcon.svg","components/Business/Pages/management/project-card/files-management/files-model.js","assets/images/icon/googleReviewIcon.svg","components/Business/Pages/management/project-card/google-review/google-review.js","webpack://memateapp/./src/ui/send-invoice/send-invoice.module.scss?f866","ui/send-invoice/send-invoice.jsx","components/Business/Pages/management/project-card/invoice-create/invoice-create.js","components/Business/Pages/management/task/create-task.js","components/Business/Pages/management/project-card/new-task.js","components/Business/Pages/management/project-card/project-card-filter.js","assets/images/icon/OrdersIcon.svg","components/Business/Pages/management/project-card/schedule-update.js","components/Business/Pages/management/project-card/select-status.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/send-sms/send-sms.module.scss?7d3f","components/Business/Pages/management/project-card/send-sms/send-sms.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/send-to-calendar/send-to-calendar.module.scss?26cb","assets/images/icon/calendar.svg","components/Business/Pages/management/project-card/send-to-calendar/index.js","components/Business/Pages/management/project-card/send-to-calendar/send-to-calendar.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/start-chat/start-chat.module.scss?b498","components/Business/Pages/management/project-card/start-chat/start-chat.js","components/Business/Pages/management/project-card/ui/current-job-and-expense-loading.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/ui/job-status/job-status.module.scss?2fd7","components/Business/Pages/management/project-card/ui/job-status/job-status.js","components/Business/Pages/management/project-card/project-card-model.js","components/Business/Pages/management/task/view-task.js","components/Business/Pages/management/event-scheduler/event-scheduler.js","components/Business/Pages/management/management-page.js","APIs/SalesApi.js","webpack://memateapp/./src/ui/send-email-2/send-email.module.scss?3bd9","ui/send-email-2/send-email.jsx","features/chat/ui/chat-area/chat-attachment-popover.jsx","shared/lib/bootstrap-file-icons.js"],"sourcesContent":["import { nanoid } from \"nanoid\";\nimport { getLocation } from \"./location-api\";\n\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n/**\n * A generic fetch function to make API calls.\n * @param {string} endpoint - The API endpoint to call.\n * @param {object} options - The fetch options including method, headers, and body.\n * @returns {Promise<any>} - The JSON response from the API.\n */\nconst fetchAPI = async (endpoint, options = {}) => {\n  const { method = 'GET', headers = {}, body } = options;\n  const accessToken = localStorage.getItem(\"access_token\");\n\n  const defaultHeaders = {\n    'Authorization': `Bearer ${accessToken}`,\n    'Content-Type': 'application/json',\n    ...headers\n  };\n\n  const requestOptions = {\n    method,\n    headers: defaultHeaders,\n    body: JSON.stringify(body),\n    redirect: 'follow'\n  };\n\n  try {\n    const url = new URL(`${endpoint}`);\n    const response = await fetch(url, requestOptions);\n    \n    const contentType = response.headers.get('Content-Type');\n    \n    if (!response.ok) {\n      // Try to parse error response as JSON\n      if (contentType && contentType.includes('application/json')) {\n        const errorData = await response.json();\n        const error = new Error(errorData.detail || `HTTP error! Status: ${response.status}`);\n        error.status = response.status;\n        error.data = errorData;\n        throw error;\n      } else {\n        const errorText = await response.text();\n        const error = new Error(errorText || `HTTP error! Status: ${response.status}`);\n        error.status = response.status;\n        throw error;\n      }\n    }\n\n    if (contentType && contentType.includes('application/json')) {\n      return await response.json();\n    } else {\n      // Handle non-JSON responses\n      const text = await response.text();\n      return { message: 'Non-JSON response', body: text };\n    }\n\n  } catch (error) {\n    console.error('Fetch API error:', error);\n    throw error;\n  }\n};\n\nexport const getBillingPersonalInfo = async () => {\n  const endpoint = `/settings/subscriptions/tax-id/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getUpcomingPayment = async () => {\n  const endpoint = `/settings/subscriptions/upcoming/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateBillingPersonalInfo = async (data) => {\n  const endpoint = `/settings/subscriptions/tax-id/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getPaymentMethodInfo = async () => {\n  const endpoint = `/settings/subscriptions/payment-method/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const retryPayment = async () => {\n  const endpoint = `/subscriptions/retry/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updatePaymentMethodInfo = async (data) => {\n  const endpoint = `/settings/subscriptions/payment-method/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getReginalAndLanguage = async () => {\n  const endpoint = `/settings/organization/region-language/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateReginalAndLanguage = async (data) => {\n  const endpoint = `/settings/organization/region-language/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createProjectStatus = async (data) => {\n  console.log('data: ', data);\n  if (data.id) delete data.id;\n  if (data.isNew) delete data.isNew;\n  if (data.isChanged) delete data.isChanged;\n  if (data.value) delete data.value;\n\n  const endpoint = `/settings/project-statuses/new/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectStatusById = async (id, data) => {\n  const endpoint = `/settings/project-statuses/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteProjectStatusById = async (id) => {\n  const endpoint = `/settings/project-statuses/delete/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\n\n\n\n\n\n\nexport const SettingsGeneralInformation = async () => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/general/`, requestOptions);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const updateGeneralInformation = async (data, photo) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const formData = new FormData();\n  Object.keys(data).forEach((key) => {\n    formData.append(key, data[key]);\n  });\n\n  if (photo?.croppedImageBlob) {\n    const photoHintId = nanoid(6);\n    formData.append('company_logo', photo?.croppedImageBlob, `${photoHintId}.jpg`);\n  }\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: formData,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/general/`, requestOptions);\n    const result = await response.text();\n    console.log('result>>>>>>>>>>: ', result);\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const SettingsBankInformation = async () => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/bank/`, requestOptions);\n    const result = await response.text();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const updateBankInformation = async (generalData) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const formData = new FormData();\n  Object.keys(generalData).forEach((key) => {\n    formData.append(key, generalData[key]);\n  });\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: formData,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/bank/`, requestOptions);\n    const result = await response.text();\n    console.log('result: ', result);\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const ProjectStatusesList = async () => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/project-statuses/`, requestOptions);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('project fetch error:', error);\n    throw error;\n  }\n};\n\n\nexport const getHolidaysList = async () => {\n  try {\n    const location = JSON.parse(localStorage.getItem(\"profileData\")).location;\n    const locationDetails = await getLocation(location);\n    if (!locationDetails || !locationDetails.state) {\n      console.error('Invalid location details:', locationDetails);\n      return [];\n    }\n    const endpoint = `/locations/${locationDetails.state}/holidays/`;\n    const options = {\n      method: 'GET'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n  } catch (err) {\n    console.error('Error fetching holidays:', err);\n    return [];\n  }\n};","const API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n/**\n * A generic fetch function to make API calls.\n * @param {string} endpoint - The API endpoint to call.\n * @param {object} options - The fetch options including method, headers, and body.\n * @returns {Promise<any>} - The JSON response from the API.\n */\nconst fetchAPI = async (endpoint, options = {}) => {\n    const { method = 'GET', headers = {}, body } = options;\n    const accessToken = localStorage.getItem(\"access_token\");\n\n    const defaultHeaders = {\n        'Authorization': `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n        ...headers\n    };\n\n    const requestOptions = {\n        method,\n        headers: defaultHeaders,\n        body: JSON.stringify(body),\n        redirect: 'follow'\n    };\n\n    try {\n        const url = new URL(`${endpoint}`);\n        const response = await fetch(url, requestOptions);\n        if (!response.ok) {\n            throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const contentType = response.headers.get('Content-Type');\n        if (contentType && contentType.includes('application/json')) {\n            return await response.json();\n        } else {\n            // Handle non-JSON responses\n            const text = await response.text();\n            return { message: 'Non-JSON response', body: text };\n        }\n\n    } catch (error) {\n        console.error('Fetch API error:', error);\n        throw error;\n    }\n};\n\n\nexport const updateProjectScheduleById = async (id, data) => {\n    const endpoint = `/project-card/schedule/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectStatusById = async (id, data) => {\n    const endpoint = `/project-card/custom-status/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectReferenceById = async (id, data) => {\n    const endpoint = `/project-card/reference/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createProjectNoteById = async (id, data) => {\n    const endpoint = `/project-card/note/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsToSalesUpdate = async (id) => {\n    const endpoint = `/projects/back/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsOrderDecline = async (id) => {\n    const endpoint = `/projects/decline/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const projectsComplete = async (id) => {\n    const endpoint = `/projects/complete/`;\n    const options = {\n        method: 'PUT',\n        body: { unique_id: id }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createInvoiceById = async (id) => {\n    const endpoint = `/invoices/create/${id}/`;\n    const options = {\n        method: 'POST'\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const createAndSendInvoiceById = async (id, data) => {\n    const endpoint = `/invoices/send/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getProjectFilesById = async (id) => {\n    const endpoint = `/projects/file-list/${id}/`;\n    const options = {\n        method: 'GET',\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const deleteFileByKey = async (id, fileKey) => {\n    const endpoint = `/projects/file-delete/${id}/`;\n    const options = {\n        method: 'POST',\n        body: { file_name: fileKey }\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const updateCostBreakDownDescription = async (id, data) => {\n    const endpoint = `/project-card/calc-description/${id}/`;\n    const options = {\n        method: 'PUT',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const sendComposeEmail = async (id, action, data) => {\n    let endpoint;\n    if (action) endpoint = `/custom/email/${id}/${action}/`;\n    else endpoint = `/custom/email/${id}/`;\n\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const sendSms = async (id, data) => {\n    let endpoint = `/sms/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const resendQuoteEmail = async (id, data) => {\n    let endpoint = `/resend/quote/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const getManagement = async () => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"GET\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/management/`, requestOptions);\n        const result = await response.json();\n        return result; // Return the result if needed\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\n\n\nexport const ProjectCardApi = async (uniqueId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"GET\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/${uniqueId}/`, requestOptions);\n        const result = await response.json();\n        return result; // Return the result if needed\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\nexport const cardScheduleUpdateApi = async (uniqueId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"PUT\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/schedule/${uniqueId}/`, requestOptions);\n        console.log('response: ', response);\n        const result = await response.text();\n        return result;\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\nexport const cardAddNoteApi = async (projectId) => {\n    const myHeaders = new Headers();\n    const accessToken = localStorage.getItem(\"access_token\");\n    myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    const requestOptions = {\n        method: \"PUT\",\n        headers: myHeaders,\n        redirect: \"follow\"\n    };\n\n    try {\n        const response = await fetch(`${API_BASE_URL}/project-card/sales-note/${projectId}/`, requestOptions);\n        console.log('response: ', response);\n        const result = await response.text();\n        console.log('result: ', result);\n        return result;\n    } catch (error) {\n        console.error(error);\n        throw error; // Rethrow the error if needed\n    }\n};\n\n\n\n\n\n\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfInvoice = async (page, limit, search = \"\", order = \"\", isShowUnpaid, filters) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/invoices/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  url.searchParams.append(\"limit\", limit);\n  url.searchParams.append(\"offset\", offset);\n  if (search) url.searchParams.append(\"search\", search);\n  if (order) url.searchParams.append(\"ordering\", order);\n  if (isShowUnpaid) url.searchParams.append('status', 'not_paid');\n\n  let clientsFilter = '';\n  if (filters?.client) {\n    clientsFilter = filters?.client?.map(client => client.id).join(',');\n  }\n  if (clientsFilter) url.searchParams.append('clients', clientsFilter);\n\n  let statusFilter = '';\n  if (filters?.status && filters?.status?.length === 1) {\n    filters?.status?.forEach(element => {\n      if (element?.name === 'Paid') statusFilter = 'paid';\n      else if (element?.name === 'Not Paid') statusFilter = 'not_paid';\n    });\n  }\n  if (statusFilter) url.searchParams.append('status', statusFilter);\n\n  if (filters?.date) {\n    const startDate = filters?.date[0]?.value?.[0];\n    if (startDate) {\n      const date = new Date(startDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      url.searchParams.append('create_date_after', `${year}-${month}-${day}`);\n    }\n\n    const endDate = filters?.date[0]?.value?.[1];\n    if (endDate) {\n      const date = new Date(endDate);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      url.searchParams.append('create_date_before', `${year}-${month}-${day}`);\n    }\n  }\n\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/view/${uniqueId}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const getInvoicePartialHistory = async (uniqueId) => {\n  if (!uniqueId) return null;\n  const endpoint = `/invoices/read/${uniqueId}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const paymentIntentCreate = async (uniqueId, data) => {\n  const endpoint = `/invoices/payment-intent/${uniqueId}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const deleteInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/delete/${uniqueId}/`;\n  const options = {\n    method: 'DELETE'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceEmail = async (id, data) => {\n  const endpoint = `/invoices/send/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const resendInvoiceEmail = async (id, data) => {\n  const endpoint = `/resend/invoice/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const partialPaymentCreate = async (id, data) => {\n  const endpoint = `/invoices/partial-payment/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceToXeroApi = async (data) => {\n  const endpoint = `/invoices/to-xero/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markInvoiceAsPaid = async (id) => {\n  const endpoint = `/team/mobile-users/invoices/${id}/pay/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markInvoiceAsUnpaid = async (id) => {\n  const endpoint = `/team/mobile-users/invoices/${id}/unpay/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getLocationList = async () => {\n  const endpoint = `/locations/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getLocation = async (id) => {\n  const endpoint = `/locations/${id}`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createLocation = async (data) => {\n  const endpoint = '/locations/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateLocation = async (id, data) => {\n  if(!id) throw new Error(\"No id found\");\n\n  const endpoint = `/locations/${id}/update/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteLocation = async (id) => {\n  const endpoint = `/locations/${id}/delete/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getDesktopUserList = async () => {\n  const endpoint = `/references/desktop-users/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const userAssigned = async (locationId, userId) => {\n  const endpoint = `/locations/${locationId}/${userId}/assign-user/`;\n  const options = {\n    method: 'POST',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const userUnassigned = async (locationId, userId) => {\n  if (!locationId) throw new Error(\"Location id not found\");\n  if (!userId) throw new Error(\"User id not found\");\n\n  const endpoint = `/locations/${locationId}/${userId}/unassign-user/`;\n  const options = {\n    method: 'POST',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","import { updateProjectScheduleById } from \"../../../../../APIs/management-api\";\nimport { updateTask } from \"../../../../../APIs/task-api\";\n\nlet dp;\nlet DP;\nlet expandRow;\n\nfunction parseTimestamp(timestampStr) {\n  return new Date(new Date(timestampStr).getTime() - (new Date(timestampStr).getTimezoneOffset() * 60 * 1000));\n}\n\nfunction loadData(responses, hasWorkSubscription) {\n  const events = [];\n  const resources = responses?.map((data) => {\n    let color = data?.custom_status?.color || \"rgb(192, 192, 192)\";\n    let background = data?.custom_status?.background;\n    let font = data?.custom_status?.font;\n\n    const status = data?.custom_status?.title\n      ? `<div style='color:${font}; background:${background}; border: 1px solid ${color}; width: fit-content; max-width: 85px; border-radius: 20px; padding: 0px 6px; font-weight: 500; margin-left: auto; display: flex; align-items: center; height: 22px;' title=\"${data.custom_status.title}\">\n          <div style='max-width: 80px; overflow: hidden; text-overflow: ellipsis; display: inline-block; position: relative; top: 0px; white-space: nowrap; font-size: 12px;'>${data.custom_status.title}</div>\n        </div>`\n      : `<div style='font-size: 12px;color: #344054; background: #F2F4F7; border: 1px solid rgba(0, 0, 0, 0.498); width: fit-content; border-radius: 20px; padding: 0px 6px; font-weight: 500; margin-left: auto; display: flex; align-items: center; height: 22px'>No status</div>`;\n\n    let jobsStatus = \"not-started\";\n    if (data.jobs_count === 0 && data.jobs_count === 0)\n      jobsStatus = \"not-started\";\n    else if (data.jobs_done === data.jobs_count) jobsStatus = \"done\";\n    else if (data.jobs_done === 0) jobsStatus = \"not-done\";\n    else if (data.jobs_done) jobsStatus = \"pending\";\n\n    const projectEndDate = new Date(parseInt(data.booking_end) * 1000);\n    projectEndDate.setHours(23, 59, 59, 999);\n    let isJobOverdue = projectEndDate < new Date();\n    let overdueIcon = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"24\" height=\"24\" rx=\"12\" fill=\"#FEE4E2\" />\n            <path d=\"M12.515 5.01896C12.344 5.00635 12.1722 5 12 5V4C12.1968 4 12.3931 4.00726 12.5885 4.02167L12.515 5.01896ZM14.5193 5.46905C14.1985 5.34533 13.8691 5.2454 13.5337 5.17008L13.7528 4.19438C14.1361 4.28046 14.5126 4.39467 14.8792 4.53605L14.5193 5.46905ZM15.889 6.17971C15.7458 6.08402 15.5994 5.99388 15.4503 5.90939L15.9432 5.0393C16.1136 5.13586 16.2809 5.23888 16.4446 5.34824C16.6082 5.4576 16.7674 5.5727 16.9219 5.69322L16.3066 6.48158C16.1715 6.37612 16.0322 6.27541 15.889 6.17971ZM17.7231 7.96934C17.5252 7.68829 17.3068 7.42218 17.0697 7.17321L17.794 6.48368C18.0649 6.76821 18.3145 7.07233 18.5407 7.39353L17.7231 7.96934ZM18.4672 9.32122C18.4012 9.16208 18.3296 9.00583 18.2526 8.85271L19.1458 8.40311C19.2339 8.5781 19.3157 8.75667 19.391 8.93853C19.4664 9.12039 19.5348 9.30453 19.5962 9.49054L18.6467 9.80423C18.5929 9.64147 18.5331 9.48035 18.4672 9.32122ZM18.9979 11.8282C18.9895 11.4846 18.9557 11.142 18.8969 10.8033L19.8822 10.6323C19.9494 11.0194 19.988 11.4109 19.9976 11.8037L18.9979 11.8282ZM18.8655 13.3656C18.8991 13.1967 18.9264 13.027 18.9474 12.8569L19.9398 12.9793C19.9159 13.1737 19.8847 13.3677 19.8463 13.5607C19.8079 13.7538 19.7625 13.9449 19.7102 14.1337L18.7464 13.867C18.7922 13.7018 18.8319 13.5346 18.8655 13.3656ZM17.914 15.745C18.0979 15.4546 18.2602 15.151 18.3995 14.8367L19.3137 15.2419C19.1545 15.6011 18.969 15.9481 18.7588 16.28L17.914 15.745ZM16.9497 16.9497C17.0715 16.828 17.1885 16.702 17.3005 16.5722L18.0577 17.2254C17.9297 17.3737 17.796 17.5177 17.6569 17.6569L16.9497 16.9497Z\" fill=\"#F04438\" />\n            <path d=\"M12 5C10.8488 5 9.71545 5.2839 8.70022 5.82655C7.68499 6.3692 6.81926 7.15386 6.17971 8.11101C5.54017 9.06816 5.14654 10.1683 5.03371 11.3139C4.92088 12.4595 5.09232 13.6153 5.53285 14.6788C5.97337 15.7423 6.66939 16.6808 7.55925 17.4111C8.44911 18.1414 9.50533 18.6409 10.6344 18.8655C11.7634 19.0901 12.9304 19.0327 14.032 18.6986C15.1336 18.3644 16.1358 17.7637 16.9497 16.9497L17.6569 17.6569C16.7266 18.5871 15.5812 19.2736 14.3223 19.6555C13.0633 20.0374 11.7296 20.1029 10.4393 19.8463C9.14895 19.5896 7.94183 19.0187 6.92486 18.1841C5.90788 17.3495 5.11243 16.2769 4.60897 15.0615C4.1055 13.846 3.90957 12.5251 4.03852 11.2159C4.16748 9.90659 4.61733 8.64933 5.34825 7.55544C6.07916 6.46155 7.06857 5.5648 8.22883 4.94463C9.38909 4.32446 10.6844 4 12 4V5Z\" fill=\"#F04438\" />\n            <path d=\"M11.5 7C11.7761 7 12 7.22386 12 7.5V12.7098L15.2481 14.5659C15.4878 14.7029 15.5711 15.0083 15.4341 15.2481C15.2971 15.4878 14.9917 15.5711 14.7519 15.4341L11.2519 13.4341C11.0961 13.3451 11 13.1794 11 13V7.5C11 7.22386 11.2239 7 11.5 7Z\" fill=\"#F04438\" />\n          </svg>`;\n\n\n    // add project event\n    events.push({\n      start: parseTimestamp(1000 * +data.booking_start),\n      end: parseTimestamp(1000 * +data.booking_end),\n      id: data.unique_id,\n      cssClass: 'project-item',\n      resource: data.unique_id,\n      backColor: background,\n      borderColor: color,\n      tag: { number: data.number, reference: data.reference, value: data.id, type: 'project' },\n      text: `<ul class=\"eventStyleCal\">\n        <li>\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_6815_57879)\"><rect width=\"24\" height=\"24\" rx=\"4\" fill=\"url(#paint0_linear_6815_57879)\"/><g opacity=\"0.08\"><rect x=\"0.375\" y=\"0.375\" width=\"23.25\" height=\"23.25\" rx=\"3.625\" stroke=\"#101828\" stroke-width=\"0.75\"/></g><g clip-path=\"url(#clip1_6815_57879)\">\n            <path d=\"M8.57171 7.28592C8.57171 7.04923 8.76359 6.85735 9.00028 6.85735H9.85742C10.0941 6.85735 10.286 7.04923 10.286 7.28592V8.14307C10.286 8.37976 10.0941 8.57164 9.85742 8.57164H9.00028C8.76359 8.57164 8.57171 8.37976 8.57171 8.14307V7.28592Z\" fill=\"#667085\"/>\n            <path d=\"M11.1431 7.28592C11.1431 7.04923 11.335 6.85735 11.5717 6.85735H12.4289C12.6655 6.85735 12.8574 7.04923 12.8574 7.28592V8.14307C12.8574 8.37976 12.6655 8.57164 12.4289 8.57164H11.5717C11.335 8.57164 11.1431 8.37976 11.1431 8.14307V7.28592Z\" fill=\"#667085\"/>\n            <path d=\"M14.1431 6.85735C13.9064 6.85735 13.7146 7.04923 13.7146 7.28592V8.14307C13.7146 8.37976 13.9064 8.57164 14.1431 8.57164H15.0003C15.237 8.57164 15.4289 8.37976 15.4289 8.14307V7.28592C15.4289 7.04923 15.237 6.85735 15.0003 6.85735H14.1431Z\" fill=\"#667085\"/>\n            <path d=\"M8.57171 9.85735C8.57171 9.62066 8.76359 9.42878 9.00028 9.42878H9.85742C10.0941 9.42878 10.286 9.62066 10.286 9.85735V10.7145C10.286 10.9512 10.0941 11.1431 9.85742 11.1431H9.00028C8.76359 11.1431 8.57171 10.9512 8.57171 10.7145V9.85735Z\" fill=\"#667085\"/>\n            <path d=\"M11.5717 9.42878C11.335 9.42878 11.1431 9.62066 11.1431 9.85735V10.7145C11.1431 10.9512 11.335 11.1431 11.5717 11.1431H12.4289C12.6655 11.1431 12.8574 10.9512 12.8574 10.7145V9.85735C12.8574 9.62066 12.6655 9.42878 12.4289 9.42878H11.5717Z\" fill=\"#667085\"/>\n            <path d=\"M13.7146 9.85735C13.7146 9.62066 13.9064 9.42878 14.1431 9.42878H15.0003C15.237 9.42878 15.4289 9.62066 15.4289 9.85735V10.7145C15.4289 10.9512 15.237 11.1431 15.0003 11.1431H14.1431C13.9064 11.1431 13.7146 10.9512 13.7146 10.7145V9.85735Z\" fill=\"#667085\"/>\n            <path d=\"M9.00028 12.0002C8.76359 12.0002 8.57171 12.1921 8.57171 12.4288V13.2859C8.57171 13.5226 8.76359 13.7145 9.00028 13.7145H9.85742C10.0941 13.7145 10.286 13.5226 10.286 13.2859V12.4288C10.286 12.1921 10.0941 12.0002 9.85742 12.0002H9.00028Z\" fill=\"#667085\"/>\n            <path d=\"M11.1431 12.4288C11.1431 12.1921 11.335 12.0002 11.5717 12.0002H12.4289C12.6655 12.0002 12.8574 12.1921 12.8574 12.4288V13.2859C12.8574 13.5226 12.6655 13.7145 12.4289 13.7145H11.5717C11.335 13.7145 11.1431 13.5226 11.1431 13.2859V12.4288Z\" fill=\"#667085\"/>\n            <path d=\"M14.1431 12.0002C13.9064 12.0002 13.7146 12.1921 13.7146 12.4288V13.2859C13.7146 13.5226 13.9064 13.7145 14.1431 13.7145H15.0003C15.237 13.7145 15.4289 13.5226 15.4289 13.2859V12.4288C15.4289 12.1921 15.237 12.0002 15.0003 12.0002H14.1431Z\" fill=\"#667085\"/>\n            <path d=\"M6.85742 6.00021C6.85742 5.52682 7.24118 5.14307 7.71456 5.14307H16.286C16.7594 5.14307 17.1431 5.52682 17.1431 6.00021V18.0002C17.1431 18.4736 16.7594 18.8574 16.286 18.8574H7.71456C7.24118 18.8574 6.85742 18.4736 6.85742 18.0002V6.00021ZM16.286 6.00021L7.71456 6.00021V18.0002H10.286V15.8574C10.286 15.6207 10.4779 15.4288 10.7146 15.4288H13.286C13.5227 15.4288 13.7146 15.6207 13.7146 15.8574V18.0002H16.286V6.00021Z\" fill=\"#667085\"/></g></g><defs><linearGradient id=\"paint0_linear_6815_57879\" x1=\"12\" y1=\"0\" x2=\"12\" y2=\"24\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#F9FAFB\"/><stop offset=\"1\" stop-color=\"#EDF0F3\"/></linearGradient><clipPath id=\"clip0_6815_57879\"><rect width=\"24\" height=\"24\" rx=\"4\" fill=\"white\"/></clipPath><clipPath id=\"clip1_6815_57879\"><rect width=\"13.7143\" height=\"13.7143\" fill=\"white\" transform=\"translate(5.14307 5.14307)\"/></clipPath></defs>\n          </svg>\n          &nbsp;\n          <strong style=\"color: ${font}; font-weight: 400\">${data.reference}</strong>\n        </li>\n      </ul>`,\n    });\n\n    const unfinishedTasks = data.tasks.filter(task => !task.finished)?.length || 0;\n    const totalTasks = data.tasks.length;\n    const childResource = [];\n\n    childResource.push({\n      id: data.number,\n      name: `<div class=\"d-flex flex-column rowResourceEvent\">\n            <div class=\"d-flex gap-1 task-heading rowResourceEvent\" style=\"--main-color: ${color}; height: 34px\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 12 12\" fill=\"none\">\n                <path d=\"M10.875 2.25C11.0821 2.25 11.25 2.41789 11.25 2.625V9.375C11.25 9.58211 11.0821 9.75 10.875 9.75H1.125C0.917893 9.75 0.75 9.58211 0.75 9.375V2.625C0.75 2.41789 0.917893 2.25 1.125 2.25H10.875ZM1.125 1.5C0.50368 1.5 0 2.00368 0 2.625V9.375C0 9.99632 0.50368 10.5 1.125 10.5H10.875C11.4963 10.5 12 9.99632 12 9.375V2.625C12 2.00368 11.4963 1.5 10.875 1.5H1.125Z\" fill=\"#475467\"/>\n                <path d=\"M5.25 4.125C5.25 3.91789 5.41789 3.75 5.625 3.75H9.375C9.58211 3.75 9.75 3.91789 9.75 4.125C9.75 4.33211 9.58211 4.5 9.375 4.5H5.625C5.41789 4.5 5.25 4.33211 5.25 4.125Z\" fill=\"#475467\"/>\n                <path d=\"M4.12767 3.48484C4.27411 3.63128 4.27411 3.86872 4.12767 4.01516L3.00267 5.14016C2.85622 5.28661 2.61878 5.28661 2.47234 5.14016L2.09734 4.76516C1.95089 4.61872 1.95089 4.38128 2.09734 4.23484C2.24378 4.08839 2.48122 4.08839 2.62767 4.23484L2.7375 4.34467L3.59734 3.48484C3.74378 3.33839 3.98122 3.33839 4.12767 3.48484Z\" fill=\"#475467\"/>\n                <path d=\"M5.25 7.125C5.25 6.91789 5.41789 6.75 5.625 6.75H9.375C9.58211 6.75 9.75 6.91789 9.75 7.125C9.75 7.33211 9.58211 7.5 9.375 7.5H5.625C5.41789 7.5 5.25 7.33211 5.25 7.125Z\" fill=\"#475467\"/>\n                <path d=\"M4.12767 6.48484C4.27411 6.63128 4.27411 6.86872 4.12767 7.01516L3.00267 8.14017C2.85622 8.28661 2.61878 8.28661 2.47234 8.14017L2.09734 7.76517C1.95089 7.61872 1.95089 7.38128 2.09734 7.23484C2.24378 7.08839 2.48122 7.08839 2.62767 7.23484L2.7375 7.34467L3.59734 6.48484C3.74378 6.33839 3.98122 6.33839 4.12767 6.48484Z\" fill=\"#475467\"/>\n              </svg>\n              <span class=\"font-14\">Tasks</span>\n            </div>\n           </div>`,\n      minHeight: 40,\n      marginBottom: 4,\n    });\n\n    // Task child resource\n    data?.tasks?.forEach((task) => {\n      events.push({\n        start: parseTimestamp(1000 * +task.from_date),\n        end: parseTimestamp(1000 * +task.to_date),\n        id: task.id,\n        cssClass: \"childEvent task-item\",\n        resource: task.id,\n        backColor: task.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n        borderColor: task.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n        text: task.title,\n        tag: { type: \"task\", task: task },\n      });\n\n      const statusIMG = task.finished\n        ? `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#DCFAE6\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#085D3A\"/>\n            </svg>`\n        : `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#F2F4F7\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#475467\"/>\n            </svg>`;\n\n      childResource.push({\n        id: task.id,\n        name: `<div class=\"d-flex flex-column\">\n            <div task-id=\"${task.id}\" class=\"task-list rowResourceEvent\" style=\"--main-color: ${color}\" task-id=\"${task.id}\">\n              <div class=\"flex\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_5999_560822)\"><rect width=\"16\" height=\"16\" rx=\"8\" fill=\"url(#paint0_linear_5999_560822)\"/><g opacity=\"0.08\"><rect x=\"0.375\" y=\"0.375\" width=\"15.25\" height=\"15.25\" rx=\"7.625\" stroke=\"#101828\" stroke-width=\"0.75\"/></g>\n                  <path d=\"M6.57129 6.28585C6.41349 6.28585 6.28557 6.41377 6.28557 6.57157C6.28557 6.72936 6.41349 6.85728 6.57129 6.85728H9.42843C9.58623 6.85728 9.71415 6.72936 9.71415 6.57157C9.71415 6.41377 9.58623 6.28585 9.42843 6.28585H6.57129Z\" fill=\"#475467\"/>\n                  <path d=\"M6.57129 7.42871C6.41349 7.42871 6.28557 7.55663 6.28557 7.71443C6.28557 7.87222 6.41349 8.00014 6.57129 8.00014H8.28557C8.44337 8.00014 8.57129 7.87222 8.57129 7.71443C8.57129 7.55663 8.44337 7.42871 8.28557 7.42871H6.57129Z\" fill=\"#475467\"/>\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.99986 4.57157C8.63104 4.57157 9.14272 4.05989 9.14272 3.42871H10.5713C11.0447 3.42871 11.4284 3.81247 11.4284 4.28585V11.7144C11.4284 12.1878 11.0447 12.5716 10.5713 12.5716H5.42843C4.95505 12.5716 4.57129 12.1878 4.57129 11.7144V4.28585C4.57129 3.81247 4.95505 3.42871 5.42843 3.42871H6.857C6.857 4.05989 7.36868 4.57157 7.99986 4.57157ZM7.99986 5.143C8.74627 5.143 9.38127 4.66596 9.6166 4.00014H10.5713C10.7291 4.00014 10.857 4.12806 10.857 4.28585V11.7144C10.857 11.8722 10.7291 12.0001 10.5713 12.0001H5.42843C5.27064 12.0001 5.14272 11.8722 5.14272 11.7144V4.28585C5.14272 4.12806 5.27064 4.00014 5.42843 4.00014H6.38312C6.61846 4.66596 7.25345 5.143 7.99986 5.143Z\" fill=\"#475467\"/></g><defs><linearGradient id=\"paint0_linear_5999_560822\" x1=\"8\" y1=\"0\" x2=\"8\" y2=\"16\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#F9FAFB\"/><stop offset=\"1\" stop-color=\"#EDF0F3\"/></linearGradient><clipPath id=\"clip0_5999_560822\"><rect width=\"16\" height=\"16\" rx=\"8\" fill=\"white\"/></clipPath></defs>\n                </svg>\n                <div class=\"title-description-section\">\n                  <span class=\"task-assigner\">${task?.assigned_to?.name}</span>\n                  <span class=\"task-title\">${task.title}</span>\n                </div> \n              </div>\n              <div class=\"completion-status ${statusIMG === 'completed' ? 'completed-class' : 'incomplete-class'}\">\n                ${statusIMG}\n              </div>\n            </div>\n          </div>`,\n        minHeight: 40,\n        marginBottom: 4,\n      });\n    });\n\n    childResource.push({\n      id: data.number,\n      name: `<div class=\"create-task-div rowResourceEvent\" style=\"--main-color: ${color}; height: ${data.tasks?.length ? '45px' : '40px'}\">\n              <button class=\"create-task-button\" project-id=\"${data.id}\" number=\"${data?.number}\" reference=\"${data?.reference}\" style=\"margin-bottom: ${data.tasks?.length ? '16px' : '6px'}\">Create Task\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                  <path d=\"M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z\" fill=\"#106B99\"/>\n                </svg>\n              </button> \n            </div>`,\n      minHeight: 40,\n      marginBottom: 0,\n    });\n\n    let unfinishedJobs = 0;\n    let totalJobs = 0;\n    if (hasWorkSubscription) {\n      unfinishedJobs = data?.jobs?.filter(job => !job.finished)?.length || 0;\n      totalJobs = data?.jobs?.length || 0;\n\n      childResource.push({\n        id: data.number,\n        name: `<div class=\"d-flex flex-column rowResourceEvent\">\n            <div class=\"d-flex gap-1 task-heading rowResourceEvent\" style=\"--main-color: ${color}; height: 34px\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 12 12\" fill=\"none\">\n                <path d=\"M4.875 0.75C4.2538 0.75 3.75 1.25338 3.75 1.87482V2.25H1.125C0.50368 2.25 0 2.75368 0 3.375V9.375C0 9.99632 0.50368 10.5 1.125 10.5H10.875C11.4963 10.5 12 9.99632 12 9.375V3.375C12 2.75368 11.4963 2.25 10.875 2.25H8.25V1.87482C8.25 1.25338 7.7462 0.75 7.125 0.75H4.875ZM4.875 1.5H7.125C7.33223 1.5 7.5 1.66847 7.5 1.87546V2.25H4.5V1.87482C4.5 1.66783 4.66777 1.5 4.875 1.5ZM6.28987 6.68581L11.25 5.3631V9.375C11.25 9.58211 11.0821 9.75 10.875 9.75H1.125C0.917893 9.75 0.75 9.58211 0.75 9.375V5.3631L5.71013 6.68581C5.90006 6.73645 6.09994 6.73645 6.28987 6.68581ZM1.125 3H10.875C11.0821 3 11.25 3.16789 11.25 3.375V4.5869L6.09662 5.96113C6.03331 5.97801 5.96669 5.97801 5.90338 5.96113L0.75 4.5869V3.375C0.75 3.16789 0.917893 3 1.125 3Z\" fill=\"#475467\"/>\n              </svg>\n              <span class=\"font-14\">Jobs</span>\n            </div>\n           </div>`,\n        minHeight: 40,\n        marginBottom: 4,\n      });\n\n      // Job child resource\n      data?.jobs?.forEach((job, index) => {\n        events.push({\n          start: parseTimestamp(1000 * +job.start_date),\n          end: parseTimestamp(1000 * +job.end_date),\n          id: `job_${job.id}_${index}`,\n          cssClass: \"childEvent job-item\",\n          resource: job.id,\n          backColor: job.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n          borderColor: job.finished ? \"#DCFAE6\" : \"#F2F4F7\",\n          text: job.short_description,\n          tag: { type: \"job\", job: job },\n          resizeDisabled: true\n        });\n\n        const statusIMG = job.status === '5'\n          ? `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#DCFAE6\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#085D3A\"/>\n            </svg>`\n          : `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#F2F4F7\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#475467\"/>\n            </svg>`;\n\n        const alias = job?.worker?.alias || '';\n        const jobImg = job?.worker?.has_photo\n          ? `<img src=\"${job?.worker?.photo}\" style=\"width: 20px; height: 20px; border-radius: 50%;\" onerror=\"this.outerHTML='<div class=\\\\'job-alias\\\\'>${alias}</div>'\" />`\n          : `<div class=\"job-alias\">${alias}</div>`;\n\n        childResource.push({\n          id: job.id,\n          name: `<div class=\"d-flex flex-column job-resource-child\" job-id=\"${job.id}\">\n            <div class=\"task-list rowResourceEvent\" style=\"--main-color: ${color}\">\n              <div class=\"flex\">\n                <div class=\"job-icon\">\n                 ${jobImg}\n                </div>\n                <div class=\"title-description-section\">\n                  <span class=\"task-assigner\">${job?.worker?.full_name}</span>\n                  <span class=\"task-title\">${job.short_description}</span>\n                </div> \n              </div>\n              <div class=\"completion-status ${statusIMG === 'completed' ? 'completed-class' : 'incomplete-class'}\">\n                ${statusIMG}\n              </div>\n            </div>\n          </div>`,\n          minHeight: 40,\n          marginBottom: 4,\n        });\n      });\n\n      childResource.push({\n        id: data.number,\n        name: `<div class=\"create-task-div rowResourceEvent\" style=\"--main-color: ${color}; height: ${data.tasks?.length ? '45px' : '40px'}\">\n              <button class=\"createJobButton\" project-id=\"${data.id}\" style=\"margin-bottom: ${data.tasks?.length ? '16px' : '6px'}\">\n                Create Job\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                  <path d=\"M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z\" fill=\"#106B99\"/>\n                </svg>\n              </button> \n            </div>`,\n        minHeight: 40,\n        marginBottom: 0,\n      });\n    }\n\n    const unfinished = unfinishedTasks + unfinishedJobs;\n    const total = totalTasks + totalJobs;\n\n    return {\n      id: data.unique_id,\n      expanded: expandRow === data.unique_id,\n      name: `<div class=\"resourceList rowResourceEvent\" style=\"--main-color: ${color};\">\n        <ul class=\"resourceMan me-2\">\n          <li title=\"${data.number}\">\n            <div style=\"width: 70px; overflow: hidden; text-overflow: ellipsis; display: inline-block; position: relative; top: 2px; white-space: nowrap;\" class=\"\">${data.number}</div>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M5 4C4.72386 4 4.5 4.22386 4.5 4.5C4.5 4.77614 4.72386 5 5 5H11C11.2761 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.2761 4 11 4H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M4.5 6.5C4.5 6.22386 4.72386 6 5 6H11C11.2761 6 11.5 6.22386 11.5 6.5C11.5 6.77614 11.2761 7 11 7H5C4.72386 7 4.5 6.77614 4.5 6.5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M5 8C4.72386 8 4.5 8.22386 4.5 8.5C4.5 8.77614 4.72386 9 5 9H11C11.2761 9 11.5 8.77614 11.5 8.5C11.5 8.22386 11.2761 8 11 8H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M5 10C4.72386 10 4.5 10.2239 4.5 10.5C4.5 10.7761 4.72386 11 5 11H8C8.27614 11 8.5 10.7761 8.5 10.5C8.5 10.2239 8.27614 10 8 10H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M2 2C2 0.89543 2.89543 0 4 0H12C13.1046 0 14 0.89543 14 2V14C14 15.1046 13.1046 16 12 16H4C2.89543 16 2 15.1046 2 14V2ZM12 1H4C3.44772 1 3 1.44772 3 2V14C3 14.5523 3.44772 15 4 15H12C12.5523 15 13 14.5523 13 14V2C13 1.44772 12.5523 1 12 1Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M11 7.5C11 7.22386 11.2239 7 11.5 7H12.5C12.7761 7 13 7.22386 13 7.5V8.5C13 8.77614 12.7761 9 12.5 9H11.5C11.2239 9 11 8.77614 11 8.5V7.5Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n              <path d=\"M3.5 0C3.77614 0 4 0.223858 4 0.5V1H12V0.5C12 0.223858 12.2239 0 12.5 0C12.7761 0 13 0.223858 13 0.5V1H14C15.1046 1 16 1.89543 16 3V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V3C0 1.89543 0.895431 1 2 1H3V0.5C3 0.223858 3.22386 0 3.5 0ZM2 2C1.44772 2 1 2.44772 1 3V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V3C15 2.44772 14.5523 2 14 2H2Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n              <path d=\"M2.5 4C2.5 3.72386 2.72386 3.5 3 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V5C13.5 5.27614 13.2761 5.5 13 5.5H3C2.72386 5.5 2.5 5.27614 2.5 5V4Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M4 10.7813C4.14782 12.4484 5.51294 13.6306 7.59107 13.7837V15H8.63448V13.7837C10.9039 13.6051 12.3125 12.3463 12.3125 10.4836C12.3125 8.89307 11.3647 7.97448 9.35617 7.45565L8.63448 7.26853V3.46659C9.75615 3.57716 10.5126 4.18104 10.7039 5.08262H12.1734C12.0082 3.4836 10.6343 2.33536 8.63448 2.20778V1H7.59107V2.23329C5.65207 2.46294 4.32172 3.70474 4.32172 5.38882C4.32172 6.84326 5.28687 7.87242 6.98241 8.3062L7.59107 8.4678V12.4994C6.44332 12.3293 5.65207 11.6999 5.46077 10.7813H4ZM7.39108 6.94532C6.34767 6.68165 5.79119 6.12029 5.79119 5.32928C5.79119 4.38518 6.49549 3.68773 7.59107 3.50061V6.99635L7.39108 6.94532ZM8.98228 8.81652C10.2692 9.13973 10.8343 9.67558 10.8343 10.5857C10.8343 11.6829 10.0083 12.4143 8.63448 12.5249V8.73147L8.98228 8.81652Z\" fill=\"${!data.is_invoice_created ? '#667085' : data.paid === \"PAID\" ? \"#17B26A\" : data.paid === \"NOT PAID\" ? \"#F04438\" : data.paid === \"PARTIAL PAYMENT\" ? \"#fedf89\" : \"#F79009\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <span class='${jobsStatus}'>${data.jobs_done}/${data.jobs_count}</span>\n          </li>\n          <li>\n            ${isJobOverdue ? overdueIcon : ''}\n          </li>\n          <li class=\"text-end float-end me-2\" style=\"width: 100px; flex: 1\">\n            ${status}\n          </li>\n          <li class=\"me-3\" style=\"position: relative;\">\n            ${unfinished !== 0 ? `<div class=\"taskUnreadCount\">${unfinished}</div>` : ''}\n            <div class=\"taskCount\">${total || 0}</div>\n          </li>\n        </ul>\n        <div class=\"project-content\" unique-id=\"${data.unique_id}\" project-id=\"${data.id}\" number=\"${data?.number}\" reference=\"${data?.reference}\">\n          <span class=\"small project-content-name\" unique-id=\"${data.unique_id}\">${data?.client?.name}</span>\n          <h2 class=\"project-content-name\" unique-id=\"${data.unique_id}\">${data.reference}</h2>\n        </div>\n      </div>`,\n      children: childResource,\n      minHeight: 95,\n    };\n  });\n\n  dp.update({ resources, events });\n  dp.onResourceExpand = function (args) {\n    expandRow = args.resource.id;\n  };\n}\n\nfunction startDaypilot(elementId, responses, viewTaskDetails, reInitialize, hasWorkSubscription, holidays) {\n  const isDaypilotLoaded = typeof window !== undefined && Boolean(window.DayPilot);\n  if (!isDaypilotLoaded) return;\n\n  DP = window.DayPilot;\n\n  dp = new DP.Scheduler(elementId, {\n    days: 365,\n    scale: \"Day\",\n    separators: [{ color: \"#48C1FF\", width: 4 }],\n    treeImage: \"img/nochildren.png\",\n    rowMinHeight: 110,\n    cellWidth: 73,\n    eventEndSpec: \"Date\",\n    durationBarVisible: false,\n    eventArrangement: \"Cascade\",\n    eventMoveHandling: \"Disabled\",\n    eventResizingStartEndEnabled: true,\n    timeRangeSelectedHandling: \"Disabled\",\n    treeImageNoChildren: false,\n    rowHeaderWidth: 380,\n    timeHeaders: [\n      { groupBy: \"Month\", format: \"MMMM yyyy\" },\n      { groupBy: \"Day\", format: \"d\" }\n    ],\n    treeEnabled: true,\n    progressiveRowRendering: true,\n    treePreventParentUsage: false,\n    scrollDelayEvents: 0,\n    infiniteScrollingEnabled: true,\n    infiniteScrollingStepDays: 100,\n  });\n\n  dp.onBeforeRowHeaderRender = function (args) {\n    args.row.cssClass = \"resourcesRow\";\n  };\n\n  const holidaysList = holidays?.map(holiday => {\n    const date = new Date(+holiday.date * 1000);\n    // Convert to Sydney timezone and get date string\n    const sydneyDate = new Date(date.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }));\n    return sydneyDate.toISOString().split(\"T\")[0];\n  }) || [];\n\n  const holidayMap = holidays?.reduce((map, holiday) => {\n    const date = new Date(+holiday.date * 1000);\n    // Convert to Sydney timezone and get date string\n    const sydneyDate = new Date(date.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }));\n    const dateStr = sydneyDate.toISOString().split(\"T\")[0];\n    map[dateStr] = holiday.title;\n    return map;\n  }, {}) || {};\n\n  dp.onBeforeTimeHeaderRender = function (args) {\n    args.header.text = \"\";\n    args.header.toolTip = \"\";\n    if (args.header.level === 1) {\n      const australiaSydneyDate = args.header.start.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }).split(\"T\")[0];\n      if (args.header.start && holidaysList.includes(australiaSydneyDate)) {\n        args.header.backColor = \"#F2FAFF\";\n        args.header.cssClass = \"holidayHeader\";\n\n        args.header.html = `\n          <div style=\"color: #1AB2FF; position: relative; width: 84px;\">\n            <div style=\"position: absolute; top: -25px; left: 0px; z-index: 1;\" class=\"tooltip-container\">\n              <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"0.5\" y=\"0.5\" width=\"27\" height=\"27\" rx=\"13.5\" fill=\"#EBF8FF\"/>\n                <rect x=\"0.5\" y=\"0.5\" width=\"27\" height=\"27\" rx=\"13.5\" stroke=\"#BAE8FF\"/>\n                <path d=\"M16.1402 14.1098C16.2866 14.2563 16.2866 14.4937 16.1402 14.6402L13.8902 16.8902C13.8198 16.9605 13.7245 17 13.625 17C13.5255 17 13.4302 16.9605 13.3598 16.8902L12.2348 15.7652C12.0884 15.6187 12.0884 15.3813 12.2348 15.2348C12.3813 15.0884 12.6187 15.0884 12.7652 15.2348L13.625 16.0947L15.6098 14.1098C15.7563 13.9634 15.9937 13.9634 16.1402 14.1098Z\" fill=\"#158ECC\"/>\n                <path d=\"M10.625 8C10.8321 8 11 8.16789 11 8.375V8.75H17V8.375C17 8.16789 17.1679 8 17.375 8C17.5821 8 17.75 8.16789 17.75 8.375V8.75H18.5C19.3284 8.75 20 9.42157 20 10.25V18.5C20 19.3284 19.3284 20 18.5 20H9.5C8.67157 20 8 19.3284 8 18.5V10.25C8 9.42157 8.67157 8.75 9.5 8.75H10.25V8.375C10.25 8.16789 10.4179 8 10.625 8ZM9.5 9.5C9.08579 9.5 8.75 9.83579 8.75 10.25V18.5C8.75 18.9142 9.08579 19.25 9.5 19.25H18.5C18.9142 19.25 19.25 18.9142 19.25 18.5V10.25C19.25 9.83579 18.9142 9.5 18.5 9.5H9.5Z\" fill=\"#158ECC\"/>\n                <path d=\"M9.875 11C9.875 10.7929 10.0429 10.625 10.25 10.625H17.75C17.9571 10.625 18.125 10.7929 18.125 11V11.75C18.125 11.9571 17.9571 12.125 17.75 12.125H10.25C10.0429 12.125 9.875 11.9571 9.875 11.75V11Z\" fill=\"#158ECC\"/>\n              </svg>\n              <span class=\"tooltip-text\">${holidayMap[australiaSydneyDate]}</span>\n            </div>\n            ${args.header.html}\n          </div>\n        `;\n      } else if (args.header.start.getDayOfWeek() === 6 || args.header.start.getDayOfWeek() === 0) {\n        args.header.cssClass = \"weekendHeader\";\n        args.header.backColor = \"#F9FAFB\";\n      }\n    }\n  };\n\n  dp.onBeforeEventRender = function (args) {\n    args.data.areas = [\n      {\n        top: 0,\n        left: 0,\n        right: 0,\n        width: 1,\n        cssClass: \"childEventborder\",\n        text: args.data.text,\n        backColor: args.data.borderColor,\n        fontColor: \"#ffffff\",\n        horizontalAlignment: \"center\",\n        style: \"border-top-left-radius: 4px; border-bottom-left-radius: 4px; background-color: #0000007f; color: #ffffff; padding: 2px;height: 36px;\",\n      },\n    ];\n\n    args.data.text = \"Event details\";\n  };\n\n  dp.onEventClicked = function (args) {\n    const taskId = args.e.id();\n    if (args.div.className.includes(\"task-item\") && taskId) {\n      viewTaskDetails(taskId, false);\n    } else if (args.div.className.includes(\"project-item\") && taskId) {\n      const projectDetails = args.e.tag();\n      viewTaskDetails(taskId, true, projectDetails);\n    } else if (args.div.className.includes(\"job-item\") && taskId) {\n      const jobDetails = args.e.tag();\n      viewTaskDetails(taskId, true, jobDetails);\n    }\n  };\n\n  dp.onBeforeCellRender = function (args) {\n    if (\n      args.cell.start.getDayOfWeek() === 6 ||\n      args.cell.start.getDayOfWeek() === 0\n    ) {\n      args.cell.backColor = \"#F9FAFB\"; // Highlight weekends\n    }\n\n    const australiaSydneyDate = args.cell.start.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }).split(\"T\")[0];\n    if (args.cell.start && holidaysList.includes(australiaSydneyDate)) {\n      args.cell.backColor = \"#F2FAFF\"; // Highlight holidays\n    }\n  };\n\n  dp.onEventResize = async function (args) {\n    const taskId = args.e.id();\n    const startDate = new Date(args.newStart).toISOString();\n    const endDate = new Date(args.newEnd).toISOString();\n    console.log('args.e.tag().type: ', args.e.tag().type);\n\n    if (args.e.tag().type === \"task\") {\n      const task = args.e.tag().task;\n      try {\n        await updateTask(taskId, {\n          title: task.title,\n          description: task.description,\n          user: task.assigned_to.id,\n          from_date: startDate,\n          to_date: endDate,\n        });\n        dp.message(\"The task has been successfully updated.\", { cssClass: \"success_message\" });\n      } catch (error) {\n        console.log(error);\n        dp.message(\"An error occurred while updating the task. Please try again.\");\n      }\n    }\n\n    if (args.e.tag().type === \"project\") {\n      try {\n        await updateProjectScheduleById(taskId, {\n          booking_start: startDate,\n          booking_end: endDate,\n        });\n        dp.message(\"The project schedule has been successfully updated.\", { cssClass: \"success_message\" });\n        reInitialize();\n      } catch (error) {\n        console.log(error);\n        dp.message(\"An error occurred while updating the project schedule. Please try again.\");\n      }\n    }\n  };\n\n  dp.init();\n\n  loadData(responses, hasWorkSubscription);\n}\n\nexport function reInitializeData(responses, hasWorkSubscription) {\n  try {\n    if (dp) loadData(responses, hasWorkSubscription);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function initDaypilot(elementId, response, viewTaskDetails, reInitialize, hasWorkSubscription, holidays) {\n  try {\n    startDaypilot(elementId, response, viewTaskDetails, reInitialize, hasWorkSubscription, holidays);\n  } catch (error) {\n    console.log(error);\n  }\n}","var _rect, _rect2, _path, _path2, _path3;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgAddNoteModeIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 41,\n    height: 40,\n    viewBox: \"0 0 41 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    fill: \"#BAE8FF\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    stroke: \"#EBF8FF\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.75 12.5C24.5784 12.5 25.25 13.1716 25.25 14V26C25.25 26.8284 24.5784 27.5 23.75 27.5H17.75C16.9216 27.5 16.25 26.8284 16.25 26V14C16.25 13.1716 16.9216 12.5 17.75 12.5H23.75ZM17.75 11C16.0931 11 14.75 12.3431 14.75 14V26C14.75 27.6569 16.0931 29 17.75 29H23.75C25.4069 29 26.75 27.6569 26.75 26V14C26.75 12.3431 25.4069 11 23.75 11H17.75Z\",\n    fill: \"#158ECC\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.75 26C21.5784 26 22.25 25.3284 22.25 24.5C22.25 23.6716 21.5784 23 20.75 23C19.9216 23 19.25 23.6716 19.25 24.5C19.25 25.3284 19.9216 26 20.75 26Z\",\n    fill: \"#158ECC\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.1481 14.0869C11.5143 14.2805 11.6542 14.7343 11.4606 15.1005C10.6879 16.5624 10.25 18.229 10.25 20C10.25 21.771 10.6879 23.4376 11.4606 24.8995C11.6542 25.2657 11.5143 25.7195 11.1481 25.9131C10.7819 26.1066 10.3281 25.9667 10.1345 25.6005C9.25032 23.9278 8.75 22.0212 8.75 20C8.75 17.9788 9.25032 16.0722 10.1345 14.3995C10.3281 14.0333 10.7819 13.8934 11.1481 14.0869ZM30.3519 14.0869C30.7181 13.8934 31.1719 14.0333 31.3655 14.3995C32.2497 16.0722 32.75 17.9788 32.75 20C32.75 22.0212 32.2497 23.9278 31.3655 25.6005C31.1719 25.9667 30.7181 26.1066 30.3519 25.9131C29.9857 25.7195 29.8458 25.2657 30.0394 24.8995C30.8121 23.4376 31.25 21.771 31.25 20C31.25 18.229 30.8121 16.5624 30.0394 15.1005C29.8458 14.7343 29.9857 14.2805 30.3519 14.0869ZM13.3352 16.3014C13.7211 16.4521 13.9117 16.887 13.761 17.2728C13.4313 18.1171 13.25 19.0365 13.25 20C13.25 20.9635 13.4313 21.8829 13.761 22.7272C13.9117 23.113 13.7211 23.5479 13.3352 23.6986C12.9494 23.8493 12.5145 23.6587 12.3638 23.2728C11.9673 22.2575 11.75 21.1532 11.75 20C11.75 18.8468 11.9673 17.7425 12.3638 16.7272C12.5145 16.3413 12.9494 16.1507 13.3352 16.3014ZM28.1648 16.3014C28.5506 16.1507 28.9855 16.3413 29.1362 16.7272C29.5327 17.7425 29.75 18.8468 29.75 20C29.75 21.1532 29.5327 22.2575 29.1362 23.2728C28.9855 23.6587 28.5506 23.8493 28.1648 23.6986C27.7789 23.5479 27.5883 23.113 27.739 22.7272C28.0687 21.8829 28.25 20.9635 28.25 20C28.25 19.0365 28.0687 18.1171 27.739 17.2728C27.5883 16.887 27.7789 16.4521 28.1648 16.3014Z\",\n    fill: \"#158ECC\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddNoteModeIcon);\nexport default __webpack_public_path__ + \"static/media/addNoteModeIcon.43bdc8582f3ef769329a44f15a05fe67.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { createProjectNoteById } from '../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst AddNote = ({ projectId, projectCardData }) => {\n  const [viewShow, setViewShow] = useState(false);\n  const [updateDis, setUpdateDis] = useState('');\n  const [errors, setErrors] = useState({\n    description: '',\n  });\n\n  const MAX_LENGTH = 2000; // Maximum allowed characters\n  const MIN_LENGTH = 3;   // Minimum required characters\n\n  const handleClose = () => setViewShow(false);\n  const handleShow = () => setViewShow(true);\n\n  const mutation = useMutation({\n    mutationFn: (data) => createProjectNoteById(projectId, data),\n    onSuccess: () => {\n      handleClose();\n      projectCardData(projectId);\n    },\n    onError: (error) => {\n      console.error('Error creating note:', error);\n      setErrors(prev => ({\n        ...prev,\n        description: error.message || 'Failed to save note. Please try again.'\n      }));\n    }\n  });\n\n  const validateNote = (text) => {\n    if (!text.trim()) {\n      return 'Note is required';\n    }\n    if (text.length < MIN_LENGTH) {\n      return `Note must be at least ${MIN_LENGTH} characters long`;\n    }\n    if (text.length > MAX_LENGTH) {\n      return `Note must not exceed ${MAX_LENGTH} characters`;\n    }\n    // Add any additional validation rules here (e.g., special characters, etc.)\n    if (/^\\s+$/.test(text)) {\n      return 'Note cannot contain only whitespace';\n    }\n    return '';\n  };\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setUpdateDis(value);\n\n    // Real-time validation\n    const error = validateNote(value);\n    setErrors(prev => ({ ...prev, description: error }));\n  };\n\n  const handleSubmit = () => {\n    const validationError = validateNote(updateDis);\n\n    if (validationError) {\n      setErrors(prev => ({ ...prev, description: validationError }));\n      return;\n    }\n\n    mutation.mutate({ text: updateDis.trim() });\n  };\n\n  useEffect(() => {\n    if (!viewShow) {\n      setUpdateDis('');\n      setErrors({ description: '' });\n    }\n  }, [viewShow]);\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 border-right\" onClick={handleShow}>\n        Add Note\n      </div>\n\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n        size=\"lg\"\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Add Note\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label htmlFor=\"note-input\">Note <span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`}>\n                    <textarea\n                      id=\"note-input\"\n                      type=\"text\"\n                      name=\"note\"\n                      value={updateDis}\n                      placeholder='Enter a message here...'\n                      onChange={handleChange}\n                      maxLength={MAX_LENGTH}\n                      rows={10}\n                      className=\"w-100\"\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between mt-1\">\n                    <small className={errors.description ? \"error-message\" : \"text-muted\"}>\n                      {errors.description || `${updateDis.length}/${MAX_LENGTH} characters`}\n                    </small>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </Modal.Body>\n        <Modal.Footer className='pt-0'>\n          <div className=\"popoverbottom w-100 border-0 mt-0 pt-0\">\n            <Button\n              variant=\"outline-danger\"\n              onClick={handleClose}\n              disabled={mutation.isPending}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary save\"\n              onClick={handleSubmit}\n              disabled={mutation.isPending || !!errors.description}\n            >\n              {mutation.isPending ? \"Saving...\" : \"Save\"}\n            </Button>\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default AddNote;","// extracted by mini-css-extract-plugin\nexport default {\"cancelProjectContainer\":\"cancel-project_cancelProjectContainer__y6XWT\",\"cancelProjectDescription\":\"cancel-project_cancelProjectDescription__hduCm\",\"cancelProjectActions\":\"cancel-project_cancelProjectActions__IlWRQ\",\"cancelProjectTitle\":\"cancel-project_cancelProjectTitle__49fSj\",\"cancelProjectDescriptionText\":\"cancel-project_cancelProjectDescriptionText__GQncp\",\"cancelProjectButton\":\"cancel-project_cancelProjectButton__REME8\"};","import React from 'react';\nimport { X } from 'react-bootstrap-icons';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport styles from './cancel-project.module.scss';\n\nconst CancelProject = ({ show, onClose, onConfirm, isLoading }) => {\n    if (!show) return null;\n\n    return (\n        <div className={styles.cancelProjectContainer}>\n            <div className='d-flex align-items-end'>\n                <div className='me-2'>\n                    <svg width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <rect x=\"9\" y=\"9\" width=\"20\" height=\"20\" rx=\"10\" fill=\"white\" />\n                        <g opacity=\"0.3\">\n                            <rect x=\"6\" y=\"6\" width=\"26\" height=\"26\" rx=\"13\" stroke=\"#D92D20\" strokeWidth=\"2\" />\n                        </g>\n                        <g opacity=\"0.1\">\n                            <rect x=\"1\" y=\"1\" width=\"36\" height=\"36\" rx=\"18\" stroke=\"#D92D20\" strokeWidth=\"2\" />\n                        </g>\n                        <g clipPath=\"url(#clip0_3922_546259)\">\n                            <path d=\"M18.9998 15.6665V18.9998M18.9998 22.3332H19.0082M27.3332 18.9998C27.3332 23.6022 23.6022 27.3332 18.9998 27.3332C14.3975 27.3332 10.6665 23.6022 10.6665 18.9998C10.6665 14.3975 14.3975 10.6665 18.9998 10.6665C23.6022 10.6665 27.3332 14.3975 27.3332 18.9998Z\" stroke=\"#D92D20\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                        </g>\n                        <defs>\n                            <clipPath id=\"clip0_3922_546259\">\n                                <rect width=\"20\" height=\"20\" fill=\"white\" transform=\"translate(9 9)\" />\n                            </clipPath>\n                        </defs>\n                    </svg>\n\n                </div>\n                <h1 className={styles.cancelProjectTitle}>Cancel Project?</h1>\n                <button \n                    className='ms-auto mb-3'\n                    onClick={onClose}\n                    style={{ background: 'none', border: 'none', cursor: 'pointer', padding: 0 }}\n                >\n                    <X size={24} className={styles.cancelProjectCloseIcon} />\n                </button>\n            </div>\n\n            <div className={styles.cancelProjectDescription}>\n                <p className={styles.cancelProjectDescriptionText}>This will cancel the project and permanently delete the linked invoice.</p>\n                <p className={styles.cancelProjectDescriptionText}>Are you sure you want to proceed?</p>\n            </div>\n\n            <div className={styles.cancelProjectActions}>\n                <button \n                    className={styles.cancelProjectButton}\n                    onClick={onConfirm}\n                    disabled={isLoading}\n                    style={{ opacity: isLoading ? 0.6 : 1, cursor: isLoading ? 'not-allowed' : 'pointer' }}\n                >\n                    Cancel Project\n                    {isLoading && <ProgressSpinner style={{ width: '14px', height: '14px', marginLeft: '8px', position: 'relative', top: '2px' }} />}\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default CancelProject;","// extracted by mini-css-extract-plugin\nexport default {\"emailUnavailableText\":\"compose-email_emailUnavailableText__-vpup\",\"emailStatus\":\"compose-email_emailStatus__ounlY\",\"disconnectedBadge\":\"compose-email_disconnectedBadge__6fNJK\",\"smsUnavailableText\":\"compose-email_smsUnavailableText__wC3+X\",\"settingsLink\":\"compose-email_settingsLink__Pe9yH\",\"disconnected\":\"compose-email_disconnected__mB26k\",\"dots\":\"compose-email_dots__Lk2LO\"};","import { useState } from \"react\";\nimport { Envelope, X } from \"react-bootstrap-icons\";\nimport { Link } from \"react-router-dom\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport clsx from \"clsx\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { toast } from \"sonner\";\nimport style from \"./compose-email.module.scss\";\nimport { getClientById } from \"../../../../../../APIs/ClientsApi\";\nimport { getOutgoingEmail } from \"../../../../../../APIs/email-template\";\nimport { sendComposeEmail } from \"../../../../../../APIs/management-api\";\nimport SendDynamicEmailForm from \"../../../../../../ui/send-email-2/send-email\";\n\nconst ComposeEmail = ({ clientId, projectId, projectCardData }) => {\n  const [, setPayload] = useState({});\n  const [viewShow, setViewShow] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const outgoingEmailTemplateQuery = useQuery({\n    queryKey: [\"getOutgoingEmail\"],\n    queryFn: getOutgoingEmail\n  });\n\n  const handleShow = () => {\n    if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email !== 'no-reply@memate.com.au') {\n      setViewShow(true);\n    } else {\n      setShowInstructions(true);\n    }\n  };\n  const clientQuery = useQuery({\n    queryKey: ['getClientById', clientId],\n    queryFn: () => getClientById(clientId),\n    enabled: !!clientId,\n    retry: 1,\n  });\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendComposeEmail(projectId, \"\", data),\n    onSuccess: () => {\n      setViewShow(false);\n      projectCardData();\n      toast.success(`Email send successfully.`);\n    },\n    onError: (error) => {\n      console.error('Error sending email:', error);\n      toast.error(`Failed to send email. Please try again.`);\n    }\n  });\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 ps-0\" onClick={handleShow}>Compose Email</div>\n\n      {/* Instructions modal */}\n      <Modal\n        show={showInstructions}\n        onHide={() => setShowInstructions(false)}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                <path d=\"M18 21.5H38C39.1 21.5 40 22.4 40 23.5V33.5C40 34.6 39.1 35.5 38 35.5H18C16.9 35.5 16 34.6 16 33.5V23.5C16 22.4 16.9 21.5 18 21.5ZM38 23.5L28 29.5L18 23.5V25.5L28 31.5L38 25.5V23.5Z\" fill=\"#F04438\" />\n              </svg>\n\n              <span className='ms-3'>Email is currently unavailable</span>\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <p className={style.emailUnavailableText}>Email functionality is currently unavailable. To use this feature, please configure an email account via <Link to=\"/settings/integrations?openEmail=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.</p>\n          </div>\n          <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto\", style.emailStatus)}>\n            <div className={clsx(\"d-flex align-items-center justify-content-center\")}>\n              <Envelope size={25} color=\"#667085\" />\n              <h6 className=\"ms-2 mt-2\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                Outgoing Email\n              </h6>\n            </div>\n            <span className={clsx(\"px-2 py-1\", style.disconnected)}>\n              Pending\n              <span className={style.dots}></span>\n            </span>\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      {/* Compose email modal */}\n      <SendDynamicEmailForm show={viewShow} isLoading={false} mutation={mutation} setShow={setViewShow} setPayload={setPayload} contactPersons={clientQuery?.data?.contact_persons || []} isComposeEmail={true} />\n    </>\n  );\n};\n\nexport default ComposeEmail;\n","var _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgFolderFileIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"folder\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Union\",\n    d: \"M0.539556 4.37024L0.5 3.5C0.5 2.39543 1.39543 1.5 2.5 1.5H6.17157C6.70201 1.5 7.21071 1.71071 7.58579 2.08579L8.41421 2.91421C8.78929 3.28929 9.29799 3.5 9.82843 3.5H13.8099C14.986 3.5 15.9082 4.50984 15.8017 5.68107L15.1654 12.6811C15.0717 13.7112 14.208 14.5 13.1736 14.5H2.82644C1.79203 14.5 0.928302 13.7112 0.834651 12.6811L0.198287 5.68107C0.154232 5.19647 0.286283 4.73949 0.539556 4.37024ZM2.19007 4.5C1.60204 4.5 1.14094 5.00492 1.19418 5.59054L1.83054 12.5905C1.87737 13.1056 2.30923 13.5 2.82644 13.5H13.1736C13.6908 13.5 14.1226 13.1056 14.1695 12.5905L14.8058 5.59054C14.8591 5.00492 14.398 4.5 13.8099 4.5H2.19007ZM6.87868 2.79289C6.69114 2.60536 6.43679 2.5 6.17157 2.5H2.5C1.95402 2.5 1.51024 2.93755 1.50017 3.48112L1.50647 3.61964C1.71927 3.54231 1.94936 3.5 2.19007 3.5H7.58579L6.87868 2.79289Z\",\n    fill: \"#1D2939\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFolderFileIcon);\nexport default __webpack_public_path__ + \"static/media/folderFileIcon.ea8d1ab0e5f9d712876b6e6f3e9f303d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { X, CloudUpload, Trash } from \"react-bootstrap-icons\";\nimport { useDropzone } from 'react-dropzone';\nimport { Link } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Skeleton } from 'primereact/skeleton';\nimport Modal from 'react-bootstrap/Modal';\nimport { toast } from 'sonner';\nimport { deleteFileByKey, getProjectFilesById } from '../../../../../../APIs/management-api';\nimport FolderFileIcon from \"../../../../../../assets/images/icon/folderFileIcon.svg\";\nimport { formatFileSize } from '../../../../../../features/chat/ui/chat-area/chat-attachment-popover';\nimport { BootstrapFileIcons } from '../../../../../../shared/lib/bootstrap-file-icons';\n\n// Helper function to check if file is an image\nconst isImageFile = (extension) => {\n  const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'svg', 'bmp', 'webp', 'heic'];\n  return imageExtensions.includes(extension?.toLowerCase());\n};\n\n// File Preview Component\nconst FilePreview = ({ file }) => {\n  const extension = file?.key?.split('.').pop()?.toLowerCase();\n  const isImage = isImageFile(extension);\n\n  if (isImage) {\n    return (\n      <div\n        style={{\n          width: '48px',\n          height: '48px',\n          borderRadius: '6px',\n          overflow: 'hidden',\n          flexShrink: 0,\n          background: '#E5E7EB'\n        }}\n      >\n        <img\n          src={file.url}\n          alt={file.key}\n          style={{\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover'\n          }}\n          onError={(e) => {\n            e.target.style.display = 'none';\n            e.target.parentElement.innerHTML = '<div style=\"width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"#9CA3AF\"><path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg></div>';\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      style={{\n        width: '48px',\n        height: '48px',\n        borderRadius: '6px',\n        background: '#F9FAFB',\n        border: '1px solid #E5E7EB',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexShrink: 0\n      }}\n    >\n      <BootstrapFileIcons extension={extension} size={28} />\n    </div>\n  );\n};\n\nconst FilesModel = ({ projectId }) => {\n  // Used for upload progress tracking in uploadToS3 function\n  // eslint-disable-next-line no-unused-vars\n  const [files, setFiles] = useState([]);\n  const [showUploadSection, setShowUploadSection] = useState(false);\n  const [viewShow, setViewShow] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [uploadingFile, setUploadingFile] = useState(false);\n  const accessToken = localStorage.getItem(\"access_token\");\n  const handleClose = () => {\n    setViewShow(false);\n  };\n\n  const filesQuery = useQuery({\n    queryKey: ['id', projectId],\n    queryFn: () => getProjectFilesById(projectId),\n    enabled: !!projectId,\n    retry: 1,\n    staleTime: 0,\n    cacheTime: 0,\n  });\n\n  const handleShow = () => {\n    setViewShow(true);\n  };\n\n  const uploadToS3 = async (file, url) => {\n    return axios.put(url, file, {\n      headers: {\n        \"Content-Type\": \"\",\n      },\n      onUploadProgress: (progressEvent) => {\n        const progress = Math.round(\n          (progressEvent.loaded / progressEvent.total) * 100\n        );\n        setFiles((prevFiles) => {\n          return prevFiles.map((f) =>\n            f.name === file.name\n              ? Object.assign(f, { progress, url })\n              : f\n          );\n        });\n      },\n    }).catch((err) => {\n      console.log('err: ', err);\n      setFiles((prevFiles) => {\n        return prevFiles.map((f) =>\n          f.name === file.name\n            ? Object.assign(f, { progress: 0, url, error: true })\n            : f\n        );\n      });\n    });\n  };\n\n  const fileUploadBySignedURL = async (files) => {\n    if (!files.length) return;\n    if (!accessToken) return toast.error('Access token is missing. Please log in again.');\n\n    for (const file of files) {\n      const uniqueNumber = Date.now();\n      const fileNameParts = file.name.split('.');\n      const ext = fileNameParts.pop(); // extension\n      const baseName = fileNameParts.join('.');\n      const newName = `${baseName}-${uniqueNumber}.${ext}`;\n\n      try {\n        setUploadingFile(true);\n        const response = await axios.post(\n          `${process.env.REACT_APP_BACKEND_API_URL}/projects/file/${projectId}/`,\n          { file_name: newName },\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          }\n        );\n\n        const { url } = response.data;\n        if (!url) {\n          setFiles([]);\n          toast.error(`Failed to upload ${file.name}. Please try again.`);\n          return;\n        }\n\n        await uploadToS3(file, url);\n        filesQuery?.refetch();\n        toast.success(`Successfully uploaded ${file.name}`);\n      } catch (error) {\n        console.error(\"Error uploading file:\", file.name, error);\n        toast.error(`Failed to upload ${file.name}. Please try again.`);\n      } finally {\n        setUploadingFile(false);\n      }\n    }\n  };\n\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    maxFiles: 1,\n    multiple: false,\n    accept: { 'application/pdf': ['.pdf', '.png', '.jpg', '.jpeg', '.mp4'] },\n    maxSize: 25 * 1024 * 1024,\n    onDrop: acceptedFiles => {\n      const newFiles = acceptedFiles.map((file) =>\n        Object.assign(file, {\n          preview: URL.createObjectURL(file),\n          progress: 0\n        })\n      );\n      setFiles(() => [...newFiles]);\n      fileUploadBySignedURL(newFiles);\n    }\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: (fileKey) => deleteFileByKey(projectId, fileKey),\n    onSuccess: () => {\n      toast.success('File deleted successfully');\n      filesQuery?.refetch();\n      deleteMutation.reset();\n    },\n    onError: () => {\n      toast.error('Failed to delete file');\n    },\n  });\n\n  const removeFile = async (fileKey) => {\n    deleteMutation.mutate(fileKey);\n  };\n\n  return (\n    <>\n      {/* View modal trigger */}\n      <Button className={`filebut ${filesQuery?.data?.length ? 'fileActive' : ''}`} onClick={handleShow}>\n        Files\n        {filesQuery?.data?.length > 0 && (\n          <span className=\"ml-1 font-14\">({filesQuery.data.length})</span>\n        )}\n        <img src={FolderFileIcon} alt=\"FolderFileIcon\" />\n      </Button>\n\n      {/* View modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject taskModelProjectFiles\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start py-2\">\n            <span>\n              Integrated File System\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className='d-flex justify-content-between align-items-center mb-3'>\n            <h2 style={{ fontSize: '22px' }}>All Files</h2>\n            <div className='d-flex justify-content-end align-items-center'>\n              <Button className=\"solid-button py-1 me-3 font-14\" onClick={() => setShowUploadSection(!showUploadSection)}>\n                Add\n              </Button>\n\n              <div className=\"searchBox\" style={{ position: 'relative' }}>\n                <div style={{ position: 'absolute', top: '2px', left: '6px' }}>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                    <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n                  </svg>\n                </div>\n                <input type=\"text\" placeholder=\"Search\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} className=\"border search-resource\" style={{ borderRadius: '4px', width: '184px', border: '1px solid #D0D5DD', color: '#424242', paddingLeft: '36px', fontSize: '14px', height: '32px' }} />\n              </div>\n            </div>\n          </div>\n\n          {showUploadSection &&\n            <div {...getRootProps({ className: 'dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer mb-4' })} style={{ width: '100%', height: '126px', background: '#fff', borderRadius: '4px', border: '1px solid #EAECF0', marginTop: '16px' }}>\n              <input {...getInputProps()} />\n              <button type='button' className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', border: '1px solid #EAECF0', background: '#fff', borderRadius: '8px', marginBottom: '16px' }}>\n                {uploadingFile ? <ProgressSpinner style={{ width: '18px', height: '18px' }} /> : <CloudUpload />}\n              </button>\n              <p className='mb-0' style={{ color: '#475467', fontSize: '14px' }}><span style={{ color: '#106B99', fontWeight: '600' }}>Click to upload</span> or drag and drop</p>\n            </div>\n          }\n          <div style={{ height: '400px', overflow: 'auto', paddingRight: '4px' }}>\n            <div className='d-flex gap-2 flex-wrap'>\n              {!filesQuery?.isLoading && filesQuery?.data?.map((file) => {\n                return (\n                  <div\n                    key={file?.key}\n                    style={{\n                      background: '#F9FAFB',\n                      padding: '10px',\n                      borderRadius: '8px',\n                      border: '1px solid #EAECF0',\n                      height: 'fit-content',\n                      width: 'calc(33.333% - 5.33px)',\n                      minWidth: '200px'\n                    }}\n                    className='d-flex align-items-center justify-content-between gap-2'\n                  >\n                    <Link\n                      to={`${file.url}`}\n                      target='_blank'\n                      className='d-flex align-items-center gap-2'\n                      style={{ flex: 1, minWidth: 0, textDecoration: 'none' }}\n                    >\n                      <FilePreview file={file} />\n                      <div className='d-flex flex-column' style={{ flex: 1, minWidth: 0, fontSize: '13px' }}>\n                        <div\n                          title={file?.key}\n                          style={{\n                            overflow: 'hidden',\n                            textOverflow: 'ellipsis',\n                            whiteSpace: 'nowrap',\n                            fontWeight: '500',\n                            color: '#344054',\n                            marginBottom: '2px'\n                          }}\n                        >\n                          {file?.key}\n                        </div>\n                        <small style={{ color: '#667085', fontSize: '12px' }}>{formatFileSize(file?.size)}</small>\n                      </div>\n                    </Link>\n                    <div\n                      className='d-flex align-items-center justify-content-center'\n                      onClick={() => removeFile(file?.key)}\n                      title='Delete file'\n                      style={{\n                        background: '#FEE4E2',\n                        borderRadius: '50%',\n                        width: '28px',\n                        height: '28px',\n                        flexShrink: 0,\n                        cursor: 'pointer',\n                        transition: 'all 0.2s ease'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.background = '#FEF3F2'}\n                      onMouseLeave={(e) => e.currentTarget.style.background = '#FEE4E2'}\n                    >\n                      {deleteMutation?.isPending && deleteMutation?.variables === file?.key\n                        ? <ProgressSpinner style={{ width: '14px', height: '14px' }} />\n                        : <Trash size={14} color=\"#F04438\" />\n                      }\n                    </div>\n                  </div>\n                );\n              })}\n              {filesQuery?.isLoading && <>\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n                <Skeleton width='calc(33.333% - 5.33px)' height={68} borderRadius='8px' />\n              </>}\n            </div>\n          </div>\n        </Modal.Body>\n        <div className='CustonCloseModalBottom'>\n          <button className='but' onClick={handleClose}>\n            Close\n          </button>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default FilesModel;\n","var _g, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgGoogleReviewIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 21,\n    viewBox: \"0 0 20 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Social icon\",\n    clipPath: \"url(#clip0_7030_25924)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector\",\n    d: \"M19.8052 10.7305C19.8052 10.0507 19.7501 9.36724 19.6325 8.69849H10.2002V12.5493H15.6016C15.3775 13.7913 14.6573 14.8899 13.6027 15.5881V18.0867H16.8252C18.7176 16.345 19.8052 13.7729 19.8052 10.7305Z\",\n    fill: \"#4285F4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_2\",\n    d: \"M10.2 20.5008C12.897 20.5008 15.1715 19.6152 16.8287 18.0867L13.6062 15.588C12.7096 16.198 11.5522 16.5434 10.2037 16.5434C7.5948 16.5434 5.38279 14.7833 4.58911 12.417H1.26373V14.9928C2.96133 18.3696 6.41898 20.5008 10.2 20.5008Z\",\n    fill: \"#34A853\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_3\",\n    d: \"M4.58564 12.417C4.16676 11.175 4.16676 9.8302 4.58564 8.58824V6.01245H1.26395C-0.154389 8.8381 -0.154389 12.1671 1.26395 14.9928L4.58564 12.417Z\",\n    fill: \"#FBBC04\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_4\",\n    d: \"M10.2 4.45805C11.6257 4.436 13.0036 4.97247 14.0361 5.95722L16.8911 3.10218C15.0833 1.40459 12.6839 0.471278 10.2 0.500674C6.41898 0.500674 2.96133 2.63185 1.26373 6.01234L4.58543 8.58813C5.37544 6.21811 7.59113 4.45805 10.2 4.45805Z\",\n    fill: \"#EA4335\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7030_25924\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 20,\n    height: 20,\n    fill: \"white\",\n    transform: \"translate(0 0.5)\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGoogleReviewIcon);\nexport default __webpack_public_path__ + \"static/media/googleReviewIcon.0184cc6ef401c44935cf67effccb9dd0.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport { getClientById } from \"../../../../../../APIs/ClientsApi\";\nimport { sendComposeEmail } from \"../../../../../../APIs/management-api\";\nimport GoogleReview from \"../../../../../../assets/images/icon/googleReviewIcon.svg\";\nimport SendDynamicEmailForm from \"../../../../../../ui/send-email-2/send-email\";\n\nconst GoogleReviewEmail = ({ clientId, projectId }) => {\n    const [, setPayload] = useState({});\n    const [viewShow, setViewShow] = useState(false);\n    const handleShow = () => setViewShow(true);\n    const clientQuery = useQuery({\n        queryKey: ['getClientById', clientId],\n        queryFn: () => getClientById(clientId),\n        enabled: !!clientId,\n        retry: 1,\n    });\n\n    const mutation = useMutation({\n        mutationFn: (data) => sendComposeEmail(projectId, \"google-review\", data),\n        onSuccess: () => {\n            setViewShow(false);\n            toast.success(`Email send successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error sending email:', error);\n            toast.error(`Failed to send email. Please try again.`);\n        }\n    });\n\n    return (\n        <>\n            <Button className='googleBut googleActive' onClick={handleShow}>Review  <img src={GoogleReview} alt=\"GoogleReview\" /></Button>\n            <SendDynamicEmailForm show={viewShow} mutation={mutation} isLoading={false} setShow={setViewShow} setPayload={setPayload} contactPersons={clientQuery?.data?.contact_persons || []} defaultTemplateId={'Google Review'} />\n        </>\n    );\n};\n\nexport default GoogleReviewEmail;\n","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-invoice_headerTitle__YBmdt\",\"customLabel\":\"send-invoice_customLabel__0D26B\",\"templateInfo\":\"send-invoice_templateInfo__osqvZ\",\"bag\":\"send-invoice_bag__VXoPF\",\"lable\":\"send-invoice_lable__hDm-2\",\"dropdownSelect\":\"send-invoice_dropdownSelect__y4YWM\",\"autoCompleteBox\":\"send-invoice_autoCompleteBox__sVyzX\",\"AutoComplete\":\"send-invoice_AutoComplete__cCiBx\",\"bcc\":\"send-invoice_bcc__KYSsZ\",\"box\":\"send-invoice_box__pOjbC\",\"active\":\"send-invoice_active__hBlO9\",\"inputBox\":\"send-invoice_inputBox__gIZLk\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Modal, Row } from \"react-bootstrap\";\nimport { InfoCircle } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport { toast } from 'sonner';\nimport style from \"./send-invoice.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\nimport { resendInvoiceEmail } from '../../APIs/invoice-api';\nimport { createAndSendInvoiceById } from '../../APIs/management-api';\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendInvoiceEmailForm = ({ show, setShow, contactPersons, setPayload, isLoading, create, projectId, projectCardData, isCreated }) => {\n    const op = useRef(null);\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n    const handleClose = () => setShow(false);\n\n    // Email validation function\n    const isValidEmail = useCallback((email) => {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email.trim());\n    }, []);\n\n    // Validate array of emails\n    const validateEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return true; // Empty array is valid\n        return emailArray.every(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Get invalid emails from array\n    const getInvalidEmails = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => !isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Clean email array by removing invalid emails\n    const cleanEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Validate and clean all email fields\n    const validateAndCleanAllEmails = useCallback(() => {\n        let hasErrors = false;\n        \n        // Check TO emails\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Found invalid TO emails:', invalidToEmails);\n                setTo(cleanEmailArray(to));\n                hasErrors = true;\n            }\n        }\n        \n        // Check CC emails\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Found invalid CC emails:', invalidCcEmails);\n                setCC(cleanEmailArray(cc));\n                hasErrors = true;\n            }\n        }\n        \n        // Check BCC emails\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Found invalid BCC emails:', invalidBccEmails);\n                setBCC(cleanEmailArray(bcc));\n                hasErrors = true;\n            }\n        }\n        \n        return !hasErrors; // Return true if no errors found\n    }, [to, cc, bcc, getInvalidEmails, cleanEmailArray]);\n\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n    });\n\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n    });\n\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n    });\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n    }, [emailQuery, outgoingEmailTemplateQuery]);\n\n    const mutation = useMutation({\n        mutationFn: (data) => isCreated ? resendInvoiceEmail(projectId, data) : createAndSendInvoiceById(projectId, data),\n        onSuccess: () => {\n            handleClose();\n            projectCardData();\n            toast.success(`Invoice created and send successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n            toast.error(`Failed to create and send invoice. Please try again.`);\n        }\n    });\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        // First, validate and clean all email arrays\n        const allEmailsValid = validateAndCleanAllEmails();\n        if (!allEmailsValid) {\n            console.log('Some emails were invalid and have been cleaned');\n        }\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        } else if (!validateEmailArray(to)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(to);\n            console.log('Invalid TO emails:', invalidEmails);\n            setErrors((others) => ({ ...others, to: true, toInvalid: true, invalidToEmails: invalidEmails }));\n        }\n\n        if (cc.length > 0 && !validateEmailArray(cc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(cc);\n            console.log('Invalid CC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, cc: true, invalidCcEmails: invalidEmails }));\n        }\n\n        if (bcc.length > 0 && !validateEmailArray(bcc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(bcc);\n            console.log('Invalid BCC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, bcc: true, invalidBccEmails: invalidEmails }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n\n        mutation.mutate({\n            subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        });\n    };\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setTo((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length && validEmails.length > 0) {\n                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, cc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setBCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, bcc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    // Auto-clean invalid emails from arrays\n    useEffect(() => {\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Auto-cleaning invalid TO emails:', invalidToEmails);\n                const validEmails = cleanEmailArray(to);\n                setTo(validEmails);\n            }\n        }\n    }, [to, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Auto-cleaning invalid CC emails:', invalidCcEmails);\n                const validEmails = cleanEmailArray(cc);\n                setCC(validEmails);\n            }\n        }\n    }, [cc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Auto-cleaning invalid BCC emails:', invalidBccEmails);\n                const validEmails = cleanEmailArray(bcc);\n                setBCC(validEmails);\n            }\n        }\n    }, [bcc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n    \n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    useEffect(() => {\n        if (emailTemplateQuery?.data) {\n            const activeTemplateId = isCreated ?\n                emailTemplateQuery?.data?.find((template) => template.type === 'Invoice')\n                : emailTemplateQuery?.data?.find((template) => template.type === 'Invoice');\n            setEmailTemplatedId(activeTemplateId?.id);\n        }\n    }, [emailTemplateQuery?.data, isCreated]);\n\n    return (\n        <Modal\n            show={show}\n            centered\n            onHide={handleClose}\n            className='invoice-form'\n            size='lg'\n        >\n            <Modal.Header closeButton>\n                <div className={`${style.modalHeader}`}>\n                    <div className=\"w-100 d-flex align-items-center gap-2\">\n                        <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                            {isCreated ? \"Resend\" : \"Send\"} a Invoice\n                        </span>\n                    </div>\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <Row>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>FROM</label>\n                            <Dropdown\n                                options={\n                                    (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                        value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                        label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                    }])) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '60px' }}\n                                placeholder=\"Select from email\"\n                                onChange={(e) => {\n                                    setFrom(e.value);\n                                    setErrors((others) => ({ ...others, from: false }));\n                                }}\n                                value={from}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                        {errors?.from && (\n                            <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (emailTemplateQuery &&\n                                        emailTemplateQuery.data?.map((emailTemplate) => ({\n                                            value: emailTemplate.id,\n                                            label: `${emailTemplate.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setEmailTemplatedId(e.value);\n                                }}\n                                value={emailTemplateId}\n                                loading={emailTemplateQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                            <div className={style.templateInfo} onClick={(e) => op.current.toggle(e)}>\n                                <InfoCircle size={16} color='#737374ff' />\n                            </div>\n                            <OverlayPanel ref={op}>\n                                <p className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>Choose from your existing templates here.</p>\n                                <div className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>To edit or add new templates, go to<br /> Profile Settings &gt; Templates &gt; Email<br/> Templates.</div>\n                            </OverlayPanel>\n                        </div>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex gap-3 w-100\">\n                            <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>TO</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef}\n                                    value={to}\n                                    completeMethod={search}\n                                    onChange={(e) => {\n                                        setTo(e.value);\n                                        setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus}\n                                    onFocus={onFocus}\n                                    onKeyUp={onInputChange}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setTo((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, toInvalid: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"TO\"\n                                />\n                            </div>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showCC })}\n                                onClick={() => { setShowCC(!showCC); setCC([]); }}\n                            >\n                                CC\n                            </Button>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showBCC })}\n                                onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                            >\n                                BCC\n                            </Button>\n                        </div>\n                        {errors?.to && !errors?.toInvalid && (\n                            <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                        )}\n                        {errors?.toInvalid && (\n                            <div>\n                                <p className=\"error-message mb-0\">{\"Please enter valid email addresses for TO\"}</p>\n                                {errors?.invalidToEmails && errors.invalidToEmails.length > 0 && (\n                                    <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                        Invalid emails: {errors.invalidToEmails.join(', ')}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </Col>\n                    {\n                        showCC &&\n                        <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>CC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef2}\n                                    value={cc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setCC(e.value);\n                                        setErrors((others) => ({ ...others, cc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus2}\n                                    onFocus={onFocus2}\n                                    onKeyUp={onInputChange2}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, cc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, cc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"CC\"\n                                />\n                            </div>\n                            {errors?.cc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for CC\"}</p>\n                                    {errors?.invalidCcEmails && errors.invalidCcEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidCcEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n\n                    {\n                        showBCC && <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '60px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>BCC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef3}\n                                    value={bcc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setBCC(e.value);\n                                        setErrors((others) => ({ ...others, bcc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus3}\n                                    onFocus={onFocus3}\n                                    onKeyUp={onInputChange3}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, bcc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, bcc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                    placeholder=\"BCC\"\n                                />\n                            </div>\n                            {errors?.bcc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for BCC\"}</p>\n                                    {errors?.invalidBccEmails && errors.invalidBccEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidBccEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n                    <Col sm={12} className='mb-2'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>SUBJECT</label>\n                            <IconField>\n                                <InputIcon>\n                                    {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                </InputIcon>\n                                <InputText\n                                    value={subject}\n                                    className={clsx(style.inputBox, 'w-100')}\n                                    style={{ paddingLeft: '100px' }}\n                                    onChange={(e) => {\n                                        setSubject(e.target.value);\n                                        setErrors((others) => ({ ...others, subject: false }));\n                                    }}\n                                    placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                                />\n                            </IconField>\n                        </div>\n                        {errors?.subject && (\n                            <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                            <label className={clsx(style.lable)}>Message</label>\n                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <Editor\n                                style={{ minHeight: \"150px\" }}\n                                headerTemplate={header}\n                                value={text}\n                                placeholder='Enter a description...'\n                                onTextChange={(e) => {\n                                    setText(e.htmlValue);\n                                    setErrors((others) => ({ ...others, text: false }));\n                                }}\n                            />\n                        </div>\n                        {errors?.text && (\n                            <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12}>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Signature</label>\n                            <Dropdown\n                                options={\n                                    (signatureQuery &&\n                                        signatureQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                panelClassName='px880-dropdown-item'\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select signature\"\n                                onChange={(e) => {\n                                    setSignature(e.value);\n                                }}\n                                value={signature}\n                                loading={signatureQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-between'>\n                <Button onClick={handleClose} className='text-button text-danger'>Cancel</Button>\n                <div className=\"d-flex justify-content-end gap-2\">\n                    {\n                        !isCreated && (\n                            <Button disabled={isLoading} className=\"outline-button\" onClick={create}>\n                                Create and Save{\" \"}\n                                {isLoading && (\n                                    <ProgressSpinner\n                                        style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                                    />\n                                )}\n                            </Button>\n                        )\n                    }\n\n                    <Button className=\"solid-button\" disabled={mutation?.isPending} onClick={onSubmit}>\n                        {isCreated ? \"Resend\" : \"Create and Send\"}{\" \"}\n                        {\n                            mutation?.isPending && (\n                                <ProgressSpinner\n                                    style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                                />\n                            )\n                        }\n                    </Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default SendInvoiceEmailForm;","import React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useQuery } from '@tanstack/react-query';\nimport { getClientById } from '../../../../../../APIs/ClientsApi';\nimport InvoicesIcon from \"../../../../../../assets/images/icon/InvoicesIcon.svg\";\nimport SendInvoiceEmailForm from '../../../../../../ui/send-invoice/send-invoice';\n\nconst InvoiceCreate = ({ clientId, projectId, isLoading, create, projectCardData, isCreated }) => {\n    const [show, setShow] = useState(false);\n    const [, setPayload] = useState({});\n    const clientQuery = useQuery({\n        queryKey: ['id', clientId],\n        queryFn: () => getClientById(clientId),\n        enabled: !!clientId,\n        retry: 1,\n    });\n\n    return (\n        <>\n            <Button className='InvoiceAction InvoiceActive me-3' onClick={() => setShow(true)}>\n              {isCreated ? \"Resend\" : \"Create\"} Invoice  <img src={InvoicesIcon} alt=\"Invoices\" />\n            </Button>\n            <SendInvoiceEmailForm projectId={projectId} show={show} create={create} isLoading={isLoading} setShow={setShow} setPayload={setPayload} contactPersons={clientQuery?.data?.contact_persons || []} projectCardData={projectCardData} isCreated={isCreated}/>\n        </>\n    );\n};\n\nexport default InvoiceCreate;","import CreateTask from '../../../../Work/features/task/create-task/create-task';\n\nconst CreateTaskFeature = ({ show, setShow, project, reInitialize }) => {\n    const projectId = project.value;\n    return (\n        <>\n            {show && <CreateTask show={show} setShow={setShow} projectId={projectId} refetch={reInitialize} />}\n        </>\n    );\n};\n\nexport default CreateTaskFeature;\n","import { useState } from 'react';\nimport CreateTask from '../task/create-task';\n\nconst NewTask = ({ project, reInitialize, projectCardData }) => {\n    const [viewShow, setViewShow] = useState(false);\n    const handleShow = () => setViewShow(true);\n    \n    return (\n        <>\n            <div className=\"linkByttonStyle py-2 border-right pe-5\" onClick={handleShow}>\n                New Task\n            </div>\n            <CreateTask show={viewShow} setShow={setViewShow} project={project} reInitialize={reInitialize} projectCardData={projectCardData} />\n        </>\n    );\n};\n\nexport default NewTask;\n","import React, { useState } from 'react';\nimport { Filter, FileText, FileEarmarkText, Bezier2, CardChecklist, Envelope, PhoneVibrate, ListCheck, Check2Circle, FolderSymlink } from 'react-bootstrap-icons';\n\nconst OPTIONS = [\n  { icon: <FileText size={16} color='#1AB2FF' />, label: 'Invoice', value: 'invoice' },\n  { icon: <FileEarmarkText size={16} color='#1AB2FF' />, label: 'Quote', value: 'quote' },\n  { icon: <Bezier2 size={16} color='#1AB2FF' />, label: 'System', value: 'system' },\n  { icon: <CardChecklist size={16} color='#1AB2FF' />, label: 'Notes', value: 'note' },\n  { icon: <Envelope size={16} color='#1AB2FF' />, label: 'Email', value: 'email' },\n  { icon: <PhoneVibrate size={16} color='#1AB2FF' />, label: 'SMS', value: 'sms' },\n  { icon: <ListCheck size={16} color='#1AB2FF' />, label: 'Tasks', value: 'task' },\n  { icon: <Check2Circle size={16} color='#1AB2FF' />, label: 'Job Created', value: 'job' },\n  { icon: <FolderSymlink size={16} color='#1AB2FF' />, label: 'Expense Linked', value: 'order' }\n];\n\nconst ProjectCardFilter = ({ setFilteredHistoryOptions }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [tempSelectedOptions, setTempSelectedOptions] = useState([]);\n\n  const toggleDropdown = () => setIsOpen(prev => !prev);\n\n  const handleCheckboxChange = (value) => {\n    setTempSelectedOptions(prev =>\n      prev.includes(value)\n        ? prev.filter(opt => opt !== value)\n        : [...prev, value]\n    );\n  };\n\n  const handleApply = () => {\n    setFilteredHistoryOptions(tempSelectedOptions);\n    setIsOpen(false);\n  };\n\n  const handleSelectAll = () => {\n    if (tempSelectedOptions?.length > 0) setTempSelectedOptions([]);\n    else setTempSelectedOptions(OPTIONS.map(option => option.value));\n  };\n\n  const handleClearSelection = () => setTempSelectedOptions([]);\n\n  return (\n    <div className='projectCardFilterDropdown'>\n      <span onClick={toggleDropdown}>\n        <Filter size={20} color='#344054' />\n      </span>\n\n      {isOpen && (\n        <div className=\"dropdown-menuF px-0\">\n          <button className='all p-0 ps-2 pe-2 mx-2 text-left d-flex justify-content-between align-items-center rounded' style={{ background: '#F9FAFB', width: '94%' }} onClick={handleSelectAll}>\n            <span className='border-0' style={{ background: 'transparent' }}>All</span>\n            {\n              OPTIONS.length === tempSelectedOptions?.length && <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M16.6666 5L7.49992 14.1667L3.33325 10\" stroke=\"#1AB2FF\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n              </svg>\n            }\n          </button>\n          <ul className='ps-3'>\n            {OPTIONS.map(({ icon, label, value }) => (\n              <li\n                key={label}\n                className={tempSelectedOptions.includes(label) ? 'active' : ''}\n                onClick={() => handleCheckboxChange(value)}\n              >\n                <label htmlFor={label} className='w-100 d-flex justify-content-between align-items-center'>\n                  <input\n                    id={label}\n                    type=\"checkbox\"\n                    checked={tempSelectedOptions.includes(value)}\n                    readOnly\n                    style={{ cursor: 'pointer', height: '40px' }}\n                  />\n                  <span className='border-0'>{icon} {label}</span>\n                  {\n                    tempSelectedOptions.includes(value) && <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                      <path d=\"M16.6666 5L7.49992 14.1667L3.33325 10\" stroke=\"#1AB2FF\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                    </svg>\n                  }\n                </label>\n              </li>\n            ))}\n          </ul>\n          <hr/>\n          <div className=\"dropdown-buttonsF pb-2 px-3\">\n            <button className='cancel' onClick={handleClearSelection}>Cancel</button>\n            <button className='apply' onClick={handleApply}>Apply</button>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default ProjectCardFilter;\n","var _g, _path, _path2, _path3, _g2, _g3, _path4, _path5, _path6, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgOrdersIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.4\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.37 11.3901V17.3801C21.37 20.1401 19.13 22.3801 16.37 22.3801H7.63C4.87 22.3801 2.63 20.1401 2.63 17.3801V11.4601C3.39 12.2801 4.47 12.7501 5.64 12.7501C6.9 12.7501 8.11 12.1201 8.87 11.1101C9.55 12.1201 10.71 12.7501 12 12.7501C13.28 12.7501 14.42 12.1501 15.11 11.1501C15.88 12.1401 17.07 12.7501 18.31 12.7501C19.52 12.7501 20.62 12.2601 21.37 11.3901Z\",\n    fill: \"#344054\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.37 11.3901V17.3801C21.37 20.1401 19.13 22.3801 16.37 22.3801H7.63C4.87 22.3801 2.63 20.1401 2.63 17.3801V11.4601C3.39 12.2801 4.47 12.7501 5.64 12.7501C6.9 12.7501 8.11 12.1201 8.87 11.1101C9.55 12.1201 10.71 12.7501 12 12.7501C13.28 12.7501 14.42 12.1501 15.11 11.1501C15.88 12.1401 17.07 12.7501 18.31 12.7501C19.52 12.7501 20.62 12.2601 21.37 11.3901Z\",\n    fill: \"url(#paint0_linear_1254_88290)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.37 11.3901V17.3801C21.37 20.1401 19.13 22.3801 16.37 22.3801H7.63C4.87 22.3801 2.63 20.1401 2.63 17.3801V11.4601C3.39 12.2801 4.47 12.7501 5.64 12.7501C6.9 12.7501 8.11 12.1201 8.87 11.1101C9.55 12.1201 10.71 12.7501 12 12.7501C13.28 12.7501 14.42 12.1501 15.11 11.1501C15.88 12.1401 17.07 12.7501 18.31 12.7501C19.52 12.7501 20.62 12.2601 21.37 11.3901Z\",\n    fill: \"url(#paint1_linear_1254_88290)\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.99 1.25H8.98997L8.24997 8.61C8.18997 9.29 8.28997 9.93 8.53997 10.51C9.11997 11.87 10.48 12.75 12 12.75C13.54 12.75 14.87 11.89 15.47 10.52C15.65 10.09 15.76 9.59 15.77 9.08V8.89L14.99 1.25Z\",\n    fill: \"#344054\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.99 1.25H8.98997L8.24997 8.61C8.18997 9.29 8.28997 9.93 8.53997 10.51C9.11997 11.87 10.48 12.75 12 12.75C13.54 12.75 14.87 11.89 15.47 10.52C15.65 10.09 15.76 9.59 15.77 9.08V8.89L14.99 1.25Z\",\n    fill: \"url(#paint2_linear_1254_88290)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.99 1.25H8.98997L8.24997 8.61C8.18997 9.29 8.28997 9.93 8.53997 10.51C9.11997 11.87 10.48 12.75 12 12.75C13.54 12.75 14.87 11.89 15.47 10.52C15.65 10.09 15.76 9.59 15.77 9.08V8.89L14.99 1.25Z\",\n    fill: \"url(#paint3_linear_1254_88290)\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.6\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.36 8.27L22.07 5.5C21.65 2.48 20.28 1.25 17.35 1.25H13.51L14.25 8.75C14.26 8.85 14.27 8.96 14.27 9.15C14.33 9.67 14.49 10.15 14.73 10.58C15.45 11.9 16.85 12.75 18.31 12.75C19.64 12.75 20.84 12.16 21.59 11.12C22.19 10.32 22.46 9.31 22.36 8.27Z\",\n    fill: \"#344054\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.36 8.27L22.07 5.5C21.65 2.48 20.28 1.25 17.35 1.25H13.51L14.25 8.75C14.26 8.85 14.27 8.96 14.27 9.15C14.33 9.67 14.49 10.15 14.73 10.58C15.45 11.9 16.85 12.75 18.31 12.75C19.64 12.75 20.84 12.16 21.59 11.12C22.19 10.32 22.46 9.31 22.36 8.27Z\",\n    fill: \"url(#paint4_linear_1254_88290)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.36 8.27L22.07 5.5C21.65 2.48 20.28 1.25 17.35 1.25H13.51L14.25 8.75C14.26 8.85 14.27 8.96 14.27 9.15C14.33 9.67 14.49 10.15 14.73 10.58C15.45 11.9 16.85 12.75 18.31 12.75C19.64 12.75 20.84 12.16 21.59 11.12C22.19 10.32 22.46 9.31 22.36 8.27Z\",\n    fill: \"url(#paint5_linear_1254_88290)\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.6\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.59002 1.25C3.65002 1.25 2.29002 2.48 1.86002 5.53L1.59002 8.28C1.49002 9.35 1.78002 10.39 2.41002 11.2C3.17002 12.19 4.34002 12.75 5.64002 12.75C7.10002 12.75 8.50002 11.9 9.21002 10.6C9.47002 10.15 9.64002 9.63 9.69002 9.09L10.47 1.26H6.59002V1.25Z\",\n    fill: \"#344054\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.59002 1.25C3.65002 1.25 2.29002 2.48 1.86002 5.53L1.59002 8.28C1.49002 9.35 1.78002 10.39 2.41002 11.2C3.17002 12.19 4.34002 12.75 5.64002 12.75C7.10002 12.75 8.50002 11.9 9.21002 10.6C9.47002 10.15 9.64002 9.63 9.69002 9.09L10.47 1.26H6.59002V1.25Z\",\n    fill: \"url(#paint6_linear_1254_88290)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.59002 1.25C3.65002 1.25 2.29002 2.48 1.86002 5.53L1.59002 8.28C1.49002 9.35 1.78002 10.39 2.41002 11.2C3.17002 12.19 4.34002 12.75 5.64002 12.75C7.10002 12.75 8.50002 11.9 9.21002 10.6C9.47002 10.15 9.64002 9.63 9.69002 9.09L10.47 1.26H6.59002V1.25Z\",\n    fill: \"url(#paint7_linear_1254_88290)\"\n  }))), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.35 16.66C10.08 16.79 9.12 17.87 9.12 19.15V22.38H14.87V19.5C14.88 17.41 13.65 16.42 11.35 16.66Z\",\n    fill: \"#344054\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.35 16.66C10.08 16.79 9.12 17.87 9.12 19.15V22.38H14.87V19.5C14.88 17.41 13.65 16.42 11.35 16.66Z\",\n    fill: \"url(#paint8_linear_1254_88290)\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.35 16.66C10.08 16.79 9.12 17.87 9.12 19.15V22.38H14.87V19.5C14.88 17.41 13.65 16.42 11.35 16.66Z\",\n    fill: \"url(#paint9_linear_1254_88290)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_1254_88290\",\n    x1: 2.63,\n    y1: 11.1101,\n    x2: 12.5849,\n    y2: 27.6633,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_1254_88290\",\n    x1: 2.62971,\n    y1: 22.38,\n    x2: 12.5846,\n    y2: 5.82672,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_1254_88290\",\n    x1: 8.23303,\n    y1: 1.25,\n    x2: 18.7777,\n    y2: 8.16081,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint3_linear_1254_88290\",\n    x1: 8.23291,\n    y1: 12.7499,\n    x2: 18.7776,\n    y2: 5.83907,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint4_linear_1254_88290\",\n    x1: 13.51,\n    y1: 1.25,\n    x2: 24.633,\n    y2: 9.82958,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint5_linear_1254_88290\",\n    x1: 13.5099,\n    y1: 12.7499,\n    x2: 24.6329,\n    y2: 4.17029,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint6_linear_1254_88290\",\n    x1: 1.57068,\n    y1: 1.25,\n    x2: 12.7028,\n    y2: 9.86468,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint7_linear_1254_88290\",\n    x1: 1.57054,\n    y1: 12.7499,\n    x2: 12.7027,\n    y2: 4.13519,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint8_linear_1254_88290\",\n    x1: 9.12,\n    y1: 16.6248,\n    x2: 14.8752,\n    y2: 22.3748,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#C99FFF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#981ED2\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint9_linear_1254_88290\",\n    x1: 9.11991,\n    y1: 22.38,\n    x2: 14.8752,\n    y2: 16.6299,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#4A879A\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#C5EDF5\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrdersIcon);\nexport default __webpack_public_path__ + \"static/media/OrdersIcon.bb129217463e985edc21ff683898e113.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useEffect } from 'react';\nimport { useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport { updateProjectScheduleById } from '../../../../../APIs/management-api';\nimport OrdersIcon from \"../../../../../assets/images/icon/OrdersIcon.svg\";\nimport DateRangePicker from '../../../../Work/Pages/tasks/old-development/DateRangePicker';\n\nconst formatDateRange = (startDate, endDate) => {\n    const options = { month: 'short', day: 'numeric' };\n    const start = new Date(startDate).toLocaleDateString('en-US', options);\n    const end = new Date(endDate).toLocaleDateString('en-US', options);\n    return `${start} - ${end}`;\n};\n\nconst DateRangeComponent = ({ startDate, endDate }) => (\n    <Button className='dateSelectdTaskBar schedule schActive' style={{ minWidth: '160px', minHeight: '46px' }}>\n        {formatDateRange(startDate, endDate)} <img src={OrdersIcon} alt=\"OrdersIcon\" /></Button>\n);\n\nconst ScheduleUpdate = ({ projectId, projectCardData, isFetching, startDate, endDate }) => {\n    const [dateRange, setDateRange] = useState({ startDate: null, endDate: null });\n    const [isPickerVisible, setIsPickerVisible] = useState(false);\n    const selectDateRef = useRef(null);\n    const togglePicker = () => setIsPickerVisible(prev => !prev);\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateProjectScheduleById(projectId, data),\n        onSuccess: async () => {\n            projectCardData(projectId);\n        },\n        onError: (error) => {\n            setDateRange({ startDate: null, endDate: null });\n            console.error('Error creating task:', error);\n        }\n    });\n    const handleDataApply = (data) => {\n        updateMutation.mutate({ booking_start: data.startDate, booking_end: data.endDate });\n        setDateRange(data);\n        setIsPickerVisible(false);\n    };\n    const handleClickOutside = (event) => {\n        if (selectDateRef.current && !selectDateRef.current.contains(event.target)) {\n            setIsPickerVisible(false);\n        }\n    };\n\n    useEffect(() => {\n        if (startDate && endDate) setDateRange({ startDate: new Date(1000 * +startDate), endDate: new Date(1000 * +endDate) });\n    }, [startDate, endDate]);\n\n    useEffect(() => {\n        if (isPickerVisible) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isPickerVisible]);\n\n    return (\n        <div className='select-date' style={{ position: 'relative' }} ref={selectDateRef}>\n            <div onClick={togglePicker} style={{ cursor: 'pointer' }}>\n                {(dateRange?.startDate && dateRange?.endDate && !updateMutation.isPending) ? (\n                    <DateRangeComponent isPending={updateMutation.isPending} startDate={dateRange.startDate} endDate={dateRange.endDate} />\n                ) : (\n                    <Button className={`schedule schActive text-nowrap`} style={{ minWidth: '201px', minHeight: '46px' }}>\n                        {updateMutation.isPending || isFetching ? <div className=\"dot-flashing\" ></div>\n                            : <span>Schedule Project  <img src={OrdersIcon} alt=\"OrdersIcon\" /></span>}\n                    </Button>\n                )}\n            </div>\n            {isPickerVisible && (\n                <div className='select-date-range' style={{ position: 'absolute', bottom: '40px', background: '#fff', zIndex: 1000 }}>\n                    <DateRangePicker onDataApply={handleDataApply} dateRange={dateRange} onClose={() => setIsPickerVisible(false)} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ScheduleUpdate;","import React, { useEffect, useState } from 'react';\nimport { ChevronDown } from 'react-bootstrap-icons';\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\nimport { useMutation } from '@tanstack/react-query';\nimport '@szhsin/react-menu/dist/index.css';\nimport { updateProjectStatusById } from '../../../../../APIs/management-api';\n\nexport const colorMapping = {\n    \"#1AB2FF\": { bg: \"#BAE8FF\", border: \"#1AB2FF\", color: \"#0A4766\", text: \"Blue\" },\n    \"#4E5BA6\": { bg: \"#EAECF5\", border: \"#4E5BA6\", color: \"#293056\", text: \"Deep Blue\" },\n    \"#2970FF\": { bg: \"#D1E0FF\", border: \"#2970FF\", color: \"#0040C1\", text: \"Dark Blue\" },\n    \"#FFB258\": { bg: \"#FFE8CD\", border: \"#FFB258\", color: \"#6D471A\", text: \"Orange\" },\n    \"#15B79E\": { bg: \"#CCFBEF\", border: \"#15B79E\", color: \"#125D56\", text: \"Green\" },\n    \"#66C61C\": { bg: \"#E3FBCC\", border: \"#66C61C\", color: \"#326212\", text: \"Light Green\" },\n    \"#7A5AF8\": { bg: \"#EBE9FE\", border: \"#7A5AF8\", color: \"#4A1FB8\", text: \"Light Purple\" },\n    \"#D444F1\": { bg: \"#FBE8FF\", border: \"#D444F1\", color: \"#821890\", text: \"Magenta\" },\n    \"#F63D68\": { bg: \"#FFE4E8\", border: \"#F63D68\", color: \"#A11043\", text: \"Pink\" },\n    \"#FF007F\": { bg: \"#FFCCE5\", border: \"#FF007F\", color: \"#6F0A3C\", text: \"Soft Pink\" },\n    \"#FFD700\": { bg: \"#FFF8D1\", border: \"#FFD700\", color: \"#997100\", text: \"Yellow\" },\n    \"#6C6C1C\": { bg: \"#E1E1B8\", border: \"#6C6C1C\", color: \"#444403\", text: \"Dark Yellow\" }\n};\n\nconst SelectStatus = ({ projectId, statusOptions, custom_status }) => {\n    const [selectedOption, setSelectedOption] = useState(null);\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateProjectStatusById(projectId, data),\n        onSuccess: async () => {\n        },\n        onError: (error) => {\n            setSelectedOption(custom_status);\n            console.error('Error creating task:', error);\n        }\n    });\n    const handleSubMenuClick = (choosedStatus) => {\n        if (choosedStatus?.id) {\n            updateMutation.mutate({ custom_status: choosedStatus?.id });\n            setSelectedOption(choosedStatus);\n        }\n    };\n\n    useEffect(() => {\n        setSelectedOption(custom_status);\n    }, [custom_status]);\n\n    return (\n        <Menu\n            menuButton={\n                <MenuButton style={{\n                    width: '204px',\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    justifyContent: 'flex-end',\n                    padding: '8px 0px',\n                    cursor: 'pointer',\n                    background: 'transparent',\n                    border: 'none',\n                    color: '#98A2B3',\n                    gap: '10px'\n                }}>\n                    {\n                        selectedOption && selectedOption.title ? (\n                            <div className=\"d-flex justify-content-center\" style={{ width: '204px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                                <>{\n                                    updateMutation.isPending ? (<div className=\"dot-flashing\"></div>) : (\n                                        <>\n                                            <div className=\"h-100\" style={{ width: '4px', background: `${colorMapping[selectedOption?.color]?.border}` }}></div>\n                                            <div className=\"h-100 statusFlex d-flex align-items-center\" style={{ width: '100%', background: `${colorMapping[selectedOption?.color]?.bg}` }}>\n                                                <span style={{ color: `${colorMapping[selectedOption?.color]?.color}`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>{selectedOption?.title}</span>\n                                                <span className='inArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                                            </div>\n                                            \n                                        </>\n                                    )\n                                }\n                                </>\n                            </div>\n                        ) : (   <div className=\"d-flex justify-content-center\" style={{ width: '204px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                            <>{\n                             \n                                    <>\n                                        <div className=\"h-100\" style={{ width: '4px', background: `#1D2939` }}></div>\n                                        <div className=\"h-100 statusFlex d-flex align-items-center\" style={{ width: '100%', background: `#F2F4F7` }}>\n                                            <span style={{ color: `#1D2939`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>No Status</span>\n                                            <span className='inArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                                        </div>\n                                        \n                                    </>\n                                \n                            }\n                            </>\n                        </div>)\n                    }\n                    <span className='outArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                </MenuButton>}\n            overflow={\"auto\"}\n            position={\"anchor\"}\n        >\n            {statusOptions?.map((status) => (\n                <MenuItem style={{ textAlign: 'left' }} onClick={() => handleSubMenuClick(status)} key={status.id}>\n                    <div className=\"d-flex\" style={{ width: '163px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                        <div className=\"h-100\" style={{ width: '4px', background: `${colorMapping[status?.color]?.border}` }}></div>\n                        <div className=\"h-100 d-flex align-items-center\" style={{ width: '100%', background: `${colorMapping[status?.color]?.bg}` }}>\n                            <span style={{ color: `${colorMapping[status?.color]?.color}`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>{status?.title}</span>\n                        </div>\n                    </div>\n                </MenuItem>\n            ))}\n        </Menu>\n    );\n};\n\nexport default SelectStatus;","// extracted by mini-css-extract-plugin\nexport default {\"phoneInput\":\"send-sms_phoneInput__Qgh+S\",\"countrySelector\":\"send-sms_countrySelector__y14UT\",\"customLabel\":\"send-sms_customLabel__RzF9F\",\"smsUnavailableAlert\":\"send-sms_smsUnavailableAlert__8Wmw4\",\"smsIcon\":\"send-sms_smsIcon__mwlTu\",\"twilioStatus\":\"send-sms_twilioStatus__9LyX9\",\"twilioIcon\":\"send-sms_twilioIcon__vuhjt\",\"disconnectedBadge\":\"send-sms_disconnectedBadge__L41qv\",\"smsUnavailableText\":\"send-sms_smsUnavailableText__iot1y\",\"settingsLink\":\"send-sms_settingsLink__DYIqa\"};","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { PhoneInput } from 'react-international-phone';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { PhoneNumberUtil } from 'google-libphonenumber';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport style from './send-sms.module.scss';\nimport { getSMS, getSMSTemplates } from '../../../../../../APIs/email-template';\nimport { sendSms } from '../../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst phoneUtil = PhoneNumberUtil.getInstance();\nconst isPhoneValid = (phone) => {\n  try {\n    return phoneUtil.isValidNumber(phoneUtil.parseAndKeepRawInput(phone));\n  } catch (error) {\n    return false;\n  }\n};\n\nconst SendSMS = ({ projectId, projectCardData }) => {\n  const navigate = useNavigate();\n  const [smsTemplateId, setSMSTemplatedId] = useState(null);\n  const [viewShow, setViewShow] = useState(false);\n  const [showInstructions, setShowInstructions] = useState(false);\n  const [message, setMessage] = useState('');\n  const [errors, setErrors] = useState({});\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const handleClose = () => {\n    setViewShow(false);\n    setMessage(\"\");\n    setPhoneNumber(\"\");\n    setErrors({});\n    setSMSTemplatedId(null);\n  };\n\n  const handleShow = () => {\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || \"{}\");\n    if (profileData?.has_twilio)\n      setViewShow(true);\n    else {\n      setShowInstructions(true);\n    }\n  };\n\n  const smsTemplateQuery = useQuery({\n    queryKey: [\"getSMSTemplates\"],\n    queryFn: getSMSTemplates\n  });\n\n  const smsQuery = useQuery({\n    queryKey: [\"smsQuery\", smsTemplateId],\n    queryFn: () => getSMS(smsTemplateId),\n    enabled: !!smsTemplateId,\n    retry: 1,\n  });\n\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendSms(projectId, data),\n    onSuccess: () => {\n      toast.success(`SMS send successfully`);\n      handleClose();\n      projectCardData();\n    },\n    onError: (error) => {\n      console.error('Error creating expense:', error);\n      toast.error('Failed to send sms. Please try again.');\n    }\n  });\n\n  const handleSubmit = () => {\n    let error = {};\n    if (!message) error.message = true;\n    if (!phoneNumber || !isPhoneValid(phoneNumber)) error.phone = true;\n    if (Object.keys(error).length) return setErrors(error);\n\n    mutation.mutate({\n      phone_number: phoneNumber,\n      message: message\n    });\n  };\n\n  useEffect(() => {\n    if (smsQuery?.data?.text) {\n      setMessage(smsQuery.data.text);\n      setErrors((others) => ({ ...others, message: false }));\n    }\n  }, [smsQuery.data]);\n\n  return (\n    <>\n      {/* View modal trigger */}\n      <div className=\"linkByttonStyle py-2 border-right text-center ps-0\" onClick={handleShow}>\n        Send SMS\n      </div>\n\n      {/* Instructions modal */}\n      <Modal\n        show={showInstructions}\n        onHide={() => setShowInstructions(false)}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <svg width=\"56\" height=\"57\" viewBox=\"0 0 56 57\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#FEE4E2\" />\n                <rect x=\"4\" y=\"4.5\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#FEF3F2\" strokeWidth=\"8\" />\n                <path d=\"M20.0168 34.3409C20.3324 34.6574 20.4904 35.0981 20.4479 35.5431C20.3524 36.5401 20.1325 37.5778 19.8502 38.5417C21.9425 38.0581 23.2204 37.4972 23.8012 37.2028C24.1309 37.0357 24.5107 36.9963 24.8677 37.092C25.8545 37.3566 26.9061 37.5 28 37.5C33.9934 37.5 38.5 33.2887 38.5 28.5C38.5 23.7113 33.9934 19.5 28 19.5C22.0066 19.5 17.5 23.7113 17.5 28.5C17.5 30.7021 18.426 32.7456 20.0168 34.3409ZM19.2773 40.1984C19.2672 40.2004 19.2571 40.2024 19.247 40.2044C19.1093 40.2315 18.9688 40.2583 18.8257 40.2845C18.625 40.3212 18.419 40.357 18.2076 40.3916C17.9091 40.4405 17.6805 40.1282 17.7985 39.8496C17.8755 39.6676 17.9515 39.4769 18.0255 39.2791C18.0725 39.1535 18.1187 39.025 18.1639 38.8941C18.1658 38.8885 18.1678 38.8828 18.1697 38.8772C18.5413 37.7976 18.8439 36.5567 18.9547 35.4001C17.1146 33.5548 16 31.1413 16 28.5C16 22.701 21.3726 18 28 18C34.6274 18 40 22.701 40 28.5C40 34.299 34.6274 39 28 39C26.7749 39 25.5926 38.8394 24.4793 38.5408C23.7 38.9357 22.0215 39.6545 19.2773 40.1984Z\" fill=\"#F04438\" />\n                <path d=\"M22 24.75C22 24.3358 22.3358 24 22.75 24H33.25C33.6642 24 34 24.3358 34 24.75C34 25.1642 33.6642 25.5 33.25 25.5H22.75C22.3358 25.5 22 25.1642 22 24.75ZM22 28.5C22 28.0858 22.3358 27.75 22.75 27.75H33.25C33.6642 27.75 34 28.0858 34 28.5C34 28.9142 33.6642 29.25 33.25 29.25H22.75C22.3358 29.25 22 28.9142 22 28.5ZM22 32.25C22 31.8358 22.3358 31.5 22.75 31.5H28.75C29.1642 31.5 29.5 31.8358 29.5 32.25C29.5 32.6642 29.1642 33 28.75 33H22.75C22.3358 33 22 32.6642 22 32.25Z\" fill=\"#F04438\" />\n              </svg>\n\n              <span className='ms-3'>SMS is currently unavailable</span>\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={() => setShowInstructions(false)}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <p className={style.smsUnavailableText}>SMS functionality is currently unavailable. To use this<br /> feature, please ask your admin to set up a Twilio<br /> account and connect it via <Link to=\"/settings/integrations?openTwilio=true\" style={{ color: '#158ECC' }}>Settings &gt; Integrations</Link>.</p>\n\n            <div className={clsx(\"d-flex align-items-center justify-content-center flex-column gap-1 m-auto\", style.twilioStatus)}>\n              <div className={clsx(\"d-flex align-items-center justify-content-center\", style.twilioIcon)}>\n                <img src='/static/media/twilio-logo.c9f32aa9e92765a4deb7.png' style={{ width: '50px' }} />\n                <h6 className=\"mb-1\" style={{ color: '#101828', fontSize: '16px', fontWeight: '400', lineHeight: '24px' }}>\n                  Twilio\n                </h6>\n              </div>\n              <span className={clsx(\"px-2 py-1\", style.disconnectedBadge)}>\n                Disconnected\n                &nbsp;\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\">\n                  <circle cx=\"4\" cy=\"4.5\" r=\"3\" fill=\"#F79009\" />\n                </svg>\n              </span>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      {/* View modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Send SMS\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col sm={12} className='mb-3'>\n                <div style={{ position: 'relative' }}>\n                  <label className={clsx(style.customLabel)}>Templates</label>\n                  <Dropdown\n                    options={\n                      (smsTemplateQuery &&\n                        smsTemplateQuery.data?.map((smsTemplate) => ({\n                          value: smsTemplate.id,\n                          label: `${smsTemplate.title}`,\n                        }))) ||\n                      []\n                    }\n                    className={clsx(\n                      style.dropdownSelect,\n                      \"dropdown-height-fixed w-100\"\n                    )}\n                    style={{ height: \"46px\", paddingLeft: '88px' }}\n                    placeholder=\"Select template\"\n                    onChange={(e) => {\n                      setSMSTemplatedId(e.value);\n                    }}\n                    value={smsTemplateId}\n                    loading={smsTemplateQuery?.isFetching}\n                    filterInputAutoFocus={true}\n                  />\n                </div>\n              </Col>\n              <Col>\n                <div className=\"formgroup sendSMSPhone mb-2 mt-0\">\n                  <label>To<span className=\"required\">*</span></label>\n                  <div className={`inputInfo p-0 ${errors.taskRead ? 'error-border' : 'border-0'}`}>\n                    <PhoneInput\n                      defaultCountry='au'\n                      placeholder='Enter phone number'\n                      value={phoneNumber || \"\"}\n                      className='phoneInput w-100'\n                      containerClass={style.countrySelector}\n                      onChange={(e) => {\n                        setPhoneNumber(e);\n                        if (isPhoneValid(e)) setErrors((others) => ({ ...others, phone: false }));\n                      }}\n                    />\n                  </div>\n                  {errors.phone && <p className=\"error-message\">Phone is not valid</p>}\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label>Message<span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`} style={{ position: 'relative' }}>\n                    <div style={{ position: 'absolute', right: '10px', top: '15px' }}>\n                      {smsQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                    </div>\n                    <textarea\n                      type=\"text\"\n                      name=\"Enter a message here...\"\n                      value={message}\n                      placeholder='Enter a message here...'\n                      onChange={(e) => {\n                        const newText = e.target.value.slice(0, 150);\n                        setMessage(newText);\n                        setErrors((others) => ({ ...others, message: false }));\n                      }}\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between align-items-center mt-1\">\n                    <p className=\"error-message\">{errors.message && \"Description is required\"}</p>\n                    <div style={{ float: 'right', fontSize: '14px', color: '#6c757d' }}>\n                      {message?.length || 0}/150\n                    </div>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n            </Row>\n            <div className=\"popoverbottom  mt-0 pt-4\">\n              <Button variant=\"outline-danger\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button disabled={mutation?.isPending} variant=\"primary save d-flex align-items-center gap-2\" onClick={handleSubmit}>\n                Send\n                {\n                  mutation?.isPending && <ProgressSpinner style={{ width: '15px', height: '15px' }} />\n                }\n              </Button>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default SendSMS;\n","// extracted by mini-css-extract-plugin\nexport default {\"calendarButton\":\"send-to-calendar_calendarButton__wLLgP\",\"calendarModal\":\"send-to-calendar_calendarModal__ZnyeK\",\"calendarTypeRadio\":\"send-to-calendar_calendarTypeRadio__lZev2\",\"selected\":\"send-to-calendar_selected__mOnKi\",\"modalTitle\":\"send-to-calendar_modalTitle__yfOOC\",\"formLabel\":\"send-to-calendar_formLabel__eKaq1\",\"AutoComplete\":\"send-to-calendar_AutoComplete__iw4uu\",\"borderDanger\":\"send-to-calendar_borderDanger__P-SWh\",\"bcc\":\"send-to-calendar_bcc__jJnIa\"};","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgCalendar(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 0.5H2C0.89543 0.5 0 1.39543 0 2.5V14.5C0 15.6046 0.89543 16.5 2 16.5H14C15.1046 16.5 16 15.6046 16 14.5V2.5C16 1.39543 15.1046 0.5 14 0.5ZM1 4.35714C1 3.88376 1.44772 3.5 2 3.5H14C14.5523 3.5 15 3.88376 15 4.35714V14.6429C15 15.1162 14.5523 15.5 14 15.5H2C1.44772 15.5 1 15.1162 1 14.6429V4.35714Z\",\n    fill: \"#1D2939\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 7.5C7.05228 7.5 7.5 7.05228 7.5 6.5C7.5 5.94772 7.05228 5.5 6.5 5.5C5.94772 5.5 5.5 5.94772 5.5 6.5C5.5 7.05228 5.94772 7.5 6.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 7.5C10.0523 7.5 10.5 7.05228 10.5 6.5C10.5 5.94772 10.0523 5.5 9.5 5.5C8.94772 5.5 8.5 5.94772 8.5 6.5C8.5 7.05228 8.94772 7.5 9.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 7.5C13.0523 7.5 13.5 7.05228 13.5 6.5C13.5 5.94772 13.0523 5.5 12.5 5.5C11.9477 5.5 11.5 5.94772 11.5 6.5C11.5 7.05228 11.9477 7.5 12.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 10.5C4.05228 10.5 4.5 10.0523 4.5 9.5C4.5 8.94772 4.05228 8.5 3.5 8.5C2.94772 8.5 2.5 8.94772 2.5 9.5C2.5 10.0523 2.94772 10.5 3.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 10.5C7.05228 10.5 7.5 10.0523 7.5 9.5C7.5 8.94772 7.05228 8.5 6.5 8.5C5.94772 8.5 5.5 8.94772 5.5 9.5C5.5 10.0523 5.94772 10.5 6.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 10.5C10.0523 10.5 10.5 10.0523 10.5 9.5C10.5 8.94772 10.0523 8.5 9.5 8.5C8.94772 8.5 8.5 8.94772 8.5 9.5C8.5 10.0523 8.94772 10.5 9.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 10.5C13.0523 10.5 13.5 10.0523 13.5 9.5C13.5 8.94772 13.0523 8.5 12.5 8.5C11.9477 8.5 11.5 8.94772 11.5 9.5C11.5 10.0523 11.9477 10.5 12.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 13.5C4.05228 13.5 4.5 13.0523 4.5 12.5C4.5 11.9477 4.05228 11.5 3.5 11.5C2.94772 11.5 2.5 11.9477 2.5 12.5C2.5 13.0523 2.94772 13.5 3.5 13.5Z\",\n    fill: \"#1D2939\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 13.5C7.05228 13.5 7.5 13.0523 7.5 12.5C7.5 11.9477 7.05228 11.5 6.5 11.5C5.94772 11.5 5.5 11.9477 5.5 12.5C5.5 13.0523 5.94772 13.5 6.5 13.5Z\",\n    fill: \"#1D2939\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 13.5C10.0523 13.5 10.5 13.0523 10.5 12.5C10.5 11.9477 10.0523 11.5 9.5 11.5C8.94772 11.5 8.5 11.9477 8.5 12.5C8.5 13.0523 8.94772 13.5 9.5 13.5Z\",\n    fill: \"#1D2939\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendar);\nexport default __webpack_public_path__ + \"static/media/calendar.9ebe7da58af479b138e37b33d2affea2.svg\";\nexport { ForwardRef as ReactComponent };","import SendToCalendar from './send-to-calendar';\n\nexport default SendToCalendar;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Button, Modal, Form, Row, Col } from 'react-bootstrap';\nimport { Calendar3 } from 'react-bootstrap-icons';\nimport { useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport clsx from 'clsx';\nimport { format } from 'date-fns';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport { Calendar } from 'primereact/calendar';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport styles from './send-to-calendar.module.scss';\nimport { getClientById } from '../../../../../../APIs/ClientsApi';\nimport { getOutgoingEmail } from '../../../../../../APIs/email-template';\nimport CalendarIcon from \"../../../../../../assets/images/icon/calendar.svg\";\n\nconst SendToCalendar = ({ projectId, project, projectCardData }) => {\n  const autoCompleteRef = useRef(null);\n  const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n  const accessToken = localStorage.getItem(\"access_token\");\n  const [show, setShow] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [eventTitle, setEventTitle] = useState('');\n  const [eventDescription, setEventDescription] = useState('');\n  const [eventLocation, setEventLocation] = useState('');\n  const [meetLink, setMeetLink] = useState('');\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n  const [guests, setGuests] = useState([]);\n  const [from, setFrom] = useState('');\n  const [filteredEmails, setFilteredEmails] = useState([]);\n  const [errors, setErrors] = useState({});\n\n  const clientQuery = useQuery({\n    queryKey: ['getClientById', project?.client],\n    queryFn: () => getClientById(project?.client),\n    enabled: !!project?.client && !!show,\n    retry: 1,\n  });\n\n  const outgoingEmailTemplateQuery = useQuery({\n    queryKey: [\"getOutgoingEmail\"],\n    queryFn: getOutgoingEmail,\n    enabled: !!show,\n  });\n\n  const handleClose = () => {\n    setShow(false);\n    setGuests([]);\n    setEventTitle('');\n    setEventDescription('');\n    setEventLocation('');\n    setStartDate(null);\n    setEndDate(null);\n    setMeetLink('');\n    setFrom('');\n  };\n\n  const handleShow = () => {\n    if (project?.reference) {\n      setEventTitle(`${project.reference}`);\n    } else if (project?.number) {\n      setEventTitle(`Project #${project.number}`);\n    } else {\n      setEventTitle('Project Event');\n    }\n\n    setEventDescription(project?.description || '');\n\n    if (project?.booking_start) {\n      setStartDate(new Date(project.booking_start * 1000));\n    }\n\n    if (project?.booking_end) {\n      setEndDate(new Date(project.booking_end * 1000));\n    }\n\n    setShow(true);\n  };\n\n  useEffect(() => {\n    if (project?.booking_start && !startDate) {\n      setStartDate(new Date(project.booking_start * 1000));\n    }\n\n    if (project?.booking_end && !endDate) {\n      setEndDate(new Date(project.booking_end * 1000));\n    }\n  }, [project, startDate, endDate]);\n\n\n  const generateICalContent = (attendees = [], organizerEmail = profileData?.email || 'no-reply@memate.com.au') => {\n    const formatDate = (date) => format(date, \"yyyyMMdd'T'HHmmss'Z'\");\n    const now = new Date();\n    const uid = `${Date.now()}@memate.com.au`;\n    const dtStamp = formatDate(now);\n\n    // Determine meeting platform type based on URL pattern\n    const getMeetingPlatform = (url) => {\n      if (!url) return null;\n      if (url.includes('zoom.us')) return 'Zoom';\n      if (url.includes('teams.microsoft.com')) return 'Microsoft Teams';\n      if (url.includes('meet.google.com')) return 'Google Meet';\n      if (url.includes('webex.com')) return 'Cisco Webex';\n      return 'Online Meeting'; // Generic fallback\n    };\n\n    // Create description with meeting link if provided\n    let formattedDescription = eventDescription || \"Meeting Invitation\";\n    let htmlDescription = `<html><body><p>${eventDescription || \"Meeting Invitation\"}</p>`;\n\n    if (meetLink) {\n      const platform = getMeetingPlatform(meetLink);\n      formattedDescription += `\\n\\n${platform} Link: ${meetLink}`;\n      htmlDescription += `<p><strong>${platform} Link:</strong> <a href=\"${meetLink}\">${meetLink}</a></p>`;\n    }\n\n    htmlDescription += `</body></html>`;\n    htmlDescription = htmlDescription.replace(/\\n/g, '').replace(/\\s+/g, ' ');\n\n    const calendarContent = [\n      \"BEGIN:VCALENDAR\",\n      \"PRODID:-//MeMate//Calendar//EN\",\n      \"VERSION:2.0\",\n      \"CALSCALE:GREGORIAN\",\n      \"METHOD:REQUEST\",\n      \"BEGIN:VEVENT\",\n      `UID:${uid}`,\n      `DTSTAMP:${dtStamp}`,\n      `SUMMARY:${eventTitle}`,\n      `DESCRIPTION:${formattedDescription.replace(/\\n/g, '\\\\n')}`,\n      `LOCATION:${eventLocation || meetLink || ''}`,\n      meetLink ? `URL:${meetLink}` : '',\n      `DTSTART:${formatDate(startDate)}`,\n      `DTEND:${formatDate(endDate)}`,\n      `ORGANIZER;CN=${profileData?.first_name && profileData?.last_name ?\n        `${profileData.first_name} ${profileData.last_name}` :\n        organizerEmail.split('@')[0] || 'MeMate'}:mailto:${organizerEmail}`\n    ].filter(line => line !== ''); // Remove empty lines\n\n    if (attendees && attendees.length > 0) {\n      attendees.forEach(email => {\n        let name = email.split('@')[0].replace(/[.]/g, ' ');\n        name = name.split(' ').map(part => part.charAt(0).toUpperCase() + part.slice(1)).join(' ');\n\n        calendarContent.push(`ATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN=${name}:mailto:${email}`);\n      });\n    }\n\n    calendarContent.push(\n      \"STATUS:CONFIRMED\",\n      \"SEQUENCE:0\",\n      \"TRANSP:OPAQUE\",\n      \"BEGIN:VALARM\",\n      \"TRIGGER:-PT15M\",\n      \"ACTION:DISPLAY\",\n      \"DESCRIPTION:Reminder\",\n      \"END:VALARM\",\n      \"X-MICROSOFT-CDO-BUSYSTATUS:BUSY\",\n      \"X-MICROSOFT-CDO-IMPORTANCE:1\",\n      \"X-MICROSOFT-DISALLOW-COUNTER:FALSE\",\n      \"X-MICROSOFT-DONOTFORWARDMEETING:FALSE\",\n      \"X-MICROSOFT-CDO-ALLDAYEVENT:FALSE\"\n    );\n\n    // Add platform-specific properties\n    if (meetLink) {\n      if (meetLink.includes('meet.google.com')) {\n        calendarContent.push(`X-GOOGLE-CONFERENCE:${meetLink}`);\n      } else if (meetLink.includes('teams.microsoft.com')) {\n        calendarContent.push(`X-MICROSOFT-SKYPETEAMSMEETINGURL:${meetLink}`);\n      }\n    }\n\n    // Add HTML description for better email client compatibility\n    calendarContent.push(`X-ALT-DESC;FMTTYPE=text/html:${htmlDescription}`);\n\n    calendarContent.push(\n      \"END:VEVENT\",\n      \"END:VCALENDAR\"\n    );\n\n    return calendarContent.join(\"\\r\\n\");\n  };\n\n  const validateForm = () => {\n    const err = {};\n  \n    if (!eventTitle.trim()) {\n      err.eventTitle = 'Event title is required';\n    }\n\n    if (!startDate) {\n      err.startDate = 'Start date is required';\n    }\n\n    if (!endDate) {\n      err.endDate = 'End date is required';\n    }\n\n    if (startDate > endDate) {\n      err.endDate = 'End date must be after start date';\n    }\n\n    if (guests.length === 0) {\n      err.guests = 'Guests are required';\n    }\n\n    if (!from) {\n      err.from = 'From email is required';\n    }\n\n    if (!eventDescription.trim()) {\n      err.eventDescription = 'Description is required';\n    }\n\n    if (Object.keys(err).length > 0) {\n      setErrors(err);\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      if (!validateForm()) {\n        setIsLoading(false);\n        return;\n      }\n\n      const calendarContent = generateICalContent(guests, from);\n      const fileName = `invite.ics`;\n      const icsFile = new File([calendarContent], fileName, { type: 'text/calendar' });\n      const formData = new FormData();\n\n      formData.append('subject', `Invitation: ${eventTitle}`);\n      formData.append('email_body', eventDescription);\n      formData.append('from_email', from);\n      formData.append('to', guests.toString());\n      formData.append('attachments', icsFile);\n\n      await axios.post(\n        `${process.env.REACT_APP_BACKEND_API_URL}/custom/email/${projectId}/`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n      toast.success('Calendar event created successfully!');\n      handleClose();\n      projectCardData(projectId);\n    } catch (error) {\n      console.error('Error creating calendar event:', error);\n      toast.error('Failed to create calendar event. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const search = (event) => {\n    const query = event?.query?.toLowerCase() || '';\n\n    const contactPersons = clientQuery.data?.contact_persons || [];\n    let emails = contactPersons.map((data) => (data.email)).filter(email => email);\n    emails = emails.filter((email) => !guests.includes(email));\n\n    emails = emails.filter((email) =>\n      email.toLowerCase().includes(query)\n    );\n\n    setFilteredEmails(emails);\n  };\n\n  const onFocus = () => {\n    search();\n    if (autoCompleteRef.current) autoCompleteRef.current.show();\n  };\n\n  const onInputChange = (e) => {\n    const currentValue = e.target.value;\n    if (currentValue.includes(',') || e.key === 'Enter') {\n      const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n      setGuests((prev) => [...new Set([...prev, ...emails])]);\n      e.target.value = '';\n    }\n  };\n\n  useEffect(() => {\n    if (outgoingEmailTemplateQuery?.data) {\n      if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n        setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n      else\n        setFrom('no-reply@memate.com.au');\n    }\n  }, [outgoingEmailTemplateQuery]);\n\n  useEffect(() => {\n    if (profileData?.email && show) {\n      setGuests([profileData?.email]);\n    }\n  }, [profileData?.email, show]);\n\n  return (\n    <>\n      <Button disabled={!project?.booking_start} className={`calenBut calenActive text-nowrap ${styles.calendarButton}`} onClick={handleShow}>\n        Send to Calendar <img src={CalendarIcon} alt=\"Calendar\" />\n      </Button>\n\n      <Modal show={show} onHide={handleClose} centered className={styles.calendarModal}>\n        <Modal.Header closeButton>\n          <Modal.Title className={styles.modalTitle}>Send to Calendar</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Event Title<span className=\"required\">*</span></Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter event title\"\n                value={eventTitle}\n                onChange={(e) => setEventTitle(e.target.value)}\n                className={clsx('border outline-none', errors?.eventTitle && 'border-danger')}\n              />\n              {errors?.eventTitle && <Form.Text className=\"error-message\">{errors.eventTitle}</Form.Text>}\n            </Form.Group>\n\n            <Row className=\"mb-3\">\n              <Col>\n                <Form.Group>\n                  <Form.Label className={styles.formLabel}>Start Date & Time<span className=\"required\">*</span></Form.Label>\n                  <Calendar\n                    value={startDate}\n                    dateFormat=\"dd/mm/yy\"\n                    locale=\"en\"\n                    onChange={(e) => {\n                      setStartDate(e.value);\n                    }}\n                    onSelect={() => {\n                      document.body.click();\n                    }}\n                    onClear={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    onTodayButtonClick={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    showTime\n                    showIcon\n                    showButtonBar\n                    todayButtonClassName=\"p-button-sm p-button-outlined\"\n                    clearButtonClassName=\"p-button-sm p-button-outlined p-button-danger\"\n                    icon={<Calendar3 color='#667085' size={20} />}\n                    className={clsx('w-100 border rounded', errors?.startDate && 'border-danger')}\n                    appendTo={document.body}\n                    style={{ height: '46px', width: '230px', overflow: 'hidden' }}\n                    panelClassName=\"calendar-panel-higher-z\"\n                  />\n                  {errors?.startDate && <Form.Text className=\"error-message\">{errors?.startDate}</Form.Text>}\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group>\n                  <Form.Label className={styles.formLabel}>End Date & Time<span className=\"required\">*</span></Form.Label>\n                  <Calendar\n                    value={endDate}\n                    dateFormat=\"dd/mm/yy\"\n                    locale=\"en\"\n                    onChange={(e) => {\n                      setEndDate(e.value);\n                    }}\n                    onSelect={() => {\n                      document.body.click();\n                    }}\n                    onClear={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    onTodayButtonClick={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    showTime\n                    showIcon\n                    showButtonBar\n                    todayButtonClassName=\"p-button-sm p-button-outlined\"\n                    clearButtonClassName=\"p-button-sm p-button-outlined p-button-danger\"\n                    icon={<Calendar3 color='#667085' size={20} />}\n                    className={clsx('w-100 border rounded', errors?.endDate && 'border-danger')}\n                    appendTo={document.body}\n                    style={{ height: '46px', width: '230px', overflow: 'hidden' }}\n                    panelClassName=\"calendar-panel-higher-z\"\n                  />\n                  {errors?.endDate && <Form.Text className=\"error-message\">{errors?.endDate}</Form.Text>}\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Add Guests<span className=\"required\">*</span></Form.Label>\n              <AutoComplete\n                ref={autoCompleteRef}\n                value={guests}\n                completeMethod={search}\n                onChange={(e) => {\n                  setGuests(e.value);\n                }}\n                multiple\n                suggestions={filteredEmails}\n                onClick={onFocus}\n                onFocus={onFocus}\n                onKeyUp={onInputChange}\n                onBlur={(e) => {\n                  const currentValue = e.target.value.trim();\n                  if (currentValue) {\n                    setGuests((prev) => [...new Set([...prev, currentValue])]);\n                    e.target.value = '';\n                  }\n                }}\n                className={clsx(styles.AutoComplete, \"w-100\", errors?.guests && styles.borderDanger)}\n                placeholder=\"Add guests\"\n              />\n              {errors?.guests && <Form.Text className=\"error-message\">{errors?.guests}</Form.Text>}\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Location</Form.Label>\n              <Form.Control\n                type=\"text\"\n                className='border outline-none'\n                placeholder=\"Enter physical location (optional)\"\n                value={eventLocation}\n                onChange={(e) => setEventLocation(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Meeting Link</Form.Label>\n              <Form.Control\n                type=\"text\"\n                className='border outline-none'\n                placeholder=\"Enter meeting link (Zoom, Teams, etc.)\"\n                value={meetLink}\n                onChange={(e) => setMeetLink(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Description<span className=\"required\">*</span></Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                className={clsx('border outline-none', errors?.eventDescription && 'border-danger')}\n                placeholder=\"Enter event description\"\n                value={eventDescription}\n                onChange={(e) => setEventDescription(e.target.value)}\n              />\n              {errors?.eventDescription && <Form.Text className=\"error-message\">{errors?.eventDescription}</Form.Text>}\n            </Form.Group>\n\n            <div className=\"d-flex justify-content-end gap-2 mt-4 border-top pt-4\">\n              <Button className=\"outline-button\" variant=\"secondary\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button className=\"solid-button\" variant=\"primary\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? (\n                  <>\n                    <ProgressSpinner style={{ width: '20px', height: '20px', marginRight: '8px' }} />\n                    Sending...\n                  </>\n                ) : (\n                  'Send via Email'\n                )}\n              </Button>\n            </div>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default SendToCalendar;\n","// extracted by mini-css-extract-plugin\nexport default {\"chatButton\":\"start-chat_chatButton__cwbTm\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { io } from 'socket.io-client';\nimport { toast } from 'sonner';\nimport style from './start-chat.module.scss';\nimport { useAuth } from '../../../../../../app/providers/auth-provider';\n\nconst StartChat = ({ projectId, project }) => {\n    const socketRef = useRef(null);\n    const { session } = useAuth();\n    const navigate = useNavigate();\n    const user_id = session?.desktop_user_id;\n    const [isConnected, setIsConnected] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        // Connect to socket.io server\n        const socket = io(process.env.REACT_APP_CHAT_API_URL, {\n            transports: ['websocket'],\n            autoConnect: true,\n        });\n        socketRef.current = socket;\n\n        if (!user_id) return;\n\n        socket.emit('register_user', { user_id, org_id: session?.organization?.id }, (res) => {\n            if (res.status === 'success') {\n                setIsConnected(true);\n                console.log('User registered successfully');\n            } else {\n                toast.error('Failed to connect to chat server');\n            }\n        });\n    }, [user_id, session]);\n\n    const handleStartChat = () => {\n        if (!user_id) return;\n        if (!socketRef.current) return toast.error('Failed to start chat');\n\n        if (socketRef.current) {\n            setLoading(true);\n            socketRef.current.emit('create_chat_group', {\n                user_id: user_id,\n                name: project?.reference,\n                participants: [],\n                project_id: projectId,\n                job_id: null\n            },\n                (res) => {\n                    console.log('res: ', res);\n                    if (res.status === 'success' && res.chat_group_id) {\n                        setLoading(false);\n                        navigate(`/chat?id=${res.chat_group_id}`);\n                    } else {\n                        setLoading(false);\n                        console.log(\"Error during creation chat group: \", res);\n                        toast.error(\"Failed to create chat group\");\n                    }\n                }\n            );\n        }\n    };\n\n    return (\n        <Button className={clsx(style.chatButton, 'text-nowrap')} disabled={loading || !socketRef.current || !isConnected} onClick={handleStartChat}>\n            {loading && <ProgressSpinner style={{ width: '20px', height: '20px', marginRight: '8px' }} />}\n            Start Chat\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n                <g opacity=\"0.4\">\n                    <path d=\"M1.66663 11.3082V6.32484C1.66663 4.02484 3.53329 2.1665 5.83329 2.1665H14.1666C16.4666 2.1665 18.3333 4.02484 18.3333 6.32484V12.1415C18.3333 14.4332 16.4666 16.2915 14.1666 16.2915H12.9166C12.6583 16.2915 12.4083 16.4165 12.25 16.6248L11 18.2832C10.45 19.0165 9.54996 19.0165 8.99996 18.2832L7.74996 16.6248C7.61663 16.4415 7.31663 16.2915 7.08329 16.2915H5.83329C3.53329 16.2915 1.66663 14.4332 1.66663 12.1415V11.3082Z\" fill=\"#1D2939\" />\n                    <path d=\"M1.66663 11.3082V6.32484C1.66663 4.02484 3.53329 2.1665 5.83329 2.1665H14.1666C16.4666 2.1665 18.3333 4.02484 18.3333 6.32484V12.1415C18.3333 14.4332 16.4666 16.2915 14.1666 16.2915H12.9166C12.6583 16.2915 12.4083 16.4165 12.25 16.6248L11 18.2832C10.45 19.0165 9.54996 19.0165 8.99996 18.2832L7.74996 16.6248C7.61663 16.4415 7.31663 16.2915 7.08329 16.2915H5.83329C3.53329 16.2915 1.66663 14.4332 1.66663 12.1415V11.3082Z\" fill=\"url(#paint0_linear_16871_70907)\" />\n                </g>\n                <path d=\"M14.1667 7.7915H5.83337C5.49171 7.7915 5.20837 7.50817 5.20837 7.1665C5.20837 6.82484 5.49171 6.5415 5.83337 6.5415H14.1667C14.5084 6.5415 14.7917 6.82484 14.7917 7.1665C14.7917 7.50817 14.5084 7.7915 14.1667 7.7915Z\" fill=\"#292D32\" />\n                <path d=\"M14.1667 7.7915H5.83337C5.49171 7.7915 5.20837 7.50817 5.20837 7.1665C5.20837 6.82484 5.49171 6.5415 5.83337 6.5415H14.1667C14.5084 6.5415 14.7917 6.82484 14.7917 7.1665C14.7917 7.50817 14.5084 7.7915 14.1667 7.7915Z\" fill=\"url(#paint1_linear_16871_70907)\" />\n                <path d=\"M10.8334 11.9585H5.83337C5.49171 11.9585 5.20837 11.6752 5.20837 11.3335C5.20837 10.9918 5.49171 10.7085 5.83337 10.7085H10.8334C11.175 10.7085 11.4584 10.9918 11.4584 11.3335C11.4584 11.6752 11.175 11.9585 10.8334 11.9585Z\" fill=\"#292D32\" />\n                <path d=\"M10.8334 11.9585H5.83337C5.49171 11.9585 5.20837 11.6752 5.20837 11.3335C5.20837 10.9918 5.49171 10.7085 5.83337 10.7085H10.8334C11.175 10.7085 11.4584 10.9918 11.4584 11.3335C11.4584 11.6752 11.175 11.9585 10.8334 11.9585Z\" fill=\"url(#paint2_linear_16871_70907)\" />\n                <defs>\n                    <linearGradient id=\"paint0_linear_16871_70907\" x1=\"1.66663\" y1=\"2.1665\" x2=\"18.3333\" y2=\"18.8332\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor=\"#89F7FE\" />\n                        <stop offset=\"1\" stopColor=\"#66A6FF\" />\n                    </linearGradient>\n                    <linearGradient id=\"paint1_linear_16871_70907\" x1=\"5.20837\" y1=\"6.5415\" x2=\"5.52901\" y2=\"8.99968\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor=\"#89F7FE\" />\n                        <stop offset=\"1\" stopColor=\"#66A6FF\" />\n                    </linearGradient>\n                    <linearGradient id=\"paint2_linear_16871_70907\" x1=\"5.20837\" y1=\"10.7085\" x2=\"5.68914\" y2=\"13.1123\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor=\"#89F7FE\" />\n                        <stop offset=\"1\" stopColor=\"#66A6FF\" />\n                    </linearGradient>\n                </defs>\n            </svg>\n        </Button>\n    );\n};\n\nexport default StartChat;","import { Placeholder } from 'react-bootstrap';\n\nconst CurrentJobAndExpenseLoading = () => {\n    return (\n        <tr>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '80%', height: '14px', position: 'relative', left: '-10px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n            <td>\n                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                </Placeholder>\n            </td>\n        </tr>\n    );\n};\n\nexport default CurrentJobAndExpenseLoading;","// extracted by mini-css-extract-plugin\nexport default {\"defaultStatus\":\"job-status_defaultStatus__emAxy\",\"status\":\"job-status_status__HXyT-\",\"DRAFT\":\"job-status_DRAFT__HqpDF\",\"OPEN\":\"job-status_OPEN__yb7zB\",\"ASSIGNED\":\"job-status_ASSIGNED__0WFAv\",\"CONFIRMED\":\"job-status_CONFIRMED__iTcji\",\"DECLINED\":\"job-status_DECLINED__2RC2+\",\"SUBMITTED\":\"job-status_SUBMITTED__GFRLu\",\"FINISHED\":\"job-status_FINISHED__RbfR-\",\"IN_PROGRESS\":\"job-status_IN_PROGRESS__BoR97\"};","import clsx from 'clsx';\nimport styles from './job-status.module.scss';\n\nconst JobStatus = ({ status, actionStatus, published }) => {\n    const getStatusLabel = (status, actionStatus, published=true) => {\n        if (!published) {\n            return { label: \"Draft\", className: \"DRAFT\", color: '#344054', backColor: '#f9fafb', borderColor: '#eaecf0' };\n        }\n\n        if (status === 'a' && actionStatus) {\n            return { label: \"In Progress\", className: \"IN_PROGRESS\", color: '#3D5AFE', backColor: '#EEF1FF', borderColor: '#C3CCFF' };\n        }\n\n        const statusMap = {\n            \"1\": { label: \"Open\", className: \"OPEN\", color: '#065b76', backColor: '#ecf7fd', borderColor: '#a9d6ef' },\n            \"2\": { label: \"Assigned\", className: \"ASSIGNED\", color: '#520676', backColor: '#f6ecfd', borderColor: '#dda9ef' },\n            \"3\": { label: \"Submitted\", className: \"SUBMITTED\", color: '#344054', backColor: '#f9fafb', borderColor: '#eaecf0' },\n            \"4\": { label: \"Finished\", className: \"FINISHED\", color: '#29B27C', backColor: '#BBFFE4', borderColor: '#BBFFE4' },\n            \"6\": { label: \"Declined\", className: \"DECLINED\", color: '#b42318', backColor: '#fef3f2', borderColor: '#fecdca' },\n            'a': { label: \"Confirmed\", className: \"CONFIRMED\", color: '#067647', backColor: '#ecfdf3', borderColor: '#a9efc5' },\n        };\n\n        return statusMap[status] || { label: status, className: \"defaultStatus\" };\n    };\n\n    return (\n        <div className={clsx(styles.status, styles[getStatusLabel(status, actionStatus, published).className])}>\n            {getStatusLabel(status, actionStatus, published).label}\n        </div>\n    );\n};\n\nexport default JobStatus;","import React, { useState, useEffect, useRef } from 'react';\nimport { OverlayTrigger, Placeholder, Table, Tooltip } from 'react-bootstrap';\nimport {\n  X, CurrencyDollar, PencilSquare, FileEarmark, FilePdf, FileText, Link45deg, XCircle, Files, Reply, Check2Circle, CardChecklist, ListCheck, PhoneVibrate,\n  Envelope,\n  Tag,\n  Postcard,\n  PlusCircle,\n  PauseCircle,\n  Copy,\n  Trash\n} from \"react-bootstrap-icons\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useMutation } from '@tanstack/react-query';\nimport { Column } from 'primereact/column';\nimport { DataTable } from 'primereact/datatable';\nimport { Dialog } from 'primereact/dialog';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport AddNote from './add-note';\nimport CancelProject from './cancel-project/cancel-project';\nimport ComposeEmail from './compose-email/compose-email';\nimport FilesModel from './files-management/files-model';\nimport GoogleReviewEmail from './google-review/google-review';\nimport InvoiceCreate from './invoice-create/invoice-create';\nimport NewTask from './new-task';\nimport ProjectCardFilter from './project-card-filter';\nimport ScheduleUpdate from './schedule-update';\nimport SelectStatus from './select-status';\nimport SendSMS from './send-sms/send-sms';\nimport SendToCalendar from './send-to-calendar';\nimport StartChat from './start-chat/start-chat';\nimport CurrentJobAndExpenseLoading from './ui/current-job-and-expense-loading';\nimport JobStatus from './ui/job-status/job-status';\nimport { createInvoiceById, ProjectCardApi, projectsComplete, projectsOrderDecline, projectsToSalesUpdate, updateCostBreakDownDescription, updateProjectReferenceById } from \"../../../../../APIs/management-api\";\nimport { fetchduplicateData } from '../../../../../APIs/SalesApi';\nimport Briefcase from \"../../../../../assets/images/icon/briefcase.svg\";\nimport ExpenseIcon from \"../../../../../assets/images/icon/ExpenseIcon.svg\";\nimport useSocket from '../../../../../shared/hooks/use-socket';\nimport { formatAUD } from '../../../../../shared/lib/format-aud';\nimport ImageAvatar from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport CreateJob from '../../../../Work/features/create-job/create-job';\nimport NewExpensesCreate from '../../../features/expenses-features/new-expenses-create/new-expense-create';\n\n\n\nconst ProjectCardModel = ({ viewShow, setViewShow, projectId, project, statusOptions, reInitialize }) => {\n  const navigate = useNavigate();\n  const { socket, isConnected, listen } = useSocket();\n  const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n  const [isDuplicating, setIsDuplicating] = useState(false);\n  const [isFetching, setIsFetching] = useState(true);\n  const [cardData, setCardData] = useState(null);\n  const [isEditingReference, setIsEditingReference] = useState(false);\n  const [editedReference, setEditedReference] = useState('');\n  const [expenseJobsMapping, setExpenseJobsMapping] = useState([]);\n  const [filteredHistory, setFilteredHistory] = useState([]);\n  const [filteredHistoryOptions, setFilteredHistoryOptions] = useState([]);\n  const [showCostBreakdown, setShowCostBreakdown] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [createExpenseVisible, setCreateExpenseVisible] = useState(false);\n  const [showCancelConfirmation, setShowCancelConfirmation] = useState(false);\n\n  //Real Cost Calculation\n  const cs = parseFloat(cardData?.cost_of_sale) || 0;\n  const le = parseFloat(cardData?.labor_expense) || 0;\n  const oe = parseFloat(cardData?.operating_expense) || 0;\n  const RealCost = cs + le + oe;\n  const formattedRealCost = parseFloat(RealCost).toFixed(2);\n\n  const handleClose = () => {\n    setViewShow(false);\n    reInitialize();\n  };\n\n  const handleEditReference = () => {\n    setIsEditingReference(true);\n    setEditedReference(cardData?.reference || '');\n  };\n\n  const handleReferenceChange = (e) => {\n    setEditedReference(e.target.value);\n  };\n\n  const projectCardData = async (uniqueId) => {\n    setIsFetching(true);\n    try {\n      const data = await ProjectCardApi(uniqueId);\n      if (data?.detail === 'Not found.') throw new Error('Project card not found');\n      setCardData(data);\n    } catch (error) {\n      console.error('Error fetching project card data:', error);\n      toast.error(`Failed to fetch project card data. Please try again.`);\n      setViewShow(false);\n      setCardData(null);\n    } finally {\n      setIsFetching(false);\n    }\n  };\n\n  const duplicateSale = async () => {\n    try {\n      if (!projectId) return toast.error(\"Project id not found\");\n      setIsDuplicating(true);\n      await fetchduplicateData(projectId);\n      navigate('/sales');\n      toast.success('Sale has been successfully duplicated');\n    } catch (error) {\n      console.error('Error is duplicating:', error);\n      toast.error(`Failed to duplicate sale. Please try again.`);\n    } finally {\n      setIsDuplicating(false);\n    }\n  };\n\n  const referencemutation = useMutation({\n    mutationFn: (data) => updateProjectReferenceById(projectId, data),\n    onSuccess: () => {\n      setCardData(prevData => ({\n        ...prevData,\n        reference: editedReference\n      }));\n    },\n    onError: (error) => {\n      console.error('Error creating task:', error);\n    }\n  });\n\n  const handleSaveReference = async () => {\n    setIsEditingReference(false);\n    await referencemutation.mutateAsync({ reference: editedReference });\n    await createInvoiceById(projectId);\n  };\n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp * 1000);\n    const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };\n    const dayOptions = { weekday: 'short' };\n    const timeString = new Intl.DateTimeFormat('en-US', timeOptions).format(date);\n    const dayString = new Intl.DateTimeFormat('en-US', dayOptions).format(date);\n    const day = date.getDate();\n    const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n      month: \"short\",\n    }).format(date);\n    const year = date.getFullYear();\n    const dateString = `${day} ${monthAbbreviation} ${year}`;\n    return `${timeString} | ${dayString} | ${dateString}`;\n  };\n\n  const updateReturnMutation = useMutation({\n    mutationFn: (data) => projectsToSalesUpdate(data),\n    onSuccess: (response) => {\n      if (response) {\n        navigate('/sales');\n      } else {\n        toast.error(`Failed to update sendBack to sales. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error updating sendBack to sales:', error);\n      toast.error(`Failed to update sendBack to sales. Please try again.`);\n    }\n  });\n\n  const declinecOrderMutation = useMutation({\n    mutationFn: (data) => projectsOrderDecline(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        toast.success('Order has been successfully cancelled');\n      } else {\n        toast.error(`Failed to cancel the order. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error declining the order:', error);\n      toast.error(`Failed to decline the order. Please try again.`);\n    }\n  });\n\n  const completeMutation = useMutation({\n    mutationFn: (data) => projectsComplete(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        toast.success('Project has been successfully completed');\n      } else {\n        toast.error(`Failed to complete the project. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error completing the project:', error);\n      toast.error(`Failed to complete the project. Please try again.`);\n    }\n  });\n\n  const createInvoiceMutation = useMutation({\n    mutationFn: (data) => createInvoiceById(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        projectCardData(projectId);\n        toast.success('Invoice has been successfully created');\n      } else {\n        toast.error(`Failed to create the invoice. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error creating the invoice:', error);\n      toast.error(`Failed to create the invoice. Please try again.`);\n    }\n  });\n\n  const handleCompleteProject = () => {\n    if (socket && isConnected) {\n      completeMutation.mutate(projectId);\n      socket.emit('archive_chat_by_project', { project_id: projectId });\n    }else {\n      console.error('Socket is not connected');\n      toast.error('Unable to delete chat. Please try again.');\n    }\n  };\n\n  const createInvoice = () => {\n    createInvoiceMutation.mutate(projectId);\n  };\n\n  const declinecOrder = () => {\n    setShowCancelConfirmation(true);\n  };\n\n  const canReturn = (isReturn) => {\n    if (isReturn) return;\n    updateReturnMutation.mutate(projectId);\n  };\n\n  const confirmCancelOrder = async () => {\n    setShowCancelConfirmation(false);\n    declinecOrderMutation.mutate(projectId);\n  };\n\n  useEffect(() => {\n    if (filteredHistoryOptions?.length) {\n      let histories = cardData?.history?.filter((history) => filteredHistoryOptions.includes(history.type));\n      setFilteredHistory(histories || []);\n    } else {\n      setFilteredHistory(cardData?.history);\n    }\n  }, [filteredHistoryOptions, cardData?.history]);\n\n  useEffect(() => {\n    if (cardData) {\n      let expensesWithType = cardData?.expenses?.map(item => ({ ...item, type: 'expense' }));\n      let jobsWithType = cardData?.jobs?.map(item => ({ ...item, type: 'job' }));\n      let mix = [...expensesWithType, ...jobsWithType];\n      let sortedMix = mix.sort((a, b) => parseInt(b.created) - parseInt(a.created));\n      setExpenseJobsMapping(sortedMix);\n      setFilteredHistory(cardData?.history || []);\n    }\n  }, [cardData]);\n\n  useEffect(() => {\n    if (projectId && viewShow) projectCardData(projectId);\n    window.history.pushState({}, '', '/management');\n  }, [projectId, viewShow]);\n\n  const parseEmailData = (text) => {\n    const lines = text.split(\"\\n\");\n\n    // Extract and clean the subject\n    const subject = lines.find((line) => line.startsWith(\"Subject:\"))?.replace(\"Subject: \", \"\") || \"\";\n\n    // Extract and clean the recipients\n    const rawRecipients = lines.find((line) => line?.startsWith(\"Recipient(s):\"))?.replace(\"Recipient(s): \", \"\") || [];\n    const recipients = JSON.parse(rawRecipients?.length && rawRecipients?.replace(/'/g, '\"')); // Replace single quotes with double quotes\n\n    // Extract the body\n    const body = text.split(\"Body:\")[1]?.trim();\n\n    return { subject, recipients, body };\n  };\n\n  const EmailComponent = ({ emailData }) => {\n    const [showFullBody, setShowFullBody] = useState(false);\n    const [isOverflowing, setIsOverflowing] = useState(false);\n\n    const emailBodyRef = useRef(null); // Ref to measure the height of the content\n\n    const email = parseEmailData(emailData);\n\n    // Process email body lines, splitting by paragraph or newlines\n    const bodyLines = email.body?.split(/<\\/p>\\s*<p>|<br\\s*\\/?>|\\n/)?.map(\n      (line, idx) => `<p key=${idx}>${line?.trim()}</p>`\n    );\n\n    const visibleBody = bodyLines?.join(\"\");\n\n    useEffect(() => {\n      if (emailBodyRef.current) {\n        const bodyHeight = emailBodyRef.current.scrollHeight;\n        setIsOverflowing(bodyHeight > 90); // Check if the content exceeds 100px\n      }\n    }, [visibleBody]);\n\n    return (\n      <div>\n        <ul className=\"d-flex flex-column align-items-start\">\n          <li className=\"font-12\">\n            <strong className=\"font-12\">Subject:</strong>&nbsp; {email.subject}\n          </li>\n          <li>\n            <strong className=\"font-12\">Recipients:</strong>&nbsp;\n            <ul>\n              {email?.recipients?.length && email?.recipients?.map((recipient, index) => (\n                <li className=\"font-12\" key={index}>\n                  {recipient}\n                </li>\n              ))}\n            </ul>\n          </li>\n        </ul>\n        <div>\n          <div\n            ref={emailBodyRef}\n            style={{\n              maxHeight: showFullBody ? \"none\" : \"87px\",\n              overflowY: \"hidden\",\n              overflowX: showFullBody ? \"auto\" : \"hidden\"\n            }}\n            dangerouslySetInnerHTML={{ __html: visibleBody }}\n          />\n          {isOverflowing && (\n            <button\n              className=\"text-button font-12 px-0\"\n              onClick={() => setShowFullBody(!showFullBody)}\n            >\n              {showFullBody ? \"Show Less\" : \"Load More\"}\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const updateCostBreakDownMutation = useMutation({\n    mutationFn: (data) => updateCostBreakDownDescription(projectId, data),\n    onSuccess: () => {\n      toast.success('Cost breakdown updated successfully');\n    },\n    onError: (error) => {\n      console.error('Error creating task:', error);\n      toast.error('Failed to update cost breakdown');\n      projectCardData(projectId);\n    }\n  });\n\n  const handleCostBreakdown = (id, description) => {\n    updateCostBreakDownMutation.mutate({ id, description });\n  };\n\n  const ConstBreakDownTextArea = (rowData) => {\n    const [description, setDescription] = useState(rowData.description);\n    const [isEditing, setIsEditing] = useState(false);\n\n    useEffect(() => {\n      if (isEditing) {\n        document.getElementById(`cost-breakdown-${rowData.id}`)?.focus();\n      }\n    }, [isEditing, rowData.id]);\n\n    return (<div className='d-flex'>\n      <textarea rows={1} className=\"auto-expand\" style={{ background: 'transparent', border: '0px solid #fff', fontSize: '14px', minHeight: '50px' }}\n        value={description}\n        id={`cost-breakdown-${rowData.id}`}\n        onChange={(e) => { setDescription(e.target.value); }}\n        disabled={!isEditing}\n        onInput={(e) => {\n          e.target.style.height = 'auto';\n          e.target.style.height = `${e.target.scrollHeight}px`;\n        }}\n        onFocus={(e) => {\n          e.target.style.height = 'auto';\n          e.target.style.height = `${e.target.scrollHeight}px`;\n          e.target.style.border = '1px solid #dedede';\n          e.target.style.background = '#fff';\n        }}\n        onBlur={(e) => {\n          e.target.style.height = '50px';\n          e.target.style.border = '0px solid #fff';\n          e.target.style.background = 'transparent';\n          handleCostBreakdown(rowData.id, description);\n          setIsEditing(false);\n        }}\n        onClick={(e) => {\n          e.target.style.height = 'auto';\n          e.target.style.height = `${e.target.scrollHeight}px`;\n        }}\n      ></textarea>\n      {updateCostBreakDownMutation?.isPending && updateCostBreakDownMutation?.variables?.id === rowData.id ?\n        <ProgressSpinner style={{ width: '20px', height: '20px' }} />\n        : <PencilSquare size={16} color='#106B99'\n          onClick={() => setIsEditing(true)}\n          style={{ cursor: 'pointer', marginLeft: '8px' }} />\n      }\n    </div>\n    );\n  };\n\n  const handleCopy = () => {\n    if (cardData?.calculator_descriptions?.length) {\n      let allDescriptions = cardData?.calculator_descriptions?.map(item => `- ${item.description}`).join('\\n');\n      navigator.clipboard.writeText(allDescriptions);\n      toast.success('Copied to clipboard');\n    }\n  };\n\n  return (\n    <>\n      {/* Main Project Card Modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"projectCardModel\"\n        onHide={handleClose}\n        animation={false}\n        enforceFocus={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 justify-content-between \">\n          <div className=\"modelHeader\" style={{ flex: '1', maxWidth: \"calc(100% - 350px)\" }}>\n            <ul className='d-flex align-items-center'>\n              <li className='me-1 d-flex align-items-center'>\n                <strong className='dollorIcon' style={{\n                  background: !cardData?.invoice_created ? '#F9FAFB'\n                    : cardData?.payment_status === 'paid' ? '#F2FDEC'\n                      : cardData?.payment_status === 'not_paid' ? \"#FEF3F2\"\n                        : \"#FFFAEB\"\n                }}><CurrencyDollar size={13} color={\n                  !cardData?.invoice_created ? '#667085'\n                    : cardData?.payment_status === 'paid' ? '#17B26A'\n                      : cardData?.payment_status === 'not_paid' ? \"#F04438\"\n                        : \"#B54708\"\n                } /></strong>\n                {\n                  isFetching ? (\n                    <Placeholder as=\"span\" animation=\"wave\" className=\"ms-2 me-2\">\n                      <Placeholder xs={12} bg=\"secondary\" size='md' style={{ width: '120px' }} />\n                    </Placeholder>\n                  ) : <span className='cardId text-nowrap'>{cardData?.number} &nbsp;</span>\n                }\n              </li>\n              <li className='refrencesTag mt-1' style={{ width: \"calc(100% - 120px)\" }}>\n                Reference:&nbsp;\n                {isFetching ? (\n                  <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '120px', height: '20px' }} />\n                  </Placeholder>\n                ) : isEditingReference ? (\n                  <input\n                    type=\"text\"\n                    value={editedReference}\n                    onChange={handleReferenceChange}\n                    onBlur={handleSaveReference}\n\n                    className='border rounded w-100'\n                    style={{ maxWidth: \"calc(100% - 120px)\" }}\n                  />\n                ) : (\n                  <>\n                    {\n                      referencemutation.isPending\n                        ? <div className=\"dot-flashing ms-5 mt-1\"></div>\n                        : <>\n                          <small className='ellipsis-width' style={{ color: '#1D2939', fontSize: '16px', maxWidth: \"calc(100% - 220px)\" }}> {cardData?.reference}</small>\n                          <span> <PencilSquare size={16} color='#106B99' onClick={handleEditReference} style={{ cursor: 'pointer' }} /></span>\n                        </>\n                    }\n                  </>\n                )}\n              </li>\n            </ul>\n          </div>\n          <div className='d-flex align-items-center' style={{ gap: '15px' }}>\n            <Link to={`/api/v1/project-card/${projectId}/pdf/`} target='_blank'>\n              <Button variant=\"light\" className='rounded-circle px-2' title='Project Card'><Postcard color=\"#344054\" size={20} /></Button>\n            </Link>\n\n            <Link to={`/api/v1/sales/${projectId}/label/`} target='_blank' title='Label'>\n              <Button variant=\"light\" className='rounded-circle px-2'><Tag color=\"#344054\" size={20} /></Button>\n            </Link>\n\n            <div className='selectButStatus'>\n              {\n                isFetching ? (\n                  <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '120px', height: '20px' }} />\n                  </Placeholder>\n                ) : (<SelectStatus projectId={projectId} statusOptions={statusOptions} custom_status={cardData?.custom_status} />)\n              }\n            </div>\n            <button className='CustonCloseModal' onClick={handleClose}>\n              <X size={24} color='#667085' />\n            </button>\n          </div>\n        </Modal.Header>\n        <Modal.Body className='p-0'>\n          <div className=\"ContactModel\">\n            <Row className=\"text-left mt-0 projectCardMain\">\n              <Col sm={6} className='orderDiscription'>\n              <div className='d-flex justify-content-between align-items-center w-100'>\n                <strong>Order Description</strong>\n                <Copy size={16} color='#106B99' onClick={handleCopy} style={{ cursor: 'pointer' }} />\n              </div>\n                <div className='customScrollBar'>\n                  {\n                    isFetching ? (<>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                    </>\n                    ) : (\n                      <ul>\n                        {cardData?.calculator_descriptions?.length ? (\n                          cardData?.calculator_descriptions?.map(({ description }, index) => (\n                            <li key={index}>- {description}</li>\n                          ))\n                        ) : (\n                          <li>No Description available</li>\n                        )}\n                      </ul>\n                    )\n                  }\n                </div>\n                <div className='currentJobsTable'>\n                  <h5>Current Jobs / Expense for this order</h5>\n                  <Table responsive>\n                    <thead style={{ position: \"sticky\", top: \"0px\", zIndex: 9 }}>\n                      <tr>\n                        <th className='border-right'>#</th>\n                        <th>Reference</th>\n                        <th>Provider</th>\n                        <th>Estimate/Total</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {\n                        isFetching ? (\n                          <>\n                            <CurrentJobAndExpenseLoading />\n                            <CurrentJobAndExpenseLoading />\n                            <CurrentJobAndExpenseLoading />\n                            <CurrentJobAndExpenseLoading />\n                          </>\n                        ) : expenseJobsMapping?.length ? (\n                          expenseJobsMapping?.map((data, index) => (\n                            <tr key={data.number || `je-${index}`}>\n                              <td className='border-right'>\n                                {\n                                  data?.type === 'job' ? (\n                                    <Link to={`/work/jobs?jobId=${data?.id}`} className='linkText' target='_blank'>\n                                      {data?.number}\n                                    </Link>\n                                  ) : (\n                                    <Link to={`/expenses?expenseId=${data?.id}&supplierName=${data?.supplier?.name}`} className='linkText' target='_blank'>\n                                      {data?.number}\n                                    </Link>\n                                  )\n                                }\n                              </td>\n                              <td>\n                                <div className='ellipsis-width'>\n                                  {data?.type === 'job'\n                                    ? data?.reference || \"-\"\n                                    : data?.invoice_reference || \"-\"}\n                                </div>\n                              </td>\n                              <td>\n                                <OverlayTrigger\n                                  key={'top'}\n                                  placement={'top'}\n                                  overlay={\n                                    <Tooltip className='TooltipOverlay' id={`tooltip-${top}`}>\n                                      {\n                                        data?.type === 'job'\n                                          ? data?.worker?.full_name || \"\"\n                                          : data?.supplier?.name || \"\"\n                                      }\n                                    </Tooltip>\n                                  }\n                                >\n                                  <div className='mx-auto d-flex align-items-center justify-content-center ps-2' style={{ width: 'fit-content' }}>\n                                    {\n                                      data?.type === 'job'\n                                        ? (<ImageAvatar has_photo={data?.worker?.has_photo} photo={data?.worker?.photo} is_business={false} size={16} />)\n                                        : (<ImageAvatar has_photo={data?.supplier?.has_photo} photo={data?.supplier?.photo} is_business={true} size={16} />)\n                                    }\n                                  </div>\n                                </OverlayTrigger>\n                              </td>\n                              <td>${formatAUD(data?.total) || \"-\"}</td>\n                              <td className='status'>\n                                {data?.type === 'job'\n                                  ? <JobStatus status={data?.status} actionStatus={data?.action_status} published={data?.published} />\n                                  : <span className={data?.paid ? 'paid' : 'unpaid'}>\n                                    {data?.paid ? 'Paid' : 'Not Paid'}\n                                  </span>}\n                              </td>\n                            </tr>\n                          ))\n                        ) : (\n                          <tr>\n                            <td colSpan={5} className='noDataAvilable text-center'> No data available</td>\n                          </tr>\n                        )}\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n              <Col sm={6} className='projectHistoryCol'>\n                <Row>\n                  <Col className='tabModelMenu d-flex justify-content-between align-items-center p-0' >\n                    <AddNote projectId={projectId} projectCardData={projectCardData} />\n                    <NewTask project={project} reInitialize={reInitialize} projectCardData={() => projectCardData(projectId)} />\n                    <SendSMS projectId={projectId} projectCardData={() => projectCardData(projectId)} />\n                    <ComposeEmail clientId={cardData?.client} projectId={projectId} projectCardData={() => projectCardData(projectId)} />\n                  </Col>\n                  <Col className='d-flex justify-content-center align-items-center filter'  >\n                    <ProjectCardFilter setFilteredHistoryOptions={setFilteredHistoryOptions} />\n                  </Col>\n                </Row>\n                <Row className='projectHistoryWrap'>\n                  <Col className='p-0' >\n                    <h3>Project History</h3>\n                    {\n                      isFetching ? (\n                        <>\n                          {Array.from({ length: 10 }, (_, index) => (\n                            <Placeholder\n                              key={`history-key-${index + 1}`}\n                              as=\"p\"\n                              animation=\"wave\"\n                              className={index % 2 === 0 ? \"mb-0 mt-1\" : \"mb-3 mt-1\"}\n                            >\n                              <Placeholder\n                                xs={12}\n                                bg=\"secondary\"\n                                className=\"rounded-0\"\n                                size='sm'\n                                style={{\n                                  width: index % 2 === 0 ? '200px' : '90%',\n                                  height: index % 2 === 0 ? '15px' : '10px'\n                                }}\n                              />\n                            </Placeholder>\n                          ))}\n                        </>\n                      ) : (\n                        <div className='projectHistoryScroll'>\n                          {filteredHistory?.length ? (\n                            filteredHistory?.map(({ id, type, text, title, created, manager, links }, index) => (\n                              <div className='projectHistorygroup' key={`history-${id || index}`}>\n                                <ul>\n                                  <li>\n                                    {type === \"quote\" ? (\n                                      <>\n                                        <div className='d-flex align-items-center'>\n                                          <FileEarmark size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Quote &nbsp;</strong>\n                                          &nbsp;{links?.quote_pdf && <Link to={`${links?.quote_pdf || \"#\"}`} target='_blank'><FilePdf color='#FF0000' size={14} /></Link>}\n                                          &nbsp;&nbsp;{projectId && title === \"Quote Created\" && <Link to={`/quote/${projectId}`} target='_blank'><Link45deg color='#3366CC' size={16} /></Link>}\n                                        </div>\n                                      </>\n\n                                    ) : type === \"task\" ? (\n                                      <>\n                                        <>\n                                          <Check2Circle size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Task</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"order\" ? (\n                                      <>\n                                        <>\n                                          <Check2Circle size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Order</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"note\" ? (\n                                      <>\n                                        <>\n                                          <CardChecklist size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Note</strong>\n                                        </>\n                                      </>\n                                    ) : type === \"tag\" ? (\n                                      <>\n                                        <>\n                                          <ListCheck size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Tag</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"invoice\" ? (\n                                      <>\n                                        <div className='d-flex align-items-center'>\n                                          <FileText size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Invoice&nbsp;</strong>\n                                          &nbsp;{links?.invoice_pdf && <Link to={`${links?.invoice_pdf || \"#\"}`} target='_blank'><FilePdf color='#FF0000' size={14} /></Link>}\n                                          &nbsp;&nbsp;{projectId && title === \"Invoice Created\" && <Link to={`/invoice/${projectId}`} target='_blank'><Link45deg color='#3366CC' size={16} /></Link>}\n                                        </div>\n                                      </>\n\n                                    ) : type === \"billing\" ? (\n                                      <>\n                                        <>\n                                          <PhoneVibrate size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Billing</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"email\" ? (<>\n                                      <Envelope size={16} color=\"#1AB2FF\" />{\" \"}\n                                      <strong>&nbsp; Email</strong>\n                                    </>) : (\n                                      ''\n                                    )}\n                                  </li>\n\n                                </ul>\n                                <h5 style={{ whiteSpace: \"pre-line\" }}>{type !== \"email\" && title || \"\"}</h5>\n                                {\n                                  type === \"email\" ? <EmailComponent emailData={text} />\n                                    :\n                                    <h6 style={{ whiteSpace: \"pre-line\" }} dangerouslySetInnerHTML={{ __html: text }} />\n                                }\n                                <p>{formatTimestamp(created)} by {manager}</p>\n                              </div>\n                            ))\n                          ) : (\n                            <p>No history available</p>\n                          )}\n                        </div>\n                      )\n                    }\n\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n            <Row className='projectCardButWrap'>\n              <Col>\n                <ScheduleUpdate key={projectId} projectId={projectId} projectCardData={projectCardData} isFetching={isFetching} startDate={+cardData?.booking_start} endDate={+cardData?.booking_end} />\n                <Button className='expense expActive text-nowrap' onClick={() => setCreateExpenseVisible(true)}>Create Expense <img src={ExpenseIcon} alt=\"Expense\" /></Button>\n                {/* <Button className='createPo poActive'>Create PO  <img src={CreatePoIcon} alt=\"CreatePoIcon\" /></Button> */}\n                {\n                  profileData?.has_work_subscription &&<>\n                    <Button className='createJob jobActive text-nowrap' onClick={() => setVisible(true)}>Create a Job <img src={Briefcase} alt=\"briefcase\" /></Button>\n                  </>\n                }\n                <GoogleReviewEmail clientId={cardData?.client} projectId={projectId} />\n                <FilesModel projectId={projectId} />\n                <SendToCalendar projectId={projectId} project={cardData} projectCardData={projectCardData} />\n                <StartChat projectId={projectId} project={cardData} />\n              </Col>\n            </Row>\n            <Row className='projectCardCalculation'>\n              <Col className='proCostSale projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Cost Of Sale</h5>\n                  <p>${formatAUD(cardData?.cost_of_sale)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <PlusCircle size={20} color='#344054' />\n                </div>\n              </Col>\n              <Col className='proLabour projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Labour</h5>\n                  <p>${formatAUD(cardData?.labor_expense)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <PlusCircle size={20} color='#344054' />\n                </div>\n              </Col>\n              <Col className='proOperatingExpense projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Operating Expense</h5>\n                  <p>${formatAUD(cardData?.operating_expense)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n                    <path d=\"M4.16675 8H15.8334M4.16675 13H15.8334\" stroke=\"#344054\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                </div>\n              </Col>\n              <Col className='proRealCost projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Real Cost</h5>\n                  <p>${formatAUD(formattedRealCost)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <span className='font-14'>VS</span>\n                </div>\n              </Col>\n              <Col className='proBuget projectColBg'>\n                <div>\n                  <h5>Budget</h5>\n                  <p>${formatAUD(cardData?.budget)}</p>\n                </div>\n              </Col>\n            </Row>\n            <Row className='projectCardactionBut'>\n              <Col className='actionLeftSide' style={{ position: 'relative' }}>\n                <CancelProject \n                  show={showCancelConfirmation}\n                  onClose={() => setShowCancelConfirmation(false)}\n                  onConfirm={confirmCancelOrder}\n                  isLoading={declinecOrderMutation.isPending}\n                />\n                <Button onClick={declinecOrder} disabled={!cardData?.can_be_declined || declinecOrderMutation.isPending} className='declineAction'>\n                  <XCircle size={20} color='#912018' /> Cancel Project\n                  {\n                    declinecOrderMutation.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n                <Button disabled={isDuplicating} className='duplicateAction' onClick={duplicateSale}>\n                  <Files size={20} color='#0A4766' className='me-1' />\n                  <span style={{ position: 'relative', top: '2px' }}>Duplicate</span> {isDuplicating && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '6px' }} />}\n                </Button>\n                <Button disabled={!cardData?.can_be_return} onClick={() => canReturn(!cardData?.can_be_return)} className='sendBackAction'>\n                  <Reply size={20} color='#344054' opacity={!cardData?.can_be_return ? .5 : 1} />\n                  Send Back to Sales\n                  {\n                    updateReturnMutation.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n              </Col>\n              <Col className='actionRightSide'>\n                <InvoiceCreate clientId={cardData?.client} isCreated={cardData?.invoice_created} projectId={projectId} isLoading={createInvoiceMutation?.isPending} create={() => createInvoice(projectId)} projectCardData={() => projectCardData(projectId)} />\n\n                {/* <Button className='InvoiceAction InvoiceActive me-3' >\n                  Invoice  <img src={InvoicesIcon} alt=\"Invoices\" />\n                  {createInvoiceMutation?.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />}\n                </Button> */}\n\n                {/* <Button className='ProgressAction'>Progress Invoice  <img src={InvoicesIcon} alt=\"Invoices\" /></Button> */}\n\n                <Button onClick={handleCompleteProject} disabled={!cardData?.can_be_completed} className='CompleteActionBut'>\n                  Complete & Archive\n                  {\n                    completeMutation?.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n              </Col>\n            </Row>\n            <Row className='projectBreakdown px-0 pb-0'>\n              <Col sm={12} className='px-0'>\n                <Button className='mb-2' onClick={() => setShowCostBreakdown(!showCostBreakdown)}>{!showCostBreakdown ? 'Show' : 'Hide'} Cost breakdown</Button>\n                {\n                  showCostBreakdown &&\n                  <>\n                    <DataTable value={cardData?.calculations || []} showGridlines className=\"border-top\">\n                      <Column field=\"id\" header=\"Order\" bodyClassName='text-center' headerClassName='text-center' style={{ width: '60px' }} body={(_, options) => options.rowIndex + 1}></Column>\n                      <Column field=\"subindex\" header=\"Department\" style={{ minWidth: '192px' }} body={(rowData) => <div className=\"ellipsis-width\" title={rowData.subindex} style={{ maxWidth: '192px' }}>{rowData.subindex}</div>}></Column>\n                      <Column field=\"description\" header=\"Description\"\n                        body={ConstBreakDownTextArea}\n                        style={{ width: '100%' }}\n                      ></Column>\n                      <Column field=\"cost\" header=\"Cost\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.cost)}`}></Column>\n                      <Column field=\"profit_type_value\" header=\"Markup/Margin\" body={(rowData) => `${rowData.profit_type_value} ${rowData.profit_type === \"AMN\" ? \"AMT $\" : rowData.profit_type === \"MRG\" ? \"MRG %\" : \"MRK %\"}`} style={{ width: '100%' }}></Column>\n                      <Column field=\"unit_price\" header=\"Unit Price\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.unit_price)}`}></Column>\n                      <Column field=\"quantity\" header=\"Qty/Unit\" style={{ width: '100%' }}></Column>\n                      <Column field=\"discount\" header=\"Discount\" style={{ width: '100%' }} body={(rowData) => `${rowData.discount}%`}></Column>\n                      <Column field=\"total\" header=\"Amount\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.total)}`}></Column>\n                    </DataTable>\n                    <div className='w-100 d-flex align-items-center justify-content-end gap-4' style={{ background: '#EBF8FF', padding: '8px 24px 8px 40px' }}>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Sub Total</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.sub_total)}</p>\n                      </div>\n                      <div>\n                        <PlusCircle size={20} color='#106B99' />\n                      </div>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Tax</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.gst)}</p>\n                      </div>\n                      <div>\n                        <div>\n                          <PauseCircle size={20} color='#106B99' style={{ transform: 'rotate(90deg)' }} />\n                        </div>\n                      </div>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Total Invoice Amount</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.total)}</p>\n                      </div>\n                    </div>\n                  </>\n                }\n              </Col>\n            </Row>\n          </div>\n        </Modal.Body>\n      </Modal>\n      <CreateJob visible={visible} setVisible={setVisible} setRefetch={() => projectCardData(projectId)} jobProjectId={visible ? project?.value : \"\"} projectReference={visible ? project?.reference : \"\"} />\n      <NewExpensesCreate visible={createExpenseVisible} setVisible={setCreateExpenseVisible} setRefetch={() => projectCardData(projectId)} expenseProjectId={project?.value} projectReference={project?.reference} />\n    </>\n  );\n};\n\nexport default ProjectCardModel;","\nimport { useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { fetchTasksRead } from '../../../../../APIs/TasksApi';\nimport CreateTask from '../../../../Work/features/task/create-task/create-task';\n\nconst ViewTask = ({ view, setView, taskId, setTaskId, reInitialize }) => {\n  const { isFetching, data, refetch } = useQuery({\n    queryKey: ['task', taskId],\n    queryFn: () => fetchTasksRead(taskId),\n    enabled: !!taskId,\n    retry: 1,\n  });\n\n  useEffect(() => {\n    if (taskId) {\n      refetch({ cancelRefetch: false });\n    }\n  }, [taskId, refetch]);\n\n  return (\n    <>\n      {view && <CreateTask show={view} setShow={setView} taskId={taskId} setTaskId={setTaskId} defaultValue={data} refetch={reInitialize} />}\n    </>\n  );\n};\n\nexport default ViewTask;","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Button, Dropdown, Spinner } from \"react-bootstrap\";\nimport { CalendarWeek, Filter, SortDown } from \"react-bootstrap-icons\";\nimport clsx from \"clsx\";\nimport { MultiSelect } from \"primereact/multiselect\";\nimport { initDaypilot, reInitializeData } from \"./utils\";\nimport { getManagement } from \"../../../../../APIs/management-api\";\nimport { getHolidaysList, ProjectStatusesList } from \"../../../../../APIs/SettingsGeneral\";\nimport { useAuth } from \"../../../../../app/providers/auth-provider\";\nimport { useTrialHeight } from \"../../../../../app/providers/trial-height-provider\";\nimport CreateJob from \"../../../../Work/features/create-job/create-job\";\nimport ViewJob from \"../../../../Work/features/view-job/view-job\";\nimport ProjectCardModel from \"../project-card/project-card-model\";\nimport { colorMapping } from \"../project-card/select-status\";\nimport CreateTaskFeature from \"../task/create-task\";\nimport ViewTask from \"../task/view-task\";\n\n\nconst CALENDAR_ID = \"calender\";\nfunction EventScheduler() {\n  const { session } = useAuth();\n  const hasWorkSubscription = session?.has_work_subscription || false;\n  const timeoutRef = useRef(null);\n  const { trialHeight } = useTrialHeight();\n  const [search, setSearch] = useState(\"\");\n  const [management, setManagement] = useState([]);\n  const [show, setShow] = useState(false);\n  const [view, setView] = useState(false);\n  const [viewProjectModel, setViewProjectModel] = useState(false);\n  const [isReinitialize, setIsReinitialize] = useState(false);\n  const [statusOptions, setStatusOptions] = useState([]);\n  const [taskId, setTaskId] = useState(null);\n  const [projectId, setProjectId] = useState(null);\n  const [projectDetails, setProjectDetails] = useState({});\n  const [filterBy, setFilterBy] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"\");\n  const [statusBy, seStatusBy] = useState(\"\");\n  const [visible, setVisible] = useState(false);\n  const [jobProjectId, setJobProjectId] = useState(null);\n  const [viewJob, setViewJob] = useState({ visible: false, jobId: null });\n  const [editMode, setEditMode] = useState(false);\n  const [holidays, setHolidays] = useState([]);\n\n  // show project model from invoice\n  const url = window.location.href;\n  const urlObj = new URL(url);\n  const params = new URLSearchParams(urlObj.search);\n  const unique_id = params.get('unique_id');\n  if (unique_id && !projectId) {\n    setProjectId(unique_id);\n\n    const reference = params.get('reference');\n    const number = params.get('number');\n    const value = params.get('value');\n    setProjectDetails({ number: number || \"\", reference, value: value });\n    setViewProjectModel(true);\n  }\n\n\n  function viewTaskDetails(id, isJob = false, projectDetails) {\n    if (isJob) {\n      const type = projectDetails.type;\n      if (type === 'job') {\n        setViewJob({ visible: true, jobId: projectDetails.job.id });\n      } else {\n        setProjectId(id);\n        setProjectDetails(projectDetails);\n        setViewProjectModel(true);\n      }\n    } else {\n      setTaskId(id);\n      setView(true);\n    }\n  }\n\n  const fetchData = async () => {\n    try {\n      const data = await ProjectStatusesList();\n      setStatusOptions([...data]);\n    } catch (error) {\n      console.error(\"Error fetching project status data:\", error);\n    }\n  };\n\n  const getHolidays = async () => {\n    try {\n      const response = await getHolidaysList();\n      setHolidays(response);\n      return response;\n    } catch (error) {\n      console.error(\"Error fetching holidays:\", error);\n      return [];\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // This useEffect for open create model\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (!(e.target instanceof HTMLSelectElement)) {\n        if (e.target.closest('.createJobButton')) {\n          const projectId = e.target.getAttribute('project-id');\n          setJobProjectId(projectId);\n          setVisible(true);\n        }\n\n        if (e.target.closest('.job-resource-child')) {\n          const jobId = e.target.closest('.job-resource-child').getAttribute('job-id');\n          setViewJob({ visible: true, jobId: jobId });\n        }\n\n        if (e.target.closest('.create-task-button')) {\n          const number = e.target.getAttribute('number');\n          const reference = e.target.getAttribute('reference');\n          const projectId = e.target.getAttribute('project-id');\n\n          setProjectDetails({ number, reference, value: projectId });\n          setShow(true);\n        } else if (e.target.closest('.task-list')) {\n          const taskId = e.target.closest('.task-list').getAttribute('task-id');\n          console.log('task-list: ....', taskId);\n          if (taskId) viewTaskDetails(taskId);\n        } else if (e.target.closest(\".project-content\")) {\n          const uniqueId = e.target.closest('.project-content').getAttribute('unique-id');\n          const number = e.target.closest('.project-content').getAttribute('number');\n          const reference = e.target.closest('.project-content').getAttribute('reference');\n          const projectId = e.target.closest('.project-content').getAttribute('project-id');\n\n          console.log('uniqueId: ....', uniqueId);\n          setProjectId(uniqueId);\n          setProjectDetails({ number, reference, value: projectId });\n          setViewProjectModel(true);\n        }\n      }\n    };\n    document.addEventListener('click', handleClick);\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, []);\n\n  // Listen for global search result events to open project modal\n  useEffect(() => {\n    const handleSearchResult = (event) => {\n      const { type, item } = event.detail;\n      if (type === 'project') {\n        setProjectId(item.unique_id || item.id);\n        setProjectDetails({ \n          number: item.number || \"\", \n          reference: item.reference || \"\",\n          value: item.id \n        });\n        setViewProjectModel(true);\n      }\n    };\n\n    window.addEventListener('openSearchResult', handleSearchResult);\n    return () => {\n      window.removeEventListener('openSearchResult', handleSearchResult);\n    };\n  }, []);\n\n  const reInitialize = async () => {\n    try {\n      setIsReinitialize(true);\n      const response = await getManagement();\n      setManagement(response);\n      if (search) searchData(search, response);\n      else reInitializeData(response, hasWorkSubscription);\n      setIsReinitialize(false);\n    } catch (error) {\n      console.error(\"Error initializing DayPilot:\", error);\n    }\n  };\n\n  useEffect(() => {\n    const daypilotScript = document.createElement(\"script\");\n    daypilotScript.src =\n      \"/daypilot-all.min.js\";\n    daypilotScript.id = \"daypilot-script-ele\";\n\n    const handleError = () => {\n      console.error(\"Failed to load DayPilot script.\");\n    };\n\n    const handleLoad = async () => {\n      try {\n        const response = await getManagement();\n        const holidays = await getHolidays();\n        setManagement(response);\n        initDaypilot(CALENDAR_ID, response, viewTaskDetails, reInitialize, hasWorkSubscription, holidays);\n      } catch (error) {\n        console.error(\"Error initializing DayPilot:\", error);\n      }\n    };\n\n    daypilotScript.addEventListener('error', handleError);\n    daypilotScript.addEventListener('load', handleLoad);\n\n    document.body.appendChild(daypilotScript);\n\n    return () => {\n      daypilotScript.removeEventListener('error', handleError);\n      daypilotScript.removeEventListener('load', handleLoad);\n      if (document.body.contains(daypilotScript)) {\n        document.body.removeChild(daypilotScript);\n      }\n    };\n  }, []);\n\n  const handleViewTask = () => {\n    console.log('handleViewTask: ');\n  };\n\n  useEffect(() => {\n    const taskList = document.querySelector(\".task-list\");\n    if (taskList) {\n      let taskId = taskList.getAttribute('task-id');\n      console.log('taskId: ', taskId);\n      taskList.addEventListener(\"click\", handleViewTask());\n    }\n\n    return () => {\n      if (taskList) {\n        let taskId = taskList.getAttribute('task-id');\n        console.log('taskId: ', taskId);\n        taskList.removeEventListener(\"click\", handleViewTask);\n      }\n    };\n  }, []);\n\n  const searchData = (search, newData) => {\n    const managementData = newData || management;\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    timeoutRef.current = setTimeout(() => {\n      let filteredResponse = managementData.filter((data) => {\n        if (\n          (data?.number?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.reference?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.client?.name.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n        ) return true;\n        else return false;\n      });\n      reInitializeData(filteredResponse || [], hasWorkSubscription);\n    }, 600);\n  };\n\n  const applyFiltersAndSort = useCallback(() => {\n    let filteredData = [...management];\n\n    // Apply filters\n    if (filterBy === \"Not Invoiced\") {\n      filteredData = filteredData.filter((item) => !item.is_invoice_created);\n    } else if (filterBy === \"Not Booked\") {\n      filteredData = filteredData.filter((item) => !item.booking_start);\n    } else if (filterBy === \"Not Paid\") {\n      filteredData = filteredData.filter((item) => item.paid !== \"PAID\");\n    }\n\n    // Apply sorting\n    if (sortBy === \"Date Due\") {\n      filteredData.sort((a, b) => new Date(a.booking_end * 1000) - new Date(b.booking_end * 1000));\n    } else if (sortBy === \"Date Accepted\") {\n      filteredData.sort((a, b) => new Date(a.booking_start * 1000) - new Date(b.booking_start * 1000));\n    } else if (sortBy === \"Job Number\") {\n      filteredData.sort((a, b) => a.number.localeCompare(b.number));\n    } else if (sortBy === \"Order Status\") {\n      filteredData.sort((a, b) => (a?.custom_status?.title || \"\").localeCompare(b?.custom_status?.title || \"\"));\n    }\n\n    // Apply status filter\n    if (statusBy?.length > 0) {\n      const status = statusBy.map((option) => option.id);\n      filteredData = filteredData.filter((item) => status.includes(item?.custom_status?.id));\n    }\n\n    // Apply search\n    if (search) {\n      filteredData = filteredData.filter((data) => {\n        if (\n          (data?.number?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.reference?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.client?.name.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n        ) return true;\n        else return false;\n      });\n    }\n\n    reInitializeData(filteredData, hasWorkSubscription);\n  }, [management, filterBy, sortBy, search, hasWorkSubscription, statusBy]);\n\n  useEffect(() => {\n    applyFiltersAndSort();\n  }, [filterBy, sortBy, search, applyFiltersAndSort, statusBy]);\n\n  const handleFilterChange = (filter) => {\n    setFilterBy(filter);\n  };\n\n  const handleSortChange = (sort) => {\n    setSortBy(sort);\n  };\n\n  const handleSearch = (e) => {\n    const search = e.target.value;\n    setSearch(search);\n  };\n\n  return <React.Fragment>\n    <div className=\"topbar bottom-border\" style={{ padding: '0px 20px', position: 'relative' }}>\n      <div className='left-side d-flex align-items-center' style={{ gap: '12px' }}>\n        <div className=\"searchBox\" style={{ position: 'relative' }}>\n          <div style={{ position: 'absolute', top: '2px', left: '6px' }}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n              <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n            </svg>\n          </div>\n          <input type=\"text\" placeholder=\"Search\" onChange={handleSearch} className=\"border search-resource\" style={{ borderRadius: '4px', border: '1px solid #D0D5DD', width: '184px', color: '#424242', paddingLeft: '36px', fontSize: '14px', height: '32px' }} />\n        </div>\n\n        <div className=\"d-flex gap-1 justify-content-end align-items-center\" style={{ position: 'absolute', left: '4px', top: '56px', zIndex: 1000 }}>\n          <Dropdown>\n            <Dropdown.Toggle as={Button} className={clsx(\"outline-button mx-auto\")} style={{ padding: \"6px 16px\", position: \"relative\" }}>\n              <span className=\"font-14 d-flex align-items-center\">\n                <SortDown size={16} color=\"#667085\" className=\"me-1\" />\n                <div className=\"ellipsis-width\" style={{ maxWidth: '55px', color: '#424242', fontWeight: 400 }} title={sortBy}>{sortBy || <span style={{ color: '#667085' }}>Sort By</span>}</div>\n              </span>\n              {sortBy && (\n                <span\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleSortChange(\"\");\n                  }}\n                  style={{\n                    position: \"absolute\",\n                    right: \"8px\",\n                    top: \"50%\",\n                    transform: \"translateY(-50%)\",\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"16px\",\n                    height: \"16px\",\n                    borderRadius: \"50%\",\n                    backgroundColor: \"#F2F4F7\",\n                    marginLeft: \"8px\"\n                  }}\n                >\n                  <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M9 3L3 9M3 3L9 9\" stroke=\"#667085\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                </span>\n              )}\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n              <Dropdown.Item key={\"Date Due\"} eventKey={\"Date Due\"} active={sortBy === \"Date Due\"} onClick={() => handleSortChange(\"Date Due\")}>\n                Date Due\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Date Accepted\"} eventKey={\"Date Accepted\"} active={sortBy === \"Date Accepted\"} onClick={() => handleSortChange(\"Date Accepted\")}>\n                Date Accepted\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Job Number\"} eventKey={\"Job Number\"} active={sortBy === \"Job Number\"} onClick={() => handleSortChange(\"Job Number\")}>\n                Job Number\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Order Status\"} eventKey={\"Order Status\"} active={sortBy === \"Order Status\"} onClick={() => handleSortChange(\"Order Status\")}>\n                Order Status\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n\n          <Dropdown>\n            <Dropdown.Toggle as={Button} className={clsx(\"outline-button mx-auto\")} style={{ padding: \"6px 16px\", position: \"relative\" }}>\n              <span className=\"font-14 d-flex align-items-center\">\n                <CalendarWeek size={16} color=\"#667085\" className=\"me-1\" />\n                <div className=\"ellipsis-width\" style={{ maxWidth: '55px', color: '#424242', fontWeight: 400 }} title={filterBy}>{filterBy || <span style={{ color: '#667085' }}>Filter By</span>}</div>\n              </span>\n              {filterBy && (\n                <span\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleFilterChange(\"\");\n                  }}\n                  style={{\n                    position: \"absolute\",\n                    right: \"8px\",\n                    top: \"50%\",\n                    transform: \"translateY(-50%)\",\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"16px\",\n                    height: \"16px\",\n                    borderRadius: \"50%\",\n                    backgroundColor: \"#F2F4F7\",\n                    marginLeft: \"8px\"\n                  }}\n                >\n                  <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M9 3L3 9M3 3L9 9\" stroke=\"#667085\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                </span>\n              )}\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n              <Dropdown.Item key={\"Not Invoiced\"} eventKey={\"Not Invoiced\"} active={filterBy === \"Not Invoiced\"} onClick={() => handleFilterChange(\"Not Invoiced\")}>\n                Not Invoiced\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Not Booked\"} eventKey={\"Not Booked\"} active={filterBy === \"Not Booked\"} onClick={() => handleFilterChange(\"Not Booked\")}>\n                Not Booked\n              </Dropdown.Item>\n              <Dropdown.Item key={\"Not Paid\"} eventKey={\"Not Paid\"} active={filterBy === \"Not Paid\"} onClick={() => handleFilterChange(\"Not Paid\")}>\n                Not Paid\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n\n          <div style={{ position: 'relative', maxWidth: '113px' }}>\n            <div style={{ position: 'absolute', top: '3px', left: '12px', zIndex: 1 }}>\n              <Filter size={20} color=\"#667085\" />\n            </div>\n            <MultiSelect\n              value={statusBy}\n              options={statusOptions}\n              onChange={(e) => seStatusBy(e.value)}\n              optionLabel=\"title\"\n              placeholder=\"Status\"\n              maxSelectedLabels={0}\n              itemTemplate={(item) => {\n                return (<div className=\"d-flex align-items-center gap-2\" style={{ width: '250px' }}>\n                  <div className=\"w-100 p-2 rounded\" style={{ background: `${colorMapping[item?.color]?.bg}`, borderLeft: `4px solid ${colorMapping[item?.color]?.border}`, color: `${colorMapping[item?.color]?.color}` }}>\n                    <span className=\"ellipsis-width\" style={{ maxWidth: '250px' }}>{item.title}</span>\n                  </div>\n                </div>);\n              }}\n              filter\n              scrollHeight=\"400px\"\n              display=\"chip\"\n              showClear={true}\n              className=\"w-100 custom-multiselect management-multiselect\"\n              style={{ width: '184px', borderRadius: '40px', padding: '2px 8px', paddingLeft: '34px' }}\n            />\n          </div>\n        </div>\n\n      </div>\n\n      <div className=\"featureName\" style={{ position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)' }}>\n        <h1 className=\"title mx-0\">Project Management</h1>\n      </div>\n      <div className=\"right-side d-flex align-items-center\">\n\n      </div>\n    </div>\n\n    <div className={trialHeight && 'trial-height-added'}>\n      <div id={CALENDAR_ID}>\n        <div style={{ position: 'fixed', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </div>\n      </div>\n    </div>\n\n    <ViewTask view={view} setView={setView} taskId={taskId} setTaskId={setTaskId} reInitialize={reInitialize} />\n    <CreateTaskFeature show={show} setShow={setShow} project={projectDetails} reInitialize={reInitialize} />\n\n    <ProjectCardModel key={projectId} viewShow={viewProjectModel} setViewShow={setViewProjectModel} projectId={projectId} project={projectDetails} statusOptions={statusOptions} reInitialize={reInitialize} />\n    <CreateJob visible={visible} setVisible={setVisible} setRefetch={reInitialize} jobProjectId={jobProjectId} />\n    <ViewJob visible={viewJob?.visible} jobId={viewJob?.jobId} setVisible={(bool) => setViewJob((others) => ({ ...others, visible: bool }))} setRefetch={reInitialize} editMode={editMode} setEditMode={setEditMode} />\n\n    {\n      isReinitialize && <div style={{ position: 'absolute', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n      </div>\n    }\n  </React.Fragment>;\n}\n\nexport default EventScheduler;\n","import React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { EventScheduler } from \"./event-scheduler\";\n\nconst Management = () => {\n    return (\n        <>\n            <Helmet>\n                <title>MeMate - Management</title>\n            </Helmet>\n            <EventScheduler />\n        </>\n    );\n};\nexport default Management;","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const draftSalesRequest = async (data) => {\n  const endpoint = `/sales/new-request/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\n// Sale Table Api\nexport const fetchSales = async () => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/`, requestOptions);\n    const result = await response.text();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\n\n// Sales Note Api\nexport const fetchSalesNotes = async (saleUniqueId, updatedNote) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify({ sales_note: updatedNote }),\n    redirect: 'follow',\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/notes/`, requestOptions);\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Sales notes update failed with status ${response.status}: ${errorText}`);\n    }\n\n    const result = await response.text();\n\n    const parsedResult = result.trim() ? JSON.parse(result) : null;\n\n    return parsedResult;\n  } catch (error) {\n    console.error('Sales notes update error:', error);\n    throw error;\n  }\n};\n\nexport const markWon = async (ids) => {\n  const endpoint = `/sales/status/won/`;\n  const options = {\n    method: 'PUT',\n    body: { ids: ids }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markLost = async (ids) => {\n  const endpoint = `/sales/status/lost/`;\n  const options = {\n    method: 'PUT',\n    body: { ids: ids }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\n// Sale Won Api\nexport const fetchWon = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  const raw = JSON.stringify({\n    \"ids\": [saleUniqueId]\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n  const response = await fetch(`${API_BASE_URL}/sales/status/won/`, requestOptions);\n  const result = await response.json();\n  return result[0];\n};\n\n\n// Sale Contact Api\nexport const fetchContacts = async (saleUniqueId, formData) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  const requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: JSON.stringify(formData),\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/contacts/`, requestOptions);\n    if (response.ok) {\n      return response;\n    } else {\n      console.log('Error:', response.status);\n      return null;\n    }\n  } catch (error) {\n    console.log('Error:', error);\n    return null;\n  }\n};\n\n\n// Sale Lead Api\nexport const fetchSaleslead = async (saleUniqueId, updatedLead) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: JSON.stringify({ lead: updatedLead, unique_id: saleUniqueId }),\n    redirect: 'follow',\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/lead/`, requestOptions);\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Sales lead update failed with status ${response.status}: ${errorText}`);\n    }\n\n    const result = await response.text();\n\n    const parsedResult = result.trim() ? JSON.parse(result) : null;\n\n    return parsedResult;\n  } catch (error) {\n    console.error('Sales lead update error:', error);\n    throw error;\n  }\n};\n\n\n\n\n// Sale Multi Won Api\nexport const fetchMultipleData = async (selectedUniqueIds) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const raw = JSON.stringify({\n    \"ids\": selectedUniqueIds\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw, // Include the body here\n    redirect: \"follow\"\n  };\n\n  const responses = await Promise.all([\n    fetch(`${API_BASE_URL}/sales/status/won/`, requestOptions), // Pass requestOptions directly\n  ]);\n\n  const data = await Promise.all(responses.map(response => response.json()));\n  return data;\n};\n\n\n// Sale DUPLICATE Api\nexport const fetchduplicateData = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  const response = await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/duplicate/`, requestOptions);\n  const result = await response.json();\n  return result[0];\n};\n\n\n\n\n// Sale history Api\nexport const fetchhistoryData = async (saleUniqueId) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\"\n  };\n\n  try {\n    await fetch(`${API_BASE_URL}/sales/${saleUniqueId}/history/`, requestOptions);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n\n\n\n\n// Sale Multi Lost Api\nexport const fetchMultipleLost = async (selectedUniqueIds) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const raw = JSON.stringify({\n    \"ids\": selectedUniqueIds\n  });\n\n  const requestOptions = {\n    method: \"PUT\",\n    headers: myHeaders,\n    body: raw, // Include the body here\n    redirect: \"follow\"\n  };\n\n\n  const responses = await Promise.all([\n    fetch(`${API_BASE_URL}/sales/status/lost/`, requestOptions), // Pass requestOptions directly\n  ]);\n\n  const data = await Promise.all(responses.map(response => response.json()));\n  return data; // Return data to handleMoveToManagementWon function\n};\n\n\n\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-email_headerTitle__50KUB\",\"customLabel\":\"send-email_customLabel__r5xED\",\"templateInfo\":\"send-email_templateInfo__mWkVT\",\"bag\":\"send-email_bag__wtdwK\",\"lable\":\"send-email_lable__+kNCa\",\"dropdownSelect\":\"send-email_dropdownSelect__RY5w8\",\"autoCompleteBox\":\"send-email_autoCompleteBox__fWZ7C\",\"AutoComplete\":\"send-email_AutoComplete__m9YI5\",\"bcc\":\"send-email_bcc__BwFzl\",\"box\":\"send-email_box__Zlmer\",\"active\":\"send-email_active__vEx4h\",\"inputBox\":\"send-email_inputBox__NpU2b\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Modal, Row } from \"react-bootstrap\";\nimport { InfoCircle } from 'react-bootstrap-icons';\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport style from \"./send-email.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendDynamicEmailForm = ({ show, setShow, mutation, contactPersons, setPayload, defaultTemplateId, isAddingContact = false }) => {\n    const op = useRef(null);\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n\n    // Email validation function\n    const isValidEmail = useCallback((email) => {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email.trim());\n    }, []);\n\n    // Validate array of emails\n    const validateEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return true; // Empty array is valid\n        return emailArray.every(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Get invalid emails from array\n    const getInvalidEmails = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => !isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Clean email array by removing invalid emails\n    const cleanEmailArray = useCallback((emailArray) => {\n        if (!emailArray || emailArray.length === 0) return [];\n        return emailArray.filter(email => isValidEmail(email));\n    }, [isValidEmail]);\n\n    // Validate and clean all email fields\n    const validateAndCleanAllEmails = useCallback(() => {\n        let hasErrors = false;\n        \n        // Check TO emails\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Found invalid TO emails:', invalidToEmails);\n                setTo(cleanEmailArray(to));\n                hasErrors = true;\n            }\n        }\n        \n        // Check CC emails\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Found invalid CC emails:', invalidCcEmails);\n                setCC(cleanEmailArray(cc));\n                hasErrors = true;\n            }\n        }\n        \n        // Check BCC emails\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Found invalid BCC emails:', invalidBccEmails);\n                setBCC(cleanEmailArray(bcc));\n                hasErrors = true;\n            }\n        }\n        \n        return !hasErrors; // Return true if no errors found\n    }, [to, cc, bcc, getInvalidEmails, cleanEmailArray]);\n\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n    const reset = () => {\n        setFrom([]);\n        setTo([]);\n        setCC([]);\n        setBCC([]);\n        setSubject([]);\n        setText([]);\n        setEmailTemplatedId(null);\n    };\n\n    const handleClose = () => {\n        setShow(false);\n        if (!defaultTemplateId) reset();\n    };\n\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n        enabled: !!show,\n    });\n\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n        enabled: !!show,\n    });\n\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n        enabled: !!show,\n    });\n\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n\n        if (!emailTemplateId && emailTemplateQuery?.data && defaultTemplateId) {\n            const activeTemplateId = emailTemplateQuery?.data?.find((template) => template.type === defaultTemplateId);\n            if (activeTemplateId) setEmailTemplatedId(activeTemplateId?.id);\n        }\n\n    }, [emailTemplateQuery, outgoingEmailTemplateQuery, defaultTemplateId, emailTemplateId]);\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        // First, validate and clean all email arrays\n        const allEmailsValid = validateAndCleanAllEmails();\n        if (!allEmailsValid) {\n            console.log('Some emails were invalid and have been cleaned');\n        }\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        } else if (!validateEmailArray(to)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(to);\n            console.log('Invalid TO emails:', invalidEmails);\n            setErrors((others) => ({ ...others, to: true, toInvalid: true, invalidToEmails: invalidEmails }));\n        }\n\n        if (cc.length > 0 && !validateEmailArray(cc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(cc);\n            console.log('Invalid CC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, cc: true, invalidCcEmails: invalidEmails }));\n        }\n\n        if (bcc.length > 0 && !validateEmailArray(bcc)) {\n            ++errorCount;\n            const invalidEmails = getInvalidEmails(bcc);\n            console.log('Invalid BCC emails:', invalidEmails);\n            setErrors((others) => ({ ...others, bcc: true, invalidBccEmails: invalidEmails }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n\n        mutation.mutate({\n            subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        });\n    };\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setTo((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length && validEmails.length > 0) {\n                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, cc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            // Validate emails before adding\n            const validEmails = emails.filter(email => isValidEmail(email));\n            setBCC((prev) => [...new Set([...prev, ...validEmails])]);\n            // Clear error if emails are valid\n            if (validEmails.length === emails.length) {\n                setErrors((others) => ({ ...others, bcc: false }));\n            }\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email))?.filter(email => email);\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    // Auto-clean invalid emails from arrays\n    useEffect(() => {\n        if (to.length > 0) {\n            const invalidToEmails = getInvalidEmails(to);\n            if (invalidToEmails.length > 0) {\n                console.log('Auto-cleaning invalid TO emails:', invalidToEmails);\n                const validEmails = cleanEmailArray(to);\n                setTo(validEmails);\n            }\n        }\n    }, [to, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (cc.length > 0) {\n            const invalidCcEmails = getInvalidEmails(cc);\n            if (invalidCcEmails.length > 0) {\n                console.log('Auto-cleaning invalid CC emails:', invalidCcEmails);\n                const validEmails = cleanEmailArray(cc);\n                setCC(validEmails);\n            }\n        }\n    }, [cc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        if (bcc.length > 0) {\n            const invalidBccEmails = getInvalidEmails(bcc);\n            if (invalidBccEmails.length > 0) {\n                console.log('Auto-cleaning invalid BCC emails:', invalidBccEmails);\n                const validEmails = cleanEmailArray(bcc);\n                setBCC(validEmails);\n            }\n        }\n    }, [bcc, getInvalidEmails, cleanEmailArray]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n\n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    return (\n        <Modal\n            show={show}\n            centered\n            onHide={handleClose}\n            className='invoice-form'\n            size='lg'\n        >\n            <Modal.Header closeButton>\n                <div className={`${style.modalHeader}`}>\n                    <div className=\"w-100 d-flex align-items-center gap-2\">\n                        <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                            Send email\n                        </span>\n                    </div>\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <Row>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>FROM</label>\n                            <Dropdown\n                                options={\n                                    (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                        value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                        label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                    }])) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '60px' }}\n                                placeholder=\"Select from email\"\n                                onChange={(e) => {\n                                    setFrom(e.value);\n                                    setErrors((others) => ({ ...others, from: false }));\n                                }}\n                                value={from}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                        {errors?.from && (\n                            <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (emailTemplateQuery &&\n                                        emailTemplateQuery.data?.map((emailTemplate) => ({\n                                            value: emailTemplate.id,\n                                            label: `${emailTemplate.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setEmailTemplatedId(e.value);\n                                }}\n                                value={emailTemplateId}\n                                loading={emailTemplateQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                            <div className={style.templateInfo} onClick={(e) => op.current.toggle(e)}>\n                                <InfoCircle size={16} color='#737374ff' />\n                            </div>\n                            <OverlayPanel ref={op}>\n                                <p className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>Choose from your existing templates here.</p>\n                                <div className='font-12' style={{ color: '#344054', lineHeight: '18px' }}>To edit or add new templates, go to<br /> Profile Settings &gt; Templates &gt; Email<br/> Templates.</div>\n                            </OverlayPanel>\n                        </div>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex gap-3 w-100\">\n                            <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>TO</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef}\n                                    value={to}\n                                    completeMethod={search}\n                                    onChange={(e) => {\n                                        setTo(e.value);\n                                        setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus}\n                                    onFocus={onFocus}\n                                    onKeyUp={onInputChange}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setTo((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, to: false, toInvalid: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, toInvalid: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"TO\"\n                                />\n                            </div>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showCC })}\n                                onClick={() => { setShowCC(!showCC); setCC([]); }}\n                            >\n                                CC\n                            </Button>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showBCC })}\n                                onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                            >\n                                BCC\n                            </Button>\n                        </div>\n                        {errors?.to && !errors?.toInvalid && (\n                            <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                        )}\n                        {errors?.toInvalid && (\n                            <div>\n                                <p className=\"error-message mb-0\">{\"Please enter valid email addresses for TO\"}</p>\n                                {errors?.invalidToEmails && errors.invalidToEmails.length > 0 && (\n                                    <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                        Invalid emails: {errors.invalidToEmails.join(', ')}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </Col>\n                    {\n                        showCC &&\n                        <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>CC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef2}\n                                    value={cc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setCC(e.value);\n                                        setErrors((others) => ({ ...others, cc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus2}\n                                    onFocus={onFocus2}\n                                    onKeyUp={onInputChange2}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, cc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, cc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"CC\"\n                                />\n                            </div>\n                            {errors?.cc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for CC\"}</p>\n                                    {errors?.invalidCcEmails && errors.invalidCcEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidCcEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n\n                    {\n                        showBCC && <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '60px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>BCC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef3}\n                                    value={bcc}\n                                    completeMethod={search}\n                                    onChange={(e) => { \n                                        setBCC(e.value);\n                                        setErrors((others) => ({ ...others, bcc: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus3}\n                                    onFocus={onFocus3}\n                                    onKeyUp={onInputChange3}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            if (isValidEmail(currentValue)) {\n                                                setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                                setErrors((others) => ({ ...others, bcc: false }));\n                                            } else {\n                                                setErrors((others) => ({ ...others, bcc: true }));\n                                            }\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                    placeholder=\"BCC\"\n                                />\n                            </div>\n                            {errors?.bcc && (\n                                <div>\n                                    <p className=\"error-message mb-0\">{\"Please enter valid email addresses for BCC\"}</p>\n                                    {errors?.invalidBccEmails && errors.invalidBccEmails.length > 0 && (\n                                        <p className=\"error-message mb-0 mt-1\" style={{ fontSize: '12px', color: '#dc3545' }}>\n                                            Invalid emails: {errors.invalidBccEmails.join(', ')}\n                                        </p>\n                                    )}\n                                </div>\n                            )}\n                        </Col>\n                    }\n                    <Col sm={12} className='mb-2'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>SUBJECT</label>\n                            <IconField>\n                                <InputIcon>\n                                    {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                </InputIcon>\n                                <InputText\n                                    value={subject}\n                                    className={clsx(style.inputBox, 'w-100')}\n                                    style={{ paddingLeft: '100px' }}\n                                    onChange={(e) => {\n                                        setSubject(e.target.value);\n                                        setErrors((others) => ({ ...others, subject: false }));\n                                    }}\n                                    placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                                />\n                            </IconField>\n                        </div>\n                        {errors?.subject && (\n                            <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                            <label className={clsx(style.lable)}>Message</label>\n                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <Editor\n                                style={{ minHeight: \"150px\" }}\n                                headerTemplate={header}\n                                value={text}\n                                placeholder='Enter a description...'\n                                onTextChange={(e) => {\n                                    setText(e.htmlValue);\n                                    setErrors((others) => ({ ...others, text: false }));\n                                }}\n                            />\n                        </div>\n                        {errors?.text && (\n                            <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12}>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Signature</label>\n                            <Dropdown\n                                options={\n                                    (signatureQuery &&\n                                        signatureQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                panelClassName='px880-dropdown-item'\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select signature\"\n                                onChange={(e) => {\n                                    setSignature(e.value);\n                                }}\n                                value={signature}\n                                loading={signatureQuery?.isFetching}\n                                filterInputAutoFocus={true}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-between'>\n                <span></span>\n                <div className=\"d-flex justify-content-end gap-2\">\n                    <Button className=\"outline-button\" onClick={handleClose}>\n                        Cancel{\" \"}\n                    </Button>\n                    <Button disabled={mutation?.isPending} className=\"solid-button\" onClick={onSubmit}>\n                        Send{\" \"}\n                        {(mutation?.isPending || isAddingContact) && (\n                            <ProgressSpinner\n                                style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                            />\n                        )}\n                    </Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default SendDynamicEmailForm;","import React, { useState, useRef } from 'react';\nimport { FileText, Image } from 'react-bootstrap-icons';\n\nexport function formatFileSize(size) {\n  if (size >= 1024 * 1024) return (size / (1024 * 1024)).toFixed(1) + ' MB';\n  if (size >= 1024) return (size / 1024).toFixed(1) + ' KB';\n  return size + ' B';\n}\n\nconst ChatAttachmentPopover = ({ onFileChange, styles }) => {\n  const [open, setOpen] = useState(false);\n  const buttonRef = useRef();\n  const popoverRef = useRef();\n\n  const handleClickOutside = (event) => {\n    const btn = buttonRef.current;\n    const pop = popoverRef.current;\n    if (!btn || !pop) return;\n    const clickedInsideTrigger = btn.contains(event.target);\n    const clickedInsidePopover = pop.contains(event.target);\n    if (!clickedInsideTrigger && !clickedInsidePopover) setOpen(false);\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <div style={{ position: 'relative', display: 'inline-block' }}>\n      <button\n        className={styles.attachButton}\n        type=\"button\"\n        aria-label=\"Attach file\"\n        ref={buttonRef}\n        onClick={() => setOpen((v) => !v)}\n        style={{ padding: '6px 6px 6px 8px' }}\n      >\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M18.0833 8.33333L9.16667 17.25C8.17221 18.2444 6.82407 18.8042 5.41667 18.8042C4.00926 18.8042 2.66112 18.2444 1.66667 17.25C0.672214 16.2556 0.112446 14.9074 0.112446 13.5C0.112446 12.0926 0.672214 10.7444 1.66667 9.75L10.5833 0.833329C11.2486 0.167998 12.1514 -0.149151 13.0833 0.0666624C14.0153 0.282476 14.8056 0.947998 15.25 1.83333C15.6944 2.71866 15.7361 3.75 15.3333 4.66666C14.9306 5.58333 14.1389 6.29166 13.1667 6.5L5.08333 14.5833C4.75 14.9167 4.31944 15.0833 3.83333 15.0833C3.34722 15.0833 2.91667 14.9167 2.58333 14.5833C2.25 14.25 2.08333 13.8194 2.08333 13.3333C2.08333 12.8472 2.25 12.4167 2.58333 12.0833L9.16667 5.5\" stroke=\"#667085\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        </svg>\n      </button>\n      {open && (\n        <div ref={popoverRef} className={styles.attachmentPopover} style={{ position: 'absolute', bottom: '40px', left: -200, zIndex: 20, minWidth: 220, background: '#fff', borderRadius: 8, boxShadow: '0 4px 24px rgba(16,24,40,0.18)', padding: 10 }}>\n          <label className={styles.attachmentLabel} style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', gap: 8, padding: '10px 6px' }}>\n            <input\n              type=\"file\"\n              style={{ display: 'none' }}\n              onChange={(e) => {\n                onFileChange(e);\n                setOpen(false);\n              }}\n              accept='.pdf, .doc, .docx, .txt'\n            />\n            <FileText size={16} color=\"#667085\" />\n            <span className=\"font-16\">Document</span>\n          </label>\n          <label className={styles.attachmentLabel} style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', gap: 8, padding: '10px 6px' }}>\n            <input\n              type=\"file\"\n              style={{ display: 'none' }}\n              onChange={(e) => {\n                onFileChange(e);\n                setOpen(false);\n              }}\n              accept='image/*'\n            />\n            <Image size={16} color=\"#667085\" />\n            <span className=\"font-16\">Photo </span>\n          </label>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatAttachmentPopover;\n","import {\n    FiletypeAac, FiletypeAi, FiletypeBmp, FiletypeCs, FiletypeCss, FiletypeCsv, FiletypeDoc, FiletypeDocx, FiletypeExe, FiletypeGif, FiletypeHeic, FiletypeHtml, FiletypeJava, FiletypeJpg, FiletypeJs, FiletypeJson, FiletypeJsx, FiletypeKey, FiletypeM4p, FiletypeMd, FiletypeMdx, FiletypeMov, FiletypeMp3, FiletypeMp4, FiletypeOtf, FiletypePdf, FiletypePhp, FiletypePng, FiletypePpt, FiletypePptx, FiletypePsd, FiletypePy, FiletypeRaw, FiletypeRb, FiletypeSass, FiletypeScss, FiletypeSh, FiletypeSql, FiletypeSvg, FiletypeTiff, FiletypeTsx, FiletypeTtf, FiletypeTxt, FiletypeWav, FiletypeWoff, FiletypeXls, FiletypeXlsx, FiletypeXml, FiletypeYml\n} from 'react-bootstrap-icons';\n\n\n// Map file extensions to their corresponding icon components and default colors\nconst extensionToIcon = {\n    aac: { icon: FiletypeAac, color: '#4CAF50' },\n    ai: { icon: FiletypeAi, color: '#FF9800' },\n    bmp: { icon: FiletypeBmp, color: '#00ADEF' },\n    cs: { icon: FiletypeCs, color: '#239120' },\n    css: { icon: FiletypeCss, color: '#1572B6' },\n    csv: { icon: FiletypeCsv, color: '#22A746' },\n    doc: { icon: FiletypeDoc, color: '#2368E1' },\n    docx: { icon: FiletypeDocx, color: '#2368E1' },\n    exe: { icon: FiletypeExe, color: '#8E8E8E' },\n    gif: { icon: FiletypeGif, color: '#F64A8A' },\n    heic: { icon: FiletypeHeic, color: '#FFAA00' },\n    html: { icon: FiletypeHtml, color: '#E34F26' },\n    java: { icon: FiletypeJava, color: '#007396' },\n    jpg: { icon: FiletypeJpg, color: '#FFAA00' },\n    jpeg: { icon: FiletypeJpg, color: '#FFAA00' },\n    js: { icon: FiletypeJs, color: '#F7DF1E' },\n    json: { icon: FiletypeJson, color: '#22A746' },\n    jsx: { icon: FiletypeJsx, color: '#61DAFB' },\n    key: { icon: FiletypeKey, color: '#FF9800' },\n    m4p: { icon: FiletypeM4p, color: '#4CAF50' },\n    md: { icon: FiletypeMd, color: '#8E8E8E' },\n    mdx: { icon: FiletypeMdx, color: '#8E8E8E' },\n    mov: { icon: FiletypeMov, color: '#9C27B0' },\n    mp3: { icon: FiletypeMp3, color: '#4CAF50' },\n    mp4: { icon: FiletypeMp4, color: '#9C27B0' },\n    otf: { icon: FiletypeOtf, color: '#795548' },\n    pdf: { icon: FiletypePdf, color: '#FF0000' },\n    php: { icon: FiletypePhp, color: '#777BB4' },\n    png: { icon: FiletypePng, color: '#00ADEF' },\n    ppt: { icon: FiletypePpt, color: '#FF9800' },\n    pptx: { icon: FiletypePptx, color: '#FF9800' },\n    psd: { icon: FiletypePsd, color: '#31A8FF' },\n    py: { icon: FiletypePy, color: '#3776AB' },\n    raw: { icon: FiletypeRaw, color: '#FFAA00' },\n    rb: { icon: FiletypeRb, color: '#CC342D' },\n    sass: { icon: FiletypeSass, color: '#CF649A' },\n    scss: { icon: FiletypeScss, color: '#CF649A' },\n    sh: { icon: FiletypeSh, color: '#8E8E8E' },\n    sql: { icon: FiletypeSql, color: '#336791' },\n    svg: { icon: FiletypeSvg, color: '#FF5722' },\n    tiff: { icon: FiletypeTiff, color: '#FFAA00' },\n    tsx: { icon: FiletypeTsx, color: '#3178C6' },\n    ttf: { icon: FiletypeTtf, color: '#795548' },\n    txt: { icon: FiletypeTxt, color: '#8E8E8E' },\n    wav: { icon: FiletypeWav, color: '#795548' },\n    woff: { icon: FiletypeWoff, color: '#795548' },\n    xls: { icon: FiletypeXls, color: '#22A746' },\n    xlsx: { icon: FiletypeXlsx, color: '#22A746' },\n    xml: { icon: FiletypeXml, color: '#E34F26' },\n    yml: { icon: FiletypeYml, color: '#8E8E8E' },\n    // Additional common extensions not in bootstrap icons\n    zip: { icon: FiletypeExe, color: '#FFD700' },\n    rar: { icon: FiletypeExe, color: '#F44336' },\n    tar: { icon: FiletypeExe, color: '#FFC107' },\n    pub: { icon: FiletypeDoc, color: '#4CAF50' },\n    swf: { icon: FiletypeExe, color: '#FFEB3B' },\n};\n\nexport const BootstrapFileIcons = ({ extension, color, size }) => {\n    const ext = extension?.toLowerCase();\n    const iconData = extensionToIcon[ext];\n    if (iconData) {\n        const Icon = iconData.icon;\n        const iconColor = color || iconData.color;\n        return <Icon color={iconColor} size={size} />;\n    }\n    // fallback generic file icon\n    return <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill={color || '#888'} xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.5L9.5 0H4zm8 1.5V6H9V1h3z\"/></svg>;\n};\n"],"names":["API_BASE_URL","process","fetchAPI","async","endpoint","options","arguments","length","undefined","method","headers","body","requestOptions","localStorage","getItem","JSON","stringify","redirect","url","URL","response","fetch","contentType","get","ok","includes","errorData","json","error","Error","detail","status","data","errorText","text","message","console","getBillingPersonalInfo","toString","getUpcomingPayment","updateBillingPersonalInfo","getPaymentMethodInfo","retryPayment","updatePaymentMethodInfo","getReginalAndLanguage","updateReginalAndLanguage","createProjectStatus","log","id","isNew","isChanged","value","updateProjectStatusById","deleteProjectStatusById","SettingsGeneralInformation","myHeaders","Headers","accessToken","append","updateGeneralInformation","photo","formData","FormData","Object","keys","forEach","key","croppedImageBlob","photoHintId","nanoid","result","SettingsBankInformation","updateBankInformation","generalData","ProjectStatusesList","getHolidaysList","location","parse","locationDetails","getLocation","state","err","updateProjectScheduleById","updateProjectReferenceById","createProjectNoteById","projectsToSalesUpdate","unique_id","projectsOrderDecline","projectsComplete","createInvoiceById","createAndSendInvoiceById","getProjectFilesById","deleteFileByKey","fileKey","file_name","updateCostBreakDownDescription","sendComposeEmail","action","sendSms","resendQuoteEmail","getManagement","ProjectCardApi","uniqueId","getListOfInvoice","page","limit","_filters$status","search","order","isShowUnpaid","filters","offset","searchParams","clientsFilter","_filters$client","client","map","join","statusFilter","_filters$status2","element","name","date","_filters$date$","_filters$date$$value","_filters$date$2","_filters$date$2$value","startDate","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","endDate","getInvoice","getInvoicePartialHistory","paymentIntentCreate","deleteInvoice","sendInvoiceEmail","resendInvoiceEmail","partialPaymentCreate","sendInvoiceToXeroApi","markInvoiceAsPaid","markInvoiceAsUnpaid","getLocationList","createLocation","updateLocation","deleteLocation","getDesktopUserList","userAssigned","locationId","userId","userUnassigned","dp","DP","expandRow","parseTimestamp","timestampStr","getTime","getTimezoneOffset","loadData","responses","hasWorkSubscription","events","resources","_data$custom_status","_data$custom_status2","_data$custom_status3","_data$custom_status4","_data$tasks$filter","_data$tasks","_data$tasks2","_data$tasks3","_data$client","color","custom_status","background","font","title","jobsStatus","jobs_count","jobs_done","projectEndDate","parseInt","booking_end","setHours","isJobOverdue","push","start","booking_start","end","cssClass","resource","backColor","borderColor","tag","number","reference","type","unfinishedTasks","tasks","filter","task","finished","totalTasks","childResource","minHeight","marginBottom","_task$assigned_to","from_date","to_date","statusIMG","assigned_to","unfinishedJobs","totalJobs","_data$jobs","_data$jobs$filter","_data$jobs2","_data$jobs3","_data$tasks4","_data$tasks5","jobs","job","index","_job$worker","_job$worker2","_job$worker3","_job$worker4","start_date","end_date","short_description","resizeDisabled","alias","worker","jobImg","has_photo","full_name","unfinished","total","expanded","is_invoice_created","paid","children","update","onResourceExpand","args","reInitializeData","initDaypilot","elementId","viewTaskDetails","reInitialize","holidays","window","Boolean","DayPilot","Scheduler","days","scale","separators","width","treeImage","rowMinHeight","cellWidth","eventEndSpec","durationBarVisible","eventArrangement","eventMoveHandling","eventResizingStartEndEnabled","timeRangeSelectedHandling","treeImageNoChildren","rowHeaderWidth","timeHeaders","groupBy","format","treeEnabled","progressiveRowRendering","treePreventParentUsage","scrollDelayEvents","infiniteScrollingEnabled","infiniteScrollingStepDays","onBeforeRowHeaderRender","row","holidaysList","holiday","toLocaleString","timeZone","toISOString","split","holidayMap","reduce","onBeforeTimeHeaderRender","header","toolTip","level","australiaSydneyDate","html","getDayOfWeek","onBeforeEventRender","areas","top","left","right","fontColor","horizontalAlignment","style","onEventClicked","taskId","e","div","className","projectDetails","jobDetails","onBeforeCellRender","cell","onEventResize","newStart","newEnd","updateTask","description","user","init","startDaypilot","_ref","projectId","projectCardData","viewShow","setViewShow","useState","updateDis","setUpdateDis","errors","setErrors","MAX_LENGTH","handleClose","mutation","useMutation","mutationFn","onSuccess","onError","prev","validateNote","trim","test","useEffect","_jsxs","_Fragment","_jsx","onClick","handleShow","Modal","show","centered","onHide","animation","size","Header","src","AddNoteModeIcon","alt","X","Body","Row","Col","htmlFor","placeholder","onChange","target","maxLength","rows","Footer","Button","variant","disabled","isPending","handleSubmit","validationError","mutate","onClose","onConfirm","isLoading","styles","cancelProjectContainer","height","viewBox","fill","xmlns","x","y","rx","opacity","stroke","strokeWidth","clipPath","d","strokeLinecap","strokeLinejoin","transform","cancelProjectTitle","border","cursor","padding","cancelProjectCloseIcon","cancelProjectDescription","cancelProjectDescriptionText","cancelProjectActions","cancelProjectButton","ProgressSpinner","marginLeft","position","_clientQuery$data","clientId","setPayload","showInstructions","setShowInstructions","outgoingEmailTemplateQuery","useQuery","queryKey","queryFn","getOutgoingEmail","clientQuery","getClientById","enabled","retry","toast","success","_outgoingEmailTemplat","_outgoingEmailTemplat2","outgoing_email","Link","to","clsx","Envelope","fontSize","fontWeight","lineHeight","SendDynamicEmailForm","setShow","contactPersons","contact_persons","isComposeEmail","FilePreview","_file$key","_file$key$split$pop","file","extension","pop","toLowerCase","isImage","isImageFile","borderRadius","overflow","flexShrink","objectFit","display","parentElement","innerHTML","alignItems","justifyContent","BootstrapFileIcons","_ref2","_filesQuery$data","_filesQuery$data2","_filesQuery$data3","files","setFiles","showUploadSection","setShowUploadSection","inputValue","setInputValue","uploadingFile","setUploadingFile","filesQuery","staleTime","cacheTime","uploadToS3","axios","put","onUploadProgress","progressEvent","progress","Math","round","loaded","prevFiles","f","assign","catch","getRootProps","getInputProps","useDropzone","maxFiles","multiple","accept","maxSize","onDrop","acceptedFiles","newFiles","preview","createObjectURL","uniqueNumber","now","fileNameParts","ext","newName","post","Authorization","refetch","fileUploadBySignedURL","deleteMutation","reset","FolderFileIcon","paddingLeft","marginTop","CloudUpload","paddingRight","minWidth","flex","textDecoration","textOverflow","whiteSpace","formatFileSize","removeFile","transition","onMouseEnter","currentTarget","onMouseLeave","variables","Trash","Skeleton","GoogleReview","defaultTemplateId","_outgoingEmailTemplat4","_outgoingEmailTemplat5","_emailTemplateQuery$d3","_signatureQuery$data2","create","isCreated","op","useRef","profileData","from","setFrom","setTo","cc","setCC","bcc","setBCC","subject","setSubject","setText","signature","setSignature","filteredEmails","setFilteredEmails","autoCompleteRef","autoCompleteRef2","autoCompleteRef3","showCC","setShowCC","showBCC","setShowBCC","isValidEmail","useCallback","email","validateEmailArray","emailArray","every","getInvalidEmails","cleanEmailArray","validateAndCleanAllEmails","hasErrors","invalidToEmails","invalidCcEmails","invalidBccEmails","emailTemplateId","setEmailTemplatedId","emailTemplateQuery","getEmailTemplates","signatureQuery","getSignatureTemplates","emailQuery","getEmail","_outgoingEmailTemplat3","outgoing_email_verified","event","_event$query","_contactPersons$map","query","emails","onFocus","current","onFocus2","onFocus3","_contactPersons$map2","validEmails","email_body","from_email","_signatureQuery$data","_signatureQuery$data$","find","template","email_signature","_emailQuery$data","_emailQuery$data2","others","_emailTemplateQuery$d","_emailTemplateQuery$d2","activeTemplateId","closeButton","modalHeader","headerTitle","sm","customLabel","Dropdown","label","dropdownSelect","filterInputAutoFocus","emailTemplate","loading","isFetching","templateInfo","toggle","InfoCircle","OverlayPanel","ref","autoCompleteBox","bag","AutoComplete","completeMethod","toInvalid","suggestions","onKeyUp","currentValue","Set","onBlur","box","active","IconField","InputIcon","InputText","inputBox","lable","zIndex","Editor","headerTemplate","onTextChange","htmlValue","panelClassName","errorCount","invalidEmails","InvoicesIcon","SendInvoiceEmailForm","project","CreateTask","OPTIONS","icon","FileText","FileEarmarkText","Bezier2","CardChecklist","PhoneVibrate","ListCheck","Check2Circle","FolderSymlink","setFilteredHistoryOptions","isOpen","setIsOpen","tempSelectedOptions","setTempSelectedOptions","toggleDropdown","Filter","handleSelectAll","option","opt","handleCheckboxChange","checked","readOnly","handleClearSelection","handleApply","formatDateRange","toLocaleDateString","DateRangeComponent","OrdersIcon","dateRange","setDateRange","isPickerVisible","setIsPickerVisible","selectDateRef","updateMutation","handleClickOutside","contains","document","addEventListener","removeEventListener","togglePicker","bottom","DateRangePicker","onDataApply","colorMapping","bg","_colorMapping$selecte","_colorMapping$selecte2","_colorMapping$selecte3","statusOptions","selectedOption","setSelectedOption","Menu","menuButton","MenuButton","gap","ChevronDown","_colorMapping$status$","_colorMapping$status$2","_colorMapping$status$3","MenuItem","textAlign","choosedStatus","phoneUtil","PhoneNumberUtil","getInstance","isPhoneValid","phone","isValidNumber","parseAndKeepRawInput","_smsTemplateQuery$dat","useNavigate","smsTemplateId","setSMSTemplatedId","setMessage","phoneNumber","setPhoneNumber","smsTemplateQuery","getSMSTemplates","smsQuery","getSMS","_smsQuery$data","has_twilio","smsUnavailableText","twilioStatus","twilioIcon","disconnectedBadge","cx","cy","r","smsTemplate","taskRead","PhoneInput","defaultCountry","containerClass","countrySelector","newText","slice","float","phone_number","setIsLoading","eventTitle","setEventTitle","eventDescription","setEventDescription","eventLocation","setEventLocation","meetLink","setMeetLink","setStartDate","setEndDate","guests","setGuests","CalendarIcon","Title","Form","onSubmit","preventDefault","validateForm","calendarContent","attendees","organizerEmail","formatDate","uid","dtStamp","formattedDescription","htmlDescription","platform","replace","first_name","last_name","line","part","charAt","toUpperCase","generateICalContent","icsFile","File","Group","Label","Control","Text","Calendar","dateFormat","locale","onSelect","click","onClear","setTimeout","onTodayButtonClick","showTime","showIcon","showButtonBar","todayButtonClassName","clearButtonClassName","Calendar3","appendTo","as","marginRight","socketRef","session","useAuth","navigate","user_id","desktop_user_id","isConnected","setIsConnected","setLoading","_session$organization","socket","io","transports","autoConnect","emit","org_id","organization","res","handleStartChat","participants","project_id","job_id","chat_group_id","x1","y1","x2","y2","gradientUnits","stopColor","CurrentJobAndExpenseLoading","Placeholder","xs","actionStatus","published","getStatusLabel","_cardData$calculator_3","_cardData$calculator_4","listen","useSocket","isDuplicating","setIsDuplicating","setIsFetching","cardData","setCardData","isEditingReference","setIsEditingReference","editedReference","setEditedReference","expenseJobsMapping","setExpenseJobsMapping","filteredHistory","setFilteredHistory","filteredHistoryOptions","showCostBreakdown","setShowCostBreakdown","visible","setVisible","createExpenseVisible","setCreateExpenseVisible","showCancelConfirmation","setShowCancelConfirmation","cs","parseFloat","cost_of_sale","le","labor_expense","oe","operating_expense","formattedRealCost","toFixed","referencemutation","prevData","formatTimestamp","timestamp","Intl","DateTimeFormat","hour","minute","hour12","weekday","updateReturnMutation","declinecOrderMutation","completeMutation","createInvoiceMutation","_cardData$history","histories","history","_cardData$expenses","_cardData$jobs","sortedMix","expenses","item","sort","a","b","created","pushState","EmailComponent","_email$body","_email$body$split","_email$recipients","_email$recipients2","emailData","showFullBody","setShowFullBody","isOverflowing","setIsOverflowing","emailBodyRef","_lines$find","_lines$find2","_text$split$","lines","startsWith","rawRecipients","recipients","parseEmailData","bodyLines","idx","visibleBody","bodyHeight","scrollHeight","recipient","maxHeight","overflowY","overflowX","dangerouslySetInnerHTML","__html","updateCostBreakDownMutation","enforceFocus","maxWidth","invoice_created","payment_status","CurrencyDollar","mutateAsync","PencilSquare","handleEditReference","Postcard","Tag","SelectStatus","Copy","handleCopy","_cardData$calculator_","calculator_descriptions","_cardData$calculator_2","allDescriptions","navigator","clipboard","writeText","_ref3","Table","responsive","_data$supplier","_data$worker","_data$supplier2","_data$worker2","_data$worker3","_data$supplier3","_data$supplier4","supplier","invoice_reference","OverlayTrigger","placement","overlay","Tooltip","ImageAvatar","is_business","formatAUD","JobStatus","action_status","colSpan","AddNote","NewTask","SendSMS","ComposeEmail","ProjectCardFilter","Array","_","_ref4","manager","links","FileEarmark","quote_pdf","FilePdf","Link45deg","invoice_pdf","ScheduleUpdate","ExpenseIcon","has_work_subscription","Briefcase","GoogleReviewEmail","FilesModel","SendToCalendar","StartChat","boxShadow","PlusCircle","budget","CancelProject","declinecOrder","can_be_declined","XCircle","fetchduplicateData","Files","can_be_return","Reply","InvoiceCreate","handleCompleteProject","can_be_completed","DataTable","calculations","showGridlines","Column","field","bodyClassName","headerClassName","rowIndex","rowData","subindex","_updateCostBreakDownM","setDescription","isEditing","setIsEditing","_document$getElementB","getElementById","focus","onInput","handleCostBreakdown","cost","profit_type_value","profit_type","unit_price","discount","sub_total","gst","PauseCircle","CreateJob","setRefetch","jobProjectId","projectReference","NewExpensesCreate","expenseProjectId","view","setView","setTaskId","fetchTasksRead","cancelRefetch","defaultValue","CALENDAR_ID","timeoutRef","trialHeight","useTrialHeight","setSearch","management","setManagement","viewProjectModel","setViewProjectModel","isReinitialize","setIsReinitialize","setStatusOptions","setProjectId","setProjectDetails","filterBy","setFilterBy","sortBy","setSortBy","statusBy","seStatusBy","setJobProjectId","viewJob","setViewJob","jobId","editMode","setEditMode","setHolidays","href","urlObj","params","URLSearchParams","fetchData","handleClick","HTMLSelectElement","closest","getAttribute","handleSearchResult","searchData","daypilotScript","createElement","handleError","handleLoad","getHolidays","appendChild","removeChild","handleViewTask","taskList","querySelector","newData","managementData","clearTimeout","_data$number","_data$number$toLowerC","_data$reference","_data$reference$toLow","_data$client$name$toL","applyFiltersAndSort","filteredData","localeCompare","_a$custom_status","_b$custom_status","_item$custom_status","_data$number2","_data$number2$toLower","_data$reference2","_data$reference2$toLo","_data$client2","_data$client2$name$to","handleFilterChange","handleSortChange","React","Toggle","SortDown","stopPropagation","backgroundColor","Item","eventKey","CalendarWeek","MultiSelect","optionLabel","maxSelectedLabels","itemTemplate","_colorMapping$item$co","_colorMapping$item$co2","_colorMapping$item$co3","borderLeft","showClear","Spinner","role","ViewTask","CreateTaskFeature","ProjectCardModel","ViewJob","bool","Management","Helmet","EventScheduler","draftSalesRequest","fetchSales","fetchSalesNotes","saleUniqueId","updatedNote","sales_note","markWon","ids","markLost","fetchContacts","fetchSaleslead","updatedLead","lead","fetchMultipleData","selectedUniqueIds","Promise","all","fetchMultipleLost","isAddingContact","onFileChange","open","setOpen","buttonRef","popoverRef","btn","clickedInsideTrigger","clickedInsidePopover","attachButton","v","attachmentPopover","attachmentLabel","Image","extensionToIcon","aac","FiletypeAac","ai","FiletypeAi","bmp","FiletypeBmp","FiletypeCs","css","FiletypeCss","csv","FiletypeCsv","doc","FiletypeDoc","docx","FiletypeDocx","exe","FiletypeExe","gif","FiletypeGif","heic","FiletypeHeic","FiletypeHtml","java","FiletypeJava","jpg","FiletypeJpg","jpeg","js","FiletypeJs","FiletypeJson","jsx","FiletypeJsx","FiletypeKey","m4p","FiletypeM4p","md","FiletypeMd","mdx","FiletypeMdx","mov","FiletypeMov","mp3","FiletypeMp3","mp4","FiletypeMp4","otf","FiletypeOtf","pdf","FiletypePdf","php","FiletypePhp","png","FiletypePng","ppt","FiletypePpt","pptx","FiletypePptx","psd","FiletypePsd","py","FiletypePy","raw","FiletypeRaw","rb","FiletypeRb","sass","FiletypeSass","scss","FiletypeScss","sh","FiletypeSh","sql","FiletypeSql","svg","FiletypeSvg","tiff","FiletypeTiff","tsx","FiletypeTsx","ttf","FiletypeTtf","txt","FiletypeTxt","wav","FiletypeWav","woff","FiletypeWoff","xls","FiletypeXls","xlsx","FiletypeXlsx","xml","FiletypeXml","yml","FiletypeYml","zip","rar","tar","pub","swf","iconData","Icon","iconColor"],"sourceRoot":""}