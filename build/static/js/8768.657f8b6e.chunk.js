"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[8768],{25963:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(65043),n=r(65173),l=r.n(n),i=["color","size","title","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},a.apply(null,arguments)}var o=(0,s.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,l=e.size,o=void 0===l?"1em":l,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,i);return s.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-box-seam",p].filter(Boolean).join(" ")},m),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"}))}));o.propTypes={color:l().string,size:l().oneOfType([l().string,l().number]),title:l().string,className:l().string};const c=o},28116:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ce});var s=r(65043),n=r(75329),l=r(38294),i=r(25963),a=r(70882),o=r(49367),c=r(73216),d=r(35475),u=r(28261),p=r(58387),m=r(72018),h=r(2028),v=r(56328),x=r(9642),f=r(64824),g=r(76104),y=r(37990),b=r(48417),j=r(14834),N=r(58027),_=r(27734),w=r(99868),S=r(70579);const A=e=>{if(!e)return"-";const t=new Date(1e3*+e);return new Intl.DateTimeFormat("en-AU",{timeZone:"Australia/Sydney",day:"numeric",month:"short",year:"numeric"}).format(t)},O=(0,s.forwardRef)(((e,t)=>{let{selected:r,setSelected:n,searchValue:l,refetch:i,filterType:a}=e;const{id:o}=(0,c.g)(),{trialHeight:d}=(0,b.$)(),u=(0,s.useRef)(null),[p,m]=(0,s.useState)([]),[h,v]=(0,s.useState)(1),[O,C]=(0,s.useState)({sortField:"date",sortOrder:-1}),[E,T]=(0,s.useState)({sortField:"date",sortOrder:-1}),[F,k]=(0,s.useState)(!0),[z,D]=(0,s.useState)(!1);(0,s.useEffect)((()=>{k(!0),v(1)}),[l,i,a]),(0,s.useEffect)((()=>{o&&(async()=>{D(!0);let e="";1===(null===E||void 0===E?void 0:E.sortOrder)?e=`${E.sortField}`:-1===(null===E||void 0===E?void 0:E.sortOrder)&&(e=`-${E.sortField}`);try{const t=[];"all"!==a&&"services"!==a||t.push((0,y.bX)(o,h,25,l,e).then((e=>({type:"service",data:(null===e||void 0===e?void 0:e.results)||[]})))),"all"!==a&&"expenses"!==a||t.push((0,y.jG)(1,o,h,25,e).then((e=>({type:"expense",data:e||[]}))));const r=await Promise.all(t);let s=[];r.forEach((e=>{if("service"===e.type){const t=e.data.map((e=>({...e,recordType:"service",date:e.date,amount:e.cost,description:e.notes,reference:e.odometer_km?`${e.odometer_km.toLocaleString()} km`:"-"})));s=[...s,...t]}else if("expense"===e.type){const t=e.data.map((e=>({...e,recordType:"expense",date:e.created,amount:e.total,description:e.invoice_reference,reference:e.number})));s=[...s,...t]}})),s.sort(((e,t)=>{const r=e.date||0,s=t.date||0;return 1===(null===E||void 0===E?void 0:E.sortOrder)?r-s:s-r})),1===h?m(s):s.length>0&&m((e=>{const t=new Set(e.map((e=>`${e.recordType}-${e.id}`))),r=s.filter((e=>!t.has(`${e.recordType}-${e.id}`)));return[...e,...r]})),C(E),k(s.length===25*("all"===a?2:1))}catch(t){console.error("Error fetching combined data:",t)}finally{D(!1)}})()}),[o,h,l,E,i,a]),(0,s.useEffect)((()=>{if((null===p||void 0===p?void 0:p.length)>0&&F){u.current=new IntersectionObserver((e=>{e[0].isIntersecting&&!z&&v((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&u.current.observe(e)}return()=>{u.current&&u.current.disconnect()}}),[p,F,z]);return(0,S.jsxs)(f.b,{ref:t,value:p,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:`calc(100vh - 175px - ${d}px)`,className:"border",selection:r,onSelectionChange:e=>n(e.value),loading:z,loadingIcon:_.A,emptyMessage:(0,S.jsx)(w.A,{isDataExist:!(null===p||void 0===p||!p.length)}),sortField:null===O||void 0===O?void 0:O.sortField,sortOrder:null===O||void 0===O?void 0:O.sortOrder,onSort:e=>{const{sortField:t,sortOrder:r}=e;v(1),k(!0),T({sortField:t,sortOrder:r})},children:[(0,S.jsx)(x.V,{selectionMode:"multiple",headerClassName:"ps-4",bodyClassName:"show-on-hover border-right-0 ps-4",headerStyle:{width:"3rem",textAlign:"center",border:"none"},frozen:!0}),(0,S.jsx)(x.V,{field:"id",header:"ID",body:e=>{var t;return(0,S.jsxs)("div",{className:"d-flex flex-column",style:{lineHeight:"1.385"},children:[(0,S.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,S.jsx)("span",{style:{fontWeight:"500"},children:"service"===e.recordType?e.id:(null===(t=e.number)||void 0===t?void 0:t.split("-")[1])||e.number}),(0,S.jsx)(g.v,{value:"service"===e.recordType?"Service":"Expense",style:{height:"22px",minWidth:"60px",borderRadius:"16px",border:"service"===e.recordType?"1px solid #1AB2FF":"1px solid #f96a94",background:"service"===e.recordType?"#EBF8FF":"linear-gradient(135deg, rgba(247, 79, 172, 0.1) 0%, rgba(252, 178, 79, 0.1) 100%), #fff",color:"service"===e.recordType?"#1AB2FF":"#f96a94",fontSize:"12px",fontWeight:500}})]}),(0,S.jsx)("span",{className:"font-12",style:{color:"#98A2B3"},children:e.date?A(e.date):"-"})]})},frozen:!0,sortable:!0,style:{minWidth:"180px",width:"180px",maxWidth:"180px"},headerClassName:"shadowRight",bodyClassName:"shadowRight"}),(0,S.jsx)(x.V,{field:"supplier.name",header:"Supplier / Service",body:e=>{var t,r,s;return"service"===e.recordType?(0,S.jsx)("span",{style:{color:"#667085"},children:"Service Record"}):(0,S.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,S.jsx)(N.h,{has_photo:null===e||void 0===e||null===(t=e.supplier)||void 0===t?void 0:t.has_photo,photo:null===e||void 0===e||null===(r=e.supplier)||void 0===r?void 0:r.photo,is_business:!0,size:24}),(0,S.jsx)("span",{style:{fontSize:"14px",color:"#344054"},children:(null===(s=e.supplier)||void 0===s?void 0:s.name)||"-"})]})},style:{minWidth:"200px"}}),(0,S.jsx)(x.V,{field:"reference",header:"Reference",body:e=>(0,S.jsx)("span",{style:{color:"#667085",fontSize:"14px"},children:e.reference||"-"}),style:{minWidth:"150px"}}),(0,S.jsx)(x.V,{field:"date",header:"Date",body:e=>(0,S.jsx)("span",{children:e.date?A(e.date):"-"}),sortable:!0,style:{minWidth:"120px"}}),(0,S.jsx)(x.V,{field:"amount",header:"Amount",body:e=>(0,S.jsxs)("span",{className:"text-end d-block",style:{fontWeight:"500"},children:["$",(0,j.m)(e.amount||0)]}),sortable:!0,style:{minWidth:"120px"},bodyClassName:"text-end"}),(0,S.jsx)(x.V,{field:"description",header:"Description / Notes",body:e=>{if(!e.description)return"-";const t=e.description.length>50?`${e.description.substring(0,50)}...`:e.description;return(0,S.jsx)("span",{title:e.description,style:{fontSize:"13px",color:"#667085"},children:t})},style:{minWidth:"250px"}}),(0,S.jsx)(x.V,{header:"Status / Next Service",body:e=>"service"===e.recordType?e.upcoming_date?(0,S.jsxs)("span",{style:{color:"#667085",fontSize:"14px"},children:["Next: ",A(e.upcoming_date)]}):(0,S.jsx)("span",{children:"-"}):e.paid?(0,S.jsx)(g.v,{value:"Paid",style:{height:"22px",borderRadius:"16px",border:"1px solid #ABEFC6",background:"#ECFDF3",color:"#067647",fontSize:"12px",fontWeight:500}}):(0,S.jsx)(g.v,{value:"Not Paid",style:{height:"22px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#B42318",fontSize:"12px",fontWeight:500}}),style:{minWidth:"180px"}})]})}));O.displayName="VehicleHistoryTable";const C=O,E="vehicle-history_gobackBtn__nNtza",T="vehicle-history_filterBox__1xSIp",F="vehicle-history_active__wtgWj",k="vehicle-history_selectedCount__7O+Y6",z="vehicle-history_topBarText__wLV-e",D="vehicle-history_subMenuLink__u8hv0",I="vehicle-history_activeTab__vGnfz",P="vehicle-history_newButton__albdb",B="vehicle-history_outlineButton__1IBnH";var V=r(62284),R=r(14282),M=r(93202),$=r(56741),W=r(47097),q=r(93740),Y=r(20288);const G="create-new-service_circledesignstyle__MM18I",L="create-new-service_out__BsvvZ";var H=r(61072),U=r(78602),Z=r(9634),K=r(24858),Q=r(18403),X=r(670),J=r(28676),ee=r(74532),te=r(79255),re=r(27932),se=r(80899),ne=r(61046),le=r(27472);const ie=se.Ik({odometer_km:se.ai().required("Odometer reading is required").min(0,"Odometer cannot be negative"),date:se.p6().required("Date is required").nullable(),upcoming_date:se.p6().required("Upcoming date is required").min(se.KR("date"),"Upcoming date must be after service date"),notes:se.Yj().max(500,"Notes must be at most 500 characters")}),ae=(0,s.forwardRef)(((e,t)=>{var r;let{onSubmit:n,defaultValues:l,setIsDisabled:i,setExpenseService:a,vehicleId:o}=e;const c=(null===(r=(0,u.I)({queryKey:["getVehicle",o],queryFn:()=>(0,y.Dh)(o),enabled:!!o,staleTime:0}).data)||void 0===r?void 0:r.odometer_km)||0,{control:d,register:m,handleSubmit:h,watch:v,formState:{errors:x}}=(0,K.mN)({resolver:(0,Q.t)(ie),defaultValues:{odometer_km:0,cost:0,...l}}),f=v("odometer_km"),g=v("date"),b=v("upcoming_date");return(0,s.useEffect)((()=>{i(!(f&&g&&b)),a({odometer_km:f,date:g,upcoming_date:b,notes:v("notes")||""})}),[f,g,b,i]),(0,S.jsxs)("form",{ref:t,onSubmit:h(n),children:[(0,S.jsx)(H.A,{children:(0,S.jsx)(U.A,{sm:12,children:(0,S.jsx)("h2",{className:ne.A.sectionTitle,children:"Service Information"})})}),(0,S.jsxs)(H.A,{className:(0,p.A)(ne.A.bgGreay),children:[(0,S.jsx)(U.A,{sm:12,children:(0,S.jsxs)("div",{className:"d-flex flex-column mb-4",children:[(0,S.jsxs)("label",{className:(0,p.A)(ne.A.lable),children:["Odometer (Minimum ",c," km) ",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsxs)("div",{className:ne.A.inputGroup,children:[(0,S.jsx)(K.xI,{name:"odometer_km",control:d,render:e=>{let{field:t}=e;return(0,S.jsx)(te.Y,{value:t.value,onValueChange:e=>t.onChange(e.value),className:(0,p.A)(ne.A.inputText,{[ne.A.error]:x.odometer_km},"p-0"),placeholder:"Enter odometer reading",useGrouping:!1,min:c+1||0},c)}}),(0,S.jsx)("span",{className:ne.A.unitText,children:"km"})]}),x.odometer_km&&(0,S.jsx)("p",{className:"error-message",children:x.odometer_km.message})]})}),(0,S.jsx)(U.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsxs)("label",{className:(0,p.A)(ne.A.lable),children:["Date ",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsx)(K.xI,{name:"date",control:d,render:e=>{let{field:t}=e;return(0,S.jsx)(X.V,{...t,value:t.value?new Date(t.value):null,onChange:e=>t.onChange(e.value),showButtonBar:!0,placeholder:"DD/MM/YYYY",dateFormat:"dd/mm/yy",showIcon:!0,style:{height:"46px"},icon:(0,S.jsx)(Z.A,{color:"#667085",size:20}),className:(0,p.A)(ne.A.inputText,{[ne.A.error]:x.date},"p-0 outline-none")})}}),x.date&&(0,S.jsx)("p",{className:"error-message",children:x.date.message})]})}),(0,S.jsx)(U.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsxs)("label",{className:(0,p.A)(ne.A.lable),children:["Upcoming Date ",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsx)(K.xI,{name:"upcoming_date",control:d,render:e=>{let{field:t}=e;return(0,S.jsx)(X.V,{...t,value:t.value?new Date(t.value):null,onChange:e=>t.onChange(e.value),showButtonBar:!0,placeholder:"DD/MM/YYYY",dateFormat:"dd/mm/yy",showIcon:!0,style:{height:"46px"},icon:(0,S.jsx)(Z.A,{color:"#667085",size:20}),className:(0,p.A)(ne.A.inputText,{[ne.A.error]:x.upcoming_date},"p-0 outline-none")})}}),x.upcoming_date&&(0,S.jsx)("p",{className:"error-message",children:x.upcoming_date.message})]})}),(0,S.jsx)(U.A,{sm:12,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsx)("label",{className:(0,p.A)(ne.A.lable),children:"Notes"}),(0,S.jsxs)(J.C,{children:[(0,S.jsx)(ee.m,{children:x.notes&&(0,S.jsx)("img",{src:le.A,className:"mb-3",alt:"error"})}),(0,S.jsx)(re.Z,{...m("notes"),className:(0,p.A)(ne.A.inputText,{[ne.A.error]:x.notes}),placeholder:"Enter service notes",rows:4,autoResize:!0})]}),x.notes&&(0,S.jsx)("p",{className:"error-message",children:x.notes.message})]})})]})]})})),oe=e=>{let{visible:t,setVisible:r,setRefetch:n,vehicleId:l=1}=e;const i=(0,s.useRef)(null),{id:a}=(0,c.g)(),o=(0,c.Zp)(),[d]=(0,s.useState)({date:new Date}),[u,p]=(0,s.useState)(!0),[m,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),j=(0,W.n)({mutationFn:e=>{const t={...e,date:e.date?new Date(e.date).toISOString().split("T")[0]:null,upcoming_date:e.upcoming_date?new Date(e.upcoming_date).toISOString().split("T")[0]:null};return(0,y.QL)(l,t)},onSuccess:e=>{console.log("Service created successfully:",e),v.oR.success("Service created successfully"),r(!1),n&&n((e=>!e)),o("/assets?type=vehicles")},onError:e=>{var t;console.error("Error creating service:",e);const r=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to create service. Please try again.";v.oR.error(r)}});function N(e){if(!e)return"";return`${(e=new Date(e)).getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}const _=async e=>{e.date=N(e.date),e.upcoming_date=N(e.upcoming_date),j.mutate(e)},w=()=>{i.current&&i.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Y.B,{visible:t,position:"right",onHide:()=>r(!1),modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{let{closeIconRef:t,hide:s}=e;return(0,S.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,S.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"16px 24px"},children:[(0,S.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,S.jsx)("div",{className:G,children:(0,S.jsx)("div",{className:L,children:(0,S.jsx)(M.A,{size:24,color:"#17B26A"})})}),(0,S.jsx)("span",{style:{color:"#344054",fontSize:"20px",fontWeight:600},children:"Add New Service"})]}),(0,S.jsx)("span",{children:(0,S.jsx)(R.A,{type:"button",className:"text-button",ref:t,onClick:e=>s(e),children:(0,S.jsx)($.A,{size:24,color:"#667085"})})})]}),(0,S.jsx)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:(0,S.jsx)(ae,{ref:i,onSubmit:_,defaultValues:d,setIsDisabled:p,setExpenseService:b,vehicleId:a})}),(0,S.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-between gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,S.jsx)(R.A,{type:"button",onClick:e=>{e.stopPropagation(),r(!1)},className:"outline-button",children:"Cancel"}),(0,S.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,S.jsx)(R.A,{type:"button",disabled:u,className:"outline-button",onClick:()=>{h(!0),f({type:1,id:+a})},children:"Create Expense and Save"}),(0,S.jsx)(R.A,{type:"button",disabled:j.isPending||u,onClick:w,className:"solid-button",style:{minWidth:"75px"},children:j.isPending?(0,S.jsx)(q.p,{style:{width:"20px",height:"20px"}}):"Save"})]})]})]})}}),m&&x.id&&x.type&&(0,S.jsx)(V.A,{visible:m,setVisible:h,createNewService:!0,createServiceFromExpense:async e=>{g&&(g.expense=e,await j.mutateAsync(g))},assetForExpense:x,setRefetch:n})]})},ce=()=>{var e,t;const{id:r}=(0,c.g)(),x=(0,c.Zp)(),[f]=(0,d.ok)(),g=(0,s.useRef)(null),[b,j]=(0,s.useState)(null),[N,_,w]=(0,h.d7)("",400),[A,O]=(0,s.useState)(!1),[R,M]=(0,s.useState)(!1),[$,W]=(0,s.useState)(!1),[q,Y]=(0,s.useState)("all");(0,s.useEffect)((()=>{const e=f.get("filterType");e&&["all","services","expenses"].includes(e)&&Y(e)}),[f]);const G=(0,u.I)({queryKey:["vehicle",r],queryFn:()=>(0,y.Dh)(r),enabled:!!r,retry:1,cacheTime:0});return"Not found"===(null===G||void 0===G||null===(e=G.error)||void 0===e?void 0:e.message)&&(v.oR.error("Vehicle not found"),x("/assets?type=vehicles")),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.mg,{children:(0,S.jsxs)("title",{children:["History - ",(null===G||void 0===G||null===(t=G.data)||void 0===t?void 0:t.registration_number)||"Vehicle"]})}),(0,S.jsx)("div",{className:"vehicle-history-page",children:(0,S.jsxs)("div",{className:"vehicle-history",style:{width:"100%"},children:[(0,S.jsxs)("div",{className:`topbar ${null!==b&&void 0!==b&&b.length?F:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,S.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==b&&void 0!==b&&b.length?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("h6",{className:k,children:["Selected: ",null===b||void 0===b?void 0:b.length]}),(0,S.jsx)("div",{className:"filtered-box",children:(0,S.jsx)("button",{className:`${T}`,onClick:()=>{return e=!0,void(g.current?g.current.exportCSV({selectionOnly:e}):console.error("DataTable ref is null"));var e},children:(0,S.jsx)(n.A,{})})})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(d.N_,{to:"/assets?type=vehicles",className:`${E}`,children:[(0,S.jsx)(l.A,{color:"#106b99",size:20})," Go Back"]}),(0,S.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,S.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,S.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,S.jsx)("input",{type:"text",placeholder:"Search",value:N,onChange:e=>w(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,S.jsxs)("div",{className:"featureName d-flex align-items-center gap-3",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,S.jsx)(d.N_,{to:`/assets/vehicles/${r}/history`,className:(0,p.A)("d-flex align-items-center px-2 py-1",D,{[I]:"all"===q}),onClick:()=>Y("all"),children:(0,S.jsx)("span",{className:z,children:"All"})}),(0,S.jsxs)(d.N_,{to:`/assets/vehicles/${r}/history`,className:(0,p.A)("d-flex align-items-center px-2 py-1",D,{[I]:"services"===q}),onClick:()=>Y("services"),children:[(0,S.jsx)(i.A,{color:"#1AB2FF",size:16,className:"me-2"}),(0,S.jsx)("span",{className:z,children:"Services"})]}),(0,S.jsxs)(d.N_,{to:`/assets/vehicles/${r}/history`,className:(0,p.A)("d-flex align-items-center px-2 py-1",D,{[I]:"expenses"===q}),onClick:()=>Y("expenses"),children:[(0,S.jsx)(a.A,{color:"#F79009",size:16,className:"me-2"}),(0,S.jsx)("span",{className:z,children:"Expenses"})]})]}),(0,S.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,S.jsx)(m.$,{onClick:()=>M(!0),className:`${P} ${B}`,children:"New Expense"}),(0,S.jsx)(m.$,{onClick:()=>O(!0),className:`${P}`,children:"New Service"})]})]}),(0,S.jsx)(C,{ref:g,selected:b,setSelected:j,searchValue:_,refetch:$,filterType:q})]})}),(0,S.jsx)(oe,{visible:A,setVisible:O,setRefetch:W,vehicleId:r}),R&&(0,S.jsx)(V.A,{visible:R,setVisible:M,setRefetch:W,assetForExpense:{id:+r,type:1}})]})}},61046:(e,t,r)=>{r.d(t,{A:()=>s});const s={sectionTitle:"vehicle-form_sectionTitle__oCFoK",bgGreay:"vehicle-form_bgGreay__ScM6U",lable:"vehicle-form_lable__61kdI",inputText:"vehicle-form_inputText__4fVSj",error:"vehicle-form_error__aD6HI",headingInputs:"vehicle-form_headingInputs__kPF2t",dropdownSelect:"vehicle-form_dropdownSelect__RSqX8",inputGroup:"vehicle-form_inputGroup__KlaAw","p-inputnumber":"vehicle-form_p-inputnumber__gBeQY","p-inputtext":"vehicle-form_p-inputtext__GQdsO",unitText:"vehicle-form_unitText__wsry3",expensesCreateNew:"vehicle-form_expensesCreateNew__CWBMR"}},70882:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(65043),n=r(65173),l=r.n(n),i=["color","size","title","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},a.apply(null,arguments)}var o=(0,s.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,l=e.size,o=void 0===l?"1em":l,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,i);return s.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-cash",p].filter(Boolean).join(" ")},m),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4"}),s.createElement("path",{d:"M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2z"}))}));o.propTypes={color:l().string,size:l().oneOfType([l().string,l().number]),title:l().string,className:l().string};const c=o},76104:(e,t,r)=>{r.d(t,{v:()=>h});var s=r(65043),n=r(84052),l=r(41828),i=r(2028),a=r(4504);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function d(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={value:"p-tag-value",icon:"p-tag-icon",root:function(e){var t=e.props;return(0,a.xW)("p-tag p-component",d(d({},"p-tag-".concat(t.severity),null!==t.severity),"p-tag-rounded",t.rounded))}},p=l.x.extend({defaultProps:{__TYPE:"Tag",value:null,severity:null,rounded:!1,icon:null,style:null,className:null,children:void 0},css:{classes:u,styles:"\n@layer primereact {\n    .p-tag {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-tag-icon,\n    .p-tag-value,\n    .p-tag-icon.pi {\n        line-height: 1.5;\n    }\n    \n    .p-tag.p-tag-rounded {\n        border-radius: 10rem;\n    }\n}\n"}});function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}var h=s.forwardRef((function(e,t){var r=(0,i.qV)(),o=s.useContext(n.UM),c=p.getProps(e,o),u=p.setMetaData({props:c}),h=u.ptm,v=u.cx,x=u.isUnstyled;(0,l.j)(p.css.styles,x,{name:"tag"});var f=s.useRef(null),g=r({className:v("icon")},h("icon")),y=a.Hj.getJSXIcon(c.icon,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},g),{props:c});s.useImperativeHandle(t,(function(){return{props:c,getElement:function(){return f.current}}}));var b=r({ref:f,className:(0,a.xW)(c.className,v("root")),style:c.style},p.getOtherProps(c),h("root")),j=r({className:v("value")},h("value"));return s.createElement("span",b,y,s.createElement("span",j,c.value),s.createElement("span",null,c.children))}));h.displayName="Tag"},77918:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(65043),n=r(65173),l=r.n(n),i=["color","size","title","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},a.apply(null,arguments)}var o=(0,s.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,l=e.size,o=void 0===l?"1em":l,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,i);return s.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-info-circle",p].filter(Boolean).join(" ")},m),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),s.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))}));o.propTypes={color:l().string,size:l().oneOfType([l().string,l().number]),title:l().string,className:l().string};const c=o}}]);
//# sourceMappingURL=8768.657f8b6e.chunk.js.map