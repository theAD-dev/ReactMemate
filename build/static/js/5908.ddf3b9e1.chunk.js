"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5908],{31342:(e,s,t)=>{t.d(s,{f:()=>r});const r=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:r="GET",headers:l={},body:a}=s,i=localStorage.getItem("access_token"),n=a instanceof FormData,o={"Content-Type":n?"multipart/form-data":"application/json",...l};t&&(o.Authorization=`Bearer ${i}`);const c={method:r,headers:o,body:n?a:JSON.stringify(a),redirect:"follow"};try{const s=new URL(`${e}`),t=await fetch(s,c);if(!t.ok){if(401===t.status&&(window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace("/login")),404===t.status)throw new Error("Not found");throw new Error(`HTTP error! Status: ${t.status}`)}const r=t.headers.get("Content-Type");if(r&&r.includes("application/json"))return await t.json();return{message:"Non-JSON response",body:await t.text()}}catch(d){throw console.error("Fetch API error:",d),d}}},24370:(e,s,t)=>{t.d(s,{KI:()=>h,MA:()=>i,V0:()=>c,_S:()=>d,gy:()=>u,mr:()=>m,mt:()=>o,rY:()=>a,sf:()=>n,vm:()=>p});var r=t(31342);const l="https://app.memate.com.au/api/v1",a=async()=>{const e=new URL(`${l}/references/privileges/`);return(0,r.f)(e.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${l}/desktop-users/`);return(0,r.f)(e.toString(),{method:"GET"})},n=async e=>{const s={method:"PUT",body:e},t=new URL(`${l}/settings/subscriptions/business/`);return(0,r.f)(t.toString(),s)},o=async e=>{const s=new URL(`${l}${`/desktop-users/update/${e}/`}`);return(0,r.f)(s.toString(),{method:"GET"})},c=async e=>{const s=new URL(`${l}${`/desktop-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!1}})},d=async e=>{const s=new URL(`${l}${`/desktop-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!0}})},u=async()=>{const e=new URL(`${l}/team/mobile-users/`);return(0,r.f)(e.toString(),{method:"GET"})},m=async e=>{const s={method:"PUT",body:e},t=new URL(`${l}/settings/subscriptions/work/`);return(0,r.f)(t.toString(),s)},p=async e=>{const s=new URL(`${l}${`/mobile-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!1}})},h=async e=>{const s=new URL(`${l}${`/mobile-users/active/${e}/`}`);return(0,r.f)(s.toString(),{method:"PUT",body:{is_active:!0}})}},75908:(e,s,t)=>{t.r(s),t.d(s,{default:()=>W});var r=t(65043),l=t(27417),a=t(50565),i=t(96141),n=t(49367),o=t(35475),c=t(41451),d=t(99367),u=t(93747),m=t(47097),p=t(58387),h=t(72018),x=t(9642),g=t(64824),v=t(93740),f=t(56328),j=t(61072),y=t(78602),b=t(13846),N=t(73898),_=t(93202),w=t(95192),A=t(22927),S=t(2210),P=t(51038),T=t(33361),B=t(24858),C=t(18403),R=t(63712),$=t(55797),O=t(8129),U=t(28676),k=t(74532),I=t(72052),E=t(80899),F=t(63882),z=t(84576),H=t(70579);const M=E.Ik({firstName:E.Yj().required("First Name is required"),lastName:E.Yj().required("Last Name is required"),email:E.Yj().email("Invalid email address").required("Email is required"),hourly_rate:E.Yj().required("Hourly rate is required"),payment_cycle:E.Yj().required("Payment cycle is required")}).required(),L=r.memo((e=>{var s,t,l,a,i,n;let{visible:o,setVisible:c,id:d=null,refetch:u}=e;const[m,x]=(0,r.useState)(!1),[g,E]=(0,r.useState)(null),[L,q]=(0,r.useState)(!1),{control:G,register:D,reset:V,handleSubmit:W,setValue:Y,formState:{errors:K}}=(0,B.mN)({resolver:(0,C.t)(M)}),J=()=>{c(!1),E(null),V({firstName:"",lastName:"",email:"",group:"",payment_cycle:"7",hourly_rate:""})},Z=async e=>{const s=new FormData;if(s.append("first_name",e.firstName),s.append("last_name",e.lastName),s.append("email",e.email),s.append("payment_cycle",e.payment_cycle),s.append("hourly_rate",e.hourly_rate),null!==g&&void 0!==g&&g.croppedImageBlob){const e=(0,R.Ak)(6);s.append("photo",g.croppedImageBlob,`${e}.jpg`)}let t="POST",r="https://app.memate.com.au/api/v1/settings/mobile-users/create/";d&&(t="PUT",r=`https://app.memate.com.au/api/v1/mobile-users/update/${d}/`);const l=localStorage.getItem("access_token");try{q(!0);const e=await fetch(r,{method:t,headers:{Authorization:`Bearer ${l}`},body:s});return q(!1),e.ok?(J(),f.oR.success("Mobile user created successfully!"),u(),"success"):(await e.json(),f.oR.error("Failed to create the user. Please try again."),"error")}catch(a){q(!1),console.error("Error creating user:",a),f.oR.error("Failed to create the user. Please try again.")}finally{q(!1)}},Q=(0,H.jsx)("div",{className:`${z.A.modalHeader}`,children:(0,H.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,H.jsx)("div",{className:z.A.circledesignstyle,children:(0,H.jsx)("div",{className:z.A.out,children:d?(0,H.jsx)(N.A,{size:24,color:"#17B26A",className:"mb-0"}):(0,H.jsx)(_.A,{size:24,color:"#17B26A",className:"mb-0"})})}),(0,H.jsx)("span",{className:`white-space-nowrap ${z.A.headerTitle}`,children:"Invite New Mobile User"})]})}),X=(0,H.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,H.jsx)("span",{}),(0,H.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,H.jsx)(h.$,{className:"outline-button",onClick:J,children:"Cancel"}),(0,H.jsxs)(h.$,{type:"submit",disabled:L,onClick:W(Z),className:"solid-button",children:[d?"Update":"Send"," Invite",L&&(0,H.jsx)(v.p,{style:{width:"20px",height:"20px"}})]})]})]});return(0,H.jsx)($.l,{visible:o,modal:!0,header:Q,footer:X,className:`${z.A.modal} custom-modal`,onHide:J,children:(0,H.jsx)("div",{className:"d-flex flex-column",children:(0,H.jsx)("form",{onSubmit:W(Z),children:(0,H.jsxs)(j.A,{children:[(0,H.jsxs)(y.A,{sm:12,children:[(0,H.jsxs)("div",{className:(0,p.A)(z.A.fileUploadBox,"cursor-pointer"),onClick:()=>x(!0),children:[(0,H.jsx)("div",{className:(0,p.A)(z.A.uploadedImgBox,"rounded-circle"),style:{background:"linear-gradient(180deg, #F9FAFB 0%, #EDF0F3 100%)"},children:g?(0,H.jsx)("img",{src:(null===g||void 0===g?void 0:g.croppedImageBase64)||g,alt:"profile-img"}):(0,H.jsx)(w.A,{size:20,color:"#667085"})}),(0,H.jsx)("p",{className:(0,p.A)("mb-0",z.A.uploadedText1),children:(0,H.jsx)("span",{className:(0,p.A)("mb-0",z.A.uploadedText2),children:"Click to upload"})}),(0,H.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,H.jsx)(F.A,{show:m,setShow:x,setPhoto:E,shape:"round"})]}),(0,H.jsxs)(j.A,{className:"mb-3 pe-0",children:[(0,H.jsx)(y.A,{className:"pe-0",children:(0,H.jsx)(b.A,{className:(0,p.A)(z.A.leftBoxParent,z.A.active),children:(0,H.jsxs)(b.A.Body,{className:"d-flex align-items-center gap-3 py-2",children:[(0,H.jsx)("div",{className:z.A.leftbox,children:(0,H.jsx)(A.A,{color:"#1AB2FF",size:24})}),(0,H.jsx)("span",{className:z.A.leftboxText,children:"Contractor"})]})})}),(0,H.jsx)(y.A,{className:"pe-0 ps-4",children:(0,H.jsx)(b.A,{className:(0,p.A)(z.A.leftBoxParent),children:(0,H.jsxs)(b.A.Body,{className:"d-flex align-items-center gap-3 py-2",children:[(0,H.jsx)("div",{className:z.A.leftbox,children:(0,H.jsx)(S.A,{color:"#667085",size:24})}),(0,H.jsx)("span",{className:z.A.leftboxText,children:"Employee"})]})})})]}),(0,H.jsx)(y.A,{sm:6,children:(0,H.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,H.jsx)("label",{className:(0,p.A)(z.A.label),children:"First Name"}),(0,H.jsx)(I.S,{...D("firstName"),className:(0,p.A)(z.A.inputText,"outline-none",{[z.A.error]:null===K||void 0===K?void 0:K.firstName}),placeholder:"Enter first name"}),(null===K||void 0===K?void 0:K.firstName)&&(0,H.jsx)("p",{className:"error-message",children:null===K||void 0===K||null===(s=K.firstName)||void 0===s?void 0:s.message})]})}),(0,H.jsx)(y.A,{sm:6,children:(0,H.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,H.jsx)("label",{className:(0,p.A)(z.A.label),children:"Last Name"}),(0,H.jsx)(I.S,{...D("lastName"),className:(0,p.A)(z.A.inputText,"outline-none",{[z.A.error]:null===K||void 0===K?void 0:K.lastName}),placeholder:"Enter last name"}),(null===K||void 0===K?void 0:K.lastName)&&(0,H.jsx)("p",{className:"error-message",children:null===K||void 0===K||null===(t=K.lastName)||void 0===t?void 0:t.message})]})}),(0,H.jsx)(y.A,{sm:6,children:(0,H.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,H.jsx)("label",{className:(0,p.A)(z.A.label),children:"Hourly Rate"}),(0,H.jsxs)(U.C,{iconPosition:"left",children:[(0,H.jsx)(k.m,{children:(0,H.jsx)("span",{style:{position:"relative",top:"-4px"},children:"$"})}),(0,H.jsx)(I.S,{...D("hourly_rate"),keyfilter:"num",onBlur:e=>{var s;return Y("hourly_rate",parseFloat((null===e||void 0===e||null===(s=e.target)||void 0===s?void 0:s.value)||0).toFixed(2))},style:{paddingLeft:"28px",paddingRight:"40px"},className:(0,p.A)(z.A.inputText,"outline-none",{[z.A.error]:null===K||void 0===K?void 0:K.hourly_rate}),placeholder:"20"}),(0,H.jsx)(k.m,{children:(0,H.jsx)(P.A,{style:{position:"relative",top:"-4px",right:"30px"},color:"#98A2B3",size:16})})]}),(null===K||void 0===K?void 0:K.hourly_rate)&&(0,H.jsx)("p",{className:"error-message",children:null===K||void 0===K||null===(l=K.hourly_rate)||void 0===l?void 0:l.message})]})}),(0,H.jsx)(y.A,{sm:6,children:(0,H.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,H.jsx)("label",{className:(0,p.A)(z.A.label),children:"Payment Cycle"}),(0,H.jsx)(B.xI,{name:"payment_cycle",control:G,defaultValue:"",render:e=>{let{field:s}=e;return(0,H.jsx)(O.m,{...s,options:[{value:"7",label:"WEEK"},{value:"14",label:"TWO_WEEKS",disabled:!0},{value:"28",label:"FOUR_WEEKS",disabled:!0},{value:"1",label:"MONTH",disabled:!0}],className:(0,p.A)(z.A.dropdownSelect,"dropdown-height-fixed","outline-none"),placeholder:"Select payment cycle",value:s.value,style:{height:"46px"},onChange:e=>s.onChange(e.value)})}}),(null===K||void 0===K?void 0:K.payment_cycle)&&(0,H.jsx)("p",{className:"error-message",children:null===K||void 0===K||null===(a=K.payment_cycle)||void 0===a?void 0:a.message})]})}),(0,H.jsx)(y.A,{sm:6,children:(0,H.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,H.jsx)("label",{className:(0,p.A)(z.A.label),children:"Email"}),(0,H.jsxs)(U.C,{iconPosition:"left",children:[(0,H.jsx)(k.m,{children:(0,H.jsx)(T.A,{style:{position:"relative",top:"-5px"},size:20,color:"#667085"})}),(0,H.jsx)(I.S,{...D("email"),style:{paddingLeft:"38px"},className:(0,p.A)(z.A.inputText,"outline-none",{[z.A.error]:null===K||void 0===K?void 0:K.email}),placeholder:"company@email.com"})]}),(null===K||void 0===K?void 0:K.email)&&(0,H.jsx)("p",{className:"error-message",children:null===K||void 0===K||null===(i=K.email)||void 0===i?void 0:i.message})]})}),(0,H.jsx)(y.A,{sm:6,children:(0,H.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,H.jsx)("label",{className:(0,p.A)(z.A.label),children:"Group"}),(0,H.jsx)(I.S,{disabled:!0,...D("group"),className:(0,p.A)(z.A.inputText,"outline-none"),placeholder:"Select group"}),(null===K||void 0===K?void 0:K.group)&&(0,H.jsx)("p",{className:"error-message",children:null===K||void 0===K||null===(n=K.group)||void 0===n?void 0:n.message})]})})]})})})})}));var q=t(24370),G=t(48417);const D=t.p+"static/media/Experts-cuate.ad81effb3b39c6e68f3382cbf8be4cb2.svg";var V=t(58027);const W=r.memo((()=>{var e,s,t,j,y,b,N,_,w,A,S,P;const{trialHeight:T}=(0,G.$)(),B=JSON.parse(window.localStorage.getItem("profileData")||"{}"),C=(null===B||void 0===B?void 0:B.has_work_subscription)||!1,[R,$]=(0,r.useState)(!1),[O,U]=(0,r.useState)(!1),k=(0,u.I)({queryKey:["mobile-users"],queryFn:q.gy}),I=O?null===k||void 0===k||null===(e=k.data)||void 0===e||null===(s=e.users)||void 0===s?void 0:s.filter((e=>"disconnected"===e.status)):(null===k||void 0===k||null===(t=k.data)||void 0===t||null===(j=t.users)||void 0===j?void 0:j.filter((e=>"disconnected"!==e.status)))||[],E=(0,m.n)({mutationFn:e=>(0,q.vm)(e),onSuccess:()=>{k.refetch(),f.oR.success("User disconnected successfully"),E.reset()},onError:e=>{console.log("Error during disconnect user",e),f.oR.error("Failed to disconnect user. Please try again.")}}),F=(0,m.n)({mutationFn:e=>(0,q.KI)(e),onSuccess:()=>{k.refetch(),f.oR.success("User re-connected successfully"),E.reset(),U(!1)},onError:e=>{console.log("error: ",e),f.oR.error("Failed to re-connected user. Please try again.")}});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(n.mg,{children:(0,H.jsx)("title",{children:"MeMate - Mobile App Users"})}),(0,H.jsx)("div",{className:`${z.A.userSettingPage}`,id:`${z.A.appSettingPage}`,children:(0,H.jsxs)("div",{className:"settings-content setModalelBoots w-100",children:[(0,H.jsxs)("div",{className:"headSticky",children:[(0,H.jsx)("h1",{className:"mb-0",children:"Users"}),(0,H.jsxs)("div",{className:`contentMenuTab ${z.A.contentMenuTab}`,style:{height:"50px"},children:[(0,H.jsxs)("ul",{children:[(0,H.jsx)("li",{children:(0,H.jsx)(o.N_,{to:"/settings/users/desktop",children:"Desktop"})}),(0,H.jsx)("li",{className:"menuActive",children:(0,H.jsx)(o.N_,{to:"/settings/users/mobile-app",children:"Mobile App"})})]}),C&&(0,H.jsxs)(h.$,{disabled:parseInt(null===k||void 0===k||null===(y=k.data)||void 0===y||null===(b=y.limits)||void 0===b?void 0:b.total)===parseInt(null===k||void 0===k||null===(N=k.data)||void 0===N||null===(_=N.limits)||void 0===_?void 0:_.number),onClick:()=>$(!0),className:(0,p.A)(z.A.addUserBut,"outline-none"),children:["Add ",(0,H.jsx)(i.A,{size:20,color:"#000"})]})]})]}),(0,H.jsx)("div",{className:`content_wrap_main ${z.A.contentwrapmain}`,style:{paddingBottom:`${T}px`},children:(0,H.jsx)("div",{className:"content_wrapper",children:(0,H.jsx)("div",{className:"listwrapper border-top",children:C?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"topHeadStyle pb-4",children:[(0,H.jsxs)("div",{className:z.A.userHead,children:[(0,H.jsx)("h2",{children:"Mobile App Users"}),(0,H.jsxs)("p",{className:"d-flex align-items-center gap-2",children:[(null===k||void 0===k||null===(w=k.data)||void 0===w||null===(A=w.limits)||void 0===A?void 0:A.number)||0," / ",(null===k||void 0===k||null===(S=k.data)||void 0===S||null===(P=S.limits)||void 0===P?void 0:P.total)||0,(0,H.jsx)(o.N_,{to:"/settings/generalinformation/subscription",className:"p-0 border-0",style:{background:"transparent"},children:(0,H.jsx)("span",{className:"cursor-pointer",children:"Buy More"})})]})]}),(0,H.jsxs)(h.$,{onClick:()=>U(!O),className:z.A.showDeleteBut,children:[O?"Hide":"Show"," Disconnected"]})]}),(0,H.jsxs)(g.b,{value:I,showGridlines:!0,tableStyle:{minWidth:"50rem"},children:[(0,H.jsx)(x.V,{field:"name",style:{width:"auto"},body:e=>(0,H.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,H.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,H.jsx)(V.h,{has_photo:e.has_photo,photo:e.photo,is_business:!1}),(0,H.jsx)("div",{className:"d-flex flex-column gap-1",children:(0,H.jsxs)("div",{className:`${z.A.ellipsis}`,children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]})})]})}),header:"Name"}),(0,H.jsx)(x.V,{field:"email",style:{width:"447px"},header:"Email"}),(0,H.jsx)(x.V,{field:"phone",style:{width:"210px"},header:"Phone"}),(0,H.jsx)(x.V,{field:"status",body:e=>(0,H.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:(0,H.jsx)("div",{className:`${z.A[e.status]}`,children:e.status})}),style:{width:"85px"},header:"Status"}),(0,H.jsx)(x.V,{field:"privilege",body:e=>{const s=(0,r.useRef)(null),[t,l]=(0,r.useState)(!1),i=(0,c.k)(t,l);return(0,H.jsxs)(r.Fragment,{children:[(0,H.jsx)(a.A,{size:24,color:"#667085",className:"cursor-pointer",ref:s,...i}),(0,H.jsx)(d.k,{state:t?"open":"closed",anchorRef:s,onClose:()=>l(!1),className:"threeDots-setting",menuStyle:{padding:"4px",width:"171px",textAlign:"left"},children:(0,H.jsxs)("div",{className:"d-flex flex-column gap-2",children:[("invited"===e.status||"connected"===e.status)&&(0,H.jsx)(H.Fragment,{children:(0,H.jsx)("div",{className:"d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2 w-100",style:{width:"fit-content "},onClick:()=>{E.mutate(null===e||void 0===e?void 0:e.id)},children:(0,H.jsxs)("span",{className:"d-flex align-items-center gap-2",style:{color:"#344054",fontSize:"14px",fontWeight:400},children:["Disconnect User",(null===E||void 0===E?void 0:E.variables)===(null===e||void 0===e?void 0:e.id)?(0,H.jsx)(v.p,{style:{width:"20px",height:"20px"}}):""]})})}),"disconnected"===e.status&&(0,H.jsx)(H.Fragment,{children:(0,H.jsx)("div",{className:"d-flex align-items-center cursor-pointer gap-3 hover-greay px-2 py-2 w-100",style:{width:"fit-content "},onClick:()=>(e=>{var s,t,r,l;parseInt(null===k||void 0===k||null===(s=k.data)||void 0===s||null===(t=s.limits)||void 0===t?void 0:t.total)>parseInt(null===k||void 0===k||null===(r=k.data)||void 0===r||null===(l=r.limits)||void 0===l?void 0:l.number)?F.mutate(e):f.oR.error("You have reached the maximum number of users allowed.")})(e.id),children:(0,H.jsxs)("span",{className:"d-flex align-items-center gap-2",style:{color:"#344054",fontSize:"14px",fontWeight:400},children:["Reconnect User",(null===F||void 0===F?void 0:F.variables)===(null===e||void 0===e?void 0:e.id)?(0,H.jsx)(v.p,{style:{width:"20px",height:"20px"}}):""]})})})]})})]})},style:{width:"64px"},header:"Action"})]})]}):(0,H.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,H.jsx)("img",{src:D,alt:"expired-subscription",style:{width:"300px"}}),(0,H.jsx)("h4",{style:{fontWeight:700},children:"Work Subscription Expired"}),(0,H.jsxs)("p",{className:"font-18 text-center",children:[" Your MeMate subscription has expired. To continue enjoying all features,",(0,H.jsx)("br",{})," please activate your subscription plan."]}),(0,H.jsx)(o.N_,{to:"/settings/generalinformation/subscription",children:(0,H.jsx)(h.$,{className:"solid-button",children:"Active Work Subscription"})})]})})})})]})}),k.isLoading&&(0,H.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,H.jsx)(l.A,{animation:"border",role:"status",children:(0,H.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),R&&(0,H.jsx)(L,{visible:R,setVisible:$,refetch:()=>k.refetch()})]})}))},63882:(e,s,t)=>{t.d(s,{A:()=>_});var r=t(65043),l=t(61424),a=t(14282),i=t(76163),n=t(69956),o=t(33155),c=t(55683),d=t(58387),u=t(73722);const m="file-uploader_title__+HTTy",p="file-uploader_previewSection__mnNRf",h="file-uploader_previewBox__j6psm",x="file-uploader_previewBoxImg1__SR-1w",g="file-uploader_previewBoxImg2__zYCKK",v="file-uploader_previewBoxImg3__YNTWI",f="file-uploader_previewBoxImg4__cRl+e",j="file-uploader_previewBoxImg5__GzHFj",y="file-uploader_previewActions__UO1dp",b="file-uploader_label__Udhfq";var N=t(70579);const _=e=>{let{show:s,setShow:t,setPhoto:_,additionalDesign:w,shape:A="rect"}=e;const[S,P]=(0,r.useState)([]),[T,B]=(0,r.useState)({x:0,y:0}),[C,R]=(0,r.useState)(1),[$,O]=(0,r.useState)(0),[U,k]=(0,r.useState)(null),[I,E]=(0,r.useState)({}),F=(0,r.useCallback)(((e,s)=>{k(s)}),[]),z=(0,r.useCallback)((async()=>{if(!S.length||!U)return;const e=document.createElement("canvas"),s=e.getContext("2d"),t=new Image;t.src=S[0].preview,await new Promise((e=>t.onload=e)),e.width=U.width,e.height=U.height,s.translate(e.width/2,e.height/2),s.rotate($*Math.PI/180),s.translate(-e.width/2,-e.height/2),s.drawImage(t,U.x,U.y,U.width,U.height,0,0,U.width,U.height);return e.toDataURL("image/jpeg")}),[S,U,$]),H=async()=>{const e=await z();e&&E({img2:e,img3:e,img4:e,img5:e})};(0,r.useEffect)((()=>{H()}),[C,T,$,S,U]);const{getRootProps:M,getInputProps:L}=(0,o.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{P(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,N.jsxs)(l.A,{style:{zIndex:1111},show:s,centered:!0,onHide:()=>t(!1),onShow:H,children:[(0,N.jsx)(l.A.Header,{closeButton:!0,children:(0,N.jsx)(l.A.Title,{children:(0,N.jsx)("span",{className:`${m}`,children:"Edit Photo"})})}),(0,N.jsxs)(l.A.Body,{children:[w,(0,N.jsxs)("div",{className:`${p}`,children:[(0,N.jsxs)("div",{className:`${h}`,children:[(0,N.jsx)("div",{className:(0,d.A)(x,"round"===A?"rounded-circle":""),children:(0,N.jsx)(c.Ay,{image:S.length>0?S[0].preview:null,crop:T,zoom:C,cropShape:A,rotation:$,onCropChange:B,onZoomChange:R,onCropComplete:F,aspect:1,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,N.jsx)("div",{className:(0,d.A)(g,"round"===A?"rounded-circle":""),children:I.img2&&(0,N.jsx)("img",{src:I.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,d.A)(v,"round"===A?"rounded-circle":""),children:I.img3&&(0,N.jsx)("img",{src:I.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,d.A)(f,"round"===A?"rounded-circle":""),children:I.img4&&(0,N.jsx)("img",{src:I.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,N.jsx)("div",{className:(0,d.A)(j,"round"===A?"rounded-circle":""),children:I.img5&&(0,N.jsx)("img",{src:I.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,N.jsxs)("div",{className:`${y}`,children:[(0,N.jsxs)(u.A.Group,{children:[(0,N.jsx)(u.A.Label,{className:`${b}`,children:"Zoom"}),(0,N.jsx)(u.A.Range,{value:C,min:1,max:3,step:.1,className:"custom-range",onChange:e=>R(e.target.value)})]}),(0,N.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,N.jsxs)(a.A,{className:"text-button",onClick:()=>{O((e=>(e+90)%360))},children:[(0,N.jsx)(i.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,N.jsxs)("div",{...M({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,N.jsx)("input",{...L()}),(0,N.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,N.jsx)(n.A,{})}),(0,N.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,N.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,N.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,N.jsxs)(l.A.Footer,{className:"d-flex justify-content-end",children:[(0,N.jsx)(a.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),P([]),E({}),_(null),t(!1)},children:"Cancel"}),(0,N.jsx)(a.A,{className:"solid-button",onClick:async()=>{const e=await z(),s=function(e,s){const t=atob(e.split(",")[1]),r=new ArrayBuffer(t.length),l=new Uint8Array(r);for(let a=0;a<t.length;a++)l[a]=t.charCodeAt(a);return new Blob([r],{type:s})}(e,"image/jpeg");_({croppedImageBase64:e,croppedImageBlob:s}),t(!1)},children:"Save Photo"})]})]})}},22927:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(65043),l=t(65173),a=t.n(l),i=["color","size","title","className"];function n(){return n=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(this,arguments)}function o(e,s){if(null==e)return{};var t,r,l=function(e,s){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||(l[t]=e[t]);return l}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var c=(0,r.forwardRef)((function(e,s){var t=e.color,l=e.size,a=e.title,c=e.className,d=o(e,i);return r.createElement("svg",n({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:t,className:["bi","bi-file-text",c].filter(Boolean).join(" ")},d),a?r.createElement("title",null,a):null,r.createElement("path",{d:"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"}),r.createElement("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c},2210:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(65043),l=t(65173),a=t.n(l),i=["color","size","title","className"];function n(){return n=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(this,arguments)}function o(e,s){if(null==e)return{};var t,r,l=function(e,s){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||(l[t]=e[t]);return l}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var c=(0,r.forwardRef)((function(e,s){var t=e.color,l=e.size,a=e.title,c=e.className,d=o(e,i);return r.createElement("svg",n({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:t,className:["bi","bi-person-add",c].filter(Boolean).join(" ")},d),a?r.createElement("title",null,a):null,r.createElement("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"}),r.createElement("path",{d:"M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c},50565:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(65043),l=t(65173),a=t.n(l),i=["color","size","title","className"];function n(){return n=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(this,arguments)}function o(e,s){if(null==e)return{};var t,r,l=function(e,s){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||(l[t]=e[t]);return l}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var c=(0,r.forwardRef)((function(e,s){var t=e.color,l=e.size,a=e.title,c=e.className,d=o(e,i);return r.createElement("svg",n({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:t,className:["bi","bi-three-dots-vertical",c].filter(Boolean).join(" ")},d),a?r.createElement("title",null,a):null,r.createElement("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c},13846:(e,s,t)=>{t.d(s,{A:()=>C});var r=t(98139),l=t.n(r),a=t(65043),i=t(67852),n=t(35284),o=t(70579);const c=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="div",...n}=e;return r=(0,i.oU)(r,"card-footer"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));c.displayName="CardFooter";const d=c;var u=t(11778);const m=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,as:n="div",...c}=e;const d=(0,i.oU)(t,"card-header"),m=(0,a.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,o.jsx)(u.A.Provider,{value:m,children:(0,o.jsx)(n,{ref:s,...c,className:l()(r,d)})})}));m.displayName="CardHeader";const p=m,h=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,variant:a,as:n="img",...c}=e;const d=(0,i.oU)(t,"card-img");return(0,o.jsx)(n,{ref:s,className:l()(a?`${d}-${a}`:d,r),...c})}));h.displayName="CardImg";const x=h,g=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="div",...n}=e;return r=(0,i.oU)(r,"card-img-overlay"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));g.displayName="CardImgOverlay";const v=g,f=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="a",...n}=e;return r=(0,i.oU)(r,"card-link"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));f.displayName="CardLink";const j=f;var y=t(4488);const b=(0,y.A)("h6"),N=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a=b,...n}=e;return r=(0,i.oU)(r,"card-subtitle"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));N.displayName="CardSubtitle";const _=N,w=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a="p",...n}=e;return r=(0,i.oU)(r,"card-text"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));w.displayName="CardText";const A=w,S=(0,y.A)("h5"),P=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a=S,...n}=e;return r=(0,i.oU)(r,"card-title"),(0,o.jsx)(a,{ref:s,className:l()(t,r),...n})}));P.displayName="CardTitle";const T=P,B=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,bg:a,text:c,border:d,body:u=!1,children:m,as:p="div",...h}=e;const x=(0,i.oU)(t,"card");return(0,o.jsx)(p,{ref:s,...h,className:l()(r,x,a&&`bg-${a}`,c&&`text-${c}`,d&&`border-${d}`),children:u?(0,o.jsx)(n.A,{children:m}):m})}));B.displayName="Card";const C=Object.assign(B,{Img:x,Title:T,Subtitle:_,Body:n.A,Link:j,Text:A,Header:p,Footer:d,ImgOverlay:v})},35284:(e,s,t)=>{t.d(s,{A:()=>c});var r=t(65043),l=t(98139),a=t.n(l),i=t(67852),n=t(70579);const o=r.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:l="div",...o}=e;return r=(0,i.oU)(r,"card-body"),(0,n.jsx)(l,{ref:s,className:a()(t,r),...o})}));o.displayName="CardBody";const c=o},11778:(e,s,t)=>{t.d(s,{A:()=>l});const r=t(65043).createContext(null);r.displayName="CardHeaderContext";const l=r},84576:(e,s,t)=>{t.d(s,{A:()=>r});const r={userSettingPage:"users_userSettingPage__KqRqG",userHead:"users_userHead__Qb-45",users_userHead:"users_users_userHead__66zxc",contentwrapmain:"users_contentwrapmain__9EuvG",ellipsis:"users_ellipsis__MtwMP",userImg:"users_userImg__-Ft5y",privilege:"users_privilege__yA6Qo",contentMenuTab:"users_contentMenuTab__Znvft",addUserBut:"users_addUserBut__H4HT5",showDeleteBut:"users_showDeleteBut__YDAwL",appSettingPage:"users_appSettingPage__urt2L",appaction:"users_appaction__vcXFf",connected:"users_connected__jXreM",invited:"users_invited__Rgnv8",disconnected:"users_disconnected__t2YHg",selectuserInput:"users_selectuserInput__YZrqN",modal:"users_modal__XmOaj",modalHeader:"users_modalHeader__q7QkG",headerTitle:"users_headerTitle__ZVL6h",circledesignstyle:"users_circledesignstyle__7Fx4h",out:"users_out__HXDgH",lable:"users_lable__Wc5bm",inputText:"users_inputText__U6PZ4",error:"users_error__vuT5H",td:"users_td__d5O9J",hoverShow:"users_hoverShow__+hAKM",borderNone:"users_borderNone__BKq3M",dangerTextButton:"users_dangerTextButton__pvNTe",fileUploadBox:"users_fileUploadBox__SSDRH",uploadedImgBox:"users_uploadedImgBox__Kal3a",uploadedText1:"users_uploadedText1__mtBeo",uploadedText2:"users_uploadedText2__5sLVb",successTextButton:"users_successTextButton__gV-ns",leftBoxParent:"users_leftBoxParent__HuTuY",leftbox:"users_leftbox__xpVNj",leftboxText:"users_leftboxText__T8ElD",active:"users_active__yxWuy"}}}]);
//# sourceMappingURL=5908.ddf3b9e1.chunk.js.map