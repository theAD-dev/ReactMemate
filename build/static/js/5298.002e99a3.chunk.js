"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5298],{623:(e,t,s)=>{s.d(t,{IY:()=>c,Np:()=>o,YC:()=>d,fD:()=>r,ic:()=>u,ms:()=>x,yA:()=>h,yi:()=>a});var l=s(63712);const i="https://dev.memate.com.au/api/v1",n=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:s="GET",headers:l={},body:i}=t,n={method:s,headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json",...l},body:JSON.stringify(i),redirect:"follow"};try{const t=new URL(`${e}`),s=await fetch(t,n);if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);const l=s.headers.get("Content-Type");if(l&&l.includes("application/json"))return await s.json();return{message:"Non-JSON response",body:await s.text()}}catch(a){throw console.error("Fetch API error:",a),a}},a=async e=>{console.log("data: ",e),e.id&&delete e.id,e.isNew&&delete e.isNew,e.isChanged&&delete e.isChanged,e.value&&delete e.value;const t={method:"POST",body:e},s=new URL(`${i}/settings/project-statuses/new/`);return n(s.toString(),t)},o=async(e,t)=>{const s={method:"PUT",body:t},l=new URL(`${i}${`/settings/project-statuses/update/${e}/`}`);return n(l.toString(),s)},r=async e=>{const t=new URL(`${i}${`/settings/project-statuses/delete/${e}/`}`);return n(t.toString(),{method:"DELETE"})},d=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const s={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${i}/settings/organization/general/`,s);return await e.json()}catch(l){throw console.error("Profile fetch error:",l),l}},c=async(e,t)=>{const s=new Headers,n=localStorage.getItem("access_token");s.append("Authorization",`Bearer ${n}`);const a=new FormData;if(Object.keys(e).forEach((t=>{a.append(t,e[t])})),null!==t&&void 0!==t&&t.croppedImageBlob){const e=(0,l.Ak)(6);a.append("company_logo",null===t||void 0===t?void 0:t.croppedImageBlob,`${e}.jpg`)}const o={method:"PUT",headers:s,body:a,redirect:"follow"};try{const e=await fetch(`${i}/settings/organization/general/`,o),t=await e.text();return console.log("result>>>>>>>>>>: ",t),t}catch(r){throw console.error("Profile fetch error:",r),r}},x=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const s={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${i}/settings/organization/bank/`,s);return await e.text()}catch(l){throw console.error("Profile fetch error:",l),l}},h=async e=>{const t=new Headers,s=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${s}`);const l=new FormData;Object.keys(e).forEach((t=>{l.append(t,e[t])}));const n={method:"PUT",headers:t,body:l,redirect:"follow"};try{const e=await fetch(`${i}/settings/organization/bank/`,n),t=await e.text();return console.log("result: ",t),t}catch(a){throw console.error("Profile fetch error:",a),a}},u=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const s={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${i}/settings/project-statuses/`,s);return await e.json()}catch(l){throw console.error("project fetch error:",l),l}}},80222:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Ke});var l=s(65043);let i,n,a;function o(e){return new Date(new Date(e).getTime()-60*new Date(e).getTimezoneOffset()*1e3)}function r(e){const t=[],s=null===e||void 0===e?void 0:e.map((e=>{var s,l,i,n,r;let d=(null===e||void 0===e||null===(s=e.custom_status)||void 0===s?void 0:s.color)||"rgb(192, 192, 192)",c=null===e||void 0===e||null===(l=e.custom_status)||void 0===l?void 0:l.background,x=null===e||void 0===e||null===(i=e.custom_status)||void 0===i?void 0:i.font;const h=null!==e&&void 0!==e&&null!==(n=e.custom_status)&&void 0!==n&&n.title?`<em style='color:${x}; background:${c}; border: 1px solid ${d};'>${e.custom_status.title}</em>`:"<em style='color: #344054; background: #F2F4F7; border: 1px solid rgba(0, 0, 0, 0.498);' class=\"pb-1\">No status</em>";let u="not-started";return 0===e.jobs_count&&0===e.jobs_count?u="not-started":e.jobs_done===e.jobs_count?u="done":0===e.jobs_done?u="not-done":e.jobs_done&&(u="pending"),t.push({start:o(1e3*+e.booking_start),end:o(1e3*+e.booking_end),id:e.unique_id,cssClass:"job-item",resource:e.unique_id,backColor:c,borderColor:d,tag:{number:e.number,reference:e.reference,value:e.id},text:`<ul class="eventStyleCal">\n        <li>\n          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <g clip-path="url(#clip0_6815_57879)">\n            <rect width="24" height="24" rx="4" fill="url(#paint0_linear_6815_57879)"/>\n            <g opacity="0.08">\n            <rect x="0.375" y="0.375" width="23.25" height="23.25" rx="3.625" stroke="#101828" stroke-width="0.75"/>\n            </g>\n            <g clip-path="url(#clip1_6815_57879)">\n            <path d="M8.57171 7.28592C8.57171 7.04923 8.76359 6.85735 9.00028 6.85735H9.85742C10.0941 6.85735 10.286 7.04923 10.286 7.28592V8.14307C10.286 8.37976 10.0941 8.57164 9.85742 8.57164H9.00028C8.76359 8.57164 8.57171 8.37976 8.57171 8.14307V7.28592Z" fill="#667085"/>\n            <path d="M11.1431 7.28592C11.1431 7.04923 11.335 6.85735 11.5717 6.85735H12.4289C12.6655 6.85735 12.8574 7.04923 12.8574 7.28592V8.14307C12.8574 8.37976 12.6655 8.57164 12.4289 8.57164H11.5717C11.335 8.57164 11.1431 8.37976 11.1431 8.14307V7.28592Z" fill="#667085"/>\n            <path d="M14.1431 6.85735C13.9064 6.85735 13.7146 7.04923 13.7146 7.28592V8.14307C13.7146 8.37976 13.9064 8.57164 14.1431 8.57164H15.0003C15.237 8.57164 15.4289 8.37976 15.4289 8.14307V7.28592C15.4289 7.04923 15.237 6.85735 15.0003 6.85735H14.1431Z" fill="#667085"/>\n            <path d="M8.57171 9.85735C8.57171 9.62066 8.76359 9.42878 9.00028 9.42878H9.85742C10.0941 9.42878 10.286 9.62066 10.286 9.85735V10.7145C10.286 10.9512 10.0941 11.1431 9.85742 11.1431H9.00028C8.76359 11.1431 8.57171 10.9512 8.57171 10.7145V9.85735Z" fill="#667085"/>\n            <path d="M11.5717 9.42878C11.335 9.42878 11.1431 9.62066 11.1431 9.85735V10.7145C11.1431 10.9512 11.335 11.1431 11.5717 11.1431H12.4289C12.6655 11.1431 12.8574 10.9512 12.8574 10.7145V9.85735C12.8574 9.62066 12.6655 9.42878 12.4289 9.42878H11.5717Z" fill="#667085"/>\n            <path d="M13.7146 9.85735C13.7146 9.62066 13.9064 9.42878 14.1431 9.42878H15.0003C15.237 9.42878 15.4289 9.62066 15.4289 9.85735V10.7145C15.4289 10.9512 15.237 11.1431 15.0003 11.1431H14.1431C13.9064 11.1431 13.7146 10.9512 13.7146 10.7145V9.85735Z" fill="#667085"/>\n            <path d="M9.00028 12.0002C8.76359 12.0002 8.57171 12.1921 8.57171 12.4288V13.2859C8.57171 13.5226 8.76359 13.7145 9.00028 13.7145H9.85742C10.0941 13.7145 10.286 13.5226 10.286 13.2859V12.4288C10.286 12.1921 10.0941 12.0002 9.85742 12.0002H9.00028Z" fill="#667085"/>\n            <path d="M11.1431 12.4288C11.1431 12.1921 11.335 12.0002 11.5717 12.0002H12.4289C12.6655 12.0002 12.8574 12.1921 12.8574 12.4288V13.2859C12.8574 13.5226 12.6655 13.7145 12.4289 13.7145H11.5717C11.335 13.7145 11.1431 13.5226 11.1431 13.2859V12.4288Z" fill="#667085"/>\n            <path d="M14.1431 12.0002C13.9064 12.0002 13.7146 12.1921 13.7146 12.4288V13.2859C13.7146 13.5226 13.9064 13.7145 14.1431 13.7145H15.0003C15.237 13.7145 15.4289 13.5226 15.4289 13.2859V12.4288C15.4289 12.1921 15.237 12.0002 15.0003 12.0002H14.1431Z" fill="#667085"/>\n            <path d="M6.85742 6.00021C6.85742 5.52682 7.24118 5.14307 7.71456 5.14307H16.286C16.7594 5.14307 17.1431 5.52682 17.1431 6.00021V18.0002C17.1431 18.4736 16.7594 18.8574 16.286 18.8574H7.71456C7.24118 18.8574 6.85742 18.4736 6.85742 18.0002V6.00021ZM16.286 6.00021L7.71456 6.00021V18.0002H10.286V15.8574C10.286 15.6207 10.4779 15.4288 10.7146 15.4288H13.286C13.5227 15.4288 13.7146 15.6207 13.7146 15.8574V18.0002H16.286V6.00021Z" fill="#667085"/>\n            </g>\n            </g>\n            <defs>\n            <linearGradient id="paint0_linear_6815_57879" x1="12" y1="0" x2="12" y2="24" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#F9FAFB"/>\n            <stop offset="1" stop-color="#EDF0F3"/>\n            </linearGradient>\n            <clipPath id="clip0_6815_57879">\n            <rect width="24" height="24" rx="4" fill="white"/>\n            </clipPath>\n            <clipPath id="clip1_6815_57879">\n            <rect width="13.7143" height="13.7143" fill="white" transform="translate(5.14307 5.14307)"/>\n            </clipPath>\n            </defs>\n          </svg>\n          &nbsp;\n          <strong style="color: ${x}; font-weight: 400">${e.reference}</strong>\n        </li>\n      </ul>`}),{id:e.unique_id,expanded:a===e.unique_id,name:`<div class="resourceList rowResourceEvent" style="--main-color: ${d};">\n        <ul class="resourceMan">\n          <li>${e.number}</li>\n          <li>\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n                <path d="M5 4C4.72386 4 4.5 4.22386 4.5 4.5C4.5 4.77614 4.72386 5 5 5H11C11.2761 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.2761 4 11 4H5Z" fill="${e.is_invoice_created?"#17B26A":"#98A2B3"}"/>\n                <path d="M4.5 6.5C4.5 6.22386 4.72386 6 5 6H11C11.2761 6 11.5 6.22386 11.5 6.5C11.5 6.77614 11.2761 7 11 7H5C4.72386 7 4.5 6.77614 4.5 6.5Z" fill="${e.is_invoice_created?"#17B26A":"#98A2B3"}"/>\n                <path d="M5 8C4.72386 8 4.5 8.22386 4.5 8.5C4.5 8.77614 4.72386 9 5 9H11C11.2761 9 11.5 8.77614 11.5 8.5C11.5 8.22386 11.2761 8 11 8H5Z" fill="${e.is_invoice_created?"#17B26A":"#98A2B3"}"/>\n                <path d="M5 10C4.72386 10 4.5 10.2239 4.5 10.5C4.5 10.7761 4.72386 11 5 11H8C8.27614 11 8.5 10.7761 8.5 10.5C8.5 10.2239 8.27614 10 8 10H5Z" fill="${e.is_invoice_created?"#17B26A":"#98A2B3"}"/>\n                <path d="M2 2C2 0.89543 2.89543 0 4 0H12C13.1046 0 14 0.89543 14 2V14C14 15.1046 13.1046 16 12 16H4C2.89543 16 2 15.1046 2 14V2ZM12 1H4C3.44772 1 3 1.44772 3 2V14C3 14.5523 3.44772 15 4 15H12C12.5523 15 13 14.5523 13 14V2C13 1.44772 12.5523 1 12 1Z" fill="${e.is_invoice_created?"#17B26A":"#98A2B3"}"/>\n              </svg>\n          </li>\n          <li>\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n              <path d="M11 7.5C11 7.22386 11.2239 7 11.5 7H12.5C12.7761 7 13 7.22386 13 7.5V8.5C13 8.77614 12.7761 9 12.5 9H11.5C11.2239 9 11 8.77614 11 8.5V7.5Z" fill="${e.booking_start?"#1AB2FF":"#98A2B3"}"/>\n              <path d="M3.5 0C3.77614 0 4 0.223858 4 0.5V1H12V0.5C12 0.223858 12.2239 0 12.5 0C12.7761 0 13 0.223858 13 0.5V1H14C15.1046 1 16 1.89543 16 3V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V3C0 1.89543 0.895431 1 2 1H3V0.5C3 0.223858 3.22386 0 3.5 0ZM2 2C1.44772 2 1 2.44772 1 3V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V3C15 2.44772 14.5523 2 14 2H2Z" fill="${e.booking_start?"#1AB2FF":"#98A2B3"}"/>\n              <path d="M2.5 4C2.5 3.72386 2.72386 3.5 3 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V5C13.5 5.27614 13.2761 5.5 13 5.5H3C2.72386 5.5 2.5 5.27614 2.5 5V4Z" fill="${e.booking_start?"#1AB2FF":"#98A2B3"}"/>\n            </svg>\n          </li>\n          <li>\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n              <path d="M4 10.7813C4.14782 12.4484 5.51294 13.6306 7.59107 13.7837V15H8.63448V13.7837C10.9039 13.6051 12.3125 12.3463 12.3125 10.4836C12.3125 8.89307 11.3647 7.97448 9.35617 7.45565L8.63448 7.26853V3.46659C9.75615 3.57716 10.5126 4.18104 10.7039 5.08262H12.1734C12.0082 3.4836 10.6343 2.33536 8.63448 2.20778V1H7.59107V2.23329C5.65207 2.46294 4.32172 3.70474 4.32172 5.38882C4.32172 6.84326 5.28687 7.87242 6.98241 8.3062L7.59107 8.4678V12.4994C6.44332 12.3293 5.65207 11.6999 5.46077 10.7813H4ZM7.39108 6.94532C6.34767 6.68165 5.79119 6.12029 5.79119 5.32928C5.79119 4.38518 6.49549 3.68773 7.59107 3.50061V6.99635L7.39108 6.94532ZM8.98228 8.81652C10.2692 9.13973 10.8343 9.67558 10.8343 10.5857C10.8343 11.6829 10.0083 12.4143 8.63448 12.5249V8.73147L8.98228 8.81652Z" \n          fill="${e.is_invoice_created?"PAID"===e.paid?"#17B26A":"NOT PAID"===e.paid?"#F04438":"PARTIAL PAYMENT"===e.paid?"#fedf89":"#F79009":"#667085"}"/>\n            </svg>\n          </li>\n          <li>\n            <span class='${u}'>${e.jobs_done}/${e.jobs_count}</span>\n          </li>\n        </ul>\n        <div class="project-content" unique-id="${e.unique_id}" project-id="${e.id}" number="${null===e||void 0===e?void 0:e.number}" reference="${null===e||void 0===e?void 0:e.reference}">\n          <span class="small project-content-name" unique-id="${e.unique_id}">${null===e||void 0===e||null===(r=e.client)||void 0===r?void 0:r.name}</span>\n          <h2 class="project-content-name" unique-id="${e.unique_id}">${e.reference}</h2>\n          ${h}\n        </div>\n      </div>`,children:[...e.tasks,{title:"create-task",id:e.number}].map(((s,l)=>{var i,n,a;if("create-task"===s.title)return{id:s.id,name:`<div class="create-task-div rowResourceEvent" style="--main-color: ${d}; height: ${null!==(n=e.tasks)&&void 0!==n&&n.length?"85px":"65px"}">\n              <button class="create-task-button" project-id="${e.id}" number="${null===e||void 0===e?void 0:e.number}" reference="${null===e||void 0===e?void 0:e.reference}" style="margin-bottom: ${null!==(a=e.tasks)&&void 0!==a&&a.length?"16px":"6px"}">Create Task\n              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n                <path d="M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z" fill="#106B99"/>\n              </svg>\n              </button> \n            </div>`,minHeight:75,marginBottom:10};t.push({start:o(1e3*+s.from_date),end:o(1e3*+s.to_date),id:s.id,cssClass:"childEvent task-item",resource:s.id,backColor:"#F2F4F7",borderColor:"#F2F4F7",text:s.title});const r=s.finished?'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <rect width="20" height="20" rx="10" fill="#DCFAE6"/>\n          <path d="M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z" fill="#085D3A"/>\n        </svg>':'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <rect width="20" height="20" rx="10" fill="#F2F4F7"/>\n          <path d="M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z" fill="#475467"/>\n        </svg>';return{id:s.id,name:`<div task-id="${s.id}" class="task-list rowResourceEvent" style="--main-color: ${d}" task-id="${s.id}">\n            <div class="flex">\n              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <g clip-path="url(#clip0_5999_560822)">\n                <rect width="16" height="16" rx="8" fill="url(#paint0_linear_5999_560822)"/>\n                <g opacity="0.08">\n                <rect x="0.375" y="0.375" width="15.25" height="15.25" rx="7.625" stroke="#101828" stroke-width="0.75"/>\n                </g>\n                <path d="M6.57129 6.28585C6.41349 6.28585 6.28557 6.41377 6.28557 6.57157C6.28557 6.72936 6.41349 6.85728 6.57129 6.85728H9.42843C9.58623 6.85728 9.71415 6.72936 9.71415 6.57157C9.71415 6.41377 9.58623 6.28585 9.42843 6.28585H6.57129Z" fill="#475467"/>\n                <path d="M6.57129 7.42871C6.41349 7.42871 6.28557 7.55663 6.28557 7.71443C6.28557 7.87222 6.41349 8.00014 6.57129 8.00014H8.28557C8.44337 8.00014 8.57129 7.87222 8.57129 7.71443C8.57129 7.55663 8.44337 7.42871 8.28557 7.42871H6.57129Z" fill="#475467"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M7.99986 4.57157C8.63104 4.57157 9.14272 4.05989 9.14272 3.42871H10.5713C11.0447 3.42871 11.4284 3.81247 11.4284 4.28585V11.7144C11.4284 12.1878 11.0447 12.5716 10.5713 12.5716H5.42843C4.95505 12.5716 4.57129 12.1878 4.57129 11.7144V4.28585C4.57129 3.81247 4.95505 3.42871 5.42843 3.42871H6.857C6.857 4.05989 7.36868 4.57157 7.99986 4.57157ZM7.99986 5.143C8.74627 5.143 9.38127 4.66596 9.6166 4.00014H10.5713C10.7291 4.00014 10.857 4.12806 10.857 4.28585V11.7144C10.857 11.8722 10.7291 12.0001 10.5713 12.0001H5.42843C5.27064 12.0001 5.14272 11.8722 5.14272 11.7144V4.28585C5.14272 4.12806 5.27064 4.00014 5.42843 4.00014H6.38312C6.61846 4.66596 7.25345 5.143 7.99986 5.143Z" fill="#475467"/>\n                </g>\n                <defs>\n                <linearGradient id="paint0_linear_5999_560822" x1="8" y1="0" x2="8" y2="16" gradientUnits="userSpaceOnUse">\n                <stop stop-color="#F9FAFB"/>\n                <stop offset="1" stop-color="#EDF0F3"/>\n                </linearGradient>\n                <clipPath id="clip0_5999_560822">\n                <rect width="16" height="16" rx="8" fill="white"/>\n                </clipPath>\n                </defs>\n              </svg>\n              <div class="title-description-section">\n                <span class="task-assigner">${null===s||void 0===s||null===(i=s.assigned_to)||void 0===i?void 0:i.name}</span>\n                <span class="task-title">${s.title}</span>\n              </div> \n            </div>\n            <div class="completion-status ${"completed"===r?"completed-class":"incomplete-class"}">\n              ${r}\n            </div>\n          </div>\n          `,minHeight:40,marginBottom:4}}))}}));i.update({resources:s,events:t}),i.onResourceExpand=function(e){a=e.resource.id}}function d(e){try{r(e)}catch(t){console.log(t)}}function c(e,t,s){try{!function(e,t,s){console.log("resource response: ",t),void 0!==typeof window&&Boolean(window.DayPilot)&&(n=window.DayPilot,i=new n.Scheduler(e,{days:365,scale:"Day",separators:[{color:"#48C1FF",width:4}],treeImage:"img/nochildren.png",rowMinHeight:130,eventEndSpec:"Date",durationBarVisible:!1,eventArrangement:"Cascade",eventMoveHandling:"Disabled",eventResizeHandling:"Disabled",timeRangeSelectedHandling:"Disabled",treeImageNoChildren:!1,rowHeaderWidth:324,timeHeaders:[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],treeEnabled:!0,progressiveRowRendering:!0,treePreventParentUsage:!0,scrollDelayEvents:0,infiniteScrollingEnabled:!0,infiniteScrollingStepDays:100}),i.onBeforeRowHeaderRender=function(e){e.row.cssClass="resourcesRow"},i.init(),i.onBeforeEventRender=function(e){e.data.areas=[{top:0,left:0,right:0,width:1,cssClass:"childEventborder",text:e.data.text,backColor:e.data.borderColor,fontColor:"#ffffff",horizontalAlignment:"center",style:"border-top-left-radius: 4px; border-bottom-left-radius: 4px; background-color: #0000007f; color: #ffffff; padding: 2px;height: 36px;"}],e.data.text="Event details"},i.onEventClicked=function(e){const t=e.e.id();if(e.div.className.includes("task-item")&&t)s(t,!1);else if(e.div.className.includes("job-item")&&t){const l=e.e.tag();console.log("projectDetails: ",l),s(t,!0,l)}},i.onBeforeCellRender=function(e){6!==e.cell.start.getDayOfWeek()&&0!==e.cell.start.getDayOfWeek()||(e.cell.backColor="#F9FAFB")},r(t))}(e,t,s)}catch(l){console.log(l)}}var x=s(11520),h=s(27417),u=s(14282),p=s(61424),m=s(65975),v=s(42265),j=s(42052),g=(s(86809),s(33183)),b=s(93747),f=s(47097),y=s(72796),w=s(73722),A=s(71666),C=s(12532),N=s(66415),F=s(51038),k=s(95192),S=s(70579);var B=s(35470),_=s(8129),E=s(79106);const D=e=>{if(!e)return"-";return new Date(1e3*+e)},I=e=>{var t,s,i,n,a,o,r,d;let{show:c,setShow:x,data:h,reInitilize:m}=e;const v=(0,l.useRef)(null),j=null===h||void 0===h?void 0:h.id,g={value:null===h||void 0===h||null===(t=h.project)||void 0===t?void 0:t.id,reference:null===h||void 0===h||null===(s=h.project)||void 0===s?void 0:s.reference,number:null===h||void 0===h||null===(i=h.project)||void 0===i?void 0:i.number},[I,z]=(0,l.useState)(h.title||""),[L,H]=(0,l.useState)(h.description||""),[T,$]=(0,l.useState)((null===h||void 0===h||null===(n=h.user)||void 0===n?void 0:n.id)||null),[R,P]=(0,l.useState)({startDate:D(h.from_date),endDate:D(h.to_date)}),[M,q]=(0,l.useState)({taskTitle:!1,description:!1,user:!1,date:!1}),V=(0,f.n)({mutationFn:e=>(0,y.wW)(e,j),onSuccess:()=>{x(!1),m()},onError:e=>{console.error("Error creating task:",e)}}),Z=(0,f.n)({mutationFn:e=>(0,y.mM)(j),onSuccess:()=>{console.log("Delete success"),x(!1),m()},onError:e=>{console.error("Error creating task:",e)}}),O=()=>{const e={taskTitle:!I,description:!L,date:!R};q(e),e.taskTitle||e.description||e.user||e.date||(console.log("Form submitted with:",{taskTitle:I,description:L,project:g,user:T,date:R}),V.mutate({title:I,description:L,project:g.value,from_date:R.startDate,to_date:R.endDate,...T&&{user:T}}))},U=(0,b.I)({queryKey:["getUserList"],queryFn:E.aU});return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(w.A,{onSubmit:O,children:(0,S.jsxs)(p.A,{show:c,centered:!0,onHide:()=>x(!1),className:"task-form",children:[(0,S.jsx)(p.A.Header,{closeButton:!0,children:(0,S.jsxs)(p.A.Title,{children:[(0,S.jsx)("img",{src:C.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,S.jsx)("span",{className:"modal-task-title",children:"Edit Task"})]})}),(0,S.jsxs)(p.A.Body,{children:[(0,S.jsxs)(w.A.Group,{className:"mb-2",children:[(0,S.jsx)(w.A.Label,{children:"Project Task"}),(0,S.jsxs)(A.A,{children:[(0,S.jsx)(w.A.Select,{disabled:!0,children:(0,S.jsxs)("option",{value:null===g||void 0===g?void 0:g.value,children:[null===g||void 0===g?void 0:g.reference," (",null===g||void 0===g?void 0:g.number,")"]})}),(0,S.jsx)(A.A.Text,{children:(0,S.jsx)(N.A,{})})]}),!g&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Project task is required"})]}),(0,S.jsxs)(w.A.Group,{className:"mb-3",children:[(0,S.jsx)(w.A.Label,{children:"Task Title"}),(0,S.jsxs)(A.A,{children:[(0,S.jsx)(w.A.Control,{required:!0,type:"text",placeholder:"Enter task title",value:I,onChange:e=>z(e.target.value)}),(0,S.jsx)(A.A.Text,{children:(0,S.jsx)(F.A,{})})]}),M.taskTitle&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Task title is required"})]}),(0,S.jsxs)(w.A.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,S.jsx)(w.A.Label,{children:"Description"}),(0,S.jsx)(w.A.Control,{as:"textarea",rows:3,placeholder:"Enter a description...",value:L,onChange:e=>H(e.target.value),required:!0}),M.description&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Description is required"})]})]}),(0,S.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"20px",borderTop:"1px solid #eaecf0",padding:"12px 30px 8px 20px"},children:[!T&&(0,S.jsx)(k.A,{color:null!==(a=v.current)&&void 0!==a&&null!==(o=a.panel)&&void 0!==o&&null!==(r=o.element)&&void 0!==r&&r.offsetParent?"#1AB2FF":"#475467",size:22,style:{position:"relative",left:"10px",zIndex:1},onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.show()},className:"me-3 cursor-pointer"}),(0,S.jsx)(_.m,{ref:v,options:(null===U||void 0===U||null===(d=U.data)||void 0===d?void 0:d.map((e=>({value:null===e||void 0===e?void 0:e.id,label:(null===e||void 0===e?void 0:e.name)||"-",photo:(null===e||void 0===e?void 0:e.photo)||""}))))||[],onChange:e=>{$(e.value)},valueTemplate:e=>(0,S.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden"},children:(null===e||void 0===e?void 0:e.photo)&&(0,S.jsx)("img",{src:null===e||void 0===e?void 0:e.photo,alt:"user-img",style:{width:"24px",height:"24px",borderRadius:"50%"}})}),null===e||void 0===e?void 0:e.label]}),itemTemplate:e=>(0,S.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden"},children:(0,S.jsx)("img",{src:null===e||void 0===e?void 0:e.photo,alt:"user-img",style:{width:"24px",height:"24px",borderRadius:"50%"}})}),null===e||void 0===e?void 0:e.label]}),className:"outline-none border-0 p-0",style:{width:T?"fit-content":"0px",height:T?"46px":"0px",zIndex:T?"1":"0",position:"relative",left:T?"0px":"-60px",top:T?"0px":"-15px"},value:T,dropdownIcon:(0,S.jsx)(S.Fragment,{}),placeholder:"Select project",filter:!0}),(0,S.jsx)(B.A,{dateRange:R,setDateRange:P})]}),(0,S.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"16px",padding:"0 30px 8px 30px"},children:[M.user&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"User is required"}),M.date&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Date is required"})]}),(0,S.jsxs)(p.A.Footer,{className:"d-flex justify-content-between",children:[(0,S.jsx)(u.A,{type:"button",className:"delete-button",onClick:()=>{Z.mutate()},children:Z.isPending?"Loading...":"Delete Task"}),(0,S.jsx)(u.A,{type:"button",className:"save-button",onClick:O,children:V.isPending?"Loading...":"Save Task"})]})]})})})},z=()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",size:"lg"})}),(0,S.jsx)(m.A,{as:"p",animation:"wave",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",style:{height:"80px"},size:"lg"})}),(0,S.jsx)("table",{className:"task-deatils-table w-100",children:(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})}),(0,S.jsx)("td",{style:{paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})})]}),(0,S.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})}),(0,S.jsx)("td",{style:{paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})})]}),(0,S.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})}),(0,S.jsx)("td",{style:{paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})})]}),(0,S.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})}),(0,S.jsx)("td",{style:{paddingBottom:"12px"},children:(0,S.jsx)(m.A,{as:"p",animation:"wave",style:{marginBottom:"4px"},children:(0,S.jsx)(m.A,{xs:12,bg:"secondary"})})})]})]})})]}),L=e=>{var t,s;let{view:i,setView:n,taskId:a,setTaskId:o,reInitilize:r}=e;const[d,c]=(0,l.useState)(!1),{isFetching:x,data:h,isError:w,refetch:A}=(0,b.I)({queryKey:["taskId",a],queryFn:()=>(0,y.dd)(a),enabled:!!a,retry:1}),C=(0,f.n)({mutationFn:e=>(0,y._x)(a,e),onSuccess:()=>{N(),o(null),r()},onError:e=>{console.error("Error updating task:",e)}}),N=()=>n(!1),F=e=>{var t;if(!e)return"-";return null===(t=new Date(1e3*+e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))||void 0===t?void 0:t.replace(/,/g,"")};return(0,l.useEffect)((()=>{d||o(null)}),[d]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(p.A,{show:i,centered:!0,onHide:N,children:[(0,S.jsx)(p.A.Header,{closeButton:!0,children:(0,S.jsxs)(p.A.Title,{children:[(0,S.jsx)("img",{src:j.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,S.jsx)("span",{className:"modal-task-title",children:"Task Details"})]})}),(0,S.jsx)(p.A.Body,{children:x?(0,S.jsx)(z,{}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{className:"task-title",children:(null===h||void 0===h?void 0:h.title)||"-"}),(0,S.jsx)("p",{className:"task-description",children:(null===h||void 0===h?void 0:h.description)||"-"}),(0,S.jsx)("table",{className:"task-deatils-table",children:(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{style:{marginBottom:"12px"},children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"Project Task"}),(0,S.jsx)("td",{style:{paddingBottom:"12px"},children:null!==h&&void 0!==h&&h.project&&h.project.reference?h.project.reference:"-"})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"ID"}),(0,S.jsx)("td",{style:{paddingBottom:"12px"},children:(null===h||void 0===h?void 0:h.number)||"-"})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"Assigned"}),(0,S.jsxs)("td",{style:{paddingBottom:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,S.jsx)("img",{src:null!==h&&void 0!==h&&null!==(t=h.user)&&void 0!==t&&t.has_photo?null===h||void 0===h?void 0:h.user.photo:v.A,alt:"img-assigned",style:{width:"24px",height:"24px",borderRadius:"50%"}}),(0,S.jsx)("span",{children:(null===h||void 0===h||null===(s=h.user)||void 0===s?void 0:s.full_name)||"-"})]})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{style:{width:"122px",paddingBottom:"12px"},children:"Date"}),(0,S.jsxs)("td",{style:{paddingBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,S.jsx)("span",{children:F(null===h||void 0===h?void 0:h.from_date)}),(0,S.jsx)(g.A,{size:20,color:"#475467"}),(0,S.jsx)("span",{children:F(null===h||void 0===h?void 0:h.to_date)})]})]})]})})]})}),(0,S.jsx)(p.A.Footer,{children:x?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.A,{as:"p",animation:"wave",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",style:{height:"46px",width:"115px",borderRadius:"4px"},size:"lg"})}),(0,S.jsx)(m.A,{as:"p",animation:"wave",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",style:{height:"46px",width:"125px",borderRadius:"4px"},size:"lg"})})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.A,{className:"edit-button",onClick:function(){c(!0),N()},children:"Edit Task"}),null!==h&&void 0!==h&&h.finished?(0,S.jsx)(u.A,{className:"incomplete-button",onClick:()=>C.mutate(!1),children:C.isPending?(0,S.jsx)(S.Fragment,{children:"Loading..."}):(0,S.jsxs)(S.Fragment,{children:["Incomplete",(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",children:(0,S.jsx)("path",{d:"M20 10.5C20 16.0228 15.5228 20.5 10 20.5C4.47715 20.5 0 16.0228 0 10.5C0 4.97715 4.47715 0.5 10 0.5C15.5228 0.5 20 4.97715 20 10.5ZM15.0379 6.71209C14.6718 6.34597 14.0782 6.34597 13.7121 6.71209C13.7032 6.72093 13.6949 6.73029 13.6872 6.74013L9.34674 12.2709L6.72985 9.65403C6.36373 9.28791 5.77014 9.28791 5.40402 9.65403C5.0379 10.0201 5.0379 10.6137 5.40402 10.9799L8.71208 14.2879C9.0782 14.654 9.67179 14.654 10.0379 14.2879C10.0461 14.2798 10.0538 14.2712 10.061 14.2622L15.0512 8.02434C15.404 7.65727 15.3995 7.07371 15.0379 6.71209Z",fill:"#F04438"})})]})}):(0,S.jsx)(u.A,{className:"complete-button",onClick:()=>C.mutate(!0),children:C.isPending?(0,S.jsx)(S.Fragment,{children:"Loading..."}):(0,S.jsxs)(S.Fragment,{children:["Complete",(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",children:(0,S.jsx)("path",{d:"M20 10.5C20 16.0228 15.5228 20.5 10 20.5C4.47715 20.5 0 16.0228 0 10.5C0 4.97715 4.47715 0.5 10 0.5C15.5228 0.5 20 4.97715 20 10.5ZM15.0379 6.71209C14.6718 6.34597 14.0782 6.34597 13.7121 6.71209C13.7032 6.72093 13.6949 6.73029 13.6872 6.74013L9.34674 12.2709L6.72985 9.65403C6.36373 9.28791 5.77014 9.28791 5.40402 9.65403C5.0379 10.0201 5.0379 10.6137 5.40402 10.9799L8.71208 14.2879C9.0782 14.654 9.67179 14.654 10.0379 14.2879C10.0461 14.2798 10.0538 14.2712 10.061 14.2622L15.0512 8.02434C15.404 7.65727 15.3995 7.07371 15.0379 6.71209Z",fill:"#17B26A"})})]})})]})})]}),h&&(0,S.jsx)(I,{show:d,setShow:c,data:h,reInitilize:r},d)]})};var H=s(84678);const T=e=>{var t,s,i,n;let{show:a,setShow:o,project:r,reInitilize:d,projectCardData:c}=e;const x=(0,l.useRef)(null),[h,m]=(0,l.useState)(""),[v,j]=(0,l.useState)(""),[g,C]=(0,l.useState)(null),[D,I]=(0,l.useState)(null),[z,L]=(0,l.useState)({taskTitle:!1,description:!1,user:!1,date:!1}),T=(0,f.n)({mutationFn:e=>(0,y.Nl)(e),onSuccess:()=>{o(!1),m(""),j(""),C(null),I(null),L({taskTitle:!1,description:!1,user:!1,date:!1}),d(),c&&c()},onError:e=>{console.error("Error creating task:",e)}}),$=(0,b.I)({queryKey:["getUserList"],queryFn:E.aU});return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(p.A,{show:a,centered:!0,onHide:()=>o(!1),className:"task-form",children:[(0,S.jsx)(p.A.Header,{closeButton:!0,children:(0,S.jsxs)(p.A.Title,{children:[(0,S.jsx)("img",{src:H.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,S.jsx)("span",{className:"modal-task-title",children:"New Task"})]})}),(0,S.jsxs)(p.A.Body,{children:[(0,S.jsxs)(w.A.Group,{className:"mb-3",children:[(0,S.jsx)(w.A.Label,{children:"Task Title"}),(0,S.jsxs)(A.A,{children:[(0,S.jsx)(w.A.Control,{required:!0,type:"text",placeholder:"Enter task title",value:h,onChange:e=>m(e.target.value)}),(0,S.jsx)(A.A.Text,{children:(0,S.jsx)(F.A,{})})]}),z.taskTitle&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Task title is required"})]}),(0,S.jsxs)(w.A.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,S.jsx)(w.A.Label,{children:"Description"}),(0,S.jsx)(w.A.Control,{as:"textarea",rows:3,placeholder:"Enter a description...",value:v,onChange:e=>j(e.target.value),required:!0}),z.description&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Description is required"})]}),(0,S.jsxs)(w.A.Group,{className:"mb-2",children:[(0,S.jsx)(w.A.Label,{children:"Project Task"}),(0,S.jsxs)(A.A,{children:[(0,S.jsx)(w.A.Select,{disabled:!0,children:(0,S.jsxs)("option",{value:r.value,children:[r.reference," (",r.number,")"]})}),(0,S.jsx)(A.A.Text,{children:(0,S.jsx)(N.A,{})})]}),!r&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Project task is required"})]})]}),(0,S.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"20px",borderTop:"1px solid #eaecf0",padding:"12px 30px 8px 20px"},children:[!g&&(0,S.jsx)(k.A,{color:null!==(t=x.current)&&void 0!==t&&null!==(s=t.panel)&&void 0!==s&&null!==(i=s.element)&&void 0!==i&&i.offsetParent?"#1AB2FF":"#475467",size:22,style:{position:"relative",left:"10px",zIndex:1},onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.show()},className:"me-3 cursor-pointer"}),(0,S.jsx)(_.m,{ref:x,options:(null===$||void 0===$||null===(n=$.data)||void 0===n?void 0:n.map((e=>({value:null===e||void 0===e?void 0:e.id,label:(null===e||void 0===e?void 0:e.name)||"-",photo:(null===e||void 0===e?void 0:e.photo)||""}))))||[],onChange:e=>{C(e.value)},valueTemplate:e=>(0,S.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden"},children:(null===e||void 0===e?void 0:e.photo)&&(0,S.jsx)("img",{src:null===e||void 0===e?void 0:e.photo,alt:"user-img",style:{width:"24px",height:"24px",borderRadius:"50%"}})}),null===e||void 0===e?void 0:e.label]}),itemTemplate:e=>(0,S.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden"},children:(0,S.jsx)("img",{src:null===e||void 0===e?void 0:e.photo,alt:"user-img",style:{width:"24px",height:"24px",borderRadius:"50%"}})}),null===e||void 0===e?void 0:e.label]}),className:"outline-none border-0 p-0",style:{width:g?"fit-content":"0px",height:g?"46px":"0px",zIndex:g?"1":"0",position:"relative",left:g?"0px":"-60px",top:g?"0px":"-15px"},value:g,dropdownIcon:(0,S.jsx)(S.Fragment,{}),placeholder:"Select project",filter:!0}),(0,S.jsx)(B.A,{dateRange:D,setDateRange:I})]}),(0,S.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"16px",padding:"0 30px 8px 30px"},children:[z.user&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"User is required"}),z.date&&(0,S.jsx)(w.A.Text,{className:"text-danger",children:"Date is required"})]}),(0,S.jsx)(p.A.Footer,{children:(0,S.jsx)(u.A,{type:"button",className:"save-button",onClick:()=>{const e={taskTitle:!h,description:!v,user:!g,date:!D};L(e),e.taskTitle||e.description||e.user||e.date||(T.mutate({title:h,description:v,project:r.value,user:g,from_date:D.startDate,to_date:D.endDate}),console.log("Form submitted with:",{taskTitle:h,description:v,user:g,date:D}))},children:T.isPending?"Loading...":"Create Task"})})]})})};var $=s(61072),R=s(78602),P=s(94673),M=s(73898),q=s(56741),V=s(41390),Z=s(71807),O=s(52572),U=s(72413),G=s(99832),K=s(27066),W=s(38300),J=s(22927),Q=s(90991),Y=s(33361),X=s(77918),ee=s(72970),te=s(88578),se=s(78869),le=s(64196);const ie=s.p+"static/media/addNoteModeIcon.43bdc8582f3ef769329a44f15a05fe67.svg",ne=e=>{let{projectId:t,projectCardData:s}=e;const[i,n]=(0,l.useState)(!1),[a,o]=(0,l.useState)(""),[r,d]=(0,l.useState)({}),c=()=>n(!1),h=(0,f.n)({mutationFn:e=>(0,x.o2)(t,e),onSuccess:()=>{c(),s(t)},onError:e=>{console.error("Error creating task:",e)}});return(0,l.useEffect)((()=>{i||(o(""),d({}))}),[i]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"linkByttonStyle",onClick:()=>n(!0),children:"Add Note"}),(0,S.jsxs)(p.A,{show:i,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"taskModelProject",onHide:c,animation:!1,children:[(0,S.jsxs)(p.A.Header,{className:"mb-0 pb-0 border-0",children:[(0,S.jsx)("div",{className:"modelHeader d-flex justify-content-between align-items-start",children:(0,S.jsxs)("span",{children:[(0,S.jsx)("img",{src:ie,alt:"AddNoteModeIcon"}),"Add Note"]})}),(0,S.jsx)("button",{className:"CustonCloseModal",onClick:c,children:(0,S.jsx)(q.A,{size:24,color:"#667085"})})]}),(0,S.jsx)(p.A.Body,{children:(0,S.jsx)("div",{className:"ContactModel",children:(0,S.jsx)($.A,{children:(0,S.jsx)(R.A,{children:(0,S.jsxs)("div",{className:"formgroup mb-2 mt-2",children:[(0,S.jsx)("label",{children:"Note "}),(0,S.jsx)("div",{className:"inputInfo "+(r.description?"error-border":""),children:(0,S.jsx)("textarea",{type:"text",name:"Enter a message here...",value:a,placeholder:"Enter a message here...",onChange:e=>{o(e.target.value)}})}),r.description&&(0,S.jsx)("p",{className:"error-message",children:r.description})]})})})})}),(0,S.jsx)(p.A.Footer,{className:"pt-0",children:(0,S.jsxs)("div",{className:"popoverbottom w-100  border-0 mt-0 pt-0",children:[(0,S.jsx)(u.A,{variant:"outline-danger",onClick:c,children:"Cancel"}),(0,S.jsx)(u.A,{variant:"primary save",onClick:()=>{if(!a)return d((e=>({...e,description:"Note is required"})));d((e=>({...e,description:""}))),h.mutate({text:a})},children:h.isPending?"Loading...":"Save"})]})})]})]})},ae=e=>{let{project:t,reInitilize:s,projectCardData:i}=e;console.log("project: ",t);const[n,a]=(0,l.useState)(!1);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"linkByttonStyle",onClick:()=>a(!0),children:"New Task"}),(0,S.jsx)(T,{show:n,setShow:a,project:t,reInitilize:s,projectCardData:i})]})};var oe=s(73216),re=s(17380);const de="send-sms_countrySelector__y14UT";var ce=s(17803),xe=s(93740),he=s(56328);const ue=ce.PhoneNumberUtil.getInstance(),pe=e=>{let{projectId:t,projectCardData:s}=e;const i=(0,oe.Zp)(),[n,a]=(0,l.useState)(!1),[o,r]=(0,l.useState)(""),[d,c]=(0,l.useState)({}),[h,m]=(0,l.useState)(""),v=(e=>{try{return ue.isValidNumber(ue.parseAndKeepRawInput(e))}catch(t){return!1}})(h),j=()=>{a(!1),r(""),m("")},g=(0,f.n)({mutationFn:e=>(0,x.qm)(t,e),onSuccess:e=>{he.oR.success("SMS send successfully"),j(),s()},onError:e=>{console.error("Error creating expense:",e),he.oR.error("Failed to send sms. Please try again.")}});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"linkByttonStyle",onClick:()=>{const e=JSON.parse(window.localStorage.getItem("profileData")||"{}");null!==e&&void 0!==e&&e.has_twilio?a(!0):i("/settings/integrations?openTwilio=true")},children:"Send SMS"}),(0,S.jsxs)(p.A,{show:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"taskModelProject",onHide:j,animation:!1,children:[(0,S.jsxs)(p.A.Header,{className:"mb-0 pb-0 border-0",children:[(0,S.jsx)("div",{className:"modelHeader d-flex justify-content-between align-items-start",children:(0,S.jsxs)("span",{children:[(0,S.jsx)("img",{src:ie,alt:"AddNoteModeIcon"}),"Send SMS"]})}),(0,S.jsx)("button",{className:"CustonCloseModal",onClick:j,children:(0,S.jsx)(q.A,{size:24,color:"#667085"})})]}),(0,S.jsx)(p.A.Body,{children:(0,S.jsxs)("div",{className:"ContactModel",children:[(0,S.jsx)($.A,{children:(0,S.jsx)(R.A,{children:(0,S.jsxs)("div",{className:"formgroup sendSMSPhone mb-2 mt-0",children:[(0,S.jsx)("label",{children:"To"}),(0,S.jsx)("div",{className:"inputInfo p-0 "+(d.taskRead?"error-border":"border-0"),children:(0,S.jsx)(re.LR,{defaultCountry:"au",placeholder:"Enter phone number",value:h||"",className:"phoneInput w-100",containerClass:de,onChange:e=>{m(e)}})}),!v&&(0,S.jsx)("p",{className:"error-message",children:"Phone is not valid"})]})})}),(0,S.jsx)($.A,{children:(0,S.jsx)(R.A,{children:(0,S.jsxs)("div",{className:"formgroup mb-2 mt-2",children:[(0,S.jsx)("label",{children:"Message "}),(0,S.jsx)("div",{className:"inputInfo "+(d.description?"error-border":""),children:(0,S.jsx)("textarea",{type:"text",name:"Enter a message here...",value:o,placeholder:"Enter a message here...",onChange:e=>{r(e.target.value),c({})}})}),d.message&&(0,S.jsx)("p",{className:"error-message",children:"Description is required"})]})})}),(0,S.jsx)($.A,{}),(0,S.jsxs)("div",{className:"popoverbottom  mt-0 pt-4",children:[(0,S.jsx)(u.A,{variant:"outline-danger",onClick:j,children:"Cancel"}),(0,S.jsxs)(u.A,{variant:"primary save d-flex align-items-center gap-2",onClick:()=>{if(!o)return c({message:!0});o&&v&&g.mutate({phone_number:h,message:o})},children:["Save",(null===g||void 0===g?void 0:g.isPending)&&(0,S.jsx)(xe.p,{style:{width:"15px",height:"15px"}})]})]})]})})]})]})};s(23274);var me=s(59638),ve=s(81242);const je=e=>{var t;let{clientId:s,projectId:i,projectCardData:n}=e;const[a,o]=(0,l.useState)({}),[r,d]=(0,l.useState)(!1),c=(0,b.I)({queryKey:["getClientById",s],queryFn:()=>(0,me.EZ)(s),enabled:!!s,retry:1}),h=(0,f.n)({mutationFn:e=>(0,x.jy)(i,"",e),onSuccess:e=>{d(!1),n(),he.oR.success("Email send successfully.")},onError:e=>{console.error("Error sending email:",e),he.oR.error("Failed to send email. Please try again.")}});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"linkByttonStyle",onClick:()=>d(!0),children:"Compose Email"}),(0,S.jsx)(ve.A,{show:r,isLoading:!1,mutation:h,setShow:d,setPayload:o,contactPersons:(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.contact_persons)||[]})]})};var ge=s(19540),be=s(96327);s.p;var fe=s(41292);const ye=s.p+"static/media/calendar.9ebe7da58af479b138e37b33d2affea2.svg";var we=s(46291),Ae=s(69767),Ce=s(83570),Ne=s(64967),Fe=s(39759);const ke=[{icon:(0,S.jsx)(J.A,{size:16,color:"#1AB2FF"}),label:"Invoice",value:"invoice"},{icon:(0,S.jsx)(Ae.A,{size:16,color:"#1AB2FF"}),label:"Quote",value:"quote"},{icon:(0,S.jsx)(Ce.A,{size:16,color:"#1AB2FF"}),label:"System",value:"system"},{icon:(0,S.jsx)(K.A,{size:16,color:"#1AB2FF"}),label:"Notes",value:"note"},{icon:(0,S.jsx)(Y.A,{size:16,color:"#1AB2FF"}),label:"Email",value:"email"},{icon:(0,S.jsx)(Q.A,{size:16,color:"#1AB2FF"}),label:"SMS",value:"sms"},{icon:(0,S.jsx)(W.A,{size:16,color:"#1AB2FF"}),label:"Tasks",value:"task"},{icon:(0,S.jsx)(G.A,{size:16,color:"#1AB2FF"}),label:"Job Created",value:"job"},{icon:(0,S.jsx)(Ne.A,{size:16,color:"#1AB2FF"}),label:"Expense Linked",value:"order"}],Se=e=>{let{setFilteredHistoryOptions:t}=e;const[s,i]=(0,l.useState)(!1),[n,a]=(0,l.useState)([]);console.log("tempSelectedOptions: ",n);return(0,S.jsxs)("div",{className:"projectCardFilterDropdown",children:[(0,S.jsx)("span",{onClick:()=>i((e=>!e)),children:(0,S.jsx)(Fe.A,{size:20,color:"#344054"})}),s&&(0,S.jsxs)("div",{className:"dropdown-menuF",children:[(0,S.jsxs)("button",{className:"all p-0 w-100 text-left d-flex justify-content-between align-items-center",onClick:()=>{(null===n||void 0===n?void 0:n.length)>0?a([]):a(ke.map((e=>e.value)))},children:[(0,S.jsx)("span",{className:"border-0",children:"All"}),ke.length===(null===n||void 0===n?void 0:n.length)&&(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,S.jsx)("path",{d:"M16.6666 5L7.49992 14.1667L3.33325 10",stroke:"#1AB2FF","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,S.jsx)("ul",{children:ke.map((e=>{let{icon:t,label:s,value:l}=e;return(0,S.jsx)("li",{className:n.includes(s)?"active":"",onClick:()=>(e=>{a((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(l),children:(0,S.jsxs)("label",{for:s,className:"w-100 d-flex justify-content-between align-items-center",children:[(0,S.jsx)("input",{id:s,type:"checkbox",checked:n.includes(l),readOnly:!0,style:{cursor:"pointer",height:"40px"}}),(0,S.jsxs)("span",{className:"border-0",children:[t," ",s]}),n.includes(l)&&(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,S.jsx)("path",{d:"M16.6666 5L7.49992 14.1667L3.33325 10",stroke:"#1AB2FF","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})})]})},s)}))}),(0,S.jsxs)("div",{className:"dropdown-buttonsF",children:[(0,S.jsx)("button",{className:"cancel",onClick:()=>a([]),children:"Cancel"}),(0,S.jsx)("button",{className:"apply",onClick:()=>{t(n),i(!1)},children:"Apply"})]})]})]})};s.p;var Be=s(34168);const _e=(e,t)=>{const s={month:"short",day:"numeric"};return`${new Date(e).toLocaleDateString("en-US",s)} - ${new Date(t).toLocaleDateString("en-US",s)}`},Ee=e=>{let{startDate:t,endDate:s}=e;return(0,S.jsxs)(u.A,{className:"dateSelectdTaskBar schedule schActive",style:{minWidth:"160px",minHeight:"46px"},children:[_e(t,s)," ",(0,S.jsx)("img",{src:ge.A,alt:"OrdersIcon"})]})},De=e=>{let{projectId:t,startDate:s,endDate:i}=e;const[n,a]=(0,l.useState)({startDate:null,endDate:null}),[o,r]=(0,l.useState)(!1),d=(0,l.useRef)(null),c=(0,f.n)({mutationFn:e=>(0,x.mw)(t,e),onSuccess:async()=>{},onError:e=>{a({startDate:null,endDate:null}),console.error("Error creating task:",e)}}),h=e=>{d.current&&!d.current.contains(e.target)&&r(!1)};return(0,l.useEffect)((()=>{s&&i&&a({startDate:new Date(1e3*+s),endDate:new Date(1e3*+i)})}),[s,i]),(0,l.useEffect)((()=>(o?document.addEventListener("mousedown",h):document.removeEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)})),[o]),(0,S.jsxs)("div",{className:"select-date",style:{position:"relative"},ref:d,children:[(0,S.jsx)("div",{onClick:()=>r((e=>!e)),style:{cursor:"pointer"},children:null!==n&&void 0!==n&&n.startDate&&null!==n&&void 0!==n&&n.endDate?(0,S.jsx)(Ee,{isPending:c.isPending,startDate:n.startDate,endDate:n.endDate}):(0,S.jsxs)(u.A,{className:"schedule schActive  "+(o?"active":""),children:["Schedule Project  ",(0,S.jsx)("img",{src:ge.A,alt:"OrdersIcon"})]})}),o&&(0,S.jsx)("div",{className:"select-date-range",style:{position:"absolute",bottom:"40px",background:"#fff",zIndex:1e3},children:(0,S.jsx)(Be.A,{onDataApply:e=>{c.mutate({booking_start:e.startDate,booking_end:e.endDate}),a(e),r(!1)},dateRange:n,onClose:()=>r(!1)})})]})};var Ie=s(26189),ze=s(10605),Le=s(34404);s(93066);const He={"#1AB2FF":{bg:"#BAE8FF",border:"#1AB2FF",color:"#0A4766",text:"Blue"},"#4E5BA6":{bg:"#EAECF5",border:"#4E5BA6",color:"#293056",text:"Deep Blue"},"#2970FF":{bg:"#D1E0FF",border:"#2970FF",color:"#0040C1",text:"Dark Blue"},"#FFB258":{bg:"#FFE8CD",border:"#FFB258",color:"#6D471A",text:"Orange"},"#15B79E":{bg:"#CCFBEF",border:"#15B79E",color:"#125D56",text:"Green"},"#66C61C":{bg:"#E3FBCC",border:"#66C61C",color:"#326212",text:"Light Green"},"#7A5AF8":{bg:"#EBE9FE",border:"#7A5AF8",color:"#4A1FB8",text:"Light Purple"},"#D444F1":{bg:"#FBE8FF",border:"#D444F1",color:"#821890",text:"Magenta"},"#F63D68":{bg:"#FFE4E8",border:"#F63D68",color:"#A11043",text:"Pink"},"#FF007F":{bg:"#FFCCE5",border:"#FF007F",color:"#6F0A3C",text:"Soft Pink"},"#FFD700":{bg:"#FFF8D1",border:"#FFD700",color:"#997100",text:"Yellow"},"#6C6C1C":{bg:"#E1E1B8",border:"#6C6C1C",color:"#444403",text:"Dark Yellow"}},Te=e=>{var t,s,i;let{projectId:n,statusOptions:a,custom_status:o}=e;const[r,d]=(0,l.useState)(null),c=(0,f.n)({mutationFn:e=>(0,x.Np)(n,e),onSuccess:async()=>{},onError:e=>{d(o),console.error("Error creating task:",e)}});return(0,l.useEffect)((()=>{d(o)}),[o]),(0,S.jsx)(Ie.W,{menuButton:(0,S.jsxs)(ze.I,{style:{width:"204px",display:"inline-flex",alignItems:"center",justifyContent:"flex-end",padding:"8px 0px",cursor:"pointer",background:"transparent",border:"none",color:"#98A2B3",gap:"10px"},children:[r&&r.title?(0,S.jsx)("div",{className:"d-flex justify-content-center",style:{width:"204px",height:"30px",borderRadius:"4px",overflow:"hidden"},children:(0,S.jsx)(S.Fragment,{children:c.isPending?(0,S.jsx)("div",{class:"dot-flashing"}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"h-100",style:{width:"4px",background:`${null===(t=He[null===r||void 0===r?void 0:r.color])||void 0===t?void 0:t.border}`}}),(0,S.jsxs)("div",{className:"h-100 statusFlex d-flex align-items-center",style:{width:"100%",background:`${null===(s=He[null===r||void 0===r?void 0:r.color])||void 0===s?void 0:s.bg}`},children:[(0,S.jsx)("span",{style:{color:`${null===(i=He[null===r||void 0===r?void 0:r.color])||void 0===i?void 0:i.color}`,fontSize:"14px",paddingLeft:"12px",fontWeight:"400"},children:null===r||void 0===r?void 0:r.title}),(0,S.jsx)("span",{className:"inArrow",children:(0,S.jsx)(N.A,{color:"#98A2B3",size:15})})]})]})})}):(0,S.jsx)("div",{className:"d-flex justify-content-center",style:{width:"204px",height:"30px",borderRadius:"4px",overflow:"hidden"},children:(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"h-100",style:{width:"4px",background:"#1D2939"}}),(0,S.jsxs)("div",{className:"h-100 statusFlex d-flex align-items-center",style:{width:"100%",background:"#F2F4F7"},children:[(0,S.jsx)("span",{style:{color:"#1D2939",fontSize:"14px",paddingLeft:"12px",fontWeight:"400"},children:"No Status"}),(0,S.jsx)("span",{className:"inArrow",children:(0,S.jsx)(N.A,{color:"#98A2B3",size:15})})]})]})})}),(0,S.jsx)("span",{className:"outArrow",children:(0,S.jsx)(N.A,{color:"#98A2B3",size:15})})]}),overflow:"auto",position:"anchor",children:null===a||void 0===a?void 0:a.map(((e,t)=>{var s,l,i;return(0,S.jsx)(Le.D,{style:{textAlign:"left"},onClick:()=>{var t;null!==(t=e)&&void 0!==t&&t.id&&(c.mutate({custom_status:null===t||void 0===t?void 0:t.id}),d(t))},children:(0,S.jsxs)("div",{className:"d-flex",style:{width:"163px",height:"30px",borderRadius:"4px",overflow:"hidden"},children:[(0,S.jsx)("div",{className:"h-100",style:{width:"4px",background:`${null===(s=He[null===e||void 0===e?void 0:e.color])||void 0===s?void 0:s.border}`}}),(0,S.jsx)("div",{className:"h-100 d-flex align-items-center",style:{width:"100%",background:`${null===(l=He[null===e||void 0===e?void 0:e.color])||void 0===l?void 0:l.bg}`},children:(0,S.jsx)("span",{style:{color:`${null===(i=He[null===e||void 0===e?void 0:e.color])||void 0===i?void 0:i.color}`,fontSize:"14px",paddingLeft:"12px",fontWeight:"400"},children:null===e||void 0===e?void 0:e.title})})]})},e.id)}))})};var $e=s(35475),Re=s(67046),Pe=s(19004);const Me=e=>{var t;let{clientId:s,projectId:i,isLoading:n,create:a,projectCardData:o,isCreated:r}=e;const[d,c]=(0,l.useState)(!1),[x,h]=(0,l.useState)({}),p=(0,b.I)({queryKey:["id",s],queryFn:()=>(0,me.EZ)(s),enabled:!!s,retry:1});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(u.A,{className:"InvoiceAction InvoiceActive me-3",onClick:()=>c(!0),children:[r?"Resend":"Create"," Invoice  ",(0,S.jsx)("img",{src:we.A,alt:"Invoices"})]}),(0,S.jsx)(Pe.A,{projectId:i,show:d,create:a,isLoading:n,setShow:c,setPayload:h,contactPersons:(null===p||void 0===p||null===(t=p.data)||void 0===t?void 0:t.contact_persons)||[],projectCardData:o,isCreated:r})]})};const qe=s.p+"static/media/googleReviewIcon.0184cc6ef401c44935cf67effccb9dd0.svg",Ve=e=>{var t;let{clientId:s,projectId:i}=e;const[n,a]=(0,l.useState)({}),[o,r]=(0,l.useState)(!1),d=(0,b.I)({queryKey:["getClientById",s],queryFn:()=>(0,me.EZ)(s),enabled:!!s,retry:1}),c=(0,f.n)({mutationFn:e=>(0,x.jy)(i,"google-review",e),onSuccess:e=>{r(!1),he.oR.success("Email send successfully.")},onError:e=>{console.error("Error sending email:",e),he.oR.error("Failed to send email. Please try again.")}});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(u.A,{className:"googleBut googleActive",onClick:()=>r(!0),children:["Google Review  ",(0,S.jsx)("img",{src:qe,alt:"GoogleReview"})]}),(0,S.jsx)(ve.A,{show:o,mutation:c,isLoading:!1,setShow:r,setPayload:a,contactPersons:(null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.contact_persons)||[],defaultTemplateId:21})]})},Ze=e=>{var t;let{viewShow:s,setViewShow:i,projectId:n,project:a,statusOptions:o,reInitilize:r}=e;const d=(0,oe.Zp)(),[c,h]=(0,l.useState)(!1),[j,g]=(0,l.useState)(!0),[b,y]=(0,l.useState)(null),[w,A]=(0,l.useState)(!1),[C,N]=(0,l.useState)(""),[F,k]=(0,l.useState)([]),[B,_]=(0,l.useState)([]),[E,D]=(0,l.useState)([]),I=((parseFloat(null===b||void 0===b?void 0:b.cost_of_sale)||0)+(parseFloat(null===b||void 0===b?void 0:b.labor_expenses)||0)+(parseFloat(null===b||void 0===b?void 0:b.operating_expense)||0)).toFixed(2),z=()=>{i(!1),r()},L=async e=>{g(!0);try{const t=await(0,x.OE)(e);y(t)}catch(t){console.error("Error fetching project card data:",t)}finally{g(!1)}},H=(0,f.n)({mutationFn:e=>(0,x.aj)(n,e),onSuccess:()=>{y((e=>({...e,reference:C})))},onError:e=>{console.error("Error creating task:",e)}}),T=e=>{const t=new Date(1e3*e);return`${new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(t)} | ${new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(t)} | ${`${t.getDate()} ${new Intl.DateTimeFormat("en-US",{month:"short"}).format(t)} ${t.getFullYear()}`}`},ie=(0,f.n)({mutationFn:e=>(0,x.jE)(e),onSuccess:e=>{e?d("/sales"):he.oR.error("Failed to update sendBack to sales. Please try again.")},onError:e=>{console.error("Error updating sendBack to sales:",e),he.oR.error("Failed to update sendBack to sales. Please try again.")}}),re=(0,f.n)({mutationFn:e=>(0,x.ZE)(e),onSuccess:e=>{e?(z(),he.oR.success("Order has been successfully declined")):he.oR.error("Failed to decline the order. Please try again.")},onError:e=>{console.error("Error declining the order:",e),he.oR.error("Failed to decline the order. Please try again.")}}),de=(0,f.n)({mutationFn:e=>(0,x.yE)(e),onSuccess:e=>{e?(d("/sales"),he.oR.success("Project has been successfully completed")):he.oR.error("Failed to complete the project. Please try again.")},onError:e=>{console.error("Error completing the project:",e),he.oR.error("Failed to complete the project. Please try again.")}}),ce=(0,f.n)({mutationFn:e=>(0,x.SE)(e),onSuccess:e=>{e?(z(),L(n),he.oR.success("Invoice has been successfully created")):he.oR.error("Failed to create the invoice. Please try again.")},onError:e=>{console.error("Error creating the invoice:",e),he.oR.error("Failed to create the invoice. Please try again.")}});(0,l.useEffect)((()=>{if(null!==E&&void 0!==E&&E.length){var e;let t=null===b||void 0===b||null===(e=b.history)||void 0===e?void 0:e.filter((e=>E.includes(e.type)));_(t||[])}else _(null===b||void 0===b?void 0:b.history)}),[E,null===b||void 0===b?void 0:b.history]),(0,l.useEffect)((()=>{if(b){let e=[...null===b||void 0===b?void 0:b.expenses.map((e=>({...e,type:"expense"}))),...null===b||void 0===b?void 0:b.jobs.map((e=>({...e,type:"job"})))].sort(((e,t)=>parseInt(t.created)-parseInt(e.created)));k(e),_((null===b||void 0===b?void 0:b.history)||[])}}),[b]),(0,l.useEffect)((()=>{n&&s&&L(n)}),[n,s]);const ue=e=>{var t,s,i,n;let{emailData:a}=e;const[o,r]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),x=(0,l.useRef)(null),h=(e=>{var t,s,l;const i=e.split("\n"),n=(null===(t=i.find((e=>e.startsWith("Subject:"))))||void 0===t?void 0:t.replace("Subject: ",""))||"",a=(null===(s=i.find((e=>null===e||void 0===e?void 0:e.startsWith("Recipient(s):"))))||void 0===s?void 0:s.replace("Recipient(s): ",""))||[];return{subject:n,recipients:JSON.parse((null===a||void 0===a?void 0:a.length)&&(null===a||void 0===a?void 0:a.replace(/'/g,'"'))),body:null===(l=e.split("Body:")[1])||void 0===l?void 0:l.trim()}})(a),u=null===(t=h.body)||void 0===t||null===(s=t.split(/<\/p>\s*<p>|<br\s*\/?>|\n/))||void 0===s?void 0:s.map(((e,t)=>`<p key=${t}>${null===e||void 0===e?void 0:e.trim()}</p>`)),p=null===u||void 0===u?void 0:u.join("");return(0,l.useEffect)((()=>{if(x.current){const e=x.current.scrollHeight;c(e>90)}}),[p]),(0,S.jsxs)("div",{children:[(0,S.jsxs)("ul",{className:"d-flex flex-column align-items-start",children:[(0,S.jsxs)("li",{className:"font-12",children:[(0,S.jsx)("strong",{className:"font-12",children:"Subject:"}),"\xa0 ",h.subject]}),(0,S.jsxs)("li",{children:[(0,S.jsx)("strong",{className:"font-12",children:"Recipients:"}),"\xa0",(0,S.jsx)("ul",{children:(null===h||void 0===h||null===(i=h.recipients)||void 0===i?void 0:i.length)&&(null===h||void 0===h||null===(n=h.recipients)||void 0===n?void 0:n.map(((e,t)=>(0,S.jsx)("li",{className:"font-12",children:e},t))))})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{ref:x,style:{maxHeight:o?"none":"87px",overflowY:"hidden",overflowX:o?"auto":"hidden"},dangerouslySetInnerHTML:{__html:p}}),d&&(0,S.jsx)("button",{className:"text-button font-12 px-0",onClick:()=>r(!o),children:o?"Show Less":"Load More"})]})]})};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(p.A,{show:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"projectCardModel",onHide:z,animation:!1,children:[(0,S.jsxs)(p.A.Header,{className:"mb-0 pb-0 justify-content-between ",children:[(0,S.jsx)("div",{className:"modelHeader",children:(0,S.jsxs)("ul",{className:"d-flex justify-content-between align-items-center ",children:[(0,S.jsxs)("li",{className:"me-1 d-flex align-items-center",children:[(0,S.jsx)("strong",{className:"dollorIcon",style:{background:null!==b&&void 0!==b&&b.invoice_created?"paid"===(null===b||void 0===b?void 0:b.payment_status)?"#F2FDEC":"not_paid"===(null===b||void 0===b?void 0:b.payment_status)?"#FEF3F2":"#FFFAEB":"#F9FAFB"},children:(0,S.jsx)(P.A,{size:13,color:null!==b&&void 0!==b&&b.invoice_created?"paid"===(null===b||void 0===b?void 0:b.payment_status)?"#17B26A":"not_paid"===(null===b||void 0===b?void 0:b.payment_status)?"#F04438":"#B54708":"#667085"})}),j?(0,S.jsx)(m.A,{as:"span",animation:"wave",className:"ms-2 me-2",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",size:"md",style:{width:"120px"}})}):(0,S.jsxs)("span",{className:"cardId",children:[null===b||void 0===b?void 0:b.number," \xa0"]})]}),(0,S.jsxs)("li",{className:"refrencesTag mt-1",children:["Reference:\xa0",j?(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0 mt-1",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"120px",height:"20px"}})}):w?(0,S.jsx)("input",{type:"text",value:C,onChange:e=>{N(e.target.value)},onBlur:()=>{A(!1),H.mutate({reference:C})},autoFocus:!0,className:"border rounded"}):(0,S.jsx)(S.Fragment,{children:H.isPending?(0,S.jsx)("div",{class:"dot-flashing ms-5 mt-1"}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("small",{style:{color:"#1D2939",fontSize:"16px"},children:[" ",null===b||void 0===b?void 0:b.reference]}),(0,S.jsxs)("span",{children:[" ",(0,S.jsx)(M.A,{size:16,color:"#106B99",onClick:()=>{A(!0),N((null===b||void 0===b?void 0:b.reference)||"")},style:{cursor:"pointer"}})]})]})})]})]})}),(0,S.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"15px"},children:[(0,S.jsx)("div",{className:"selectButStatus",children:j?(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0 mt-1",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"120px",height:"20px"}})}):(0,S.jsx)(Te,{projectId:n,statusOptions:o,custom_status:null===b||void 0===b?void 0:b.custom_status})}),(0,S.jsx)("button",{className:"CustonCloseModal",onClick:z,children:(0,S.jsx)(q.A,{size:24,color:"#667085"})})]})]}),(0,S.jsx)(p.A.Body,{className:"p-0",children:(0,S.jsxs)("div",{className:"ContactModel",children:[(0,S.jsxs)($.A,{className:"text-left mt-0 projectCardMain",children:[(0,S.jsxs)(R.A,{sm:6,className:"orderDiscription",children:[(0,S.jsx)("strong",{children:"Order Description"}),(0,S.jsx)("div",{className:"customScrollBar",children:j?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0 mt-1",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"12px"}})}),(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0 mt-1",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"12px"}})}),(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0 mt-1",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"12px"}})}),(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0 mt-1",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"12px"}})})]}):(0,S.jsx)("ul",{children:null!==b&&void 0!==b&&null!==(t=b.calculator_descriptions)&&void 0!==t&&t.length?b.calculator_descriptions.map(((e,t)=>{let{description:s}=e;return(0,S.jsxs)("li",{children:["- ",s]},t)})):(0,S.jsx)("li",{children:"No Description available"})})}),(0,S.jsxs)("div",{className:"currentJobsTable",children:[(0,S.jsx)("h5",{children:"Current Jobs / Expense for this order"}),(0,S.jsxs)(le.A,{responsive:!0,children:[(0,S.jsx)("thead",{style:{position:"sticky",top:"0px",zIndex:9},children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"#"}),(0,S.jsx)("th",{children:"Reference"}),(0,S.jsx)("th",{children:"Supplier"}),(0,S.jsx)("th",{children:"Estimate/Total"}),(0,S.jsx)("th",{children:"Status"})]})}),(0,S.jsx)("tbody",{children:j?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"80%",height:"14px",position:"relative",left:"-10px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"80%",height:"14px",position:"relative",left:"-10px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"80%",height:"14px",position:"relative",left:"-10px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"80%",height:"14px",position:"relative",left:"-10px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(m.A,{as:"p",animation:"wave",className:"mb-0",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:"100%",height:"14px"}})})})]})]}):null!==F&&void 0!==F&&F.length?F.map(((e,t)=>{var s;return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(null===e||void 0===e?void 0:e.number)||"-"}),(0,S.jsx)("td",{children:"job"===(null===e||void 0===e?void 0:e.type)?(null===e||void 0===e?void 0:e.reference)||"-":(null===e||void 0===e?void 0:e.invoice_reference)||"-"}),(0,S.jsx)("td",{children:"job"===(null===e||void 0===e?void 0:e.type)?(0,S.jsx)(V.A,{size:24,color:"#101828"}):(0,S.jsx)("img",{src:(null===e||void 0===e||null===(s=e.supplier)||void 0===s?void 0:s.photo)||v.A,alt:"supplier",style:{width:"24px",height:"24px",borderRadius:"50%"}})}),(0,S.jsxs)("td",{children:["$",(null===e||void 0===e?void 0:e.total)||"-"]}),(0,S.jsx)("td",{className:"status",children:"job"===(null===e||void 0===e?void 0:e.type)?(0,S.jsx)("span",{children:(null===e||void 0===e?void 0:e.status)||"-"}):(0,S.jsx)("span",{className:null!==e&&void 0!==e&&e.paid?"paid":"unpaid",children:null!==e&&void 0!==e&&e.paid?"Paid":"Not Paid"})})]},e.number||`je-${t}`)})):(0,S.jsx)("tr",{children:(0,S.jsx)("td",{colSpan:5,className:"noDataAvilable",children:" No history available"})})})]})]})]}),(0,S.jsxs)(R.A,{sm:6,className:"projectHistoryCol",children:[(0,S.jsxs)($.A,{children:[(0,S.jsxs)(R.A,{className:"tabModelMenu d-flex justify-content-between align-items-center",children:[(0,S.jsx)(ne,{projectId:n,projectCardData:L}),(0,S.jsx)(ae,{project:a,reInitilize:r,projectCardData:()=>L(n)}),(0,S.jsx)(pe,{projectId:n,projectCardData:()=>L(n)}),(0,S.jsx)(je,{clientId:null===b||void 0===b?void 0:b.client,projectId:n,projectCardData:()=>L(n)})]}),(0,S.jsx)(R.A,{className:"d-flex justify-content-center align-items-center filter",children:(0,S.jsx)(Se,{setFilteredHistoryOptions:D})})]}),(0,S.jsx)($.A,{className:"projectHistoryWrap",children:(0,S.jsxs)(R.A,{className:"p-0",children:[(0,S.jsx)("h3",{children:"Project History"}),j?(0,S.jsx)(S.Fragment,{children:Array.from({length:10},((e,t)=>(0,S.jsx)(m.A,{as:"p",animation:"wave",className:t%2===0?"mb-0 mt-1":"mb-3 mt-1",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded-0",size:"sm",style:{width:t%2===0?"200px":"90%",height:t%2===0?"15px":"10px"}})},`history-key-${t+1}`)))}):(0,S.jsx)("div",{className:"projectHistoryScroll",children:null!==B&&void 0!==B&&B.length?B.map(((e,t)=>{let{id:s,type:l,text:i,title:a,created:o,manager:r,links:d,...c}=e;return(0,S.jsxs)("div",{className:"projectHistorygroup",children:[(0,S.jsx)("ul",{children:(0,S.jsx)("li",{children:"quote"===l?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)(Z.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Quote \xa0"}),"\xa0",(null===d||void 0===d?void 0:d.quote_pdf)&&(0,S.jsx)($e.N_,{to:`${(null===d||void 0===d?void 0:d.quote_pdf)||"#"}`,target:"_blank",children:(0,S.jsx)(O.A,{color:"#FF0000",size:14})}),"\xa0\xa0",n&&"Quote Created"===a&&(0,S.jsx)($e.N_,{to:`/quote/${n}`,target:"_blank",children:(0,S.jsx)(U.A,{color:"#3366CC",size:16})})]})}):"task"===l?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(G.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Task"})]})}):"order"===l?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(G.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Order"})]})}):"note"===l?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(K.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Note"})]})}):"tag"===l?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(W.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Tag"})]})}):"invoice"===l?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsx)(J.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Invoice\xa0"}),"\xa0",(null===d||void 0===d?void 0:d.invoice_pdf)&&(0,S.jsx)($e.N_,{to:`${(null===d||void 0===d?void 0:d.invoice_pdf)||"#"}`,target:"_blank",children:(0,S.jsx)(O.A,{color:"#FF0000",size:14})}),"\xa0\xa0",n&&"Invoice Created"===a&&(0,S.jsx)($e.N_,{to:`/invoice/${n}`,target:"_blank",children:(0,S.jsx)(U.A,{color:"#3366CC",size:16})})]})}):"billing"===l?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Q.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Billing"})]})}):"email"===l?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Y.A,{size:16,color:"#1AB2FF"})," ",(0,S.jsx)("strong",{children:"\xa0 Email"})]}):""})}),(0,S.jsx)("h5",{style:{whiteSpace:"pre-line"},children:"email"!==l&&a||""}),"email"===l?(0,S.jsx)(ue,{emailData:i}):(0,S.jsx)("h6",{style:{whiteSpace:"pre-line"},dangerouslySetInnerHTML:{__html:i}}),(0,S.jsxs)("p",{children:[T(o)," by ",r]})]},`history-${s||t}`)})):(0,S.jsx)("p",{children:"No history available"})})]})})]})]}),(0,S.jsx)($.A,{className:"projectCardButWrap",children:(0,S.jsxs)(R.A,{children:[j?(0,S.jsx)(m.A,{as:"div",animation:"wave",className:"",children:(0,S.jsx)(m.A,{xs:12,bg:"secondary",className:"rounded",size:"md",style:{width:"190px",height:"45px"}})}):(0,S.jsx)(De,{projectId:n,startDate:+(null===b||void 0===b?void 0:b.booking_start),endDate:+(null===b||void 0===b?void 0:b.booking_end)},n),(0,S.jsx)($e.N_,{to:`/expenses?projectId=${null===a||void 0===a?void 0:a.value}`,children:(0,S.jsxs)(u.A,{className:"expense expActive",children:["Create Expense ",(0,S.jsx)("img",{src:be.A,alt:"Expense"})]})}),(0,S.jsxs)(u.A,{className:"createJob jobActive",children:["Create a Job   ",(0,S.jsx)("img",{src:fe.A,alt:"briefcase"})]}),(0,S.jsx)(Ve,{clientId:null===b||void 0===b?void 0:b.client,projectId:n}),(0,S.jsxs)(u.A,{className:"calenBut calenActive",children:["Send to Calendar  ",(0,S.jsx)("img",{src:ye,alt:"Calendar3"})]})]})}),(0,S.jsxs)($.A,{className:"projectCardCalculation",children:[(0,S.jsx)(R.A,{className:"proBuget projectColBg",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("h5",{children:"Budget"}),(0,S.jsxs)("p",{children:["$",null===b||void 0===b?void 0:b.budget]})]})}),(0,S.jsx)(R.A,{className:"proRealCost projectColBg",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("h5",{children:"Real Cost"}),(0,S.jsxs)("p",{children:["$",I]})]})}),(0,S.jsx)(R.A,{className:"proCostSale projectColBg",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("h5",{children:"Cost Of Sale"}),(0,S.jsxs)("p",{children:["$",null===b||void 0===b?void 0:b.cost_of_sale]})]})}),(0,S.jsx)(R.A,{className:"proLabour projectColBg",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("h5",{children:"Labour"}),(0,S.jsxs)("p",{children:["$",null===b||void 0===b?void 0:b.labor_expenses]})]})}),(0,S.jsxs)(R.A,{className:"proProfit projectColBg",children:[(0,S.jsxs)("span",{children:["Operational Profit ",(0,S.jsx)(X.A,{size:16,color:"#1D2939"})]}),(0,S.jsxs)("strong",{children:["$",null===b||void 0===b?void 0:b.operating_expense]})]})]}),(0,S.jsxs)($.A,{className:"projectCardactionBut",children:[(0,S.jsxs)(R.A,{className:"actionLeftSide",children:[(0,S.jsxs)(u.A,{onClick:()=>{re.mutate(n)},disabled:!(null!==b&&void 0!==b&&b.can_be_declined),className:"declineAction",children:[(0,S.jsx)(ee.A,{size:20,color:"#912018"})," Decline Order",re.isPending&&(0,S.jsx)(xe.p,{style:{width:"20px",height:"20px",position:"relative",top:"2px",left:"8px"}})]}),(0,S.jsxs)(u.A,{disabled:c,className:"duplicateAction",onClick:async()=>{try{if(!n)return he.oR.error("Project id not found");h(!0);await(0,Re.CK)(n);d("/sales"),he.oR.success("Sale has been successfully duplicated")}catch(e){console.error("Error is duplicating:",e),he.oR.error("Failed to duplicate sale. Please try again.")}finally{h(!1)}},children:[(0,S.jsx)(te.A,{size:20,color:"#0A4766",className:"me-1"}),(0,S.jsx)("span",{style:{position:"relative",top:"2px"},children:"Duplicate"})," ",c&&(0,S.jsx)(xe.p,{style:{width:"20px",height:"20px",position:"relative",top:"6px"}})]}),(0,S.jsxs)(u.A,{disabled:!(null!==b&&void 0!==b&&b.can_be_return),onClick:()=>{!(null!==b&&void 0!==b&&b.can_be_return)||ie.mutate(n)},className:"sendBackAction",children:[(0,S.jsx)(se.A,{size:20,color:"#344054",opacity:null!==b&&void 0!==b&&b.can_be_return?1:.5}),"Send Back to Sales",ie.isPending&&(0,S.jsx)(xe.p,{style:{width:"20px",height:"20px",position:"relative",top:"2px",left:"8px"}})]})]}),(0,S.jsxs)(R.A,{className:"actionRightSide",children:[(0,S.jsx)(Me,{clientId:null===b||void 0===b?void 0:b.client,isCreated:null===b||void 0===b?void 0:b.invoice_created,projectId:n,isLoading:null===ce||void 0===ce?void 0:ce.isPending,create:()=>{ce.mutate(n)},projectCardData:()=>L(n)}),(0,S.jsxs)(u.A,{onClick:()=>de.mutate(n),disabled:!(null!==b&&void 0!==b&&b.can_be_completed),className:"CompleteActionBut",children:["Complete & Archive",(null===de||void 0===de?void 0:de.isPending)&&(0,S.jsx)(xe.p,{style:{width:"20px",height:"20px",position:"relative",top:"2px",left:"8px"}})]})]})]}),(0,S.jsx)($.A,{className:"projectBreakdown",children:(0,S.jsx)(R.A,{children:(0,S.jsx)(u.A,{children:"Cost breakdown"})})})]})})]})})};var Oe=s(623);const Ue="calender";const Ge=function(){const[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!1),[n,a]=(0,l.useState)(!1),[o,r]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),[m,v]=(0,l.useState)([]),[j,g]=(0,l.useState)(null),[b,f]=(0,l.useState)(null),[y,w]=(0,l.useState)({}),A=window.location.href,C=new URL(A),N=new URLSearchParams(C.search),F=N.get("unique_id");if(F&&!b){f(F);const e=N.get("reference"),t=N.get("number");w({number:t||"",reference:e,value:F}),r(!0)}function k(e){let t=arguments.length>2?arguments[2]:void 0;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(f(e),w(t),r(!0)):(g(e),a(!0))}(0,l.useEffect)((()=>{(async()=>{try{const e=await(0,Oe.ic)();v([...e])}catch(e){console.error("Error fetching project status data:",e)}})()}),[]),(0,l.useEffect)((()=>{const e=e=>{if(!(e.target instanceof HTMLSelectElement))if(e.target.closest(".create-task-button")){const t=e.target.getAttribute("number"),s=e.target.getAttribute("reference"),l=e.target.getAttribute("project-id");w({number:t,reference:s,value:l}),i(!0)}else if(e.target.closest(".task-list")){const t=e.target.closest(".task-list").getAttribute("task-id");console.log("task-list: ....",t),t&&k(t)}else if(e.target.closest(".project-content")){const t=e.target.closest(".project-content").getAttribute("unique-id"),s=e.target.closest(".project-content").getAttribute("number"),l=e.target.closest(".project-content").getAttribute("reference"),i=e.target.closest(".project-content").getAttribute("project-id");console.log("uniqueId: ....",t),f(t),w({number:s,reference:l,value:i}),r(!0)}};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,l.useEffect)((()=>{const e=document.createElement("script");e.src="/daypilot-all.min.js",e.id="daypilot-script-ele";const s=()=>{console.error("Failed to load DayPilot script.")},l=async()=>{try{const e=await(0,x.Mv)();t(e),c(Ue,e,k)}catch(e){console.error("Error initializing DayPilot:",e)}};return e.addEventListener("error",s),e.addEventListener("load",l),document.body.appendChild(e),()=>{e.removeEventListener("error",s),e.removeEventListener("load",l),document.body.contains(e)&&document.body.removeChild(e)}}),[]);const B=async()=>{try{p(!0);const e=await(0,x.Mv)();t(e),d(e),p(!1)}catch(e){console.error("Error initializing DayPilot:",e)}},_=()=>{console.log("handleViewTask: ")};(0,l.useEffect)((()=>{const e=document.querySelector(".task-list");if(e){let t=e.getAttribute("task-id");console.log("taskId: ",t),e.addEventListener("click",_())}return()=>{if(e){let t=e.getAttribute("task-id");console.log("taskId: ",t),e.removeEventListener("click",_)}}}),[]);const E=(0,l.useRef)(null);return(0,S.jsxs)(l.Fragment,{children:[(0,S.jsxs)("div",{className:"topbar bottom-border",style:{padding:"0px 20px",position:"relative"},children:[(0,S.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,S.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,S.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,S.jsx)("input",{type:"text",placeholder:"Search",onChange:t=>{const s=t.target.value;E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{console.log("Debounced search: ",s),d(e.filter((e=>{var t,l,i,n,a,o;return!!(null!==e&&void 0!==e&&null!==(t=e.number)&&void 0!==t&&null!==(l=t.toLowerCase())&&void 0!==l&&l.startsWith((null===s||void 0===s?void 0:s.toLowerCase())||"")||null!==e&&void 0!==e&&null!==(i=e.reference)&&void 0!==i&&null!==(n=i.toLowerCase())&&void 0!==n&&n.startsWith((null===s||void 0===s?void 0:s.toLowerCase())||"")||null!==e&&void 0!==e&&null!==(a=e.client)&&void 0!==a&&null!==(o=a.name.toLowerCase())&&void 0!==o&&o.startsWith((null===s||void 0===s?void 0:s.toLowerCase())||""))}))||[])}),600)},className:"border search-resource",style:{borderRadius:"4px",border:"1px solid #D0D5DD",width:"184px",color:"#98A2B3",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]}),(0,S.jsx)("div",{className:"featureName",style:{position:"absolute",left:"45%",top:"-5px"},children:(0,S.jsx)("h1",{className:"title",children:"Management"})}),(0,S.jsx)("div",{className:"filters"})]}),(0,S.jsx)("div",{id:Ue,children:(0,S.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,S.jsx)(h.A,{animation:"border",role:"status",children:(0,S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}),(0,S.jsx)(L,{view:n,setView:a,taskId:j,setTaskId:g,reInitilize:B}),(0,S.jsx)(T,{show:s,setShow:i,project:y,reInitilize:B}),(0,S.jsx)(Ze,{viewShow:o,setViewShow:r,projectId:b,project:y,statusOptions:m,reInitilize:B},b),u&&(0,S.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,S.jsx)(h.A,{animation:"border",role:"status",children:(0,S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]})},Ke=()=>(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(Ge,{})})},23274:(e,t,s)=>{s.d(t,{A:()=>w});var l=s(65043),i=s(14282),n=s(61072),a=s(78602),o=s(93740),r=s(55797),d=s(8868),c=s(8129),x=s(75758),h=s(72052),u=s(93747);const p={headerTitle:"send-email_headerTitle__cXbQd",customLabel:"send-email_customLabel__ulebR",bag:"send-email_bag__+1Isj",lable:"send-email_lable__pfv8S",dropdownSelect:"send-email_dropdownSelect__yuxmj",autoCompleteBox:"send-email_autoCompleteBox__zqO6y",AutoComplete:"send-email_AutoComplete__peyFk",bcc:"send-email_bcc__vHuNY",box:"send-email_box__KRxo7",active:"send-email_active__sUnBO",inputBox:"send-email_inputBox__cV-UR"};var m=s(81047),v=s(58387),j=s(28676),g=s(74532),b=s(70579);const f=(0,b.jsx)("div",{className:`${p.modalHeader}`,children:(0,b.jsx)("div",{className:"w-100 d-flex align-items-center gap-2",children:(0,b.jsx)("span",{className:`white-space-nowrap mt-2 mb-2 ${p.headerTitle}`,children:"Send a Quote"})})}),y=(0,b.jsxs)("span",{className:"ql-formats",children:[(0,b.jsx)("button",{className:"ql-bold","aria-label":"Bold"}),(0,b.jsx)("button",{className:"ql-italic","aria-label":"Italic"}),(0,b.jsx)("button",{className:"ql-underline","aria-label":"Underline"}),(0,b.jsx)("button",{className:"ql-strike","aria-label":"Strikethrough"}),(0,b.jsx)("button",{className:"ql-blockquote","aria-label":"Blockquote"}),(0,b.jsx)("button",{className:"ql-list",value:"ordered","aria-label":"Ordered List"}),(0,b.jsx)("button",{className:"ql-list",value:"bullet","aria-label":"Bullet List"}),(0,b.jsx)("button",{className:"ql-align",value:"","aria-label":"Align Left"}),(0,b.jsx)("button",{className:"ql-align",value:"center","aria-label":"Align Center"}),(0,b.jsx)("button",{className:"ql-align",value:"right","aria-label":"Align Right"}),(0,b.jsx)("button",{className:"ql-align",value:"justify","aria-label":"Justify"}),(0,b.jsx)("button",{className:"ql-link","aria-label":"Insert Link"}),(0,b.jsx)("button",{className:"ql-image","aria-label":"Insert Image"}),(0,b.jsx)("button",{className:"ql-code-block","aria-label":"Code Block"})]}),w=e=>{var t,s,w,A;let{show:C,setShow:N,contactPersons:F,setPayload:k,save:S}=e;const[B,_]=(0,l.useState)(""),[E,D]=(0,l.useState)([]),[I,z]=(0,l.useState)([]),[L,H]=(0,l.useState)([]),[T,$]=(0,l.useState)(null),[R,P]=(0,l.useState)(null),[M,q]=(0,l.useState)({}),[V,Z]=(0,l.useState)([]),O=(0,l.useRef)(null),U=(0,l.useRef)(null),G=(0,l.useRef)(null),[K,W]=(0,l.useState)(!1),[J,Q]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(null),se=(0,u.I)({queryKey:["emailTemplate"],queryFn:m.SQ}),le=(0,u.I)({queryKey:["getOutgoingEmail"],queryFn:m.hx}),ie=(0,u.I)({queryKey:["emailQuery",ee],queryFn:()=>(0,m.hS)(ee),enabled:!!ee,retry:1});(0,l.useEffect)((()=>{var e,t;null!==le&&void 0!==le&&le.data&&(null!==le&&void 0!==le&&null!==(e=le.data)&&void 0!==e&&e.outgoing_email&&_(null===le||void 0===le||null===(t=le.data)||void 0===t?void 0:t.outgoing_email));null!==se&&void 0!==se&&se.data&&te(17)}),[ie,le]);const ne=(0,b.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,b.jsx)(i.A,{className:"outline-button",onClick:()=>N(!1),children:"Cancel"}),(0,b.jsxs)(i.A,{className:"solid-button",onClick:async()=>{let e=0;q({}),B||(++e,q((e=>({...e,from:!0})))),0===(null===E||void 0===E?void 0:E.length)&&(++e,q((e=>({...e,to:!0})))),T||(++e,q((e=>({...e,subject:!0})))),R||(++e,q((e=>({...e,text:!0})))),e||(X(!0),await S(),X(!1))},children:["Send"," ",Y&&(0,b.jsx)(o.p,{style:{width:"20px",height:"20px",color:"#fff"}})]})]}),ae=e=>{var t;const s=(null===e||void 0===e||null===(t=e.query)||void 0===t?void 0:t.toLowerCase())||"";let l=F.map((e=>e.email));l=l.filter((e=>!E.includes(e))),l=l.filter((e=>!I.includes(e))),l=l.filter((e=>!L.includes(e))),l=l.filter((e=>e.toLowerCase().includes(s))),console.log("emails: ",l),Z(l)},oe=()=>{ae(),O.current&&O.current.show()},re=()=>{ae(),U.current&&U.current.show()},de=()=>{ae(),G.current&&G.current.show()};return(0,l.useEffect)((()=>{if(null!==F&&void 0!==F&&F.length){let e=F.map((e=>e.email));Z(e)}}),[F]),(0,l.useEffect)((()=>{k((e=>({...e,subject:T,email_body:R,from_email:B,to:null===E||void 0===E?void 0:E.toString(),...I.length>0&&{cc:I.toString()},...L.length>0&&{bcc:L.toString()}})))}),[T,R,B,E,I,L]),(0,l.useEffect)((()=>{var e,t;P((null===ie||void 0===ie||null===(e=ie.data)||void 0===e?void 0:e.body)||""),$(null===ie||void 0===ie||null===(t=ie.data)||void 0===t?void 0:t.subject),q((e=>({...e,subject:!1}))),q((e=>({...e,text:!1})))}),[null===ie||void 0===ie||null===(t=ie.data)||void 0===t?void 0:t.body]),(0,b.jsxs)(r.l,{visible:C,modal:!0,header:f,footer:ne,className:`${p.modal} custom-modal`,style:{width:"896px"},onHide:()=>N(!1),children:[(0,b.jsxs)(n.A,{children:[(0,b.jsxs)(a.A,{sm:6,className:"mb-3",children:[(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("label",{className:(0,v.A)(p.customLabel),children:"FROM"}),(0,b.jsx)(c.m,{options:le&&(null===le||void 0===le?void 0:le.data)&&[{value:null===le||void 0===le||null===(s=le.data)||void 0===s?void 0:s.outgoing_email,label:`${null===le||void 0===le||null===(w=le.data)||void 0===w?void 0:w.outgoing_email}`}]||[],className:(0,v.A)(p.dropdownSelect,"dropdown-height-fixed w-100"),style:{height:"46px",paddingLeft:"60px"},placeholder:"Select from email",onChange:e=>{_(e.value),q((e=>({...e,from:!1})))},value:B})]}),(null===M||void 0===M?void 0:M.from)&&(0,b.jsx)("p",{className:"error-message mb-0",children:"From email is required"})]}),(0,b.jsx)(a.A,{sm:6,className:"mb-3",children:(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("label",{className:(0,v.A)(p.customLabel),children:"Templates"}),(0,b.jsx)(c.m,{options:se&&(null===(A=se.data)||void 0===A?void 0:A.map((e=>({value:e.id,label:`${e.name}`}))))||[],className:(0,v.A)(p.dropdownSelect,"dropdown-height-fixed w-100"),style:{height:"46px",paddingLeft:"88px"},placeholder:"Select template",onChange:e=>{te(e.value)},value:ee,loading:null===se||void 0===se?void 0:se.isFetching})]})})]}),(0,b.jsxs)(n.A,{children:[(0,b.jsxs)(a.A,{sm:12,className:"mb-3",children:[(0,b.jsxs)("div",{className:"d-flex gap-3 w-100",children:[(0,b.jsxs)("div",{style:{position:"relative"},className:p.autoCompleteBox,children:[(0,b.jsx)("div",{style:{width:"50px"},className:p.bag}),(0,b.jsx)("label",{className:(0,v.A)(p.customLabel),children:"TO"}),(0,b.jsx)(x.j,{ref:O,value:E,completeMethod:ae,onChange:e=>{D(e.value),q((e=>({...e,to:!1})))},multiple:!0,suggestions:V,onClick:oe,onFocus:oe,onKeyUp:e=>{const t=e.target.value;if(t.includes(",")||"Enter"===e.key){const s=t.split(/[\s,]+/).filter((e=>e));D((e=>[...new Set([...e,...s])])),e.target.value=""}},onBlur:e=>{const t=e.target.value.trim();t&&(D((e=>[...new Set([...e,t])])),e.target.value="")},className:(0,v.A)(p.AutoComplete,"w-100"),placeholder:"TO"})]}),(0,b.jsx)(i.A,{className:(0,v.A)(p.box,{[p.active]:K}),onClick:()=>{W(!K),z([])},children:"CC"}),(0,b.jsx)(i.A,{className:(0,v.A)(p.box,{[p.active]:J}),onClick:()=>{Q(!J),H([])},children:"BCC"})]}),(null===M||void 0===M?void 0:M.to)&&(0,b.jsx)("p",{className:"error-message mb-0",children:"To email is required"})]}),K&&(0,b.jsx)(a.A,{sm:6,className:"mb-3",children:(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("div",{style:{width:"50px"},className:p.bag}),(0,b.jsx)("label",{className:(0,v.A)(p.customLabel),children:"CC"}),(0,b.jsx)(x.j,{ref:U,value:I,completeMethod:ae,onChange:e=>{z(e.value)},multiple:!0,suggestions:V,onClick:re,onFocus:re,onKeyUp:e=>{const t=e.target.value;if(t.includes(",")||"Enter"===e.key){const s=t.split(/[\s,]+/).filter((e=>e));z((e=>[...new Set([...e,...s])])),e.target.value=""}},onBlur:e=>{const t=e.target.value.trim();t&&(z((e=>[...new Set([...e,t])])),e.target.value="")},className:(0,v.A)(p.AutoComplete,"w-100"),placeholder:"CC"})]})}),J&&(0,b.jsx)(a.A,{sm:6,className:"mb-3",children:(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("div",{style:{width:"60px"},className:p.bag}),(0,b.jsx)("label",{className:(0,v.A)(p.customLabel),children:"BCC"}),(0,b.jsx)(x.j,{ref:G,value:L,completeMethod:ae,onChange:e=>{H(e.value)},multiple:!0,suggestions:V,onClick:de,onFocus:de,onKeyUp:e=>{const t=e.target.value;if(t.includes(",")||"Enter"===e.key){const s=t.split(/[\s,]+/).filter((e=>e));H((e=>[...new Set([...e,...s])])),e.target.value=""}},onBlur:e=>{const t=e.target.value.trim();t&&(H((e=>[...new Set([...e,t])])),e.target.value="")},className:(0,v.A)(p.AutoComplete,p.bcc,"w-100"),placeholder:"BCC"})]})}),(0,b.jsxs)(a.A,{sm:12,className:"mb-2",children:[(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("div",{style:{width:"60px"},className:p.bag}),(0,b.jsx)("label",{className:(0,v.A)(p.customLabel),children:"SUBJECT"}),(0,b.jsxs)(j.C,{children:[(0,b.jsx)(g.m,{children:(null===ie||void 0===ie?void 0:ie.isFetching)&&(0,b.jsx)(o.p,{style:{width:"20px",height:"20px",position:"relative",top:"-5px"}})}),(0,b.jsx)(h.S,{value:T,className:(0,v.A)(p.inputBox,"w-100"),style:{paddingLeft:"100px"},onChange:e=>{$(e.target.value),q((e=>({...e,subject:!1})))},placeholder:"{Organization} | Quotation: {number} | {reference}"})]})]}),(null===M||void 0===M?void 0:M.subject)&&(0,b.jsx)("p",{className:"error-message mb-0",children:"Subject is required"})]}),(0,b.jsxs)(a.A,{sm:12,children:[(0,b.jsxs)("div",{className:"d-flex flex-column gap-1",style:{position:"relative"},children:[(0,b.jsx)("label",{className:(0,v.A)(p.lable),children:"Message"}),(0,b.jsx)(g.m,{style:{position:"absolute",right:"15px",top:"40px",zIndex:1},children:(null===ie||void 0===ie?void 0:ie.isFetching)&&(0,b.jsx)(o.p,{style:{width:"20px",height:"20px",position:"relative",top:"-5px"}})}),(0,b.jsx)(d.K,{style:{minHeight:"150px"},headerTemplate:y,value:R,placeholder:"Enter a description...",onTextChange:e=>{P(e.htmlValue),q((e=>({...e,text:!1})))}})]}),(null===M||void 0===M?void 0:M.text)&&(0,b.jsx)("p",{className:"error-message mb-0",children:"Message is required"})]})]})]})}}}]);
//# sourceMappingURL=5298.002e99a3.chunk.js.map