"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[4604],{35448:(e,s,l)=>{l.d(s,{A:()=>f});l(65043);var i=l(35475),t=l(36237),n=l(95192),o=l(12534),a=l(3494),r=l(71711),d=l(22636),c=l(99093),u=l(47092),h=l(27066),m=l(26501),v=l(85652),x=l(43808),p=l(31683),j=l(46632),g=l(19031);var A=l(70579);const b=()=>(0,A.jsxs)("button",{className:"logoutStyle logoutBottom",onClick:()=>{window.localStorage.removeItem("access_token"),window.localStorage.removeItem("refresh_token"),window.localStorage.removeItem("isLoggedIn"),window.location.href="/login"},children:["Logout ",(0,A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE1SURBVHgBzZRBSsNQEIb/MVEIqGTpopWspNll2axMbtAj9AbBG/QG4glMT6A3aHZmZ1faZbAeoIJQFJpxnqSlhD760nbRDwKPzMuXmXnDA44dcr3IvXTm/ZLJNfoAKKaTPNXGW374SgSPS4xhIpS9RDz8eMsHm+K2/DHgkuPPSZ7BgFanOxDtrS5+gj0QeaRadjAhET2eO7+jdWljoQ2kYB6qtcUcE9hdl1LbD1kw7mEdr9P1FkQjBs2+52exrdt47YcJMwXbhAt5GFxIptGF8/OkLVmy/kJDJEtXm2E1vCm2cCUln+K/5LEtJTc+FCVo34S9lazqn5IVRTbb5ZT7sJCodV1WxffiTmTZUrYSEpVGF0Od6fvLc/2dzYyMyLqXeUyMLIRARuRBG1aDWRL3DnV9HT9/U1p2VHUS9SgAAAAASUVORK5CYII=",alt:"Arrow Right"})]}),f=e=>{let{activeTab:s,setActiveTab:l}=e;const f=JSON.parse(window.localStorage.getItem("profileData")||"{}");return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{className:"settings-menu",children:(0,A.jsxs)("div",{className:"menuList",children:[(0,A.jsxs)("div",{className:"topList",children:[(0,A.jsx)("h2",{children:"General"}),(0,A.jsxs)("ul",{children:[(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/generalinformation",className:"sidebar-tab "+("generalinformation"===s?"activelist":""),onClick:()=>l("generalinformation"),children:[(0,A.jsx)(t.A,{color:"#667085",size:18}),"Company Information"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/generalinformation/profile",className:"sidebar-tab "+("profile"===s?"activelist":""),onClick:()=>l("profile"),children:[(0,A.jsx)(n.A,{color:"#667085",size:18}),"My Profile"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/generalinformation/subscription",className:"sidebar-tab "+("subscription"===s?"activelist":""),onClick:()=>l("subscription"),children:[(0,A.jsx)(o.A,{color:"#667085",size:18}),"Subscription"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/users/desktop",className:"sidebar-tab "+("desktop"===s?"activelist":""),onClick:()=>l("desktop"),children:[(0,A.jsx)(a.A,{color:"#667085",size:18}),"Users"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/location",className:"sidebar-tab "+("locations"===s?"activelist":""),onClick:()=>l("locations"),children:[(0,A.jsx)(r.A,{color:"#667085",size:18}),"Locations"]})]})]}),(0,A.jsx)("h2",{children:"Settings"}),(0,A.jsxs)("ul",{children:[(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/calculators/departments",className:"sidebar-tab "+("departments"===s?"activelist":""),onClick:()=>l("departments"),children:[(0,A.jsx)(d.A,{color:"#667085",size:18}),"Calculators"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/templates/job-templates",className:"sidebar-tab "+("job-templates"===s?"activelist":""),onClick:()=>l("job-templates"),children:[(0,A.jsx)(c.A,{color:"#667085",size:18}),"Templates"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/companyethos/company-ethos",className:"sidebar-tab "+("company-ethos"===s?"activelist":""),onClick:()=>l("company-ethos"),children:[(0,A.jsx)(u.A,{color:"#667085",size:18}),"Company Ethos"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/integrations",className:"sidebar-tab "+("integrations"===s?"activelist":""),onClick:()=>l("integrations"),children:[(0,A.jsx)(h.A,{color:"#667085",size:18}),"Integrations"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/quotesjobs/recurring-quotes",className:"sidebar-tab "+("recurring-quotes"===s?"activelist":""),onClick:()=>l("recurring-quotes"),children:[(0,A.jsx)(m.A,{color:"#667085",size:18}),"Quotes & Jobs"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/projectstatus/project-status",className:"sidebar-tab "+("organisation-setting"===s?"activelist":""),onClick:()=>l("organisation-setting"),children:[(0,A.jsx)(v.A,{color:"#667085",size:18}),"Organisation Setting"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/termsandconditions/terms-and-conditions",className:"sidebar-tab "+("terms-and-conditions"===s?"activelist":""),onClick:()=>l("terms-and-conditions"),children:[(0,A.jsx)(x.A,{color:"#667085",size:18}),"Terms and Conditions"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/customerssettings/industries",className:"sidebar-tab "+("industries"===s?"activelist":""),onClick:()=>l("industries"),children:[(0,A.jsx)(n.A,{color:"#667085",size:18}),"Customers Settings"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/accounting/expenses",className:"sidebar-tab "+("expenses"===s?"activelist":""),onClick:()=>l("expenses"),children:[(0,A.jsx)(p.A,{color:"#667085",size:18}),"Accounting"]})]}),(0,A.jsxs)("li",{children:[" ",(0,A.jsxs)(i.N_,{to:"/settings/notifications/dashboard-notifications",className:"sidebar-tab "+("dashboard-notifications"===s?"activelist":""),onClick:()=>l("dashboard-notifications"),children:[(0,A.jsx)(j.A,{color:"#667085",size:18}),"Notifications"]})]})]})]}),(0,A.jsxs)("div",{className:"logoutBottomS pt-2",style:{borderTop:".5px solid #dedede",height:"200px"},children:[(0,A.jsx)("div",{className:"userNameList ps-2",children:(0,A.jsxs)("button",{className:"btn d-flex align-items-center gap-3 mb-2 px-0",children:[(0,A.jsx)(g.A,{size:16,color:"#667085"}),(0,A.jsx)("p",{className:"mb-0",children:"Support"})]})}),(0,A.jsx)("div",{className:"userNameList ps-2",children:f&&(0,A.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-3",children:[(0,A.jsx)(n.A,{size:16,color:"#667085"}),(0,A.jsxs)("p",{className:"mb-0",children:[(0,A.jsx)("strong",{children:f.full_name}),(0,A.jsx)("span",{children:f.email})]})]})}),(0,A.jsx)(b,{})]})]})})})}},54604:(e,s,l)=>{l.r(s),l.d(s,{default:()=>L});var i=l(65043);const t={userSettingPage:"location_userSettingPage__c-oz8",userHead:"location_userHead__p+lIf",users_userHead:"location_users_userHead__l3p1k",contentwrapmain:"location_contentwrapmain__BFq9g",ellipsis:"location_ellipsis__yolSI",userImg:"location_userImg__a027c",privilege:"location_privilege__lJ1Dd",contentMenuTab:"location_contentMenuTab__MKV0p",addUserBut:"location_addUserBut__hE6yq",showDeleteBut:"location_showDeleteBut__8mtNl",appSettingPage:"location_appSettingPage__Iwpr5",appaction:"location_appaction__nF0eB",appstatus:"location_appstatus__ptiM7",editBut:"location_editBut__zFYZW",HeadquarterDesktop:"location_HeadquarterDesktop__2yRaS",userHeadSelect:"location_userHeadSelect__5HOEA",selectuserInput:"location_selectuserInput__bSIzb",modal:"location_modal__IQgcC",modalHeader:"location_modalHeader__7aEFz",headerTitle:"location_headerTitle__hiah8",circledesignstyle:"location_circledesignstyle__EZ0jJ",out:"location_out__VglTJ",lable:"location_lable__dsABe",inputText:"location_inputText__Cz3-n",error:"location_error__BnwhI",td:"location_td__mYHsg",hoverShow:"location_hoverShow__Zy4uJ",borderNone:"location_borderNone__PFbx9",dangerTextButton:"location_dangerTextButton__jMe0G"};var n=l(35448),o=l(35475),a=l(14282),r=l(27417),d=l(96141),c=l(31342);const u="https://dev.memate.com.au/api/v1",h=async()=>{const e=new URL(`${u}/locations/`);return(0,c.f)(e.toString(),{method:"GET"})},m=async()=>{const e=new URL(`${u}/references/desktop-users/`);return(0,c.f)(e.toString(),{method:"GET"})};var v=l(93747),x=l(47097),p=l(58387),j=l(73898),g=l(93202),A=l(72052),b=l(61072),f=l(78602),N=l(72018),y=l(8129),w=l(55797),_=l(27472),S=l(28676),C=l(74532),E=l(24858),k=l(18403),T=l(80899),F=l(59638),I=l(56328),O=l(93740),q=l(70579);const R=T.Ik({name:T.Yj().required("Name is required"),country:T.Yj().required("Country is required"),address:T.Yj().required("Address is required"),city:T.ai().typeError("City must be a number").required("City is required"),state:T.ai().typeError("State must be a number").required("State is required"),postcode:T.Yj().required("Postcode is required")}).required(),z=e=>{var s,l,n,o,a,r;let{visible:d,setVisible:h,defaultValues:m={},id:T=null,refetch:z,refetch2:B,fallbackLocation:P}=e;const[L,U]=(0,i.useState)(""),[M,H]=(0,i.useState)(""),$=(0,v.I)({queryKey:["countries"],queryFn:F.X6,enabled:!0}),D=(0,v.I)({queryKey:["states",L],queryFn:()=>(0,F.nP)(L),enabled:!!L,retry:1}),Y=(0,v.I)({queryKey:["cities",M],queryFn:()=>(0,F.i6)(M),enabled:!!M}),{control:V,register:K,reset:Q,handleSubmit:G,setValue:J,formState:{errors:Z}}=(0,E.mN)({resolver:(0,k.t)(R),defaultValues:m}),X=()=>{h(!1),U(""),H(""),Q(),J("country",""),J("state",""),J("city","")},W=(0,x.n)({mutationFn:e=>T?(async(e,s)=>{if(!e)throw new Error("No id found");const l={method:"PUT",body:s},i=new URL(`${u}/locations/${e}/update/`);return(0,c.f)(i.toString(),l)})(T,e):(async e=>{const s={method:"POST",body:e},l=new URL(`${u}/locations/new/`);return(0,c.f)(l.toString(),s)})(e),onSuccess:e=>{z(),B(),X(),I.oR.success("Location created successfully."),U(""),H(""),Q(),J("country",""),J("state",""),J("city","")},onError:e=>{console.error("Error creating location:",e),I.oR.error("Failed to create location. Please try again.")}}),ee=(0,x.n)({mutationFn:()=>(async e=>{const s=new URL(`${u}/locations/${e}/delete/`);return(0,c.f)(s.toString(),{method:"DELETE"})})(T),onSuccess:()=>{z(),P(),X(),I.oR.success("Location deleted successfully"),U(""),H(""),Q(),J("country",""),J("state",""),J("city","")},onError:e=>{I.oR.error("Failed to delete location. Please try again.")}}),se=e=>{W.mutate(e)};(0,i.useEffect)((()=>{m&&(Object.keys(m).forEach((e=>{J(e,m[e])})),null!==m&&void 0!==m&&m.country&&U(null===m||void 0===m?void 0:m.country),null!==m&&void 0!==m&&m.state&&H(null===m||void 0===m?void 0:m.state))}),[m]);const le=(0,q.jsx)("div",{className:`${t.modalHeader}`,children:(0,q.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,q.jsx)("div",{className:t.circledesignstyle,children:(0,q.jsx)("div",{className:t.out,children:m?(0,q.jsx)(j.A,{size:24,color:"#17B26A",className:"mb-0"}):(0,q.jsx)(g.A,{size:24,color:"#17B26A",className:"mb-0"})})}),(0,q.jsxs)("span",{className:`white-space-nowrap ${t.headerTitle}`,children:[m?"Edit":"Add"," Location"]})]})}),ie=(0,q.jsxs)("div",{className:"d-flex justify-content-between",children:[T?(0,q.jsxs)(N.$,{onClick:()=>ee.mutate(),className:"danger-outline-button",children:["Delete",ee.isPending&&(0,q.jsx)(O.p,{style:{width:"20px",height:"20px"}})]}):(0,q.jsx)("span",{}),(0,q.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,q.jsx)(N.$,{className:"outline-button",onClick:X,children:"Cancel"}),(0,q.jsxs)(N.$,{type:"submit",onClick:G(se),className:"solid-button",children:[T?"Update":"Save"," Details",(null===W||void 0===W?void 0:W.isPending)&&(0,q.jsx)(O.p,{style:{width:"20px",height:"20px"}})]})]})]});return(0,q.jsx)(w.l,{visible:d,modal:!0,header:le,footer:ie,className:`${t.modal} custom-modal`,onHide:X,children:(0,q.jsx)("div",{className:"d-flex flex-column",children:(0,q.jsx)("form",{onSubmit:G(se),children:(0,q.jsxs)(b.A,{children:[(0,q.jsx)(f.A,{sm:6,children:(0,q.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,q.jsx)("label",{className:(0,p.A)(t.lable),children:"Location Name"}),(0,q.jsxs)(S.C,{children:[(0,q.jsx)(C.m,{children:(null===Z||void 0===Z?void 0:Z.name)&&(0,q.jsx)("img",{src:_.A,alt:"error",className:"mb-3"})}),(0,q.jsx)(A.S,{...K("name"),className:(0,p.A)(t.inputText,"outline-none",{[t.error]:null===Z||void 0===Z?void 0:Z.name}),placeholder:"Enter location name"})]}),(null===Z||void 0===Z?void 0:Z.name)&&(0,q.jsx)("p",{className:"error-message",children:null===Z||void 0===Z||null===(s=Z.name)||void 0===s?void 0:s.message})]})}),(0,q.jsx)(f.A,{sm:6,children:(0,q.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,q.jsx)("label",{className:(0,p.A)(t.lable),children:"Country"}),(0,q.jsx)(E.xI,{name:"country",control:V,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,q.jsx)(y.m,{...l,options:$&&(null===(s=$.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),U(e.value)},className:(0,p.A)(t.dropdownSelect,"dropdown-height-fixed","outline-none"),style:{height:"46px"},value:l.value,loading:null===$||void 0===$?void 0:$.isFetching,placeholder:"Select a country"})}}),(null===Z||void 0===Z?void 0:Z.country)&&(0,q.jsx)("p",{className:"error-message",children:null===Z||void 0===Z||null===(l=Z.country)||void 0===l?void 0:l.message})]})}),(0,q.jsx)(f.A,{sm:6,children:(0,q.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,q.jsx)("label",{className:(0,p.A)(t.lable),children:"State"}),(0,q.jsx)(E.xI,{name:"state",control:V,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,q.jsx)(y.m,{...l,options:D&&(null===(s=D.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),H(e.value)},className:(0,p.A)(t.dropdownSelect,"dropdown-height-fixed","outline-none"),style:{height:"46px"},value:l.value,loading:null===D||void 0===D?void 0:D.isFetching,placeholder:"Select a state",filter:!0})}}),(null===Z||void 0===Z?void 0:Z.state)&&(0,q.jsx)("p",{className:"error-message",children:null===Z||void 0===Z||null===(n=Z.state)||void 0===n?void 0:n.message})]})}),(0,q.jsx)(f.A,{sm:6,children:(0,q.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,q.jsx)("label",{className:(0,p.A)(t.lable),children:"City/Suburb"}),(0,q.jsx)(E.xI,{name:"city",control:V,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,q.jsx)(y.m,{...l,options:Y&&(null===(s=Y.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value)},className:(0,p.A)(t.dropdownSelect,"dropdown-height-fixed","outline-none"),style:{height:"46px"},value:l.value,loading:null===Y||void 0===Y?void 0:Y.isFetching,placeholder:"Select a city",filter:!0})}}),(null===Z||void 0===Z?void 0:Z.city)&&(0,q.jsx)("p",{className:"error-message",children:null===Z||void 0===Z||null===(o=Z.city)||void 0===o?void 0:o.message})]})}),(0,q.jsx)(f.A,{sm:6,children:(0,q.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,q.jsx)("label",{className:(0,p.A)(t.lable),children:"Street Address"}),(0,q.jsxs)(S.C,{children:[(0,q.jsx)(C.m,{children:(null===Z||void 0===Z?void 0:Z.address)&&(0,q.jsx)("img",{src:_.A,alt:"error",className:"mb-3"})}),(0,q.jsx)(A.S,{...K("address"),className:(0,p.A)(t.inputText,"outline-none",{[t.error]:null===Z||void 0===Z?void 0:Z.address}),placeholder:"Enter street address"})]}),(null===Z||void 0===Z?void 0:Z.address)&&(0,q.jsx)("p",{className:"error-message",children:null===Z||void 0===Z||null===(a=Z.address)||void 0===a?void 0:a.message})]})}),(0,q.jsx)(f.A,{sm:6,children:(0,q.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,q.jsx)("label",{className:(0,p.A)(t.lable),children:"Postcode"}),(0,q.jsxs)(S.C,{children:[(0,q.jsx)(C.m,{children:(null===Z||void 0===Z?void 0:Z.postcode)&&(0,q.jsx)("img",{src:_.A,alt:"error",className:"mb-3"})}),(0,q.jsx)(A.S,{...K("postcode"),keyfilter:"int",className:(0,p.A)(t.inputText,"outline-none",{[t.error]:null===Z||void 0===Z?void 0:Z.postcode}),placeholder:"Enter postcode"})]}),(null===Z||void 0===Z?void 0:Z.postcode)&&(0,q.jsx)("p",{className:"error-message",children:null===Z||void 0===Z||null===(r=Z.postcode)||void 0===r?void 0:r.message})]})})]})})})})};var B=l(74856),P=l(64196);const L=()=>{var e,s,l,j,g,A,b,f,N,w,_,S,C,E,k,T,F,R,L,U,M,H,$;const[D,Y]=(0,i.useState)(!1),[V,K]=(0,i.useState)([]),[Q,G]=(0,i.useState)("locations"),[J,Z]=(0,i.useState)(null),[X,W]=(0,i.useState)(null),ee=(0,v.I)({queryKey:["locations"],queryFn:h}),se=(0,v.I)({queryKey:["states",J],queryFn:()=>(async e=>{const s=new URL(`${u}/locations/${e}`);return(0,c.f)(s.toString(),{method:"GET"})})(J),enabled:!!J,retry:1,cacheTime:0}),le=(0,v.I)({queryKey:["desktop-users"],queryFn:m}),ie=(0,x.n)({mutationFn:e=>(async(e,s)=>{const l=new URL(`${u}/locations/${e}/${s}/assign-user/`);return(0,c.f)(l.toString(),{method:"POST"})})(J,null===e||void 0===e?void 0:e.id),onSuccess:e=>{null===se||void 0===se||se.refetch(),I.oR.success("User assigned successfully.")},onError:e=>{console.error("Error assigning user:",e),I.oR.error("Failed to assign user. Please try again.")}}),te=(0,x.n)({mutationFn:e=>(async(e,s)=>{if(!e)throw new Error("Location id not found");if(!s)throw new Error("User id not found");const l=new URL(`${u}/locations/${e}/${s}/unassign-user/`);return(0,c.f)(l.toString(),{method:"POST"})})(J,null===e||void 0===e?void 0:e.id),onSuccess:e=>{null===se||void 0===se||se.refetch(),I.oR.success("User unassigned successfully.")},onError:e=>{console.error("Error unassigning user:",e),I.oR.error("Failed to unassign user. Please try again.")}});return(0,i.useEffect)((()=>{var e,s,l;!J&&null!==ee&&void 0!==ee&&null!==(e=ee.data)&&void 0!==e&&null!==(s=e.locations)&&void 0!==s&&s.length&&Z(null===ee||void 0===ee||null===(l=ee.data)||void 0===l?void 0:l.locations[0].id)}),[null===ee||void 0===ee?void 0:ee.data,J]),(0,i.useEffect)((()=>{var e,s;const l=null===se||void 0===se||null===(e=se.data)||void 0===e?void 0:e.users.map((e=>e.id)),i=null===le||void 0===le||null===(s=le.data)||void 0===s?void 0:s.filter((e=>!(null!==l&&void 0!==l&&l.includes(e.id))));K(i)}),[null===le||void 0===le?void 0:le.data,null===se||void 0===se?void 0:se.data]),(0,q.jsx)("div",{className:`settings-wrap ${t.userSettingPage}`,children:(0,q.jsxs)("div",{className:"settings-wrapper",children:[(0,q.jsx)(n.A,{activeTab:Q,setActiveTab:G}),(0,q.jsxs)("div",{className:"settings-content setModalelBoots",children:[(0,q.jsxs)("div",{className:"headSticky",children:[(0,q.jsx)("h1",{className:"mb-0",children:"Locations"}),(0,q.jsxs)("p",{className:"d-flex align-items-center",children:[(null===ee||void 0===ee||null===(e=ee.data)||void 0===e||null===(s=e.locations)||void 0===s?void 0:s.length)||0," / ",null===ee||void 0===ee||null===(l=ee.data)||void 0===l||null===(j=l.limits)||void 0===j?void 0:j.total," ",(0,q.jsx)(a.A,{className:"text-button",children:"Buy More"})]}),(0,q.jsxs)("div",{className:`contentMenuTab ${t.contentMenuTab}`,style:{position:"relative"},children:[(0,q.jsx)("ul",{className:"w-100",children:null===ee||void 0===ee||null===(g=ee.data)||void 0===g||null===(A=g.locations)||void 0===A?void 0:A.map(((e,s)=>(0,q.jsx)("li",{className:(0,p.A)(e.id===J&&"menuActive"),children:(0,q.jsx)(o.N_,{onClick:()=>Z(e.id),children:e.name})},e.id)))}),(0,q.jsxs)(a.A,{onClick:()=>{var e,s,l,i;(null===ee||void 0===ee||null===(e=ee.data)||void 0===e||null===(s=e.locations)||void 0===s?void 0:s.length)<(null===ee||void 0===ee||null===(l=ee.data)||void 0===l||null===(i=l.limits)||void 0===i?void 0:i.total)&&(W(null),Y(!0))},disabled:(null===ee||void 0===ee||null===(b=ee.data)||void 0===b||null===(f=b.locations)||void 0===f?void 0:f.length)>=(null===ee||void 0===ee||null===(N=ee.data)||void 0===N||null===(w=N.limits)||void 0===w?void 0:w.total),style:{position:"absolute",right:0,bottom:"4px"},className:t.addUserBut,children:["Add ",(0,q.jsx)(d.A,{size:20,color:"#000"})]})]})]}),(0,q.jsx)("div",{className:`content_wrap_main ${t.contentwrapmain}`,children:(0,q.jsx)("div",{className:"content_wrapper",children:(0,q.jsxs)("div",{className:"listwrapper",children:[(0,q.jsx)("div",{className:"topHeadStyle w-100 pb-4 mb-4 border-bottom",children:null!==se&&void 0!==se&&se.isFetching?(0,q.jsx)(B.E,{width:"45%",height:"32px"}):(0,q.jsx)("div",{className:t.userHead,children:(0,q.jsx)("h2",{className:"mb-0",children:null===se||void 0===se||null===(_=se.data)||void 0===_?void 0:_.name})})}),(0,q.jsxs)(P.A,{className:"custom-table",bordered:!0,style:{marginBottom:"24px"},children:[(0,q.jsx)("thead",{className:(0,p.A)(t.borderNone),children:(0,q.jsxs)("tr",{children:[(0,q.jsx)("th",{children:"Country"}),(0,q.jsx)("th",{children:"State"}),(0,q.jsx)("th",{children:"City/Suburb"}),(0,q.jsx)("th",{children:"Street address"}),(0,q.jsx)("th",{children:"Post code"}),(0,q.jsx)("th",{children:"Google Maps"})]})}),(0,q.jsx)("tbody",{className:(0,p.A)(t.table),children:(0,q.jsxs)("tr",{children:[(0,q.jsxs)("td",{className:(0,p.A)(t.td,"d-flex align-items-center gap-2"),children:[null!==se&&void 0!==se&&se.isFetching?(0,q.jsx)(B.E,{width:"100%"}):(null===se||void 0===se||null===(S=se.data)||void 0===S?void 0:S.country_name)||"-",(null===ee||void 0===ee||null===(C=ee.data)||void 0===C||null===(E=C.locations)||void 0===E||null===(k=E[0])||void 0===k?void 0:k.id)===J?(0,q.jsx)(o.N_,{to:"/settings/generalinformation",children:(0,q.jsx)(a.A,{className:(0,p.A)(t.hoverShow,"p-0 text-button"),style:{visibility:"hidden"},children:"Edit"})}):(0,q.jsx)(a.A,{onClick:()=>{var e,s,l,i,t,n,o;W({id:null===se||void 0===se||null===(e=se.data)||void 0===e?void 0:e.id,name:null===se||void 0===se||null===(s=se.data)||void 0===s?void 0:s.name,address:null===se||void 0===se||null===(l=se.data)||void 0===l?void 0:l.address,country:null===se||void 0===se||null===(i=se.data)||void 0===i?void 0:i.country,state:null===se||void 0===se||null===(t=se.data)||void 0===t?void 0:t.state,city:null===se||void 0===se||null===(n=se.data)||void 0===n?void 0:n.city,postcode:null===se||void 0===se||null===(o=se.data)||void 0===o?void 0:o.postcode}),Y(!0)},className:(0,p.A)(t.hoverShow,"p-0 text-button"),style:{visibility:"hidden"},children:"Edit"})]}),(0,q.jsx)("td",{className:t.td,children:null!==se&&void 0!==se&&se.isFetching?(0,q.jsx)(B.E,{width:"100%"}):(null===se||void 0===se||null===(T=se.data)||void 0===T?void 0:T.state_name)||(null===se||void 0===se||null===(F=se.data)||void 0===F?void 0:F.state_alias)||"-"}),(0,q.jsx)("td",{className:t.td,children:null!==se&&void 0!==se&&se.isFetching?(0,q.jsx)(B.E,{width:"100%"}):(null===se||void 0===se||null===(R=se.data)||void 0===R?void 0:R.city_name)||"-"}),(0,q.jsx)("td",{className:t.td,children:null!==se&&void 0!==se&&se.isFetching?(0,q.jsx)(B.E,{width:"100%"}):(null===se||void 0===se||null===(L=se.data)||void 0===L?void 0:L.address)||"-"}),(0,q.jsx)("td",{className:t.td,children:null!==se&&void 0!==se&&se.isFetching?(0,q.jsx)(B.E,{width:"100%"}):(null===se||void 0===se||null===(U=se.data)||void 0===U?void 0:U.postcode)||"-"}),(0,q.jsx)("td",{className:(0,p.A)(t.td,"text-start"),children:null!==se&&void 0!==se&&se.isFetching?(0,q.jsx)(B.E,{width:"100%"}):(0,q.jsx)(o.N_,{to:`http://maps.google.com/?q=${null===se||void 0===se||null===(M=se.data)||void 0===M?void 0:M.address}`,target:"_blank",children:(0,q.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKZSURBVHgBjZM7aBRBGMf/sze53MNAYthdonJ5cZeQFAkSEHyQswiCWJxFIlho4yOFRbAwkigimMIikkI0lSLYSMBSUZK7aFqx0GAUTXyQ+EgkHvHu9h67M87M3i7auezON7v7/X/ft//ZIfiP42MqWc9pcIJX7OMgpJ4QPOeUnGufmX1NemdGkmBIykTGmJiqmYpqFOejmXcnueO0gAOcMzkIDmHlcOgArTh2psJs7N7eiiitxbP1JTjMETou8jgOfcqBM66wn/NFFB0HrdFa1HCu1eQKE7TMKjgTH1CAtcKmLILM90W//d6fJTFylAVkYSOrOmCsDp11YRANezRZpd/swvkX9/DNyiJpdqMp3OADcpT48yjVVNxGAyoKVlaTFbfKFvoa2/F47SX26h2qCwmWcWFHWCUHhXOpnTqOxUzsitRCvQR/QplIvPLqAUa7U2iO6riznMZXa9OHnNjPQFcDsN/bClRD1Avp7aoD5yppuX/KdQjcF7l3wGQij0GzjK0NAz+uf4Fm5ZVYAVri1xK3717WeNVt2YnXtszxxEXWhLXIaZQGjvhiu6cP1vCIIwtpTLVTFVY7mOxwxSwQQ7F+HAFaB7KvH6wtrrqzD6d8Y9UqeJeE3egoKPHKr2ZML44psWEYoJTC7uqB05YAb2j0AbRqgKo+5YtjuDg/hlwlgnyZ42xSU5CN3j4wq4C/D7EK7s871Wlh0HArj86PC2FEPU+/JaI7DcMHAT2ewDr4PwDNqzxklLCSjfli+Zy5nmFOQKYzGgLBIIzOLvU5PmBKGDZklrAsxBcyl5ATYk/oGSuH2SWCW2kBCQRgmiZCoZALONpYefphU4jTY/hdCqkdyeWurEZvLq/ZNxw359ROzOq6/lAC/gA2jGWYJ8Il5QAAAABJRU5ErkJggg==",alt:"google-map-location"})})})]})})]}),(0,q.jsx)("div",{className:"topHeadStyle w-100 pb-4 mb-4 border-bottom",style:{paddingTop:"24px"},children:(0,q.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[(0,q.jsx)("h2",{className:"mb-0",children:"Desktop Users"}),(0,q.jsxs)("div",{children:[(null===ie||void 0===ie?void 0:ie.isPending)&&(0,q.jsx)(O.p,{className:"me-3",style:{width:"20px",height:"20px"}}),(0,q.jsx)(y.m,{onChange:e=>{return s=e.value,void ie.mutate({id:s});var s},options:null===V||void 0===V?void 0:V.map((e=>({value:null===e||void 0===e?void 0:e.id,label:(null===e||void 0===e?void 0:e.name)||"-",photo:(null===e||void 0===e?void 0:e.photo)||""}))),placeholder:"Select Desktop User",itemTemplate:e=>(0,q.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden"},children:(0,q.jsx)("img",{src:null===e||void 0===e?void 0:e.photo,alt:"user-img",style:{width:"24px",height:"24px",borderRadius:"50%"}})}),null===e||void 0===e?void 0:e.label]}),className:"outline-none",style:{width:"230px"},loading:null===le||void 0===le?void 0:le.isFetching})]})]})}),(0,q.jsxs)(P.A,{className:"custom-table",bordered:!0,style:{marginBottom:"24px"},children:[(0,q.jsx)("thead",{className:(0,p.A)(t.borderNone),children:(0,q.jsxs)("tr",{children:[(0,q.jsx)("th",{children:"Name"}),(0,q.jsx)("th",{children:"Email"}),(0,q.jsx)("th",{children:"Phone"}),(0,q.jsx)("th",{children:"Role"}),(0,q.jsx)("th",{children:"Privilege"}),(0,q.jsx)("th",{children:"Actions"})]})}),(0,q.jsxs)("tbody",{children:[null===se||void 0===se||null===(H=se.data)||void 0===H||null===($=H.users)||void 0===$?void 0:$.map(((e,s)=>{var l;return(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:(0,q.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden"},children:(0,q.jsx)("img",{src:e.photo,alt:"user-img",style:{width:"24px",height:"24px",borderRadius:"50%"}})}),e.first_name," ",e.last_name]})}),(0,q.jsx)("td",{children:e.email||"-"}),(0,q.jsx)("td",{children:e.phone||"-"}),(0,q.jsx)("td",{children:e.role||"-"}),(0,q.jsx)("td",{children:(0,q.jsx)("div",{className:`styleGrey01  ${t.privilege}`,children:e.privilege_name||"-"})}),(0,q.jsx)("td",{children:(0,q.jsx)(a.A,{onClick:()=>te.mutate({id:e.id}),className:(0,p.A)(t.dangerTextButton,"text-button"),style:{width:"120px"},children:(null===te||void 0===te||null===(l=te.variables)||void 0===l?void 0:l.id)===e.id&&null!==te&&void 0!==te&&te.isPending?(0,q.jsx)(O.p,{style:{width:"15px",height:"15px"}}):"Delete"})})]},e.id)})),((null===se||void 0===se?void 0:se.isFetching)||(null===ie||void 0===ie?void 0:ie.isPending))&&(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:(0,q.jsx)(B.E,{width:"100%"})}),(0,q.jsx)("td",{children:(0,q.jsx)(B.E,{width:"100%"})}),(0,q.jsx)("td",{children:(0,q.jsx)(B.E,{width:"100%"})}),(0,q.jsx)("td",{children:(0,q.jsx)(B.E,{width:"100%"})}),(0,q.jsx)("td",{children:(0,q.jsx)(B.E,{width:"100%"})}),(0,q.jsx)("td",{children:(0,q.jsx)(B.E,{width:"100%"})})]})]})]})]})})}),(ee.isLoading||se.isFetching)&&(0,q.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,q.jsx)(r.A,{animation:"border",role:"status",children:(0,q.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),(0,q.jsx)(z,{visible:D,setVisible:Y,defaultValues:X,id:null===X||void 0===X?void 0:X.id,refetch:ee.refetch,refetch2:se.refetch,fallbackLocation:()=>{var e,s,l;null!==ee&&void 0!==ee&&null!==(e=ee.data)&&void 0!==e&&null!==(s=e.locations)&&void 0!==s&&s.length&&Z(null===ee||void 0===ee||null===(l=ee.data)||void 0===l?void 0:l.locations[0].id)}})]})]})})}},73898:(e,s,l)=>{l.d(s,{A:()=>c});var i=l(65043),t=l(65173),n=l.n(t),o=["color","size","title","className"];function a(){return a=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},a.apply(this,arguments)}function r(e,s){if(null==e)return{};var l,i,t=function(e,s){if(null==e)return{};var l,i,t={},n=Object.keys(e);for(i=0;i<n.length;i++)l=n[i],s.indexOf(l)>=0||(t[l]=e[l]);return t}(e,s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)l=n[i],s.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(t[l]=e[l])}return t}var d=(0,i.forwardRef)((function(e,s){var l=e.color,t=e.size,n=e.title,d=e.className,c=r(e,o);return i.createElement("svg",a({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:l,className:["bi","bi-pencil-square",d].filter(Boolean).join(" ")},c),n?i.createElement("title",null,n):null,i.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),i.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))}));d.propTypes={color:n().string,size:n().oneOfType([n().string,n().number]),title:n().string,className:n().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},93202:(e,s,l)=>{l.d(s,{A:()=>c});var i=l(65043),t=l(65173),n=l.n(t),o=["color","size","title","className"];function a(){return a=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},a.apply(this,arguments)}function r(e,s){if(null==e)return{};var l,i,t=function(e,s){if(null==e)return{};var l,i,t={},n=Object.keys(e);for(i=0;i<n.length;i++)l=n[i],s.indexOf(l)>=0||(t[l]=e[l]);return t}(e,s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)l=n[i],s.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(t[l]=e[l])}return t}var d=(0,i.forwardRef)((function(e,s){var l=e.color,t=e.size,n=e.title,d=e.className,c=r(e,o);return i.createElement("svg",a({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:l,className:["bi","bi-plus-circle",d].filter(Boolean).join(" ")},c),n?i.createElement("title",null,n):null,i.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),i.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));d.propTypes={color:n().string,size:n().oneOfType([n().string,n().number]),title:n().string,className:n().string},d.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=d},64196:(e,s,l)=>{l.d(s,{A:()=>r});var i=l(98139),t=l.n(i),n=l(65043),o=l(67852),a=l(70579);const r=n.forwardRef(((e,s)=>{let{bsPrefix:l,className:i,striped:n,bordered:r,borderless:d,hover:c,size:u,variant:h,responsive:m,...v}=e;const x=(0,o.oU)(l,"table"),p=t()(i,x,h&&`${x}-${h}`,u&&`${x}-${u}`,n&&`${x}-${"string"===typeof n?`striped-${n}`:"striped"}`,r&&`${x}-bordered`,d&&`${x}-borderless`,c&&`${x}-hover`),j=(0,a.jsx)("table",{...v,className:p,ref:s});if(m){let e=`${x}-responsive`;return"string"===typeof m&&(e=`${e}-${m}`),(0,a.jsx)("div",{className:e,children:j})}return j}))}}]);
//# sourceMappingURL=4604.afdd1bba.chunk.js.map