"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[4782],{14834:(e,t,s)=>{function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=parseFloat(e);return isNaN(s)?"0.00":t&&Math.abs(s)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(s):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}s.d(t,{m:()=>l})},20793:(e,t,s)=>{e.exports=s.p+"static/media/NodataImg.ee3ccbdc6b7e66284e17.png"},22741:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var l=s(65043),i=s(14282),a=s(75329),r=s(49367),n=s(35475),o=s(2028),d=s(46229),c=s(36766),x=s(11281),u=s(83855);const p="job-chat_floatButton__eX1pR";var h=s(70579);const m=()=>{(0,l.useRef)(null);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{className:`${p} border-0`,children:(0,h.jsx)(u.A,{color:"#344054",onClick:e=>{}})})})};var v=s(39759),f=s(3494),j=s(38161),g=s(27066),b=s(93747),N=s(58387),_=s(54972),C=s(75218),A=s(5328),w=s(44621);const S={filterBox:"job-filters_filterBox__6Lx8F",mainTagsWrapper:"job-filters_mainTagsWrapper__vDLaR",tagsInputContainer:"job-filters_tagsInputContainer__1LOC6",tagItemsWrap:"job-filters_tagItemsWrap__LYyiY",tagItemWrap:"job-filters_tagItemWrap__HK47T",status:"job-filters_status__lY9kZ",DRAFT:"job-filters_DRAFT__f-PXx",OPEN:"job-filters_OPEN__IjkSs",ASSIGNED:"job-filters_ASSIGNED__eL8ic",CONFIRMED:"job-filters_CONFIRMED__nehaB",DECLINED:"job-filters_DECLINED__T+R+p",SUBMITTED:"job-filters_SUBMITTED__LHp7Y",FINISHED:"job-filters_FINISHED__T88Ey",IN_PROGRESS:"job-filters_IN_PROGRESS__L0VLe",DropdownItem:"job-filters_DropdownItem__BOmrz",searchBox:"job-filters_searchBox__PqHrZ"};var y=s(90386),D=s(58027);const I=e=>{let{setFilters:t,filter:s}=e;const[a,r]=(0,l.useState)(!1),[n,o]=(0,l.useState)("worker"),[d,c]=(0,l.useState)([]),[x,u]=(0,l.useState)([]),[p,m]=(0,l.useState)([]),[I,k]=(0,l.useState)(""),F=[{label:"Draft",value:"draft",className:"DRAFT"},{label:"Open",value:"1",className:"OPEN"},{label:"Assigned",value:"2",className:"ASSIGNED"},{label:"Submitted",value:"3",className:"SUBMITTED"},{label:"Finished",value:"4",className:"FINISHED"},{label:"In Progress",value:"in_progress",className:"IN_PROGRESS"},{label:"Declined",value:"6",className:"DECLINED"},{label:"Confirmed",value:"a",className:"CONFIRMED"}],E=(0,b.I)({queryKey:["mobileUser"],queryFn:y.tD});(0,l.useEffect)((()=>(document.addEventListener("click",(e=>{e.target.closest(".job-filters")||e.target.closest(".job-filters *")||r(!1)})),()=>{document.removeEventListener("click",(e=>{e.target.closest(".job-filters")||e.target.closest(".job-filters *")||r(!1)}))})),[]),(0,l.useEffect)((()=>{var e,t;s.status?null!==(e=s.status)&&void 0!==e&&e.length&&c(s.status.map((e=>e.value))):c([]),s.worker?null!==(t=s.worker)&&void 0!==t&&t.length&&u(s.worker||[]):u([])}),[s]);return(0,l.useEffect)((()=>{var e,t;const s=(null===E||void 0===E||null===(e=E.data)||void 0===e||null===(t=e.users)||void 0===t?void 0:t.filter((e=>"disconnected"!==e.status)))||[];if(""===(null===I||void 0===I?void 0:I.trim()))return void m(s);const l=s.filter((e=>{var t,s;return(null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase().includes(I.toLowerCase()))||(null===(s=e.last_name)||void 0===s?void 0:s.toLowerCase().includes(I.toLowerCase()))}));m(l)}),[I,null===E||void 0===E?void 0:E.data]),(0,h.jsxs)("div",{className:"job-filters",children:[(0,h.jsx)("button",{className:`${S.filterBox}`,onClick:()=>r(!a),children:(0,h.jsx)(v.A,{})}),a&&(0,h.jsxs)(w.A,{id:"controlled-tab-example",activeKey:n,onSelect:e=>o(e),className:"filtterBoxWrapper",style:{marginLeft:"5px",marginTop:"5px"},children:[(0,h.jsxs)(A.A,{eventKey:"Worker",title:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f.A,{color:"#667085",size:16}),"Worker"]}),children:[(0,h.jsxs)("div",{className:S.searchBox,children:[(0,h.jsx)("div",{style:{position:"absolute",top:"7px",left:"18px"},children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,h.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,h.jsx)("input",{type:"text",placeholder:"Search",value:I,onChange:e=>k(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"260px",border:"1px solid #D0D5DD",color:"#424242",padding:"10px 10px 10px 36px",fontSize:"14px",height:"40px"}})]}),null===p||void 0===p?void 0:p.map((e=>(0,h.jsxs)("div",{className:(0,N.A)(S.DropdownItem),onClick:()=>u((t=>null!==t&&void 0!==t&&t.some((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):t?[...t,e]:[e])),children:[(0,h.jsxs)("div",{className:"d-flex gap-2 align-items-center w-100",children:[(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"40px",overflow:"hidden",border:"1px solid #dedede"},children:(0,h.jsx)(D.A,{photo:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),(0,h.jsxs)("div",{className:"ellipsis-width",style:{maxWidth:"200px"},children:[e.first_name," ",e.last_name]})]}),null!==x&&void 0!==x&&x.some((t=>t.id===e.id))?(0,h.jsx)(j.A,{color:"#1AB2FF",size:20}):null]},e.id))),(0,h.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,h.jsx)(i.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{r(!1),t((e=>{const{worker:t,...s}=e;return s})),u([])},children:"Cancel"}),(0,h.jsx)(i.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{if(r(!1),null===x||void 0===x||!x.length)return;let e=x.map((e=>({...e,label:e.first_name+" "+e.last_name})));t((t=>({...t,worker:[...e]})))},children:"Apply"})]})]}),(0,h.jsxs)(A.A,{eventKey:"status",title:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g.A,{color:"#667085",size:16}),"Status"]}),children:[(0,h.jsx)("div",{className:"job-status",style:{height:"350px",overflow:"auto",marginLeft:"0px",padding:"6px 10px"},children:F.map((e=>(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3 p-2 mb-2",children:[(0,h.jsx)(_.S,{checked:d.includes(e.value),onChange:t=>{c((s=>t.checked?[...s,e.value]:s.filter((t=>t!==e.value))))}}),(0,h.jsx)(C.v,{className:`status ${S[e.className]} font-14`,label:e.label})]},e.value)))}),(0,h.jsxs)("div",{className:"d-flex justify-content-end gap-2 p-3 border-top",children:[(0,h.jsx)(i.A,{className:"outline-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{r(!1),t((e=>{const{status:t,...s}=e;return s})),c([])},children:"Cancel"}),(0,h.jsx)(i.A,{className:"solid-button",style:{width:"115px",padding:"8px 14px"},onClick:()=>{if(r(!1),null===d||void 0===d||!d.length)return;const e=F.filter((e=>d.includes(e.value)));t((t=>({...t,status:e})))},children:"Apply"})]})]})]})]})};var k=s(56741);const F=e=>{var t,s;let{filter:l,setFilters:a}=e;console.log("filter: ",l);return(0,h.jsx)(h.Fragment,{children:(null===(t=Object.keys(l))||void 0===t?void 0:t.length)>0&&(0,h.jsx)("div",{className:S.mainTagsWrapper,children:null===(s=Object.entries(l))||void 0===s?void 0:s.map((e=>{let[t,s]=e;return(0,h.jsx)("div",{children:(null===s||void 0===s?void 0:s.length)>0&&(0,h.jsx)("div",{className:S.tagsInputContainer,children:(0,h.jsxs)("ul",{className:S.tagItemsWrap,children:[s.map(((e,r)=>(0,h.jsxs)("li",{className:S.tagItemWrap,children:[null===e||void 0===e?void 0:e.label,(null===s||void 0===s?void 0:s.length)>1&&(0,h.jsx)(i.A,{variant:"link",size:"sm",style:{marginLeft:"5px",padding:0},onClick:()=>((e,t)=>{const s={...l},i=s[e].filter((e=>e!==t));0===i.length?delete s[e]:s[e]=i,a(s)})(t,e),children:(0,h.jsx)(k.A,{color:"#F96969",size:15})})]},r))),(0,h.jsx)(i.A,{variant:"link",size:"sm",style:{marginLeft:"0px",padding:0},onClick:()=>(e=>{const t={...l};delete t[e],a(t)})(t),children:(0,h.jsx)(k.A,{color:"#F96969",size:20})})]})})},t)}))})})},E=()=>{const e=(0,l.useRef)(null),[t,s]=(0,n.ok)(),u=t.get("search"),p=t.get("targetId"),[v,f]=(0,l.useState)(0),[j,g]=(0,l.useState)(!1),[b,N]=(0,l.useState)(!1),[_,C,A]=(0,o.d7)("",400),[w,S]=(0,l.useState)([]),[y,D]=(0,l.useState)({}),[k,E]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{u&&p&&(A(u),E(!0))}),[u,p,A]),(0,l.useEffect)((()=>{if(!k||!p||C!==u)return;const e=function(l){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return setTimeout((()=>{const l=document.querySelector(`.row-id-${p}`);if(l)(a=l).classList.add("highlight-row"),setTimeout((()=>{const e=a.closest(".p-datatable-wrapper");if(e){const t=a.offsetTop-e.clientHeight/2+a.clientHeight/2;e.scrollTo({top:t,behavior:"smooth"})}}),100),setTimeout((()=>{a.classList.remove("highlight-row"),E(!1);const e=new URLSearchParams(t);e.delete("search"),e.delete("targetId"),s(e,{replace:!0})}),6e3);else{if(!i){const t=e(1500,!0);return()=>clearTimeout(t)}E(!1),console.warn("Target row not found:",p)}var a}),l)},l=e(800);return()=>clearTimeout(l)}),[k,p,C,u,t,s]),(0,h.jsxs)("div",{className:"jobs-page",children:[(0,h.jsx)(r.mg,{children:(0,h.jsx)("title",{children:"MeMate - Jobs"})}),(0,h.jsxs)("div",{className:`topbar ${null!==w&&void 0!==w&&w.length?c.A.active:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,h.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==w&&void 0!==w&&w.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h6",{className:c.A.selectedCount,children:["Selected: ",null===w||void 0===w?void 0:w.length]}),(0,h.jsx)("div",{className:"filtered-box",children:(0,h.jsx)("button",{className:`${c.A.filterBox}`,onClick:()=>{return t=!0,void(e.current?e.current.exportCSV({selectionOnly:t}):console.error("DataTable ref is null"));var t},children:(0,h.jsx)(a.A,{})})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"filtered-box",children:(0,h.jsx)(I,{setFilters:D,filter:y})}),(0,h.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,h.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,h.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,h.jsx)("input",{type:"text",placeholder:"Search",value:_,onChange:e=>A(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,h.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,h.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Jobs"}),(0,h.jsx)(i.A,{className:`${c.A.newButton}`,onClick:()=>g(!0),children:"New Job"})]}),(0,h.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,h.jsx)("h1",{className:`${c.A.total} mb-0`,children:"Total"}),(0,h.jsxs)("div",{className:`${c.A.totalCount}`,children:[v," Jobs"]})]})]}),Object.keys(y).length>0&&(0,h.jsx)(F,{setFilters:D,filter:y}),(0,h.jsx)(d.A,{ref:e,searchValue:C,setTotal:f,selected:w,setSelected:S,refetch:b,setRefetch:N,createJobVisible:g,isCreateJobVisible:j,isFilterEnabled:Object.keys(y).length>0,filters:y}),(0,h.jsx)(m,{}),(0,h.jsx)(x.A,{visible:j,setVisible:g,setRefetch:N})]})}},99868:(e,t,s)=>{s.d(t,{A:()=>m});var l=s(65043),i=s(14282),a=s(38294),r=s(35475),n=s(58387);const o="no-data-found-template_noDataBox__HgeT1",d="no-data-found-template_title__P5uV2",c="no-data-found-template_subTitle__zMBB-",x="no-data-found-template_supportext__pHg2P";var u=s(20793),p=s(32808),h=s(70579);const m=e=>{let{isDataExist:t=!0}=e;const[s,m]=(0,l.useState)(!1);return(0,h.jsxs)("div",{className:(0,n.A)(o),children:[(0,h.jsx)("div",{className:"position-relative d-flex flex-column",children:(0,h.jsx)("img",{src:u,alt:"no-data"})}),t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{className:(0,n.A)(d),children:"There is no results"}),(0,h.jsxs)("p",{className:(0,n.A)(c),children:["The user you are looking for doesn't exist. ",(0,h.jsx)("br",{}),"Here are some helpful links:"]}),(0,h.jsx)(r.N_,{to:"/",children:(0,h.jsxs)(i.A,{className:"outline-button",style:{marginBottom:"32px"},children:[" ",(0,h.jsx)(a.A,{})," Go back"]})}),(0,h.jsx)(r.N_,{onClick:()=>m(!0),to:"#",children:(0,h.jsx)("span",{className:(0,n.A)(x),children:"Support"})})]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("h2",{className:(0,n.A)(d),children:"No historical records yet."})}),(0,h.jsx)(p.A,{setVisible:m,visible:s})]})}}}]);
//# sourceMappingURL=4782.ca2c4ab6.chunk.js.map