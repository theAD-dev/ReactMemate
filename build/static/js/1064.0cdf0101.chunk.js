"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[1064],{259:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var a=n(65043),l=n(14282),s=n(61072),r=n(78602),i=n(13846),o=n(33817),d=n(49367),c=n(35475),u=n(28261),m=n(47097),f=n(72052),p=n(93740),v=n(74856),x=n(56328),y=n(59357),b=n(623),h=n(48417),g=n(14834),j=n(70579);const N=()=>{var e,t,n,N,w,C,P,O,A,B;const{trialHeight:S}=(0,h.$)(),[E,I]=(0,a.useState)({}),[k,_]=(0,a.useState)(!1),[M,D]=(0,a.useState)(!1),[F,H]=(0,a.useState)({}),R=(0,u.I)({queryKey:["getBillingPersonalInfo"],queryFn:b.oQ,retry:1}),L=(0,u.I)({queryKey:["getUpcomingPayment"],queryFn:b.PR,retry:1}),U=(0,u.I)({queryKey:["getPaymentMethodInfo"],queryFn:b.Kh,retry:1}),T=(0,m.n)({mutationFn:e=>(0,b.Nh)(e),onSuccess:()=>{x.oR.success("Payment Info updated successfully"),R.refetch(),_(!1)},onError:e=>{console.log("error: ",e),x.oR.error("Failed to update Payment Info. Please try again.")}}),V=e=>{const{name:t,value:n}=e.target,a="abn"===t?n.replace(/\D/g,""):n;I((e=>({...e,[t]:a}))),F[t]&&H((e=>({...e,[t]:""})))};return(0,a.useEffect)((()=>{null!==R&&void 0!==R&&R.data&&I(null===R||void 0===R?void 0:R.data)}),[null===R||void 0===R?void 0:R.data]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"settings-BillingInfo",children:[(0,j.jsx)(d.mg,{children:(0,j.jsx)("title",{children:"MeMate - Billing Info"})}),(0,j.jsxs)("div",{className:"settings-content ps-0",children:[(0,j.jsxs)("div",{className:"headSticky ps-4",children:[(0,j.jsx)("h1",{children:"Subscription "}),(0,j.jsx)("div",{className:"contentMenuTab",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:(0,j.jsx)(c.N_,{to:"/settings/generalinformation/subscription",children:"Subscription"})}),(0,j.jsx)("li",{className:"menuActive",children:(0,j.jsx)(c.N_,{to:"/settings/generalinformation/billing-info",children:"Billing Info"})}),(0,j.jsx)("li",{children:(0,j.jsx)(c.N_,{to:"/settings/generalinformation/bills",children:"Bills"})})]})})]}),(0,j.jsx)("div",{className:"content_wrap_main bg-grey p-4",style:{paddingBottom:`${S}px`},children:(0,j.jsxs)("div",{className:"content_wrapper1",children:[(0,j.jsx)("div",{className:"topHeadStyle rounded mb-3",children:(0,j.jsxs)("div",{className:"w-100 pt-3 ps-4 d-flex align-items-center justify-content-between",children:[(0,j.jsxs)("h2",{className:"Exclamation",children:[(0,j.jsx)("span",{children:(0,j.jsx)(o.A,{color:"#344054",size:20})}),(0,j.jsx)("strong",{children:" Next Payment: "})," Your next monthly payment $",(0,g.m)((null===L||void 0===L||null===(e=L.data)||void 0===e?void 0:e.total)||0)," is scheduled on ",(e=>{try{const t=new Date(1e3*e);if(isNaN(t.getTime()))throw new Error("Invalid ISO date format. Use 'YYYY-MM-DDTHH:mm:ssZ' (e.g., '2025-03-25T14:15:22Z').");const n=t.getUTCDate(),a=t.toLocaleString("en-US",{month:"long",timeZone:"Australia/Sydney"});return`${n} ${a} ${t.getUTCFullYear()}`}catch(t){return console.log("err: ",t),""}})(null===L||void 0===L||null===(t=L.data)||void 0===t?void 0:t.next_payment_attempt),"."]}),(0,j.jsx)(c.N_,{className:"border-0 p-0 me-4",to:"/account-overdue",children:(0,j.jsx)(l.A,{className:"outline-button py-1",children:"Pay now"})})]})}),(0,j.jsxs)(s.A,{children:[(0,j.jsx)(r.A,{xs:7,children:(0,j.jsx)(i.A,{className:"border-0 rounded p-0",children:(0,j.jsxs)(i.A.Body,{children:[(0,j.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,j.jsx)("h1",{className:"font-18 m-0",children:"Payment Info"}),k?(0,j.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,j.jsx)("button",{onClick:()=>_(!1),className:"text-button p-0",style:{fontSize:"13px"},children:"Cancel"}),(0,j.jsx)("button",{disabled:null===T||void 0===T?void 0:T.isPending,onClick:()=>{(()=>{var e;let t={};return null!==E&&void 0!==E&&E.payment_name||(t.payment_name="Business name is required"),null!==E&&void 0!==E&&E.abn?11!==(null===E||void 0===E||null===(e=E.abn)||void 0===e?void 0:e.length)&&(t.abn="Enter 11 digit ABN number"):t.abn="ABN number is required",H(t),0===Object.keys(t).length})()&&T.mutate(E)},className:"text-button p-0",children:null!==T&&void 0!==T&&T.isPending?(0,j.jsx)(p.p,{className:"me-2",style:{width:"18px",height:"18px"}}):"Save"})]}):(0,j.jsx)("button",{onClick:()=>_(!0),className:"text-button",children:"Edit"})]}),(0,j.jsx)("div",{className:"bg-grey p-3 mb-4",children:(0,j.jsxs)(s.A,{children:[(0,j.jsx)(r.A,{sm:6,children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{className:"lable d-block",children:"Business Name"}),k?(0,j.jsxs)("div",{children:[(0,j.jsx)(f.S,{value:(null===E||void 0===E?void 0:E.payment_name)||"",className:"border py-2 "+(F.payment_name?"p-invalid":""),name:"payment_name",onChange:V,placeholder:"Business name"}),F.payment_name&&(0,j.jsx)("small",{className:"p-error d-block mt-1",children:F.payment_name})]}):(0,j.jsx)("p",{className:"mb-0 font-16 font-600",children:null!==R&&void 0!==R&&R.isFetching?(0,j.jsx)(v.E,{width:"6rem",className:"mb-2 mt-1"}):(null===R||void 0===R||null===(n=R.data)||void 0===n?void 0:n.payment_name)||"-"})]})}),(0,j.jsx)(r.A,{sm:6,children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{className:"lable d-block mb-1",children:"Australian Business Number"}),k?(0,j.jsxs)("div",{children:[(0,j.jsx)(f.S,{value:(null===E||void 0===E?void 0:E.abn)||"",className:"border py-2 "+(F.abn?"p-invalid":""),name:"abn",onChange:V,onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text").replace(/\D/g,"");I((e=>({...e,abn:t})))},placeholder:"ABN",maxLength:11}),F.abn&&(0,j.jsx)("small",{className:"p-error d-block mt-1",children:F.abn})]}):(0,j.jsx)("p",{className:"mb-0 font-16 font-600",children:null!==R&&void 0!==R&&R.isFetching?(0,j.jsx)(v.E,{width:"10rem",className:"mb-2 mt-1"}):(null===R||void 0===R||null===(N=R.data)||void 0===N?void 0:N.abn)||"-"})]})})]})})]})})}),(0,j.jsx)(r.A,{xs:5,children:(0,j.jsx)(i.A,{className:"border-0 rounded",children:(0,j.jsxs)(i.A.Body,{children:[(0,j.jsx)("h1",{className:"font-18 mt-0",children:"Payment Method"}),(0,j.jsxs)("div",{className:"bg-grey p-3 mb-4 d-flex align-items-center justify-content-between",children:[(0,j.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"46",height:"32",viewBox:"0 0 46 32",fill:"none",children:[(0,j.jsx)("path",{d:"M0.5 4C0.5 2.067 2.067 0.5 4 0.5H42C43.933 0.5 45.5 2.067 45.5 4V28C45.5 29.933 43.933 31.5 42 31.5H4C2.067 31.5 0.5 29.933 0.5 28V4Z",fill:"white"}),(0,j.jsx)("path",{d:"M0.5 4C0.5 2.067 2.067 0.5 4 0.5H42C43.933 0.5 45.5 2.067 45.5 4V28C45.5 29.933 43.933 31.5 42 31.5H4C2.067 31.5 0.5 29.933 0.5 28V4Z",stroke:"#EAECF0"}),(0,j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3321 21.1444H11.5858L9.52638 13.0565C9.42863 12.6845 9.22108 12.3556 8.91579 12.2006C8.15389 11.811 7.31432 11.501 6.39844 11.3446V11.0332H10.8225C11.4331 11.0332 11.8911 11.501 11.9674 12.0442L13.0359 17.8782L15.7809 11.0332H18.4509L14.3321 21.1444ZM19.9774 21.1444H17.3837L19.5195 11.0332H22.1131L19.9774 21.1444ZM25.4687 13.8343C25.545 13.2898 26.003 12.9784 26.5372 12.9784C27.3768 12.9002 28.2914 13.0566 29.0546 13.4448L29.5125 11.2678C28.7493 10.9564 27.9097 10.8 27.1478 10.8C24.6305 10.8 22.7987 12.2006 22.7987 14.1444C22.7987 15.6231 24.0962 16.3995 25.0121 16.8673C26.003 17.3337 26.3846 17.6451 26.3083 18.1114C26.3083 18.811 25.545 19.1224 24.7831 19.1224C23.8672 19.1224 22.9514 18.8892 22.1131 18.4997L21.6552 20.678C22.5711 21.0662 23.5619 21.2226 24.4778 21.2226C27.3005 21.2994 29.0546 19.9002 29.0546 17.8001C29.0546 15.1553 25.4687 15.0003 25.4687 13.8343ZM38.1318 21.1444L36.0724 11.0332H33.8603C33.4024 11.0332 32.9444 11.3446 32.7918 11.811L28.9783 21.1444H31.6483L32.1812 19.667H35.4618L35.7671 21.1444H38.1318ZM34.2419 13.7562L35.0038 17.5669H32.8681L34.2419 13.7562Z",fill:"#172B85"})]}),(0,j.jsxs)("div",{className:"d-flex flex-column",children:[null!==U&&void 0!==U&&U.isFetching?(0,j.jsx)(v.E,{width:"10rem",className:"mb-1"}):(0,j.jsxs)("p",{className:"mb-0 font-500 color-344054 font-14",children:[(0,j.jsx)("span",{className:"text-capitalize",children:(null===U||void 0===U||null===(w=U.data)||void 0===w?void 0:w.card_brand)||"-"})," ending in ",(null===U||void 0===U||null===(C=U.data)||void 0===C?void 0:C.last4)||"-"]}),null!==U&&void 0!==U&&U.isFetching?(0,j.jsx)(v.E,{width:"10rem",className:""}):(0,j.jsxs)("p",{className:"mb-0 color-475467 font-14",children:["Expiry ",(null===U||void 0===U||null===(P=U.data)||void 0===P?void 0:P.exp_month)>9?null===U||void 0===U||null===(O=U.data)||void 0===O?void 0:O.exp_month:"0"+(null===U||void 0===U||null===(A=U.data)||void 0===A?void 0:A.exp_month),"/",(null===U||void 0===U||null===(B=U.data)||void 0===B?void 0:B.exp_year)||"-"]})]})]}),(0,j.jsx)(l.A,{className:"text-button bg-transparent",onClick:()=>D(!0),children:"Change"})]})]})})})]})]})})]})]}),(0,j.jsx)(y.A,{visible:M,setVisible:D,refetch:()=>U.refetch()})]})}},4488:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(65043),l=n(98139),s=n.n(l),r=n(70579);const i=e=>a.forwardRef(((t,n)=>(0,r.jsx)("div",{...t,ref:n,className:s()(t.className,e)})))},11778:(e,t,n)=>{n.d(t,{A:()=>l});const a=n(65043).createContext(null);a.displayName="CardHeaderContext";const l=a},13846:(e,t,n)=>{n.d(t,{A:()=>E});var a=n(98139),l=n.n(a),s=n(65043),r=n(67852),i=n(35284),o=n(70579);const d=s.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div",...i}=e;return a=(0,r.oU)(a,"card-footer"),(0,o.jsx)(s,{ref:t,className:l()(n,a),...i})}));d.displayName="CardFooter";const c=d;var u=n(11778);const m=s.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:i="div",...d}=e;const c=(0,r.oU)(n,"card-header"),m=(0,s.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return(0,o.jsx)(u.A.Provider,{value:m,children:(0,o.jsx)(i,{ref:t,...d,className:l()(a,c)})})}));m.displayName="CardHeader";const f=m,p=s.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,variant:s,as:i="img",...d}=e;const c=(0,r.oU)(n,"card-img");return(0,o.jsx)(i,{ref:t,className:l()(s?`${c}-${s}`:c,a),...d})}));p.displayName="CardImg";const v=p,x=s.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div",...i}=e;return a=(0,r.oU)(a,"card-img-overlay"),(0,o.jsx)(s,{ref:t,className:l()(n,a),...i})}));x.displayName="CardImgOverlay";const y=x,b=s.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="a",...i}=e;return a=(0,r.oU)(a,"card-link"),(0,o.jsx)(s,{ref:t,className:l()(n,a),...i})}));b.displayName="CardLink";const h=b;var g=n(4488);const j=(0,g.A)("h6"),N=s.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s=j,...i}=e;return a=(0,r.oU)(a,"card-subtitle"),(0,o.jsx)(s,{ref:t,className:l()(n,a),...i})}));N.displayName="CardSubtitle";const w=N,C=s.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="p",...i}=e;return a=(0,r.oU)(a,"card-text"),(0,o.jsx)(s,{ref:t,className:l()(n,a),...i})}));C.displayName="CardText";const P=C,O=(0,g.A)("h5"),A=s.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s=O,...i}=e;return a=(0,r.oU)(a,"card-title"),(0,o.jsx)(s,{ref:t,className:l()(n,a),...i})}));A.displayName="CardTitle";const B=A,S=s.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,bg:s,text:d,border:c,body:u=!1,children:m,as:f="div",...p}=e;const v=(0,r.oU)(n,"card");return(0,o.jsx)(f,{ref:t,...p,className:l()(a,v,s&&`bg-${s}`,d&&`text-${d}`,c&&`border-${c}`),children:u?(0,o.jsx)(i.A,{children:m}):m})}));S.displayName="Card";const E=Object.assign(S,{Img:v,Title:B,Subtitle:w,Body:i.A,Link:h,Text:P,Header:f,Footer:c,ImgOverlay:y})},33817:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),l=n(65173),s=n.n(l),r=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}var o=(0,a.forwardRef)((function(e,t){var n=e.color,l=void 0===n?"currentColor":n,s=e.size,o=void 0===s?"1em":s,d=e.title,c=void 0===d?null:d,u=e.className,m=void 0===u?"":u,f=function(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,r);return a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-exclamation-circle",m].filter(Boolean).join(" ")},f),c?a.createElement("title",null,c):null,a.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),a.createElement("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"}))}));o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const d=o},35284:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(65043),l=n(98139),s=n.n(l),r=n(67852),i=n(70579);const o=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:l="div",...o}=e;return a=(0,r.oU)(a,"card-body"),(0,i.jsx)(l,{ref:t,className:s()(n,a),...o})}));o.displayName="CardBody";const d=o},72052:(e,t,n)=>{n.d(t,{S:()=>b});var a=n(65043),l=n(84052),s=n(41828),r=n(2028),i=n(2224),o=n(1356),d=n(4504);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=u(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function f(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={root:function(e){var t=e.props,n=e.isFilled,a=e.context;return(0,d.xW)("p-inputtext p-component",{"p-disabled":t.disabled,"p-filled":n,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:a&&"filled"===a.inputStyle})}},v=s.x.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,iconPosition:null},css:{classes:p}});function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=a.memo(a.forwardRef((function(e,t){var n=(0,r.qV)(),u=a.useContext(l.UM),m=v.getProps(e,u),f=v.setMetaData(y(y({props:m},m.__parentMetadata),{},{context:{disabled:m.disabled,iconPosition:m.iconPosition}})),p=f.ptm,x=f.cx,b=f.isUnstyled;(0,s.j)(v.css.styles,b,{name:"inputtext",styled:!0});var h=a.useRef(t);a.useEffect((function(){d.BF.combinedRefs(h,t)}),[h,t]);var g=a.useMemo((function(){return d.BF.isNotEmpty(m.value)||d.BF.isNotEmpty(m.defaultValue)}),[m.value,m.defaultValue]),j=d.BF.isNotEmpty(m.tooltip);a.useEffect((function(){var e;g||null!==(e=h.current)&&void 0!==e&&e.value?d.DV.addClass(h.current,"p-filled"):d.DV.removeClass(h.current,"p-filled")}),[m.disabled,g]);var N=n({className:(0,d.xW)(m.className,x("root",{context:u,isFilled:g})),onBeforeInput:function(e){m.onBeforeInput&&m.onBeforeInput(e),m.keyfilter&&i.Q.onBeforeInput(e,m.keyfilter,m.validateOnly)},onInput:function(e){var t=e.target,n=!0;m.keyfilter&&m.validateOnly&&(n=i.Q.validate(e,m.keyfilter)),m.onInput&&m.onInput(e,n),d.BF.isNotEmpty(t.value)?d.DV.addClass(t,"p-filled"):d.DV.removeClass(t,"p-filled")},onKeyDown:function(e){m.onKeyDown&&m.onKeyDown(e),m.keyfilter&&i.Q.onKeyPress(e,m.keyfilter,m.validateOnly)},onPaste:function(e){m.onPaste&&m.onPaste(e),m.keyfilter&&i.Q.onPaste(e,m.keyfilter,m.validateOnly)}},v.getOtherProps(m),p("root"));return a.createElement(a.Fragment,null,a.createElement("input",c({ref:h},N)),j&&a.createElement(o.m,c({target:h,content:m.tooltip,pt:p("tooltip")},m.tooltipOptions)))})));b.displayName="InputText"}}]);
//# sourceMappingURL=1064.0cdf0101.chunk.js.map