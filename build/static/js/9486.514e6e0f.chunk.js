"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[9486],{10586:(e,t,n)=>{n.d(t,{$R:()=>i,Bu:()=>l,D3:()=>u,E4:()=>v,JP:()=>r,Rv:()=>c,Wz:()=>m,a_:()=>h,eY:()=>d,ik:()=>p,md:()=>a,oP:()=>f});var s=n(31342);const o="https://dev.memate.com.au/api/v1",a=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;const l=(e-1)*t,i=new URL(`${o}/expenses/`);return i.searchParams.append("limit",t),i.searchParams.append("offset",l),n&&i.searchParams.append("search",n),a&&i.searchParams.append("ordering",a),r&&i.searchParams.append("status","not_paid"),(0,s.f)(i.toString(),{method:"GET"})},r=async()=>{const e=new URL(`${o}/references/xero-codes/`);return(0,s.f)(e.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${o}/references/projects/`);return(0,s.f)(e.toString(),{method:"GET"})},i=async e=>{const t=new URL(`${o}${`/expenses/update/${e}/`}`);return(0,s.f)(t.toString(),{method:"GET"})},c=async e=>{const t={method:"POST",body:e},n=new URL(`${o}/expenses/new/`);return(0,s.f)(n.toString(),t)},d=async(e,t)=>{const n={method:"PUT",body:t},a=new URL(`${o}${`/expenses/update/${e}/`}`);return(0,s.f)(a.toString(),n)},u=async e=>{const t={method:"POST",body:e},n=new URL(`${o}/expenses/paid/`);return(0,s.f)(n.toString(),t)},p=async e=>{const t={method:"POST",body:e},n=new URL(`${o}/expenses/unpaid/`);return(0,s.f)(n.toString(),t)},h=async e=>{const t={method:"PUT",body:e},n=new URL(`${o}/expenses/to-xero/`);return(0,s.f)(n.toString(),t)},m=async e=>{const t=new URL(`${o}${`/expenses/delete/${e}/`}`);return(0,s.f)(t.toString(),{method:"DELETE"})},v=async e=>{const t={method:"POST",body:e},n=new URL(`${o}/clients/statement/pdf/`);return(0,s.f)(n.toString(),t)},f=async e=>{const t={method:"POST",body:e},n=new URL(`${o}/clients/statement/`);return(0,s.f)(n.toString(),t)}},12532:(e,t,n)=>{n.d(t,{A:()=>s});n(65043);const s=n.p+"static/media/taskEditIcon.5073a6098e75cbfe59e3f782e1a2d772.svg"},19334:(e,t,n)=>{n.d(t,{A:()=>o});const s=n(65043).createContext(null);s.displayName="InputGroupContext";const o=s},31342:(e,t,n)=>{n.d(t,{f:()=>s});const s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:s="GET",headers:o={},body:a}=t,r=localStorage.getItem("access_token"),l=a instanceof FormData,i={"Content-Type":l?"multipart/form-data":"application/json",...o};n&&(i.Authorization=`Bearer ${r}`);const c={method:s,headers:i,body:l?a:JSON.stringify(a),redirect:"follow"};try{const t=new URL(e),n=await fetch(t,c),s=n.headers.get("Content-Type");if(!n.ok){var d;let e=null;e=s&&s.includes("application/json")?await n.json():await n.text(),401===n.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const t=new Error((null===(d=e)||void 0===d?void 0:d.message)||`HTTP error! Status: ${n.status}`);throw t.status=n.status,t.data=e,t}if(s&&s.includes("application/json"))return await n.json();return{message:"Non-JSON response",body:await n.text()}}catch(u){throw console.error("Fetch API error:",u),u}}},33183:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),o=n(65173),a=n.n(o),r=["color","size","title","className"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l.apply(null,arguments)}var i=(0,s.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,a=e.size,i=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,h=function(e,t){if(null==e)return{};var n,s,o=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,r);return s.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:o,className:["bi","bi-arrow-right",p].filter(Boolean).join(" ")},h),d?s.createElement("title",null,d):null,s.createElement("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"}))}));i.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=i},34168:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(65043),o=(n(7245),n(27965)),a=n(70579);const r=e=>{let{onDataApply:t,dateRange:n,onClose:r}=e;const[l,i]=(0,s.useState)([]),c=(0,s.useRef)(null),[d,u]=(0,s.useState)(null),[p,h]=(0,s.useState)(null),[m,v]=(0,s.useState)(!1),[f,g]=(0,s.useState)("");(0,s.useEffect)((()=>{n&&(i([null===n||void 0===n?void 0:n.startDate,null===n||void 0===n?void 0:n.endDate]),u(null===n||void 0===n?void 0:n.startDate),h(null===n||void 0===n?void 0:n.endDate))}),[]),(0,s.useEffect)((()=>{const e=new Date,t=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;g(t)}),[]);(0,s.useEffect)((()=>{if(2===l.length){const e=l[0],t=l[1];u(e),h(t)}else if(1===l.length){const e=l[0];u(e)}}),[l]);(0,s.useEffect)((()=>{}),[m]);const x=()=>{const e=new Date;i([e,e])};return(0,s.useEffect)((()=>{if(d||p){if(d&&p){const e={year:"numeric",month:"short",day:"numeric"},t=`<p>${`${new Date(d).toLocaleDateString("en-US",e)} - ${new Date(p).toLocaleDateString("en-US",e)}`}</p><span class="today-span" style="cursor: pointer">Today</span>`,n=document.querySelector(".flatpickr-months");if(n){const e=document.querySelector(".custom-div");if(e)e.innerHTML=t;else{const e=document.createElement("div");e.className="custom-div",e.innerHTML=t,n.parentNode.insertBefore(e,n.nextSibling)}}}}else{const e=new Date;u(e),h(e)}}),[d,p]),(0,s.useEffect)((()=>{const e=document.querySelector(".today-span");return e&&e.addEventListener("click",x),()=>{e&&e.removeEventListener("click",x)}}),[d,p]),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.A,{options:{dateFormat:"Y-m-d",mode:"range",locale:{firstDayOfWeek:1},inline:!0},value:l,onChange:e=>{i(e)},ref:c}),(0,a.jsxs)("div",{className:"calenderBut",children:[(0,a.jsx)("button",{className:"tabCancel",onClick:()=>{i([]),u(null),h(null),v(!1),r&&r();const e=document.querySelector(".custom-div p");e&&(e.textContent=`${f}`)},children:"Cancel"}),(0,a.jsx)("button",{className:"tabApply",onClick:()=>{v(!0),t({startDate:d,endDate:p});const e=document.querySelector(".tags-input-container .rangedatepicker .mainWrapperTags");e&&(e.textContent=`${d.toISOString().split("T")[0]} - ${p.toISOString().split("T")[0]}`)},children:"Apply"})]})]})}},35470:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),o=n(63040),a=n(34168),r=n(70579);const l=(e,t)=>{const n={month:"short",day:"numeric"};return`${new Date(e).toLocaleDateString("en-US",n)} - ${new Date(t).toLocaleDateString("en-US",n)}`},i=e=>{let{startDate:t,endDate:n}=e;return(0,r.jsx)("div",{className:"dateSelectdTaskBar",children:l(t,n)})},c=e=>{let{setDateRange:t,dateRange:n}=e;console.log("dateRange: ",n);const[l,c]=(0,s.useState)(!1),d=(0,s.useRef)(null),u=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return(0,s.useEffect)((()=>(l?document.addEventListener("mousedown",u):document.removeEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)})),[l]),(0,r.jsxs)("div",{className:"select-date",style:{position:"relative"},ref:d,children:[(0,r.jsx)("div",{onClick:()=>c((e=>!e)),style:{cursor:"pointer"},children:null!==n&&void 0!==n&&n.startDate&&null!==n&&void 0!==n&&n.endDate?(0,r.jsx)(i,{startDate:n.startDate,endDate:n.endDate}):(0,r.jsx)("span",{className:"iconStyleCircle iconStyleCircleRight "+(l?"active":""),children:(0,r.jsx)(o.A,{color:l?"#1AB2FF":"#475467",size:18})})}),l&&(0,r.jsx)("div",{className:"select-date-range",style:{position:"absolute",bottom:"40px",background:"#fff",zIndex:1e3},children:(0,r.jsx)(a.A,{onDataApply:e=>{t(e),c(!1)},dateRange:n,onClose:()=>c(!1)})})]})}},47994:(e,t,n)=>{n.d(t,{A:()=>h});var s=n(98139),o=n.n(s),a=n(65043),r=n(67852),l=n(21068),i=n(19334),c=n(70579);const d=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:a="span",...l}=e;return s=(0,r.oU)(s,"input-group-text"),(0,c.jsx)(a,{ref:t,className:o()(n,s),...l})}));d.displayName="InputGroupText";const u=d,p=a.forwardRef(((e,t)=>{let{bsPrefix:n,size:s,hasValidation:l,className:d,as:u="div",...p}=e;n=(0,r.oU)(n,"input-group");const h=(0,a.useMemo)((()=>({})),[]);return(0,c.jsx)(i.A.Provider,{value:h,children:(0,c.jsx)(u,{ref:t,...p,className:o()(d,n,s&&`${n}-${s}`,l&&"has-validation")})})}));p.displayName="InputGroup";const h=Object.assign(p,{Text:u,Radio:e=>(0,c.jsx)(u,{children:(0,c.jsx)(l.A,{type:"radio",...e})}),Checkbox:e=>(0,c.jsx)(u,{children:(0,c.jsx)(l.A,{type:"checkbox",...e})})})},49726:(e,t,n)=>{n.d(t,{A:()=>T});var s=n(65043),o=n(47994),a=n(51038),r=n(95192),l=n(93747),i=n(47097),c=n(88060),d=n(14282),u=n(73722),p=n(32952),h=n(56328),m=n(10586),v=n(79106),f=n(72796),g=n(57189),x=n(12532),y=n(84678),w=n(58027),j=n(35470),b=n(70579);const S=e=>{if(!e)return null;return new Date(1e3*+e)},T=e=>{var t,n,T,k,$,A,N,E,D,L;let{show:R,setShow:P,refetch:C,taskId:U,setTaskId:O,defaultValue:_}=e;const I=(0,s.useRef)(null),{session:z}=(0,g.As)(),[F,B]=(0,s.useState)(!1),[q,G]=(0,s.useState)(""),[H,M]=(0,s.useState)(""),[V,J]=(0,s.useState)(""),[W,K]=(0,s.useState)(null),[Y,Q]=(0,s.useState)(null),[X,Z]=(0,s.useState)({taskTitle:!1,description:!1,project:!1,user:!1,date:!1});(0,s.useEffect)((()=>{var e,t;U&&_&&(G(null===_||void 0===_?void 0:_.title),M(null===_||void 0===_?void 0:_.description),J(null===_||void 0===_||null===(e=_.project)||void 0===e?void 0:e.id),K(null===_||void 0===_||null===(t=_.user)||void 0===t?void 0:t.id),Q({startDate:S(null===_||void 0===_?void 0:_.from_date),endDate:S(null===_||void 0===_?void 0:_.to_date)}))}),[U,_]);const ee=()=>{G(""),M(""),J(""),K(null),Q(null),B(!1),Z({taskTitle:!1,description:!1,project:!1,user:!1,date:!1})},te=(0,l.I)({queryKey:["getProjectsList"],queryFn:m.Bu}),ne=(0,l.I)({queryKey:["getUserList"],queryFn:v.aU}),se=(0,l.I)({queryKey:["getMobileUserList"],queryFn:v.gy});(0,s.useEffect)((()=>{R||ee()}),[R]);const oe=(0,i.n)({mutationFn:e=>U?(0,v.lC)(U,e):(0,v.Af)(e),onSuccess:()=>{C(),P(!1),ee(),U&&O(null),h.oR.success(`Task ${U?"updated":"created"} successfully`)},onError:e=>{console.error(`Error ${U?"updating":"creating"} task:`,e),h.oR.error(`Failed to ${U?"update":"create"} client. Please try again.`)}});(0,s.useEffect)((()=>{if(F){Z({taskTitle:!q,description:!H,project:!V,user:!W,date:!Y})}}),[q,H,V,W,Y,F]);const ae=(0,i.n)({mutationFn:e=>(0,f.mM)(U),onSuccess:()=>{console.log("Delete success"),P(!1),C()},onError:e=>{console.error("Error creating task:",e)}});return(0,b.jsxs)(p.A,{show:R,centered:!0,onHide:()=>P(!1),className:"task-form",children:[(0,b.jsx)(p.A.Header,{closeButton:!0,children:(0,b.jsxs)(p.A.Title,{children:[(0,b.jsx)("img",{src:U?x.A:y.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,b.jsxs)("span",{className:"modal-task-title",children:[U?"Edit":"New"," Task"]})]})}),(0,b.jsxs)(p.A.Body,{style:{background:"#f9fafb"},children:[(0,b.jsxs)(u.A.Group,{className:"mb-3",children:[(0,b.jsx)(u.A.Label,{children:"Task Title"}),(0,b.jsxs)(o.A,{children:[(0,b.jsx)(u.A.Control,{required:!0,type:"text",placeholder:"Enter task title",value:q,onChange:e=>G(e.target.value)}),(0,b.jsx)(o.A.Text,{children:(0,b.jsx)(a.A,{})})]}),X.taskTitle&&(0,b.jsx)(u.A.Text,{className:"error-message",children:"Task title is required"})]}),(0,b.jsxs)(u.A.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,b.jsx)(u.A.Label,{children:"Description"}),(0,b.jsx)(u.A.Control,{as:"textarea",rows:3,placeholder:"Enter a description...",value:H,onChange:e=>M(e.target.value),required:!0}),X.description&&(0,b.jsx)(u.A.Text,{className:"error-message",children:"Description is required"})]}),(0,b.jsxs)(u.A.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,b.jsx)(u.A.Label,{children:"Project Task"}),(0,b.jsx)(c.m,{options:(null===te||void 0===te||null===(t=te.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:`${e.number}: ${e.reference}`}))))||[],onChange:e=>{J(e.value),console.log("e.value: ",e.value)},className:"w-100 outline-none",style:{height:"46px"},value:V,loading:null===te||void 0===te?void 0:te.isFetching,placeholder:"Select project",filter:!0,filterInputAutoFocus:!0}),X.project&&(0,b.jsx)(u.A.Text,{className:"error-message",children:"Project task is required"})]})]}),(0,b.jsxs)("div",{className:"d-flex align-items-center border-top px-3 py-2 gap-2",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center gap-4",style:{minWidth:"200px"},children:[!W&&(0,b.jsx)(r.A,{color:null!==(n=I.current)&&void 0!==n&&null!==(T=n.panel)&&void 0!==T&&null!==(k=T.element)&&void 0!==k&&k.offsetParent?"#1AB2FF":"#475467",size:22,style:{position:"relative",left:"10px",zIndex:1},onClick:()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.show()},className:"me-3 cursor-pointer"}),(0,b.jsx)(c.m,{ref:I,options:[{label:"Desktop User",items:(null===ne||void 0===ne||null===($=ne.data)||void 0===$||null===(A=$.users)||void 0===A||null===(N=A.filter((e=>null===e||void 0===e?void 0:e.is_active)))||void 0===N?void 0:N.map((e=>({value:null===e||void 0===e?void 0:e.id,label:`${null===e||void 0===e?void 0:e.first_name} ${null===e||void 0===e?void 0:e.last_name}`||(null===e||void 0===e?void 0:e.first_name)||"-",photo:(null===e||void 0===e?void 0:e.photo)||"",has_photo:null===e||void 0===e?void 0:e.has_photo}))))||[]},...null!==z&&void 0!==z&&z.has_work_subscription?[{label:"Mobile User",items:(null===se||void 0===se||null===(E=se.data)||void 0===E||null===(D=E.users)||void 0===D||null===(L=D.filter((e=>"disconnected"!==(null===e||void 0===e?void 0:e.status))))||void 0===L?void 0:L.map((e=>({value:null===e||void 0===e?void 0:e.id,label:`${null===e||void 0===e?void 0:e.first_name} ${null===e||void 0===e?void 0:e.last_name}`||(null===e||void 0===e?void 0:e.first_name)||"-",photo:(null===e||void 0===e?void 0:e.photo)||"",has_photo:null===e||void 0===e?void 0:e.has_photo}))))||[]}]:[]],onChange:e=>{K(e.value)},valueTemplate:e=>(0,b.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"0px solid #dedede"},children:(0,b.jsx)(w.A,{photo:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),null===e||void 0===e?void 0:e.label]}),itemTemplate:e=>(0,b.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:(0,b.jsx)(w.A,{photo:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),null===e||void 0===e?void 0:e.label]}),className:"outline-none border-0 p-0",style:{width:W?"fit-content":"0px",height:W?"46px":"0px",zIndex:W?"1":"0",position:"relative",left:W?"0px":"-60px",top:W?"0px":"-15px"},value:W,dropdownIcon:(0,b.jsx)(b.Fragment,{}),collapseIcon:(0,b.jsx)(b.Fragment,{}),placeholder:"Select project",filter:!0,filterInputAutoFocus:!0,optionGroupLabel:"label",optionGroupChildren:"items"})]}),(0,b.jsx)(j.A,{dateRange:Y,setDateRange:Q})]}),(X.user||X.date)&&(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2",style:{gap:"16px",padding:"5px 15px"},children:[(0,b.jsx)("div",{style:{minWidth:"200px"},children:X.user&&(0,b.jsx)(u.A.Text,{className:"error-message",children:"User is required"})}),X.date&&(0,b.jsx)(u.A.Text,{className:"error-message",children:"Date is required"})]}),(0,b.jsxs)(p.A.Footer,{className:"d-flex justify-content-between",children:[(0,b.jsx)(d.A,{type:"button",className:"delete-button",onClick:()=>{ae.mutate()},children:ae.isPending?"Loading...":"Delete Task"}),(0,b.jsx)(d.A,{type:"button",className:"save-button",onClick:()=>{B(!0);const e={taskTitle:!q,description:!H,project:!V,user:!W,date:!Y};Z(e),e.taskTitle||e.description||e.user||e.date||oe.mutate({title:q,description:H,project:V,user:W,from_date:Y.startDate,to_date:Y.endDate})},children:oe.isPending?"Loading...":(U?"Update":"Create")+" Task"})]})]})}},63040:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(65043),o=n(65173),a=n.n(o),r=["color","size","title","className"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l.apply(null,arguments)}var i=(0,s.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,a=e.size,i=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,h=function(e,t){if(null==e)return{};var n,s,o=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,r);return s.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:o,className:["bi","bi-calendar2-event",p].filter(Boolean).join(" ")},h),d?s.createElement("title",null,d):null,s.createElement("path",{d:"M11 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"}),s.createElement("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"}),s.createElement("path",{d:"M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5z"}))}));i.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=i},72796:(e,t,n)=>{n.d(t,{Nl:()=>r,_x:()=>i,dd:()=>o,mM:()=>l,wW:()=>a});const s="https://dev.memate.com.au/api/v1",o=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const o={method:"GET",headers:t};try{const t=new URL(`${s}/tasks/${e}/`),n=await fetch(t,o);return await n.json()}catch(a){throw console.error("Tasks fetch error:",a),a}},a=async(e,t)=>{const n=new Headers,o=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${o}`),n.append("Content-Type","application/json");const a={method:"PUT",headers:n,body:JSON.stringify(e)};try{const e=new URL(`${s}/tasks/update/${t}/`),n=await fetch(e,a);return await n.json()}catch(r){throw console.error("Tasks fetch error:",r),r}},r=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const o={method:"POST",headers:t,body:JSON.stringify(e),redirect:"follow"};try{const e=await fetch(`${s}/tasks/new/`,o);return await e.text()}catch(a){throw console.error(a),a}},l=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const o={method:"DELETE",headers:t,redirect:"follow"};try{const t=new URL(`${s}/tasks/delete/${e}/`);if((await fetch(t,o)).ok)return{message:"Task deleted successfully"};throw new Error("Error during deleting")}catch(a){throw console.error("Tasks fetch error:",a),a}},i=async(e,t)=>{const n=new Headers,o=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${o}`),n.append("Content-Type","application/json");const a={method:"PATCH",headers:n,body:JSON.stringify({finished:t}),redirect:"follow"};try{const t=new URL(`${s}/tasks/complete/${e}/`),n=await fetch(t,a);return await n.json()}catch(r){throw console.error("Tasks fetch error:",r),r}}},79106:(e,t,n)=>{n.d(t,{Af:()=>l,U9:()=>a,aU:()=>c,gg:()=>r,gy:()=>d,lC:()=>i});var s=n(31342);const o="https://dev.memate.com.au/api/v1",a=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0;const l=(e-1)*t,i=new URL(`${o}/tasks/`);return i.searchParams.append("limit",t),i.searchParams.append("offset",l),n&&i.searchParams.append("name",n),a&&i.searchParams.append("ordering",a),r&&i.searchParams.append("deleted",1),(0,s.f)(i.toString(),{method:"GET"})},r=async e=>{const t=new URL(`${o}${`/tasks/${e}/`}`);return(0,s.f)(t.toString(),{method:"GET"})},l=async e=>{const t={method:"POST",body:e},n=new URL(`${o}/tasks/new/`);return(0,s.f)(n.toString(),t)},i=async(e,t)=>{const n={method:"PUT",body:t},a=new URL(`${o}${`/tasks/update/${e}/`}`);return(0,s.f)(a.toString(),n)},c=async()=>{const e=new URL(`${o}/desktop-users/`);return(0,s.f)(e.toString(),{method:"GET"})},d=async()=>{const e=new URL(`${o}/team/mobile-users/`);return(0,s.f)(e.toString(),{method:"GET"})}},84678:(e,t,n)=>{n.d(t,{A:()=>s});n(65043);const s=n.p+"static/media/new-task.1f7c3f35d1b3af6863cc0437d88ae2f1.svg"}}]);
//# sourceMappingURL=9486.514e6e0f.chunk.js.map