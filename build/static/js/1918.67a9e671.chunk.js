"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[1918],{1690:(e,s,t)=>{t.d(s,{A:()=>l});t(65043);const l=t.p+"static/media/Featured icon.f0452deecdd8a0600a95469561a90cfe.svg"},40400:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ae});var l=t(65043),i=t(84052),n=(t(26016),t(72970)),a=t(88166),o=t(18091),d=t(75329),r=t(39759),c=t(6168),x=t(43908),u=t(14282),h=t(2028);const m={filterBox:"expenses_filterBox__wxXcv",menu:"expenses_menu__5taYH",newButton:"expenses_newButton__SU4MY",total:"expenses_total__LH43I",totalCount:"expenses_totalCount__5Yt5A",clientImg:"expenses_clientImg__VRYOd",ellipsis:"expenses_ellipsis__94-xF",location:"expenses_location__JzKDi",active:"expenses_active__J0Nsm",selectedCount:"expenses_selectedCount__wP1-v",deletedRow:"expenses_deletedRow__FYQdz",paidRow:"expenses_paidRow__STtg1",unpaidRow:"expenses_unpaidRow__eujRL",fontStanderdSize:"expenses_fontStanderdSize__F1Lwi",plusIcon:"expenses_plusIcon__YeleL","paid-false":"expenses_paid-false__Oe4Ym",status:"expenses_status__W0wup",inactive:"expenses_inactive__J0oTn",actionButton:"expenses_actionButton__XzmE2"};var p=t(64824),v=t(9642),g=t(44541),j=t(95192),f=t(76104),b=t(73216),y=t(10586),w=t(72018),N=t(99868),_=t(27417),E=t(20288),S=t(93202),C=t(56741);const A="expense-edit_circledesignstyle__0R-yu",F="expense-edit_out__t3U+W",R="expense-edit_expensesEditHead__vh0iB";var k=t(5365),$=t(56328),D=t(93747),z=t(47097),B=t(74856),O=t(61072),V=t(78602),I=t(70579);const P=()=>(0,I.jsx)("div",{className:"loading-details-sidebar",children:(0,I.jsx)("div",{className:"d-flex flex-column",children:(0,I.jsxs)("div",{className:"modal-body",style:{padding:"0px 12px 12px 12px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:[(0,I.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,I.jsx)(B.E,{height:"2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{height:"1.5rem",width:"10rem",className:"mb-2"})]}),(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"}),(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"}),(0,I.jsxs)(O.A,{children:[(0,I.jsxs)(V.A,{children:[(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,I.jsxs)(V.A,{children:[(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,I.jsxs)(O.A,{children:[(0,I.jsxs)(V.A,{children:[(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,I.jsxs)(V.A,{children:[(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,I.jsxs)(O.A,{children:[(0,I.jsx)(V.A,{children:(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"94px"})}),(0,I.jsx)(V.A,{children:(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"94px"})}),(0,I.jsx)(V.A,{children:(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"94px"})})]}),(0,I.jsxs)("div",{className:"d-flex align-items-center mb-4 gap-1",children:[(0,I.jsx)(B.E,{height:"2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{height:"2rem",width:"10rem",className:"mb-2"})]}),(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"50%",className:"mb-4",height:"45px"}),(0,I.jsxs)(O.A,{children:[(0,I.jsxs)(V.A,{children:[(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,I.jsxs)(V.A,{children:[(0,I.jsx)(B.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,I.jsx)(B.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,I.jsxs)("div",{className:"d-flex align-items-center mb-4 gap-1",children:[(0,I.jsx)(B.E,{height:"2rem",width:"2rem",className:"mb-2"}),(0,I.jsx)(B.E,{height:"2rem",width:"50%",className:"mb-2"})]})]})})}),T=e=>{let{visible:s,setVisible:t,setEditData:i,id:n,name:a,setRefetch:o}=e;const d=(0,l.useRef)(null),[r,c]=(0,l.useState)({}),x=(0,D.I)({queryKey:["getExpense"],queryFn:()=>(0,y.$R)(n),enabled:!!n}),h=(0,z.n)({mutationFn:e=>(0,y.eY)(n,e),onSuccess:e=>{console.log("response: ",e),$.oR.success("Expense updated successfully"),t(!1),i({}),c({}),o((e=>!e))},onError:e=>{console.error("Error updating expense:",e),$.oR.error("Failed to update expense. Please try again.")}}),m=async(e,s)=>{c((s=>({...s,...e}))),delete e["gst-calculation"],delete e.option,delete e.subtotal,delete e.totalAmount,delete e.tax,e.order||delete e.order,e.type||(e.type=1),e.date&&(e.date=new Date(e.date).toISOString().split("T")[0]),e.due_date&&(e.due_date=new Date(e.due_date).toISOString().split("T")[0]),console.log("data: ",e),h.mutateAsync(e)},p=()=>{d.current&&d.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,l.useEffect)((()=>{if(null!==x&&void 0!==x&&x.data){var e,s,t;console.log("call......");const i=(l=null===x||void 0===x||null===(e=x.data)||void 0===e?void 0:e.nogst,(null===x||void 0===x||null===(s=x.data)||void 0===s?void 0:s.gst)?"ex":l?"no":"in"),{subtotal:n,tax:a,totalAmount:o}=((e,s)=>{let t=0,l=0;return"ex"===s?(l=e,t=.1*l):"in"===s?(t=.1*e/1.1,l=e-t):(l=e,t=0),{subtotal:l.toFixed(2),tax:t.toFixed(2),totalAmount:(parseFloat(l)+parseFloat(t)).toFixed(2)}})(+(null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.amount),i);c((e=>{var s,t,l,d,r,c,u,h,m,p,v,g,j;return{...e,supplier:null===x||void 0===x||null===(s=x.data)||void 0===s?void 0:s.supplier,invoice_reference:null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.invoice_reference,date:new Date(1e3*+(null===x||void 0===x||null===(l=x.data)||void 0===l?void 0:l.date)),due_date:new Date(1e3*+(null===x||void 0===x||null===(d=x.data)||void 0===d?void 0:d.due_date)),amount:null===x||void 0===x||null===(r=x.data)||void 0===r?void 0:r.amount,nogst:null===x||void 0===x||null===(c=x.data)||void 0===c?void 0:c.nogst,gst:null===x||void 0===x||null===(u=x.data)||void 0===u?void 0:u.gst,order:null===x||void 0===x||null===(h=x.data)||void 0===h?void 0:h.order,type:+(null===x||void 0===x||null===(m=x.data)||void 0===m?void 0:m.type),account_code:null===x||void 0===x||null===(p=x.data)||void 0===p?void 0:p.account_code,department:null===x||void 0===x||null===(v=x.data)||void 0===v?void 0:v.department,notification:null===x||void 0===x||null===(g=x.data)||void 0===g?void 0:g.notification,"gst-calculation":i,subtotal:n,tax:a,totalAmount:o,option:null!==x&&void 0!==x&&null!==(j=x.data)&&void 0!==j&&j.order?"Assign to order":"Assign to timeframe"}}))}var l}),[null===x||void 0===x?void 0:x.data]),(0,I.jsx)(E.B,{visible:s,position:"right",onHide:()=>{t(!1),i({})},modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{var s;let{closeIconRef:l,hide:o}=e;return(0,I.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,I.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,I.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,I.jsx)("div",{className:A,children:(0,I.jsx)("div",{className:F,children:(0,I.jsx)(S.A,{size:24,color:"#17B26A"})})}),(0,I.jsx)("span",{style:{color:"344054",fontSize:"20px",fontWeight:600},children:"Update Expense"})]}),(0,I.jsx)("span",{children:(0,I.jsx)(u.A,{type:"button",className:"text-button",ref:l,onClick:e=>o(e),children:(0,I.jsx)(C.A,{size:24,color:"#667085"})})})]}),(0,I.jsx)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:null!==x&&void 0!==x&&x.isFetching||null===r||void 0===r||!r.option?(0,I.jsx)(P,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:`d-flex align-items-center mb-2 justify-content-between ${R}`,children:[(0,I.jsx)("h5",{children:"Supplier Details"}),(0,I.jsxs)("h6",{children:["Expense ID: ",n||"-"]})]}),(0,I.jsx)(k.A,{ref:d,onSubmit:m,defaultValues:r,defaultSupplier:{name:a,id:null===x||void 0===x||null===(s=x.data)||void 0===s?void 0:s.supplier},id:n})]})}),(0,I.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,I.jsx)(u.A,{type:"button",onClick:e=>{e.stopPropagation(),t(!1),i({})},className:"outline-button",children:"Cancel"}),(0,I.jsx)(u.A,{type:"button",onClick:p,className:"solid-button",style:{minWidth:"70px"},children:h.isPending?"Loading...":"Update"})]})]})}})};var L=t(55797);const M="dialog_modal__HiKtw",W="dialog_modalHeader__CCaHg",H="dialog_headerTitle__zaVm3",Y="dialog_iconStyle__uliFd",U="dialog_paidTotal__H5dQT",X="dialog_unpaidTotal__BulDM";var q=t(51038),Z=t(20092);function J(e){let{visible:s,setVisible:t,details:l,setRefetch:i}=e;const n=(0,z.n)({mutationFn:e=>(0,y.D3)(e),onSuccess:()=>{i((e=>!e)),t(),$.oR.success("Expenses have been successfully marked as paid.")},onError:e=>{$.oR.error("Failed to mark the expenses as paid. Please try again.")}}),a=(0,I.jsxs)("div",{className:`${W}`,children:[(0,I.jsx)("b",{className:Y,children:(0,I.jsx)(q.A,{size:24,color:"#B54708"})}),(0,I.jsx)("span",{className:`white-space-nowrap ${H}`,children:"Mark Expense as paid?"})]}),o=(0,I.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-3",children:[(0,I.jsx)(w.$,{label:"Cancel",className:"outline-button outline-none",onClick:()=>t(!1),autoFocus:!0}),(0,I.jsx)(w.$,{label:null!==n&&void 0!==n&&n.isPending?"Loading...":"Mark as paid",className:"success-button outline-none",onClick:()=>{const e=null===l||void 0===l?void 0:l.id;n.mutate({ids:[e]})},autoFocus:!0})]});return(0,I.jsx)(L.l,{visible:s,modal:!0,header:a,footer:o,className:`${M} custom-modal`,onHide:()=>{s&&t(!1)},children:(0,I.jsxs)("div",{className:"px-3",children:[(0,I.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Reference"}),(0,I.jsx)("h6",{style:{fontSize:"16px",color:"#475467",fontWeight:600,marginBottom:"16px"},children:(null===l||void 0===l?void 0:l.invoice_reference)||""}),(0,I.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Total"}),(0,I.jsxs)("div",{className:`${U}`,children:[(0,I.jsx)(Z.E,{severity:"success"})," $ ",(null===l||void 0===l?void 0:l.total)||"0.00"]})]})})}var K=t(1690);function G(e){let{visible:s,setVisible:t,details:l,setRefetch:i}=e;const n=(0,z.n)({mutationFn:e=>(0,y.ik)(e),onSuccess:()=>{i((e=>!e)),t(),$.oR.success("Expenses have been successfully marked as unpaid.")},onError:e=>{$.oR.error("Failed to mark the expenses as unpaid. Please try again.")}}),a=(0,I.jsxs)("div",{className:`${W}`,children:[(0,I.jsx)("img",{src:K.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,I.jsx)("span",{className:`white-space-nowrap ${H}`,children:"Mark Expense as Unpaid?"})]}),o=(0,I.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-3",children:[(0,I.jsx)(w.$,{label:"Cancel",className:"outline-button outline-none",onClick:()=>t(!1),autoFocus:!0}),(0,I.jsx)(w.$,{label:null!==n&&void 0!==n&&n.isPending?"Loading...":"Mark as Unpaid",className:"danger-button font-Weight-600",style:{padding:"10px 10px"},onClick:()=>{const e=null===l||void 0===l?void 0:l.id;n.mutate({ids:[e]})},autoFocus:!0})]});return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(L.l,{visible:s,modal:!1,header:a,footer:o,className:`${M} custom-modal`,onHide:()=>{s&&t(!1)},children:(0,I.jsxs)("div",{className:"px-3",children:[(0,I.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Reference"}),(0,I.jsx)("h6",{style:{fontSize:"16px",color:"#475467",fontWeight:600,marginBottom:"16px"},children:(null===l||void 0===l?void 0:l.invoice_reference)||""}),(0,I.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Total"}),(0,I.jsxs)("div",{className:`${X}`,children:[(0,I.jsx)(Z.E,{severity:"danger"})," $ ",(null===l||void 0===l?void 0:l.total)||"0.00"]})]})})})}const Q=e=>{let{showDialog:s,setShowDialog:t,setRefetch:l}=e;const{data:i,show:n}=s;return(0,I.jsx)(I.Fragment,{children:!n||null!==i&&void 0!==i&&i.paid?n?(0,I.jsx)(G,{visible:n,details:i,setVisible:()=>t({data:null,show:!1}),setRefetch:l}):"":(0,I.jsx)(J,{visible:n,details:i,setVisible:()=>t({data:null,show:!1}),setRefetch:l})})},ee=e=>{const s=new Date(1e3*e);return`${s.getDate()} ${new Intl.DateTimeFormat("en-US",{month:"short"}).format(s)} ${s.getFullYear()}`},se=(0,l.forwardRef)(((e,s)=>{let{searchValue:t,setTotal:i,selected:n,setSelected:a,isShowDeleted:o,refetch:d,setRefetch:r}=e;(0,b.Zp)();const c=(0,l.useRef)(null),[x,u]=(0,l.useState)([]),[h,E]=(0,l.useState)(1),[S,C]=(0,l.useState)({sortField:"id",sortOrder:-1}),[A,F]=(0,l.useState)({sortField:"id",sortOrder:-1}),[R,k]=(0,l.useState)(!0),[$,D]=(0,l.useState)(!1),[z,B]=(0,l.useState)(""),[O,V]=(0,l.useState)(!1),[P,L]=(0,l.useState)({data:null,show:!1});(0,l.useEffect)((()=>{E(1)}),[t,d]),(0,l.useEffect)((()=>{(async()=>{D(!0);let e="";1===(null===A||void 0===A?void 0:A.sortOrder)?e=`${A.sortField}`:-1===(null===A||void 0===A?void 0:A.sortOrder)&&(e=`-${A.sortField}`);const s=await(0,y.BY)(h,25,t,e,o);var l;(i((()=>(null===s||void 0===s?void 0:s.count)||0)),1===h)?u(s.results):(null===s||void 0===s||null===(l=s.results)||void 0===l?void 0:l.length)>0&&u((e=>{const t=new Set(e.map((e=>e.id))),l=s.results.filter((e=>!t.has(e.id)));return[...e,...l]}));C(A),k(s.count!==x.length),D(!1)})()}),[h,t,A,d]),(0,l.useEffect)((()=>{if(x.length>0&&R){c.current=new IntersectionObserver((e=>{e[0].isIntersecting&&E((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&c.current.observe(e)}return()=>{c.current&&c.current.disconnect()}}),[x,R]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(p.b,{ref:s,value:x,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:"calc(100vh - 175px)",className:"border",selection:n,onSelectionChange:e=>a(e.value),loading:$,loadingIcon:()=>(0,I.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,I.jsx)(_.A,{animation:"border",role:"status",children:(0,I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),emptyMessage:N.A,sortField:null===S||void 0===S?void 0:S.sortField,sortOrder:null===S||void 0===S?void 0:S.sortOrder,onSort:e=>{const{sortField:s,sortOrder:t}=e;F({sortField:s,sortOrder:t}),E(1)},rowClassName:e=>null!==e&&void 0!==e&&e.deleted?m.deletedRow:null!==e&&void 0!==e&&e.paid?m.paidRow:m.unpaidRow,children:[(0,I.jsx)(v.V,{selectionMode:"multiple",headerClassName:"ps-4 border-end-0",bodyClassName:"show-on-hover border-end-0 ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,I.jsx)(v.V,{field:"id",header:"Expense ID",body:e=>(0,I.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,I.jsx)("span",{children:e.number}),(0,I.jsx)(w.$,{label:"Open",onClick:()=>{var s;V(!0),B({id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e||null===(s=e.supplier)||void 0===s?void 0:s.name})},className:"primary-text-button ms-3 show-on-hover-element not-show-checked",text:!0})]}),headerClassName:"paddingLeftHide",bodyClassName:"paddingLeftHide",style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,I.jsx)(v.V,{field:"name",header:"Supplier A\u2192Z",body:e=>{var s,t,l;return(0,I.jsxs)("div",{className:"d-flex align-items-center",children:[(0,I.jsx)("div",{style:{overflow:"hidden"},className:`d-flex justify-content-center align-items-center ${m.clientImg} ${e.is_business?"":"rounded-circle"}`,children:null!==(s=e.supplier)&&void 0!==s&&s.photo?(0,I.jsx)("img",{src:null===(t=e.supplier)||void 0===t?void 0:t.photo,alt:"clientImg",className:"w-100"}):e.is_business?(0,I.jsx)(g.A,{color:"#667085"}):(0,I.jsx)(j.A,{color:"#667085"})}),(0,I.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,I.jsx)("div",{className:`${m.ellipsis}`,children:null===(l=e.supplier)||void 0===l?void 0:l.name}),e.deleted?(0,I.jsx)(f.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]})]})},headerClassName:"shadowRight",bodyClassName:"shadowRight",style:{minWidth:"224px"},frozen:!0,sortable:!0}),(0,I.jsx)(v.V,{field:"invoice_reference",header:"Reference",style:{minWidth:"94px"}}),(0,I.jsx)(v.V,{field:"created",header:"Due Date",body:e=>(0,I.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",style:{color:"#98A2B3"},children:ee(e.created)}),style:{minWidth:"56px"},className:"text-center"}),(0,I.jsx)(v.V,{field:"jobsdone",header:"Total",body:e=>(0,I.jsx)("div",{className:`d-flex align-items-center justify-content-end show-on-hover ${m.fontStanderdSize}`,children:(0,I.jsxs)("div",{className:` ${e.paid?m["paid-true"]:m["paid-false"]}`,children:["$ ",e.total.toFixed(2)]})}),style:{minWidth:"56px",textAlign:"end"}}),(0,I.jsx)(v.V,{field:"type",header:"Interval/Order",style:{minWidth:"123px",textAlign:"right"},sortable:!0}),(0,I.jsx)(v.V,{field:"average_pd",header:"Account Code",body:e=>{var s,t;return(0,I.jsxs)("div",{className:`d-flex align-items-center justify-content-start show-on-hover ${m.fontStanderdSize}`,children:[null===(s=e.account_code)||void 0===s?void 0:s.code," : ",null===(t=e.account_code)||void 0===t?void 0:t.name]})},style:{minWidth:"114px",textAlign:"left"},sortable:!0}),(0,I.jsx)(v.V,{field:"total_requests",header:"Xero/Myob",body:e=>(0,I.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:"in_progress"===(null===e||void 0===e?void 0:e.xero_status)?(0,I.jsx)("span",{style:{color:"#158ECC"},className:m.shakeText,children:"xero"}):"completed"===(null===e||void 0===e?void 0:e.xero_status)?(0,I.jsx)("span",{style:{color:"#158ECC"},children:"xero"}):(0,I.jsx)("span",{children:"xero"})}),style:{minWidth:"89px",textAlign:"center"},sortable:!0}),(0,I.jsx)(v.V,{field:"department",header:"Departments",body:e=>{var s;return(0,I.jsx)("div",{className:`d-flex align-items-center justify-content-start show-on-hover ${m.fontStanderdSize}`,children:null===e||void 0===e||null===(s=e.department)||void 0===s?void 0:s.name})},style:{minWidth:"140px"},sortable:!0}),(0,I.jsx)(v.V,{field:"paid",header:"Status",body:e=>e.paid?(0,I.jsx)(w.$,{onClick:()=>L({data:e,show:!0}),className:"success-outline-button font-14",style:{width:"86px",height:"36px"},children:"Paid"}):(0,I.jsx)(w.$,{onClick:()=>L({data:e,show:!0}),className:"danger-outline-button font-14",style:{width:"86px",height:"36px"},children:"Not Paid"}),style:{minWidth:"75px"},bodyStyle:{color:"#667085"}})]}),(0,I.jsx)(T,{id:null===z||void 0===z?void 0:z.id,name:null===z||void 0===z?void 0:z.name,visible:O,setVisible:V,setEditData:B,setRefetch:r}),(0,I.jsx)(Q,{showDialog:P,setShowDialog:L,setRefetch:r})]})}));var te=t(62284),le=t(90818),ie=t(58387),ne=t(93740);const ae=()=>{const e=(0,l.useRef)(null),s=(0,l.useRef)(null),[t,p]=(0,l.useState)(0),[v,g]=(0,l.useState)(!1),[j,f]=(0,l.useState)(!1),[b,w]=(0,l.useState)(!1),[N,_]=(0,l.useState)(null),[E,S,C]=(0,h.d7)("",400),A=(0,z.n)({mutationFn:e=>(0,y.a_)(e),onSuccess:()=>{f((e=>!e)),_(null),$.oR.success("Expense successfully sent to Xero!")},onError:e=>{$.oR.error("Failed to send the expense to xero. Please try again.")}}),F=(0,z.n)({mutationFn:e=>(0,y.D3)(e),onSuccess:()=>{f((e=>!e)),_(null),$.oR.success("Expenses have been successfully marked as paid.")},onError:e=>{$.oR.error("Failed to mark the expenses as paid. Please try again.")}}),R=(0,z.n)({mutationFn:e=>(0,y.ik)(e),onSuccess:()=>{f((e=>!e)),_(null),$.oR.success("Expenses have been successfully marked as unpaid.")},onError:e=>{$.oR.error("Failed to mark the expenses as unpaid. Please try again.")}});return(0,I.jsxs)(i.mD,{className:"peoples-page",children:[(0,I.jsxs)("div",{className:`topbar ${null!==N&&void 0!==N&&N.length?m.active:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,I.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==N&&void 0!==N&&N.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("h6",{className:m.selectedCount,children:["Selected: ",null===N||void 0===N?void 0:N.length]}),(0,I.jsxs)("div",{className:"filtered-box d-flex align-items-center gap-2",children:[(0,I.jsxs)("button",{className:`danger-outline-button ${m.actionButton}`,onClick:()=>{const e=N.map((e=>e.id));R.mutate({ids:e})},children:["Mark as Unpaid ",null!==R&&void 0!==R&&R.isPending?(0,I.jsx)(ne.p,{style:{width:"20px",height:"20px"}}):(0,I.jsx)(n.A,{color:"#B42318",size:20})," "]}),(0,I.jsxs)("button",{className:`success-outline-button ${m.actionButton}`,onClick:()=>{const e=N.map((e=>e.id));F.mutate({ids:e})},children:["Mark as Paid ",null!==F&&void 0!==F&&F.isPending?(0,I.jsx)(ne.p,{style:{width:"20px",height:"20px"}}):(0,I.jsx)(a.A,{color:"#067647",size:20})," "]}),(0,I.jsxs)("button",{className:`outline-button ${m.actionButton}`,onClick:()=>{const e=N.map((e=>e.id));A.mutate({ids:e})},children:["Send to Xero/MYOB",A.isPending?(0,I.jsx)(ne.p,{style:{width:"20px",height:"20px"}}):(0,I.jsx)(o.A,{color:"#1D2939",size:20})]}),(0,I.jsx)("button",{className:`${m.filterBox}`,onClick:()=>{return s=!0,void(e.current?e.current.exportCSV({selectionOnly:s}):console.error("DataTable ref is null"));var s},children:(0,I.jsx)(d.A,{})})]})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"filtered-box",children:[(0,I.jsx)("button",{className:`${m.filterBox}`,onClick:e=>s.current.toggle(e),children:(0,I.jsx)(r.A,{})}),(0,I.jsx)(le.b,{model:[{label:(0,I.jsx)("div",{onClick:()=>w(!b),className:"d-flex align-items-center text-nowrap gap-3 p",children:b?(0,I.jsxs)(I.Fragment,{children:["Hide Deleted Clients ",(0,I.jsx)(c.A,{})]}):(0,I.jsxs)(I.Fragment,{children:["Show Deleted Clients ",(0,I.jsx)(x.A,{})]})})}],className:(0,ie.A)(m.menu),popup:!0,ref:s,breakpoint:"767px"})]}),(0,I.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,I.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,I.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,I.jsx)("input",{type:"text",placeholder:"Search",value:E,onChange:e=>C(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#98A2B3",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,I.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"47%",top:"6px"},children:[(0,I.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Expenses"}),(0,I.jsx)(u.A,{onClick:()=>g(!0),className:`${m.newButton}`,children:"New"})]}),(0,I.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,I.jsx)("h1",{className:`${m.total} mb-0`,children:"Total"}),(0,I.jsxs)("div",{className:`${m.totalCount}`,children:[t," Expenses"]})]})]}),(0,I.jsx)(se,{ref:e,searchValue:S,setTotal:p,selected:N,setSelected:_,isShowDeleted:b,refetch:j,setRefetch:f}),(0,I.jsx)(te.A,{visible:v,setVisible:g,setRefetch:f})]})}},72970:(e,s,t)=>{t.d(s,{A:()=>c});var l=t(65043),i=t(65173),n=t.n(i),a=["color","size","title","className"];function o(){return o=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},o.apply(this,arguments)}function d(e,s){if(null==e)return{};var t,l,i=function(e,s){if(null==e)return{};var t,l,i={},n=Object.keys(e);for(l=0;l<n.length;l++)t=n[l],s.indexOf(t)>=0||(i[t]=e[t]);return i}(e,s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)t=n[l],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var r=(0,l.forwardRef)((function(e,s){var t=e.color,i=e.size,n=e.title,r=e.className,c=d(e,a);return l.createElement("svg",o({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:t,className:["bi","bi-x-circle",r].filter(Boolean).join(" ")},c),n?l.createElement("title",null,n):null,l.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),l.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}))}));r.propTypes={color:n().string,size:n().oneOfType([n().string,n().number]),title:n().string,className:n().string},r.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const c=r}}]);
//# sourceMappingURL=1918.67a9e671.chunk.js.map