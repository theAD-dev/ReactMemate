{"version":3,"file":"static/js/7893.ce05dd4b.chunk.js","mappings":"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","sources":["APIs/SettingsGeneral.js","components/Business/Pages/management/event-scheduler/utils.js","assets/images/icon/addNoteModeIcon.svg","components/Business/Pages/management/project-card/add-note.js","components/Business/Pages/management/project-card/compose-email/compose-email.js","assets/images/icon/googleReviewIcon.svg","components/Business/Pages/management/project-card/google-review/google-review.js","webpack://memateapp/./src/ui/send-invoice/send-invoice.module.scss?f866","ui/send-invoice/send-invoice.jsx","components/Business/Pages/management/project-card/invoice-create/invoice-create.js","components/Business/Pages/management/task/create-task.js","components/Business/Pages/management/project-card/new-task.js","components/Business/Pages/management/project-card/project-card-filter.js","components/Business/Pages/management/project-card/schedule-update.js","components/Business/Pages/management/project-card/select-status.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/send-sms/send-sms.module.scss?7d3f","components/Business/Pages/management/project-card/send-sms/send-sms.js","webpack://memateapp/./src/components/Business/Pages/management/project-card/send-to-calendar/send-to-calendar.module.scss?26cb","assets/images/icon/calendar.svg","components/Business/Pages/management/project-card/send-to-calendar/index.js","components/Business/Pages/management/project-card/send-to-calendar/send-to-calendar.js","components/Business/Pages/management/project-card/project-card-model.js","components/Business/Pages/management/task/edit-task.js","components/Business/Pages/management/task/view-task.js","components/Business/Pages/management/event-scheduler/event-scheduler.js","components/Business/Pages/management/management-page.js","APIs/invoice-api.js"],"sourcesContent":["import { nanoid } from \"nanoid\";\n\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\n/**\n * A generic fetch function to make API calls.\n * @param {string} endpoint - The API endpoint to call.\n * @param {object} options - The fetch options including method, headers, and body.\n * @returns {Promise<any>} - The JSON response from the API.\n */\nconst fetchAPI = async (endpoint, options = {}) => {\n  const { method = 'GET', headers = {}, body } = options;\n  const accessToken = localStorage.getItem(\"access_token\");\n\n  const defaultHeaders = {\n    'Authorization': `Bearer ${accessToken}`,\n    'Content-Type': 'application/json',\n    ...headers\n  };\n\n  const requestOptions = {\n    method,\n    headers: defaultHeaders,\n    body: JSON.stringify(body),\n    redirect: 'follow'\n  };\n\n  try {\n    const url = new URL(`${endpoint}`);\n    const response = await fetch(url, requestOptions);\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const contentType = response.headers.get('Content-Type');\n    if (contentType && contentType.includes('application/json')) {\n      return await response.json();\n    } else {\n      // Handle non-JSON responses\n      const text = await response.text();\n      return { message: 'Non-JSON response', body: text };\n    }\n\n  } catch (error) {\n    console.error('Fetch API error:', error);\n    throw error;\n  }\n};\n\nexport const getBillingPersonalInfo = async () => {\n  const endpoint = `/settings/subscriptions/tax-id/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getUpcomingPayment = async () => {\n  const endpoint = `/settings/subscriptions/upcoming/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateBillingPersonalInfo = async (data) => {\n  const endpoint = `/settings/subscriptions/tax-id/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getPaymentMethodInfo = async () => {\n  const endpoint = `/settings/subscriptions/payment-method/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const retryPayment = async () => {\n  const endpoint = `/subscriptions/retry/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updatePaymentMethodInfo = async (data) => {\n  const endpoint = `/settings/subscriptions/payment-method/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getReginalAndLanguage = async () => {\n  const endpoint = `/settings/organization/region-language/`;\n  const options = {\n    method: 'GET'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateReginalAndLanguage = async (data) => {\n  const endpoint = `/settings/organization/region-language/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createProjectStatus = async (data) => {\n  console.log('data: ', data);\n  if (data.id) delete data.id;\n  if (data.isNew) delete data.isNew;\n  if (data.isChanged) delete data.isChanged;\n  if (data.value) delete data.value;\n\n  const endpoint = `/settings/project-statuses/new/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateProjectStatusById = async (id, data) => {\n  const endpoint = `/settings/project-statuses/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteProjectStatusById = async (id) => {\n  const endpoint = `/settings/project-statuses/delete/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\n\n\n\n\n\n\nexport const SettingsGeneralInformation = async () => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/general/`, requestOptions);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const updateGeneralInformation = async (data, photo) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const formData = new FormData();\n  Object.keys(data).forEach((key) => {\n    formData.append(key, data[key]);\n  });\n\n  if (photo?.croppedImageBlob) {\n    const photoHintId = nanoid(6);\n    formData.append('company_logo', photo?.croppedImageBlob, `${photoHintId}.jpg`);\n  }\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: formData,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/general/`, requestOptions);\n    const result = await response.text();\n    console.log('result>>>>>>>>>>: ', result);\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const SettingsBankInformation = async () => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/bank/`, requestOptions);\n    const result = await response.text();\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const updateBankInformation = async (generalData) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const formData = new FormData();\n  Object.keys(generalData).forEach((key) => {\n    formData.append(key, generalData[key]);\n  });\n\n  const requestOptions = {\n    method: 'PUT',\n    headers: myHeaders,\n    body: formData,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/organization/bank/`, requestOptions);\n    const result = await response.text();\n    console.log('result: ', result);\n    return result;\n  } catch (error) {\n    console.error('Profile fetch error:', error);\n    throw error;\n  }\n};\n\nexport const ProjectStatusesList = async () => {\n\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/settings/project-statuses/`, requestOptions);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('project fetch error:', error);\n    throw error;\n  }\n};\n\n","import { updateProjectScheduleById } from \"../../../../../APIs/management-api\";\nimport { updateTask } from \"../../../../../APIs/task-api\";\n\nlet dp;\nlet DP;\nlet expandRow;\n\nfunction parseTimestamp(timestampStr) {\n  return new Date(new Date(timestampStr).getTime() - (new Date(timestampStr).getTimezoneOffset() * 60 * 1000));\n}\n\nfunction loadData(responses, hasWorkSubscription) {\n  const events = [];\n  const resources = responses?.map((data) => {\n    let color = data?.custom_status?.color || \"rgb(192, 192, 192)\";\n    let background = data?.custom_status?.background;\n    let font = data?.custom_status?.font;\n\n    const status = data?.custom_status?.title\n      ? `<div style='color:${font}; background:${background}; border: 1px solid ${color}; width: fit-content; max-width: 85px; border-radius: 20px; padding: 0px 6px; font-weight: 500; margin-left: auto; display: flex; align-items: center; height: 22px;' title=\"${data.custom_status.title}\">\n          <div style='max-width: 80px; overflow: hidden; text-overflow: ellipsis; display: inline-block; position: relative; top: 0px; white-space: nowrap; font-size: 12px;'>${data.custom_status.title}</div>\n        </div>`\n      : `<div style='font-size: 12px;color: #344054; background: #F2F4F7; border: 1px solid rgba(0, 0, 0, 0.498); width: fit-content; border-radius: 20px; padding: 0px 6px; font-weight: 500; margin-left: auto; display: flex; align-items: center; height: 22px'>No status</div>`;\n\n    let jobsStatus = \"not-started\";\n    if (data.jobs_count === 0 && data.jobs_count === 0)\n      jobsStatus = \"not-started\";\n    else if (data.jobs_done === data.jobs_count) jobsStatus = \"done\";\n    else if (data.jobs_done === 0) jobsStatus = \"not-done\";\n    else if (data.jobs_done) jobsStatus = \"pending\";\n\n    const projectEndDate = new Date(parseInt(data.booking_end) * 1000);\n    projectEndDate.setHours(23, 59, 59, 999);\n    let isJobOverdue = projectEndDate < new Date();\n    let overdueIcon = `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"24\" height=\"24\" rx=\"12\" fill=\"#FEE4E2\" />\n            <path d=\"M12.515 5.01896C12.344 5.00635 12.1722 5 12 5V4C12.1968 4 12.3931 4.00726 12.5885 4.02167L12.515 5.01896ZM14.5193 5.46905C14.1985 5.34533 13.8691 5.2454 13.5337 5.17008L13.7528 4.19438C14.1361 4.28046 14.5126 4.39467 14.8792 4.53605L14.5193 5.46905ZM15.889 6.17971C15.7458 6.08402 15.5994 5.99388 15.4503 5.90939L15.9432 5.0393C16.1136 5.13586 16.2809 5.23888 16.4446 5.34824C16.6082 5.4576 16.7674 5.5727 16.9219 5.69322L16.3066 6.48158C16.1715 6.37612 16.0322 6.27541 15.889 6.17971ZM17.7231 7.96934C17.5252 7.68829 17.3068 7.42218 17.0697 7.17321L17.794 6.48368C18.0649 6.76821 18.3145 7.07233 18.5407 7.39353L17.7231 7.96934ZM18.4672 9.32122C18.4012 9.16208 18.3296 9.00583 18.2526 8.85271L19.1458 8.40311C19.2339 8.5781 19.3157 8.75667 19.391 8.93853C19.4664 9.12039 19.5348 9.30453 19.5962 9.49054L18.6467 9.80423C18.5929 9.64147 18.5331 9.48035 18.4672 9.32122ZM18.9979 11.8282C18.9895 11.4846 18.9557 11.142 18.8969 10.8033L19.8822 10.6323C19.9494 11.0194 19.988 11.4109 19.9976 11.8037L18.9979 11.8282ZM18.8655 13.3656C18.8991 13.1967 18.9264 13.027 18.9474 12.8569L19.9398 12.9793C19.9159 13.1737 19.8847 13.3677 19.8463 13.5607C19.8079 13.7538 19.7625 13.9449 19.7102 14.1337L18.7464 13.867C18.7922 13.7018 18.8319 13.5346 18.8655 13.3656ZM17.914 15.745C18.0979 15.4546 18.2602 15.151 18.3995 14.8367L19.3137 15.2419C19.1545 15.6011 18.969 15.9481 18.7588 16.28L17.914 15.745ZM16.9497 16.9497C17.0715 16.828 17.1885 16.702 17.3005 16.5722L18.0577 17.2254C17.9297 17.3737 17.796 17.5177 17.6569 17.6569L16.9497 16.9497Z\" fill=\"#F04438\" />\n            <path d=\"M12 5C10.8488 5 9.71545 5.2839 8.70022 5.82655C7.68499 6.3692 6.81926 7.15386 6.17971 8.11101C5.54017 9.06816 5.14654 10.1683 5.03371 11.3139C4.92088 12.4595 5.09232 13.6153 5.53285 14.6788C5.97337 15.7423 6.66939 16.6808 7.55925 17.4111C8.44911 18.1414 9.50533 18.6409 10.6344 18.8655C11.7634 19.0901 12.9304 19.0327 14.032 18.6986C15.1336 18.3644 16.1358 17.7637 16.9497 16.9497L17.6569 17.6569C16.7266 18.5871 15.5812 19.2736 14.3223 19.6555C13.0633 20.0374 11.7296 20.1029 10.4393 19.8463C9.14895 19.5896 7.94183 19.0187 6.92486 18.1841C5.90788 17.3495 5.11243 16.2769 4.60897 15.0615C4.1055 13.846 3.90957 12.5251 4.03852 11.2159C4.16748 9.90659 4.61733 8.64933 5.34825 7.55544C6.07916 6.46155 7.06857 5.5648 8.22883 4.94463C9.38909 4.32446 10.6844 4 12 4V5Z\" fill=\"#F04438\" />\n            <path d=\"M11.5 7C11.7761 7 12 7.22386 12 7.5V12.7098L15.2481 14.5659C15.4878 14.7029 15.5711 15.0083 15.4341 15.2481C15.2971 15.4878 14.9917 15.5711 14.7519 15.4341L11.2519 13.4341C11.0961 13.3451 11 13.1794 11 13V7.5C11 7.22386 11.2239 7 11.5 7Z\" fill=\"#F04438\" />\n          </svg>`;\n\n\n    // add job-event\n    events.push({\n      start: parseTimestamp(1000 * +data.booking_start),\n      end: parseTimestamp(1000 * +data.booking_end),\n      id: data.unique_id,\n      cssClass: 'job-item',\n      resource: data.unique_id,\n      backColor: background,\n      borderColor: color,\n      tag: { number: data.number, reference: data.reference, value: data.id, type: 'job' },\n      text: `<ul class=\"eventStyleCal\">\n        <li>\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_6815_57879)\"><rect width=\"24\" height=\"24\" rx=\"4\" fill=\"url(#paint0_linear_6815_57879)\"/><g opacity=\"0.08\"><rect x=\"0.375\" y=\"0.375\" width=\"23.25\" height=\"23.25\" rx=\"3.625\" stroke=\"#101828\" stroke-width=\"0.75\"/></g><g clip-path=\"url(#clip1_6815_57879)\">\n            <path d=\"M8.57171 7.28592C8.57171 7.04923 8.76359 6.85735 9.00028 6.85735H9.85742C10.0941 6.85735 10.286 7.04923 10.286 7.28592V8.14307C10.286 8.37976 10.0941 8.57164 9.85742 8.57164H9.00028C8.76359 8.57164 8.57171 8.37976 8.57171 8.14307V7.28592Z\" fill=\"#667085\"/>\n            <path d=\"M11.1431 7.28592C11.1431 7.04923 11.335 6.85735 11.5717 6.85735H12.4289C12.6655 6.85735 12.8574 7.04923 12.8574 7.28592V8.14307C12.8574 8.37976 12.6655 8.57164 12.4289 8.57164H11.5717C11.335 8.57164 11.1431 8.37976 11.1431 8.14307V7.28592Z\" fill=\"#667085\"/>\n            <path d=\"M14.1431 6.85735C13.9064 6.85735 13.7146 7.04923 13.7146 7.28592V8.14307C13.7146 8.37976 13.9064 8.57164 14.1431 8.57164H15.0003C15.237 8.57164 15.4289 8.37976 15.4289 8.14307V7.28592C15.4289 7.04923 15.237 6.85735 15.0003 6.85735H14.1431Z\" fill=\"#667085\"/>\n            <path d=\"M8.57171 9.85735C8.57171 9.62066 8.76359 9.42878 9.00028 9.42878H9.85742C10.0941 9.42878 10.286 9.62066 10.286 9.85735V10.7145C10.286 10.9512 10.0941 11.1431 9.85742 11.1431H9.00028C8.76359 11.1431 8.57171 10.9512 8.57171 10.7145V9.85735Z\" fill=\"#667085\"/>\n            <path d=\"M11.5717 9.42878C11.335 9.42878 11.1431 9.62066 11.1431 9.85735V10.7145C11.1431 10.9512 11.335 11.1431 11.5717 11.1431H12.4289C12.6655 11.1431 12.8574 10.9512 12.8574 10.7145V9.85735C12.8574 9.62066 12.6655 9.42878 12.4289 9.42878H11.5717Z\" fill=\"#667085\"/>\n            <path d=\"M13.7146 9.85735C13.7146 9.62066 13.9064 9.42878 14.1431 9.42878H15.0003C15.237 9.42878 15.4289 9.62066 15.4289 9.85735V10.7145C15.4289 10.9512 15.237 11.1431 15.0003 11.1431H14.1431C13.9064 11.1431 13.7146 10.9512 13.7146 10.7145V9.85735Z\" fill=\"#667085\"/>\n            <path d=\"M9.00028 12.0002C8.76359 12.0002 8.57171 12.1921 8.57171 12.4288V13.2859C8.57171 13.5226 8.76359 13.7145 9.00028 13.7145H9.85742C10.0941 13.7145 10.286 13.5226 10.286 13.2859V12.4288C10.286 12.1921 10.0941 12.0002 9.85742 12.0002H9.00028Z\" fill=\"#667085\"/>\n            <path d=\"M11.1431 12.4288C11.1431 12.1921 11.335 12.0002 11.5717 12.0002H12.4289C12.6655 12.0002 12.8574 12.1921 12.8574 12.4288V13.2859C12.8574 13.5226 12.6655 13.7145 12.4289 13.7145H11.5717C11.335 13.7145 11.1431 13.5226 11.1431 13.2859V12.4288Z\" fill=\"#667085\"/>\n            <path d=\"M14.1431 12.0002C13.9064 12.0002 13.7146 12.1921 13.7146 12.4288V13.2859C13.7146 13.5226 13.9064 13.7145 14.1431 13.7145H15.0003C15.237 13.7145 15.4289 13.5226 15.4289 13.2859V12.4288C15.4289 12.1921 15.237 12.0002 15.0003 12.0002H14.1431Z\" fill=\"#667085\"/>\n            <path d=\"M6.85742 6.00021C6.85742 5.52682 7.24118 5.14307 7.71456 5.14307H16.286C16.7594 5.14307 17.1431 5.52682 17.1431 6.00021V18.0002C17.1431 18.4736 16.7594 18.8574 16.286 18.8574H7.71456C7.24118 18.8574 6.85742 18.4736 6.85742 18.0002V6.00021ZM16.286 6.00021L7.71456 6.00021V18.0002H10.286V15.8574C10.286 15.6207 10.4779 15.4288 10.7146 15.4288H13.286C13.5227 15.4288 13.7146 15.6207 13.7146 15.8574V18.0002H16.286V6.00021Z\" fill=\"#667085\"/></g></g><defs><linearGradient id=\"paint0_linear_6815_57879\" x1=\"12\" y1=\"0\" x2=\"12\" y2=\"24\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#F9FAFB\"/><stop offset=\"1\" stop-color=\"#EDF0F3\"/></linearGradient><clipPath id=\"clip0_6815_57879\"><rect width=\"24\" height=\"24\" rx=\"4\" fill=\"white\"/></clipPath><clipPath id=\"clip1_6815_57879\"><rect width=\"13.7143\" height=\"13.7143\" fill=\"white\" transform=\"translate(5.14307 5.14307)\"/></clipPath></defs>\n          </svg>\n          &nbsp;\n          <strong style=\"color: ${font}; font-weight: 400\">${data.reference}</strong>\n        </li>\n      </ul>`,\n    });\n\n    const unfinishedTasks = data.tasks.filter(task => !task.finished)?.length || 0;\n    const childResource = [];\n\n    // Task child resource\n    data?.tasks?.forEach((task, index) => {\n      events.push({\n        start: parseTimestamp(1000 * +task.from_date),\n        end: parseTimestamp(1000 * +task.to_date),\n        id: task.id,\n        cssClass: \"childEvent task-item\",\n        resource: task.id,\n        backColor: \"#F2F4F7\",\n        borderColor: \"#F2F4F7\",\n        text: task.title,\n        tag: { type: \"task\", task: task }\n      });\n\n      const statusIMG = task.finished\n        ? `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#DCFAE6\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#085D3A\"/>\n            </svg>`\n        : `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"20\" height=\"20\" rx=\"10\" fill=\"#F2F4F7\"/>\n              <path d=\"M13.5524 6.97725C13.7692 6.75758 14.1206 6.75758 14.3374 6.97725C14.5515 7.19423 14.5542 7.54436 14.3453 7.7646L9.91018 13.0073C9.90592 13.0127 9.90136 13.0179 9.89654 13.0227C9.67975 13.2424 9.32828 13.2424 9.11149 13.0227L6.41259 10.2879C6.1958 10.0682 6.1958 9.71209 6.41259 9.49242C6.62937 9.27275 6.98085 9.27275 7.19763 9.49242L9.48729 11.8126L13.5376 6.99408C13.5422 6.98818 13.5471 6.98256 13.5524 6.97725Z\" fill=\"#475467\"/>\n            </svg>`;\n\n      childResource.push({\n        id: task.id,\n        name: `<div class=\"d-flex flex-column\">\n           ${index === 0 ? `<div class=\"d-flex gap-1 task-heading\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\">\n                <path d=\"M10.875 2.25C11.0821 2.25 11.25 2.41789 11.25 2.625V9.375C11.25 9.58211 11.0821 9.75 10.875 9.75H1.125C0.917893 9.75 0.75 9.58211 0.75 9.375V2.625C0.75 2.41789 0.917893 2.25 1.125 2.25H10.875ZM1.125 1.5C0.50368 1.5 0 2.00368 0 2.625V9.375C0 9.99632 0.50368 10.5 1.125 10.5H10.875C11.4963 10.5 12 9.99632 12 9.375V2.625C12 2.00368 11.4963 1.5 10.875 1.5H1.125Z\" fill=\"#475467\"/>\n                <path d=\"M5.25 4.125C5.25 3.91789 5.41789 3.75 5.625 3.75H9.375C9.58211 3.75 9.75 3.91789 9.75 4.125C9.75 4.33211 9.58211 4.5 9.375 4.5H5.625C5.41789 4.5 5.25 4.33211 5.25 4.125Z\" fill=\"#475467\"/>\n                <path d=\"M4.12767 3.48484C4.27411 3.63128 4.27411 3.86872 4.12767 4.01516L3.00267 5.14016C2.85622 5.28661 2.61878 5.28661 2.47234 5.14016L2.09734 4.76516C1.95089 4.61872 1.95089 4.38128 2.09734 4.23484C2.24378 4.08839 2.48122 4.08839 2.62767 4.23484L2.7375 4.34467L3.59734 3.48484C3.74378 3.33839 3.98122 3.33839 4.12767 3.48484Z\" fill=\"#475467\"/>\n                <path d=\"M5.25 7.125C5.25 6.91789 5.41789 6.75 5.625 6.75H9.375C9.58211 6.75 9.75 6.91789 9.75 7.125C9.75 7.33211 9.58211 7.5 9.375 7.5H5.625C5.41789 7.5 5.25 7.33211 5.25 7.125Z\" fill=\"#475467\"/>\n                <path d=\"M4.12767 6.48484C4.27411 6.63128 4.27411 6.86872 4.12767 7.01516L3.00267 8.14017C2.85622 8.28661 2.61878 8.28661 2.47234 8.14017L2.09734 7.76517C1.95089 7.61872 1.95089 7.38128 2.09734 7.23484C2.24378 7.08839 2.48122 7.08839 2.62767 7.23484L2.7375 7.34467L3.59734 6.48484C3.74378 6.33839 3.98122 6.33839 4.12767 6.48484Z\" fill=\"#475467\"/>\n              </svg>\n              <span class=\"font-12\">Tasks</span>\n            </div>` : ''\n          }\n            <div task-id=\"${task.id}\" class=\"task-list rowResourceEvent\" style=\"--main-color: ${color}\" task-id=\"${task.id}\">\n              <div class=\"flex\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_5999_560822)\"><rect width=\"16\" height=\"16\" rx=\"8\" fill=\"url(#paint0_linear_5999_560822)\"/><g opacity=\"0.08\"><rect x=\"0.375\" y=\"0.375\" width=\"15.25\" height=\"15.25\" rx=\"7.625\" stroke=\"#101828\" stroke-width=\"0.75\"/></g>\n                  <path d=\"M6.57129 6.28585C6.41349 6.28585 6.28557 6.41377 6.28557 6.57157C6.28557 6.72936 6.41349 6.85728 6.57129 6.85728H9.42843C9.58623 6.85728 9.71415 6.72936 9.71415 6.57157C9.71415 6.41377 9.58623 6.28585 9.42843 6.28585H6.57129Z\" fill=\"#475467\"/>\n                  <path d=\"M6.57129 7.42871C6.41349 7.42871 6.28557 7.55663 6.28557 7.71443C6.28557 7.87222 6.41349 8.00014 6.57129 8.00014H8.28557C8.44337 8.00014 8.57129 7.87222 8.57129 7.71443C8.57129 7.55663 8.44337 7.42871 8.28557 7.42871H6.57129Z\" fill=\"#475467\"/>\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.99986 4.57157C8.63104 4.57157 9.14272 4.05989 9.14272 3.42871H10.5713C11.0447 3.42871 11.4284 3.81247 11.4284 4.28585V11.7144C11.4284 12.1878 11.0447 12.5716 10.5713 12.5716H5.42843C4.95505 12.5716 4.57129 12.1878 4.57129 11.7144V4.28585C4.57129 3.81247 4.95505 3.42871 5.42843 3.42871H6.857C6.857 4.05989 7.36868 4.57157 7.99986 4.57157ZM7.99986 5.143C8.74627 5.143 9.38127 4.66596 9.6166 4.00014H10.5713C10.7291 4.00014 10.857 4.12806 10.857 4.28585V11.7144C10.857 11.8722 10.7291 12.0001 10.5713 12.0001H5.42843C5.27064 12.0001 5.14272 11.8722 5.14272 11.7144V4.28585C5.14272 4.12806 5.27064 4.00014 5.42843 4.00014H6.38312C6.61846 4.66596 7.25345 5.143 7.99986 5.143Z\" fill=\"#475467\"/></g><defs><linearGradient id=\"paint0_linear_5999_560822\" x1=\"8\" y1=\"0\" x2=\"8\" y2=\"16\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#F9FAFB\"/><stop offset=\"1\" stop-color=\"#EDF0F3\"/></linearGradient><clipPath id=\"clip0_5999_560822\"><rect width=\"16\" height=\"16\" rx=\"8\" fill=\"white\"/></clipPath></defs>\n                </svg>\n                <div class=\"title-description-section\">\n                  <span class=\"task-assigner\">${task?.assigned_to?.name}</span>\n                  <span class=\"task-title\">${task.title}</span>\n                </div> \n              </div>\n              <div class=\"completion-status ${statusIMG === 'completed' ? 'completed-class' : 'incomplete-class'}\">\n                ${statusIMG}\n              </div>\n            </div>\n          </div>`,\n        minHeight: index === 0 ? 70 : 40,\n        marginBottom: 4,\n      });\n    });\n\n    childResource.push({\n      id: data.number,\n      name: `<div class=\"create-task-div rowResourceEvent\" style=\"--main-color: ${color}; height: ${data.tasks?.length ? '45px' : '40px'}\">\n              <button class=\"create-task-button\" project-id=\"${data.id}\" number=\"${data?.number}\" reference=\"${data?.reference}\" style=\"margin-bottom: ${data.tasks?.length ? '16px' : '6px'}\">Create Task\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                  <path d=\"M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z\" fill=\"#106B99\"/>\n                </svg>\n              </button> \n            </div>`,\n      minHeight: 40,\n      marginBottom: 0,\n    });\n\n\n    if (hasWorkSubscription) {\n      if (true) {\n        childResource.push({\n          id: data.number,\n          name: `<div class=\"d-flex flex-column rowResourceEvent\">\n            <div class=\"d-flex gap-1 task-heading rowResourceEvent\" style=\"--main-color: ${color}; height: 34px\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\">\n                <path d=\"M4.875 0.75C4.2538 0.75 3.75 1.25338 3.75 1.87482V2.25H1.125C0.50368 2.25 0 2.75368 0 3.375V9.375C0 9.99632 0.50368 10.5 1.125 10.5H10.875C11.4963 10.5 12 9.99632 12 9.375V3.375C12 2.75368 11.4963 2.25 10.875 2.25H8.25V1.87482C8.25 1.25338 7.7462 0.75 7.125 0.75H4.875ZM4.875 1.5H7.125C7.33223 1.5 7.5 1.66847 7.5 1.87546V2.25H4.5V1.87482C4.5 1.66783 4.66777 1.5 4.875 1.5ZM6.28987 6.68581L11.25 5.3631V9.375C11.25 9.58211 11.0821 9.75 10.875 9.75H1.125C0.917893 9.75 0.75 9.58211 0.75 9.375V5.3631L5.71013 6.68581C5.90006 6.73645 6.09994 6.73645 6.28987 6.68581ZM1.125 3H10.875C11.0821 3 11.25 3.16789 11.25 3.375V4.5869L6.09662 5.96113C6.03331 5.97801 5.96669 5.97801 5.90338 5.96113L0.75 4.5869V3.375C0.75 3.16789 0.917893 3 1.125 3Z\" fill=\"#475467\"/>\n              </svg>\n              <span class=\"font-12\">Jobs</span>\n            </div>\n           </div>`,\n          minHeight: 40,\n          marginBottom: 4,\n        });\n      }\n      childResource.push({\n        id: data.number,\n        name: `<div class=\"create-task-div rowResourceEvent\" style=\"--main-color: ${color}; height: ${data.tasks?.length ? '45px' : '40px'}\">\n              <button class=\"createJobButton\" project-id=\"${data.unique_id}\" style=\"margin-bottom: ${data.tasks?.length ? '16px' : '6px'}\">\n                Create Job\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                  <path d=\"M10 5C10.3452 5 10.625 5.27982 10.625 5.625V9.375H14.375C14.7202 9.375 15 9.65482 15 10C15 10.3452 14.7202 10.625 14.375 10.625H10.625V14.375C10.625 14.7202 10.3452 15 10 15C9.65482 15 9.375 14.7202 9.375 14.375V10.625H5.625C5.27982 10.625 5 10.3452 5 10C5 9.65482 5.27982 9.375 5.625 9.375H9.375V5.625C9.375 5.27982 9.65482 5 10 5Z\" fill=\"#106B99\"/>\n                </svg>\n              </button> \n            </div>`,\n        minHeight: 40,\n        marginBottom: 0,\n      });\n    }\n\n    return {\n      id: data.unique_id,\n      expanded: expandRow === data.unique_id,\n      name: `<div class=\"resourceList rowResourceEvent\" style=\"--main-color: ${color};\">\n        <ul class=\"resourceMan me-2\">\n          <li title=\"${data.number}\">\n            <div style=\"width: 70px; overflow: hidden; text-overflow: ellipsis; display: inline-block; position: relative; top: 2px; white-space: nowrap;\" class=\"\">${data.number}</div>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M5 4C4.72386 4 4.5 4.22386 4.5 4.5C4.5 4.77614 4.72386 5 5 5H11C11.2761 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.2761 4 11 4H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M4.5 6.5C4.5 6.22386 4.72386 6 5 6H11C11.2761 6 11.5 6.22386 11.5 6.5C11.5 6.77614 11.2761 7 11 7H5C4.72386 7 4.5 6.77614 4.5 6.5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M5 8C4.72386 8 4.5 8.22386 4.5 8.5C4.5 8.77614 4.72386 9 5 9H11C11.2761 9 11.5 8.77614 11.5 8.5C11.5 8.22386 11.2761 8 11 8H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M5 10C4.72386 10 4.5 10.2239 4.5 10.5C4.5 10.7761 4.72386 11 5 11H8C8.27614 11 8.5 10.7761 8.5 10.5C8.5 10.2239 8.27614 10 8 10H5Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n              <path d=\"M2 2C2 0.89543 2.89543 0 4 0H12C13.1046 0 14 0.89543 14 2V14C14 15.1046 13.1046 16 12 16H4C2.89543 16 2 15.1046 2 14V2ZM12 1H4C3.44772 1 3 1.44772 3 2V14C3 14.5523 3.44772 15 4 15H12C12.5523 15 13 14.5523 13 14V2C13 1.44772 12.5523 1 12 1Z\" fill=\"${data.is_invoice_created ? \"#17B26A\" : \"#98A2B3\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M11 7.5C11 7.22386 11.2239 7 11.5 7H12.5C12.7761 7 13 7.22386 13 7.5V8.5C13 8.77614 12.7761 9 12.5 9H11.5C11.2239 9 11 8.77614 11 8.5V7.5Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n              <path d=\"M3.5 0C3.77614 0 4 0.223858 4 0.5V1H12V0.5C12 0.223858 12.2239 0 12.5 0C12.7761 0 13 0.223858 13 0.5V1H14C15.1046 1 16 1.89543 16 3V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V3C0 1.89543 0.895431 1 2 1H3V0.5C3 0.223858 3.22386 0 3.5 0ZM2 2C1.44772 2 1 2.44772 1 3V14C1 14.5523 1.44772 15 2 15H14C14.5523 15 15 14.5523 15 14V3C15 2.44772 14.5523 2 14 2H2Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n              <path d=\"M2.5 4C2.5 3.72386 2.72386 3.5 3 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V5C13.5 5.27614 13.2761 5.5 13 5.5H3C2.72386 5.5 2.5 5.27614 2.5 5V4Z\" fill=\"${data.booking_start ? \"#1AB2FF\" : \"#98A2B3\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M4 10.7813C4.14782 12.4484 5.51294 13.6306 7.59107 13.7837V15H8.63448V13.7837C10.9039 13.6051 12.3125 12.3463 12.3125 10.4836C12.3125 8.89307 11.3647 7.97448 9.35617 7.45565L8.63448 7.26853V3.46659C9.75615 3.57716 10.5126 4.18104 10.7039 5.08262H12.1734C12.0082 3.4836 10.6343 2.33536 8.63448 2.20778V1H7.59107V2.23329C5.65207 2.46294 4.32172 3.70474 4.32172 5.38882C4.32172 6.84326 5.28687 7.87242 6.98241 8.3062L7.59107 8.4678V12.4994C6.44332 12.3293 5.65207 11.6999 5.46077 10.7813H4ZM7.39108 6.94532C6.34767 6.68165 5.79119 6.12029 5.79119 5.32928C5.79119 4.38518 6.49549 3.68773 7.59107 3.50061V6.99635L7.39108 6.94532ZM8.98228 8.81652C10.2692 9.13973 10.8343 9.67558 10.8343 10.5857C10.8343 11.6829 10.0083 12.4143 8.63448 12.5249V8.73147L8.98228 8.81652Z\" fill=\"${!data.is_invoice_created ? '#667085' : data.paid === \"PAID\" ? \"#17B26A\" : data.paid === \"NOT PAID\" ? \"#F04438\" : data.paid === \"PARTIAL PAYMENT\" ? \"#fedf89\" : \"#F79009\"}\"/>\n            </svg>\n          </li>\n          <li>\n            <span class='${jobsStatus}'>${data.jobs_done}/${data.jobs_count}</span>\n          </li>\n          <li>\n            ${isJobOverdue ? overdueIcon : ''}\n          </li>\n          <li class=\"text-end float-end me-2\" style=\"width: 100px; flex: 1\">\n            ${status}\n          </li>\n          <li class=\"me-3\" style=\"position: relative;\">\n            ${unfinishedTasks !== 0 ? `<div class=\"taskUnreadCount\">${unfinishedTasks}</div>` : ''}\n            <div class=\"taskCount\">${data?.tasks?.length || 0}</div>\n          </li>\n        </ul>\n        <div class=\"project-content\" unique-id=\"${data.unique_id}\" project-id=\"${data.id}\" number=\"${data?.number}\" reference=\"${data?.reference}\">\n          <span class=\"small project-content-name\" unique-id=\"${data.unique_id}\">${data?.client?.name}</span>\n          <h2 class=\"project-content-name\" unique-id=\"${data.unique_id}\">${data.reference}</h2>\n        </div>\n      </div>`,\n      children: childResource,\n    };\n  });\n\n  dp.update({ resources, events });\n  dp.onResourceExpand = function (args) {\n    expandRow = args.resource.id;\n  };\n}\n\nfunction startDaypilot(elementId, responses, viewTaskDetails, reInitialize, hasWorkSubscription) {\n  const isDaypilotLoaded = typeof window !== undefined && Boolean(window.DayPilot);\n  if (!isDaypilotLoaded) return;\n\n  DP = window.DayPilot;\n\n  dp = new DP.Scheduler(elementId, {\n    days: 365,\n    scale: \"Day\",\n    separators: [{ color: \"#48C1FF\", width: 4 }],\n    treeImage: \"img/nochildren.png\",\n    rowMinHeight: 110,\n    eventEndSpec: \"Date\",\n    durationBarVisible: false,\n    eventArrangement: \"Cascade\",\n    eventMoveHandling: \"Disabled\",\n    eventResizingStartEndEnabled: true,\n    timeRangeSelectedHandling: \"Disabled\",\n    treeImageNoChildren: false,\n    rowHeaderWidth: 380,\n    timeHeaders: [\n      { groupBy: \"Month\", format: \"MMMM yyyy\" },\n      { groupBy: \"Day\", format: \"d\" }\n    ],\n    treeEnabled: true,\n    progressiveRowRendering: true,\n    treePreventParentUsage: false,\n    scrollDelayEvents: 0,\n    infiniteScrollingEnabled: true,\n    infiniteScrollingStepDays: 100,\n  });\n\n  dp.onBeforeRowHeaderRender = function (args) {\n    args.row.cssClass = \"resourcesRow\";\n  };\n\n  dp.onBeforeEventRender = function (args) {\n    args.data.areas = [\n      {\n        top: 0,\n        left: 0,\n        right: 0,\n        width: 1,\n        cssClass: \"childEventborder\",\n        text: args.data.text,\n        backColor: args.data.borderColor,\n        fontColor: \"#ffffff\",\n        horizontalAlignment: \"center\",\n        style: \"border-top-left-radius: 4px; border-bottom-left-radius: 4px; background-color: #0000007f; color: #ffffff; padding: 2px;height: 36px;\",\n      },\n    ];\n\n    args.data.text = \"Event details\";\n  };\n\n  dp.onEventClicked = function (args) {\n    const taskId = args.e.id();\n    if (args.div.className.includes(\"task-item\") && taskId) {\n      viewTaskDetails(taskId, false);\n    } else if (args.div.className.includes(\"job-item\") && taskId) {\n      const projectDetails = args.e.tag();\n      viewTaskDetails(taskId, true, projectDetails);\n    }\n  };\n\n  dp.onBeforeCellRender = function (args) {\n    if (\n      args.cell.start.getDayOfWeek() === 6 ||\n      args.cell.start.getDayOfWeek() === 0\n    ) {\n      args.cell.backColor = \"#F9FAFB\"; // Highlight weekends\n    }\n  };\n\n  dp.onEventResize = async function (args) {\n    const taskId = args.e.id();\n    const startDate = new Date(args.newStart).toISOString();\n    const endDate = new Date(args.newEnd).toISOString();\n\n    if (args.e.tag().type === \"task\") {\n      const task = args.e.tag().task;\n      try {\n        await updateTask(taskId, {\n          title: task.title,\n          description: task.description,\n          user: task.assigned_to.id,\n          from_date: startDate,\n          to_date: endDate,\n        });\n        dp.message(\"The task has been successfully updated.\", { cssClass: \"success_message\" });\n      } catch (error) {\n        console.log(error);\n        dp.message(\"An error occurred while updating the task. Please try again.\");\n      }\n    }\n\n    if (args.e.tag().type === \"job\") {\n      try {\n        await updateProjectScheduleById(taskId, {\n          booking_start: startDate,\n          booking_end: endDate,\n        });\n        dp.message(\"The project schedule has been successfully updated.\", { cssClass: \"success_message\" });\n        reInitialize();\n      } catch (error) {\n        console.log(error);\n        dp.message(\"An error occurred while updating the project schedule. Please try again.\");\n      }\n    }\n  };\n\n  dp.init();\n\n  loadData(responses, hasWorkSubscription);\n}\n\nexport function reInitializeData(responses, hasWorkSubscription) {\n  try {\n    if (dp) loadData(responses, hasWorkSubscription);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function initDaypilot(elementId, response, viewTaskDetails, reInitialize, hasWorkSubscription) {\n  try {\n    startDaypilot(elementId, response, viewTaskDetails, reInitialize, hasWorkSubscription);\n  } catch (error) {\n    console.log(error);\n  }\n}","var _rect, _rect2, _path, _path2, _path3;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgAddNoteModeIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 41,\n    height: 40,\n    viewBox: \"0 0 41 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    fill: \"#BAE8FF\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.75,\n    width: 40,\n    height: 40,\n    rx: 20,\n    stroke: \"#EBF8FF\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.75 12.5C24.5784 12.5 25.25 13.1716 25.25 14V26C25.25 26.8284 24.5784 27.5 23.75 27.5H17.75C16.9216 27.5 16.25 26.8284 16.25 26V14C16.25 13.1716 16.9216 12.5 17.75 12.5H23.75ZM17.75 11C16.0931 11 14.75 12.3431 14.75 14V26C14.75 27.6569 16.0931 29 17.75 29H23.75C25.4069 29 26.75 27.6569 26.75 26V14C26.75 12.3431 25.4069 11 23.75 11H17.75Z\",\n    fill: \"#158ECC\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.75 26C21.5784 26 22.25 25.3284 22.25 24.5C22.25 23.6716 21.5784 23 20.75 23C19.9216 23 19.25 23.6716 19.25 24.5C19.25 25.3284 19.9216 26 20.75 26Z\",\n    fill: \"#158ECC\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.1481 14.0869C11.5143 14.2805 11.6542 14.7343 11.4606 15.1005C10.6879 16.5624 10.25 18.229 10.25 20C10.25 21.771 10.6879 23.4376 11.4606 24.8995C11.6542 25.2657 11.5143 25.7195 11.1481 25.9131C10.7819 26.1066 10.3281 25.9667 10.1345 25.6005C9.25032 23.9278 8.75 22.0212 8.75 20C8.75 17.9788 9.25032 16.0722 10.1345 14.3995C10.3281 14.0333 10.7819 13.8934 11.1481 14.0869ZM30.3519 14.0869C30.7181 13.8934 31.1719 14.0333 31.3655 14.3995C32.2497 16.0722 32.75 17.9788 32.75 20C32.75 22.0212 32.2497 23.9278 31.3655 25.6005C31.1719 25.9667 30.7181 26.1066 30.3519 25.9131C29.9857 25.7195 29.8458 25.2657 30.0394 24.8995C30.8121 23.4376 31.25 21.771 31.25 20C31.25 18.229 30.8121 16.5624 30.0394 15.1005C29.8458 14.7343 29.9857 14.2805 30.3519 14.0869ZM13.3352 16.3014C13.7211 16.4521 13.9117 16.887 13.761 17.2728C13.4313 18.1171 13.25 19.0365 13.25 20C13.25 20.9635 13.4313 21.8829 13.761 22.7272C13.9117 23.113 13.7211 23.5479 13.3352 23.6986C12.9494 23.8493 12.5145 23.6587 12.3638 23.2728C11.9673 22.2575 11.75 21.1532 11.75 20C11.75 18.8468 11.9673 17.7425 12.3638 16.7272C12.5145 16.3413 12.9494 16.1507 13.3352 16.3014ZM28.1648 16.3014C28.5506 16.1507 28.9855 16.3413 29.1362 16.7272C29.5327 17.7425 29.75 18.8468 29.75 20C29.75 21.1532 29.5327 22.2575 29.1362 23.2728C28.9855 23.6587 28.5506 23.8493 28.1648 23.6986C27.7789 23.5479 27.5883 23.113 27.739 22.7272C28.0687 21.8829 28.25 20.9635 28.25 20C28.25 19.0365 28.0687 18.1171 27.739 17.2728C27.5883 16.887 27.7789 16.4521 28.1648 16.3014Z\",\n    fill: \"#158ECC\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddNoteModeIcon);\nexport default __webpack_public_path__ + \"static/media/addNoteModeIcon.43bdc8582f3ef769329a44f15a05fe67.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { createProjectNoteById } from '../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst AddNote = ({ projectId, projectCardData }) => {\n  const [viewShow, setViewShow] = useState(false);\n  const [updateDis, setUpdateDis] = useState('');\n  const [errors, setErrors] = useState({\n    description: '',\n  });\n\n  const MAX_LENGTH = 500; // Maximum allowed characters\n  const MIN_LENGTH = 3;   // Minimum required characters\n\n  const handleClose = () => setViewShow(false);\n  const handleShow = () => setViewShow(true);\n\n  const mutation = useMutation({\n    mutationFn: (data) => createProjectNoteById(projectId, data),\n    onSuccess: () => {\n      handleClose();\n      projectCardData(projectId);\n    },\n    onError: (error) => {\n      console.error('Error creating note:', error);\n      setErrors(prev => ({\n        ...prev,\n        description: error.message || 'Failed to save note. Please try again.'\n      }));\n    }\n  });\n\n  const validateNote = (text) => {\n    if (!text.trim()) {\n      return 'Note is required';\n    }\n    if (text.length < MIN_LENGTH) {\n      return `Note must be at least ${MIN_LENGTH} characters long`;\n    }\n    if (text.length > MAX_LENGTH) {\n      return `Note must not exceed ${MAX_LENGTH} characters`;\n    }\n    // Add any additional validation rules here (e.g., special characters, etc.)\n    if (/^\\s+$/.test(text)) {\n      return 'Note cannot contain only whitespace';\n    }\n    return '';\n  };\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setUpdateDis(value);\n\n    // Real-time validation\n    const error = validateNote(value);\n    setErrors(prev => ({ ...prev, description: error }));\n  };\n\n  const handleSubmit = () => {\n    const validationError = validateNote(updateDis);\n\n    if (validationError) {\n      setErrors(prev => ({ ...prev, description: validationError }));\n      return;\n    }\n\n    mutation.mutate({ text: updateDis.trim() });\n  };\n\n  useEffect(() => {\n    if (!viewShow) {\n      setUpdateDis('');\n      setErrors({ description: '' });\n    }\n  }, [viewShow]);\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 border-right\" onClick={handleShow}>\n        Add Note\n      </div>\n\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Add Note\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label htmlFor=\"note-input\">Note <span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`}>\n                    <textarea\n                      id=\"note-input\"\n                      type=\"text\"\n                      name=\"note\"\n                      value={updateDis}\n                      placeholder='Enter a message here...'\n                      onChange={handleChange}\n                      maxLength={MAX_LENGTH}\n                      rows={4}\n                      className=\"w-100\"\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between mt-1\">\n                    <small className={errors.description ? \"error-message\" : \"text-muted\"}>\n                      {errors.description || `${updateDis.length}/${MAX_LENGTH} characters`}\n                    </small>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </Modal.Body>\n        <Modal.Footer className='pt-0'>\n          <div className=\"popoverbottom w-100 border-0 mt-0 pt-0\">\n            <Button\n              variant=\"outline-danger\"\n              onClick={handleClose}\n              disabled={mutation.isPending}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary save\"\n              onClick={handleSubmit}\n              disabled={mutation.isPending || !!errors.description}\n            >\n              {mutation.isPending ? \"Saving...\" : \"Save\"}\n            </Button>\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default AddNote;","import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport { getClientById } from \"../../../../../../APIs/ClientsApi\";\nimport { getOutgoingEmail } from \"../../../../../../APIs/email-template\";\nimport { sendComposeEmail } from \"../../../../../../APIs/management-api\";\nimport SendDynamicEmailForm from \"../../../../../../ui/send-email-2/send-email\";\n\n\n\nconst ComposeEmail = ({ clientId, projectId, projectCardData }) => {\n  const navigate = useNavigate();\n  const [, setPayload] = useState({});\n  const [viewShow, setViewShow] = useState(false);\n  const outgoingEmailTemplateQuery = useQuery({\n    queryKey: [\"getOutgoingEmail\"],\n    queryFn: getOutgoingEmail\n  });\n\n  const handleShow = () => {\n    if (outgoingEmailTemplateQuery?.data?.outgoing_email !== 'no-reply@memate.com.au') {\n      setViewShow(true);\n    } else {\n      navigate('/settings/integrations?openEmail=true');\n    }\n  };\n  const clientQuery = useQuery({\n    queryKey: ['getClientById', clientId],\n    queryFn: () => getClientById(clientId),\n    enabled: !!clientId,\n    retry: 1,\n  });\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendComposeEmail(projectId, \"\", data),\n    onSuccess: () => {\n      setViewShow(false);\n      projectCardData();\n      toast.success(`Email send successfully.`);\n    },\n    onError: (error) => {\n      console.error('Error sending email:', error);\n      toast.error(`Failed to send email. Please try again.`);\n    }\n  });\n\n  return (\n    <>\n      <div className=\"linkByttonStyle py-2 ps-0\" onClick={handleShow}>Compose Email</div>\n      <SendDynamicEmailForm show={viewShow} isLoading={false} mutation={mutation} setShow={setViewShow} setPayload={setPayload} contactPersons={clientQuery?.data?.contact_persons || []} isComposeEmail={true} />\n    </>\n  );\n};\n\nexport default ComposeEmail;\n","var _g, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgGoogleReviewIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 21,\n    viewBox: \"0 0 20 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Social icon\",\n    clipPath: \"url(#clip0_7030_25924)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector\",\n    d: \"M19.8052 10.7305C19.8052 10.0507 19.7501 9.36724 19.6325 8.69849H10.2002V12.5493H15.6016C15.3775 13.7913 14.6573 14.8899 13.6027 15.5881V18.0867H16.8252C18.7176 16.345 19.8052 13.7729 19.8052 10.7305Z\",\n    fill: \"#4285F4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_2\",\n    d: \"M10.2 20.5008C12.897 20.5008 15.1715 19.6152 16.8287 18.0867L13.6062 15.588C12.7096 16.198 11.5522 16.5434 10.2037 16.5434C7.5948 16.5434 5.38279 14.7833 4.58911 12.417H1.26373V14.9928C2.96133 18.3696 6.41898 20.5008 10.2 20.5008Z\",\n    fill: \"#34A853\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_3\",\n    d: \"M4.58564 12.417C4.16676 11.175 4.16676 9.8302 4.58564 8.58824V6.01245H1.26395C-0.154389 8.8381 -0.154389 12.1671 1.26395 14.9928L4.58564 12.417Z\",\n    fill: \"#FBBC04\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Vector_4\",\n    d: \"M10.2 4.45805C11.6257 4.436 13.0036 4.97247 14.0361 5.95722L16.8911 3.10218C15.0833 1.40459 12.6839 0.471278 10.2 0.500674C6.41898 0.500674 2.96133 2.63185 1.26373 6.01234L4.58543 8.58813C5.37544 6.21811 7.59113 4.45805 10.2 4.45805Z\",\n    fill: \"#EA4335\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7030_25924\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 20,\n    height: 20,\n    fill: \"white\",\n    transform: \"translate(0 0.5)\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGoogleReviewIcon);\nexport default __webpack_public_path__ + \"static/media/googleReviewIcon.0184cc6ef401c44935cf67effccb9dd0.svg\";\nexport { ForwardRef as ReactComponent };","import { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport { getClientById } from \"../../../../../../APIs/ClientsApi\";\nimport { sendComposeEmail } from \"../../../../../../APIs/management-api\";\nimport GoogleReview from \"../../../../../../assets/images/icon/googleReviewIcon.svg\";\nimport SendDynamicEmailForm from \"../../../../../../ui/send-email-2/send-email\";\n\nconst GoogleReviewEmail = ({ clientId, projectId }) => {\n    const [, setPayload] = useState({});\n    const [viewShow, setViewShow] = useState(false);\n    const handleShow = () => setViewShow(true);\n    const clientQuery = useQuery({\n        queryKey: ['getClientById', clientId],\n        queryFn: () => getClientById(clientId),\n        enabled: !!clientId,\n        retry: 1,\n    });\n\n    const mutation = useMutation({\n        mutationFn: (data) => sendComposeEmail(projectId, \"google-review\", data),\n        onSuccess: () => {\n            setViewShow(false);\n            toast.success(`Email send successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error sending email:', error);\n            toast.error(`Failed to send email. Please try again.`);\n        }\n    });\n\n    return (\n        <>\n            <Button className='googleBut googleActive' onClick={handleShow}>Google Review  <img src={GoogleReview} alt=\"GoogleReview\" /></Button>\n            <SendDynamicEmailForm show={viewShow} mutation={mutation} isLoading={false} setShow={setViewShow} setPayload={setPayload} contactPersons={clientQuery?.data?.contact_persons || []} defaultTemplateId={'Google Review'} />\n        </>\n    );\n};\n\nexport default GoogleReviewEmail;\n","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-invoice_headerTitle__YBmdt\",\"customLabel\":\"send-invoice_customLabel__0D26B\",\"bag\":\"send-invoice_bag__VXoPF\",\"lable\":\"send-invoice_lable__hDm-2\",\"dropdownSelect\":\"send-invoice_dropdownSelect__y4YWM\",\"autoCompleteBox\":\"send-invoice_autoCompleteBox__sVyzX\",\"AutoComplete\":\"send-invoice_AutoComplete__cCiBx\",\"bcc\":\"send-invoice_bcc__KYSsZ\",\"box\":\"send-invoice_box__pOjbC\",\"active\":\"send-invoice_active__hBlO9\",\"inputBox\":\"send-invoice_inputBox__gIZLk\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Button, Col, Modal, Row } from \"react-bootstrap\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport { toast } from 'sonner';\nimport style from \"./send-invoice.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\nimport { resendInvoiceEmail } from '../../APIs/invoice-api';\nimport { createAndSendInvoiceById } from '../../APIs/management-api';\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendInvoiceEmailForm = ({ show, setShow, contactPersons, setPayload, isLoading, create, projectId, projectCardData, isCreated }) => {\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n    const handleClose = () => setShow(false);\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n    });\n\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n    });\n\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n    });\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n    }, [emailQuery, outgoingEmailTemplateQuery]);\n\n    const mutation = useMutation({\n        mutationFn: (data) => isCreated ? resendInvoiceEmail(projectId, data) : createAndSendInvoiceById(projectId, data),\n        onSuccess: () => {\n            handleClose();\n            projectCardData();\n            toast.success(`Invoice created and send successfully.`);\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n            toast.error(`Failed to create and send invoice. Please try again.`);\n        }\n    });\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n\n        mutation.mutate({\n            subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        });\n    };\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email));\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setTo((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setCC((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setBCC((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email));\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n    \n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    useEffect(() => {\n        if (emailTemplateQuery?.data) {\n            const activeTemplateId = isCreated ?\n                emailTemplateQuery?.data?.find((template) => template.type === 'Invoice')\n                : emailTemplateQuery?.data?.find((template) => template.type === 'Invoice');\n            setEmailTemplatedId(activeTemplateId?.id);\n        }\n    }, [emailTemplateQuery?.data, isCreated]);\n\n    return (\n        <Modal\n            show={show}\n            centered\n            onHide={handleClose}\n            className='invoice-form'\n            size='lg'\n        >\n            <Modal.Header closeButton>\n                <div className={`${style.modalHeader}`}>\n                    <div className=\"w-100 d-flex align-items-center gap-2\">\n                        <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                            {isCreated ? \"Resend\" : \"Send\"} a Invoice\n                        </span>\n                    </div>\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <Row>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>FROM</label>\n                            <Dropdown\n                                options={\n                                    (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                        value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                        label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                    }])) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '60px' }}\n                                placeholder=\"Select from email\"\n                                onChange={(e) => {\n                                    setFrom(e.value);\n                                    setErrors((others) => ({ ...others, from: false }));\n                                }}\n                                value={from}\n                            />\n                        </div>\n                        {errors?.from && (\n                            <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (emailTemplateQuery &&\n                                        emailTemplateQuery.data?.map((emailTemplate) => ({\n                                            value: emailTemplate.id,\n                                            label: `${emailTemplate.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setEmailTemplatedId(e.value);\n                                }}\n                                value={emailTemplateId}\n                                loading={emailTemplateQuery?.isFetching}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex gap-3 w-100\">\n                            <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>TO</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef}\n                                    value={to}\n                                    completeMethod={search}\n                                    onChange={(e) => {\n                                        setTo(e.value);\n                                        setErrors((others) => ({ ...others, to: false }));\n                                    }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus}\n                                    onFocus={onFocus}\n                                    onKeyUp={onInputChange}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            setTo((prev) => [...new Set([...prev, currentValue])]);\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"TO\"\n                                />\n                            </div>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showCC })}\n                                onClick={() => { setShowCC(!showCC); setCC([]); }}\n                            >\n                                CC\n                            </Button>\n                            <Button\n                                className={clsx(style.box, { [style.active]: showBCC })}\n                                onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                            >\n                                BCC\n                            </Button>\n                        </div>\n                        {errors?.to && (\n                            <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                        )}\n                    </Col>\n                    {\n                        showCC &&\n                        <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '50px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>CC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef2}\n                                    value={cc}\n                                    completeMethod={search}\n                                    onChange={(e) => { setCC(e.value); }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus2}\n                                    onFocus={onFocus2}\n                                    onKeyUp={onInputChange2}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            setCC((prev) => [...new Set([...prev, currentValue])]);\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, \"w-100\")}\n                                    placeholder=\"CC\"\n                                />\n                            </div>\n                        </Col>\n                    }\n\n                    {\n                        showBCC && <Col sm={6} className='mb-3'>\n                            <div style={{ position: 'relative' }}>\n                                <div style={{ width: '60px' }} className={style.bag}></div>\n                                <label className={clsx(style.customLabel)}>BCC</label>\n                                <AutoComplete\n                                    ref={autoCompleteRef3}\n                                    value={bcc}\n                                    completeMethod={search}\n                                    onChange={(e) => { setBCC(e.value); }}\n                                    multiple\n                                    suggestions={filteredEmails}\n                                    onClick={onFocus3}\n                                    onFocus={onFocus3}\n                                    onKeyUp={onInputChange3}\n                                    onBlur={(e) => {\n                                        const currentValue = e.target.value.trim();\n                                        if (currentValue) {\n                                            setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                            e.target.value = '';\n                                        }\n                                    }}\n                                    className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                    placeholder=\"BCC\"\n                                />\n                            </div>\n                        </Col>\n                    }\n                    <Col sm={12} className='mb-2'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>SUBJECT</label>\n                            <IconField>\n                                <InputIcon>\n                                    {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                </InputIcon>\n                                <InputText\n                                    value={subject}\n                                    className={clsx(style.inputBox, 'w-100')}\n                                    style={{ paddingLeft: '100px' }}\n                                    onChange={(e) => {\n                                        setSubject(e.target.value);\n                                        setErrors((others) => ({ ...others, subject: false }));\n                                    }}\n                                    placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                                />\n                            </IconField>\n                        </div>\n                        {errors?.subject && (\n                            <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12} className='mb-3'>\n                        <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                            <label className={clsx(style.lable)}>Message</label>\n                            <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <Editor\n                                style={{ minHeight: \"150px\" }}\n                                headerTemplate={header}\n                                value={text}\n                                placeholder='Enter a description...'\n                                onTextChange={(e) => {\n                                    setText(e.htmlValue);\n                                    setErrors((others) => ({ ...others, text: false }));\n                                }}\n                            />\n                        </div>\n                        {errors?.text && (\n                            <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                        )}\n                    </Col>\n                    <Col sm={12}>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Signature</label>\n                            <Dropdown\n                                options={\n                                    (signatureQuery &&\n                                        signatureQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                panelClassName='px880-dropdown-item'\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select signature\"\n                                onChange={(e) => {\n                                    setSignature(e.value);\n                                }}\n                                value={signature}\n                                loading={signatureQuery?.isFetching}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-between'>\n                <Button onClick={handleClose} className='text-button text-danger'>Cancel</Button>\n                <div className=\"d-flex justify-content-end gap-2\">\n                    {\n                        !isCreated && (\n                            <Button disabled={isLoading} className=\"outline-button\" onClick={create}>\n                                Create{\" \"}\n                                {isLoading && (\n                                    <ProgressSpinner\n                                        style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                                    />\n                                )}\n                            </Button>\n                        )\n                    }\n\n                    <Button className=\"solid-button\" disabled={mutation?.isPending} onClick={onSubmit}>\n                        {isCreated ? \"Resend\" : \"Create and Send\"}{\" \"}\n                        {\n                            mutation?.isPending && (\n                                <ProgressSpinner\n                                    style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                                />\n                            )\n                        }\n                    </Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default SendInvoiceEmailForm;","import React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useQuery } from '@tanstack/react-query';\nimport { getClientById } from '../../../../../../APIs/ClientsApi';\nimport InvoicesIcon from \"../../../../../../assets/images/icon/InvoicesIcon.svg\";\nimport SendInvoiceEmailForm from '../../../../../../ui/send-invoice/send-invoice';\n\nconst InvoiceCreate = ({ clientId, projectId, isLoading, create, projectCardData, isCreated }) => {\n    const [show, setShow] = useState(false);\n    const [, setPayload] = useState({});\n    const clientQuery = useQuery({\n        queryKey: ['id', clientId],\n        queryFn: () => getClientById(clientId),\n        enabled: !!clientId,\n        retry: 1,\n    });\n\n    return (\n        <>\n            <Button className='InvoiceAction InvoiceActive me-3' onClick={() => setShow(true)}>\n              {isCreated ? \"Resend\" : \"Create\"} Invoice  <img src={InvoicesIcon} alt=\"Invoices\" />\n            </Button>\n            <SendInvoiceEmailForm projectId={projectId} show={show} create={create} isLoading={isLoading} setShow={setShow} setPayload={setPayload} contactPersons={clientQuery?.data?.contact_persons || []} projectCardData={projectCardData} isCreated={isCreated}/>\n        </>\n    );\n};\n\nexport default InvoiceCreate;","import { useEffect, useRef, useState } from 'react';\nimport { InputGroup } from 'react-bootstrap';\nimport { ChevronDown, Person, QuestionCircle } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { Dropdown } from 'primereact/dropdown';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport SelectDate from './select-date';\nimport { getMobileUserList, getUserList } from '../../../../../APIs/task-api';\nimport { fetchTasksNew } from '../../../../../APIs/TasksApi';\nimport { useAuth } from '../../../../../app/providers/auth-provider';\nimport newTask from '../../../../../assets/images/new-task.svg';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\n\n\nconst CreateTask = ({ show, setShow, project, reInitialize, projectCardData }) => {\n    const dropdownRef = useRef(null);\n    const { session } = useAuth();\n    const [taskTitle, setTaskTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [user, setUser] = useState(null);\n    const [date, setDate] = useState(null);\n    const [errors, setErrors] = useState({\n        taskTitle: false,\n        description: false,\n        user: false,\n        date: false\n    });\n\n    const reset = () => {\n        setTaskTitle(\"\");\n        setDescription(\"\");\n        setUser(null);\n        setDate(null);\n        setErrors({\n            taskTitle: false,\n            description: false,\n            user: false,\n            date: false\n        });\n    };\n    const mutation = useMutation({\n        mutationFn: (data) => fetchTasksNew(data),\n        onSuccess: () => {\n            setShow(false);\n            reset();\n            reInitialize();\n            if (projectCardData) projectCardData();\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n        }\n    });\n\n    const handleSubmit = () => {\n        const newErrors = {\n            taskTitle: !taskTitle,\n            description: !description,\n            user: !user,\n            date: !date\n        };\n        setErrors(newErrors);\n\n        if (!newErrors.taskTitle && !newErrors.description && !newErrors.user && !newErrors.date) {\n            mutation.mutate({\n                title: taskTitle,\n                description: description,\n                project: project.value,\n                user: user,\n                from_date: date.startDate,\n                to_date: date.endDate,\n            });\n            console.log('Form submitted with:', { taskTitle, description, user, date });\n        }\n    };\n\n    const handleClose = () => setShow(false);\n    const usersList = useQuery({ queryKey: ['getUserList'], queryFn: getUserList });\n    const mobileUsersList = useQuery({ queryKey: ['getMobileUserList'], queryFn: getMobileUserList });\n\n    useEffect(() => {\n        if (!show) reset();\n    }, [show]);\n\n    return (\n        <>\n            <Modal show={show} centered onHide={handleClose} className='task-form'>\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        <img src={newTask} alt='task-details' style={{ width: '48px', height: '48px' }} />\n                        <span className='modal-task-title'>New Task</span>\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Group className=\"mb-3\">\n                        <Form.Label>Task Title</Form.Label>\n                        <InputGroup>\n                            <Form.Control\n                                required\n                                type=\"text\"\n                                placeholder=\"Enter task title\"\n                                value={taskTitle}\n                                onChange={(e) => setTaskTitle(e.target.value)}\n                            />\n                            <InputGroup.Text>\n                                <QuestionCircle />\n                            </InputGroup.Text>\n                        </InputGroup>\n                        {errors.taskTitle && <Form.Text className=\"text-danger\">Task title is required</Form.Text>}\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n                        <Form.Label>Description</Form.Label>\n                        <Form.Control\n                            as=\"textarea\"\n                            rows={3}\n                            placeholder='Enter a description...'\n                            value={description}\n                            onChange={(e) => setDescription(e.target.value)}\n                            required\n                        />\n                        {errors.description && <Form.Text className=\"text-danger\">Description is required</Form.Text>}\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-2\">\n                        <Form.Label>Project Task</Form.Label>\n                        <InputGroup>\n                            <Form.Select disabled>\n                                <option value={project.value}>{project.reference} ({project.number})</option>\n                            </Form.Select>\n                            <InputGroup.Text>\n                                <ChevronDown />\n                            </InputGroup.Text>\n                        </InputGroup>\n                        {!project && <Form.Text className=\"text-danger\">Project task is required</Form.Text>}\n                    </Form.Group>\n                </Modal.Body>\n                <div className='d-flex align-items-center' style={{\n                    gap: '20px', borderTop: '1px solid #eaecf0',\n                    padding: \"12px 30px 8px 20px\"\n                }}>\n                    {!user &&\n                        <Person\n                            color={dropdownRef.current?.panel?.element?.offsetParent ? \"#1AB2FF\" : \"#475467\"}\n                            size={22} style={{ position: 'relative', left: '10px', zIndex: 1 }}\n                            onClick={() => dropdownRef.current?.show()} className='me-3 cursor-pointer'\n                        />\n                    }\n                    <Dropdown\n                        ref={dropdownRef}\n                        options={[\n                            {\n                                label: 'Desktop User',\n                                items:\n                                    usersList?.data?.users\n                                        ?.filter((user) => user?.is_active)\n                                        ?.map((user) => ({\n                                            value: user?.id,\n                                            label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                            photo: user?.photo || \"\",\n                                            has_photo: user?.has_photo,\n                                        })) || [],\n                            },\n                            ...(session?.has_work_subscription\n                                ? [\n                                    {\n                                        label: 'Mobile User',\n                                        items:\n                                            mobileUsersList?.data?.users\n                                                ?.filter((user) => user?.status !== 'disconnected')\n                                                ?.map((user) => ({\n                                                    value: user?.id,\n                                                    label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                                    photo: user?.photo || \"\",\n                                                    has_photo: user?.has_photo,\n                                                })) || [],\n                                    },\n                                ]\n                                : []),\n                        ]}\n                        onChange={(e) => {\n                            setUser(e.value);\n                        }}\n                        valueTemplate={(option) => {\n                            return <div className='d-flex gap-2 align-items-center'>\n                                <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '0px solid #dedede' }}>\n                                    <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                </div>\n                                {option?.label}\n                            </div>;\n                        }}\n                        itemTemplate={(option) => {\n                            return (\n                                <div className='d-flex gap-2 align-items-center'>\n                                    <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                        <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                    </div>\n                                    {option?.label}\n                                </div>\n                            );\n                        }}\n                        className='outline-none border-0 p-0'\n                        style={{\n                            width: !user ? '0px' : 'fit-content',\n                            height: !user ? '0px' : '46px',\n                            zIndex: !user ? '0' : '1',\n                            position: 'relative',\n                            left: !user ? '-60px' : '0px',\n                            top: !user ? '-15px' : '0px',\n                        }}\n                        value={user}\n                        dropdownIcon={<></>}\n                        collapseIcon={<></>}\n                        placeholder=\"Select project\"\n                        filter\n                        optionGroupLabel=\"label\"\n                        optionGroupChildren=\"items\"\n                    />\n                    <SelectDate dateRange={date} setDateRange={setDate} />\n                </div>\n                <div className='d-flex align-items-center' style={{ gap: '16px', padding: \"0 30px 8px 30px\" }}>\n                    {errors.user && <Form.Text className=\"text-danger\">User is required</Form.Text>}\n                    {errors.date && <Form.Text className=\"text-danger\">Date is required</Form.Text>}\n                </div>\n                <Modal.Footer>\n                    <Button type='button' className='save-button' onClick={handleSubmit}>{mutation.isPending ? 'Loading...' : 'Create Task'}</Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default CreateTask;\n","import { useState } from 'react';\nimport CreateTask from '../task/create-task';\n\nconst NewTask = ({ project, reInitialize, projectCardData }) => {\n    const [viewShow, setViewShow] = useState(false);\n    const handleShow = () => setViewShow(true);\n    \n    return (\n        <>\n            <div className=\"linkByttonStyle py-2 border-right pe-5\" onClick={handleShow}>\n                New Task\n            </div>\n            <CreateTask show={viewShow} setShow={setViewShow} project={project} reInitialize={reInitialize} projectCardData={projectCardData} />\n        </>\n    );\n};\n\nexport default NewTask;\n","import React, { useState } from 'react';\nimport { Filter, FileText, FileEarmarkText, Bezier2, CardChecklist, Envelope, PhoneVibrate, ListCheck, Check2Circle, FolderSymlink } from 'react-bootstrap-icons';\n\nconst OPTIONS = [\n  { icon: <FileText size={16} color='#1AB2FF' />, label: 'Invoice', value: 'invoice' },\n  { icon: <FileEarmarkText size={16} color='#1AB2FF' />, label: 'Quote', value: 'quote' },\n  { icon: <Bezier2 size={16} color='#1AB2FF' />, label: 'System', value: 'system' },\n  { icon: <CardChecklist size={16} color='#1AB2FF' />, label: 'Notes', value: 'note' },\n  { icon: <Envelope size={16} color='#1AB2FF' />, label: 'Email', value: 'email' },\n  { icon: <PhoneVibrate size={16} color='#1AB2FF' />, label: 'SMS', value: 'sms' },\n  { icon: <ListCheck size={16} color='#1AB2FF' />, label: 'Tasks', value: 'task' },\n  { icon: <Check2Circle size={16} color='#1AB2FF' />, label: 'Job Created', value: 'job' },\n  { icon: <FolderSymlink size={16} color='#1AB2FF' />, label: 'Expense Linked', value: 'order' }\n];\n\nconst ProjectCardFilter = ({ setFilteredHistoryOptions }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [tempSelectedOptions, setTempSelectedOptions] = useState([]);\n  console.log('tempSelectedOptions: ', tempSelectedOptions);\n\n  const toggleDropdown = () => setIsOpen(prev => !prev);\n\n  const handleCheckboxChange = (value) => {\n    setTempSelectedOptions(prev =>\n      prev.includes(value)\n        ? prev.filter(opt => opt !== value)\n        : [...prev, value]\n    );\n  };\n\n  const handleApply = () => {\n    setFilteredHistoryOptions(tempSelectedOptions);\n    setIsOpen(false);\n  };\n\n  const handleSelectAll = () => {\n    if (tempSelectedOptions?.length > 0) setTempSelectedOptions([]);\n    else setTempSelectedOptions(OPTIONS.map(option => option.value));\n  };\n\n  const handleClearSelection = () => setTempSelectedOptions([]);\n\n  return (\n    <div className='projectCardFilterDropdown'>\n      <span onClick={toggleDropdown}>\n        <Filter size={20} color='#344054' />\n      </span>\n\n      {isOpen && (\n        <div className=\"dropdown-menuF px-0\">\n          <button className='all p-0 ps-2 pe-2 mx-2 text-left d-flex justify-content-between align-items-center rounded' style={{ background: '#F9FAFB', width: '94%' }} onClick={handleSelectAll}>\n            <span className='border-0' style={{ background: 'transparent' }}>All</span>\n            {\n              OPTIONS.length === tempSelectedOptions?.length && <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M16.6666 5L7.49992 14.1667L3.33325 10\" stroke=\"#1AB2FF\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n              </svg>\n            }\n          </button>\n          <ul className='ps-3'>\n            {OPTIONS.map(({ icon, label, value }) => (\n              <li\n                key={label}\n                className={tempSelectedOptions.includes(label) ? 'active' : ''}\n                onClick={() => handleCheckboxChange(value)}\n              >\n                <label htmlFor={label} className='w-100 d-flex justify-content-between align-items-center'>\n                  <input\n                    id={label}\n                    type=\"checkbox\"\n                    checked={tempSelectedOptions.includes(value)}\n                    readOnly\n                    style={{ cursor: 'pointer', height: '40px' }}\n                  />\n                  <span className='border-0'>{icon} {label}</span>\n                  {\n                    tempSelectedOptions.includes(value) && <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                      <path d=\"M16.6666 5L7.49992 14.1667L3.33325 10\" stroke=\"#1AB2FF\" strokeWidth=\"1.66667\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                    </svg>\n                  }\n                </label>\n              </li>\n            ))}\n          </ul>\n          <hr/>\n          <div className=\"dropdown-buttonsF pb-2 px-3\">\n            <button className='cancel' onClick={handleClearSelection}>Cancel</button>\n            <button className='apply' onClick={handleApply}>Apply</button>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default ProjectCardFilter;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport { updateProjectScheduleById } from '../../../../../APIs/management-api';\nimport OrdersIcon from \"../../../../../assets/images/icon/OrdersIcon.svg\";\nimport DateRangePicker from '../../../../Work/Pages/tasks/old-development/DateRangePicker';\n\nconst formatDateRange = (startDate, endDate) => {\n    const options = { month: 'short', day: 'numeric' };\n    const start = new Date(startDate).toLocaleDateString('en-US', options);\n    const end = new Date(endDate).toLocaleDateString('en-US', options);\n    return `${start} - ${end}`;\n};\n\nconst DateRangeComponent = ({ startDate, endDate }) => (\n    <Button className='dateSelectdTaskBar schedule schActive' style={{ minWidth: '160px', minHeight: '46px' }}>\n        {formatDateRange(startDate, endDate)} <img src={OrdersIcon} alt=\"OrdersIcon\" /></Button>\n);\n\nconst ScheduleUpdate = ({ projectId, projectCardData, isFetching, startDate, endDate }) => {\n    const [dateRange, setDateRange] = useState({ startDate: null, endDate: null });\n    const [isPickerVisible, setIsPickerVisible] = useState(false);\n    const selectDateRef = useRef(null);\n    const togglePicker = () => setIsPickerVisible(prev => !prev);\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateProjectScheduleById(projectId, data),\n        onSuccess: async () => {\n            projectCardData(projectId);\n        },\n        onError: (error) => {\n            setDateRange({ startDate: null, endDate: null });\n            console.error('Error creating task:', error);\n        }\n    });\n    const handleDataApply = (data) => {\n        updateMutation.mutate({ booking_start: data.startDate, booking_end: data.endDate });\n        setDateRange(data);\n        setIsPickerVisible(false);\n    };\n    const handleClickOutside = (event) => {\n        if (selectDateRef.current && !selectDateRef.current.contains(event.target)) {\n            setIsPickerVisible(false);\n        }\n    };\n\n    useEffect(() => {\n        if (startDate && endDate) setDateRange({ startDate: new Date(1000 * +startDate), endDate: new Date(1000 * +endDate) });\n    }, [startDate, endDate]);\n\n    useEffect(() => {\n        if (isPickerVisible) {\n            document.addEventListener('mousedown', handleClickOutside);\n        } else {\n            document.removeEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isPickerVisible]);\n\n    return (\n        <div className='select-date' style={{ position: 'relative' }} ref={selectDateRef}>\n            <div onClick={togglePicker} style={{ cursor: 'pointer' }}>\n                {(dateRange?.startDate && dateRange?.endDate && !updateMutation.isPending) ? (\n                    <DateRangeComponent isPending={updateMutation.isPending} startDate={dateRange.startDate} endDate={dateRange.endDate} />\n                ) : (\n                    <Button className={`schedule schActive`} style={{ minWidth: '201px', minHeight: '46px' }}>\n                        {updateMutation.isPending || isFetching ? <div className=\"dot-flashing\" ></div>\n                            : <span>Schedule Project  <img src={OrdersIcon} alt=\"OrdersIcon\" /></span>}\n                    </Button>\n                )}\n            </div>\n            {isPickerVisible && (\n                <div className='select-date-range' style={{ position: 'absolute', bottom: '40px', background: '#fff', zIndex: 1000 }}>\n                    <DateRangePicker onDataApply={handleDataApply} dateRange={dateRange} onClose={() => setIsPickerVisible(false)} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ScheduleUpdate;","import React, { useEffect, useState } from 'react';\nimport { ChevronDown } from 'react-bootstrap-icons';\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\nimport { useMutation } from '@tanstack/react-query';\nimport '@szhsin/react-menu/dist/index.css';\nimport { updateProjectStatusById } from '../../../../../APIs/management-api';\n\nconst colorMapping = {\n    \"#1AB2FF\": { bg: \"#BAE8FF\", border: \"#1AB2FF\", color: \"#0A4766\", text: \"Blue\" },\n    \"#4E5BA6\": { bg: \"#EAECF5\", border: \"#4E5BA6\", color: \"#293056\", text: \"Deep Blue\" },\n    \"#2970FF\": { bg: \"#D1E0FF\", border: \"#2970FF\", color: \"#0040C1\", text: \"Dark Blue\" },\n    \"#FFB258\": { bg: \"#FFE8CD\", border: \"#FFB258\", color: \"#6D471A\", text: \"Orange\" },\n    \"#15B79E\": { bg: \"#CCFBEF\", border: \"#15B79E\", color: \"#125D56\", text: \"Green\" },\n    \"#66C61C\": { bg: \"#E3FBCC\", border: \"#66C61C\", color: \"#326212\", text: \"Light Green\" },\n    \"#7A5AF8\": { bg: \"#EBE9FE\", border: \"#7A5AF8\", color: \"#4A1FB8\", text: \"Light Purple\" },\n    \"#D444F1\": { bg: \"#FBE8FF\", border: \"#D444F1\", color: \"#821890\", text: \"Magenta\" },\n    \"#F63D68\": { bg: \"#FFE4E8\", border: \"#F63D68\", color: \"#A11043\", text: \"Pink\" },\n    \"#FF007F\": { bg: \"#FFCCE5\", border: \"#FF007F\", color: \"#6F0A3C\", text: \"Soft Pink\" },\n    \"#FFD700\": { bg: \"#FFF8D1\", border: \"#FFD700\", color: \"#997100\", text: \"Yellow\" },\n    \"#6C6C1C\": { bg: \"#E1E1B8\", border: \"#6C6C1C\", color: \"#444403\", text: \"Dark Yellow\" }\n};\n\nconst SelectStatus = ({ projectId, statusOptions, custom_status }) => {\n    const [selectedOption, setSelectedOption] = useState(null);\n    const updateMutation = useMutation({\n        mutationFn: (data) => updateProjectStatusById(projectId, data),\n        onSuccess: async () => {\n        },\n        onError: (error) => {\n            setSelectedOption(custom_status);\n            console.error('Error creating task:', error);\n        }\n    });\n    const handleSubMenuClick = (choosedStatus) => {\n        if (choosedStatus?.id) {\n            updateMutation.mutate({ custom_status: choosedStatus?.id });\n            setSelectedOption(choosedStatus);\n        }\n    };\n\n    useEffect(() => {\n        setSelectedOption(custom_status);\n    }, [custom_status]);\n\n    return (\n        <Menu\n            menuButton={\n                <MenuButton style={{\n                    width: '204px',\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    justifyContent: 'flex-end',\n                    padding: '8px 0px',\n                    cursor: 'pointer',\n                    background: 'transparent',\n                    border: 'none',\n                    color: '#98A2B3',\n                    gap: '10px'\n                }}>\n                    {\n                        selectedOption && selectedOption.title ? (\n                            <div className=\"d-flex justify-content-center\" style={{ width: '204px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                                <>{\n                                    updateMutation.isPending ? (<div className=\"dot-flashing\"></div>) : (\n                                        <>\n                                            <div className=\"h-100\" style={{ width: '4px', background: `${colorMapping[selectedOption?.color]?.border}` }}></div>\n                                            <div className=\"h-100 statusFlex d-flex align-items-center\" style={{ width: '100%', background: `${colorMapping[selectedOption?.color]?.bg}` }}>\n                                                <span style={{ color: `${colorMapping[selectedOption?.color]?.color}`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>{selectedOption?.title}</span>\n                                                <span className='inArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                                            </div>\n                                            \n                                        </>\n                                    )\n                                }\n                                </>\n                            </div>\n                        ) : (   <div className=\"d-flex justify-content-center\" style={{ width: '204px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                            <>{\n                             \n                                    <>\n                                        <div className=\"h-100\" style={{ width: '4px', background: `#1D2939` }}></div>\n                                        <div className=\"h-100 statusFlex d-flex align-items-center\" style={{ width: '100%', background: `#F2F4F7` }}>\n                                            <span style={{ color: `#1D2939`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>No Status</span>\n                                            <span className='inArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                                        </div>\n                                        \n                                    </>\n                                \n                            }\n                            </>\n                        </div>)\n                    }\n                    <span className='outArrow'><ChevronDown color=\"#98A2B3\" size={15} /></span>\n                </MenuButton>}\n            overflow={\"auto\"}\n            position={\"anchor\"}\n        >\n            {statusOptions?.map((status) => (\n                <MenuItem style={{ textAlign: 'left' }} onClick={() => handleSubMenuClick(status)} key={status.id}>\n                    <div className=\"d-flex\" style={{ width: '163px', height: '30px', borderRadius: '4px', overflow: 'hidden' }}>\n                        <div className=\"h-100\" style={{ width: '4px', background: `${colorMapping[status?.color]?.border}` }}></div>\n                        <div className=\"h-100 d-flex align-items-center\" style={{ width: '100%', background: `${colorMapping[status?.color]?.bg}` }}>\n                            <span style={{ color: `${colorMapping[status?.color]?.color}`, fontSize: '14px', paddingLeft: '12px', fontWeight: '400' }}>{status?.title}</span>\n                        </div>\n                    </div>\n                </MenuItem>\n            ))}\n        </Menu>\n    );\n};\n\nexport default SelectStatus;","// extracted by mini-css-extract-plugin\nexport default {\"phoneInput\":\"send-sms_phoneInput__Qgh+S\",\"countrySelector\":\"send-sms_countrySelector__y14UT\",\"customLabel\":\"send-sms_customLabel__RzF9F\"};","import React, { useEffect, useState } from 'react';\nimport { X } from \"react-bootstrap-icons\";\nimport { PhoneInput } from 'react-international-phone';\nimport { useNavigate } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport clsx from 'clsx';\nimport { PhoneNumberUtil } from 'google-libphonenumber';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport style from './send-sms.module.scss';\nimport { getSMS, getSMSTemplates } from '../../../../../../APIs/email-template';\nimport { sendSms } from '../../../../../../APIs/management-api';\nimport AddNoteModeIcon from \"../../../../../../assets/images/icon/addNoteModeIcon.svg\";\n\nconst phoneUtil = PhoneNumberUtil.getInstance();\nconst isPhoneValid = (phone) => {\n  try {\n    return phoneUtil.isValidNumber(phoneUtil.parseAndKeepRawInput(phone));\n  } catch (error) {\n    return false;\n  }\n};\n\nconst SendSMS = ({ projectId, projectCardData }) => {\n  const navigate = useNavigate();\n  const [smsTemplateId, setSMSTemplatedId] = useState(null);\n  const [viewShow, setViewShow] = useState(false);\n  const [message, setMessage] = useState('');\n  const [errors, setErrors] = useState({});\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const handleClose = () => {\n    setViewShow(false);\n    setMessage(\"\");\n    setPhoneNumber(\"\");\n    setErrors({});\n    setSMSTemplatedId(null);\n  };\n\n  const handleShow = () => {\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || \"{}\");\n    if (profileData?.has_twilio)\n      setViewShow(true);\n    else {\n      navigate('/settings/integrations?openTwilio=true');\n    }\n  };\n\n  const smsTemplateQuery = useQuery({\n    queryKey: [\"getSMSTemplates\"],\n    queryFn: getSMSTemplates\n  });\n\n  const smsQuery = useQuery({\n    queryKey: [\"smsQuery\", smsTemplateId],\n    queryFn: () => getSMS(smsTemplateId),\n    enabled: !!smsTemplateId,\n    retry: 1,\n  });\n\n\n  const mutation = useMutation({\n    mutationFn: (data) => sendSms(projectId, data),\n    onSuccess: () => {\n      toast.success(`SMS send successfully`);\n      handleClose();\n      projectCardData();\n    },\n    onError: (error) => {\n      console.error('Error creating expense:', error);\n      toast.error('Failed to send sms. Please try again.');\n    }\n  });\n\n  const handleSubmit = () => {\n    let error = {};\n    if (!message) error.message = true;\n    if (!phoneNumber || !isPhoneValid(phoneNumber)) error.phone = true;\n    if (Object.keys(error).length) return setErrors(error);\n\n    mutation.mutate({\n      phone_number: phoneNumber,\n      message: message\n    });\n  };\n\n  useEffect(() => {\n    if (smsQuery?.data?.text) {\n      setMessage(smsQuery.data.text);\n      setErrors((others) => ({ ...others, message: false }));\n    }\n  }, [smsQuery.data]);\n\n  return (\n    <>\n      {/* View modal trigger */}\n      <div className=\"linkByttonStyle py-2 border-right text-center ps-0\" onClick={handleShow}>\n        Send SMS\n      </div>\n\n      {/* View modal */}\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"taskModelProject\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 border-0\">\n          <div className=\"modelHeader d-flex justify-content-between align-items-start\">\n            <span>\n              <img src={AddNoteModeIcon} alt=\"AddNoteModeIcon\" />\n              Send SMS\n            </span>\n          </div>\n          <button className='CustonCloseModal' onClick={handleClose}>\n            <X size={24} color='#667085' />\n          </button>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"ContactModel\">\n            <Row>\n              <Col sm={12} className='mb-3'>\n                <div style={{ position: 'relative' }}>\n                  <label className={clsx(style.customLabel)}>Templates</label>\n                  <Dropdown\n                    options={\n                      (smsTemplateQuery &&\n                        smsTemplateQuery.data?.map((smsTemplate) => ({\n                          value: smsTemplate.id,\n                          label: `${smsTemplate.title}`,\n                        }))) ||\n                      []\n                    }\n                    className={clsx(\n                      style.dropdownSelect,\n                      \"dropdown-height-fixed w-100\"\n                    )}\n                    style={{ height: \"46px\", paddingLeft: '88px' }}\n                    placeholder=\"Select template\"\n                    onChange={(e) => {\n                      setSMSTemplatedId(e.value);\n                    }}\n                    value={smsTemplateId}\n                    loading={smsTemplateQuery?.isFetching}\n                  />\n                </div>\n              </Col>\n              <Col>\n                <div className=\"formgroup sendSMSPhone mb-2 mt-0\">\n                  <label>To<span className=\"required\">*</span></label>\n                  <div className={`inputInfo p-0 ${errors.taskRead ? 'error-border' : 'border-0'}`}>\n                    <PhoneInput\n                      defaultCountry='au'\n                      placeholder='Enter phone number'\n                      value={phoneNumber || \"\"}\n                      className='phoneInput w-100'\n                      containerClass={style.countrySelector}\n                      onChange={(e) => {\n                        setPhoneNumber(e);\n                        if (isPhoneValid(e)) setErrors((others) => ({ ...others, phone: false }));\n                      }}\n                    />\n                  </div>\n                  {errors.phone && <p className=\"error-message\">Phone is not valid</p>}\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n              <Col>\n                <div className=\"formgroup mb-2 mt-2\">\n                  <label>Message<span className=\"required\">*</span></label>\n                  <div className={`inputInfo ${errors.description ? 'error-border' : ''}`} style={{ position: 'relative' }}>\n                    <div style={{ position: 'absolute', right: '10px', top: '15px' }}>\n                      {smsQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                    </div>\n                    <textarea\n                      type=\"text\"\n                      name=\"Enter a message here...\"\n                      value={message}\n                      placeholder='Enter a message here...'\n                      onChange={(e) => {\n                        const newText = e.target.value.slice(0, 150);\n                        setMessage(newText);\n                        setErrors((others) => ({ ...others, message: false }));\n                      }}\n                    />\n                  </div>\n                  <div className=\"d-flex justify-content-between align-items-center mt-1\">\n                    <p className=\"error-message\">{errors.message && \"Description is required\"}</p>\n                    <div style={{ float: 'right', fontSize: '14px', color: '#6c757d' }}>\n                      {message?.length || 0}/150\n                    </div>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n            <Row>\n\n            </Row>\n            <div className=\"popoverbottom  mt-0 pt-4\">\n              <Button variant=\"outline-danger\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button disabled={mutation?.isPending} variant=\"primary save d-flex align-items-center gap-2\" onClick={handleSubmit}>\n                Send\n                {\n                  mutation?.isPending && <ProgressSpinner style={{ width: '15px', height: '15px' }} />\n                }\n              </Button>\n            </div>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default SendSMS;\n","// extracted by mini-css-extract-plugin\nexport default {\"calendarButton\":\"send-to-calendar_calendarButton__wLLgP\",\"calendarModal\":\"send-to-calendar_calendarModal__ZnyeK\",\"calendarTypeRadio\":\"send-to-calendar_calendarTypeRadio__lZev2\",\"selected\":\"send-to-calendar_selected__mOnKi\",\"modalTitle\":\"send-to-calendar_modalTitle__yfOOC\",\"formLabel\":\"send-to-calendar_formLabel__eKaq1\",\"AutoComplete\":\"send-to-calendar_AutoComplete__iw4uu\",\"borderDanger\":\"send-to-calendar_borderDanger__P-SWh\",\"bcc\":\"send-to-calendar_bcc__jJnIa\"};","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgCalendar(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 0.5H2C0.89543 0.5 0 1.39543 0 2.5V14.5C0 15.6046 0.89543 16.5 2 16.5H14C15.1046 16.5 16 15.6046 16 14.5V2.5C16 1.39543 15.1046 0.5 14 0.5ZM1 4.35714C1 3.88376 1.44772 3.5 2 3.5H14C14.5523 3.5 15 3.88376 15 4.35714V14.6429C15 15.1162 14.5523 15.5 14 15.5H2C1.44772 15.5 1 15.1162 1 14.6429V4.35714Z\",\n    fill: \"#1D2939\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 7.5C7.05228 7.5 7.5 7.05228 7.5 6.5C7.5 5.94772 7.05228 5.5 6.5 5.5C5.94772 5.5 5.5 5.94772 5.5 6.5C5.5 7.05228 5.94772 7.5 6.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 7.5C10.0523 7.5 10.5 7.05228 10.5 6.5C10.5 5.94772 10.0523 5.5 9.5 5.5C8.94772 5.5 8.5 5.94772 8.5 6.5C8.5 7.05228 8.94772 7.5 9.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 7.5C13.0523 7.5 13.5 7.05228 13.5 6.5C13.5 5.94772 13.0523 5.5 12.5 5.5C11.9477 5.5 11.5 5.94772 11.5 6.5C11.5 7.05228 11.9477 7.5 12.5 7.5Z\",\n    fill: \"#1D2939\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 10.5C4.05228 10.5 4.5 10.0523 4.5 9.5C4.5 8.94772 4.05228 8.5 3.5 8.5C2.94772 8.5 2.5 8.94772 2.5 9.5C2.5 10.0523 2.94772 10.5 3.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 10.5C7.05228 10.5 7.5 10.0523 7.5 9.5C7.5 8.94772 7.05228 8.5 6.5 8.5C5.94772 8.5 5.5 8.94772 5.5 9.5C5.5 10.0523 5.94772 10.5 6.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 10.5C10.0523 10.5 10.5 10.0523 10.5 9.5C10.5 8.94772 10.0523 8.5 9.5 8.5C8.94772 8.5 8.5 8.94772 8.5 9.5C8.5 10.0523 8.94772 10.5 9.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 10.5C13.0523 10.5 13.5 10.0523 13.5 9.5C13.5 8.94772 13.0523 8.5 12.5 8.5C11.9477 8.5 11.5 8.94772 11.5 9.5C11.5 10.0523 11.9477 10.5 12.5 10.5Z\",\n    fill: \"#1D2939\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 13.5C4.05228 13.5 4.5 13.0523 4.5 12.5C4.5 11.9477 4.05228 11.5 3.5 11.5C2.94772 11.5 2.5 11.9477 2.5 12.5C2.5 13.0523 2.94772 13.5 3.5 13.5Z\",\n    fill: \"#1D2939\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.5 13.5C7.05228 13.5 7.5 13.0523 7.5 12.5C7.5 11.9477 7.05228 11.5 6.5 11.5C5.94772 11.5 5.5 11.9477 5.5 12.5C5.5 13.0523 5.94772 13.5 6.5 13.5Z\",\n    fill: \"#1D2939\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 13.5C10.0523 13.5 10.5 13.0523 10.5 12.5C10.5 11.9477 10.0523 11.5 9.5 11.5C8.94772 11.5 8.5 11.9477 8.5 12.5C8.5 13.0523 8.94772 13.5 9.5 13.5Z\",\n    fill: \"#1D2939\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCalendar);\nexport default __webpack_public_path__ + \"static/media/calendar.9ebe7da58af479b138e37b33d2affea2.svg\";\nexport { ForwardRef as ReactComponent };","import SendToCalendar from './send-to-calendar';\n\nexport default SendToCalendar;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Button, Modal, Form, Row, Col } from 'react-bootstrap';\nimport { Calendar3 } from 'react-bootstrap-icons';\nimport { useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport clsx from 'clsx';\nimport { format } from 'date-fns';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport { Calendar } from 'primereact/calendar';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport styles from './send-to-calendar.module.scss';\nimport { getClientById } from '../../../../../../APIs/ClientsApi';\nimport { getOutgoingEmail } from '../../../../../../APIs/email-template';\nimport CalendarIcon from \"../../../../../../assets/images/icon/calendar.svg\";\n\nconst SendToCalendar = ({ projectId, project, projectCardData }) => {\n  const autoCompleteRef = useRef(null);\n  const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n  const accessToken = localStorage.getItem(\"access_token\");\n  const [show, setShow] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [eventTitle, setEventTitle] = useState('');\n  const [eventDescription, setEventDescription] = useState('');\n  const [eventLocation, setEventLocation] = useState('');\n  const [meetLink, setMeetLink] = useState('');\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n  const [guests, setGuests] = useState([]);\n  const [from, setFrom] = useState('');\n  const [filteredEmails, setFilteredEmails] = useState([]);\n  const [errors, setErrors] = useState({});\n\n  const clientQuery = useQuery({\n    queryKey: ['getClientById', project?.client],\n    queryFn: () => getClientById(project?.client),\n    enabled: !!project?.client && !!show,\n    retry: 1,\n  });\n\n  const outgoingEmailTemplateQuery = useQuery({\n    queryKey: [\"getOutgoingEmail\"],\n    queryFn: getOutgoingEmail,\n    enabled: !!show,\n  });\n\n  const handleClose = () => {\n    setShow(false);\n    setGuests([]);\n    setEventTitle('');\n    setEventDescription('');\n    setEventLocation('');\n    setStartDate(null);\n    setEndDate(null);\n    setMeetLink('');\n    setFrom('');\n  };\n\n  const handleShow = () => {\n    if (project?.reference) {\n      setEventTitle(`${project.reference}`);\n    } else if (project?.number) {\n      setEventTitle(`Project #${project.number}`);\n    } else {\n      setEventTitle('Project Event');\n    }\n\n    setEventDescription(project?.description || '');\n\n    if (project?.booking_start) {\n      setStartDate(new Date(project.booking_start * 1000));\n    }\n\n    if (project?.booking_end) {\n      setEndDate(new Date(project.booking_end * 1000));\n    }\n\n    setShow(true);\n  };\n\n  useEffect(() => {\n    if (project?.booking_start && !startDate) {\n      setStartDate(new Date(project.booking_start * 1000));\n    }\n\n    if (project?.booking_end && !endDate) {\n      setEndDate(new Date(project.booking_end * 1000));\n    }\n  }, [project, startDate, endDate]);\n\n\n  const generateICalContent = (attendees = [], organizerEmail = profileData?.email || 'no-reply@memate.com.au') => {\n    const formatDate = (date) => format(date, \"yyyyMMdd'T'HHmmss'Z'\");\n    const now = new Date();\n    const uid = `${Date.now()}@memate.com.au`;\n    const dtStamp = formatDate(now);\n\n    // Determine meeting platform type based on URL pattern\n    const getMeetingPlatform = (url) => {\n      if (!url) return null;\n      if (url.includes('zoom.us')) return 'Zoom';\n      if (url.includes('teams.microsoft.com')) return 'Microsoft Teams';\n      if (url.includes('meet.google.com')) return 'Google Meet';\n      if (url.includes('webex.com')) return 'Cisco Webex';\n      return 'Online Meeting'; // Generic fallback\n    };\n\n    // Create description with meeting link if provided\n    let formattedDescription = eventDescription || \"Meeting Invitation\";\n    let htmlDescription = `<html><body><p>${eventDescription || \"Meeting Invitation\"}</p>`;\n\n    if (meetLink) {\n      const platform = getMeetingPlatform(meetLink);\n      formattedDescription += `\\n\\n${platform} Link: ${meetLink}`;\n      htmlDescription += `<p><strong>${platform} Link:</strong> <a href=\"${meetLink}\">${meetLink}</a></p>`;\n    }\n\n    htmlDescription += `</body></html>`;\n    htmlDescription = htmlDescription.replace(/\\n/g, '').replace(/\\s+/g, ' ');\n\n    const calendarContent = [\n      \"BEGIN:VCALENDAR\",\n      \"PRODID:-//MeMate//Calendar//EN\",\n      \"VERSION:2.0\",\n      \"CALSCALE:GREGORIAN\",\n      \"METHOD:REQUEST\",\n      \"BEGIN:VEVENT\",\n      `UID:${uid}`,\n      `DTSTAMP:${dtStamp}`,\n      `SUMMARY:${eventTitle}`,\n      `DESCRIPTION:${formattedDescription.replace(/\\n/g, '\\\\n')}`,\n      `LOCATION:${eventLocation || meetLink || ''}`,\n      meetLink ? `URL:${meetLink}` : '',\n      `DTSTART:${formatDate(startDate)}`,\n      `DTEND:${formatDate(endDate)}`,\n      `ORGANIZER;CN=${profileData?.first_name && profileData?.last_name ?\n        `${profileData.first_name} ${profileData.last_name}` :\n        organizerEmail.split('@')[0] || 'MeMate'}:mailto:${organizerEmail}`\n    ].filter(line => line !== ''); // Remove empty lines\n\n    if (attendees && attendees.length > 0) {\n      attendees.forEach(email => {\n        let name = email.split('@')[0].replace(/[.]/g, ' ');\n        name = name.split(' ').map(part => part.charAt(0).toUpperCase() + part.slice(1)).join(' ');\n\n        calendarContent.push(`ATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN=${name}:mailto:${email}`);\n      });\n    }\n\n    calendarContent.push(\n      \"STATUS:CONFIRMED\",\n      \"SEQUENCE:0\",\n      \"TRANSP:OPAQUE\",\n      \"BEGIN:VALARM\",\n      \"TRIGGER:-PT15M\",\n      \"ACTION:DISPLAY\",\n      \"DESCRIPTION:Reminder\",\n      \"END:VALARM\",\n      \"X-MICROSOFT-CDO-BUSYSTATUS:BUSY\",\n      \"X-MICROSOFT-CDO-IMPORTANCE:1\",\n      \"X-MICROSOFT-DISALLOW-COUNTER:FALSE\",\n      \"X-MICROSOFT-DONOTFORWARDMEETING:FALSE\",\n      \"X-MICROSOFT-CDO-ALLDAYEVENT:FALSE\"\n    );\n\n    // Add platform-specific properties\n    if (meetLink) {\n      if (meetLink.includes('meet.google.com')) {\n        calendarContent.push(`X-GOOGLE-CONFERENCE:${meetLink}`);\n      } else if (meetLink.includes('teams.microsoft.com')) {\n        calendarContent.push(`X-MICROSOFT-SKYPETEAMSMEETINGURL:${meetLink}`);\n      }\n    }\n\n    // Add HTML description for better email client compatibility\n    calendarContent.push(`X-ALT-DESC;FMTTYPE=text/html:${htmlDescription}`);\n\n    calendarContent.push(\n      \"END:VEVENT\",\n      \"END:VCALENDAR\"\n    );\n\n    return calendarContent.join(\"\\r\\n\");\n  };\n\n  const validateForm = () => {\n    const err = {};\n  \n    if (!eventTitle.trim()) {\n      err.eventTitle = 'Event title is required';\n    }\n\n    if (!startDate) {\n      err.startDate = 'Start date is required';\n    }\n\n    if (!endDate) {\n      err.endDate = 'End date is required';\n    }\n\n    if (startDate > endDate) {\n      err.endDate = 'End date must be after start date';\n    }\n\n    if (guests.length === 0) {\n      err.guests = 'Guests are required';\n    }\n\n    if (!from) {\n      err.from = 'From email is required';\n    }\n\n    if (!eventDescription.trim()) {\n      err.eventDescription = 'Description is required';\n    }\n\n    if (Object.keys(err).length > 0) {\n      setErrors(err);\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      if (!validateForm()) {\n        setIsLoading(false);\n        return;\n      }\n\n      const calendarContent = generateICalContent(guests, from);\n      const fileName = `invite.ics`;\n      const icsFile = new File([calendarContent], fileName, { type: 'text/calendar' });\n      const formData = new FormData();\n\n      formData.append('subject', `Invitation: ${eventTitle}`);\n      formData.append('email_body', eventDescription);\n      formData.append('from_email', from);\n      formData.append('to', guests.toString());\n      formData.append('attachments', icsFile);\n\n      await axios.post(\n        `${process.env.REACT_APP_BACKEND_API_URL}/custom/email/${projectId}/`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n      toast.success('Calendar event created successfully!');\n      handleClose();\n      projectCardData(projectId);\n    } catch (error) {\n      console.error('Error creating calendar event:', error);\n      toast.error('Failed to create calendar event. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const search = (event) => {\n    const query = event?.query?.toLowerCase() || '';\n\n    const contactPersons = clientQuery.data?.contact_persons || [];\n    let emails = contactPersons.map((data) => (data.email));\n    emails = emails.filter((email) => !guests.includes(email));\n\n    emails = emails.filter((email) =>\n      email.toLowerCase().includes(query)\n    );\n\n    setFilteredEmails(emails);\n  };\n\n  const onFocus = () => {\n    search();\n    if (autoCompleteRef.current) autoCompleteRef.current.show();\n  };\n\n  const onInputChange = (e) => {\n    const currentValue = e.target.value;\n    if (currentValue.includes(',') || e.key === 'Enter') {\n      const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n      setGuests((prev) => [...new Set([...prev, ...emails])]);\n      e.target.value = '';\n    }\n  };\n\n  useEffect(() => {\n    if (outgoingEmailTemplateQuery?.data) {\n      if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n        setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n      else\n        setFrom('no-reply@memate.com.au');\n    }\n  }, [outgoingEmailTemplateQuery]);\n\n  useEffect(() => {\n    if (profileData?.email && show) {\n      setGuests([profileData?.email]);\n    }\n  }, [profileData?.email, show]);\n\n  return (\n    <>\n      <Button disabled={!project?.booking_start} className={`calenBut calenActive ${styles.calendarButton}`} onClick={handleShow}>\n        Send to Calendar <img src={CalendarIcon} alt=\"Calendar\" />\n      </Button>\n\n      <Modal show={show} onHide={handleClose} centered className={styles.calendarModal}>\n        <Modal.Header closeButton>\n          <Modal.Title className={styles.modalTitle}>Send to Calendar</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Event Title<span className=\"required\">*</span></Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter event title\"\n                value={eventTitle}\n                onChange={(e) => setEventTitle(e.target.value)}\n                className={clsx('border outline-none', errors?.eventTitle && 'border-danger')}\n              />\n              {errors?.eventTitle && <Form.Text className=\"error-message\">{errors.eventTitle}</Form.Text>}\n            </Form.Group>\n\n            <Row className=\"mb-3\">\n              <Col>\n                <Form.Group>\n                  <Form.Label className={styles.formLabel}>Start Date & Time<span className=\"required\">*</span></Form.Label>\n                  <Calendar\n                    value={startDate}\n                    dateFormat=\"dd/mm/yy\"\n                    onChange={(e) => {\n                      setStartDate(e.value);\n                    }}\n                    onSelect={() => {\n                      document.body.click();\n                    }}\n                    onClear={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    onTodayButtonClick={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    showTime\n                    showIcon\n                    showButtonBar\n                    todayButtonClassName=\"p-button-sm p-button-outlined\"\n                    clearButtonClassName=\"p-button-sm p-button-outlined p-button-danger\"\n                    icon={<Calendar3 color='#667085' size={20} />}\n                    className={clsx('w-100 border rounded', errors?.startDate && 'border-danger')}\n                    appendTo={document.body}\n                    style={{ height: '46px', width: '230px', overflow: 'hidden' }}\n                    panelClassName=\"calendar-panel-higher-z\"\n                  />\n                  {errors?.startDate && <Form.Text className=\"error-message\">{errors?.startDate}</Form.Text>}\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group>\n                  <Form.Label className={styles.formLabel}>End Date & Time<span className=\"required\">*</span></Form.Label>\n                  <Calendar\n                    value={endDate}\n                    dateFormat=\"dd/mm/yy\"\n                    onChange={(e) => {\n                      setEndDate(e.value);\n                    }}\n                    onSelect={() => {\n                      document.body.click();\n                    }}\n                    onClear={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    onTodayButtonClick={() => {\n                      setTimeout(() => document.body.click(), 100);\n                    }}\n                    showTime\n                    showIcon\n                    showButtonBar\n                    todayButtonClassName=\"p-button-sm p-button-outlined\"\n                    clearButtonClassName=\"p-button-sm p-button-outlined p-button-danger\"\n                    icon={<Calendar3 color='#667085' size={20} />}\n                    className={clsx('w-100 border rounded', errors?.endDate && 'border-danger')}\n                    appendTo={document.body}\n                    style={{ height: '46px', width: '230px', overflow: 'hidden' }}\n                    panelClassName=\"calendar-panel-higher-z\"\n                  />\n                  {errors?.endDate && <Form.Text className=\"error-message\">{errors?.endDate}</Form.Text>}\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Add Guests<span className=\"required\">*</span></Form.Label>\n              <AutoComplete\n                ref={autoCompleteRef}\n                value={guests}\n                completeMethod={search}\n                onChange={(e) => {\n                  setGuests(e.value);\n                }}\n                multiple\n                suggestions={filteredEmails}\n                onClick={onFocus}\n                onFocus={onFocus}\n                onKeyUp={onInputChange}\n                onBlur={(e) => {\n                  const currentValue = e.target.value.trim();\n                  if (currentValue) {\n                    setGuests((prev) => [...new Set([...prev, currentValue])]);\n                    e.target.value = '';\n                  }\n                }}\n                className={clsx(styles.AutoComplete, \"w-100\", errors?.guests && styles.borderDanger)}\n                placeholder=\"Add guests\"\n              />\n              {errors?.guests && <Form.Text className=\"error-message\">{errors?.guests}</Form.Text>}\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Location</Form.Label>\n              <Form.Control\n                type=\"text\"\n                className='border outline-none'\n                placeholder=\"Enter physical location (optional)\"\n                value={eventLocation}\n                onChange={(e) => setEventLocation(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Meeting Link</Form.Label>\n              <Form.Control\n                type=\"text\"\n                className='border outline-none'\n                placeholder=\"Enter meeting link (Zoom, Teams, etc.)\"\n                value={meetLink}\n                onChange={(e) => setMeetLink(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label className={styles.formLabel}>Description<span className=\"required\">*</span></Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                className={clsx('border outline-none', errors?.eventDescription && 'border-danger')}\n                placeholder=\"Enter event description\"\n                value={eventDescription}\n                onChange={(e) => setEventDescription(e.target.value)}\n              />\n              {errors?.eventDescription && <Form.Text className=\"error-message\">{errors?.eventDescription}</Form.Text>}\n            </Form.Group>\n\n            <div className=\"d-flex justify-content-end gap-2 mt-4 border-top pt-4\">\n              <Button className=\"outline-button\" variant=\"secondary\" onClick={handleClose}>\n                Cancel\n              </Button>\n              <Button className=\"solid-button\" variant=\"primary\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? (\n                  <>\n                    <ProgressSpinner style={{ width: '20px', height: '20px', marginRight: '8px' }} />\n                    Sending...\n                  </>\n                ) : (\n                  'Send via Email'\n                )}\n              </Button>\n            </div>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default SendToCalendar;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { OverlayTrigger, Placeholder, Table, Tooltip } from 'react-bootstrap';\nimport {\n  X, CurrencyDollar, PencilSquare, Github, FileEarmark, FilePdf, FileText, Link45deg, XCircle, Files, Reply, Check2Circle, CardChecklist, ListCheck, PhoneVibrate,\n  Envelope,\n  Tag,\n  Postcard,\n  PlusCircle,\n  PauseCircle\n} from \"react-bootstrap-icons\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useMutation } from '@tanstack/react-query';\nimport { Column } from 'primereact/column';\nimport { DataTable } from 'primereact/datatable';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport { toast } from 'sonner';\nimport AddNote from './add-note';\nimport ComposeEmail from './compose-email/compose-email';\nimport GoogleReviewEmail from './google-review/google-review';\nimport InvoiceCreate from './invoice-create/invoice-create';\nimport NewTask from './new-task';\nimport ProjectCardFilter from './project-card-filter';\nimport ScheduleUpdate from './schedule-update';\nimport SelectStatus from './select-status';\nimport SendSMS from './send-sms/send-sms';\nimport SendToCalendar from './send-to-calendar';\nimport { createInvoiceById, ProjectCardApi, projectsComplete, projectsOrderDecline, projectsToSalesUpdate, updateProjectReferenceById } from \"../../../../../APIs/management-api\";\nimport { fetchduplicateData } from '../../../../../APIs/SalesApi';\nimport Briefcase from \"../../../../../assets/images/icon/briefcase.svg\";\nimport ExpenseIcon from \"../../../../../assets/images/icon/ExpenseIcon.svg\";\nimport { formatAUD } from '../../../../../shared/lib/format-aud';\nimport ImageAvatar from '../../../../../shared/ui/image-with-fallback/image-avatar';\n\n\n\nconst ProjectCardModel = ({ viewShow, setViewShow, projectId, project, statusOptions, reInitialize }) => {\n  const navigate = useNavigate();\n  const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n  const [isDuplicating, setIsDuplicating] = useState(false);\n  const [isFetching, setIsFetching] = useState(true);\n  const [cardData, setCardData] = useState(null);\n  const [isEditingReference, setIsEditingReference] = useState(false);\n  const [editedReference, setEditedReference] = useState('');\n  const [expenseJobsMapping, setExpenseJobsMapping] = useState([]);\n  const [filteredHistory, setFilteredHistory] = useState([]);\n  const [filteredHistoryOptions, setFilteredHistoryOptions] = useState([]);\n  const [showCostBreakdown, setShowCostBreakdown] = useState(false);\n\n  //Real Cost Calculation\n  const cs = parseFloat(cardData?.cost_of_sale) || 0;\n  const le = parseFloat(cardData?.labor_expenses) || 0;\n  const oe = parseFloat(cardData?.operating_expense) || 0;\n  const RealCost = cs + le + oe;\n  const formattedRealCost = parseFloat(RealCost).toFixed(2);\n\n  const handleClose = () => {\n    setViewShow(false);\n    reInitialize();\n  };\n\n  const handleEditReference = () => {\n    setIsEditingReference(true);\n    setEditedReference(cardData?.reference || '');\n  };\n\n  const handleReferenceChange = (e) => {\n    setEditedReference(e.target.value);\n  };\n\n  const projectCardData = async (uniqueId) => {\n    setIsFetching(true);\n    try {\n      const data = await ProjectCardApi(uniqueId);\n      setCardData(data);\n    } catch (error) {\n      console.error('Error fetching project card data:', error);\n    } finally {\n      setIsFetching(false);\n    }\n  };\n\n  const duplicateSale = async () => {\n    try {\n      if (!projectId) return toast.error(\"Project id not found\");\n      setIsDuplicating(true);\n      await fetchduplicateData(projectId);\n      navigate('/sales');\n      toast.success('Sale has been successfully duplicated');\n    } catch (error) {\n      console.error('Error is duplicating:', error);\n      toast.error(`Failed to duplicate sale. Please try again.`);\n    } finally {\n      setIsDuplicating(false);\n    }\n  };\n\n  const referencemutation = useMutation({\n    mutationFn: (data) => updateProjectReferenceById(projectId, data),\n    onSuccess: () => {\n      setCardData(prevData => ({\n        ...prevData,\n        reference: editedReference\n      }));\n    },\n    onError: (error) => {\n      console.error('Error creating task:', error);\n    }\n  });\n\n  const handleSaveReference = async () => {\n    setIsEditingReference(false);\n    await referencemutation.mutateAsync({ reference: editedReference });\n    await createInvoiceById(projectId);\n  };\n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp * 1000);\n    const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };\n    const dayOptions = { weekday: 'short' };\n    const timeString = new Intl.DateTimeFormat('en-US', timeOptions).format(date);\n    const dayString = new Intl.DateTimeFormat('en-US', dayOptions).format(date);\n    const day = date.getDate();\n    const monthAbbreviation = new Intl.DateTimeFormat(\"en-US\", {\n      month: \"short\",\n    }).format(date);\n    const year = date.getFullYear();\n    const dateString = `${day} ${monthAbbreviation} ${year}`;\n    return `${timeString} | ${dayString} | ${dateString}`;\n  };\n\n  const updateReturnMutation = useMutation({\n    mutationFn: (data) => projectsToSalesUpdate(data),\n    onSuccess: (response) => {\n      if (response) {\n        navigate('/sales');\n      } else {\n        toast.error(`Failed to update sendBack to sales. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error updating sendBack to sales:', error);\n      toast.error(`Failed to update sendBack to sales. Please try again.`);\n    }\n  });\n\n  const declinecOrderMutation = useMutation({\n    mutationFn: (data) => projectsOrderDecline(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        toast.success('Order has been successfully declined');\n      } else {\n        toast.error(`Failed to decline the order. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error declining the order:', error);\n      toast.error(`Failed to decline the order. Please try again.`);\n    }\n  });\n\n  const completeMutation = useMutation({\n    mutationFn: (data) => projectsComplete(data),\n    onSuccess: (response) => {\n      if (response) {\n        navigate('/sales');\n        toast.success('Project has been successfully completed');\n      } else {\n        toast.error(`Failed to complete the project. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error completing the project:', error);\n      toast.error(`Failed to complete the project. Please try again.`);\n    }\n  });\n\n  const createInvoiceMutation = useMutation({\n    mutationFn: (data) => createInvoiceById(data),\n    onSuccess: (response) => {\n      if (response) {\n        handleClose();\n        projectCardData(projectId);\n        toast.success('Invoice has been successfully created');\n      } else {\n        toast.error(`Failed to create the invoice. Please try again.`);\n      }\n    },\n    onError: (error) => {\n      console.error('Error creating the invoice:', error);\n      toast.error(`Failed to create the invoice. Please try again.`);\n    }\n  });\n\n  const createInvoice = () => {\n    createInvoiceMutation.mutate(projectId);\n  };\n\n  const declinecOrder = () => {\n    declinecOrderMutation.mutate(projectId);\n  };\n\n  const canReturn = (isReturn) => {\n    if (isReturn) return;\n    updateReturnMutation.mutate(projectId);\n  };\n\n  useEffect(() => {\n    if (filteredHistoryOptions?.length) {\n      let histories = cardData?.history?.filter((history) => filteredHistoryOptions.includes(history.type));\n      setFilteredHistory(histories || []);\n    } else {\n      setFilteredHistory(cardData?.history);\n    }\n  }, [filteredHistoryOptions, cardData?.history]);\n\n  useEffect(() => {\n    if (cardData) {\n      let expensesWithType = cardData?.expenses.map(item => ({ ...item, type: 'expense' }));\n      let jobsWithType = cardData?.jobs.map(item => ({ ...item, type: 'job' }));\n      let mix = [...expensesWithType, ...jobsWithType];\n      let sortedMix = mix.sort((a, b) => parseInt(b.created) - parseInt(a.created));\n      setExpenseJobsMapping(sortedMix);\n      setFilteredHistory(cardData?.history || []);\n    }\n  }, [cardData]);\n\n  useEffect(() => {\n    if (projectId && viewShow) projectCardData(projectId);\n  }, [projectId, viewShow]);\n\n  const parseEmailData = (text) => {\n    const lines = text.split(\"\\n\");\n\n    // Extract and clean the subject\n    const subject = lines.find((line) => line.startsWith(\"Subject:\"))?.replace(\"Subject: \", \"\") || \"\";\n\n    // Extract and clean the recipients\n    const rawRecipients = lines.find((line) => line?.startsWith(\"Recipient(s):\"))?.replace(\"Recipient(s): \", \"\") || [];\n    const recipients = JSON.parse(rawRecipients?.length && rawRecipients?.replace(/'/g, '\"')); // Replace single quotes with double quotes\n\n    // Extract the body\n    const body = text.split(\"Body:\")[1]?.trim();\n\n    return { subject, recipients, body };\n  };\n\n  const EmailComponent = ({ emailData }) => {\n    const [showFullBody, setShowFullBody] = useState(false);\n    const [isOverflowing, setIsOverflowing] = useState(false);\n\n    const emailBodyRef = useRef(null); // Ref to measure the height of the content\n\n    const email = parseEmailData(emailData);\n\n    // Process email body lines, splitting by paragraph or newlines\n    const bodyLines = email.body?.split(/<\\/p>\\s*<p>|<br\\s*\\/?>|\\n/)?.map(\n      (line, idx) => `<p key=${idx}>${line?.trim()}</p>`\n    );\n\n    const visibleBody = bodyLines?.join(\"\");\n\n    useEffect(() => {\n      if (emailBodyRef.current) {\n        const bodyHeight = emailBodyRef.current.scrollHeight;\n        setIsOverflowing(bodyHeight > 90); // Check if the content exceeds 100px\n      }\n    }, [visibleBody]);\n\n    return (\n      <div>\n        <ul className=\"d-flex flex-column align-items-start\">\n          <li className=\"font-12\">\n            <strong className=\"font-12\">Subject:</strong>&nbsp; {email.subject}\n          </li>\n          <li>\n            <strong className=\"font-12\">Recipients:</strong>&nbsp;\n            <ul>\n              {email?.recipients?.length && email?.recipients?.map((recipient, index) => (\n                <li className=\"font-12\" key={index}>\n                  {recipient}\n                </li>\n              ))}\n            </ul>\n          </li>\n        </ul>\n        <div>\n          <div\n            ref={emailBodyRef}\n            style={{\n              maxHeight: showFullBody ? \"none\" : \"87px\",\n              overflowY: \"hidden\",\n              overflowX: showFullBody ? \"auto\" : \"hidden\"\n            }}\n            dangerouslySetInnerHTML={{ __html: visibleBody }}\n          />\n          {isOverflowing && (\n            <button\n              className=\"text-button font-12 px-0\"\n              onClick={() => setShowFullBody(!showFullBody)}\n            >\n              {showFullBody ? \"Show Less\" : \"Load More\"}\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n\n  return (\n    <>\n      <Modal\n        show={viewShow}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n        className=\"projectCardModel\"\n        onHide={handleClose}\n        animation={false}\n      >\n        <Modal.Header className=\"mb-0 pb-0 justify-content-between \">\n          <div className=\"modelHeader\" style={{ flex: '1', maxWidth: \"calc(100% - 350px)\" }}>\n            <ul className='d-flex align-items-center'>\n              <li className='me-1 d-flex align-items-center'>\n                <strong className='dollorIcon' style={{\n                  background: !cardData?.invoice_created ? '#F9FAFB'\n                    : cardData?.payment_status === 'paid' ? '#F2FDEC'\n                      : cardData?.payment_status === 'not_paid' ? \"#FEF3F2\"\n                        : \"#FFFAEB\"\n                }}><CurrencyDollar size={13} color={\n                  !cardData?.invoice_created ? '#667085'\n                    : cardData?.payment_status === 'paid' ? '#17B26A'\n                      : cardData?.payment_status === 'not_paid' ? \"#F04438\"\n                        : \"#B54708\"\n                } /></strong>\n                {\n                  isFetching ? (\n                    <Placeholder as=\"span\" animation=\"wave\" className=\"ms-2 me-2\">\n                      <Placeholder xs={12} bg=\"secondary\" size='md' style={{ width: '120px' }} />\n                    </Placeholder>\n                  ) : <span className='cardId text-nowrap'>{cardData?.number} &nbsp;</span>\n                }\n              </li>\n              <li className='refrencesTag mt-1' style={{ width: \"calc(100% - 120px)\" }}>\n                Reference:&nbsp;\n                {isFetching ? (\n                  <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '120px', height: '20px' }} />\n                  </Placeholder>\n                ) : isEditingReference ? (\n                  <input\n                    type=\"text\"\n                    value={editedReference}\n                    onChange={handleReferenceChange}\n                    onBlur={handleSaveReference}\n                    autoFocus\n                    className='border rounded w-100'\n                    style={{ maxWidth: \"calc(100% - 120px)\" }}\n                  />\n                ) : (\n                  <>\n                    {\n                      referencemutation.isPending\n                        ? <div className=\"dot-flashing ms-5 mt-1\"></div>\n                        : <>\n                          <small className='ellipsis-width' style={{ color: '#1D2939', fontSize: '16px', maxWidth: \"calc(100% - 220px)\" }}> {cardData?.reference}</small>\n                          <span> <PencilSquare size={16} color='#106B99' onClick={handleEditReference} style={{ cursor: 'pointer' }} /></span>\n                        </>\n                    }\n                  </>\n                )}\n              </li>\n            </ul>\n          </div>\n          <div className='d-flex align-items-center' style={{ gap: '15px' }}>\n            <Link to={`/api/v1/project-card/${projectId}/pdf/`} target='_blank'>\n              <Button variant=\"light\" className='rounded-circle px-2' title='Project Card'><Postcard color=\"#344054\" size={20} /></Button>\n            </Link>\n\n            <Link to={`/api/v1/sales/${projectId}/label/`} target='_blank' title='Label'>\n              <Button variant=\"light\" className='rounded-circle px-2'><Tag color=\"#344054\" size={20} /></Button>\n            </Link>\n\n            <div className='selectButStatus'>\n              {\n                isFetching ? (\n                  <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                    <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '120px', height: '20px' }} />\n                  </Placeholder>\n                ) : (<SelectStatus projectId={projectId} statusOptions={statusOptions} custom_status={cardData?.custom_status} />)\n              }\n            </div>\n            <button className='CustonCloseModal' onClick={handleClose}>\n              <X size={24} color='#667085' />\n            </button>\n          </div>\n        </Modal.Header>\n        <Modal.Body className='p-0'>\n          <div className=\"ContactModel\">\n            <Row className=\"text-left mt-0 projectCardMain\">\n              <Col sm={6} className='orderDiscription'>\n                <strong>Order Description</strong>\n                <div className='customScrollBar'>\n                  {\n                    isFetching ? (<>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                      <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0 mt-1\">\n                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '12px' }} />\n                      </Placeholder>\n                    </>\n                    ) : (\n                      <ul>\n                        {cardData?.calculator_descriptions?.length ? (\n                          cardData.calculator_descriptions.map(({ description }, index) => (\n                            <li key={index}>- {description}</li>\n                          ))\n                        ) : (\n                          <li>No Description available</li>\n                        )}\n                      </ul>\n                    )\n                  }\n                </div>\n                <div className='currentJobsTable'>\n                  <h5>Current Jobs / Expense for this order</h5>\n                  <Table responsive>\n                    <thead style={{ position: \"sticky\", top: \"0px\", zIndex: 9 }}>\n                      <tr>\n                        <th>#</th>\n                        <th>Reference</th>\n                        <th>Supplier</th>\n                        <th>Estimate/Total</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {\n                        isFetching ? (\n                          <>\n                            <tr>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '80%', height: '14px', position: 'relative', left: '-10px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '80%', height: '14px', position: 'relative', left: '-10px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '80%', height: '14px', position: 'relative', left: '-10px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                            </tr>\n                            <tr>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '80%', height: '14px', position: 'relative', left: '-10px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                              <td>\n                                <Placeholder as=\"p\" animation=\"wave\" className=\"mb-0\">\n                                  <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size='sm' style={{ width: '100%', height: '14px' }} />\n                                </Placeholder>\n                              </td>\n                            </tr>\n                          </>\n                        ) : expenseJobsMapping?.length ? (\n                          expenseJobsMapping.map((data, index) => (\n                            <tr key={data.number || `je-${index}`}>\n                              <td>{data?.number || \"-\"}</td>\n                              <td>\n                                <div className='ellipsis-width'>\n                                  {data?.type === 'job'\n                                    ? data?.reference || \"-\"\n                                    : data?.invoice_reference || \"-\"}\n                                </div>\n                              </td>\n                              <td>\n                                <OverlayTrigger\n                                  key={'top'}\n                                  placement={'top'}\n                                  overlay={\n                                    <Tooltip className='TooltipOverlay' id={`tooltip-${top}`}>\n                                      {data?.supplier?.name || \"Job\"}\n                                    </Tooltip>\n                                  }\n                                >\n                                  <div className='mx-auto ps-2' title={data?.supplier?.name} style={{ width: 'fit-content' }}>\n                                    {\n                                      data?.type === 'job'\n                                        ? <Github size={24} color='#101828' />\n                                        : (<ImageAvatar has_photo={data?.supplier?.has_photo} photo={data?.supplier?.photo} is_business={true} />)\n                                    }\n                                  </div>\n                                </OverlayTrigger>\n                              </td>\n                              <td>${formatAUD(data?.total) || \"-\"}</td>\n                              <td className='status'>\n                                {data?.type === 'job'\n                                  ? <span>{data?.status || \"-\"}</span>\n                                  : <span className={data?.paid ? 'paid' : 'unpaid'}>\n                                    {data?.paid ? 'Paid' : 'Not Paid'}\n                                  </span>}\n                              </td>\n                            </tr>\n                          ))\n                        ) : (\n                          <tr>\n                            <td colSpan={5} className='noDataAvilable text-center'> No history available</td>\n                          </tr>\n                        )}\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n              <Col sm={6} className='projectHistoryCol'>\n                <Row>\n                  <Col className='tabModelMenu d-flex justify-content-between align-items-center p-0' >\n                    <AddNote projectId={projectId} projectCardData={projectCardData} />\n                    <NewTask project={project} reInitialize={reInitialize} projectCardData={() => projectCardData(projectId)} />\n                    <SendSMS projectId={projectId} projectCardData={() => projectCardData(projectId)} />\n                    <ComposeEmail clientId={cardData?.client} projectId={projectId} projectCardData={() => projectCardData(projectId)} />\n                  </Col>\n                  <Col className='d-flex justify-content-center align-items-center filter'  >\n                    <ProjectCardFilter setFilteredHistoryOptions={setFilteredHistoryOptions} />\n                  </Col>\n                </Row>\n                <Row className='projectHistoryWrap'>\n                  <Col className='p-0' >\n                    <h3>Project History</h3>\n                    {\n                      isFetching ? (\n                        <>\n                          {Array.from({ length: 10 }, (_, index) => (\n                            <Placeholder\n                              key={`history-key-${index + 1}`}\n                              as=\"p\"\n                              animation=\"wave\"\n                              className={index % 2 === 0 ? \"mb-0 mt-1\" : \"mb-3 mt-1\"}\n                            >\n                              <Placeholder\n                                xs={12}\n                                bg=\"secondary\"\n                                className=\"rounded-0\"\n                                size='sm'\n                                style={{\n                                  width: index % 2 === 0 ? '200px' : '90%',\n                                  height: index % 2 === 0 ? '15px' : '10px'\n                                }}\n                              />\n                            </Placeholder>\n                          ))}\n                        </>\n                      ) : (\n                        <div className='projectHistoryScroll'>\n                          {filteredHistory?.length ? (\n                            filteredHistory.map(({ id, type, text, title, created, manager, links }, index) => (\n                              <div className='projectHistorygroup' key={`history-${id || index}`}>\n                                <ul>\n                                  <li>\n                                    {type === \"quote\" ? (\n                                      <>\n                                        <div className='d-flex align-items-center'>\n                                          <FileEarmark size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Quote &nbsp;</strong>\n                                          &nbsp;{links?.quote_pdf && <Link to={`${links?.quote_pdf || \"#\"}`} target='_blank'><FilePdf color='#FF0000' size={14} /></Link>}\n                                          &nbsp;&nbsp;{projectId && title === \"Quote Created\" && <Link to={`/quote/${projectId}`} target='_blank'><Link45deg color='#3366CC' size={16} /></Link>}\n                                        </div>\n                                      </>\n\n                                    ) : type === \"task\" ? (\n                                      <>\n                                        <>\n                                          <Check2Circle size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Task</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"order\" ? (\n                                      <>\n                                        <>\n                                          <Check2Circle size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Order</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"note\" ? (\n                                      <>\n                                        <>\n                                          <CardChecklist size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Note</strong>\n                                        </>\n                                      </>\n                                    ) : type === \"tag\" ? (\n                                      <>\n                                        <>\n                                          <ListCheck size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Tag</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"invoice\" ? (\n                                      <>\n                                        <div className='d-flex align-items-center'>\n                                          <FileText size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Invoice&nbsp;</strong>\n                                          &nbsp;{links?.invoice_pdf && <Link to={`${links?.invoice_pdf || \"#\"}`} target='_blank'><FilePdf color='#FF0000' size={14} /></Link>}\n                                          &nbsp;&nbsp;{projectId && title === \"Invoice Created\" && <Link to={`/invoice/${projectId}`} target='_blank'><Link45deg color='#3366CC' size={16} /></Link>}\n                                        </div>\n                                      </>\n\n                                    ) : type === \"billing\" ? (\n                                      <>\n                                        <>\n                                          <PhoneVibrate size={16} color=\"#1AB2FF\" />{\" \"}\n                                          <strong>&nbsp; Billing</strong>\n                                        </>\n                                      </>\n\n                                    ) : type === \"email\" ? (<>\n                                      <Envelope size={16} color=\"#1AB2FF\" />{\" \"}\n                                      <strong>&nbsp; Email</strong>\n                                    </>) : (\n                                      ''\n                                    )}\n                                  </li>\n\n                                </ul>\n                                <h5 style={{ whiteSpace: \"pre-line\" }}>{type !== \"email\" && title || \"\"}</h5>\n                                {\n                                  type === \"email\" ? <EmailComponent emailData={text} />\n                                    :\n                                    <h6 style={{ whiteSpace: \"pre-line\" }} dangerouslySetInnerHTML={{ __html: text }} />\n                                }\n                                <p>{formatTimestamp(created)} by {manager}</p>\n                              </div>\n                            ))\n                          ) : (\n                            <p>No history available</p>\n                          )}\n                        </div>\n                      )\n                    }\n\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n            <Row className='projectCardButWrap'>\n              <Col>\n                <ScheduleUpdate key={projectId} projectId={projectId} projectCardData={projectCardData} isFetching={isFetching} startDate={+cardData?.booking_start} endDate={+cardData?.booking_end} />\n                <Link to={`/expenses?projectId=${project?.value}`}><Button className='expense expActive'>Create Expense <img src={ExpenseIcon} alt=\"Expense\" /></Button></Link>\n                {/* <Button className='createPo poActive'>Create PO  <img src={CreatePoIcon} alt=\"CreatePoIcon\" /></Button> */}\n                {\n                  profileData?.has_work_subscription &&\n                  <Button className='createJob jobActive'>Create a Job <img src={Briefcase} alt=\"briefcase\" /></Button>\n                }\n                <GoogleReviewEmail clientId={cardData?.client} projectId={projectId} />\n                {/* <FilesModel /> */}\n                <SendToCalendar projectId={projectId} project={cardData} projectCardData={projectCardData} />\n              </Col>\n            </Row>\n            <Row className='projectCardCalculation'>\n              <Col className='proCostSale projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Cost Of Sale</h5>\n                  <p>${formatAUD(cardData?.cost_of_sale)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <PlusCircle size={20} color='#344054' />\n                </div>\n              </Col>\n              <Col className='proLabour projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Labour</h5>\n                  <p>${formatAUD(cardData?.labor_expenses)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <PlusCircle size={20} color='#344054' />\n                </div>\n              </Col>\n              <Col className='proOperatingExpense projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Operating Expense</h5>\n                  <p>${formatAUD(cardData?.operating_expense)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n                    <path d=\"M4.16675 8H15.8334M4.16675 13H15.8334\" stroke=\"#344054\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                  </svg>\n                </div>\n              </Col>\n              <Col className='proRealCost projectColBg'>\n                <div style={{ position: 'relative', left: '20px' }}>\n                  <h5>Real Cost</h5>\n                  <p>${formatAUD(formattedRealCost)}</p>\n                </div>\n                <div className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', borderRadius: '40px', border: '1px solid #D0D5DD', background: '#fff', boxShadow: '0px 1px 2px 0px rgba(16, 24, 40, 0.05)', position: 'relative', left: '42px' }}>\n                  <span className='font-14'>VS</span>\n                </div>\n              </Col>\n              <Col className='proBuget projectColBg'>\n                <div>\n                  <h5>Budget</h5>\n                  <p>${formatAUD(cardData?.budget)}</p>\n                </div>\n              </Col>\n            </Row>\n            <Row className='projectCardactionBut'>\n              <Col className='actionLeftSide'>\n                <Button onClick={declinecOrder} disabled={!cardData?.can_be_declined || declinecOrderMutation.isPending} className='declineAction'>\n                  <XCircle size={20} color='#912018' /> Decline Order\n                  {\n                    declinecOrderMutation.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n                <Button disabled={isDuplicating} className='duplicateAction' onClick={duplicateSale}>\n                  <Files size={20} color='#0A4766' className='me-1' />\n                  <span style={{ position: 'relative', top: '2px' }}>Duplicate</span> {isDuplicating && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '6px' }} />}\n                </Button>\n                <Button disabled={!cardData?.can_be_return} onClick={() => canReturn(!cardData?.can_be_return)} className='sendBackAction'>\n                  <Reply size={20} color='#344054' opacity={!cardData?.can_be_return ? .5 : 1} />\n                  Send Back to Sales\n                  {\n                    updateReturnMutation.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n              </Col>\n              <Col className='actionRightSide'>\n                <InvoiceCreate clientId={cardData?.client} isCreated={cardData?.invoice_created} projectId={projectId} isLoading={createInvoiceMutation?.isPending} create={() => createInvoice(projectId)} projectCardData={() => projectCardData(projectId)} />\n\n                {/* <Button className='InvoiceAction InvoiceActive me-3' >\n                  Invoice  <img src={InvoicesIcon} alt=\"Invoices\" />\n                  {createInvoiceMutation?.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />}\n                </Button> */}\n\n                {/* <Button className='ProgressAction'>Progress Invoice  <img src={InvoicesIcon} alt=\"Invoices\" /></Button> */}\n\n                <Button onClick={() => completeMutation.mutate(projectId)} disabled={!cardData?.can_be_completed} className='CompleteActionBut'>\n                  Complete & Archive\n                  {\n                    completeMutation?.isPending && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '2px', left: '8px' }} />\n                  }\n                </Button>\n              </Col>\n            </Row>\n            <Row className='projectBreakdown px-0 pb-0'>\n              <Col sm={12} className='px-0'>\n                <Button className='mb-2' onClick={() => setShowCostBreakdown(!showCostBreakdown)}>{!showCostBreakdown ? 'Show' : 'Hide'} Cost breakdown</Button>\n                {\n                  showCostBreakdown &&\n                  <>\n                    <DataTable value={cardData?.calculations || []} showGridlines className=\"border-top\">\n                      <Column field=\"id\" header=\"Order\" bodyClassName='text-center' headerClassName='text-center' style={{ width: '60px' }} body={(_, options) => options.rowIndex + 1}></Column>\n                      <Column field=\"subindex\" header=\"Department\" style={{ minWidth: '192px' }} body={(rowData) => <div className=\"ellipsis-width\" title={rowData.subindex} style={{ maxWidth: '192px' }}>{rowData.subindex}</div>}></Column>\n                      <Column field=\"description\" header=\"Description\"\n                        body={(rowData) =>\n                          <div className=\"ellipsis-width\" title={rowData.description} style={{ maxWidth: '350px' }}>{rowData.description}</div>}\n                        style={{ width: '100%' }}\n                      ></Column>\n                      <Column field=\"cost\" header=\"Cost\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.cost)}`}></Column>\n                      <Column field=\"profit_type_value\" header=\"Markup/Margin\" body={(rowData) => `${rowData.profit_type_value} ${rowData.profit_type === \"AMN\" ? \"AMT $\" : rowData.profit_type === \"MRG\" ? \"MRG %\" : \"MRK %\"}`} style={{ width: '100%' }}></Column>\n                      <Column field=\"unit_price\" header=\"Unit Price\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.unit_price)}`}></Column>\n                      <Column field=\"quantity\" header=\"Qty/Unit\" style={{ width: '100%' }}></Column>\n                      <Column field=\"discount\" header=\"Discount\" style={{ width: '100%' }} body={(rowData) => `${rowData.discount}%`}></Column>\n                      <Column field=\"total\" header=\"Amount\" style={{ width: '100%' }} body={(rowData) => `$${formatAUD(rowData.total)}`}></Column>\n                    </DataTable>\n                    <div className='w-100 d-flex align-items-center justify-content-end gap-4' style={{ background: '#EBF8FF', padding: '8px 24px 8px 40px' }}>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Sub Total</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.sub_total)}</p>\n                      </div>\n                      <div>\n                        <PlusCircle size={20} color='#106B99' />\n                      </div>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Tax</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.gst)}</p>\n                      </div>\n                      <div>\n                        <div>\n                          <PauseCircle size={20} color='#106B99' style={{ transform: 'rotate(90deg)' }}/>\n                        </div>\n                      </div>\n                      <div className='d-flex flex-column align-items-end'>\n                        <p className='font-16 mb-0' style={{ color: '#106B99', fontWeight: 400 }}>Total Invoice Amount</p>\n                        <p className='font-18 mb-0' style={{ color: '#106B99', fontWeight: 600 }}>${formatAUD(cardData?.total)}</p>\n                      </div>\n                    </div>\n                  </>\n                }\n              </Col>\n            </Row>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default ProjectCardModel;","import { useRef, useState } from 'react';\nimport { InputGroup } from 'react-bootstrap';\nimport { ChevronDown, Person, QuestionCircle } from 'react-bootstrap-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { Dropdown } from 'primereact/dropdown';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport SelectDate from './select-date';\nimport { getMobileUserList, getUserList } from '../../../../../APIs/task-api';\nimport { fetchTasksDelete, fetchTasksUpdate } from '../../../../../APIs/TasksApi';\nimport taskEditIcon from '../../../../../assets/images/icon/taskEditIcon.svg';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\n\nconst dateFormat = (dateInMiliSec) => {\n    if (!dateInMiliSec) return \"-\";\n    const date = new Date(1000 * +dateInMiliSec);\n    return date;\n};\n\nconst EditTask = ({ show, setShow, data, reInitialize }) => {\n    const dropdownRef = useRef(null);\n    const taskId = data?.id;\n    const project = { value: data?.project?.id, reference: data?.project?.reference, number: data?.project?.number };\n    const [taskTitle, setTaskTitle] = useState(data.title || \"\");\n    const [description, setDescription] = useState(data.description || \"\");\n    const [user, setUser] = useState(data?.user?.id || null);\n    const [date, setDate] = useState({ startDate: dateFormat(data.from_date), endDate: dateFormat(data.to_date) });\n    const [errors, setErrors] = useState({\n        taskTitle: false,\n        description: false,\n        user: false,\n        date: false\n    });\n\n    const mutation = useMutation({\n        mutationFn: (data) => fetchTasksUpdate(data, taskId),\n        onSuccess: () => {\n            setShow(false);\n            reInitialize();\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n        }\n    });\n\n    const deleteMutation = useMutation({\n        mutationFn: () => fetchTasksDelete(taskId),\n        onSuccess: () => {\n            console.log('Delete success');\n            setShow(false);\n            reInitialize();\n        },\n        onError: (error) => {\n            console.error('Error creating task:', error);\n        }\n    });\n\n    const handleDelete = () => {\n        deleteMutation.mutate();\n    };\n\n    const handleSubmit = () => {\n        const newErrors = {\n            taskTitle: !taskTitle,\n            description: !description,\n            // user: !user,\n            date: !date\n        };\n        setErrors(newErrors);\n\n        if (!newErrors.taskTitle && !newErrors.description && !newErrors.user && !newErrors.date) {\n            console.log('Form submitted with:', { taskTitle, description, project, user, date });\n            mutation.mutate({\n                title: taskTitle,\n                description: description,\n                project: project.value,\n                from_date: date.startDate,\n                to_date: date.endDate,\n                ...(user && { user: user }),\n            });\n        }\n    };\n    const handleClose = () => setShow(false);\n    const usersList = useQuery({ queryKey: ['getUserList'], queryFn: getUserList });\n    const mobileUsersList = useQuery({ queryKey: ['getMobileUserList'], queryFn: getMobileUserList });\n\n    return (\n        <>\n            <Form onSubmit={handleSubmit}>\n                <Modal show={show} centered onHide={handleClose} className='task-form'>\n                    <Modal.Header closeButton>\n                        <Modal.Title>\n                            <img src={taskEditIcon} alt='task-details' style={{ width: '48px', height: '48px' }} />\n                            <span className='modal-task-title'>Edit Task</span>\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n\n                        <Form.Group className=\"mb-2\">\n                            <Form.Label>Project Task</Form.Label>\n                            <InputGroup>\n                                <Form.Select disabled>\n                                    <option value={project?.value}>{project?.reference} ({project?.number})</option>\n                                </Form.Select>\n                                <InputGroup.Text>\n                                    <ChevronDown />\n                                </InputGroup.Text>\n                            </InputGroup>\n                            {!project && <Form.Text className=\"text-danger\">Project task is required</Form.Text>}\n                        </Form.Group>\n\n                        <Form.Group className=\"mb-3\">\n                            <Form.Label>Task Title</Form.Label>\n                            <InputGroup>\n                                <Form.Control\n                                    required\n                                    type=\"text\"\n                                    placeholder=\"Enter task title\"\n                                    value={taskTitle}\n                                    onChange={(e) => setTaskTitle(e.target.value)}\n                                />\n                                <InputGroup.Text>\n                                    <QuestionCircle />\n                                </InputGroup.Text>\n                            </InputGroup>\n                            {errors.taskTitle && <Form.Text className=\"text-danger\">Task title is required</Form.Text>}\n                        </Form.Group>\n\n                        <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n                            <Form.Label>Description</Form.Label>\n                            <Form.Control\n                                as=\"textarea\"\n                                rows={3}\n                                placeholder='Enter a description...'\n                                value={description}\n                                onChange={(e) => setDescription(e.target.value)}\n                                required\n                            />\n                            {errors.description && <Form.Text className=\"text-danger\">Description is required</Form.Text>}\n                        </Form.Group>\n\n                    </Modal.Body>\n                    <div className='d-flex align-items-center' style={{\n                        gap: '20px', borderTop: '1px solid #eaecf0',\n                        padding: \"12px 30px 8px 20px\"\n                    }}>\n                        {!user && <Person\n                            color={dropdownRef.current?.panel?.element?.offsetParent ? \"#1AB2FF\" : \"#475467\"}\n                            size={22} style={{ position: 'relative', left: '10px', zIndex: 1 }}\n                            onClick={() => dropdownRef.current?.show()} className='me-3 cursor-pointer' />\n                        }\n                        <Dropdown\n                            ref={dropdownRef}\n                            options={[\n                                {\n                                    label: 'Desktop User',\n                                    items: usersList?.data?.users?.filter((user) => user?.is_active)?.map((user) => ({\n                                        value: user?.id,\n                                        label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                        photo: user?.photo || \"\",\n                                        has_photo: user?.has_photo\n                                    })) || []\n                                },\n                                {\n                                    label: 'Mobile User',\n                                    items: mobileUsersList?.data?.users?.filter((user) => user?.status !== 'disconnected')?.map((user) => ({\n                                        value: user?.id,\n                                        label: `${user?.first_name} ${user?.last_name}` || user?.first_name || \"-\",\n                                        photo: user?.photo || \"\",\n                                        has_photo: user?.has_photo\n                                    })) || []\n                                }\n                            ]}\n                            onChange={(e) => {\n                                setUser(e.value);\n                            }}\n                            valueTemplate={(option) => {\n                                return <div className='d-flex gap-2 align-items-center'>\n                                    <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '0px solid #dedede' }}>\n                                        <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                    </div>\n                                    {option?.label}\n                                </div>;\n                            }}\n                            itemTemplate={(option) => {\n                                return (\n                                    <div className='d-flex gap-2 align-items-center'>\n                                        <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '50%', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                            <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={false} size={17} />\n                                        </div>\n                                        {option?.label}\n                                    </div>\n                                );\n                            }}\n                            className='outline-none border-0 p-0'\n                            style={{\n                                width: !user ? '0px' : 'fit-content',\n                                height: !user ? '0px' : '46px',\n                                zIndex: !user ? '0' : '1',\n                                position: 'relative',\n                                left: !user ? '-60px' : '0px',\n                                top: !user ? '-15px' : '0px',\n                            }}\n                            value={user}\n                            dropdownIcon={<></>}\n                            collapseIcon={<></>}\n                            placeholder=\"Select project\"\n                            filter\n                            optionGroupLabel=\"label\"\n                            optionGroupChildren=\"items\"\n                        />\n                        <SelectDate dateRange={date} setDateRange={setDate} />\n                    </div>\n                    <div className='d-flex align-items-center' style={{ gap: '16px', padding: \"0 30px 8px 30px\" }}>\n                        {errors.user && <Form.Text className=\"text-danger\">User is required</Form.Text>}\n                        {errors.date && <Form.Text className=\"text-danger\">Date is required</Form.Text>}\n                    </div>\n                    <Modal.Footer className='d-flex justify-content-between'>\n                        <Button type='button' className='delete-button' onClick={handleDelete}>{deleteMutation.isPending ? 'Loading...' : 'Delete Task'}</Button>\n                        <Button type='button' className='save-button' onClick={handleSubmit}>{mutation.isPending ? 'Loading...' : 'Save Task'}</Button>\n                    </Modal.Footer>\n                </Modal>\n            </Form>\n        </>\n    );\n};\n\nexport default EditTask;","import { useEffect, useState } from 'react';\nimport { ArrowRight } from 'react-bootstrap-icons';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Placeholder from 'react-bootstrap/Placeholder';\nimport EditTask from './edit-task';\nimport { fetchTasksRead, TaskCompleteJob } from '../../../../../APIs/TasksApi';\nimport placeholderUser from '../../../../../assets/images/Avatar.svg';\nimport taskdetails from '../../../../../assets/images/task-details.svg';\n\nconst TaskLoadingView = () => {\n  return (\n    <>\n      <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n        <Placeholder xs={12} bg=\"secondary\" size='lg' />\n      </Placeholder>\n      <Placeholder as=\"p\" animation=\"wave\">\n        <Placeholder xs={12} bg=\"secondary\" style={{ height: '80px' }} size='lg' />\n      </Placeholder>\n      <table className='task-deatils-table w-100'>\n        <tbody>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n          <tr style={{ marginBottom: '12px' }}>\n            <td style={{ width: '122px', paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n            <td style={{ paddingBottom: '12px' }}>\n              <Placeholder as=\"p\" animation=\"wave\" style={{ marginBottom: '4px' }}>\n                <Placeholder xs={12} bg=\"secondary\" />\n              </Placeholder>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n    </>\n  );\n};\n\nconst ViewTask = ({ view, setView, taskId, setTaskId, reInitialize }) => {\n  const [showEditModal, setShowEditModal] = useState(false);\n  const { isFetching: isLoading, data } = useQuery({\n    queryKey: ['taskId', taskId],\n    queryFn: () => fetchTasksRead(taskId),\n    enabled: !!taskId,\n    retry: 1,\n  });\n  const mutation = useMutation({\n    mutationFn: (updateData) => TaskCompleteJob(taskId, updateData),\n    onSuccess: () => {\n      handleClose();\n      setTaskId(null);\n      reInitialize();\n    },\n    onError: (error) => {\n      console.error('Error updating task:', error);\n    }\n  });\n  const handleInComplete = () => mutation.mutate(false);\n  const handleComplete = () => mutation.mutate(true);\n  const handleClose = () => setView(false);\n  const dateFormat = (dateInMiliSec) => {\n    if (!dateInMiliSec) return \"-\";\n\n    const options = { year: 'numeric', month: 'short', day: 'numeric' };\n    const date = new Date(1000 * +dateInMiliSec);\n    const formattedDate = date.toLocaleDateString('en-US', options)?.replace(/,/g, '');\n    return formattedDate;\n  };\n\n  function handleEdit() {\n    setShowEditModal(true);\n    handleClose();\n  }\n\n  useEffect(() => {\n    if (!showEditModal) setTaskId(null);\n  }, [showEditModal]);\n\n  return (\n    <>\n      {/* View Task Modal container */}\n      <Modal show={view} centered onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            <img src={taskdetails} alt='task-details' style={{ width: '48px', height: '48px' }} />\n            <span className='modal-task-title'>Task Details</span>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {isLoading ? <TaskLoadingView />\n            : (\n              <>\n                <p className='task-title'>{data?.title || \"-\"}</p>\n                <p className='task-description'>{data?.description || \"-\"}</p>\n\n                <table className='task-deatils-table'>\n                  <tbody>\n                    <tr style={{ marginBottom: '12px' }}>\n                      <td style={{ width: '122px', paddingBottom: '12px' }}>Project Task</td>\n                      <td style={{ paddingBottom: '12px' }}>{data?.project && data.project.reference ? data.project.reference : '-'}</td>\n                    </tr>\n                    <tr>\n                      <td style={{ width: '122px', paddingBottom: '12px' }}>ID</td>\n                      <td style={{ paddingBottom: '12px' }}>{data?.number || \"-\"}</td>\n                    </tr>\n                    <tr>\n                      <td style={{ width: '122px', paddingBottom: '12px' }}>Assigned</td>\n                      <td style={{ paddingBottom: '12px', display: 'flex', alignItems: 'center', gap: '4px' }}>\n                        <img src={data?.user?.has_photo ? data?.user.photo : placeholderUser} alt='img-assigned' style={{ width: '24px', height: '24px', borderRadius: '50%' }} />\n                        <span>{data?.user?.full_name || \"-\"}</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td style={{ width: '122px', paddingBottom: '12px' }}>Date</td>\n                      <td style={{ paddingBottom: '12px', display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <span>{dateFormat(data?.from_date)}</span>\n                        <ArrowRight size={20} color=\"#475467\" />\n                        <span>{dateFormat(data?.to_date)}</span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </>\n            )\n          }\n        </Modal.Body>\n        <Modal.Footer>\n          {isLoading ? <>\n            <Placeholder as=\"p\" animation=\"wave\">\n              <Placeholder xs={12} bg=\"secondary\" style={{ height: '46px', width: '115px', borderRadius: '4px' }} size='lg' />\n            </Placeholder>\n            <Placeholder as=\"p\" animation=\"wave\">\n              <Placeholder xs={12} bg=\"secondary\" style={{ height: '46px', width: '125px', borderRadius: '4px' }} size='lg' />\n            </Placeholder>\n          </> :\n            <>\n              <Button className='edit-button' onClick={handleEdit}>Edit Task</Button>\n              {\n                data?.finished\n                  ?\n                  <Button className='incomplete-button' onClick={handleInComplete}>\n                    {\n                      mutation.isPending ? (\n                        <>\n                          Loading...\n                        </>\n                      ) : <>\n                        Incomplete\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n                          <path d=\"M20 10.5C20 16.0228 15.5228 20.5 10 20.5C4.47715 20.5 0 16.0228 0 10.5C0 4.97715 4.47715 0.5 10 0.5C15.5228 0.5 20 4.97715 20 10.5ZM15.0379 6.71209C14.6718 6.34597 14.0782 6.34597 13.7121 6.71209C13.7032 6.72093 13.6949 6.73029 13.6872 6.74013L9.34674 12.2709L6.72985 9.65403C6.36373 9.28791 5.77014 9.28791 5.40402 9.65403C5.0379 10.0201 5.0379 10.6137 5.40402 10.9799L8.71208 14.2879C9.0782 14.654 9.67179 14.654 10.0379 14.2879C10.0461 14.2798 10.0538 14.2712 10.061 14.2622L15.0512 8.02434C15.404 7.65727 15.3995 7.07371 15.0379 6.71209Z\" fill=\"#F04438\" />\n                        </svg>\n                      </>\n                    }\n                  </Button>\n                  :\n                  <Button className='complete-button' onClick={handleComplete}>\n                    {\n                      mutation.isPending ? (\n                        <>\n                          Loading...\n                        </>\n                      ) : <>\n                        Complete\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\">\n                          <path d=\"M20 10.5C20 16.0228 15.5228 20.5 10 20.5C4.47715 20.5 0 16.0228 0 10.5C0 4.97715 4.47715 0.5 10 0.5C15.5228 0.5 20 4.97715 20 10.5ZM15.0379 6.71209C14.6718 6.34597 14.0782 6.34597 13.7121 6.71209C13.7032 6.72093 13.6949 6.73029 13.6872 6.74013L9.34674 12.2709L6.72985 9.65403C6.36373 9.28791 5.77014 9.28791 5.40402 9.65403C5.0379 10.0201 5.0379 10.6137 5.40402 10.9799L8.71208 14.2879C9.0782 14.654 9.67179 14.654 10.0379 14.2879C10.0461 14.2798 10.0538 14.2712 10.061 14.2622L15.0512 8.02434C15.404 7.65727 15.3995 7.07371 15.0379 6.71209Z\" fill=\"#17B26A\" />\n                        </svg>\n                      </>\n                    }\n                  </Button>\n              }\n            </>\n          }\n        </Modal.Footer>\n      </Modal>\n\n      {/* Edit Task Modal container */}\n      {\n        data && <EditTask key={showEditModal} show={showEditModal} setShow={setShowEditModal} data={data} reInitialize={reInitialize} />\n      }\n\n    </>\n  );\n};\n\nexport default ViewTask;","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Button, Dropdown, Spinner } from \"react-bootstrap\";\nimport clsx from \"clsx\";\nimport { initDaypilot, reInitializeData } from \"./utils\";\nimport { getManagement } from \"../../../../../APIs/management-api\";\nimport { ProjectStatusesList } from \"../../../../../APIs/SettingsGeneral\";\nimport { useAuth } from \"../../../../../app/providers/auth-provider\";\nimport { useTrialHeight } from \"../../../../../app/providers/trial-height-provider\";\nimport CreateJob from \"../../../../Work/features/create-job/create-job\";\nimport ProjectCardModel from \"../project-card/project-card-model\";\nimport CreateTask from \"../task/create-task\";\nimport ViewTask from \"../task/view-task\";\n\n\nconst CALENDAR_ID = \"calender\";\nfunction EventScheduler() {\n  const { session } = useAuth();\n  const hasWorkSubscription = session?.has_work_subscription || false;\n  const timeoutRef = useRef(null);\n  const { trialHeight } = useTrialHeight();\n  const [search, setSearch] = useState(\"\");\n  const [management, setManagement] = useState([]);\n  const [show, setShow] = useState(false);\n  const [view, setView] = useState(false);\n  const [viewProjectModel, setViewProjectModel] = useState(false);\n  const [isReinitialize, setIsReinitialize] = useState(false);\n  const [statusOptions, setStatusOptions] = useState([]);\n  const [taskId, setTaskId] = useState(null);\n  const [projectId, setProjectId] = useState(null);\n  const [projectDetails, setProjectDetails] = useState({});\n  const [filterBy, setFilterBy] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"\");\n  const [visible, setVisible] = useState(false);\n  const [jobProjectId, setJobProjectId] = useState(null);\n\n  // show project model from invoice\n  const url = window.location.href;\n  const urlObj = new URL(url);\n  const params = new URLSearchParams(urlObj.search);\n  const unique_id = params.get('unique_id');\n  if (unique_id && !projectId) {\n    setProjectId(unique_id);\n\n    const reference = params.get('reference');\n    const number = params.get('number');\n    setProjectDetails({ number: number || \"\", reference, value: unique_id });\n    setViewProjectModel(true);\n  }\n\n\n  function viewTaskDetails(id, isJob = false, projectDetails) {\n    if (isJob) {\n      setProjectId(id);\n      setProjectDetails(projectDetails);\n      setViewProjectModel(true);\n    } else {\n      setTaskId(id);\n      setView(true);\n    }\n  }\n\n  const fetchData = async () => {\n    try {\n      const data = await ProjectStatusesList();\n      setStatusOptions([...data]);\n    } catch (error) {\n      console.error(\"Error fetching project status data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // This useEffect for open create model\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (!(e.target instanceof HTMLSelectElement)) {\n        if (e.target.closest('.createJobButton')) {\n          const projectId = e.target.getAttribute('project-id');\n          setJobProjectId(projectId);\n          setVisible(true);\n        }\n\n        if (e.target.closest('.create-task-button')) {\n          const number = e.target.getAttribute('number');\n          const reference = e.target.getAttribute('reference');\n          const projectId = e.target.getAttribute('project-id');\n\n          setProjectDetails({ number, reference, value: projectId });\n          setShow(true);\n        } else if (e.target.closest('.task-list')) {\n          const taskId = e.target.closest('.task-list').getAttribute('task-id');\n          console.log('task-list: ....', taskId);\n          if (taskId) viewTaskDetails(taskId);\n        } else if (e.target.closest(\".project-content\")) {\n          const uniqueId = e.target.closest('.project-content').getAttribute('unique-id');\n          const number = e.target.closest('.project-content').getAttribute('number');\n          const reference = e.target.closest('.project-content').getAttribute('reference');\n          const projectId = e.target.closest('.project-content').getAttribute('project-id');\n\n          console.log('uniqueId: ....', uniqueId);\n          setProjectId(uniqueId);\n          setProjectDetails({ number, reference, value: projectId });\n          setViewProjectModel(true);\n        }\n      }\n    };\n    document.addEventListener('click', handleClick);\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  }, []);\n\n  const reInitialize = async () => {\n    try {\n      setIsReinitialize(true);\n      const response = await getManagement();\n      setManagement(response);\n      if (search) searchData(search, response);\n      else reInitializeData(response, hasWorkSubscription);\n      setIsReinitialize(false);\n    } catch (error) {\n      console.error(\"Error initializing DayPilot:\", error);\n    }\n  };\n\n  useEffect(() => {\n    const daypilotScript = document.createElement(\"script\");\n    daypilotScript.src =\n      \"/daypilot-all.min.js\";\n    daypilotScript.id = \"daypilot-script-ele\";\n\n    const handleError = () => {\n      console.error(\"Failed to load DayPilot script.\");\n    };\n\n    const handleLoad = async () => {\n      try {\n        const response = await getManagement();\n        setManagement(response);\n        initDaypilot(CALENDAR_ID, response, viewTaskDetails, reInitialize, hasWorkSubscription);\n      } catch (error) {\n        console.error(\"Error initializing DayPilot:\", error);\n      }\n    };\n\n    daypilotScript.addEventListener('error', handleError);\n    daypilotScript.addEventListener('load', handleLoad);\n\n    document.body.appendChild(daypilotScript);\n\n    return () => {\n      daypilotScript.removeEventListener('error', handleError);\n      daypilotScript.removeEventListener('load', handleLoad);\n      if (document.body.contains(daypilotScript)) {\n        document.body.removeChild(daypilotScript);\n      }\n    };\n  }, []);\n\n  const handleViewTask = () => {\n    console.log('handleViewTask: ');\n  };\n\n  useEffect(() => {\n    const taskList = document.querySelector(\".task-list\");\n    if (taskList) {\n      let taskId = taskList.getAttribute('task-id');\n      console.log('taskId: ', taskId);\n      taskList.addEventListener(\"click\", handleViewTask());\n    }\n\n    return () => {\n      if (taskList) {\n        let taskId = taskList.getAttribute('task-id');\n        console.log('taskId: ', taskId);\n        taskList.removeEventListener(\"click\", handleViewTask);\n      }\n    };\n  }, []);\n\n  const searchData = (search, newData) => {\n    const managementData = newData || management;\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    timeoutRef.current = setTimeout(() => {\n      let filteredResponse = managementData.filter((data) => {\n        if (\n          (data?.number?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.reference?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.client?.name.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n        ) return true;\n        else return false;\n      });\n      reInitializeData(filteredResponse || [], hasWorkSubscription);\n    }, 600);\n  };\n\n  const applyFiltersAndSort = useCallback(() => {\n    let filteredData = [...management];\n\n    // Apply filters\n    if (filterBy === \"Not Invoiced\") {\n      filteredData = filteredData.filter((item) => !item.is_invoice_created);\n    } else if (filterBy === \"Not Booked\") {\n      filteredData = filteredData.filter((item) => !item.booking_start);\n    } else if (filterBy === \"Not Paid\") {\n      filteredData = filteredData.filter((item) => item.paid !== \"PAID\");\n    }\n\n    // Apply sorting\n    if (sortBy === \"Date Due\") {\n      filteredData.sort((a, b) => new Date(a.booking_end * 1000) - new Date(b.booking_end * 1000));\n    } else if (sortBy === \"Date Accepted\") {\n      filteredData.sort((a, b) => new Date(a.booking_start * 1000) - new Date(b.booking_start * 1000));\n    } else if (sortBy === \"Job Number\") {\n      filteredData.sort((a, b) => a.number.localeCompare(b.number));\n    } else if (sortBy === \"Order Status\") {\n      filteredData.sort((a, b) => (a?.custom_status?.title || \"\").localeCompare(b?.custom_status?.title || \"\"));\n    }\n\n    // Apply search\n    if (search) {\n      filteredData = filteredData.filter((data) => {\n        if (\n          (data?.number?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.reference?.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n          ||\n          (data?.client?.name.toLowerCase()?.includes(search?.toLowerCase() || \"\"))\n        ) return true;\n        else return false;\n      });\n    }\n\n    reInitializeData(filteredData, hasWorkSubscription);\n  }, [management, filterBy, sortBy, search, hasWorkSubscription]);\n\n  useEffect(() => {\n    applyFiltersAndSort();\n  }, [filterBy, sortBy, search, applyFiltersAndSort]);\n\n  const handleFilterChange = (filter) => {\n    setFilterBy(filter);\n  };\n\n  const handleSortChange = (sort) => {\n    setSortBy(sort);\n  };\n\n  const handleSearch = (e) => {\n    const search = e.target.value;\n    setSearch(search);\n  };\n\n  return <React.Fragment>\n    <div className=\"topbar bottom-border\" style={{ padding: '0px 20px', position: 'relative' }}>\n      <div className=\"searchBox\" style={{ position: 'relative' }}>\n        <div style={{ position: 'absolute', top: '2px', left: '6px' }}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n            <path d=\"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z\" fill=\"#98A2B3\" />\n          </svg>\n        </div>\n        <input type=\"text\" placeholder=\"Search\" onChange={handleSearch} className=\"border search-resource\" style={{ borderRadius: '4px', border: '1px solid #D0D5DD', width: '184px', color: '#424242', paddingLeft: '36px', fontSize: '14px', height: '32px' }} />\n      </div>\n      <div className=\"featureName\" style={{ position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)' }}>\n        <h1 className=\"title mx-0\">Management</h1>\n      </div>\n      <div className=\"d-flex gap-2 justify-content-end align-items-center\" style={{ position: 'absolute', left: '40px', top: '56px', zIndex: 1000 }}>\n        <Dropdown>\n          <Dropdown.Toggle as={Button} className={clsx(\"outline-button mx-auto\")} style={{ padding: \"6px 16px\", position: \"relative\" }}>\n            <span className=\"font-14\">{sortBy || \"Sort By\"}</span>\n            {sortBy && (\n              <span\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleSortChange(\"\");\n                }}\n                style={{\n                  position: \"absolute\",\n                  right: \"8px\",\n                  top: \"50%\",\n                  transform: \"translateY(-50%)\",\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  width: \"16px\",\n                  height: \"16px\",\n                  borderRadius: \"50%\",\n                  backgroundColor: \"#F2F4F7\",\n                  marginLeft: \"8px\"\n                }}\n              >\n                <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M9 3L3 9M3 3L9 9\" stroke=\"#667085\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                </svg>\n              </span>\n            )}\n          </Dropdown.Toggle>\n          <Dropdown.Menu>\n            <Dropdown.Item key={\"Date Due\"} eventKey={\"Date Due\"} active={sortBy === \"Date Due\"} onClick={() => handleSortChange(\"Date Due\")}>\n              Date Due\n            </Dropdown.Item>\n            <Dropdown.Item key={\"Date Accepted\"} eventKey={\"Date Accepted\"} active={sortBy === \"Date Accepted\"} onClick={() => handleSortChange(\"Date Accepted\")}>\n              Date Accepted\n            </Dropdown.Item>\n            <Dropdown.Item key={\"Job Number\"} eventKey={\"Job Number\"} active={sortBy === \"Job Number\"} onClick={() => handleSortChange(\"Job Number\")}>\n              Job Number\n            </Dropdown.Item>\n            <Dropdown.Item key={\"Order Status\"} eventKey={\"Order Status\"} active={sortBy === \"Order Status\"} onClick={() => handleSortChange(\"Order Status\")}>\n              Order Status\n            </Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n\n        <Dropdown>\n          <Dropdown.Toggle as={Button} className={clsx(\"outline-button mx-auto\")} style={{ padding: \"6px 16px\", position: \"relative\" }}>\n            <span className=\"font-14\">{filterBy || \"Filter By\"}</span>\n            {filterBy && (\n              <span\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleFilterChange(\"\");\n                }}\n                style={{\n                  position: \"absolute\",\n                  right: \"8px\",\n                  top: \"50%\",\n                  transform: \"translateY(-50%)\",\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  width: \"16px\",\n                  height: \"16px\",\n                  borderRadius: \"50%\",\n                  backgroundColor: \"#F2F4F7\",\n                  marginLeft: \"8px\"\n                }}\n              >\n                <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M9 3L3 9M3 3L9 9\" stroke=\"#667085\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                </svg>\n              </span>\n            )}\n          </Dropdown.Toggle>\n          <Dropdown.Menu>\n            <Dropdown.Item key={\"Not Invoiced\"} eventKey={\"Not Invoiced\"} active={filterBy === \"Not Invoiced\"} onClick={() => handleFilterChange(\"Not Invoiced\")}>\n              Not Invoiced\n            </Dropdown.Item>\n            <Dropdown.Item key={\"Not Booked\"} eventKey={\"Not Booked\"} active={filterBy === \"Not Booked\"} onClick={() => handleFilterChange(\"Not Booked\")}>\n              Not Booked\n            </Dropdown.Item>\n            <Dropdown.Item key={\"Not Paid\"} eventKey={\"Not Paid\"} active={filterBy === \"Not Paid\"} onClick={() => handleFilterChange(\"Not Paid\")}>\n              Not Paid\n            </Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n    </div>\n\n    <div className={trialHeight && 'trial-height-added'}>\n      <div id={CALENDAR_ID}>\n        <div style={{ position: 'fixed', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </div>\n      </div>\n    </div>\n\n    <ViewTask view={view} setView={setView} taskId={taskId} setTaskId={setTaskId} reInitialize={reInitialize} />\n    <CreateTask show={show} setShow={setShow} project={projectDetails} reInitialize={reInitialize} />\n\n    <ProjectCardModel key={projectId} viewShow={viewProjectModel} setViewShow={setViewProjectModel} projectId={projectId} project={projectDetails} statusOptions={statusOptions} reInitialize={reInitialize} />\n    <CreateJob visible={visible} setVisible={setVisible} setRefetch={reInitialize} jobProjectId={jobProjectId} />\n\n    {\n      isReinitialize && <div style={{ position: 'absolute', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n      </div>\n    }\n  </React.Fragment>;\n}\n\nexport default EventScheduler;\n","import React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { EventScheduler } from \"./event-scheduler\";\n\nconst Management = () => {\n    return (\n        <>\n            <Helmet>\n                <title>MeMate - Management</title>\n            </Helmet>\n            <EventScheduler />\n        </>\n    );\n};\nexport default Management;","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getListOfInvoice = async (page, limit, search = \"\", order = \"\", isShowUnpaid) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/invoices/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  url.searchParams.append(\"limit\", limit);\n  url.searchParams.append(\"offset\", offset);\n  if (search) url.searchParams.append(\"search\", search);\n  if (order) url.searchParams.append(\"ordering\", order);\n  if (isShowUnpaid) url.searchParams.append('status', 'not_paid');\n\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/view/${uniqueId}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const paymentIntentCreate = async (uniqueId, data) => {\n  const endpoint = `/invoices/payment-intent/${uniqueId}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const deleteInvoice = async (uniqueId) => {\n  const endpoint = `/invoices/delete/${uniqueId}/`;\n  const options = {\n    method: 'DELETE'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceEmail = async (id, data) => {\n  const endpoint = `/invoices/send/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const resendInvoiceEmail = async (id, data) => {\n    const endpoint = `/resend/invoice/${id}/`;\n    const options = {\n        method: 'POST',\n        body: data\n    };\n    const url = new URL(`${API_BASE_URL}${endpoint}`);\n    return fetchAPI(url.toString(), options);\n};\n\nexport const partialPaymentCreate = async (id, data) => {\n  const endpoint = `/invoices/partial-payment/${id}/`;\n  const options = {\n      method: 'POST',\n      body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const sendInvoiceToXeroApi = async (data) => {\n  const endpoint = `/invoices/to-xero/`;\n  const options = {\n      method: 'PUT',\n      body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};"],"names":["API_BASE_URL","process","fetchAPI","async","endpoint","options","arguments","length","undefined","method","headers","body","requestOptions","localStorage","getItem","JSON","stringify","redirect","url","URL","response","fetch","ok","Error","status","contentType","get","includes","json","message","text","error","console","getBillingPersonalInfo","toString","getUpcomingPayment","updateBillingPersonalInfo","data","getPaymentMethodInfo","retryPayment","updatePaymentMethodInfo","getReginalAndLanguage","updateReginalAndLanguage","createProjectStatus","log","id","isNew","isChanged","value","updateProjectStatusById","deleteProjectStatusById","SettingsGeneralInformation","myHeaders","Headers","accessToken","append","updateGeneralInformation","photo","formData","FormData","Object","keys","forEach","key","croppedImageBlob","photoHintId","nanoid","result","SettingsBankInformation","updateBankInformation","generalData","ProjectStatusesList","dp","DP","expandRow","parseTimestamp","timestampStr","Date","getTime","getTimezoneOffset","loadData","responses","hasWorkSubscription","events","resources","map","_data$custom_status","_data$custom_status2","_data$custom_status3","_data$custom_status4","_data$tasks$filter","_data$tasks","_data$tasks2","_data$tasks3","_data$tasks6","_data$client","color","custom_status","background","font","title","jobsStatus","jobs_count","jobs_done","projectEndDate","parseInt","booking_end","setHours","isJobOverdue","push","start","booking_start","end","unique_id","cssClass","resource","backColor","borderColor","tag","number","reference","type","unfinishedTasks","tasks","filter","task","finished","childResource","_data$tasks4","_data$tasks5","index","_task$assigned_to","from_date","to_date","statusIMG","name","assigned_to","minHeight","marginBottom","expanded","is_invoice_created","paid","client","children","update","onResourceExpand","args","reInitializeData","initDaypilot","elementId","viewTaskDetails","reInitialize","window","Boolean","DayPilot","Scheduler","days","scale","separators","width","treeImage","rowMinHeight","eventEndSpec","durationBarVisible","eventArrangement","eventMoveHandling","eventResizingStartEndEnabled","timeRangeSelectedHandling","treeImageNoChildren","rowHeaderWidth","timeHeaders","groupBy","format","treeEnabled","progressiveRowRendering","treePreventParentUsage","scrollDelayEvents","infiniteScrollingEnabled","infiniteScrollingStepDays","onBeforeRowHeaderRender","row","onBeforeEventRender","areas","top","left","right","fontColor","horizontalAlignment","style","onEventClicked","taskId","e","div","className","projectDetails","onBeforeCellRender","cell","getDayOfWeek","onEventResize","startDate","newStart","toISOString","endDate","newEnd","updateTask","description","user","updateProjectScheduleById","init","startDaypilot","_ref","projectId","projectCardData","viewShow","setViewShow","useState","updateDis","setUpdateDis","errors","setErrors","MAX_LENGTH","handleClose","mutation","useMutation","mutationFn","createProjectNoteById","onSuccess","onError","prev","validateNote","trim","test","useEffect","_jsxs","_Fragment","_jsx","onClick","handleShow","Modal","show","centered","onHide","animation","Header","src","AddNoteModeIcon","alt","X","size","Body","Row","Col","htmlFor","placeholder","onChange","target","maxLength","rows","Footer","Button","variant","disabled","isPending","handleSubmit","validationError","mutate","_clientQuery$data","clientId","navigate","useNavigate","setPayload","outgoingEmailTemplateQuery","useQuery","queryKey","queryFn","getOutgoingEmail","clientQuery","getClientById","enabled","retry","sendComposeEmail","toast","success","_outgoingEmailTemplat","outgoing_email","SendDynamicEmailForm","isLoading","setShow","contactPersons","contact_persons","isComposeEmail","GoogleReview","defaultTemplateId","header","_outgoingEmailTemplat4","_outgoingEmailTemplat5","_emailTemplateQuery$d3","_signatureQuery$data2","create","isCreated","profileData","parse","from","setFrom","to","setTo","cc","setCC","bcc","setBCC","subject","setSubject","setText","signature","setSignature","filteredEmails","setFilteredEmails","autoCompleteRef","useRef","autoCompleteRef2","autoCompleteRef3","showCC","setShowCC","showBCC","setShowBCC","emailTemplateId","setEmailTemplatedId","emailTemplateQuery","getEmailTemplates","signatureQuery","getSignatureTemplates","emailQuery","getEmail","_outgoingEmailTemplat2","_outgoingEmailTemplat3","outgoing_email_verified","resendInvoiceEmail","createAndSendInvoiceById","search","event","_event$query","query","toLowerCase","emails","email","onFocus","current","onFocus2","onFocus3","email_body","from_email","_signatureQuery$data","_signatureQuery$data$","find","template","email_signature","_emailQuery$data","_emailQuery$data2","others","_emailTemplateQuery$d","_emailTemplateQuery$d2","activeTemplateId","closeButton","modalHeader","headerTitle","sm","position","clsx","customLabel","Dropdown","label","dropdownSelect","height","paddingLeft","emailTemplate","loading","isFetching","autoCompleteBox","bag","AutoComplete","ref","completeMethod","multiple","suggestions","onKeyUp","currentValue","split","Set","onBlur","box","active","IconField","InputIcon","ProgressSpinner","InputText","inputBox","lable","zIndex","Editor","headerTemplate","onTextChange","htmlValue","panelClassName","errorCount","InvoicesIcon","SendInvoiceEmailForm","_dropdownRef$current","_dropdownRef$current$","_dropdownRef$current$2","_usersList$data","_usersList$data$users","_usersList$data$users2","_mobileUsersList$data","_mobileUsersList$data2","_mobileUsersList$data3","project","dropdownRef","session","useAuth","taskTitle","setTaskTitle","setDescription","setUser","date","setDate","reset","fetchTasksNew","usersList","getUserList","mobileUsersList","getMobileUserList","Title","newTask","Form","Group","Label","InputGroup","Control","required","Text","QuestionCircle","controlId","as","Select","ChevronDown","gap","borderTop","padding","Person","panel","element","offsetParent","_dropdownRef$current2","items","users","is_active","first_name","last_name","has_photo","has_work_subscription","valueTemplate","option","borderRadius","overflow","border","FallbackImage","is_business","itemTemplate","dropdownIcon","collapseIcon","optionGroupLabel","optionGroupChildren","SelectDate","dateRange","setDateRange","newErrors","CreateTask","OPTIONS","icon","FileText","FileEarmarkText","Bezier2","CardChecklist","Envelope","PhoneVibrate","ListCheck","Check2Circle","FolderSymlink","setFilteredHistoryOptions","isOpen","setIsOpen","tempSelectedOptions","setTempSelectedOptions","toggleDropdown","Filter","handleSelectAll","xmlns","viewBox","fill","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref2","opt","handleCheckboxChange","checked","readOnly","cursor","handleClearSelection","handleApply","formatDateRange","month","day","toLocaleDateString","DateRangeComponent","minWidth","OrdersIcon","isPickerVisible","setIsPickerVisible","selectDateRef","updateMutation","handleClickOutside","contains","document","addEventListener","removeEventListener","togglePicker","bottom","DateRangePicker","onDataApply","onClose","colorMapping","bg","_colorMapping$selecte","_colorMapping$selecte2","_colorMapping$selecte3","statusOptions","selectedOption","setSelectedOption","Menu","menuButton","MenuButton","display","alignItems","justifyContent","fontSize","fontWeight","_colorMapping$status$","_colorMapping$status$2","_colorMapping$status$3","MenuItem","textAlign","choosedStatus","phoneUtil","PhoneNumberUtil","getInstance","isPhoneValid","phone","isValidNumber","parseAndKeepRawInput","_smsTemplateQuery$dat","smsTemplateId","setSMSTemplatedId","setMessage","phoneNumber","setPhoneNumber","smsTemplateQuery","getSMSTemplates","smsQuery","getSMS","sendSms","_smsQuery$data","has_twilio","smsTemplate","taskRead","PhoneInput","defaultCountry","containerClass","countrySelector","newText","slice","float","phone_number","setIsLoading","eventTitle","setEventTitle","eventDescription","setEventDescription","eventLocation","setEventLocation","meetLink","setMeetLink","setStartDate","setEndDate","guests","setGuests","styles","CalendarIcon","onSubmit","preventDefault","validateForm","err","calendarContent","attendees","organizerEmail","formatDate","now","uid","dtStamp","formattedDescription","htmlDescription","platform","replace","line","part","charAt","toUpperCase","join","generateICalContent","icsFile","File","axios","post","Authorization","Calendar","dateFormat","onSelect","click","onClear","setTimeout","onTodayButtonClick","showTime","showIcon","showButtonBar","todayButtonClassName","clearButtonClassName","Calendar3","appendTo","marginRight","_cardData$calculator_","isDuplicating","setIsDuplicating","setIsFetching","cardData","setCardData","isEditingReference","setIsEditingReference","editedReference","setEditedReference","expenseJobsMapping","setExpenseJobsMapping","filteredHistory","setFilteredHistory","filteredHistoryOptions","showCostBreakdown","setShowCostBreakdown","cs","parseFloat","cost_of_sale","le","labor_expenses","oe","operating_expense","formattedRealCost","toFixed","ProjectCardApi","uniqueId","referencemutation","updateProjectReferenceById","prevData","formatTimestamp","timestamp","Intl","DateTimeFormat","hour","minute","hour12","weekday","getDate","getFullYear","updateReturnMutation","projectsToSalesUpdate","declinecOrderMutation","projectsOrderDecline","completeMutation","projectsComplete","createInvoiceMutation","createInvoiceById","_cardData$history","histories","history","sortedMix","expenses","item","jobs","sort","a","b","created","EmailComponent","_email$body","_email$body$split","_email$recipients","_email$recipients2","emailData","showFullBody","setShowFullBody","isOverflowing","setIsOverflowing","emailBodyRef","_lines$find","_lines$find2","_text$split$","lines","startsWith","rawRecipients","recipients","parseEmailData","bodyLines","idx","visibleBody","bodyHeight","scrollHeight","recipient","maxHeight","overflowY","overflowX","dangerouslySetInnerHTML","__html","flex","maxWidth","invoice_created","payment_status","CurrencyDollar","Placeholder","xs","mutateAsync","autoFocus","PencilSquare","handleEditReference","Link","Postcard","Tag","SelectStatus","calculator_descriptions","_ref3","Table","responsive","_data$supplier","_data$supplier2","_data$supplier3","_data$supplier4","invoice_reference","OverlayTrigger","placement","overlay","Tooltip","supplier","Github","ImageAvatar","formatAUD","total","colSpan","AddNote","NewTask","SendSMS","ComposeEmail","ProjectCardFilter","Array","_","_ref4","manager","links","FileEarmark","quote_pdf","FilePdf","Link45deg","invoice_pdf","whiteSpace","ScheduleUpdate","ExpenseIcon","Briefcase","GoogleReviewEmail","SendToCalendar","boxShadow","PlusCircle","budget","declinecOrder","can_be_declined","XCircle","fetchduplicateData","Files","can_be_return","Reply","opacity","InvoiceCreate","can_be_completed","DataTable","calculations","showGridlines","Column","field","bodyClassName","headerClassName","rowIndex","rowData","subindex","cost","profit_type_value","profit_type","unit_price","discount","sub_total","gst","PauseCircle","transform","dateInMiliSec","_data$project","_data$project2","_data$project3","_data$user","fetchTasksUpdate","deleteMutation","fetchTasksDelete","taskEditIcon","handleDelete","TaskLoadingView","paddingBottom","_data$user2","view","setView","setTaskId","showEditModal","setShowEditModal","fetchTasksRead","updateData","TaskCompleteJob","_date$toLocaleDateStr","year","taskdetails","placeholderUser","full_name","ArrowRight","handleInComplete","handleComplete","EditTask","CALENDAR_ID","timeoutRef","trialHeight","useTrialHeight","setSearch","management","setManagement","viewProjectModel","setViewProjectModel","isReinitialize","setIsReinitialize","setStatusOptions","setProjectId","setProjectDetails","filterBy","setFilterBy","sortBy","setSortBy","visible","setVisible","jobProjectId","setJobProjectId","location","href","urlObj","params","URLSearchParams","fetchData","handleClick","HTMLSelectElement","closest","getAttribute","getManagement","searchData","daypilotScript","createElement","handleError","handleLoad","appendChild","removeChild","handleViewTask","taskList","querySelector","newData","managementData","clearTimeout","_data$number","_data$number$toLowerC","_data$reference","_data$reference$toLow","_data$client$name$toL","applyFiltersAndSort","useCallback","filteredData","localeCompare","_a$custom_status","_b$custom_status","_data$number2","_data$number2$toLower","_data$reference2","_data$reference2$toLo","_data$client2","_data$client2$name$to","handleFilterChange","handleSortChange","React","Toggle","stopPropagation","backgroundColor","marginLeft","Item","eventKey","Spinner","role","ViewTask","ProjectCardModel","CreateJob","setRefetch","Management","Helmet","EventScheduler","getListOfInvoice","page","limit","order","isShowUnpaid","offset","searchParams","getInvoice","paymentIntentCreate","deleteInvoice","sendInvoiceEmail","partialPaymentCreate","sendInvoiceToXeroApi"],"sourceRoot":""}