"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[9468],{64416:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),a=n(65173),l=n.n(a),s=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}var i=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,l=e.size,i=void 0===l?"1em":l,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,f=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:a,className:["bi","bi-card-list",p].filter(Boolean).join(" ")},f),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"}),r.createElement("path",{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"}))}));i.propTypes={color:l().string,size:l().oneOfType([l().string,l().number]),title:l().string,className:l().string};const c=i},72052:(e,t,n)=>{n.d(t,{S:()=>b});var r=n(65043),a=n(84052),l=n(41828),s=n(2028),o=n(2224),i=n(1356),c=n(4504);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={root:function(e){var t=e.props,n=e.isFilled,r=e.context;return(0,c.xW)("p-inputtext p-component",{"p-disabled":t.disabled,"p-filled":n,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:r&&"filled"===r.inputStyle})}},y=l.x.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,iconPosition:null},css:{classes:m}});function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=r.memo(r.forwardRef((function(e,t){var n=(0,s.qV)(),u=r.useContext(a.UM),p=y.getProps(e,u),f=y.setMetaData(h(h({props:p},p.__parentMetadata),{},{context:{disabled:p.disabled,iconPosition:p.iconPosition}})),m=f.ptm,v=f.cx,b=f.isUnstyled;(0,l.j)(y.css.styles,b,{name:"inputtext",styled:!0});var x=r.useRef(t);r.useEffect((function(){c.BF.combinedRefs(x,t)}),[x,t]);var j=r.useMemo((function(){return c.BF.isNotEmpty(p.value)||c.BF.isNotEmpty(p.defaultValue)}),[p.value,p.defaultValue]),g=c.BF.isNotEmpty(p.tooltip);r.useEffect((function(){var e;j||null!==(e=x.current)&&void 0!==e&&e.value?c.DV.addClass(x.current,"p-filled"):c.DV.removeClass(x.current,"p-filled")}),[p.disabled,j]);var w=n({className:(0,c.xW)(p.className,v("root",{context:u,isFilled:j})),onBeforeInput:function(e){p.onBeforeInput&&p.onBeforeInput(e),p.keyfilter&&o.Q.onBeforeInput(e,p.keyfilter,p.validateOnly)},onInput:function(e){var t=e.target,n=!0;p.keyfilter&&p.validateOnly&&(n=o.Q.validate(e,p.keyfilter)),p.onInput&&p.onInput(e,n),c.BF.isNotEmpty(t.value)?c.DV.addClass(t,"p-filled"):c.DV.removeClass(t,"p-filled")},onKeyDown:function(e){p.onKeyDown&&p.onKeyDown(e),p.keyfilter&&o.Q.onKeyPress(e,p.keyfilter,p.validateOnly)},onPaste:function(e){p.onPaste&&p.onPaste(e),p.keyfilter&&o.Q.onPaste(e,p.keyfilter,p.validateOnly)}},y.getOtherProps(p),m("root"));return r.createElement(r.Fragment,null,r.createElement("input",d({ref:x},w)),g&&r.createElement(i.m,d({target:x,content:p.tooltip,pt:m("tooltip")},p.tooltipOptions)))})));b.displayName="InputText"},76199:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(65043),a=n(61072),l=n(38294),s=n(95192),o=n(36237),i=n(64416),c=n(73216),d=n(35475),u=n(64018),p=n(63712),f=n(56328),m=n(17344),y=n(70579);const v=()=>{const{id:e}=(0,c.g)(),t=(0,c.Zp)(),n=(0,r.useRef)(null),[v,h]=(0,r.useState)(null),[b,x]=(0,r.useState)(!1),[j]=(0,r.useState)({payment_terms:1,category:"",address:{country:1}});return(0,y.jsx)("div",{className:"newQuotePage existingClients borderSkyColor",children:(0,y.jsxs)("div",{style:{height:"calc(100vh - 249px)"},children:[(0,y.jsx)("div",{className:"newQuoteBack",children:(0,y.jsx)(d.k2,{to:e?"/sales/newquote/selectyourclient/existing-clients":"/sales/newquote/selectyourclient/new-clients",children:(0,y.jsxs)("button",{children:[(0,y.jsx)(l.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,y.jsxs)("div",{className:"newQuoteContent h-100",children:[(0,y.jsx)("div",{className:"navStepClient",children:(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:(0,y.jsx)(s.A,{color:"#D0D5DD",size:15})})," ",(0,y.jsx)("p",{children:"Choose Client"})]}),(0,y.jsxs)("li",{className:"activeClientTab",children:[(0,y.jsx)("span",{children:(0,y.jsx)(o.A,{color:"#D0D5DD",size:15})})," ",(0,y.jsx)("p",{children:"Client Information"})," "]}),(0,y.jsxs)("li",{className:"deactiveColorBox",children:[(0,y.jsx)("span",{children:(0,y.jsx)(i.A,{color:"#D0D5DD",size:15})})," ",(0,y.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,y.jsxs)("div",{className:"individual height customscrollBar",children:[(0,y.jsx)("div",{className:"formgroupWrap1",children:(0,y.jsx)("ul",{className:"mt-4",children:(0,y.jsx)("li",{children:(0,y.jsxs)(d.k2,{className:"ActiveClient businessTab",to:"#",children:[(0,y.jsx)("span",{children:(0,y.jsx)(s.A,{color:"#667085",size:24})})," Individual Client"]})})})}),(0,y.jsx)("div",{className:"formgroupboxs",style:{padding:"24px 10px 0px 10px"},children:(0,y.jsx)(a.A,{className:"text-left pt-3 rounded px-2",style:{background:"#fff"},children:(0,y.jsx)(m.A,{photo:v,setPhoto:h,ref:n,onSubmit:async e=>{const n=new FormData;n.append("firstname",e.firstname),n.append("lastname",e.lastname),e.email&&n.append("email",e.email);const r=(null===e||void 0===e?void 0:e.phone)&&(0,u.l)(e.phone);if(null!==r&&void 0!==r&&r.nationalNumber&&n.append("phone",e.phone),"0"!=e.category&&n.append("category",e.category),e.payment_terms&&n.append("payment_terms",e.payment_terms),e.description&&n.append("description",e.description),e.address.city&&(n.append("address.country",e.address.country),n.append("address.title",e.address.title),n.append("address.city",e.address.city),n.append("address.address",e.address.address),n.append("address.state",e.address.state),n.append("address.postcode",e.address.postcode),e.address.id&&n.append("address.id",e.address.id)),null!==v&&void 0!==v&&v.croppedImageBlob){const e=(0,p.Ak)(6);n.append("photo",v.croppedImageBlob,`${e}.jpg`)}try{x(!0);const e=localStorage.getItem("access_token"),r=await fetch("https://app.memate.com.au/api/v1/clients/individual/new/",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:n});if(r.ok){f.oR.success("New client created successfully");const e=await r.json();t(`/sales/newquote/selectyourclient/client-information/scope-of-work/${null===e||void 0===e?void 0:e.client}`)}else{const e=await r.json();f.oR.error(e||"Failed to create new client. Please try again.")}}catch(a){console.log("Error in creating new business client: ",a),f.oR.error("Failed to create new client. Please try again.")}finally{x(!1)}},defaultValues:j})})})]}),(0,y.jsxs)("div",{className:"individual bottomBox",children:[(0,y.jsx)(d.N_,{to:"/sales",children:(0,y.jsx)("button",{type:"button",className:"cancel-button",children:"Cancel"})}),(0,y.jsx)("button",{type:"button",disabled:b,onClick:()=>{n.current&&n.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},className:"submit-button",children:b?"Loading...":"Next Step"})]})]})]})})}}}]);
//# sourceMappingURL=9468.1c698fc0.chunk.js.map