"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[8777],{12671:(e,t,n)=>{n.d(t,{IQ:()=>s,IR:()=>c,JP:()=>i,oF:()=>a,rg:()=>d,wx:()=>r,x1:()=>l});var o=n(20701);const s=async()=>(0,o.y)("/settings/accounting/",{method:"GET"}),r=async(e,t)=>{const n=`/settings/accounting/${e}/`,s={method:"PUT",body:t};return(0,o.y)(n,s)},c=async()=>(0,o.y)("/suppliers/industries/",{method:"GET"}),a=async(e,t)=>{const n=`/suppliers/industries/${e}/`,s={method:"PUT",body:t};return(0,o.y)(n,s)},i=async()=>(0,o.y)("/references/xero-codes/",{method:"GET"}),d=async()=>(0,o.y)("/account_codes/",{method:"GET"}),l=async()=>(0,o.y)("/account_codes/sync/",{method:"PUT"})},27307:(e,t,n)=>{n.d(t,{PU:()=>i,mC:()=>a,vi:()=>c});var o=n(47097),s=n(56328),r=n(12671);const c=()=>(0,o.n)({mutationFn:e=>{let{id:t,data:n}=e;return(0,r.wx)(t,n)},onSuccess:()=>{s.oR.success("Accounting target updated successfully")},onError:e=>{console.error("Error updating accounting target:",e),s.oR.error("Failed to update accounting target. Please try again.")}}),a=()=>(0,o.n)({mutationFn:e=>{let{id:t,data:n}=e;return(0,r.oF)(t,n)},onSuccess:()=>{s.oR.success("The supplier category code have been updated successfully.")},onError:e=>{console.error("Error updating supplier category code:",e),s.oR.error("Failed to update supplier category code. Please try again.")}}),i=()=>(0,o.n)({mutationFn:()=>(0,r.x1)(),onSuccess:()=>{s.oR.success("Account codes synced successfully")},onError:e=>{console.error("Error syncing account codes:",e),s.oR.error("Failed to sync account codes. Please try again.")}})},31342:(e,t,n)=>{n.d(t,{f:()=>o});const o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:o="GET",headers:s={},body:r}=t,c=localStorage.getItem("access_token"),a=r instanceof FormData,i={"Content-Type":a?"multipart/form-data":"application/json",...s};n&&(i.Authorization=`Bearer ${c}`);const d={method:o,headers:i,body:a?r:JSON.stringify(r),redirect:"follow"};try{const t=new URL(e),n=await fetch(t,d),o=n.headers.get("Content-Type");if(!n.ok){var l;let e=null;e=o&&o.includes("application/json")?await n.json():await n.text(),401===n.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const t=new Error((null===(l=e)||void 0===l?void 0:l.message)||`HTTP error! Status: ${n.status}`);throw t.status=n.status,t.data=e,t}if(o&&o.includes("application/json"))return await n.json();return{message:"Non-JSON response",body:await n.text()}}catch(u){throw console.error("Fetch API error:",u),u}}},38777:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var o=n(65043),s=n(49367),r=n(35475),c=n(93747),a=n(72018),i=n(9642),d=n(64824),l=n(88780),u=n(48417),g=n(62924),y=n(27307),h=n(70579);const p=()=>{var e;const{trialHeight:t}=(0,u.$)(),[n,p]=(0,o.useState)([]),m=(0,g.c2)(),{mutate:w,isPending:x}=(0,y.PU)(),f=(0,c.I)({queryKey:["getXeroIntegrations"],queryFn:l.KQ,retry:1});(0,o.useEffect)((()=>{if(null!==m&&void 0!==m&&m.data){const e=null===m||void 0===m?void 0:m.data.flatMap((e=>e.codes.map((t=>({...t,category:e.category})))));p(e)}}),[null===m||void 0===m?void 0:m.data]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.mg,{children:(0,h.jsx)("title",{children:"MeMate - Expenses Account"})}),(0,h.jsxs)("div",{className:"headSticky",children:[(0,h.jsx)("h1",{children:"Accounting"}),(0,h.jsx)("div",{className:"contentMenuTab",children:(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(r.N_,{to:"/settings/accounting/department-turnover-plan",children:"Department Turnover Plan"})}),(0,h.jsx)("li",{children:(0,h.jsx)(r.N_,{to:"/settings/accounting/industry-service",children:"Supplier Categories"})}),(0,h.jsx)("li",{className:"menuActive",children:(0,h.jsx)(r.N_,{to:"/settings/accounting/account-code",children:"Account Codes"})})]})})]}),(0,h.jsx)("div",{className:"content_wrap_main w-100",style:{paddingBottom:`${t}px`},children:(0,h.jsx)("div",{className:"content_wrapper w-100",children:(0,h.jsxs)("div",{className:"listwrapper",children:[(0,h.jsxs)("div",{className:"topHeadStyle pb-3",children:[(0,h.jsx)("h2",{children:"Account Codes"}),(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.connected)&&(0,h.jsx)(a.$,{className:"outline-button",onClick:()=>{w()},style:{fontSize:"14px"},disabled:x,loading:x,children:"Code Sync"})]}),(0,h.jsxs)(d.b,{className:"w-100",showGridlines:!0,rowGroupMode:"rowspan",groupRowsBy:"category",value:n||[],tableStyle:{minWidth:"100%",border:"1px solid #f2f2f2"},children:[(0,h.jsx)(i.V,{header:"#",body:(e,t)=>t.rowIndex+1}),(0,h.jsx)(i.V,{field:"category",header:"Category"}),(0,h.jsx)(i.V,{field:"code",header:"Codes"}),(0,h.jsx)(i.V,{field:"name",header:"Account Name"}),(0,h.jsx)(i.V,{field:"description",header:"Description"})]})]})})})]})}},62924:(e,t,n)=>{n.d(t,{Od:()=>a,PV:()=>c,Xn:()=>r,c2:()=>i});var o=n(93747),s=n(12671);const r=()=>(0,o.I)({queryKey:["accounting-list"],queryFn:s.IQ}),c=()=>(0,o.I)({queryKey:["industry-service-list"],queryFn:s.IR}),a=()=>(0,o.I)({queryKey:["xero-codes-list"],queryFn:s.JP}),i=()=>(0,o.I)({queryKey:["account-code-list"],queryFn:s.rg})},88780:(e,t,n)=>{n.d(t,{EG:()=>g,KQ:()=>h,M4:()=>u,Nz:()=>d,RA:()=>c,ZR:()=>i,cx:()=>a,o5:()=>l,qU:()=>p,sp:()=>y,x2:()=>r});var o=n(31342);const s="https://dev.memate.com.au/api/v1",r=async()=>{const e=new URL(`${s}/settings/integrations/stripe/`);return(0,o.f)(e.toString(),{method:"GET"})},c=async e=>{const t={method:"PUT",body:e},n=new URL(`${s}/settings/integrations/stripe/`);return(0,o.f)(n.toString(),t)},a=async e=>{const t={method:"DELETE",body:e},n=new URL(`${s}/settings/integrations/stripe/disconnect/`);return(0,o.f)(n.toString(),t)},i=async()=>{const e=new URL(`${s}/settings/integrations/google/review/`);return(0,o.f)(e.toString(),{method:"GET"})},d=async e=>{const t={method:"PUT",body:e},n=new URL(`${s}/settings/integrations/google/review/`);return(0,o.f)(n.toString(),t)},l=async()=>{const e=new URL(`${s}/settings/integrations/twilio/`);return(0,o.f)(e.toString(),{method:"GET"})},u=async e=>{const t={method:"PUT",body:e},n=new URL(`${s}/settings/integrations/twilio/`);return(0,o.f)(n.toString(),t)},g=async()=>{const e=new URL(`${s}/references/outgoing-email/`);return(0,o.f)(e.toString(),{method:"GET"})},y=async e=>{const t={method:"PUT",body:e},n=new URL(`${s}/references/outgoing-email/`);return(0,o.f)(n.toString(),t)},h=async()=>{const e=new URL(`${s}/xero/status/`);return(0,o.f)(e.toString(),{method:"GET"})},p=async()=>{const e=new URL(`${s}/xero/disconnect/`);return(0,o.f)(e.toString(),{method:"POST"})}}}]);
//# sourceMappingURL=8777.8aa50cb3.chunk.js.map