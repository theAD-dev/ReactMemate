"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[4497],{544:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),a=n(65173),s=n.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}var l=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,u=void 0===m?"":m,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-upload",u].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),r.createElement("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l},623:(e,t,n)=>{n.d(t,{IY:()=>j,Kh:()=>d,Nh:()=>c,Np:()=>x,PR:()=>l,SG:()=>p,YC:()=>v,fD:()=>f,hW:()=>m,ic:()=>b,j:()=>u,ms:()=>y,oQ:()=>o,sq:()=>N,vU:()=>h,yA:()=>w,yi:()=>g});var r=n(63712),a=n(40472);const s="https://app.memate.com.au/api/v1",i=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:n="GET",headers:r={},body:a}=t,s={method:n,headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json",...r},body:JSON.stringify(a),redirect:"follow"};try{const t=new URL(`${e}`),n=await fetch(t,s);if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const r=n.headers.get("Content-Type");if(r&&r.includes("application/json"))return await n.json();return{message:"Non-JSON response",body:await n.text()}}catch(i){throw console.error("Fetch API error:",i),i}},o=async()=>{const e=new URL(`${s}/settings/subscriptions/tax-id/`);return i(e.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${s}/settings/subscriptions/upcoming/`);return i(e.toString(),{method:"GET"})},c=async e=>{const t={method:"PUT",body:e},n=new URL(`${s}/settings/subscriptions/tax-id/`);return i(n.toString(),t)},d=async()=>{const e=new URL(`${s}/settings/subscriptions/payment-method/`);return i(e.toString(),{method:"GET"})},m=async()=>{const e=new URL(`${s}/subscriptions/retry/`);return i(e.toString(),{method:"POST"})},u=async e=>{const t={method:"PUT",body:e},n=new URL(`${s}/settings/subscriptions/payment-method/`);return i(n.toString(),t)},p=async()=>{const e=new URL(`${s}/settings/organization/region-language/`);return i(e.toString(),{method:"GET"})},h=async e=>{const t={method:"PUT",body:e},n=new URL(`${s}/settings/organization/region-language/`);return i(n.toString(),t)},g=async e=>{console.log("data: ",e),e.id&&delete e.id,e.isNew&&delete e.isNew,e.isChanged&&delete e.isChanged,e.value&&delete e.value;const t={method:"POST",body:e},n=new URL(`${s}/settings/project-statuses/new/`);return i(n.toString(),t)},x=async(e,t)=>{const n={method:"PUT",body:t},r=new URL(`${s}${`/settings/project-statuses/update/${e}/`}`);return i(r.toString(),n)},f=async e=>{const t=new URL(`${s}${`/settings/project-statuses/delete/${e}/`}`);return i(t.toString(),{method:"DELETE"})},v=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const n={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${s}/settings/organization/general/`,n);return await e.json()}catch(r){throw console.error("Profile fetch error:",r),r}},j=async(e,t)=>{const n=new Headers,a=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${a}`);const i=new FormData;if(Object.keys(e).forEach((t=>{i.append(t,e[t])})),null!==t&&void 0!==t&&t.croppedImageBlob){const e=(0,r.Ak)(6);i.append("company_logo",null===t||void 0===t?void 0:t.croppedImageBlob,`${e}.jpg`)}const o={method:"PUT",headers:n,body:i,redirect:"follow"};try{const e=await fetch(`${s}/settings/organization/general/`,o),t=await e.text();return console.log("result>>>>>>>>>>: ",t),t}catch(l){throw console.error("Profile fetch error:",l),l}},y=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const n={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${s}/settings/organization/bank/`,n);return await e.text()}catch(r){throw console.error("Profile fetch error:",r),r}},w=async e=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`);const r=new FormData;Object.keys(e).forEach((t=>{r.append(t,e[t])}));const a={method:"PUT",headers:t,body:r,redirect:"follow"};try{const e=await fetch(`${s}/settings/organization/bank/`,a),t=await e.text();return console.log("result: ",t),t}catch(i){throw console.error("Profile fetch error:",i),i}},b=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const n={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${s}/settings/project-statuses/`,n);return await e.json()}catch(r){throw console.error("project fetch error:",r),r}},N=async()=>{try{const e=JSON.parse(localStorage.getItem("profileData")).location,t=await(0,a.g$)(e);if(!t||!t.state)return console.error("Invalid location details:",t),[];const n=`/locations/${t.state}/holidays/`,r={method:"GET"},o=new URL(`${s}${n}`);return i(o.toString(),r)}catch(e){return console.error("Error fetching holidays:",e),[]}}},24932:(e,t,n)=>{n.d(t,{A:()=>r});const r={activelist:"general_activelist__FWpML",viewBorderWrap:"general_viewBorderWrap__h1m3m",editBorderWrap:"general_editBorderWrap__p-Bng",editinfo:"general_editinfo__FLHp1",editpara:"general_editpara__Db271",listwrapp:"general_listwrapp__S9ISd"}},37753:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),a=n(65173),s=n.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}var l=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,u=void 0===m?"":m,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-telephone",u].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l},40472:(e,t,n)=>{n.d(t,{MA:()=>d,N_:()=>u,Nt:()=>l,g$:()=>i,ir:()=>m,uU:()=>s,yJ:()=>o,zR:()=>c});var r=n(31342);const a="https://app.memate.com.au/api/v1",s=async()=>{const e=new URL(`${a}/locations/`);return(0,r.f)(e.toString(),{method:"GET"})},i=async e=>{const t=new URL(`${a}${`/locations/${e}`}`);return(0,r.f)(t.toString(),{method:"GET"})},o=async e=>{const t={method:"POST",body:e},n=new URL(`${a}/locations/new/`);return(0,r.f)(n.toString(),t)},l=async(e,t)=>{if(!e)throw new Error("No id found");const n={method:"PUT",body:t},s=new URL(`${a}${`/locations/${e}/update/`}`);return(0,r.f)(s.toString(),n)},c=async e=>{const t=new URL(`${a}${`/locations/${e}/delete/`}`);return(0,r.f)(t.toString(),{method:"DELETE"})},d=async()=>{const e=new URL(`${a}/references/desktop-users/`);return(0,r.f)(e.toString(),{method:"GET"})},m=async(e,t)=>{const n=new URL(`${a}${`/locations/${e}/${t}/assign-user/`}`);return(0,r.f)(n.toString(),{method:"POST"})},u=async(e,t)=>{if(!e)throw new Error("Location id not found");if(!t)throw new Error("User id not found");const n=new URL(`${a}${`/locations/${e}/${t}/unassign-user/`}`);return(0,r.f)(n.toString(),{method:"POST"})}},59638:(e,t,n)=>{n.d(t,{EZ:()=>i,F1:()=>v,Fl:()=>u,OF:()=>l,QK:()=>g,Ql:()=>o,X6:()=>c,Ye:()=>x,ab:()=>j,i6:()=>m,kB:()=>y,nP:()=>d,o6:()=>h,oO:()=>s,oo:()=>p,zZ:()=>f});var r=n(31342);const a="https://app.memate.com.au/api/v1",s=async e=>{const t=new URL(`${a}${`/clients/restore/${e}/`}`);return(0,r.f)(t.toString(),{method:"POST"})},i=async e=>{const t=new URL(`${a}${`/clients/${e}/`}`);return(0,r.f)(t.toString(),{method:"GET"})},o=async()=>{const e=new URL(`${a}/references/clients/categories/`);return(0,r.f)(e.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${a}/references/clients/industries/`);return(0,r.f)(e.toString(),{method:"GET"})},c=async()=>{const e=new URL(`${a}/references/countries/`),t=await(0,r.f)(e.toString(),{method:"GET"},!1),n=[1];return(null===t||void 0===t?void 0:t.filter((e=>n.includes(e.id))))||[]},d=async e=>{const t=new URL(`${a}${`/references/states/${e}/`}`);return(0,r.f)(t.toString(),{method:"GET"},!1)},m=async e=>{const t=new URL(`${a}${`/references/cities/${e}/`}`);return(0,r.f)(t.toString(),{method:"GET"},!1)},u=async()=>{const e=new URL(`${a}/references/desktop-users/`);return(0,r.f)(e.toString(),{method:"GET"})},p=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;const o=(e-1)*t,l=new URL(`${a}/clients/`);return l.searchParams.append("limit",t),l.searchParams.append("offset",o),n&&l.searchParams.append("search",n),s&&l.searchParams.append("ordering",s),i&&l.searchParams.append("deleted",1),(0,r.f)(l.toString(),{method:"GET"})},h=async function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const o=(t-1)*n,l=new URL(`${a}${`/clients/${e}/orders/`}`);return l.searchParams.append("limit",n),l.searchParams.append("offset",o),s&&l.searchParams.append("number",s),i&&l.searchParams.append("ordering",i),(0,r.f)(l.toString(),{method:"GET"})},g=async e=>{const t=new URL(`${a}${`/clients/address/${e}/main`}`);return(0,r.f)(t.toString(),{method:"PUT"})},x=async e=>{const t=new URL(`${a}${`/clients/contact-persons/${e}/main`}`);return(0,r.f)(t.toString(),{method:"PUT"})},f=async e=>{const t=new URL(`${a}${`/clients/delete/${e}/`}`);return(0,r.f)(t.toString(),{method:"DELETE"})},v=async e=>{const t=new URL(`${a}${`/clients/contact-persons/${e}/delete/`}`);return(0,r.f)(t.toString(),{method:"DELETE"})},j=async e=>{const t=new URL(`${a}${`/clients/address/${e}/delete/`}`);return(0,r.f)(t.toString(),{method:"DELETE"})},y=async e=>{const t={method:"PUT",body:{unique_id:e}},n=new URL(`${a}/projects/back/`);return(0,r.f)(n.toString(),t)}},63712:(e,t,n)=>{n.d(t,{Ak:()=>r});let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t}},63882:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(65043),a=n(32952),s=n(14282),i=n(76163),o=n(69956),l=n(89488),c=n(55683),d=n(58387),m=n(29853);const u={title:"file-uploader_title__+HTTy",previewSection:"file-uploader_previewSection__mnNRf",previewBox:"file-uploader_previewBox__j6psm",previewBoxImg1:"file-uploader_previewBoxImg1__SR-1w",rectangle:"file-uploader_rectangle__dFhi8",previewBoxImg2:"file-uploader_previewBoxImg2__zYCKK",previewBoxImg3:"file-uploader_previewBoxImg3__YNTWI",previewBoxImg4:"file-uploader_previewBoxImg4__cRl+e",previewBoxImg5:"file-uploader_previewBoxImg5__GzHFj",previewActions:"file-uploader_previewActions__UO1dp",label:"file-uploader_label__Udhfq",label2:"file-uploader_label2__cY-JF"};var p=n(70579);const h=e=>{let{show:t,setShow:n,setPhoto:h,additionalDesign:g,shape:x="rect",aspect:f=1}=e;const[v,j]=(0,r.useState)([]),[y,w]=(0,r.useState)({x:0,y:0}),[b,N]=(0,r.useState)(1),[$,A]=(0,r.useState)(0),[_,S]=(0,r.useState)(null),[E,B]=(0,r.useState)({}),P=(0,r.useCallback)(((e,t)=>{S(t)}),[]),C=(0,r.useCallback)((async()=>{if(!v.length||!_)return;const e=document.createElement("canvas"),t=e.getContext("2d"),n=new Image;n.src=v[0].preview,await new Promise((e=>n.onload=e)),e.width=_.width,e.height=_.height,t.translate(e.width/2,e.height/2),t.rotate($*Math.PI/180),t.translate(-e.width/2,-e.height/2),t.drawImage(n,_.x,_.y,_.width,_.height,0,0,_.width,_.height);return e.toDataURL("image/jpeg")}),[v,_,$]),I=async()=>{const e=await C();e&&B({img2:e,img3:e,img4:e,img5:e})};(0,r.useEffect)((()=>{I()}),[b,y,$,v,_]);const{getRootProps:L,getInputProps:R}=(0,l.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{j(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,p.jsxs)(a.A,{style:{zIndex:1111},show:t,centered:!0,onHide:()=>n(!1),onShow:I,children:[(0,p.jsx)(a.A.Header,{closeButton:!0,children:(0,p.jsx)(a.A.Title,{children:(0,p.jsx)("span",{className:`${u.title}`,children:"Edit Photo"})})}),(0,p.jsxs)(a.A.Body,{children:[g,(0,p.jsxs)("div",{className:`${u.previewSection}`,children:[(0,p.jsxs)("div",{className:`${u.previewBox}`,children:[(0,p.jsx)("div",{className:(0,d.A)(u.previewBoxImg1,"round"===x?"rounded-circle":"",1===f?u.square:u.rectangle),children:(0,p.jsx)(c.Ay,{image:v.length>0?v[0].preview:null,crop:y,zoom:b,cropShape:x,rotation:$,onCropChange:w,onZoomChange:N,onCropComplete:P,aspect:f,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,p.jsx)("div",{className:(0,d.A)(u.previewBoxImg2,"round"===x?"rounded-circle":"",1===f?u.square:u.rectangle),children:E.img2&&(0,p.jsx)("img",{src:E.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,p.jsx)("div",{className:(0,d.A)(u.previewBoxImg3,"round"===x?"rounded-circle":"",1===f?u.square:u.rectangle),children:E.img3&&(0,p.jsx)("img",{src:E.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,p.jsx)("div",{className:(0,d.A)(u.previewBoxImg4,"round"===x?"rounded-circle":"",1===f?u.square:u.rectangle),children:E.img4&&(0,p.jsx)("img",{src:E.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,p.jsx)("div",{className:(0,d.A)(u.previewBoxImg5,"round"===x?"rounded-circle":"",1===f?u.square:u.rectangle),children:E.img5&&(0,p.jsx)("img",{src:E.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,p.jsxs)("div",{className:`${u.previewActions}`,children:[(0,p.jsxs)(m.A.Group,{children:[(0,p.jsx)(m.A.Label,{className:`${u.label}`,children:"Zoom"}),(0,p.jsx)(m.A.Range,{value:b,min:1,max:3,step:.1,className:"custom-range",onChange:e=>N(e.target.value)})]}),(0,p.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,p.jsxs)(s.A,{className:"text-button",onClick:()=>{A((e=>(e+90)%360))},children:[(0,p.jsx)(i.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,p.jsxs)("div",{...L({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,p.jsx)("input",{...R()}),(0,p.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,p.jsx)(o.A,{})}),(0,p.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,p.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,p.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,p.jsxs)(a.A.Footer,{className:"d-flex justify-content-end",children:[(0,p.jsx)(s.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),j([]),B({}),h(null),n(!1)},children:"Cancel"}),(0,p.jsx)(s.A,{className:"solid-button",onClick:async()=>{const e=await C(),t=function(e,t){const n=atob(e.split(",")[1]),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let s=0;s<n.length;s++)a[s]=n.charCodeAt(s);return new Blob([r],{type:t})}(e,"image/jpeg");h({croppedImageBase64:e,croppedImageBlob:t}),n(!1)},children:"Save Photo"})]})]})}},64497:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(65043),a=n(27417),s=n(73898),i=n(72413),o=n(37753),l=n(544),c=n(49367),d=n(24858),m=n(17380),u=n(35475),p=n(18403),h=n(93747),g=n(47097),x=n(58387),f=n(88060),v=n(56328),j=n(80899),y=n(24932),w=n(59638),b=n(623),N=n(48417),$=n(27472),A=n(58027),_=n(63882),S=n(70579);const E=j.Ik().shape({legal_name:j.Yj().required("Company Legal Name is required"),trading_name:j.Yj().required("Trading Name is required"),abn:j.Yj().nullable().transform((e=>""===e?null:e)).matches(/^\d{11}$/,"ABN must be an 11-digit number").notRequired(),main_email:j.Yj().email("Invalid email").required("Main Company Email is required"),main_phone:j.Yj(),country:j.Yj().required("Country is required"),state:j.Yj().required("State is required"),city:j.Yj().required("City is required"),address:j.Yj(),postcode:j.Yj(),company_logo:j.gl().nullable()});function B(e){let{photo:t,setPhoto:n,data:a}=e;const[s,i]=(0,r.useState)(!1);return(0,S.jsxs)("section",{className:"container mb-3",style:{marginTop:"24px",padding:"0px"},children:[(0,S.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{width:"100%",minHeight:"126px",padding:"16px",background:"#fff",borderRadius:"4px",border:"1px solid #D0D5DD"},children:[null!==t&&void 0!==t&&t.croppedImageBase64?(0,S.jsx)("div",{className:"text-center",children:(0,S.jsx)("img",{alt:"uploaded-file",src:null===t||void 0===t?void 0:t.croppedImageBase64,style:{width:"64px",height:"32px",marginBottom:"12px",borderRadius:"4px"}})}):(0,S.jsx)("button",{type:"button",onClick:()=>i(!0),className:"d-flex justify-content-center align-items-center",style:{width:"64px",height:"32px",padding:"0px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"4px",marginBottom:"16px"},children:null!==a&&void 0!==a&&a.company_logo&&a.has_photo?(0,S.jsx)("div",{style:{width:"64px",height:"32px",borderRadius:"4px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,S.jsx)("img",{src:null===a||void 0===a?void 0:a.company_logo,style:{width:"100%"},alt:"Uploaded Photo"})}):(0,S.jsx)(l.A,{})}),(0,S.jsx)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:(0,S.jsx)("span",{style:{color:"#1AB2FF",fontWeight:"600",cursor:"pointer"},onClick:()=>i(!0),children:"Click to upload"})}),(0,S.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,S.jsx)(_.A,{show:s,setShow:i,setPhoto:n,aspect:2})]})}const P=function(){var e,t,n,l;const{trialHeight:j}=(0,N.$)(),[_,P]=(0,r.useState)(!1),C=_?100:0,[I,L]=(0,r.useState)({}),[R,T]=(0,r.useState)(1),[U,O]=(0,r.useState)(""),[z,F]=(0,r.useState)(""),k=(0,h.I)({queryKey:["countries"],queryFn:w.X6,enabled:!0}),q=(0,h.I)({queryKey:["states",R],queryFn:()=>(0,w.nP)(R),enabled:!!R,retry:1}),G=(0,h.I)({queryKey:["cities",U],queryFn:()=>(0,w.i6)(U),enabled:!!U}),{register:W,handleSubmit:D,control:M,formState:{errors:V},reset:Y,setValue:H}=(0,d.mN)({resolver:(0,p.t)(E),defaultValues:{country:1}});console.log("errors: ",V);const{data:K,isLoading:J,error:Z}=(0,h.I)({queryKey:["generalInfo"],queryFn:b.YC,onSuccess:e=>{Y(e)},onError:e=>{console.error("Error fetching data:",e)}}),Q=(0,g.n)({mutationFn:e=>(0,b.IY)(e,I),onSuccess:()=>{window.location.reload(),v.oR.success("Company Information updated successfully")}});return(0,r.useEffect)((()=>{null!==K&&void 0!==K&&K.main_phone&&H("main_phone",K.main_phone)}),[K]),(0,r.useEffect)((()=>{K&&(T(K.country),O(K.state),F(K.city),H("city",K.city),H("state",K.state),H("country",K.country))}),[K]),J?(0,S.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,S.jsx)(a.A,{animation:"border",role:"status",children:(0,S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,S.jsxs)("form",{onSubmit:D((e=>{null==e.abn&&(e.abn=""),Q.mutate({...e})})),children:[(0,S.jsx)(c.mg,{children:(0,S.jsx)("title",{children:"MeMate - General Information"})}),(0,S.jsxs)("div",{className:"headSticky",children:[(0,S.jsx)("h1",{children:"Company Information"}),(0,S.jsx)("div",{className:"contentMenuTab",children:(0,S.jsxs)("ul",{children:[(0,S.jsx)("li",{className:"menuActive",children:(0,S.jsx)(u.N_,{to:"/settings/generalinformation",children:"General Information"})}),(0,S.jsx)("li",{children:(0,S.jsx)(u.N_,{to:"/settings/generalinformation/bank-details",children:"Bank Details "})}),(0,S.jsx)("li",{children:(0,S.jsx)(u.N_,{to:"/settings/generalinformation/region-and-language",children:"Region & Language"})})]})})]}),(0,S.jsx)("div",{className:"content_wrap_main "+(_?"isEditingwrap":""),style:{height:`calc(100vh - 230px - ${j}px - ${C}px)`},children:(0,S.jsx)("div",{className:"content_wrapper",children:(0,S.jsxs)("div",{className:"listwrapper",children:[(0,S.jsxs)("div",{className:"topHeadStyle",children:[(0,S.jsxs)("div",{className:"",children:[(0,S.jsx)("h2",{children:"General Information"}),_?(0,S.jsx)("p",{children:"Provide key details about your company"}):(0,S.jsx)(S.Fragment,{})]}),!_&&(0,S.jsxs)(u.N_,{to:"#",onClick:()=>{P(!0)},children:["Edit",(0,S.jsx)(s.A,{color:"#344054",size:20})]})]}),(0,S.jsxs)("ul",{children:[(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsxs)("span",{children:["Company Legal Name",_&&(0,S.jsx)("span",{className:"required",children:"*"})]}),_?(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"inputInfo "+(null!==V&&void 0!==V&&V.legal_name?"error-border":""),children:[(0,S.jsx)("input",{...W("legal_name"),placeholder:"Enter company legal name",defaultValue:null===K||void 0===K?void 0:K.legal_name}),(null===V||void 0===V?void 0:V.legal_name)&&(0,S.jsx)("img",{className:"ExclamationCircle",src:$.A,alt:"Exclamation Circle"})]}),(null===V||void 0===V?void 0:V.legal_name)&&(0,S.jsx)("p",{className:"error-message",children:null===V||void 0===V||null===(e=V.legal_name)||void 0===e?void 0:e.message})]}):(0,S.jsx)("strong",{children:null===K||void 0===K?void 0:K.legal_name})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsx)("p",{children:"Please provide the complete legal name of your company, as it will be displayed on outgoing documentation."})}):(0,S.jsx)(S.Fragment,{})]}),(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsxs)("span",{children:["Company Trading name",_&&(0,S.jsx)("span",{className:"required",children:"*"})]}),_?(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"inputInfo "+(V.trading_name?"error-border":""),children:[(0,S.jsx)("input",{...W("trading_name"),placeholder:"Enter Trading Name",defaultValue:K.trading_name}),V.trading_name&&(0,S.jsx)("img",{className:"ExclamationCircle",src:$.A,alt:"Exclamation Circle"})]}),V.trading_name&&(0,S.jsx)("p",{className:"error-message",children:V.trading_name.message})]}):(0,S.jsxs)("strong",{children:[K.trading_name," "]})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsx)("p",{children:"Please enter a trading name. This will be displayed when you communicate with contractors, clients, and suppliers."})}):(0,S.jsx)(S.Fragment,{})]}),(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsx)("span",{children:"ABN"}),_?(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"inputInfo "+(V.abn?"error-border":""),children:[(0,S.jsx)("input",{...W("abn",{onChange:e=>{const t=e.target.value.replace(/\D/g,"");H("abn",t,{shouldValidate:!0})},onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text").replace(/\D/g,"");H("abn",t,{shouldValidate:!0})}}),placeholder:"Enter ABN",defaultValue:K.abn}),V.abn&&(0,S.jsx)("img",{className:"ExclamationCircle",src:$.A,alt:"Exclamation Circle"})]}),V.abn&&(0,S.jsx)("p",{className:"error-message",children:V.abn.message})]}):(0,S.jsxs)("strong",{children:[K.abn," "]})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsx)("p",{children:"Please input Active Business Number"})}):(0,S.jsx)(S.Fragment,{})]}),(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsxs)("span",{children:["Main Company Email",_&&(0,S.jsx)("span",{className:"required",children:"*"})]}),_?(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"inputInfo "+(V.main_email?"error-border":""),children:[(0,S.jsx)("input",{...W("main_email"),placeholder:"Enter Email",defaultValue:K.main_email}),V.main_email&&(0,S.jsx)("img",{className:"ExclamationCircle",src:$.A,alt:"Exclamation Circle"})]}),V.main_email&&(0,S.jsx)("p",{className:"error-message",children:V.main_email.message})]}):(0,S.jsxs)("strong",{children:[K.main_email," ",(0,S.jsx)(i.A,{color:"#158ECC",size:20})]})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsx)("p",{children:"Insert emails which will be used to send all your automatic outgoing emails and notifications."})}):(0,S.jsx)(S.Fragment,{})]}),(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsx)("span",{children:"Main Company Phone Number"}),_?(0,S.jsxs)("div",{children:[(0,S.jsx)(d.xI,{name:"main_phone",control:M,render:e=>{let{field:t}=e;return(0,S.jsx)(m.LR,{className:"phoneInput",defaultCountry:"au",value:t.value||"",placeholder:"Enter Phone Number",style:{width:"315px"},onChange:e=>t.onChange(e)})}}),V.main_phone&&(0,S.jsx)("p",{className:"error-message",children:V.main_phone.message})]}):(0,S.jsxs)("strong",{children:[K.main_phone," ",(0,S.jsx)(o.A,{color:"#158ECC",size:20})]})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsx)("p",{children:"Insert emails which will be used to send all your automatic outgoing emails and notifications."})}):(0,S.jsx)(S.Fragment,{})]}),(0,S.jsx)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsxs)("span",{children:["Country",_&&(0,S.jsx)("span",{className:"required",children:"*"})]}),_?(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"inputInfo",style:{width:"320px"},children:(0,S.jsx)(f.m,{value:R,defaultValue:K.country,options:k&&(null===(t=k.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:e.name}))))||[],placeholder:"Select a country",className:(0,x.A)("w-100 rounded",{"error-border":V.country}),onChange:e=>{H("country",e.value),T(e.value)},loading:null===k||void 0===k?void 0:k.isFetching,disabled:null===k||void 0===k?void 0:k.isFetching,filter:!0,filterInputAutoFocus:!0})}),V.country&&(0,S.jsx)("p",{className:"error-message",children:V.country.message})]}):(0,S.jsx)("strong",{children:K.country_name})]})}),(0,S.jsx)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsxs)("span",{children:["State",_&&(0,S.jsx)("span",{className:"required",children:"*"})]}),_?(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"inputInfo",style:{width:"320px"},children:(0,S.jsx)(f.m,{value:U,defaultValue:K.state,options:q&&(null===(n=q.data)||void 0===n?void 0:n.map((e=>({value:e.id,label:e.name}))))||[],placeholder:"Select a state",className:(0,x.A)("w-100 rounded",{"error-border":V.state}),onChange:e=>{H("state",e.value),O(e.value)},loading:null===q||void 0===q?void 0:q.isFetching,disabled:null===q||void 0===q?void 0:q.isFetching,emptyMessage:R?"No states found":"Select a country first",filter:!0,filterInputAutoFocus:!0})}),V.state&&(0,S.jsx)("p",{className:"error-message",children:V.state.message})]}):(0,S.jsx)("strong",{children:K.state_name})]})}),(0,S.jsx)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsxs)("span",{children:["City",_&&(0,S.jsx)("span",{className:"required",children:"*"})]}),_?(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"inputInfo",style:{width:"320px"},children:(0,S.jsx)(f.m,{value:z,defaultValue:K.city,options:G&&(null===(l=G.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],placeholder:"Select a city",className:(0,x.A)("w-100 rounded",{"error-border":V.city}),onChange:e=>{H("city",e.value),F(e.value)},loading:null===G||void 0===G?void 0:G.isFetching,disabled:null===G||void 0===G?void 0:G.isFetching,emptyMessage:U?"No cities found":"Select a state first",filter:!0,filterInputAutoFocus:!0})}),V.city&&(0,S.jsx)("p",{className:"error-message",children:V.city.message})]}):(0,S.jsx)("strong",{children:K.city_name})]})}),(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsx)("span",{children:"Street Address"}),_?(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"inputInfo "+(V.address?"error-border":""),children:[(0,S.jsx)("input",{...W("address"),placeholder:"Enter Address",defaultValue:K.address}),V.address&&(0,S.jsx)("img",{className:"ExclamationCircle",src:$.A,alt:"Exclamation Circle"})]}),V.address&&(0,S.jsx)("p",{className:"error-message",children:V.address.message})]}):(0,S.jsx)("strong",{children:K.address})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsx)("p",{})}):(0,S.jsx)(S.Fragment,{})]}),(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsx)("span",{children:"Postcode"}),_?(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"inputInfo "+(V.postcode?"error-border":""),children:[(0,S.jsx)("input",{...W("postcode"),placeholder:"Enter postcode",defaultValue:K.postcode,type:"number"}),V.postcode&&(0,S.jsx)("img",{className:"ExclamationCircle",src:$.A,alt:"Exclamation Circle"})]}),V.postcode&&(0,S.jsx)("p",{className:"error-message",children:V.postcode.message})]}):(0,S.jsx)("strong",{children:K.postcode})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsx)("p",{})}):(0,S.jsx)(S.Fragment,{})]}),(0,S.jsxs)("li",{className:""+(_?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,S.jsxs)("div",{className:y.A.editinfo,children:[(0,S.jsx)("span",{children:"Company Logo for Documentation"}),_?(0,S.jsx)("div",{className:"upload-btn-wrapper",children:(0,S.jsx)(B,{photo:I,data:K,setPhoto:L})}):(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{border:"1px solid #dedede",width:"64px",height:"32px",borderRadius:"4px",overflow:"hidden"},children:(0,S.jsx)(A.A,{photo:K.company_logo,has_photo:K.has_photo,is_business:!0,size:28})})]}),_?(0,S.jsx)("div",{className:y.A.editpara,children:(0,S.jsxs)("div",{className:"logo",children:[(0,S.jsx)("h5",{children:"Company logo"}),(0,S.jsx)("p",{children:"Upload the logo for your unique quotes and invoices."})]})}):(0,S.jsx)(S.Fragment,{})]})]})]})})}),_&&(0,S.jsxs)("div",{className:"updateButtonGeneral",children:[(0,S.jsx)("button",{className:"cancel",type:"button",onClick:()=>P(!1),children:"Cancel"}),(0,S.jsx)("button",{type:"submit",className:"save mr-3",disabled:Q.isPending,children:Q.isPending?"Updating...":"Update"})]})]})}},72413:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),a=n(65173),s=n.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}var l=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,u=void 0===m?"":m,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-link-45deg",u].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"}),r.createElement("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l},73898:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(65043),a=n(65173),s=n.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}var l=(0,r.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,u=void 0===m?"":m,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-pencil-square",u].filter(Boolean).join(" ")},p),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),r.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l}}]);
//# sourceMappingURL=4497.d7a828b2.chunk.js.map