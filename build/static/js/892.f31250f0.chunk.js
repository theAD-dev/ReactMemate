"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[892,6731],{54967:(e,s,l)=>{l.d(s,{Ab:()=>o,dg:()=>d,fr:()=>c,Ay:()=>h});var i=l(65043),t=l(44541),n=l(95192);const r="image-avatar_clientImg__-nnRU";var a=l(70579);const o=e=>{let{has_photo:s,photo:l,is_business:r,size:o}=e;const[d,c]=(0,i.useState)(!1),h=r?t.A:n.A;return(0,a.jsx)(a.Fragment,{children:s&&l&&!d?(0,a.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,a.jsx)(h,{color:"#667085",size:o})})},d=e=>{var s,l,t;let{has_photo:n,photo:r,name:o}=e;const[d,c]=(0,i.useState)(!1),h=o&&(null===o||void 0===o||null===(s=o.split(" "))||void 0===s||null===(l=s.map((e=>e[0])))||void 0===l||null===(t=l.join(""))||void 0===t?void 0:t.toUpperCase())||"";return(0,a.jsx)(a.Fragment,{children:n&&r&&!d?(0,a.jsx)("img",{src:r,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):h})},c=e=>{let{name:s,size:l=14}=e;const i=s.split(" ").map((e=>e[0])).join("").toUpperCase();return(0,a.jsx)("span",{style:{fontSize:`${l}px`},children:i})},h=e=>{let{has_photo:s,photo:l,is_business:o}=e;const[d,c]=(0,i.useState)(!1),h=o?t.A:n.A;return(0,a.jsx)("div",{className:`d-flex justify-content-center align-items-center ${r} ${o?"":"rounded-circle"}`,style:{overflow:"hidden"},children:s&&l&&!d?(0,a.jsx)("img",{src:l,alt:"client avatar",className:"w-100",onError:()=>c(!0)}):(0,a.jsx)(h,{color:"#667085"})})}},93888:(e,s,l)=>{l.r(s),l.d(s,{default:()=>he});var i=l(65043),t=l(75329),n=l(38294),r=l(80248),a=l(73216),o=l(35475),d=l(93747),c=l(72018),h=l(2028),p=l(20288),x=l(56328),u=l(9642),m=l(64824);const v="supplier-history_gobackBtn__AEzIv",j="supplier-history_filterBox__KSHF7",g="supplier-history_active__dp4So",f="supplier-history_selectedCount__4nkTZ",b="supplier-history_supplierName__4tJUs",y="supplier-history_boxBorderCorner__+5YHp",N="supplier-history_boxBorderRound__OR+ZL",w="supplier-history_status__J8061",A="supplier-history_inactive__cZ7PT";var _=l(52781),C=l(48417),S=l(14834),E=l(27734),$=l(99868),F=l(70579);const k=(0,i.forwardRef)(((e,s)=>{let{searchValue:l,selected:t,setSelected:n,isShowDeleted:r}=e;const{id:o}=(0,a.g)(),{trialHeight:d}=(0,C.$)(),c=(0,i.useRef)(null),[h,p]=(0,i.useState)([]),[x,v]=(0,i.useState)(1),[j,f]=(0,i.useState)({sortField:"id",sortOrder:-1}),[b,k]=(0,i.useState)({sortField:"id",sortOrder:-1}),[L,R]=(0,i.useState)(!0),[B,I]=(0,i.useState)(!1);(0,i.useEffect)((()=>{v(1)}),[l,r]),(0,i.useEffect)((()=>{(async()=>{I(!0);let e="";1===(null===b||void 0===b?void 0:b.sortOrder)?e=`${b.sortField}`:-1===(null===b||void 0===b?void 0:b.sortOrder)&&(e=`-${b.sortField}`);const s=await(0,_.xe)(o,x,25,l,e,r);var i;1===x?p(s.results):(null===s||void 0===s||null===(i=s.results)||void 0===i?void 0:i.length)>0&&p((e=>{const l=new Set(e.map((e=>e.number))),i=s.results.filter((e=>!l.has(e.number)));return[...e,...i]}));f(b),R(s.count!==h.length),I(!1)})()}),[x,l,b,r]),(0,i.useEffect)((()=>{if(h.length>0&&L){c.current=new IntersectionObserver((e=>{e[0].isIntersecting&&v((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&c.current.observe(e)}return()=>{c.current&&c.current.disconnect()}}),[h,L]);const z=e=>{const s=new Date(1e3*e);return`${s.getDate()} ${new Intl.DateTimeFormat("en-US",{month:"short"}).format(s)} ${s.getFullYear()}`};return(0,F.jsxs)(m.b,{ref:s,value:h,scrollable:!0,selectionMode:"checkbox",removableSort:!0,columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:`calc(100vh - 175px - ${d}px)`,className:"border",selection:t,onSelectionChange:e=>n(e.value),loading:B,loadingIcon:E.A,emptyMessage:(0,F.jsx)($.A,{isDataExist:!!l}),sortField:null===j||void 0===j?void 0:j.sortField,sortOrder:null===j||void 0===j?void 0:j.sortOrder,onSort:e=>{const{sortField:s,sortOrder:l}=e;v(1),k({sortField:s,sortOrder:l})},children:[(0,F.jsx)(u.V,{selectionMode:"multiple",headerClassName:"ps-4",bodyClassName:"show-on-hover ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,F.jsx)(u.V,{field:"number",header:"Expense ID",frozen:!0,sortable:!0,style:{minWidth:"122px",color:"#667085"},headerClassName:"shadowRight",bodyClassName:"shadowRight"}),(0,F.jsx)(u.V,{field:"created",body:e=>(0,F.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",style:{color:"#98A2B3"},children:z(e.created)}),header:"Date Input",style:{minWidth:"122px"},sortable:!0}),(0,F.jsx)(u.V,{field:"date",body:e=>(0,F.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",style:{color:"#98A2B3"},children:z(e.date)}),header:"Date Payed",style:{minWidth:"122px"},sortable:!0}),(0,F.jsx)(u.V,{field:"reference",header:"Reference",style:{minWidth:"606px"}}),(0,F.jsx)(u.V,{field:"gst",body:e=>(0,F.jsxs)("div",{className:` show-on-hover ${y}`,children:["$",(0,S.m)(e.gst)]}),header:"GST",style:{minWidth:"107px"},bodyClassName:"text-end",sortable:!0}),(0,F.jsx)(u.V,{field:"total",header:"Total",body:e=>(0,F.jsxs)("div",{className:` show-on-hover ${N}`,children:["$",(0,S.m)(e.total)]}),bodyClassName:"text-end",style:{minWidth:"111px"},sortable:!0}),(0,F.jsx)(u.V,{field:"type",header:"Interval/Order",style:{minWidth:"130px"}}),(0,F.jsx)(u.V,{field:"department",header:"Department",style:{minWidth:"217px"}}),(0,F.jsx)(u.V,{field:"account_code.code",header:"Account Code",body:e=>{var s,l;return(0,F.jsxs)(F.Fragment,{children:[null===e||void 0===e||null===(s=e.account_code)||void 0===s?void 0:s.code,": ",null===e||void 0===e||null===(l=e.account_code)||void 0===l?void 0:l.name]})},style:{minWidth:"214px"}}),(0,F.jsx)(u.V,{field:"paid",body:e=>(0,F.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:(0,F.jsx)("div",{className:`styleGrey01 ${w} ${e.paid?g:A}`,children:!0===e.paid?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{className:"dots"})," Paid "]}):(0,F.jsxs)(F.Fragment,{children:["Not Paid ",(0,F.jsx)("span",{className:"dots"})]})})}),header:"Status",bodyClassName:"text-center",style:{minWidth:"123px"}})]})}));var L=l(14282),R=l(56741),B=l(74856);const I=e=>{let{closeIconRef:s,hide:l}=e;return(0,F.jsx)("div",{className:"loading-details-sidebar",children:(0,F.jsxs)("div",{className:"d-flex flex-column",children:[(0,F.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,F.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,F.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{borderRadius:"var(--radius-xs, 4px)",border:"1px solid #dedede",width:"56px",height:"56px",overflow:"hidden"},children:(0,F.jsx)(B.E,{size:"3.5rem"})}),(0,F.jsx)(B.E,{height:"2rem",width:"20rem",className:"mb-2"})]}),(0,F.jsx)("span",{children:(0,F.jsx)(L.A,{type:"button",className:"text-button",ref:s,onClick:e=>l(e),children:(0,F.jsx)(R.A,{size:24,color:"#667085"})})})]}),(0,F.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 122px)",overflow:"auto"},children:[(0,F.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,F.jsx)(B.E,{height:"1.5rem",width:"10rem",className:"mb-2"}),(0,F.jsx)(B.E,{height:"1.5rem",width:"10rem",className:"mb-2"})]}),(0,F.jsx)(B.E,{width:"100%",className:"mb-4",height:"150px"}),(0,F.jsx)(B.E,{height:"1rem",className:"mb-2 w-50"}),(0,F.jsx)(B.E,{width:"100%",className:"mb-4",height:"150px"}),(0,F.jsx)(B.E,{height:"1rem",className:"mb-2 w-50"}),(0,F.jsx)(B.E,{width:"100%",className:"mb-4",height:"150px"}),(0,F.jsx)(B.E,{height:"1rem",className:"mb-2 w-50"}),(0,F.jsx)(B.E,{width:"100%",className:"mb-4",height:"150px"})]}),(0,F.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-between h-100",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)"},children:[(0,F.jsx)(B.E,{width:"4rem",height:"3rem"}),(0,F.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,F.jsx)(B.E,{width:"6rem",height:"3rem"}),(0,F.jsx)(B.E,{width:"6rem",height:"3rem"})]})]})]})})};var z=l(61072),P=l(78602),D=l(58387),O=l(76104);const M="supplier-view_profileBox__4E3R-",W="supplier-view_box__H5YHw",V="supplier-view_boxLabel__M4DCs",T="supplier-view_boxLabel2__XrcXa",H="supplier-view_label__-6y9m",Z="supplier-view_text__8In0T",U="supplier-view_iconBoxsContainer__Sqbls",q="supplier-view_iconBox__wXaw5";var G=l(74196),X=l(54967),J=l(93740);const Y=e=>{let{id:s,refetch:l}=e;const t=(0,a.Zp)(),[n,r]=(0,i.useState)(!1);return(0,F.jsxs)(L.A,{type:"button",disabled:n,onClick:e=>{e.stopPropagation(),(async e=>{e||x.oR.error("Id not found");try{r(!0);const s=await(0,_.tg)(e);if(null===s||void 0===s||!s.detail)throw new Error("Failed to restore supplier.");l(),t("/suppliers"),x.oR.success("Supplier restored successfully")}catch(s){console.log("err: ",s),x.oR.error("Failed to restore supplier. Please try again.")}finally{r(!1)}})(s)},className:"outline-button",children:["Restore Supplier ",n&&(0,F.jsx)(J.p,{style:{width:"20px",height:"20px"}})]})};var K=l(94819),Q=l(47097),ee=l(30970),se=l(57189),le=l(568),ie=l(74737);const te=e=>{let{id:s}=e;const{role:l}=(0,se.As)(),i=(0,a.Zp)(),t=(0,Q.n)({mutationFn:()=>(0,_.O5)(s),onSuccess:()=>{x.oR.success("Supplier deleted successfully"),i("/suppliers")},onError:e=>{console.log("error: ",e),x.oR.error("Failed to delete supplier. Please try again.")}}),n=()=>{t.mutate()},r=()=>{};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(ee.r,{}),(0,ie._)(l,le.J.SUPPLIERS.DELETE)?(0,F.jsx)(L.A,{type:"button",onClick:e=>{if(!s)return x.oR.error("Id not found");(0,ee.P)({target:e.currentTarget,message:"Do you want to delete this record?",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:n,reject:r})},disabled:t.isPending,className:"outline-button",children:t.isPending?(0,F.jsx)(J.p,{style:{width:"20px",height:"20px"}}):(0,F.jsx)(K.A,{color:"#344054",size:20})}):(0,F.jsx)("span",{})]})};var ne=l(64018),re=l(63712),ae=l(1340);const oe=(0,i.forwardRef)(((e,s)=>{var l,t,n,r,o,d;let{data:c,refetch:h,setIsPending:p,setIsEdit:u}=e;const{id:m}=(0,a.g)(),[v,j]=(0,i.useState)(null),[g]=(0,i.useState)({...c,industry:null===c||void 0===c||null===(l=c.service)||void 0===l?void 0:l.industry_id,service:null===c||void 0===c||null===(t=c.service)||void 0===t?void 0:t.id,addresses:null===c||void 0===c||null===(n=c.addresses)||void 0===n||null===(r=n.filter((e=>!(null!==e&&void 0!==e&&e.deleted))))||void 0===r?void 0:r.map((e=>({id:(null===e||void 0===e?void 0:e.id)||"",title:(null===e||void 0===e?void 0:e.title)||"",country:(null===e||void 0===e?void 0:e.country_id)||"",state:(null===e||void 0===e?void 0:e.state_id)||"",city:(null===e||void 0===e?void 0:e.city)||"",address:(null===e||void 0===e?void 0:e.address)||"",postcode:(null===e||void 0===e?void 0:e.postcode)||""})))}||null);0===(null===g||void 0===g||null===(o=g.addresses)||void 0===o?void 0:o.length)&&g.addresses.push({title:"Main Location",country:1}),0===(null===g||void 0===g||null===(d=g.contact_persons)||void 0===d?void 0:d.length)&&g.contact_persons.push({deleted:!1});return(0,F.jsx)(ae.A,{photo:v,setPhoto:j,ref:s,onSubmit:async e=>{m?(async e=>{const s=new FormData;s.append("name",e.name),e.email&&s.append("email",e.email),e.website&&s.append("website",e.website),e.abn&&s.append("abn",e.abn);const l=(null===e||void 0===e?void 0:e.phone)&&(0,ne.l)(e.phone);if(null!==l&&void 0!==l&&l.nationalNumber&&s.append("phone",e.phone),e.service&&s.append("service",e.service),e.note&&s.append("note",e.note),e.addresses.forEach(((e,l)=>{e.city&&(s.append(`addresses[${l}]city`,e.city),s.append(`addresses[${l}]title`,e.title),s.append(`addresses[${l}]address`,e.address),s.append(`addresses[${l}]is_main`,e.is_main),s.append(`addresses[${l}]postcode`,e.postcode),null!==e&&void 0!==e&&e.id&&s.append(`addresses[${l}]id`,null===e||void 0===e?void 0:e.id))})),e.contact_persons.forEach(((e,l)=>{if(e.firstname||e.email){s.append(`contact_persons[${l}]firstname`,e.firstname),s.append(`contact_persons[${l}]lastname`,e.lastname),s.append(`contact_persons[${l}]email`,e.email);const i=(null===e||void 0===e?void 0:e.phone)&&(0,ne.l)(e.phone);null!==i&&void 0!==i&&i.nationalNumber&&s.append(`contact_persons[${l}]phone`,e.phone),s.append(`contact_persons[${l}]position`,e.position),s.append(`contact_persons[${l}]is_main`,e.is_main),null!==e&&void 0!==e&&e.id&&s.append(`contact_persons[${l}]id`,null===e||void 0===e?void 0:e.id)}})),null!==v&&void 0!==v&&v.croppedImageBlob){const e=(0,re.Ak)(6);s.append("photo",null===v||void 0===v?void 0:v.croppedImageBlob,`${e}.jpg`)}try{p(!0);const e=localStorage.getItem("access_token"),l=await fetch(`https://app.memate.com.au/api/v1/suppliers/${m}/`,{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:s});l.ok?(h(),u(!1),console.log("response: ",l),x.oR.success("Supplier updated successfully")):x.oR.error("Failed to update supplier. Please try again.")}catch(i){x.oR.error("Failed to update supplier. Please try again.")}finally{p(!1)}})(e):x.oR.error("Supplier id not found")},defaultValues:g})})),de=e=>{var s,l,i,t,n,r,a,d,c;let{data:h}=e;console.log("view: ",h);null!==h&&void 0!==h&&null!==(s=h.services)&&void 0!==s&&s.includes(",")?null===h||void 0===h||null===(l=h.services)||void 0===l||l.split(","):null===h||void 0===h||null===(i=h.services)||void 0===i||i.split(" ");return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:(0,D.A)(W),children:[(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Company Name"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:h.name})]}),(0,F.jsxs)(P.A,{children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Email"}),(0,F.jsx)(o.N_,{to:"#",onClick:e=>{e.preventDefault(),window.location.href=`mailto:${null===h||void 0===h?void 0:h.email}`},children:(0,F.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#1AB2FF",fontSize:"16px"},children:[(0,F.jsxs)("div",{className:"ellipsis-width",title:null===h||void 0===h?void 0:h.email,children:[(null===h||void 0===h?void 0:h.email)||"-","\xa0"]}),(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,F.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]}),(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Website"}),(0,F.jsx)(o.N_,{to:null!==h&&void 0!==h&&h.website?h.website.startsWith("http://")||h.website.startsWith("https://")?h.website:`https://${h.website}`:"#",target:"_blank",children:(0,F.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#1AB2FF",fontSize:"16px"},children:[(0,F.jsxs)("div",{className:"ellipsis-width",title:null===h||void 0===h?void 0:h.website,children:[(null===h||void 0===h?void 0:h.website)||"-","\xa0"]}),(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,F.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),(0,F.jsxs)(P.A,{children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Phone"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:h.phone})]})]}),(0,F.jsx)(z.A,{children:(0,F.jsxs)(P.A,{children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"ABN"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:h.abn})]})})]}),(0,F.jsx)("h5",{className:(0,D.A)(V),children:"Services"}),(0,F.jsx)("div",{className:(0,D.A)(W),children:(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Industry"}),(0,F.jsx)("h4",{className:(0,D.A)(Z,"ellipsis-width"),children:(null===h||void 0===h||null===(t=h.service)||void 0===t?void 0:t.industry_name)||"-"})]}),(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Service"}),(0,F.jsx)("h4",{className:(0,D.A)(Z,"ellipsis-width"),children:(null===h||void 0===h||null===(n=h.service)||void 0===n?void 0:n.name)||"-"})]})]})}),(0,F.jsx)("h5",{className:(0,D.A)(V),children:"Note"}),(0,F.jsx)("div",{className:(0,D.A)(W),children:null===h||void 0===h?void 0:h.note}),(0,F.jsx)("h5",{className:(0,D.A)(V),children:"Contact Person"}),null===h||void 0===h||null===(r=h.contact_persons)||void 0===r?void 0:r.map((e=>(0,F.jsxs)("div",{className:(0,D.A)(W),children:[(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Full Name"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:`${e.firstname} ${e.lastname}`})]}),(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Email"}),(0,F.jsx)(o.N_,{to:"#",onClick:s=>{s.preventDefault(),window.location.href=`mailto:${null===e||void 0===e?void 0:e.email}`},children:(0,F.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#1AB2FF",fontSize:"16px"},children:[(0,F.jsxs)("div",{className:"ellipsis-width",title:null===e||void 0===e?void 0:e.email,children:[(null===e||void 0===e?void 0:e.email)||"-","\xa0"]}),(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:(0,F.jsx)("path",{d:"M6.3335 14.1666L14.6668 5.83331M14.6668 5.83331H6.3335M14.6668 5.83331V14.1666",stroke:"#106B99",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]}),(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Position"}),(0,F.jsx)("h4",{className:(0,D.A)(Z,"mb-0"),children:(null===e||void 0===e?void 0:e.position)||"-"})]}),(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Phone"}),(0,F.jsxs)("h4",{className:(0,D.A)(Z,"mb-0"),children:[(null===e||void 0===e?void 0:e.phone)||"-","\xa0\xa0",(0,F.jsx)(o.N_,{to:"#",onClick:s=>{s.preventDefault(),window.location.href=`tel:${null===e||void 0===e?void 0:e.phone}`},style:{position:"relative",top:"-2px"},children:(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",children:(0,F.jsx)("path",{d:"M4.15387 1.32849C3.90343 1.00649 3.42745 0.976861 3.139 1.26531L2.10508 2.29923C1.6216 2.78271 1.44387 3.46766 1.6551 4.06847C2.50338 6.48124 3.89215 8.74671 5.82272 10.6773C7.75329 12.6078 10.0188 13.9966 12.4315 14.8449C13.0323 15.0561 13.7173 14.8784 14.2008 14.3949L15.2347 13.361C15.5231 13.0726 15.4935 12.5966 15.1715 12.3461L12.8653 10.5524C12.7008 10.4245 12.4866 10.3793 12.2845 10.4298L10.0954 10.9771C9.50082 11.1257 8.87183 10.9515 8.43845 10.5181L5.98187 8.06155C5.54849 7.62817 5.37427 6.99919 5.52292 6.40459L6.07019 4.21553C6.12073 4.01336 6.07552 3.79918 5.94758 3.63468L4.15387 1.32849ZM2.38477 0.511076C3.12689 -0.231039 4.3515 -0.154797 4.99583 0.673634L6.78954 2.97983C7.1187 3.40304 7.23502 3.95409 7.10498 4.47423L6.55772 6.66329C6.49994 6.8944 6.56766 7.13888 6.7361 7.30732L9.19268 9.7639C9.36113 9.93235 9.6056 10.0001 9.83671 9.94229L12.0258 9.39502C12.5459 9.26498 13.097 9.3813 13.5202 9.71047L15.8264 11.5042C16.6548 12.1485 16.731 13.3731 15.9889 14.1152L14.955 15.1492C14.2153 15.8889 13.1089 16.2137 12.0778 15.8512C9.51754 14.9511 7.11438 13.4774 5.06849 11.4315C3.0226 9.38562 1.54895 6.98246 0.648838 4.42225C0.286318 3.39112 0.61113 2.28472 1.35085 1.545L2.38477 0.511076Z",fill:"#106B99"})})})]})]})]})]},e.id))),0===(null===h||void 0===h||null===(a=h.contact_persons)||void 0===a?void 0:a.length)&&(0,F.jsx)("div",{className:(0,D.A)(W),children:"-"}),(0,F.jsx)("h5",{className:(0,D.A)(V),children:"Locations"}),null===h||void 0===h||null===(d=h.addresses)||void 0===d?void 0:d.map((e=>(0,F.jsxs)("div",{className:(0,D.A)(W),children:[(0,F.jsx)("div",{className:(0,D.A)(U),children:(0,F.jsx)("div",{className:(0,D.A)(q),children:(0,F.jsx)(o.N_,{to:`http://maps.google.com/?q=${e.address}`,target:"_blank",children:(0,F.jsx)("img",{src:G,alt:"map"})})})}),(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Location Name"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:`${e.title||"-"}`})]}),(0,F.jsxs)(P.A,{children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Country"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:`${e.country||"-"}`})]})]}),(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"State"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:`${e.state||"-"}`})]}),(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"City"}),(0,F.jsx)("h4",{className:(0,D.A)(Z),children:`${e.city||"-"}`})]})]}),(0,F.jsxs)(z.A,{children:[(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Street Address"}),(0,F.jsx)("h4",{className:(0,D.A)(Z,"mb-0"),children:`${e.address||"-"}`})]}),(0,F.jsxs)(P.A,{sm:6,children:[(0,F.jsx)("label",{className:(0,D.A)(H),children:"Postcode"}),(0,F.jsx)("h4",{className:(0,D.A)(Z,"mb-0"),children:`${e.postcode||"-"}`})]})]})]},e.id))),0===(null===h||void 0===h||null===(c=h.addresses)||void 0===c?void 0:c.length)&&(0,F.jsx)("div",{className:(0,D.A)(W),children:"-"})]})},ce=e=>{let{data:s,refetch:l,closeIconRef:t,hide:n}=e;const{id:r}=(0,a.g)(),o=(0,i.useRef)(null),[d,c]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),x=()=>{o.current&&o.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,F.jsx)("div",{className:"view-details-sidebar",children:(0,F.jsxs)("div",{className:"d-flex flex-column",children:[(0,F.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,F.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,F.jsx)("div",{className:(0,D.A)(M,"d-flex align-items-center justify-content-center"),children:(0,F.jsx)(X.Ab,{has_photo:s.has_photo,photo:s.photo,is_business:!0,size:26})}),(0,F.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,F.jsx)("span",{style:{color:"344054",fontSize:"22px",fontWeight:600},children:null===s||void 0===s?void 0:s.name}),s.deleted?(0,F.jsx)(O.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]})]}),(0,F.jsx)("span",{children:(0,F.jsx)(L.A,{type:"button",className:"text-button",ref:t,onClick:e=>n(e),children:(0,F.jsx)(R.A,{size:24,color:"#667085"})})})]}),(0,F.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 122px)",overflow:"auto"},children:[(0,F.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,F.jsx)("h5",{className:(0,D.A)(V),children:"Supplier Details"}),(0,F.jsxs)("h6",{className:(0,D.A)(T),children:["Supplier ID: ",r]})]}),h?(0,F.jsx)(oe,{ref:o,refetch:l,setIsPending:c,setIsEdit:p,handleExternalSubmit:x,data:s}):(0,F.jsx)(de,{data:s})]}),(0,F.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-between h-100",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)"},children:[s.deleted?(0,F.jsx)("span",{}):(0,F.jsx)(te,{id:r,refetch:l}),h?(0,F.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,F.jsx)(L.A,{type:"button",onClick:()=>p(!1),className:"outline-button",children:"Cancel"}),(0,F.jsx)(L.A,{type:"button",onClick:x,className:"solid-button",style:{minWidth:"75px"},children:d?"Loading...":"Save"})]}):s.deleted?(0,F.jsx)(Y,{id:r,refetch:l}):(0,F.jsx)(L.A,{type:"button",onClick:()=>p(!0),className:"solid-button",children:"Edit"})]})]})})},he=()=>{var e,s,l;const u=(0,a.Zp)(),m=(0,i.useRef)(null),{id:y}=(0,a.g)(),[N,w]=(0,i.useState)(!0),[A,C]=(0,i.useState)(null),[S,E,$]=(0,h.d7)("",400),L=(0,d.I)({queryKey:["supplier-read",y],queryFn:()=>(0,_.Xq)(y),enabled:!!y,retry:1,cacheTime:0});i.useEffect((()=>{const e=e=>{const{type:s}=e.detail;"supplier"===s&&w(!0)};return window.addEventListener("openSearchResult",e),()=>{window.removeEventListener("openSearchResult",e)}}),[]);return"Not found"===(null===L||void 0===L||null===(e=L.error)||void 0===e?void 0:e.message)&&(x.oR.error("Supplier not found"),u("/suppliers")),(0,F.jsxs)("div",{className:"supplier-order-history-page",children:[(0,F.jsxs)("div",{className:"client-order-history",style:{width:N?"calc(100% - 559px)":"100%"},children:[(0,F.jsxs)("div",{className:`topbar ${null!==A&&void 0!==A&&A.length?g:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,F.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==A&&void 0!==A&&A.length?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("h6",{className:f,children:["Selected: ",null===A||void 0===A?void 0:A.length]}),(0,F.jsx)("div",{className:"filtered-box",children:(0,F.jsx)("button",{className:`${j}`,onClick:()=>{return e=!0,void(m.current?m.current.exportCSV({selectionOnly:e}):console.error("DataTable ref is null"));var e},children:(0,F.jsx)(t.A,{})})})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(o.N_,{to:"/suppliers",className:`${v}`,children:[(0,F.jsx)(n.A,{size:17}),"Back"]}),(0,F.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,F.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,F.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,F.jsx)("input",{type:"text",placeholder:"Search",value:S,onChange:e=>$(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),(0,F.jsx)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:(0,F.jsx)("h1",{onClick:()=>{w(!0)},className:`${b} m-0 p-0 cursor-pointer`,title:null===L||void 0===L||null===(s=L.data)||void 0===s?void 0:s.name,children:(null===L||void 0===L||null===(l=L.data)||void 0===l?void 0:l.name)||""})}),(0,F.jsx)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:(0,F.jsx)(c.$,{label:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(r.A,{color:"#1ab2ff",size:20})," \xa0 ",(0,F.jsx)("span",{style:{position:"relative",top:"2px"},children:"Open"})]}),onClick:()=>w(!0),className:"primary-text-button",text:!0})})]}),(0,F.jsx)(k,{ref:m,selected:A,setSelected:C})]}),(0,F.jsx)(p.B,{visible:N,position:"right",onHide:()=>w(!1),modal:!1,dismissable:!1,style:{width:"559px"},content:e=>{let{closeIconRef:s,hide:l}=e;return(0,F.jsx)(F.Fragment,{children:null!==L&&void 0!==L&&L.isLoading?(0,F.jsx)(I,{closeIconRef:s,hide:l}):(0,F.jsx)(ce,{data:null===L||void 0===L?void 0:L.data,refetch:L.refetch,closeIconRef:s,hide:l})})}})]})}},96141:(e,s,l)=>{l.d(s,{A:()=>d});var i=l(65043),t=l(65173),n=l.n(t),r=["color","size","title","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var i in l)({}).hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},a.apply(null,arguments)}var o=(0,i.forwardRef)((function(e,s){var l=e.color,t=void 0===l?"currentColor":l,n=e.size,o=void 0===n?"1em":n,d=e.title,c=void 0===d?null:d,h=e.className,p=void 0===h?"":h,x=function(e,s){if(null==e)return{};var l,i,t=function(e,s){if(null==e)return{};var l={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(s.includes(i))continue;l[i]=e[i]}return l}(e,s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)l=n[i],s.includes(l)||{}.propertyIsEnumerable.call(e,l)&&(t[l]=e[l])}return t}(e,r);return i.createElement("svg",a({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:t,className:["bi","bi-plus",p].filter(Boolean).join(" ")},x),c?i.createElement("title",null,c):null,i.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));o.propTypes={color:n().string,size:n().oneOfType([n().string,n().number]),title:n().string,className:n().string};const d=o}}]);
//# sourceMappingURL=892.f31250f0.chunk.js.map