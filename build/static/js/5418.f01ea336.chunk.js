"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5418],{93477:(e,r,s)=>{s.r(r),s.d(r,{ExistingClientsSearch:()=>A,default:()=>O});var t=s(65043),n=s(61072),a=s(78602),c=s(65975),i=s(38294),l=s(3494),o=s(36237),u=s(64416),h=s(25721),d=s(35475);function m(e,r,s){var n=this,a=(0,t.useRef)(null),c=(0,t.useRef)(0),i=(0,t.useRef)(null),l=(0,t.useRef)([]),o=(0,t.useRef)(),u=(0,t.useRef)(),h=(0,t.useRef)(e),d=(0,t.useRef)(!0);h.current=e;var m="undefined"!=typeof window,x=!r&&0!==r&&m;if("function"!=typeof e)throw new TypeError("Expected a function");r=+r||0;var p=!!(s=s||{}).leading,f=!("trailing"in s)||!!s.trailing,j="maxWait"in s,g="debounceOnServer"in s&&!!s.debounceOnServer,v=j?Math.max(+s.maxWait||0,r):null;(0,t.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var y=(0,t.useMemo)((function(){var e=function(e){var r=l.current,s=o.current;return l.current=o.current=null,c.current=e,u.current=h.current.apply(s,r)},s=function(e,r){x&&cancelAnimationFrame(i.current),i.current=x?requestAnimationFrame(e):setTimeout(e,r)},t=function(e){if(!d.current)return!1;var s=e-a.current;return!a.current||s>=r||s<0||j&&e-c.current>=v},y=function(r){return i.current=null,f&&l.current?e(r):(l.current=o.current=null,u.current)},b=function e(){var n=Date.now();if(t(n))return y(n);if(d.current){var i=r-(n-a.current),l=j?Math.min(i,v-(n-c.current)):i;s(e,l)}},w=function(){if(m||g){var h=Date.now(),x=t(h);if(l.current=[].slice.call(arguments),o.current=n,a.current=h,x){if(!i.current&&d.current)return c.current=a.current,s(b,r),p?e(a.current):u.current;if(j)return s(b,r),e(a.current)}return i.current||s(b,r),u.current}};return w.cancel=function(){i.current&&(x?cancelAnimationFrame(i.current):clearTimeout(i.current)),c.current=0,l.current=a.current=o.current=i.current=null},w.isPending=function(){return!!i.current},w.flush=function(){return i.current?y(Date.now()):u.current},w}),[p,j,r,v,f,x,m,g]);return y}function x(e,r){return e===r}function p(e,r){return r}function f(e,r,s){var n=s&&s.equalityFn||x,a=(0,t.useReducer)(p,e),c=a[0],i=a[1],l=m((0,t.useCallback)((function(e){return i(e)}),[i]),r,s),o=(0,t.useRef)(e);return n(o.current,e)||(l(e),o.current=e),n(c,e)&&l.cancel(),[c,l]}const j="https://app.memate.com.au/api/v1",g=async(e,r,s)=>{const t=new Headers,n=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${n}`),t.append("Content-Type","application/json");const a={method:"GET",headers:t,redirect:"follow"};try{const t=new URL(`${j}/clients`);t.searchParams.append("limit",e),t.searchParams.append("offset",r),s&&t.searchParams.append("name",s);const n=await fetch(t,a);return await n.json()}catch(c){throw console.error(c),c}};var v=s(48417);const y=s.p+"static/media/nodata.1f066de0dd0d7036f545.png",b=s.p+"static/media/nodataBg.d4aafd78fd6f37fd2b34.png";var w=s(54967),N=s(70579);const A=()=>{const{trialHeight:e}=(0,v.$)(),[r,s]=(0,t.useState)(""),[i]=f(r,500),[l,o]=(0,t.useState)([]),[u,m]=(0,t.useState)(!0),[x,p]=(0,t.useState)(!1),[j,A]=(0,t.useState)(0),O=(0,t.useRef)(null),S=(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p(!0);try{const r=25,s=e?0:j*r,t=(await g(r,s,i.toLowerCase())).results;e?(o(t),A(1)):(o((e=>{const r=new Set(e.map((e=>e.id))),s=t.filter((e=>!r.has(e.id)));return[...e,...s]})),A((e=>e+1))),t.length<r&&m(!1)}catch(r){console.error("Error fetching items:",r)}finally{p(!1)}}),[j,i]),C=e=>{e[0].isIntersecting&&u&&!x&&S()};return(0,t.useEffect)((()=>{const e=new IntersectionObserver(C);return O.current&&e.observe(O.current),()=>{O.current&&e.unobserve(O.current)}}),[C]),(0,t.useEffect)((()=>{S(!0)}),[i]),(0,N.jsx)("div",{className:"existingClients py-0",children:(0,N.jsx)("div",{style:{height:`calc(100vh - 385px - ${e}px)`},children:(0,N.jsx)("div",{className:"newQuoteContent",style:{height:"100%"},children:(0,N.jsxs)("div",{className:"h-100 mt-0",children:[(0,N.jsx)("div",{className:"search-header",children:(0,N.jsxs)("div",{className:"searchGroupFilter d-flex align-items-center",style:{gap:"10px"},children:[(0,N.jsx)(h.A,{color:"#98A2B3",size:20}),(0,N.jsx)("input",{id:"search-box",placeholder:"Search",value:r,className:"pl-2",onChange:e=>s(e.target.value)})]})}),(0,N.jsx)("div",{className:"mt-2 h-100",children:(0,N.jsxs)("ul",{className:"client customscrollBar",children:[l&&l.map((e=>(0,N.jsx)("li",{children:(0,N.jsxs)(d.N_,{to:(e.is_business,`/sales/newquote/selectyourclient/client-information/scope-of-work/${e.id}`),className:"d-flex align-items-center w-100",children:[(0,N.jsx)(w.h,{has_photo:e.has_photo,photo:e.photo,is_business:e.is_business}),(0,N.jsx)("span",{className:"name",children:e.name})]})},e.id))),(0,N.jsx)("div",{className:"rowBorderHide targetObserver",children:(0,N.jsx)("div",{className:"targetObserver px-3",ref:O,children:x&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(n.A,{children:[(0,N.jsx)(a.A,{sm:1,children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,N.jsx)(a.A,{sm:11,className:"ps-0",children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]}),(0,N.jsxs)(n.A,{children:[(0,N.jsx)(a.A,{sm:1,children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,N.jsx)(a.A,{sm:11,className:"ps-0",children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]})]})})}),!x&&(!l||0===l.length)&&(0,N.jsxs)("div",{className:"no-search",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundImage:`url(${b})`},children:[(0,N.jsx)("img",{src:y,alt:"no-data",style:{width:"332px"}}),(0,N.jsx)("h1",{children:"There is no results"}),(0,N.jsx)("p",{children:"The user you are looking for doesn't exist."})]})]})})]})})})})},O=()=>{const{trialHeight:e}=(0,v.$)(),[r,s]=(0,t.useState)(""),[m]=f(r,500),[x,p]=(0,t.useState)([]),[j,A]=(0,t.useState)(!0),[O,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(0),k=(0,t.useRef)(null),_=(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];S(!0);try{const r=25,s=e?0:C*r,t=(await g(r,s,m.toLowerCase())).results;e?(p(t),E(1)):(p((e=>{const r=new Set(e.map((e=>e.id))),s=t.filter((e=>!r.has(e.id)));return[...e,...s]})),E((e=>e+1))),t.length<r&&A(!1)}catch(r){console.error("Error fetching items:",r)}finally{S(!1)}}),[C,m]),z=e=>{e[0].isIntersecting&&j&&!O&&_()};return(0,t.useEffect)((()=>{const e=new IntersectionObserver(z);return k.current&&e.observe(k.current),()=>{k.current&&e.unobserve(k.current)}}),[z]),(0,t.useEffect)((()=>{_(!0)}),[m]),(0,N.jsx)("div",{className:"newQuotePage existingClients overflowScroll",children:(0,N.jsxs)("div",{style:{height:`calc(100vh - 249px - ${e}px)`},children:[(0,N.jsx)("div",{className:"newQuoteBack",children:(0,N.jsx)(d.k2,{to:"/sales/newquote/selectyourclient",children:(0,N.jsxs)("button",{children:[(0,N.jsx)(i.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,N.jsxs)("div",{className:"newQuoteContent",style:{height:"100%"},children:[(0,N.jsx)("div",{className:"navStepClient",children:(0,N.jsxs)("ul",{children:[(0,N.jsxs)("li",{className:"activeClientTab",children:[(0,N.jsx)("span",{children:(0,N.jsx)(l.A,{color:"#D0D5DD",size:15})})," ",(0,N.jsx)("p",{children:"Choose Client"})]}),(0,N.jsxs)("li",{className:"deactiveColorBox",children:[(0,N.jsx)("span",{children:(0,N.jsx)(o.A,{color:"#A3E0FF",size:15})})," ",(0,N.jsx)("p",{children:"Client Information"})," "]}),(0,N.jsxs)("li",{className:"deactiveColorBox",children:[(0,N.jsx)("span",{children:(0,N.jsx)(u.A,{color:"#A3E0FF",size:15})})," ",(0,N.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,N.jsxs)("div",{className:"mt-4 h-100",children:[(0,N.jsx)("div",{className:"search-header",children:(0,N.jsxs)("div",{className:"searchGroupFilter d-flex align-items-center",style:{gap:"10px"},children:[(0,N.jsx)(h.A,{color:"#98A2B3",size:20}),(0,N.jsx)("input",{id:"search-box",placeholder:"Search",value:r,className:"pl-2",onChange:e=>s(e.target.value)})]})}),(0,N.jsx)("div",{className:"mt-4 h-100",children:(0,N.jsxs)("ul",{className:"client customscrollBar",children:[x&&x.map((e=>(0,N.jsx)("li",{children:(0,N.jsxs)(d.N_,{to:(e.is_business,`/sales/newquote/selectyourclient/client-information/scope-of-work/${e.id}`),className:"d-flex align-items-center w-100",children:[(0,N.jsx)(w.h,{has_photo:e.has_photo,photo:e.photo,is_business:e.is_business}),(0,N.jsx)("span",{className:"name",children:e.name})]})},e.id))),(0,N.jsx)("div",{className:"rowBorderHide targetObserver",children:(0,N.jsx)("div",{className:"targetObserver px-3",ref:k,children:O&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(n.A,{children:[(0,N.jsx)(a.A,{sm:1,children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,N.jsx)(a.A,{sm:11,className:"ps-0",children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]}),(0,N.jsxs)(n.A,{children:[(0,N.jsx)(a.A,{sm:1,children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,N.jsx)(a.A,{sm:11,className:"ps-0",children:(0,N.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,N.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]})]})})}),!O&&(!x||0===x.length)&&(0,N.jsxs)("div",{className:"no-search",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundImage:`url(${b})`},children:[(0,N.jsx)("img",{src:y,alt:"no-data",style:{width:"332px"}}),(0,N.jsx)("h1",{children:"There is no results"}),(0,N.jsx)("p",{children:"The user you are looking for doesn't exist."})]})]})})]})]})]})})}},54967:(e,r,s)=>{s.d(r,{A:()=>l,h:()=>o});var t=s(65043),n=s(44541),a=s(95192);const c="image-avatar_clientImg__-nnRU";var i=s(70579);const l=e=>{let{has_photo:r,photo:s,is_business:c,size:l}=e;const[o,u]=(0,t.useState)(!1),h=c?n.A:a.A;return(0,i.jsx)(i.Fragment,{children:r&&s&&!o?(0,i.jsx)("img",{src:s,alt:"client avatar",className:"w-100",onError:()=>u(!0)}):(0,i.jsx)(h,{color:"#667085",size:l})})},o=e=>{let{has_photo:r,photo:s,is_business:l}=e;const[o,u]=(0,t.useState)(!1),h=l?n.A:a.A;return(0,i.jsx)("div",{className:`d-flex justify-content-center align-items-center ${c} ${l?"":"rounded-circle"}`,style:{overflow:"hidden"},children:r&&s&&!o?(0,i.jsx)("img",{src:s,alt:"client avatar",className:"w-100",onError:()=>u(!0)}):(0,i.jsx)(h,{color:"#667085"})})}},64416:(e,r,s)=>{s.d(r,{A:()=>u});var t=s(65043),n=s(65173),a=s.n(n),c=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},i.apply(this,arguments)}function l(e,r){if(null==e)return{};var s,t,n=function(e,r){if(null==e)return{};var s,t,n={},a=Object.keys(e);for(t=0;t<a.length;t++)s=a[t],r.indexOf(s)>=0||(n[s]=e[s]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)s=a[t],r.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var o=(0,t.forwardRef)((function(e,r){var s=e.color,n=e.size,a=e.title,o=e.className,u=l(e,c);return t.createElement("svg",i({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-card-list",o].filter(Boolean).join(" ")},u),a?t.createElement("title",null,a):null,t.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"}),t.createElement("path",{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string},o.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const u=o},38294:(e,r,s)=>{s.d(r,{A:()=>u});var t=s(65043),n=s(65173),a=s.n(n),c=["color","size","title","className"];function i(){return i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},i.apply(this,arguments)}function l(e,r){if(null==e)return{};var s,t,n=function(e,r){if(null==e)return{};var s,t,n={},a=Object.keys(e);for(t=0;t<a.length;t++)s=a[t],r.indexOf(s)>=0||(n[s]=e[s]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)s=a[t],r.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var o=(0,t.forwardRef)((function(e,r){var s=e.color,n=e.size,a=e.title,o=e.className,u=l(e,c);return t.createElement("svg",i({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-chevron-left",o].filter(Boolean).join(" ")},u),a?t.createElement("title",null,a):null,t.createElement("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string},o.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const u=o}}]);
//# sourceMappingURL=5418.f01ea336.chunk.js.map