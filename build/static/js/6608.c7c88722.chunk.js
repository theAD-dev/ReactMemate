"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[6608],{56608:(e,t,r)=>{r.r(t),r.d(t,{default:()=>$});var l=r(65043),i=r(60035),n=r(76163),o=r(91704),s=r(65173),a=r.n(s),d=["color","size","title","className"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},c.apply(null,arguments)}var u=(0,l.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,n=e.size,o=void 0===n?"1em":n,s=e.title,a=void 0===s?null:s,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,i=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,d);return l.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:i,className:["bi","bi-chevron-right",p].filter(Boolean).join(" ")},m),a?l.createElement("title",null,a):null,l.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"}))}));u.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const p=u;var m=r(38294),f=r(73216),h=r(28261),v=r(93740),b=r(56328),y=r(87201);function x(e){let{defaultOrgId:t,initialForm:r=null}=e;if("undefined"===typeof window)return;const l=document.querySelector(".mf-builder")||document;if("true"===l.dataset.builderInitialized)return void console.log("Builder already initialized, skipping...");l.dataset.builderInitialized="true";const i=l.querySelector("#preview-container"),n=l.querySelector("#properties-container"),o=l.querySelector("#form_style"),s=l.querySelector("#preview-btn"),a=l.querySelector("#save-btn");let d=1,c={},u=null,p=(null===r||void 0===r?void 0:r.id)||null,m=[],f=-1;function h(){f<m.length-1&&(m=m.slice(0,f+1)),m.push(JSON.parse(JSON.stringify(c))),m.length>50?m.shift():f++}function v(e){c=JSON.parse(JSON.stringify(e)),function(){i.querySelectorAll(".preview-field").forEach((e=>e.remove())),Object.keys(c).forEach((e=>{const t=c[e],r=t.field_type||t.type,l=document.createElement("div");l.className="preview-field",l.id=e,l.dataset.type=r,l.innerHTML=_(r)+L(),i.appendChild(l),C(l,e,r),function(e,t,r,l){const i=e.querySelector(".form-field > label, .checkbox-field label");i&&l.label&&(i.textContent=l.label);if(["text","email","number","phone","url","date","time"].includes(r)){const t=e.querySelector("input");t&&l.placeholder&&(t.placeholder=l.placeholder)}else if("textarea"===r){const t=e.querySelector("textarea");t&&l.placeholder&&(t.placeholder=l.placeholder)}}(l,0,r,t)})),T(),g();const e=i.querySelector(".empty-state");e&&(e.style.display=0===Object.keys(c).length?"flex":"none")}()}function b(e){const t=c[e];if(!t||!t.visible_if)return!0;const{field_id:r,value:i}=t.visible_if;if(!r||null==i||""===i)return!0;const n=function(e){const t=l.querySelector(`#${e}`);if(!t)return null;const r=t.dataset.type;if("select"===r){var i;const e=t.querySelector("select");if(!e)return null;const r=null===(i=e.options)||void 0===i?void 0:i[e.selectedIndex];return(r?(r.textContent||"").trim():"")||null}if("radio"===r){const e=t.querySelector('input[type="radio"]:checked');if(!e)return null;const r=t.querySelector(`label[for="${e.id}"]`);return((null===r||void 0===r?void 0:r.textContent)||"").trim()||null}if("multicheckbox"===r){const e=Array.from(t.querySelectorAll('input[type="checkbox"]:checked'));return e.length?e.map((e=>{const r=t.querySelector(`label[for="${e.id}"]`);return((null===r||void 0===r?void 0:r.textContent)||"").trim()})).filter(Boolean):[]}if("checkbox"===r||"consent"===r){const e=t.querySelector('input[type="checkbox"]');return e?e.checked?"Checked":"Unchecked":null}const n=t.querySelector("input, select, textarea");return n&&(n.value||"").trim()||null}(r);return Array.isArray(n)?n.includes(i):n===i}let x=!1;function g(){if(!x)return void Object.keys(c).forEach((e=>{var t;const r=l.querySelector(`#${e}`);if(!r)return;const i=!(null===(t=c[e])||void 0===t||!t.visible_if);r.style.display="",i?r.classList.add("has-condition"):r.classList.remove("has-condition")}));let e="";for(let t=0;t<5;t++){Object.keys(c).forEach((e=>{const t=l.querySelector(`#${e}`);if(!t)return;const r=b(e);t.style.display=r?"":"none",r||u!==e||(u=null,n.classList.remove("has-selection"),i.querySelectorAll(".preview-field").forEach((e=>e.classList.remove("selected"))))}));const t=Object.keys(c).map((e=>{const t=l.querySelector(`#${e}`);return`${e}:${"none"===(null===t||void 0===t?void 0:t.style.display)?0:1}`})).join("|");if(t===e)break;e=t}}if(window.addEventListener("builder-undo",(function(){f>0&&(f--,v(m[f]))})),window.addEventListener("builder-redo",(function(){f<m.length-1&&(f++,v(m[f]))})),r)try{!function(e){var t,r;B("form-title",e.title),B("form-type",e.type||"web"),B("form-domain",e.domain),B("form-description",e.description||(null===(t=e.meta)||void 0===t?void 0:t.description)||""),B("form-submit-to",e.submit_to),B("form-submit-from",e.submit_from),B("form-cc-email",e.cc_email),B("form-bcc-email",e.bcc_email),B("form-thank-you",e.thank_you_message),B("form-error-message",e.error_message),B("form-submit-label",e.submit_button_label||"Submit"),B("form-redirect-url",e.redirect_url),B("form-recaptcha-key",e.recaptcha_site_key),B("form-recaptcha-secret",e.recaptcha_secret_key);const n=l.querySelector("#preview-form-title"),s=l.querySelector("#preview-form-description");n&&(n.textContent=e.title||"Title");s&&(s.textContent=e.description||(null===(r=e.meta)||void 0===r?void 0:r.description)||"Description");o&&e.custom_css&&(o.value=e.custom_css);const a=(e.fields||[]).slice().sort(((e,t)=>{var r,l;return(null!==(r=e.order)&&void 0!==r?r:0)-(null!==(l=t.order)&&void 0!==l?l:0)}));if(i.querySelectorAll(".preview-field").forEach((e=>e.remove())),c={},d=1,a.forEach(F),T(),a.length>0){const e=i.querySelector(".empty-state");e&&(e.style.display="none")}Object.keys(c).forEach((e=>{const t=c[e];if(t.visible_if&&t.visible_if.field_name){const e=Object.keys(c).find((e=>{var r;return((null===(r=c[e])||void 0===r?void 0:r.name)||"").trim()===t.visible_if.field_name}));e&&(t.visible_if.field_id=e)}})),g()}(r),setTimeout((()=>{const e=l.querySelector("#preview-form-title"),t=l.querySelector("#preview-form-description"),r=l.querySelector("#form-title"),i=l.querySelector("#form-description");e&&r&&r.value&&(e.textContent=r.value),t&&i&&i.value&&(t.textContent=i.value)}),100)}catch(D){console.error("Hydration failed:",D)}const w=l.querySelector("#form-title"),q=l.querySelector("#form-description"),S=l.querySelector("#preview-form-title"),j=l.querySelector("#preview-form-description");w&&S&&w.addEventListener("input",(e=>{S.textContent=e.target.value||"Title"})),q&&j&&q.addEventListener("input",(e=>{j.textContent=e.target.value||"Description"}));const $=l.querySelector(".field-types");$&&$.addEventListener("dragstart",(e=>{const t=e.target&&e.target.closest(".field-type");if(t)try{e.dataTransfer&&(e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("text/plain",t.dataset.type),e.dataTransfer.setData("application/x-field-type",t.dataset.type))}catch(r){}}),!0);let E=null,k=null;function _(e){const t={text:'<div class="form-field"><label>Text Field</label><input type="text" placeholder="Enter text"></div>',email:'<div class="form-field"><label>Email Field</label><input type="email" placeholder="Enter email"></div>',number:'<div class="form-field"><label>Number Field</label><input type="number" placeholder="Enter number"></div>',phone:'<div class="form-field"><label>Phone Field</label><input type="tel" placeholder="Enter phone"></div>',textarea:'<div class="form-field"><label>Text Area</label><textarea placeholder="Enter text"></textarea></div>',select:'<div class="form-field"><label>Dropdown</label><select><option value="">Select an option</option><option>Option 1</option><option>Option 2</option></select></div>',radio:'<div class="form-field"><label>Radio Buttons</label><div class="radio-field"><input id="r1" type="radio" name="rg"><label for="r1">Option 1</label></div><div class="radio-field"><input id="r2" type="radio" name="rg"><label for="r2">Option 2</label></div></div>',checkbox:'<div class="form-field"><div class="checkbox-field"><input id="cb" type="checkbox"><label for="cb" class="mb-0">Checkbox</label></div></div>',multicheckbox:'<div class="form-field"><label>Multi Checkbox</label><div class="checkbox-field"><input id="m1" type="checkbox"><label for="m1">Option 1</label></div><div class="checkbox-field"><input id="m2" type="checkbox"><label for="m2">Option 2</label></div></div>',date:'<div class="form-field"><label>Date</label><input type="date"></div>',time:'<div class="form-field"><label>Time</label><input type="time"></div>',url:'<div class="form-field"><label>Website URL</label><input type="url" placeholder="https://example.com"></div>',address:'<div class="form-field"><label>Address</label><div class="address-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">\n        <input type="text" placeholder="Address line 1">\n        <input type="text" placeholder="Address line 2">\n        <input type="text" placeholder="City">\n        <input type="text" placeholder="State">\n        <input type="text" placeholder="Postcode">\n        <input type="text" placeholder="Country">\n      </div></div>',image:'<div class="form-field"><label>Image Upload</label>\n        <div class="upload-box" style="border:1px dashed #d0d5dd;border-radius:10px;padding:16px 20px;display:flex;align-items:center;justify-content:space-between;gap:16px;background:#fff;">\n          <div style="display:flex;flex-direction:column;gap:2px;">\n            <div style="font-weight:600;font-size:14px;color:#101828;">Drop image here</div>\n            <div style="font-size:13px;color:#158ecc;">or click <span style="color:#158ecc;font-weight:500;">Browse</span></div>\n          </div>\n          <label class="upload-browse-btn" style="margin:0;cursor:pointer;padding:8px 16px;border-radius:8px;border:1px solid #d0d5dd;background:#fff;font-size:14px;font-weight:500;color:#344054;transition:all 0.2s;">\n            Browse\n            <input type="file" accept="image/*" style="display:none;" />\n          </label>\n        </div>\n        <div class="upload-filename" style="margin-top:8px;font-size:12px;color:#667085;"></div>\n      </div>',html:'<div class="form-field html-content"><p>HTML Content</p></div>',consent:'<div class="form-field"><div class="checkbox-field"><input id="consent" type="checkbox"><label for="consent" class="mb-0">I agree to the terms and conditions</label></div></div>',submit_button:'<div class="form-field"><button type="submit" class="btn-primary">Submit</button></div>'};return t[e]||t.text}function L(){return`\n      <div class="field-actions">\n        <input type="checkbox" class="required-toggle" title="Required" ${arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"checked":""} />\n        <button class="move-field-up" title="Up">\u2191</button>\n        <button class="move-field-down" title="Down">\u2193</button>\n        <button class="edit-field" title="Edit">\u270e</button>\n        <button class="remove-field" title="Remove">\u26cc</button>\n      </div>`}function A(e){const t=c[e],r=l.querySelector(`#${e}`);if(!r)return;const i=r.dataset.type,n=r.querySelector(".required-toggle");n&&(n.checked=!!t.required);const o=l.querySelector("#fp-req");if(o&&(o.checked=!!t.required),"address"===i){const e=r.querySelector(".address-grid");if(e){var s;const r=e.querySelectorAll("input"),l=(null===(s=t.options)||void 0===s?void 0:s.parts)||[];r.forEach(((e,r)=>{const i=l[r];t.required&&null!==i&&void 0!==i&&i.required?e.setAttribute("required",""):e.removeAttribute("required")}))}}else r.querySelectorAll("input, textarea, select").forEach((e=>{t.required?e.setAttribute("required",""):e.removeAttribute("required")}));const a=r.querySelector(".form-field > label");if(a){let e=a.querySelector(".required-star");t.required&&!e?a.insertAdjacentHTML("beforeend",' <span class="required-star">*</span>'):!t.required&&e&&e.remove()}}function C(e,t,r){e.addEventListener("click",(e=>{e.target.closest(".field-actions")||O(t,r)}));const l=e.querySelector(".required-toggle");l&&l.addEventListener("change",(e=>{c[t].required=e.target.checked,A(t),h()})),e.querySelector(".remove-field").addEventListener("click",(()=>{if(delete c[t],e.remove(),T(),h(),u===t){n.classList.remove("has-selection");const e=n.querySelector(".field-props-placeholder");e&&(e.innerHTML='\n            <div class="panel-header">\n              <h2>Properties</h2>\n            </div>\n            <div class="no-selection">\n              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" opacity="0.2">\n                <rect x="3" y="5" width="18" height="14" rx="2"/>\n                <path d="M7 10h10M7 14h6"/>\n              </svg>\n              <p>Select a field to edit its properties</p>\n            </div>\n          ')}const r=i.querySelectorAll(".preview-field"),l=i.querySelector(".empty-state");0===r.length&&l&&(l.style.display="flex")})),e.querySelector(".move-field-up").addEventListener("click",(t=>{t.stopPropagation(),e.previousElementSibling&&e.previousElementSibling.classList.contains("preview-field")&&e.parentNode.insertBefore(e,e.previousElementSibling),N(),T(),h()})),e.querySelector(".move-field-down").addEventListener("click",(t=>{t.stopPropagation();const r=e.nextElementSibling;r&&r.classList.contains("preview-field")&&e.parentNode.insertBefore(r,e),N(),T(),h()})),e.querySelector(".edit-field").addEventListener("click",(e=>{e.stopPropagation(),O(t,r)}))}function N(){const e={};i.querySelectorAll(".preview-field").forEach((t=>{e[t.id]=c[t.id]})),c=e,T()}function T(){const e=Array.from(i.querySelectorAll(".preview-field"));e.forEach(((t,r)=>{const l=t.querySelector(".move-field-up"),i=t.querySelector(".move-field-down");l&&(l.disabled=0===r),i&&(i.disabled=r===e.length-1)}))}function O(e,t){u=e;const r=c[e];i.querySelectorAll(".preview-field").forEach((e=>e.classList.remove("selected")));const o=i.querySelector(`#${e}`);o&&o.classList.add("selected"),n.classList.add("has-selection");let s=n.querySelector(".field-props-placeholder");s||(s=document.createElement("div"),s.className="field-props-placeholder",n.insertBefore(s,n.firstChild)),s.innerHTML=`\n      <div class="panel-header">\n        <h2>Properties</h2>\n      </div>\n      <div class="property-group">\n        <h3>Basic</h3>\n        <label>Label <input id="fp-label" value="${H(r.label)}"></label>\n        <label>CSS class (optional)\n          <input id="fp-class" value="${z(r.custom_class||"")}" placeholder="e.g. contact-form__field" />\n        </label>\n        <p class="help-text">\n          Optional. Adds a class on this field wrapper so your website can style it. Leave blank if you\u2019re not sure.\n        </p>\n        ${["text","email","number","phone","url","textarea"].includes(t)?`<label>Placeholder <input id="fp-ph" value="${H(r.placeholder||"")}"></label>`:""}\n        ${["text","email","number","phone","url","textarea"].includes(t)?`<label>Max Length <input id="fp-max" min="0" type="number" value="${z(r.maxlength||"")}"></label>`:""}\n        ${["text","email","number","phone","url","textarea"].includes(t)?`\n          <div class="property-subtle">\n            <label>Validation Pattern (Regex)\n              <input id="fp-regex" placeholder="e.g. ^[A-Za-z]{3,}$" value="${z(r.regex||"")}">\n            </label>\n            <p class="help-text text-start">Optional. Add a regex pattern for validation.</p>\n            <label>Regex Error Message <span id="fp-errmsg-required" class="required" style="display: ${r.regex?"inline":"none"};">*</span>\n              <input id="fp-errmsg" placeholder="e.g. Please enter only letters" value="${z(r.error_message||"")}" style="border-color: ${r.regex&&!r.error_message?"#dc3545":""};">\n            </label>\n            <p class="help-text">Required when Validation Pattern is set. Custom message to show when validation fails.</p>\n          </div>`:""}\n        <label class="inline"><input type="checkbox" id="fp-req" ${r.required?"checked":""}> <span>Required</span></label>\n      </div>\n      ${(()=>{if("submit_button"===t)return"";const l=["select","radio","multicheckbox","checkbox","consent"];return 0===Object.keys(c).filter((t=>t!==e)).map((e=>c[e])).filter((e=>l.includes(e.field_type||e.type))).length?"":`\n      <div class="property-group" id="fp-conditional-group">\n        <h3>Conditional</h3>\n        <label class="inline">\n          <input type="checkbox" id="fp-cond-enabled" ${r.visible_if?"checked":""}>\n          <span>Show this field conditionally</span>\n        </label>\n        <div id="fp-cond-wrap" style="display:${r.visible_if?"block":"none"}; margin-top: 12px;">\n          <label>Controlling field\n            <select id="fp-cond-field"></select>\n          </label>\n          <label>Value\n            <select id="fp-cond-value"></select>\n          </label>\n        </div>\n        <p class="help-text">Show this field only when the selected field above has a specific value.</p>\n      </div>\n      `})()}\n      ${"image"===t?`\n        <div class="property-group">\n          <h3>Upload</h3>\n          <label>Allowed types\n            <input id="fp-accept" value="${z(r.options&&!Array.isArray(r.options)&&r.options.accept||"image/*")}" placeholder="image/*">\n          </label>\n          <label class="inline" style="margin-top:8px;">\n            <input type="checkbox" id="fp-multiple" ${r.options&&!Array.isArray(r.options)&&r.options.multiple?"checked":""}>\n            <span>Allow multiple</span>\n          </label>\n          <p class="help-text">Frontend-only. Stored in form JSON for renderer.</p>\n        </div>`:""}\n      ${["select","radio","multicheckbox"].includes(t)?'\n        <div class="property-group">\n          <h3>Options</h3>\n          <div id="fp-options"></div>\n          <button id="fp-addopt" type="button" class="fp-addopt">Add Option</button>\n        </div>':""}\n      ${"html"===t?`\n        <div class="property-group">\n          <h3>HTML</h3>\n          <textarea id="fp-html" rows="5">${H(r.html||"")}</textarea>\n        </div>`:""}\n      ${"submit_button"===t?`\n        <div class="property-group">\n          <h3>Button</h3>\n          <label>Text <input id="fp-btntext" value="${H(r.button_text||"Submit")}"></label>\n          <label>Style (CSS) <textarea id="fp-btncss" rows="3">${H(r.custom_style||"")}</textarea></label>\n        </div>`:""}\n      <div class="property-group"><button id="fp-apply" type="button">Update Field</button></div>\n    `;const a=()=>{const i=l.querySelector("#"+e);if(!i)return;const n=i.querySelector(".form-field > label, .checkbox-field label");if(n&&(n.textContent=r.label),["text","email","number","phone","url","date","time"].includes(t)){const e=i.querySelector("input");e&&(r.placeholder&&(e.placeholder=r.placeholder),r.maxlength&&!isNaN(r.maxlength)&&r.maxlength>0&&(e.maxLength=parseInt(r.maxlength,10)),r.required?e.setAttribute("required",""):e.removeAttribute("required"))}else if("textarea"===t){const e=i.querySelector("textarea");e&&(r.placeholder&&(e.placeholder=r.placeholder),r.maxlength&&!isNaN(r.maxlength)&&r.maxlength>0&&(e.maxLength=parseInt(r.maxlength,10)),r.required?e.setAttribute("required",""):e.removeAttribute("required"))}else if("image"===t){const e=i.querySelector(".form-field > label");e&&(e.textContent=r.label);const t=i.querySelector('input[type="file"]');if(t){const e=null!==r&&void 0!==r&&r.options&&!Array.isArray(r.options)?r.options.accept:"image/*";t.setAttribute("accept",e||"image/*"),null!==r&&void 0!==r&&r.options&&!Array.isArray(r.options)&&r.options.multiple?t.setAttribute("multiple",""):t.removeAttribute("multiple"),r.required?t.setAttribute("required",""):t.removeAttribute("required")}}else if("select"===t){const e=i.querySelector("select");e&&(e.innerHTML=`<option value="">${r.placeholder||"Select an option"}</option>`+(r.options||[]).map((e=>`<option>${H(e)}</option>`)).join(""),r.required?e.setAttribute("required",""):e.removeAttribute("required"))}else if("radio"===t)U(i,e,t,r);else if("multicheckbox"===t)U(i,e,t,r);else if("checkbox"===t){const e=i.querySelector(".checkbox-field label");e&&(e.textContent=r.label);const t=i.querySelector(".checkbox-field input");t&&(r.required?t.setAttribute("required",""):t.removeAttribute("required"))}else if("consent"===t){const e=i.querySelector(".checkbox-field label");e&&(e.textContent=r.label);const t=i.querySelector(".checkbox-field input");t&&(r.required?t.setAttribute("required",""):t.removeAttribute("required"))}else if("submit_button"===t){const e=i.querySelector("button");e&&(e.textContent=r.button_text||"Submit",r.custom_style?e.setAttribute("style",r.custom_style):e.removeAttribute("style"))}else if("html"===t){const e=i.querySelector(".html-content");e&&(e.innerHTML=r.html||"<p></p>")}g()};if(["select","radio","multicheckbox"].includes(t)){const e=l.querySelector("#fp-options"),t=()=>{e.innerHTML="",(r.options||[]).forEach(((t,r)=>{const l=document.createElement("div");l.innerHTML=`<input data-i="${r}" value="${z(t)}"> <button data-i="${r}" class="rm" type="button">x</button>`,e.appendChild(l)}))};t(),l.querySelector("#fp-addopt").onclick=()=>{r.options.push(`Option ${r.options.length+1}`),t(),f(),a(),h()},e.addEventListener("click",(e=>{if(e.target.classList.contains("rm")){const l=+e.target.dataset.i;r.options.splice(l,1),t(),a(),h()}})),e.addEventListener("input",(e=>{e.target.matches("input[data-i]")&&(r.options[+e.target.dataset.i]=e.target.value,a(),h())}))}const d=()=>{var t,i,n,o,s,a;const d=l.querySelector("#fp-cond-enabled"),u=l.querySelector("#fp-cond-wrap"),p=l.querySelector("#fp-cond-field"),m=l.querySelector("#fp-cond-value");if(!d||!u||!p||!m)return;const f=(()=>{const t=new Set(["select","radio","multicheckbox","checkbox","consent"]);return Object.keys(c).filter((t=>t!==e)).map((e=>({id:e,data:c[e]}))).filter((e=>{let{data:r}=e;return t.has(r.field_type||r.type)}))})();p.innerHTML=f.length?f.map((e=>{const t=e.data.label||e.id;return`<option value="${e.id}">${H(t)}</option>`})).join(""):'<option value="">No eligible fields</option>';let h=(null===(t=f[0])||void 0===t?void 0:t.id)||"";if(null!==(i=r.visible_if)&&void 0!==i&&i.field_name){const e=f.find((e=>(e.data.name||"").trim()===r.visible_if.field_name));e&&(h=e.id)}else null!==(n=r.visible_if)&&void 0!==n&&n.field_id&&(h=r.visible_if.field_id);h&&(p.value=h);const v=f.find((e=>e.id===p.value));let b=[];const y=(null===v||void 0===v||null===(o=v.data)||void 0===o?void 0:o.field_type)||(null===v||void 0===v||null===(s=v.data)||void 0===s?void 0:s.type);var x;"checkbox"===y||"consent"===y?b=["Checked","Unchecked"]:b=Array.isArray(null===v||void 0===v||null===(x=v.data)||void 0===x?void 0:x.options)?v.data.options:[];m.innerHTML=b.length?b.map((e=>`<option value="${z(e)}">${H(e)}</option>`)).join(""):'<option value="">No options</option>',null!==(a=r.visible_if)&&void 0!==a&&a.value&&(m.value=r.visible_if.value),f.length||(d.checked=!1,u.style.display="none",r.visible_if=null)};d();const p=l.querySelector("#fp-cond-enabled"),m=l.querySelector("#fp-cond-wrap");p&&m&&p.addEventListener("change",(t=>{if(t.target.checked){const n=Object.keys(c).filter((t=>t!==e)).map((e=>({id:e,data:c[e]}))).filter((e=>{let{data:t}=e;return["select","radio","multicheckbox","checkbox","consent"].includes(t.field_type||t.type)}));if(n.length){var l;const e=n[0].data.field_type||n[0].data.type;let t="";var i;if("checkbox"===e||"consent"===e)t="Checked";else t=(null===(i=n[0].data.options)||void 0===i?void 0:i[0])||"";r.visible_if={field_id:n[0].id,field_name:((null===(l=n[0].data)||void 0===l?void 0:l.name)||"").trim(),operator:"equals",value:t},m.style.display="block",d()}else t.target.checked=!1,r.visible_if=null,m.style.display="none"}else r.visible_if=null,m.style.display="none";g(),h()}));const f=()=>{const t=l.querySelector("#fp-label"),i=l.querySelector("#fp-ph"),n=l.querySelector("#fp-req"),o=l.querySelector("#fp-class"),s=l.querySelector("#fp-cond-field"),u=l.querySelector("#fp-cond-value"),p=l.querySelector("#fp-max"),m=l.querySelector("#fp-regex"),f=l.querySelector("#fp-errmsg"),v=l.querySelector("#fp-html"),b=l.querySelector("#fp-btntext"),y=l.querySelector("#fp-btncss"),x=l.querySelector("#fp-accept"),w=l.querySelector("#fp-multiple");t&&t.addEventListener("input",(e=>{r.label=e.target.value,a(),h()})),o&&o.addEventListener("input",(e=>{r.custom_class=e.target.value,h()})),i&&i.addEventListener("input",(e=>{r.placeholder=e.target.value,a(),h()})),n&&n.addEventListener("change",(t=>{r.required=t.target.checked,a(),A(e),h()})),p&&p.addEventListener("input",(e=>{r.maxlength=e.target.value,a(),h()})),m&&m.addEventListener("input",(e=>{r.regex=e.target.value;const t=l.querySelector("#fp-errmsg-required"),i=l.querySelector("#fp-errmsg");t&&(t.style.display=r.regex?"inline":"none"),i&&(r.regex&&!r.error_message?i.style.borderColor="#dc3545":i.style.borderColor=""),h()})),f&&f.addEventListener("input",(e=>{r.error_message=e.target.value,r.regex&&r.error_message?e.target.style.borderColor="":r.regex&&!r.error_message&&(e.target.style.borderColor="#dc3545"),h()})),v&&v.addEventListener("input",(e=>{r.html=e.target.value,a(),h()})),b&&b.addEventListener("input",(e=>{r.button_text=e.target.value||"Submit",a(),h()})),y&&y.addEventListener("input",(e=>{r.custom_style=e.target.value||"",a(),h()})),x&&x.addEventListener("input",(e=>{r.options&&!Array.isArray(r.options)||(r.options={accept:"image/*",multiple:!1}),r.options.accept=e.target.value||"image/*",a(),h()})),w&&w.addEventListener("change",(e=>{r.options&&!Array.isArray(r.options)||(r.options={accept:"image/*",multiple:!1}),r.options.multiple=!!e.target.checked,a(),h()})),s&&s.addEventListener("change",(e=>{var t,i;const n=e.target.value,o=Object.keys(c).map((e=>({id:e,data:c[e]}))).find((e=>e.id===n));r.visible_if={field_id:n,field_name:((null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.name)||"").trim(),operator:"equals",value:(null===(i=r.visible_if)||void 0===i?void 0:i.value)||""},d();const s=l.querySelector("#fp-cond-value"),a=s?s.value:"";r.visible_if.value=a,g(),h()})),u&&u.addEventListener("change",(e=>{r.visible_if&&(r.visible_if.value=e.target.value,r.visible_if.operator="equals",g(),h())}))};setTimeout((()=>{f();const e=l.querySelector("#fp-apply");e&&(e.style.display="none")}),0)}function M(){u=null,i.querySelectorAll(".preview-field").forEach((e=>e.classList.remove("selected"))),n.classList.remove("has-selection");const e=n.querySelector(".field-props-placeholder");e&&(e.innerHTML='\n        <div class="panel-header">\n          <h2>Properties</h2>\n        </div>\n        <div class="no-selection">\n          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" opacity="0.2">\n            <rect x="3" y="5" width="18" height="14" rx="2" />\n            <path d="M7 10h10M7 14h6" />\n          </svg>\n          <p>Select a field to edit its properties</p>\n        </div>\n      ')}function P(e){e.querySelectorAll("[data-visible-if]").forEach((t=>{try{const r=JSON.parse(t.dataset.visibleIf),{controller_name:l,value:i}=r;if(!l||null==i||""===i)return void(t.style.display="");let n=null,o=!1;if(e.querySelectorAll(`input[type="radio"][name="${l}"]`).length>0){o=!0;const r=e.querySelector(`input[type="radio"][name="${l}"]:checked`);if(!r)return void(t.style.display="none");{const t=e.querySelector(`label[for="${r.id}"]`);n=t?t.textContent.trim():r.value}}const s=e.querySelector(`select[name="${l}"]`);if(s&&!o){o=!0;const e=s.options[s.selectedIndex];if(!e||""===e.value)return void(t.style.display="none");n=e.textContent.trim()}const a=e.querySelector(`input[type="checkbox"][name="${l}"]`);a&&!o&&(o=!0,n=a.checked?"Checked":"Unchecked");const d=e.querySelectorAll(`input[type="checkbox"][name="${l}[]"]:checked`);if(d.length>0){const r=Array.from(d).map((t=>{const r=e.querySelector(`label[for="${t.id}"]`);return r?r.textContent.trim():t.value}));return void(t.style.display=r.includes(i)?"":"none")}if(!o)return void(t.style.display="none");t.style.display=n===i?"":"none"}catch(r){console.error("Error parsing visible_if:",r),t.style.display=""}}))}function R(e){return(e||"").charAt(0).toUpperCase()+(e||"").slice(1)}function U(e,t,r,l){if(!e)return;const i=(null===l||void 0===l?void 0:l.name)||t;if("radio"!==r){if("multicheckbox"===r){const t=e.querySelector(".form-field");if(!t)return;t.querySelectorAll(".checkbox-field").forEach((e=>e.remove()));(Array.isArray(l.options)?l.options:[]).forEach(((e,r)=>{const n=document.createElement("div");n.className="checkbox-field";const o=`${i}-c-${r}`;n.innerHTML=`<input id="${o}" type="checkbox" name="${H(i)}[]" ${l.required?"required":""}>\n                       <label for="${o}">${H(e)}</label>`,t.appendChild(n)}))}}else{const t=e.querySelector(".form-field");if(!t)return;t.querySelectorAll(".radio-field").forEach((e=>e.remove()));(Array.isArray(l.options)?l.options:[]).forEach(((e,r)=>{const n=document.createElement("div");n.className="radio-field";const o=`${i}-r-${r}`;n.innerHTML=`<input id="${o}" type="radio" name="${H(i)}" ${l.required?"required":""}>\n                       <label for="${o}">${H(e)}</label>`,t.appendChild(n)}))}}function H(){return String((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"").replace(/[&<>"']/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e])))}function z(){return H(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/"/g,"&quot;")}function B(e,t){const r=document.getElementById(e);r&&(r.value=null!==t&&void 0!==t?t:"")}function F(e){var t,r,l,n,o,s,a,u,p,m,f,h;const v=e.field_type||e.type||"text",b="field-"+d++,y=document.createElement("div");y.className="preview-field",y.id=b,y.dataset.type=v,y.innerHTML=_(v)+L(!!e.required),i.appendChild(y);const x={type:v,field_type:v,_id:e.id,label:null!==(t=e.label)&&void 0!==t?t:`${R(v)} Field`,name:null!==(r=e.name)&&void 0!==r?r:`${v}_field`,required:!!e.required,visible_if:null!==(l=e.visible_if)&&void 0!==l?l:null,custom_class:null!==(n=e.custom_class)&&void 0!==n?n:"",placeholder:null!==(o=e.placeholder)&&void 0!==o?o:"",maxlength:null!==(s=null!==(a=e.max_length)&&void 0!==a?a:e.maxlength)&&void 0!==s?s:"",regex:null!==(u=e.regex)&&void 0!==u?u:"",error_message:null!==(p=e.error_message)&&void 0!==p?p:"",options:Array.isArray(e.options)?[...e.options]:e.options&&"object"===typeof e.options?{...e.options}:[],html:null!==(m=e.html)&&void 0!==m?m:void 0,button_text:null!==(f=e.button_text)&&void 0!==f?f:void 0,custom_style:null!==(h=e.custom_style)&&void 0!==h?h:void 0};c[b]=x;const g=new Set(Object.keys(c).filter((e=>e!==b)).map((e=>{var t;return((null===(t=c[e])||void 0===t?void 0:t.name)||"").trim()})).filter(Boolean)),w=c[b].field_type||c[b].type,q=(c[b].name||"").trim()||`${w}_${String(b).replace("field-","")}`;let S=q,j=2;for(;g.has(S);)S=`${q}_${j++}`;c[b].name=S,C(y,b,v);const $=y.querySelector(".form-field > label, .checkbox-field label");if($&&x.label&&($.innerHTML=`${x.label} ${x.required?' <span class="required-star">*</span>':""}`),["text","email","number","phone","url","date","time"].includes(v)){const e=y.querySelector("input");e&&("phone"===v&&(e.type="tel"),x.placeholder&&(e.placeholder=x.placeholder),x.maxlength&&!isNaN(x.maxlength)&&x.maxlength>0&&(e.maxLength=parseInt(x.maxlength,10)),x.required&&(e.required=!0))}else if("textarea"===v){const e=y.querySelector("textarea");e&&(x.placeholder&&(e.placeholder=x.placeholder),x.maxlength&&!isNaN(x.maxlength)&&x.maxlength>0&&(e.maxLength=parseInt(x.maxlength,10)),x.required&&(e.required=!0))}else if("select"===v){const e=y.querySelector("select");e&&(e.innerHTML=`<option value="">${x.placeholder||"Select an option"}</option>`+(x.options||[]).map((e=>`<option>${H(e)}</option>`)).join(""),x.required&&(e.required=!0))}else if("radio"===v){const e=y.querySelector(".form-field");e&&(e.querySelectorAll(".radio-field").forEach((e=>e.remove())),(x.options||[]).forEach(((t,r)=>{const l=document.createElement("div");l.className="radio-field";const i=`${x.name}-${r}`;l.innerHTML=`<input id="${i}" type="radio" name="${H(x.name)}">\n                           <label for="${i}">${H(t)}</label>`,e.appendChild(l)})))}else if("multicheckbox"===v){const e=y.querySelector(".form-field");e&&(e.querySelectorAll(".checkbox-field").forEach((e=>e.remove())),(x.options||[]).forEach(((t,r)=>{const l=document.createElement("div");l.className="checkbox-field";const i=`${x.name}-${r}`;l.innerHTML=`<input id="${i}" type="checkbox" name="${H(x.name)}[]">\n                           <label for="${i}">${H(t)}</label>`,e.appendChild(l)})))}else if("checkbox"===v||"consent"===v){const e=y.querySelector(".checkbox-field label");e&&x.label&&(e.textContent=x.label)}else if("html"===v){const e=y.querySelector(".html-content");e&&(e.innerHTML=x.html||"<p></p>")}else if("submit_button"===v){const e=y.querySelector("button");e&&(e.textContent=x.button_text||"Submit",x.custom_style&&e.setAttribute("style",x.custom_style))}}i.addEventListener("dragenter",(e=>{e.preventDefault(),i.classList.add("dragover")})),i.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy");const t=e.target.closest(".preview-field");if(t){const r=t.getBoundingClientRect(),l=r.top+r.height/2,n=e.clientY;i.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")})),n<l?(t.classList.add("drag-over-top"),E=t,k="before"):(t.classList.add("drag-over-bottom"),E=t,k="after")}else i.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")})),E=null,k=null})),i.addEventListener("dragleave",(e=>{i.contains(e.relatedTarget)||(i.classList.remove("dragover"),i.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")})),E=null,k=null)})),i.addEventListener("drop",(e=>{e.preventDefault(),i.classList.remove("dragover"),i.querySelectorAll(".preview-field").forEach((e=>{e.classList.remove("drag-over-top","drag-over-bottom")}));let t="";try{t=e.dataTransfer&&(e.dataTransfer.getData("application/x-field-type")||e.dataTransfer.getData("text/plain")||e.dataTransfer.getData("field-type"))||""}catch(r){}t&&(!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const l="field-"+d++,n=document.createElement("div");if(n.className="preview-field",n.id=l,n.dataset.type=e,n.innerHTML=_(e)+L(),t&&"before"===r)i.insertBefore(n,t);else if(t&&"after"===r)t.nextSibling?i.insertBefore(n,t.nextSibling):i.appendChild(n);else{const e=i.querySelector(".form-fields-container");e?e.appendChild(n):i.appendChild(n)}c[l]=function(e){const t={type:e,field_type:e,label:`${R(e)} Field`,name:"",required:!1,visible_if:null,custom_class:"",placeholder:`Enter ${e}`,maxlength:"",regex:"",error_message:"",options:[]};["select","radio","multicheckbox"].includes(e)&&(t.options=["Option 1","Option 2"]);"submit_button"===e&&(t.button_text="Submit",t.custom_style="");"html"===e&&(t.html="<p>HTML Content</p>");"consent"===e&&(t.label="I agree to the terms and conditions");"address"===e&&(t.label="Address",t.name="address",t.placeholder="",t.options={parts:[{key:"line1",label:"Address Line 1",required:!0,placeholder:"Address line 1"},{key:"line2",label:"Address Line 2",required:!1,placeholder:"Address line 2"},{key:"city",label:"City",required:!0,placeholder:"City"},{key:"state",label:"State",required:!0,placeholder:"State"},{key:"postcode",label:"Postcode",required:!0,placeholder:"Postcode"},{key:"country",label:"Country",required:!1,placeholder:"Country"}]});"image"===e&&(t.label="Image Upload",t.name="image",t.placeholder="",t.options={accept:"image/*",multiple:!1});return t}(e);const o=new Set(Object.keys(c).filter((e=>e!==l)).map((e=>{var t;return((null===(t=c[e])||void 0===t?void 0:t.name)||"").trim()})).filter(Boolean)),s=(c[l].name||"").trim(),a=`${e}_${String(l).replace("field-","")}`,u=s||a;let p=u,m=2;for(;o.has(p);)p=`${u}_${m++}`;c[l].name=p,C(n,l,e),T(),g(),h();const f=i.querySelector(".empty-state");f&&(f.style.display="none")}(t,E,k),E=null,k=null)})),i.addEventListener("change",(()=>{g()})),i.addEventListener("change",(e=>{const t=e.target;if(!t||"file"!==t.type)return;const r=t.closest(".preview-field");if(!r)return;const l=r.querySelector(".upload-filename");if(!l)return;const i=Array.from(t.files||[]);l.textContent=i.length?i.map((e=>e.name)).join(", "):"",g()})),n.addEventListener("click",(e=>{e.target.closest(".property-group, .field-props-placeholder, .general-settings")||M()})),i.addEventListener("click",(e=>{e.target.closest(".preview-field")||M()})),s&&s.addEventListener("click",(()=>{const e=[];i.querySelectorAll(".preview-field").forEach((t=>{const r=t.id;c[r]&&e.push(c[r])}));const t=function(e){let t='<form class="preview-form-rendered">';const r={};e.forEach((e=>{e.name&&(r[e.name]=e)})),e.forEach((e=>{const r=e.field_type||e.type;let l="";if(e.visible_if&&e.visible_if.field_name&&e.visible_if.value){const t={controller_name:e.visible_if.field_name,value:e.visible_if.value};l=` data-visible-if='${JSON.stringify(t).replace(/'/g,"&apos;")}'`}if("address"===r){const r=e.options&&!Array.isArray(e.options)&&e.options.parts?e.options.parts:[],i=(e.custom_class||"").trim();return t+=`<div class="form-field ${e.required?"required":""}${i?" "+z(i):""}"${l}>`,t+=`<label>${H(e.label||"Address")}${e.required?'<span class="required-star">*</span>':""}</label>`,t+='<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">',r.forEach((r=>{const l=e.required&&r.required;t+='<div class="form-field">',t+=`<label>${H(r.label||r.key||"")}${l?'<span class="required-star">*</span>':""}</label>`,t+=`<input type="text" placeholder="${z(r.placeholder||"")}" ${l?"required":""} />`,t+="</div>"})),t+="</div>",void(t+="</div>")}if("image"===r){const r=e.options&&!Array.isArray(e.options)&&e.options.accept||"image/*",i=!(!e.options||Array.isArray(e.options))&&!!e.options.multiple,n=(e.custom_class||"").trim();return t+=`<div class="form-field ${e.required?"required":""}${n?" "+z(n):""}"${l}>`,t+=`<label>${H(e.label||"Image Upload")}${e.required?'<span class="required-star">*</span>':""}</label>`,t+=`<input type="file" accept="${z(r)}" ${i?"multiple":""} ${e.required?"required":""} />`,void(t+="</div>")}if("html"===r)return void(t+=`<div class="form-field html-content"${l}>${e.html||""}</div>`);const i=(e.custom_class||"").trim();if(t+=`<div class="form-field ${e.required?"required":""}${i?" "+z(i):""}"${l}>`,["checkbox","consent"].includes(r)||(t+=`<label>\n        ${H(e.label||"")}\n        ${e.required?'<span class="required-star">*</span>':""}\n      </label>`),["text","email","number","phone","url","date","time"].includes(r)){t+=`<input \n        type="${"phone"===r?"tel":r}" \n        placeholder="${z(e.placeholder||"")}" \n        ${e.maxlength?`maxlength="${e.maxlength}"`:""} \n        ${e.required?"required":""} \n      />`}else"textarea"===r?t+=`<textarea \n        placeholder="${z(e.placeholder||"")}" \n        ${e.required?"required":""}>\n      </textarea>`:"select"===r?t+=`<select name="${z(e.name)}" ${e.required?"required":""}>\n        <option value="">\n          ${H(e.placeholder||"Select an option")}\n        </option>\n        ${(e.options||[]).map((e=>`<option>${H(e)}</option>`)).join("")}\n      </select>`:"radio"===r?t+=(e.options||[]).map(((t,r)=>`\n          <div class="radio-field">\n            <input type="radio" id="${z(e.name)}-${r}" name="${z(e.name)}">\n            <label for="${z(e.name)}-${r}">\n              ${H(t)}\n            </label>\n          </div>`)).join(""):"multicheckbox"===r?t+=(e.options||[]).map(((t,r)=>`\n          <div class="checkbox-field">\n            <input type="checkbox" id="${z(e.name)}-${r}" name="${z(e.name)}[]">\n            <label for="${z(e.name)}-${r}">\n              ${H(t)}\n            </label>\n          </div>`)).join(""):"checkbox"===r||"consent"===r?t+=`\n        <div class="checkbox-field">\n          <input type="checkbox" id="${e.name}" name="${z(e.name)}" ${e.required?"required":""}>\n          <label for="${e.name}">\n            ${H(e.label||"")}\n            ${e.required?'<span class="required-star">*</span>':""}\n          </label>\n        </div>\n      `:"submit_button"===r&&(t+=`<button \n        type="button" \n        class="preview-submit-btn" \n        style="${z(e.custom_style||"")}">\n        ${H(e.button_text||"Submit")}\n      </button>`);t+="</div>"})),e.some((e=>"submit_button"===(e.type||e.field_type)))||(t+='\n      <div class="form-field">\n        <button type="button" class="preview-submit-btn">Submit</button>\n      </div>\n    ');return t+="</form>",t}(e),r=l.querySelector("#preview-form-container-tab");if(r){const e=l.querySelector("#form-title"),i=l.querySelector("#form-description"),n=document.createElement("h6");n.textContent=e&&e.value||"Title";const o=document.createElement("small");o.style.color="#6b7280",o.textContent=i&&i.value||"Description";let s=`<b>${H(n.textContent)}</b>`;o.textContent&&(s+=`<small style="color: #6b7280;display: block;">${H(o.textContent)}</small>`),s+=t,r.innerHTML=s,P(r),r.addEventListener("change",(()=>{P(r)})),setTimeout((()=>{const e=r.querySelector(".preview-submit-btn");e&&e.addEventListener("click",(t=>{t.preventDefault();const r=e.closest("form");r&&r.checkValidity()?alert("Form is valid! (This is a preview - form will not be submitted)"):r.reportValidity()}))}),100)}})),l.querySelectorAll(".modal-close").forEach((e=>{e.addEventListener("click",(()=>e.closest(".modal").style.display="none"))})),T(),r||0!==i.querySelectorAll(".preview-field").length||[{field_type:"text",name:"name",label:"Name",placeholder:"Enter your name",required:!0,order:0},{field_type:"email",name:"email",label:"Email",placeholder:"Enter your email",required:!0,order:1},{field_type:"phone",name:"phone",label:"Phone",placeholder:"Enter your phone",order:2},{field_type:"textarea",name:"message",label:"Message",placeholder:"Type your message",order:3}].forEach(F),a.addEventListener("click",(async()=>{a.disabled=!0;const e=a.innerHTML;a.innerHTML='\n      <svg class="spin" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 50 50">\n        <circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-dasharray="80" stroke-dashoffset="60" />\n      </svg>\n      Saving...\n    ',window.dispatchEvent(new CustomEvent("builder-clear-error"));try{const e=l.querySelector("#form-title");if(!e||!e.value.trim())throw new Error("Form title is required");const r=l.querySelector("#form-submit-to");if(!r||!r.value.trim())throw new Error("Submit To email address is required");const n=l.querySelector("#form-type");if("web"===((null===n||void 0===n?void 0:n.value)||"web")){const e=l.querySelector("#form-recaptcha-key");if(!e||!e.value.trim())throw new Error("Google reCAPTCHA site key is required");const t=l.querySelector("#form-recaptcha-secret");if(!t||!t.value.trim())throw new Error("Google reCAPTCHA secret key is required")}if(0===Object.keys(c).length)throw new Error("Please add at least one field to your form");const s=Object.values(c);console.log("fields: ",s);const a=s.find((e=>{var t;return"name"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())})),d=s.find((e=>{var t;return"email"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));if(!a)throw new Error('A "name" field is required. Please add a field with name "name".');if(!a.required)throw new Error('The "name" field must be marked as required.');if(!d)throw new Error('An "email" field is required. Please add a field with name "email".');if(!d.required)throw new Error('The "email" field must be marked as required.');Object.values(c).forEach((e=>{if(e.regex&&e.regex.trim()&&!e.error_message)throw new Error(`Field "${e.label}" has a Validation Pattern but is missing a Custom Error Message. Custom Error Message is required when Validation Pattern is set.`)}));const u=Object.values(c).map((e=>(e.name||"").trim())).filter((e=>e)).filter(((e,t,r)=>r.indexOf(e)!==t));if(u.length>0)throw new Error(`Duplicate field name(s) found: "${u.join('", "')}". Each field must have a unique name.`);const m=function(){var e;const r=[];i.querySelectorAll(".preview-field").forEach((e=>{c[e.id]&&r.push(e.id)}));const n=r.map(((e,t)=>{var r,l;const i=c[e];return{id:i._id||void 0,name:i.name||`${i.type}_field`,label:i.label||R(i.type),placeholder:i.placeholder||"",field_type:i.field_type||i.type,required:!!i.required,custom_class:(i.custom_class||"").trim()||void 0,visible_if:i.visible_if&&(i.visible_if.field_name||i.visible_if.field_id)?{field_name:i.visible_if.field_name?i.visible_if.field_name:(null===(r=c[i.visible_if.field_id])||void 0===r?void 0:r.name)||"",value:null!==(l=i.visible_if.value)&&void 0!==l?l:"",operator:i.visible_if.operator||"equals"}:null,max_length:i.maxlength||null,error_message:i.error_message||null,options:Array.isArray(i.options)||"address"===(i.field_type||i.type)||"image"===(i.field_type||i.type)?i.options:void 0,regex:i.regex||void 0,html:"html"===i.type?i.html:void 0,button_text:"submit_button"===i.type&&i.button_text||void 0,custom_style:"submit_button"===i.type&&i.custom_style||void 0,order:t}})),s=e=>{var t;return((null===(t=l.querySelector("#"+e))||void 0===t?void 0:t.value)||"").trim()},a=s("form-type")||"web",d={organization:t,title:s("form-title"),description:s("form-description"),type:a,submit_to:s("form-submit-to"),submit_from:s("form-submit-from"),cc_email:s("form-cc-email"),bcc_email:s("form-bcc-email"),thank_you_message:s("form-thank-you")||"Thank you for reaching out. We'll get back to you soon!",error_message:s("form-error-message")||"Something went wrong. Please try again later.",submit_button_label:s("form-submit-label")||"Submit",custom_css:null!==(e=null===o||void 0===o?void 0:o.value)&&void 0!==e?e:"",fields:n};"web"===a&&(d.domain=s("form-domain"),d.recaptcha_site_key=s("form-recaptcha-key"),d.recaptcha_secret_key=s("form-recaptcha-secret"));const u=s("form-redirect-url");u&&(d.redirect_url=u);return d}(),f=p?await(0,y.lI)(p,m):await(0,y.bJ)(m);!p&&f&&f.id&&(p=f.id);const h=(null===f||void 0===f?void 0:f.public_key)||(null===f||void 0===f?void 0:f.id),v=(null===n||void 0===n?void 0:n.value)||"web";let b;if("form"===v){b=`${"https://app.memate.com.au/api/v1"}/inquiries/form/page/${h}/`}else{b=`<script src="${"https://app.memate.com.au"}/astatic/inquiries/embed.js" data-form-id="${h}"><\/script>`}const x=l.querySelector("#embed-modal"),g=l.querySelector("#embed-snippet"),w=l.querySelector("#copy-embed-btn"),q=l.querySelector("#close-embed-btn"),S=x?x.querySelector("[data-close-embed]"):null,j=x?x.querySelector(".modal-header h2"):null,$=x?x.querySelector(".modal-content > p"):null;j&&(j.textContent="form"===v?"Form Link":"Embed this Form"),$&&($.textContent="form"===v?"Copy the link below to share your form.":"Copy the snippet below and paste it into your website where you want the form to appear."),g&&(g.value=b),q&&(q.disabled=!0),x&&(x.style.display="block");const E=async()=>{try{await navigator.clipboard.writeText(b)}catch(e){g&&g.select&&(g.select(),document.execCommand&&document.execCommand("copy"))}w&&(w.textContent="Copied!"),q&&(q.disabled=!1),setTimeout((()=>{window.location.href="/enquiries/forms"}),1e3)};w&&(w.onclick=E),q&&(q.onclick=()=>{x&&(x.style.display="none"),window.location.href="/enquiries/forms"}),S&&(S.onclick=()=>{q&&!q.disabled&&x&&(x.style.display="none"),window.location.href="/enquiries/forms"}),window.dispatchEvent(new CustomEvent("builder-save-success"))}catch(r){console.error("Form save error:",r.message||r),window.dispatchEvent(new CustomEvent("builder-save-error",{detail:{message:r.message||"Failed to save form"}}))}finally{a.disabled=!1,a.innerHTML=e}}))}var g=r(81047),w=r(57189),q=r(48417),S=r(70579);const j=e=>{let{type:t}=e;const r={width:22,height:22,viewBox:"0 0 24 24",fill:"none",stroke:"#2563eb",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};switch(t){case"text":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M4 6h16"}),(0,S.jsx)("path",{d:"M9 6v12"}),(0,S.jsx)("path",{d:"M15 6v12"})]});case"email":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M4 6h16v12H4z"}),(0,S.jsx)("path",{d:"M22 6l-10 7L2 6"})]});case"number":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M6 10h12"}),(0,S.jsx)("path",{d:"M6 14h12"}),(0,S.jsx)("path",{d:"M9 7v10"}),(0,S.jsx)("path",{d:"M15 7v10"})]});case"phone":return(0,S.jsx)("svg",{...r,children:(0,S.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.62-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.09 4.18 2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.9 12.9 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 10a16 16 0 0 0 6 6l1.36-1.27a2 2 0 0 1 2.11-.45 12.9 12.9 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})});case"textarea":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 9h10"}),(0,S.jsx)("path",{d:"M7 13h6"})]});case"select":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"6",rx:"2"}),(0,S.jsx)("path",{d:"M8 15l4 4 4-4"})]});case"radio":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("circle",{cx:"8",cy:"12",r:"3"}),(0,S.jsx)("circle",{cx:"16",cy:"12",r:"6"})]});case"checkbox":case"consent":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 12l3 3 7-7"})]});case"multicheckbox":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 10l3 3"}),(0,S.jsx)("path",{d:"M7 14l3 3"}),(0,S.jsx)("path",{d:"M14 10h3"}),(0,S.jsx)("path",{d:"M14 14h3"})]});case"date":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2"}),(0,S.jsx)("path",{d:"M8 3v4"}),(0,S.jsx)("path",{d:"M16 3v4"}),(0,S.jsx)("path",{d:"M3 9h18"})]});case"time":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,S.jsx)("path",{d:"M12 7v6l4 2"})]});case"html":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("path",{d:"M10 15l-3-3 3-3"}),(0,S.jsx)("path",{d:"M14 9l3 3-3 3"}),(0,S.jsx)("path",{d:"M4 19h16"})]});case"image":return(0,S.jsxs)("svg",{...r,children:[(0,S.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,S.jsx)("path",{d:"M8 14l2-2 3 3 2-2 4 4"}),(0,S.jsx)("circle",{cx:"9",cy:"9",r:"1"})]});default:return(0,S.jsx)("svg",{...r,children:(0,S.jsx)("circle",{cx:"12",cy:"12",r:"9"})})}};function $(){var e,t;const{session:r}=(0,w.As)(),{trialHeight:s}=(0,q.$)(),a=(0,l.useRef)(!1),{id:d}=(0,f.g)(),c="new"!==d?d:null,[u,$]=(0,l.useState)(!1),[E,k]=(0,l.useState)(""),[_,L]=(0,l.useState)(!1),[A,C]=(0,l.useState)("designer"),[N,T]=(0,l.useState)("web"),O=[["text","Single-Line Input"],["email","Email"],["number","Number"],["phone","Phone"],["textarea","Text Area"],["select","Dropdown"],["radio","Radio Button Group"],["checkbox","Checkboxes"],["multicheckbox","Multi-Select Checkboxes"],["date","Date"],["time","Time"],["address","Address"],["image","Image Upload"],["html","HTML Block"],["consent","Consent"]].filter((e=>{let[t,r]=e;return r.toLowerCase().includes(E.toLowerCase())||t.toLowerCase().includes(E.toLowerCase())})),M=(0,l.useCallback)((()=>{C("preview"),setTimeout((()=>{const e=document.querySelector("#preview-btn");e&&e.click()}),100)}),[]),P=(0,l.useCallback)((()=>{window.dispatchEvent(new CustomEvent("builder-undo"))}),[]),R=(0,l.useCallback)((()=>{window.dispatchEvent(new CustomEvent("builder-redo"))}),[]),U=(0,h.I)({queryKey:["getOutgoingEmail"],queryFn:g.hx}),H=(null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.outgoing_email)||"no-reply@memate.com.au";return(0,l.useEffect)((()=>{var e;const t=null===r||void 0===r||null===(e=r.organization)||void 0===e?void 0:e.id;if(!t)return;if(a.current)return;const l=setTimeout((async()=>{a.current=!0;try{if(c){const e=await(0,y.Jy)(c);console.log("formJson: ",e),T(e.type||"web"),x({defaultOrgId:t,initialForm:e})}else x({defaultOrgId:t})}catch(e){console.error("Failed to load form for editing:",e),x({defaultOrgId:t})}}),100);return()=>{clearTimeout(l),function(){const e=document.querySelector(".mf-builder");if(e){delete e.dataset.builderInitialized;const t=e.querySelector("#preview-container");t&&t.querySelectorAll(".preview-field").forEach((e=>e.remove()))}}()}}),[null===r||void 0===r||null===(t=r.organization)||void 0===t?void 0:t.id,c]),(0,l.useEffect)((()=>{const e=e=>{var t;const r=(null===(t=e.detail)||void 0===t?void 0:t.message)||"Failed to save form";b.oR.error(r,{duration:5e3}),L(!1)},t=()=>{b.oR.success("Form saved successfully!",{duration:3e3}),L(!1)},r=()=>{b.oR.dismiss()};return window.addEventListener("builder-save-error",e),window.addEventListener("builder-save-success",t),window.addEventListener("builder-clear-error",r),()=>{window.removeEventListener("builder-save-error",e),window.removeEventListener("builder-save-success",t),window.removeEventListener("builder-clear-error",r)}}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:"mf-builder",style:{overflow:"auto",height:`calc(100vh - 127px - ${s}px)`,"--trial-height":`${s}px`},children:(0,S.jsxs)("div",{className:"mf-container",children:[(0,S.jsxs)("div",{className:"builder-tabs",children:[(0,S.jsxs)("div",{className:"tabs-left",children:[(0,S.jsx)("button",{className:"tab-btn "+("designer"===A?"active":""),onClick:()=>C("designer"),children:"Designer"}),(0,S.jsx)("button",{className:"tab-btn "+("preview"===A?"active":""),onClick:M,children:"Preview"})]}),(0,S.jsxs)("div",{className:"tabs-right",children:[(0,S.jsx)("button",{className:"icon-btn",title:"Undo",onClick:P,children:(0,S.jsx)(i.A,{size:18})}),(0,S.jsx)("button",{className:"icon-btn",title:"Redo",onClick:R,children:(0,S.jsx)(n.A,{size:18})}),(0,S.jsx)("button",{className:"btn btn-primary",id:"save-btn",disabled:_,children:_?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(v.p,{style:{width:"16px",height:"16px"},strokeWidth:"2"}),"Saving..."]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.A,{size:16}),"Save Form"]})})]})]}),(0,S.jsxs)("div",{className:"editor-container",style:{display:"designer"===A?"grid":"none"},children:[(0,S.jsxs)("div",{className:"fields-panel "+(u?"collapsed":""),children:[(0,S.jsxs)("div",{className:"panel-header",children:[(0,S.jsxs)("div",{className:"panel-header-top",children:[(0,S.jsx)("h2",{children:u?"":"Toolbox"}),(0,S.jsx)("button",{className:"collapse-btn",onClick:()=>$(!u),title:u?"Expand Toolbox":"Collapse Toolbox",children:u?(0,S.jsx)(p,{size:18}):(0,S.jsx)(m.A,{size:18})})]}),!u&&(0,S.jsx)("input",{type:"text",placeholder:"Type to search...",className:"search-input",value:E,onChange:e=>k(e.target.value)})]}),(0,S.jsx)("div",{className:"field-types",children:O.map((e=>{let[t,r]=e;return(0,S.jsxs)("div",{className:"field-type",draggable:!0,"data-type":t,role:"button","aria-label":`Drag ${r} field`,title:`Drag ${r} field`,children:[(0,S.jsx)("span",{className:"icon",children:(0,S.jsx)(j,{type:t})}),!u&&(0,S.jsx)("span",{children:r})]},t)}))}),!u&&(0,S.jsxs)("div",{className:"css-editor-container",children:[(0,S.jsx)("h3",{children:"Custom CSS"}),(0,S.jsx)("textarea",{id:"form_style",className:"code-editor",rows:10,defaultValue:"",placeholder:"Add custom CSS here (optional)"}),(0,S.jsx)("p",{className:"help-text",children:"These styles will be applied to the embedded form."})]})]}),(0,S.jsxs)("div",{className:"editor-panel",children:[(0,S.jsx)("div",{className:"panel-header-inline",children:(0,S.jsx)("h3",{children:"Design Surface"})}),(0,S.jsxs)("div",{className:"form-preview",id:"preview-container",children:[(0,S.jsx)("div",{className:"page-header",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{id:"preview-form-title",children:"Title"}),(0,S.jsx)("p",{className:"page-description",id:"preview-form-description",children:"Description"})]})}),(0,S.jsxs)("div",{className:"empty-state",style:{display:"none"},children:[(0,S.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.2",children:[(0,S.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,S.jsx)("path",{d:"M3 9h18M9 21V9"})]}),(0,S.jsx)("p",{children:"Drag and drop fields from the Toolbox to build your form"})]})]})]}),(0,S.jsxs)("div",{className:"field-properties",id:"properties-container",children:[(0,S.jsxs)("div",{className:"field-props-placeholder",children:[(0,S.jsx)("div",{className:"panel-header",children:(0,S.jsx)("h2",{children:"Properties"})}),(0,S.jsxs)("div",{className:"no-selection",children:[(0,S.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.2",children:[(0,S.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,S.jsx)("path",{d:"M7 10h10M7 14h6"})]}),(0,S.jsx)("p",{children:"Select a field to edit its properties"})]})]}),(0,S.jsxs)("div",{className:"general-settings",children:[(0,S.jsx)("div",{className:"panel-header",children:(0,S.jsx)("h2",{children:"General"})}),(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Form Type"}),(0,S.jsxs)("select",{id:"form-type",defaultValue:"web",onChange:e=>T(e.target.value),children:[(0,S.jsx)("option",{value:"web",children:"Web"}),(0,S.jsx)("option",{value:"form",children:"Form"})]})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["Form title",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-title",placeholder:"Enter form title"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Form description"}),(0,S.jsx)("textarea",{id:"form-description",placeholder:"Enter description",rows:"3"})]})]}),(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsx)("h3",{className:"section-title",children:"Settings"}),"web"===N&&(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Domain"}),(0,S.jsx)("input",{id:"form-domain",placeholder:"Enter domain",defaultValue:"https://memate.com.au/"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["To Email",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-submit-to",placeholder:"Enter email"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"From Email"}),(0,S.jsx)("input",{id:"form-submit-from",placeholder:"Enter email",defaultValue:H})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"CC Email"}),(0,S.jsx)("input",{id:"form-cc-email",placeholder:"Enter email"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"BCC Email"}),(0,S.jsx)("input",{id:"form-bcc-email",placeholder:"Enter email"})]})]}),(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsx)("h3",{className:"section-title",children:"Messages"}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Thank you message"}),(0,S.jsx)("input",{id:"form-thank-you",placeholder:"Enter message"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Error message"}),(0,S.jsx)("input",{id:"form-error-message",placeholder:"Enter message"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Submit Button Label"}),(0,S.jsx)("input",{id:"form-submit-label",defaultValue:"Submit"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsx)("label",{children:"Redirect URL"}),(0,S.jsx)("input",{id:"form-redirect-url",placeholder:"Enter URL"})]})]}),"web"===N&&(0,S.jsxs)("div",{className:"property-section",children:[(0,S.jsx)("h3",{className:"section-title",children:"reCAPTCHA"}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["Site Key",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-recaptcha-key",placeholder:"Enter site key"})]}),(0,S.jsxs)("div",{className:"form-field",children:[(0,S.jsxs)("label",{children:["Secret Key",(0,S.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,S.jsx)("input",{id:"form-recaptcha-secret",placeholder:"Enter secret key"})]})]})]})]})]}),(0,S.jsx)("div",{className:"preview-tab-container",style:{display:"preview"===A?"block":"none"},children:(0,S.jsx)("div",{id:"preview-form-container-tab",className:"preview-form-content"})}),(0,S.jsx)("button",{id:"preview-btn",style:{display:"none"}}),(0,S.jsx)("div",{className:"modal",id:"preview-modal",style:{display:"none"},children:(0,S.jsxs)("div",{className:"modal-content",children:[(0,S.jsxs)("div",{className:"modal-header",children:[(0,S.jsx)("h2",{children:"Form Preview"}),(0,S.jsx)("button",{className:"modal-close",children:"\xd7"})]}),(0,S.jsx)("div",{id:"preview-form-container"})]})}),(0,S.jsx)("div",{className:"modal",id:"embed-modal",style:{display:"none"},children:(0,S.jsxs)("div",{className:"modal-content",children:[(0,S.jsxs)("div",{className:"modal-header",children:[(0,S.jsx)("h2",{children:"Embed this Form"}),(0,S.jsx)("button",{className:"modal-close","data-close-embed":!0,children:"\xd7"})]}),(0,S.jsx)("p",{children:"Copy the snippet below and paste it into your website where you want the form to appear."}),(0,S.jsx)("textarea",{id:"embed-snippet",readOnly:!0,rows:4,style:{boxSizing:"border-box",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'}}),(0,S.jsxs)("div",{className:"editor-actions",style:{justifyContent:"flex-end"},children:[(0,S.jsx)("button",{className:"btn",id:"copy-embed-btn",children:"Copy"}),(0,S.jsx)("button",{className:"btn btn-primary",id:"close-embed-btn",disabled:!0,children:"OK"})]})]})})]})})})}},60035:(e,t,r)=>{r.d(t,{A:()=>d});var l=r(65043),i=r(65173),n=r.n(i),o=["color","size","title","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},s.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,n=e.size,a=void 0===n?"1em":n,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,i=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o);return l.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:i,className:["bi","bi-arrow-counterclockwise",p].filter(Boolean).join(" ")},m),c?l.createElement("title",null,c):null,l.createElement("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"}),l.createElement("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"}))}));a.propTypes={color:n().string,size:n().oneOfType([n().string,n().number]),title:n().string,className:n().string};const d=a},76163:(e,t,r)=>{r.d(t,{A:()=>d});var l=r(65043),i=r(65173),n=r.n(i),o=["color","size","title","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},s.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,n=e.size,a=void 0===n?"1em":n,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,i=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o);return l.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:i,className:["bi","bi-arrow-clockwise",p].filter(Boolean).join(" ")},m),c?l.createElement("title",null,c):null,l.createElement("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"}),l.createElement("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"}))}));a.propTypes={color:n().string,size:n().oneOfType([n().string,n().number]),title:n().string,className:n().string};const d=a},81047:(e,t,r)=>{r.d(t,{AO:()=>f,Ad:()=>q,Bz:()=>A,Hb:()=>u,IT:()=>L,Kb:()=>s,Mp:()=>w,Pf:()=>$,Rh:()=>S,SQ:()=>c,T6:()=>v,UM:()=>x,VQ:()=>_,Xm:()=>d,bd:()=>k,bj:()=>h,gY:()=>b,hS:()=>m,hx:()=>E,iS:()=>o,p4:()=>a,pJ:()=>g,rJ:()=>j,s:()=>p,sB:()=>y,tC:()=>n});var l=r(31342);const i="https://app.memate.com.au/api/v1",n=async()=>{const e=new URL(`${i}/jobs/templates/`);return(0,l.f)(e.toString(),{method:"GET"})},o=async e=>{const t=new URL(`${i}${`/jobs/templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},s=async e=>{const t={method:"POST",body:e},r=new URL(`${i}/jobs/templates/`);return(0,l.f)(r.toString(),t)},a=async(e,t)=>{const r={method:"PUT",body:t},n=new URL(`${i}${`/jobs/templates/${e}/`}`);return(0,l.f)(n.toString(),r)},d=async e=>{const t=new URL(`${i}${`/jobs/templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},c=async()=>{const e=new URL(`${i}/settings/templates/email-templates/`);return(0,l.f)(e.toString(),{method:"GET"})},u=async e=>{const t={method:"POST",body:e},r=new URL(`${i}/settings/templates/email-templates/`);return(0,l.f)(r.toString(),t)},p=async(e,t)=>{const r={method:"PUT",body:t},n=new URL(`${i}${`/settings/templates/email-templates/${e}/`}`);return(0,l.f)(n.toString(),r)},m=async e=>{const t=new URL(`${i}${`/settings/templates/email-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},f=async()=>{const e=new URL(`${i}/email-signatures/`);return(0,l.f)(e.toString(),{method:"GET"})},h=async e=>{const t=new URL(`${i}${`/email-signatures/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},v=async e=>{const t={method:"POST",body:e},r=new URL(`${i}/email-signatures/`);return(0,l.f)(r.toString(),t)},b=async(e,t)=>{const r={method:"PUT",body:t},n=new URL(`${i}${`/email-signatures/${e}/`}`);return(0,l.f)(n.toString(),r)},y=async e=>{const t=new URL(`${i}${`/email-signatures/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},x=async e=>{const t=new URL(`${i}${`/settings/email-signatures/default/${e}/`}`);return(0,l.f)(t.toString(),{method:"PUT"})},g=async()=>{const e=new URL(`${i}/sms-templates/`);return(0,l.f)(e.toString(),{method:"GET"})},w=async e=>{const t=new URL(`${i}${`/sms-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},q=async e=>{const t={method:"POST",body:e},r=new URL(`${i}/sms-templates/`);return(0,l.f)(r.toString(),t)},S=async(e,t)=>{const r={method:"PUT",body:t},n=new URL(`${i}${`/sms-templates/${e}/`}`);return(0,l.f)(n.toString(),r)},j=async e=>{const t=new URL(`${i}${`/sms-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},$=async e=>{const t=new URL(`${i}${`/proposals/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},E=async()=>{const e=new URL(`${i}/references/outgoing-email/`);return(0,l.f)(e.toString(),{method:"GET"})},k=async e=>{const t=new URL(`${i}${`/settings/templates/email-templates/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})},_=async()=>{const e=new URL(`${i}/settings/proposals/`);return(0,l.f)(e.toString(),{method:"GET"})},L=async e=>{const t=new URL(`${i}${`/settings/proposals/${e}/`}`);return(0,l.f)(t.toString(),{method:"GET"})},A=async e=>{const t=new URL(`${i}${`/settings/proposals/delete/${e}/`}`);return(0,l.f)(t.toString(),{method:"DELETE"})}},87201:(e,t,r)=>{r.d(t,{Jy:()=>o,bJ:()=>n,lI:()=>s});var l=r(31342);const i="https://app.memate.com.au/api/v1";async function n(e){const t=`${i}/inquiries/form/`,r={method:"POST",body:e};return(0,l.f)(t,r)}async function o(e){const t=`${i}/inquiries/form/${e}/`;return(0,l.f)(t,{method:"GET"})}async function s(e,t){const r=`${i}/inquiries/form/${e}/update/`,n={method:"PATCH",body:t};return(0,l.f)(r,n)}},91704:(e,t,r)=>{r.d(t,{A:()=>d});var l=r(65043),i=r(65173),n=r.n(i),o=["color","size","title","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)({}).hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},s.apply(null,arguments)}var a=(0,l.forwardRef)((function(e,t){var r=e.color,i=void 0===r?"currentColor":r,n=e.size,a=void 0===n?"1em":n,d=e.title,c=void 0===d?null:d,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,l,i=function(e,t){if(null==e)return{};var r={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o);return l.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:i,className:["bi","bi-save",p].filter(Boolean).join(" ")},m),c?l.createElement("title",null,c):null,l.createElement("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"}))}));a.propTypes={color:n().string,size:n().oneOfType([n().string,n().number]),title:n().string,className:n().string};const d=a}}]);
//# sourceMappingURL=6608.c7c88722.chunk.js.map