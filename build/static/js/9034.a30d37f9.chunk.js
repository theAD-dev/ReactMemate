"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[9034],{17030:(e,s,t)=>{t.d(s,{DY:()=>o,Dc:()=>n,MY:()=>f,VL:()=>x,Vn:()=>r,WL:()=>c,_0:()=>h,ax:()=>a,cM:()=>m,jH:()=>j,mL:()=>u,sl:()=>v,tA:()=>d,zw:()=>p});var l=t(31342);const i="https://dev.memate.com.au/api/v1",a=async e=>{const s=new URL(`${i}/references/calc-indexes/`);return 1===e&&s.searchParams.append("all",1),(0,l.f)(s.toString(),{method:"GET"})},n=async e=>{const s=new URL(`${i}${`/references/calculators/${e}/`}`);return(0,l.f)(s.toString(),{method:"GET"})},c=async e=>{const s=new URL(`${i}${`/projects/${e}/`}`);return(0,l.f)(s.toString(),{method:"GET"})},o=async e=>{const s={method:"POST",body:e},t=new URL(`${i}/sales/new-request/`);return(0,l.f)(t.toString(),s)},r=async(e,s)=>{if(!e)throw new Error("No id found");const t={method:"PUT",body:s},a=new URL(`${i}${`/sales/projects/${e}/`}`);return(0,l.f)(a.toString(),t)},d=async e=>{const s={method:"POST",body:e},t=new URL(`${i}/projects/merges/new/`);return(0,l.f)(t.toString(),s)},u=async e=>{const s=new URL(`${i}${`/projects/merges/${e}/delete/`}`);return(0,l.f)(s.toString(),{method:"DELETE"})},x=async e=>{const s={method:"POST",body:e},t=new URL(`${i}/settings/departments/`);return(0,l.f)(t.toString(),s)},m=async(e,s)=>{if(!e)return;const t={method:"PUT",body:s},a=new URL(`${i}${`/settings/departments/update/${e}/`}`);return(0,l.f)(a.toString(),t)},p=async e=>{const s={method:"POST",body:e},t=new URL(`${i}/settings/sub-departments/`);return(0,l.f)(t.toString(),s)},h=async(e,s)=>{if(!e)return;const t={method:"PUT",body:s},a=new URL(`${i}${`/settings/sub-departments/update/${e}/`}`);return(0,l.f)(a.toString(),t)},j=async(e,s)=>{const t={method:"POST",body:s},a=new URL(`${i}${`/references/calculators/${e}/new/`}`);return(0,l.f)(a.toString(),t)},v=async(e,s,t)=>{const a={method:"PUT",body:t},n=new URL(`${i}${`/references/calculators/${e}/update/${s}/`}`);return(0,l.f)(n.toString(),a)},f=async e=>{const s=new URL(`${i}${e}`);return(0,l.f)(s.toString(),{method:"DELETE"})}},24572:(e,s,t)=>{function l(e){var s,t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},l="";for(s in t)for(;e>=t[s];)l+=s,e-=t[s];return l}function i(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}t.d(s,{Mf:()=>l,i$:()=>a,up:()=>i});const a=(e,s)=>{var t;if(!e)return"-";const l=new Date(1e3*+e);if(s){return l.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,".")}return null===(t=l.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))||void 0===t?void 0:t.replace(/,/g,"")}},35448:(e,s,t)=>{t.d(s,{A:()=>N});t(65043);var l=t(35475),i=t(36237),a=t(95192),n=t(12534),c=t(3494),o=t(71711),r=t(22636),d=t(99093),u=t(47092),x=t(27066),m=t(26501),p=t(85652),h=t(43808),j=t(31683),v=t(46632),f=t(19031);var g=t(70579);const y=()=>(0,g.jsxs)("button",{className:"logoutStyle logoutBottom",onClick:()=>{window.localStorage.removeItem("access_token"),window.localStorage.removeItem("refresh_token"),window.localStorage.removeItem("isLoggedIn"),window.location.href="/login"},children:["Logout ",(0,g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE1SURBVHgBzZRBSsNQEIb/MVEIqGTpopWspNll2axMbtAj9AbBG/QG4glMT6A3aHZmZ1faZbAeoIJQFJpxnqSlhD760nbRDwKPzMuXmXnDA44dcr3IvXTm/ZLJNfoAKKaTPNXGW374SgSPS4xhIpS9RDz8eMsHm+K2/DHgkuPPSZ7BgFanOxDtrS5+gj0QeaRadjAhET2eO7+jdWljoQ2kYB6qtcUcE9hdl1LbD1kw7mEdr9P1FkQjBs2+52exrdt47YcJMwXbhAt5GFxIptGF8/OkLVmy/kJDJEtXm2E1vCm2cCUln+K/5LEtJTc+FCVo34S9lazqn5IVRTbb5ZT7sJCodV1WxffiTmTZUrYSEpVGF0Od6fvLc/2dzYyMyLqXeUyMLIRARuRBG1aDWRL3DnV9HT9/U1p2VHUS9SgAAAAASUVORK5CYII=",alt:"Arrow Right"})]}),N=e=>{let{activeTab:s,setActiveTab:t}=e;const N=JSON.parse(window.localStorage.getItem("profileData")||"{}");return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"settings-menu",children:(0,g.jsxs)("div",{className:"menuList",children:[(0,g.jsxs)("div",{className:"topList",children:[(0,g.jsx)("h2",{children:"General"}),(0,g.jsxs)("ul",{children:[(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/generalinformation",className:"sidebar-tab "+("generalinformation"===s?"activelist":""),onClick:()=>t("generalinformation"),children:[(0,g.jsx)(i.A,{color:"#667085",size:18}),"Company Information"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/generalinformation/profile",className:"sidebar-tab "+("profile"===s?"activelist":""),onClick:()=>t("profile"),children:[(0,g.jsx)(a.A,{color:"#667085",size:18}),"My Profile"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/generalinformation/subscription",className:"sidebar-tab "+("subscription"===s?"activelist":""),onClick:()=>t("subscription"),children:[(0,g.jsx)(n.A,{color:"#667085",size:18}),"Subscription"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/users/desktop",className:"sidebar-tab "+("desktop"===s?"activelist":""),onClick:()=>t("desktop"),children:[(0,g.jsx)(c.A,{color:"#667085",size:18}),"Users"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/location",className:"sidebar-tab "+("locations"===s?"activelist":""),onClick:()=>t("locations"),children:[(0,g.jsx)(o.A,{color:"#667085",size:18}),"Locations"]})]})]}),(0,g.jsx)("h2",{children:"Settings"}),(0,g.jsxs)("ul",{children:[(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/calculators/departments",className:"sidebar-tab "+("departments"===s?"activelist":""),onClick:()=>t("departments"),children:[(0,g.jsx)(r.A,{color:"#667085",size:18}),"Calculators"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/templates/job-templates",className:"sidebar-tab "+("job-templates"===s?"activelist":""),onClick:()=>t("job-templates"),children:[(0,g.jsx)(d.A,{color:"#667085",size:18}),"Templates"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/companyethos/company-ethos",className:"sidebar-tab "+("company-ethos"===s?"activelist":""),onClick:()=>t("company-ethos"),children:[(0,g.jsx)(u.A,{color:"#667085",size:18}),"Company Ethos"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/integrations",className:"sidebar-tab "+("integrations"===s?"activelist":""),onClick:()=>t("integrations"),children:[(0,g.jsx)(x.A,{color:"#667085",size:18}),"Integrations"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/quotesjobs/recurring-quotes",className:"sidebar-tab "+("recurring-quotes"===s?"activelist":""),onClick:()=>t("recurring-quotes"),children:[(0,g.jsx)(m.A,{color:"#667085",size:18}),"Quotes & Jobs"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/projectstatus/project-status",className:"sidebar-tab "+("organisation-setting"===s?"activelist":""),onClick:()=>t("organisation-setting"),children:[(0,g.jsx)(p.A,{color:"#667085",size:18}),"Organisation Setting"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/termsandconditions/terms-and-conditions",className:"sidebar-tab "+("terms-and-conditions"===s?"activelist":""),onClick:()=>t("terms-and-conditions"),children:[(0,g.jsx)(h.A,{color:"#667085",size:18}),"Terms and Conditions"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/customerssettings/industries",className:"sidebar-tab "+("industries"===s?"activelist":""),onClick:()=>t("industries"),children:[(0,g.jsx)(a.A,{color:"#667085",size:18}),"Customers Settings"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/accounting/expenses",className:"sidebar-tab "+("expenses"===s?"activelist":""),onClick:()=>t("expenses"),children:[(0,g.jsx)(j.A,{color:"#667085",size:18}),"Accounting"]})]}),(0,g.jsxs)("li",{children:[" ",(0,g.jsxs)(l.N_,{to:"/settings/notifications/dashboard-notifications",className:"sidebar-tab "+("dashboard-notifications"===s?"activelist":""),onClick:()=>t("dashboard-notifications"),children:[(0,g.jsx)(v.A,{color:"#667085",size:18}),"Notifications"]})]})]})]}),(0,g.jsxs)("div",{className:"logoutBottomS pt-2",style:{borderTop:".5px solid #dedede",height:"200px"},children:[(0,g.jsx)("div",{className:"userNameList ps-2",children:(0,g.jsxs)("button",{className:"btn d-flex align-items-center gap-3 mb-2 px-0",children:[(0,g.jsx)(f.A,{size:16,color:"#667085"}),(0,g.jsx)("p",{className:"mb-0",children:"Support"})]})}),(0,g.jsx)("div",{className:"userNameList ps-2",children:N&&(0,g.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-3",children:[(0,g.jsx)(a.A,{size:16,color:"#667085"}),(0,g.jsxs)("p",{className:"mb-0",children:[(0,g.jsx)("strong",{children:N.full_name}),(0,g.jsx)("span",{children:N.email})]})]})}),(0,g.jsx)(y,{})]})]})})})}},69034:(e,s,t)=>{t.r(s),t.d(s,{default:()=>H});var l=t(65043),i=t(35448),a=t(73898),n=t(83627),c=t(35690),o=t(66415),r=t(56741),d=t(8422),u=t(91704),x=t(93202),m=t(14282),p=t(21052);const h={wraper:"calculators_wraper__aewG6",topHeadBorder:"calculators_topHeadBorder__mfKCt","p-highlight":"calculators_p-highlight__3d9zk",innerExpandIcon:"calculators_innerExpandIcon__7485N",innerCollapseIcon:"calculators_innerCollapseIcon__aNrMn",accorHeadbox:"calculators_accorHeadbox__f+ij1","p-icon":"calculators_p-icon__NQaQ7",hoverToShow:"calculators_hoverToShow__S4I4X",downBoxStyle:"calculators_downBoxStyle__-Xc7q",iconSpace:"calculators_iconSpace__ZEbgh",creaeDepartment:"calculators_creaeDepartment__toV7V",accorHeadStyle:"calculators_accorHeadStyle__vUjqD",accorInHeadStyle:"calculators_accorInHeadStyle__TUddA",innerBoxStyle:"calculators_innerBoxStyle__QFtjy",calculateBox:"calculators_calculateBox__zaz7B",boxcal:"calculators_boxcal__LdDA4",profit:"calculators_profit__65eR-",RItem:"calculators_RItem__nCFaj",delete:"calculators_delete__+52fT",create:"calculators_create__mEJIe",editBut:"calculators_editBut__QEaEh",contentStyle:"calculators_contentStyle__rkbzC",modelStyleBoxstatus:"calculators_modelStyleBoxstatus__OxGQ8",iconborderStyle:"calculators_iconborderStyle__Peyjs",stepBoxStylePayment:"calculators_stepBoxStylePayment__VwrhK",inputInfo:"calculators_inputInfo__LCuyT",modal:"calculators_modal__Kc6BD",modalHeader:"calculators_modalHeader__w-xRT",headerTitle:"calculators_headerTitle__JxbZh",circledesignstyle:"calculators_circledesignstyle__OS-4Z",out:"calculators_out__nhZ8X",inputBox:"calculators_inputBox__HLy1o",editIcon:"calculators_editIcon__zJxtm",deleteIcon:"calculators_deleteIcon__qWFbY",inputNumber:"calculators_inputNumber__t4+mu",inputNumber2:"calculators_inputNumber2__feIc7",bottom:"calculators_bottom__MVPLM",editIconBox:"calculators_editIconBox__c5sps",editIconBox2:"calculators_editIconBox2__rx5xR",edidcodtUpdate:"calculators_edidcodtUpdate__1NIAn"};var j=t(58387),v=t(17030),f=t(93747),g=t(61072),y=t(78602),N=t(24572),b=t(74856),_=t(27932),A=t(79255),w=t(55797),S=t(72052),C=t(56328),F=t(94819),$=t(93740);const B=t.p+"static/media/confirm-img.798ad3693ffcf996930da9c6e63e7908.svg";var R=t(70579);const E=e=>{let{title:s,api:t,refetch:i}=e;const[a,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),r=(0,R.jsx)("div",{className:`${h.modalHeader}`,children:(0,R.jsx)("div",{className:"w-100 d-flex justify-content-center align-items-center gap-2",children:(0,R.jsxs)("span",{className:`white-space-nowrap mt-2 mb-2 ${h.headerTitle}`,children:["Are you sure you want to delete ",s,"?"]})})}),d=(0,R.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,R.jsx)(m.A,{className:"outline-button",onClick:()=>o(!1),children:"Cancel"}),(0,R.jsxs)(m.A,{className:"danger-button",onClick:async()=>{try{n(!0),await(0,v.MY)(t),i(),C.oR.success(`${s} deleted successfully`),o(!1)}catch(e){console.log("err: ",e),C.oR.error(`Failed to delete ${s}. Please try again.`)}finally{n(!1)}},children:["Delete ",s," ",a&&(0,R.jsx)($.p,{style:{width:"20px",height:"20px",color:"#fff"}})]})]});return(0,R.jsxs)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,R.jsxs)(m.A,{className:h.delete,onClick:e=>o(!0),children:[(0,R.jsx)(F.A,{color:"#B42318",size:18,className:"me-2"}),"Delete ",s]}),(0,R.jsx)(w.l,{visible:c,modal:!0,header:r,footer:d,className:`${h.modal} custom-modal`,style:{width:"670px"},onHide:()=>o(!1),children:(0,R.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:(0,R.jsx)("img",{src:B,alt:"confirm"})})})]})},I=(e,s)=>{let t=0,l=0;null===e||void 0===e||e.forEach((e=>{let s=parseFloat(e.cost)||0,i=parseFloat(e.quantity)||0;t+=parseFloat(s*i||0),l+=parseFloat(e.total||0)}));let i=0,a=0;"ex"===s?(i=.1*l,a=l+i):"in"===s?(a=l,i=.1*a/1.1,l=a-i):"no"===s&&(i=0,a=l);const n=l-t;return{budget:t.toFixed(2),operationalProfit:n.toFixed(2),subtotal:l.toFixed(2),tax:i.toFixed(2),total:a.toFixed(2)}},D=e=>{let s=parseFloat(null===e||void 0===e?void 0:e.cost)||0,t=0,l=parseFloat(null===e||void 0===e?void 0:e.profit_type_value)||0;return"MRK"===(null===e||void 0===e?void 0:e.profit_type)?t=s+s*(l/100):"MRG"===(null===e||void 0===e?void 0:e.profit_type)?t=s/(1-l/100):"AMN"===(null===e||void 0===e?void 0:e.profit_type)&&(t=s+l),t.toFixed(2)},k=e=>{let{calculator:s,index:t,refetch:i}=e;const[n,c]=(0,l.useState)(!1),[o,x]=(0,l.useState)(null),[p,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{if("MRG"===(null===o||void 0===o?void 0:o.profit_type)){let e=(null===o||void 0===o?void 0:o.profit_type_value)||0;e>100&&(e=99.99),x((s=>({...s,profit_type_value:e})))}}),[o]);return(0,l.useEffect)((()=>{p&&o!==s&&x(s)}),[p,s]),(0,l.useEffect)((()=>{if(p&&o){let e=(parseFloat(null===o||void 0===o?void 0:o.cost)||0)*(parseFloat(null===o||void 0===o?void 0:o.quantity)||0),s=parseFloat(null===o||void 0===o?void 0:o.profit_type_value)||0;"MRK"===(null===o||void 0===o?void 0:o.profit_type)?e+=e*s/100:"MRG"===(null===o||void 0===o?void 0:o.profit_type)?e/=1-s/100:"AMN"===(null===o||void 0===o?void 0:o.profit_type)&&(e+=s);let t=parseFloat(null===o||void 0===o?void 0:o.discount)||0,l=parseFloat(e-e*t/100).toFixed(2);l!==o.total&&x((e=>({...e,total:l})))}}),[o,p]),(0,R.jsx)("div",{className:`${h.contentStyle}`,children:p?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h6",{children:"Full Description"}),(0,R.jsx)(_.Z,{autoResize:!0,value:null===o||void 0===o?void 0:o.description,onChange:e=>x((s=>({...s,description:e.target.value}))),className:"w-100 border mb-3",rows:5,style:{height:"145px",overflow:"auto",resize:"none"}}),(0,R.jsxs)(g.A,{className:h.edidcodtUpdate,children:[(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex gap-2 justify-content-between align-items-center ",children:[(0,R.jsxs)("div",{className:"left",children:[(0,R.jsx)("label",{children:"Cost"}),(0,R.jsx)(A.Y,{className:(0,j.A)(h.inputNumber),prefix:"$",value:parseFloat((null===o||void 0===o?void 0:o.cost)||0),onValueChange:e=>x((s=>({...s,cost:e.value}))),maxFractionDigits:2,minFractionDigits:2,inputId:"minmaxfraction"})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",padding:"4px",background:"#EBF8FF",marginTop:"25px"},children:(0,R.jsx)(r.A,{color:"#1AB2FF",size:12})})]})}),(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("label",{children:"Markup/Margin"}),(0,R.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,R.jsx)(A.Y,{className:(0,j.A)(h.inputNumber2),value:parseFloat((null===o||void 0===o?void 0:o.profit_type_value)||0),onValueChange:e=>x((s=>({...s,profit_type_value:e.value}))),maxFractionDigits:2,minFractionDigits:2,max:"MRG"===(null===o||void 0===o?void 0:o.profit_type)?99.99:void 0}),(0,R.jsxs)("select",{value:null===o||void 0===o?void 0:o.profit_type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>x((s=>({...s,profit_type:e.target.value}))),children:[(0,R.jsx)("option",{value:"MRG",children:"MRG %"}),(0,R.jsx)("option",{value:"AMN",children:"AMT $"}),(0,R.jsx)("option",{value:"MRK",children:"MRK %"})]})]})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("label",{className:"mb-2",children:"Unit Price"}),(0,R.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,R.jsxs)("strong",{children:["$ ",D(o)]})})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF",marginTop:"30px"},children:(0,R.jsx)(r.A,{color:"#1AB2FF",size:12})})]})}),(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("label",{children:"Quantity/Hours"}),(0,R.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,R.jsx)(A.Y,{className:(0,j.A)(h.inputNumber2),inputId:"withoutgrouping",value:parseInt((null===o||void 0===o?void 0:o.quantity)||0),onValueChange:e=>x((s=>({...s,quantity:e.value})))}),(0,R.jsxs)("select",{value:null===o||void 0===o?void 0:o.type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>x((s=>({...s,type:e.target.value}))),children:[(0,R.jsx)("option",{value:"Cost",children:"1/Q"}),(0,R.jsx)("option",{value:"Hourly",children:"1/H"})]})]})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,R.jsxs)(y.A,{children:[(0,R.jsx)("label",{className:"mb-2",children:"Sub Total:"}),(0,R.jsxs)("strong",{children:["$ ",parseFloat((null===o||void 0===o?void 0:o.total)||0).toFixed(2)]})]})]}),(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,R.jsx)("span",{}),(0,R.jsxs)("div",{className:(0,j.A)(h.RItem),children:[(0,R.jsxs)(m.A,{className:h.delete,onClick:e=>f(!1),children:[(0,R.jsx)(d.A,{color:"#B42318",size:18,className:"me-2"}),"Cancel"]}),(0,R.jsxs)(m.A,{className:h.create,onClick:async()=>{console.log("tempCalculator: ",o);let e={title:null===o||void 0===o?void 0:o.title,description:null===o||void 0===o?void 0:o.description,type:"Cost"===(null===o||void 0===o?void 0:o.type)?0:1,cost:null===o||void 0===o?void 0:o.cost,quantity:null===o||void 0===o?void 0:o.quantity,profit_type:null===o||void 0===o?void 0:o.profit_type,profit_type_value:null===o||void 0===o?void 0:o.profit_type_value,total:null===o||void 0===o?void 0:o.total};try{c(!0),await(0,v.sl)(t,s.id,e),C.oR.success("Calculator updated successfully."),f(!1),i(t)}catch(l){console.log("Error during updating calculator",l),C.oR.error("Failed to update calculator. Please try again.")}finally{c(!1)}},children:[n?(0,R.jsx)($.p,{className:"me-2",style:{width:"18px",height:"18px"}}):(0,R.jsx)(u.A,{color:"#106B99",size:18,className:"me-2"}),"Save Calculator"]})]})]})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h6",{children:"Description"}),(0,R.jsx)("p",{children:(null===s||void 0===s?void 0:s.description)||""}),(0,R.jsxs)(g.A,{children:[(0,R.jsxs)(y.A,{children:[(0,R.jsx)("label",{children:"Cost"}),(0,R.jsxs)("strong",{children:["$ ",parseFloat((null===s||void 0===s?void 0:s.cost)||0).toFixed(2)]})]}),(0,R.jsxs)(y.A,{children:[(0,R.jsx)("label",{children:"Margin/Markup"}),(0,R.jsxs)("strong",{children:[parseFloat((null===s||void 0===s?void 0:s.profit_type_value)||0).toFixed(2),"AMN"===(null===s||void 0===s?void 0:s.profit_type)?"$":"%"]})]}),(0,R.jsxs)(y.A,{children:[(0,R.jsx)("label",{children:"Unit Price"}),(0,R.jsxs)("strong",{children:["$ ",D(s)]})]}),(0,R.jsxs)(y.A,{children:[(0,R.jsx)("label",{children:"Quantity/Hours"}),(0,R.jsx)("strong",{children:parseFloat((null===s||void 0===s?void 0:s.quantity)||0)})]}),(0,R.jsxs)(y.A,{children:[(0,R.jsx)("label",{children:"Sub Total:"}),(0,R.jsxs)("strong",{children:["$ ",parseFloat(s.total||0).toFixed(2)]})]})]}),(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,R.jsx)("span",{}),(0,R.jsxs)("div",{className:(0,j.A)(h.RItem),children:[(0,R.jsx)(E,{title:"Calculator",api:`/references/calculators/delete/${s.id}/`,refetch:()=>i(t)}),(0,R.jsxs)(m.A,{className:h.create,onClick:()=>f(!0),children:[(0,R.jsx)(a.A,{color:"#106B99",size:18,className:"me-2"}),"Edit Calculator"]})]})]})]})})},z=e=>{let{index:s,name:t,refetch:i,cancelCreateCalculator:a}=e;const[n,c]=(0,l.useState)(!1),[o,x]=(0,l.useState)(null);null!==o&&void 0!==o&&o.profit_type||x((e=>({...e,profit_type:"MRG"}))),(0,l.useEffect)((()=>{if("MRG"===(null===o||void 0===o?void 0:o.profit_type)){let e=(null===o||void 0===o?void 0:o.profit_type_value)||0;e>100&&(e=99.99),x((s=>({...s,profit_type_value:e})))}}),[o]),(0,l.useEffect)((()=>{if(o){let e=(parseFloat(null===o||void 0===o?void 0:o.cost)||0)*(parseFloat(null===o||void 0===o?void 0:o.quantity)||0),s=parseFloat(null===o||void 0===o?void 0:o.profit_type_value)||0;"MRK"===(null===o||void 0===o?void 0:o.profit_type)?e+=e*s/100:"MRG"===(null===o||void 0===o?void 0:o.profit_type)?e/=1-s/100:"AMN"===(null===o||void 0===o?void 0:o.profit_type)&&(e+=s);let t=parseFloat(null===o||void 0===o?void 0:o.discount)||0,l=parseFloat(e-e*t/100).toFixed(2);l!==o.total&&x((e=>({...e,total:l})))}}),[o]);return(0,R.jsxs)("div",{className:`${h.contentStyle}`,children:[(0,R.jsx)("h6",{children:"Full Description"}),(0,R.jsx)(_.Z,{autoResize:!0,value:null===o||void 0===o?void 0:o.description,onChange:e=>x((s=>({...s,description:e.target.value}))),className:"w-100 border mb-3",rows:5,style:{height:"145px",overflow:"auto",resize:"none",outline:"none",boxShadow:"none"}}),(0,R.jsxs)(g.A,{children:[(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex gap-2 justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"left",children:[(0,R.jsx)("label",{children:"Cost"}),(0,R.jsx)(A.Y,{className:(0,j.A)(h.inputNumber),prefix:"$",value:parseFloat((null===o||void 0===o?void 0:o.cost)||0),onValueChange:e=>x((s=>({...s,cost:e.value}))),maxFractionDigits:2,minFractionDigits:2,inputId:"minmaxfraction"})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",padding:"4px",background:"#EBF8FF",marginTop:"20px"},children:(0,R.jsx)(r.A,{color:"#1AB2FF",size:12})})]})}),(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("label",{className:"d-block text-center",children:"Markup/Margin"}),(0,R.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,R.jsx)(A.Y,{className:(0,j.A)(h.inputNumber2),value:parseFloat((null===o||void 0===o?void 0:o.profit_type_value)||0),onValueChange:e=>x((s=>({...s,profit_type_value:parseFloat(e.value)}))),max:"MRG"===(null===o||void 0===o?void 0:o.profit_type)?99.99:void 0,maxFractionDigits:2,minFractionDigits:2,useGrouping:!1}),(0,R.jsxs)("select",{value:null===o||void 0===o?void 0:o.profit_type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>x((s=>({...s,profit_type:e.target.value}))),children:[(0,R.jsx)("option",{value:"MRG",children:"MRG %"}),(0,R.jsx)("option",{value:"AMN",children:"AMT $"}),(0,R.jsx)("option",{value:"MRK",children:"MRK %"})]})]})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("label",{className:"mb-2",children:"Unit Price"}),(0,R.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,R.jsxs)("strong",{children:["$ ",D(o)]})})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF",marginTop:"35px"},children:(0,R.jsx)(r.A,{color:"#1AB2FF",size:12})})]})}),(0,R.jsx)(y.A,{children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("label",{children:"Quantity/Hours"}),(0,R.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,R.jsx)(A.Y,{className:(0,j.A)(h.inputNumber2),inputId:"withoutgrouping",value:parseInt((null===o||void 0===o?void 0:o.quantity)||0),onValueChange:e=>x((s=>({...s,quantity:e.value})))}),(0,R.jsxs)("select",{value:null===o||void 0===o?void 0:o.type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>x((s=>({...s,type:e.target.value}))),children:[(0,R.jsx)("option",{value:"Cost",children:"1/Q"}),(0,R.jsx)("option",{value:"Hourly",children:"1/H"})]})]})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",marginTop:"20px"},children:"="})]})}),(0,R.jsxs)(y.A,{children:[(0,R.jsx)("label",{className:"mb-2",children:"Sub Total:"}),(0,R.jsxs)("strong",{children:["$ ",parseFloat((null===o||void 0===o?void 0:o.total)||0).toFixed(2)]})]})]}),(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,R.jsx)("span",{}),(0,R.jsxs)("div",{className:(0,j.A)(h.RItem),children:[(0,R.jsxs)(m.A,{className:h.delete,onClick:e=>a(null),children:[(0,R.jsx)(d.A,{color:"#B42318",size:18,className:"me-2"}),"Cancel"]}),(0,R.jsxs)(m.A,{className:h.create,onClick:async()=>{console.log("tempCalculator: ",o);let e={title:t||"",description:null===o||void 0===o?void 0:o.description,type:"Cost"===(null===o||void 0===o?void 0:o.type)?0:1,cost:null===o||void 0===o?void 0:o.cost,quantity:null===o||void 0===o?void 0:o.quantity,profit_type:null===o||void 0===o?void 0:o.profit_type,profit_type_value:null===o||void 0===o?void 0:o.profit_type_value,total:null===o||void 0===o?void 0:o.total};try{c(!0),await(0,v.jH)(s,e),C.oR.success("Calculator created successfully."),a(null),i(s)}catch(l){console.log("Error during creating calculator",l),C.oR.error("Failed to created calculator. Please try again.")}finally{c(!1)}},children:[n?(0,R.jsx)($.p,{className:"me-2",style:{width:"18px",height:"18px"}}):(0,R.jsx)(u.A,{color:"#106B99",size:18,className:"me-2"}),"Save Calculator"]})]})]})]})},T=e=>{let{calculators:s=[],index:t,name:l,refetch:i,isNewCreate:a,cancelCreateCalculator:n}=e;const c=s.filter(((e,s,t)=>s===t.findIndex((s=>s.id===e.id&&!(null!==e&&void 0!==e&&e.deleted))))),o=I(c,"no");return(0,R.jsxs)("div",{children:[a&&(0,R.jsx)(z,{index:t,name:l,refetch:i,cancelCreateCalculator:n}),null===c||void 0===c?void 0:c.map((e=>(0,R.jsx)(k,{index:t,calculator:e,refetch:i},e.id))),(0,R.jsx)("div",{className:h.calculateBox,children:(0,R.jsxs)("ul",{children:[(0,R.jsxs)("li",{children:[(0,R.jsxs)("div",{className:`${h.boxcal}`,children:[(0,R.jsx)("h6",{children:"Budget"}),(0,R.jsx)("strong",{children:(0,N.up)(+o.budget)})]}),(0,R.jsxs)("div",{className:`${h.profit} ${h.boxcal}`,children:[(0,R.jsx)("h6",{children:"Operational Profit"}),(0,R.jsx)("strong",{children:(0,N.up)(+o.operationalProfit)})]})]}),(0,R.jsx)("li",{children:(0,R.jsxs)("div",{className:`${h.boxcal}`,children:[(0,R.jsx)("h6",{children:"Total"}),(0,R.jsx)("strong",{children:(0,N.up)(+o.total)})]})})]})})]})},M=e=>{let{editSubIndex:s,calculators:t}=e;const[i,a]=(0,l.useState)(t||[]),n=I(t,"no");return(0,R.jsxs)("div",{children:[i.map((e=>(0,R.jsxs)("div",{className:`${h.contentStyle}`,children:[(0,R.jsx)("h6",{children:"Full Description"}),(0,R.jsx)(_.Z,{autoResize:!0,value:e.description,onChange:s=>(s.target.value,void e.id),className:"w-100 border mb-3",rows:5,style:{height:"145px",overflow:"auto",resize:"none"}}),(0,R.jsxs)(g.A,{children:[(0,R.jsx)(y.A,{sm:2,children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"left",children:[(0,R.jsx)("label",{children:"Cost"}),(0,R.jsx)(A.Y,{prefix:"$",value:parseFloat((null===e||void 0===e?void 0:e.cost)||0),onValueChange:e=>{},maxFractionDigits:2})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF"},children:(0,R.jsx)(r.A,{color:"#1AB2FF",size:12})})]})}),(0,R.jsx)(y.A,{sm:2,children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"left",children:[(0,R.jsx)("label",{children:"Margin"}),(0,R.jsx)(A.Y,{prefix:"$",value:parseFloat((null===e||void 0===e?void 0:e.profit_type_value)||0),onValueChange:e=>{},maxFractionDigits:2})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF"},children:(0,R.jsx)(r.A,{color:"#1AB2FF",size:12})})]})}),(0,R.jsx)(y.A,{sm:2,children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"left",children:[(0,R.jsx)("label",{children:"Margin"}),(0,R.jsx)(A.Y,{prefix:"$",value:parseFloat((null===e||void 0===e?void 0:e.profit_type_value)||0),onValueChange:e=>{},maxFractionDigits:2})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF"},children:(0,R.jsx)(r.A,{color:"#1AB2FF",size:12})})]})}),(0,R.jsx)(y.A,{sm:3,children:(0,R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,R.jsxs)("div",{className:"left",children:[(0,R.jsx)("label",{children:"Budget"}),(0,R.jsx)(A.Y,{prefix:"$",value:parseFloat((null===e||void 0===e?void 0:e.quantity)||0),onValueChange:e=>{},maxFractionDigits:2})]}),(0,R.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px"},children:"="})]})}),(0,R.jsxs)(y.A,{sm:3,children:[(0,R.jsx)("label",{children:"Sub Total:"}),(0,R.jsxs)("strong",{children:["$ ",parseFloat(e.total||0).toFixed(2)]})]})]})]},e.id))),(0,R.jsx)("div",{className:h.calculateBox,children:(0,R.jsxs)("ul",{children:[(0,R.jsxs)("li",{children:[(0,R.jsxs)("div",{className:`${h.boxcal}`,children:[(0,R.jsx)("h6",{children:"Budget"}),(0,R.jsx)("strong",{children:(0,N.up)(+n.budget)})]}),(0,R.jsxs)("div",{className:`${h.profit} ${h.boxcal}`,children:[(0,R.jsx)("h6",{children:"Operational Profit"}),(0,R.jsx)("strong",{children:(0,N.up)(+n.operationalProfit)})]})]}),(0,R.jsx)("li",{children:(0,R.jsxs)("div",{className:`${h.boxcal}`,children:[(0,R.jsx)("h6",{children:"Total"}),(0,R.jsx)("strong",{children:(0,N.up)(+n.total)})]})})]})})]})},L=()=>(0,R.jsxs)("div",{style:{padding:"16px 24px 16px 52px"},children:[(0,R.jsx)(b.E,{width:"10rem",className:"mb-2"}),(0,R.jsx)(b.E,{className:"mb-2"}),(0,R.jsx)(b.E,{className:"mb-2"}),(0,R.jsx)(b.E,{className:"mb-2"}),(0,R.jsxs)(g.A,{children:[(0,R.jsxs)(y.A,{sm:3,children:[(0,R.jsx)(b.E,{width:"4rem",className:"mb-2"}),(0,R.jsx)(b.E,{width:"8rem",className:"mb-2"})]}),(0,R.jsxs)(y.A,{sm:3,children:[(0,R.jsx)(b.E,{width:"4rem",className:"mb-2"}),(0,R.jsx)(b.E,{width:"5rem",className:"mb-2"})]}),(0,R.jsxs)(y.A,{sm:3,children:[(0,R.jsx)(b.E,{width:"4rem",className:"mb-2"}),(0,R.jsx)(b.E,{width:"8rem",className:"mb-2"})]})]}),(0,R.jsxs)(g.A,{children:[(0,R.jsxs)(y.A,{sm:2,className:"py-3 px-2",children:[(0,R.jsx)(b.E,{width:"3rem",className:"mb-2"}),(0,R.jsx)(b.E,{width:"100%",className:"mb-2"})]}),(0,R.jsxs)(y.A,{sm:2,className:"py-3 px-2",children:[(0,R.jsx)(b.E,{width:"3rem",className:"mb-2"}),(0,R.jsx)(b.E,{width:"100%",className:"mb-2"})]}),(0,R.jsx)(y.A,{sm:6}),(0,R.jsxs)(y.A,{sm:2,className:"py-3",children:[(0,R.jsx)(b.E,{width:"3rem",className:"mb-2"}),(0,R.jsx)(b.E,{width:"100%",className:"mb-2"})]})]})]}),U=e=>{let{visible:s,setVisible:t,refetch:i,editDepartment:a,setEditDepartment:n}=e;const[c,o]=(0,l.useState)(!1),[r,d]=(0,l.useState)("");(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a.name&&d(null===a||void 0===a?void 0:a.name)}),[null===a||void 0===a?void 0:a.name]);const u=e=>{t(!1),d(""),n({id:null,name:null})},p=(0,R.jsx)("div",{className:`${h.modalHeader}`,children:(0,R.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,R.jsx)("div",{className:h.circledesignstyle,children:(0,R.jsx)("div",{className:h.out,children:(0,R.jsx)(x.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,R.jsx)("span",{className:`white-space-nowrap ${h.headerTitle}`,children:null!==a&&void 0!==a&&a.id?"Edit Deparment":"Create Deparment"})]})}),j=(0,R.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,R.jsx)(m.A,{className:"outline-button",onClick:u,children:"Cancel"}),(0,R.jsx)(m.A,{className:"solid-button",style:{width:"132px"},onClick:async()=>{try{r&&(o(!0),null!==a&&void 0!==a&&a.id?(await(0,v.cM)(null===a||void 0===a?void 0:a.id,{name:r}),C.oR.success("Department updated successfully."),n({id:null,name:null})):(await(0,v.VL)({name:r}),C.oR.success("New department created successfully.")),i(),u())}catch(e){console.error(`Error ${null!==a&&void 0!==a&&a.id?"updating":"creating"} department:`,e),C.oR.error(`Failed to ${null!==a&&void 0!==a&&a.id?"update":"create"} department. Please try again.`)}finally{o(!1)}},disabled:(null===r||void 0===r?void 0:r.length)<1,children:c?"Loading...":"Save Details"})]});return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(w.l,{visible:s,modal:!0,header:p,footer:j,className:`${h.modal} custom-modal`,onHide:u,children:(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Department name"}),(0,R.jsx)(S.S,{value:r,onChange:e=>d(e.target.value),className:h.inputBox})]})})})},P=e=>{let{visible2:s,setVisible2:t,refetch:i,editSubDepartment:a,setEditSubDepartment:n}=e;const[c,o]=(0,l.useState)(!1),[r,d]=(0,l.useState)(""),u=null===a||void 0===a?void 0:a.parent;(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a.name&&d(null===a||void 0===a?void 0:a.name)}),[null===a||void 0===a?void 0:a.name]);const p=e=>{t(!1),d(""),n({id:null,name:null,parent:null})},j=(0,R.jsx)("div",{className:`${h.modalHeader}`,children:(0,R.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,R.jsx)("div",{className:h.circledesignstyle,children:(0,R.jsx)("div",{className:h.out,children:(0,R.jsx)(x.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,R.jsx)("span",{className:`white-space-nowrap ${h.headerTitle}`,children:null!==a&&void 0!==a&&a.id?"Edit Sub Deparment":"Create Sub Deparment"})]})}),f=(0,R.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,R.jsx)(m.A,{className:"outline-button",onClick:p,children:"Cancel"}),(0,R.jsx)(m.A,{className:"solid-button",style:{width:"132px"},onClick:async()=>{try{if(r){if(!u)return C.oR.error("Parent id not found");o(!0),null!==a&&void 0!==a&&a.id?(await(0,v._0)(null===a||void 0===a?void 0:a.id,{name:r,parent:u}),C.oR.success("Sub department updated successfully."),n({id:null,name:null,parent:null})):(await(0,v.zw)({name:r,parent:u}),C.oR.success("New sub department created successfully.")),i(),p()}}catch(e){console.error(`Error ${null!==a&&void 0!==a&&a.id?"updating":"creating"} sub department:`,e),C.oR.error(`Failed to ${null!==a&&void 0!==a&&a.id?"update":"create"} sub department. Please try again.`)}finally{o(!1)}},disabled:(null===r||void 0===r?void 0:r.length)<1,children:c?"Loading...":"Save Details"})]});return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(w.l,{visible:s,modal:!0,header:j,footer:f,className:`${h.modal} custom-modal`,onHide:p,children:(0,R.jsxs)("div",{className:"d-flex flex-column",children:[(0,R.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Sub Department name"}),(0,R.jsx)(S.S,{value:r,onChange:e=>d(e.target.value),className:h.inputBox})]})})})},H=()=>{const[e,s]=(0,l.useState)(!1),[t,r]=(0,l.useState)(!1),[d,u]=(0,l.useState)("departments"),[x,g]=(0,l.useState)(null),[y,N]=(0,l.useState)(null),[b,_]=(0,l.useState)({id:null,name:null}),[A,w]=(0,l.useState)(null),[S,C]=(0,l.useState)({}),F=(0,f.I)({queryKey:["departments"],queryFn:()=>(0,v.ax)(1),enabled:!0}),$=async e=>{const s=await(0,v.Dc)(e);C((t=>({...t,[e]:s})))};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"settings-wrap",children:(0,R.jsxs)("div",{className:"settings-wrapper",children:[(0,R.jsx)(i.A,{activeTab:d,setActiveTab:u}),(0,R.jsxs)("div",{className:"settings-content setModalelBoots",children:[(0,R.jsx)("div",{className:"headSticky",children:(0,R.jsx)("h1",{children:"Calculators"})}),(0,R.jsx)("div",{className:(0,j.A)(h.wraper,"content_wrap_main"),children:(0,R.jsx)("div",{className:"content_wrapper",children:(0,R.jsxs)("div",{className:"listwrapper",children:[(0,R.jsxs)("div",{className:`topHeadStyle pb-4 ${h.topHeadBorder}`,children:[(0,R.jsx)("h2",{children:"Departments"}),(0,R.jsxs)("button",{onClick:()=>s(!0),children:["Create Deparment ",(0,R.jsx)(n.A,{color:"#000000",size:20,className:"mb-1 ms-1"})]})]}),(0,R.jsx)("div",{children:(0,R.jsx)(p.n,{expandIcon:(0,R.jsx)("div",{className:"expandIcon",children:(0,R.jsx)(c.A,{size:16,color:"#344054"})}),collapseIcon:(0,R.jsx)("div",{className:"collapseIcon",children:(0,R.jsx)(o.A,{size:16,color:"#106B99"})}),children:(()=>{var e,t;return null===F||void 0===F||null===(e=F.data)||void 0===e||null===(t=e.filter((e=>!(null!==e&&void 0!==e&&e.deleted))))||void 0===t?void 0:t.map(((e,t)=>{var l,i;return(0,R.jsx)(p.g,{className:(0,j.A)(h.accorHeadbox,"main-accordion-header"),header:(0,R.jsxs)("span",{className:"d-flex align-items-center justify-content-between",children:[(0,R.jsxs)("div",{className:"d-flex align-items-center",children:[(0,R.jsx)("span",{className:(0,j.A)(h.accorHeadStyle,"active-header-text"),children:e.name}),(0,R.jsx)("div",{className:(0,j.A)(h.editIconBox,"editItem"),onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),s(!0),_(t)})(t,{id:e.id,name:e.name}),style:{visibility:"hidden"},children:(0,R.jsx)(a.A,{color:"#106B99",size:16})})]}),(0,R.jsxs)("div",{className:(0,j.A)(h.RItem,"editItem"),style:{visibility:"hidden",marginRight:"14px"},children:[(0,R.jsx)(E,{title:"Deparment",api:`/settings/departments/delete/${e.id}/`,refetch:F.refetch}),(0,R.jsxs)(m.A,{className:h.create,onClick:s=>((e,s)=>{e.preventDefault(),e.stopPropagation(),w({parent:s}),r(!0)})(s,e.id),children:[(0,R.jsx)(n.A,{color:"#106B99",size:18,className:"me-2"}),"Create Sub Department"]})]})]}),children:(0,R.jsx)(p.n,{className:"innnerAccordian",expandIcon:(0,R.jsx)("div",{className:(0,j.A)(h.innerExpandIcon),children:(0,R.jsx)(c.A,{size:16,color:"#344054"})}),collapseIcon:(0,R.jsx)("div",{className:(0,j.A)(h.innerCollapseIcon),children:(0,R.jsx)(o.A,{size:16,color:"#106B99"})}),onTabOpen:s=>{const t=e.subindexes[s.index].id;$(t)},onTabClose:e=>!1,children:null===e||void 0===e||null===(l=e.subindexes)||void 0===l||null===(i=l.filter((e=>!(null!==e&&void 0!==e&&e.deleted))))||void 0===i?void 0:i.map((s=>(0,R.jsx)(p.g,{className:(0,j.A)(h.innerBoxStyle,h.innerAccordionTab),header:(0,R.jsxs)("span",{className:"d-flex align-items-center justify-content-between",children:[(0,R.jsxs)("div",{className:"d-flex align-items-center",children:[(0,R.jsx)("span",{className:(0,j.A)(h.accorHeadStyle,"active-header-text"),children:s.name}),(0,R.jsx)("div",{className:(0,j.A)(h.editIconBox2,"editItem"),onClick:t=>((e,s,t,l)=>{e.preventDefault(),e.stopPropagation(),w({id:s,parent:t,name:l}),r(!0)})(t,s.id,e.id,s.name),style:{visibility:"hidden"},children:(0,R.jsx)(a.A,{color:"#106B99",size:16})})]}),(0,R.jsxs)("div",{className:(0,j.A)(h.RItem,"editItem"),style:{visibility:"hidden"},children:[(0,R.jsx)(E,{title:"Sub Deparment",api:`/settings/sub-departments/delete/${s.id}/`,refetch:F.refetch}),(0,R.jsxs)(m.A,{className:h.create,onClick:e=>((e,s)=>{e.preventDefault(),e.stopPropagation(),N(s)})(e,s.id),children:[(0,R.jsx)(n.A,{color:"#106B99",size:18,className:"me-2"}),"Create Calculator"]})]})]}),children:S[s.id]?(0,R.jsx)(R.Fragment,{children:x===s.id?(0,R.jsx)(M,{editSubIndex:x,calculators:S[s.id]}):(0,R.jsx)(T,{index:s.id,isNewCreate:y===s.id,cancelCreateCalculator:N,refetch:$,calculators:S[s.id],name:s.name})}):(0,R.jsx)(L,{})},s.id)))})},e.id)}))})()})})]})})})]})]})}),(0,R.jsx)(U,{visible:e,setVisible:s,refetch:F.refetch,editDepartment:b,setEditDepartment:_}),(0,R.jsx)(P,{visible2:t,setVisible2:r,refetch:F.refetch,editSubDepartment:A,setEditSubDepartment:w})]})}}}]);
//# sourceMappingURL=9034.a30d37f9.chunk.js.map