"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[8200],{544:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),a=r(65173),s=r.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}var l=(0,n.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,p=void 0===m?"":m,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-upload",p].filter(Boolean).join(" ")},u),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),n.createElement("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l},623:(e,t,r)=>{r.d(t,{IY:()=>f,Kh:()=>c,Nh:()=>l,Np:()=>g,PR:()=>o,SG:()=>p,YC:()=>v,fD:()=>x,hW:()=>d,ic:()=>w,j:()=>m,ms:()=>j,oQ:()=>i,vU:()=>u,yA:()=>y,yi:()=>h});var n=r(63712);const a="https://app.memate.com.au/api/v1",s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:r="GET",headers:n={},body:a}=t,s={method:r,headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json",...n},body:JSON.stringify(a),redirect:"follow"};try{const t=new URL(`${e}`),r=await fetch(t,s);if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);const n=r.headers.get("Content-Type");if(n&&n.includes("application/json"))return await r.json();return{message:"Non-JSON response",body:await r.text()}}catch(i){throw console.error("Fetch API error:",i),i}},i=async()=>{const e=new URL(`${a}/settings/subscriptions/tax-id/`);return s(e.toString(),{method:"GET"})},o=async()=>{const e=new URL(`${a}/settings/subscriptions/upcoming/`);return s(e.toString(),{method:"GET"})},l=async e=>{const t={method:"PUT",body:e},r=new URL(`${a}/settings/subscriptions/tax-id/`);return s(r.toString(),t)},c=async()=>{const e=new URL(`${a}/settings/subscriptions/payment-method/`);return s(e.toString(),{method:"GET"})},d=async()=>{const e=new URL(`${a}/subscriptions/retry/`);return s(e.toString(),{method:"POST"})},m=async e=>{const t={method:"PUT",body:e},r=new URL(`${a}/settings/subscriptions/payment-method/`);return s(r.toString(),t)},p=async()=>{const e=new URL(`${a}/settings/organization/region-language/`);return s(e.toString(),{method:"GET"})},u=async e=>{const t={method:"PUT",body:e},r=new URL(`${a}/settings/organization/region-language/`);return s(r.toString(),t)},h=async e=>{console.log("data: ",e),e.id&&delete e.id,e.isNew&&delete e.isNew,e.isChanged&&delete e.isChanged,e.value&&delete e.value;const t={method:"POST",body:e},r=new URL(`${a}/settings/project-statuses/new/`);return s(r.toString(),t)},g=async(e,t)=>{const r={method:"PUT",body:t},n=new URL(`${a}${`/settings/project-statuses/update/${e}/`}`);return s(n.toString(),r)},x=async e=>{const t=new URL(`${a}${`/settings/project-statuses/delete/${e}/`}`);return s(t.toString(),{method:"DELETE"})},v=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const r={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${a}/settings/organization/general/`,r);return await e.json()}catch(n){throw console.error("Profile fetch error:",n),n}},f=async(e,t)=>{const r=new Headers,s=localStorage.getItem("access_token");r.append("Authorization",`Bearer ${s}`);const i=new FormData;if(Object.keys(e).forEach((t=>{i.append(t,e[t])})),null!==t&&void 0!==t&&t.croppedImageBlob){const e=(0,n.Ak)(6);i.append("company_logo",null===t||void 0===t?void 0:t.croppedImageBlob,`${e}.jpg`)}const o={method:"PUT",headers:r,body:i,redirect:"follow"};try{const e=await fetch(`${a}/settings/organization/general/`,o),t=await e.text();return console.log("result>>>>>>>>>>: ",t),t}catch(l){throw console.error("Profile fetch error:",l),l}},j=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const r={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${a}/settings/organization/bank/`,r);return await e.text()}catch(n){throw console.error("Profile fetch error:",n),n}},y=async e=>{const t=new Headers,r=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${r}`);const n=new FormData;Object.keys(e).forEach((t=>{n.append(t,e[t])}));const s={method:"PUT",headers:t,body:n,redirect:"follow"};try{const e=await fetch(`${a}/settings/organization/bank/`,s),t=await e.text();return console.log("result: ",t),t}catch(i){throw console.error("Profile fetch error:",i),i}},w=async()=>{const e=new Headers,t=localStorage.getItem("access_token");e.append("Authorization",`Bearer ${t}`);const r={method:"GET",headers:e,redirect:"follow"};try{const e=await fetch(`${a}/settings/project-statuses/`,r);return await e.json()}catch(n){throw console.error("project fetch error:",n),n}}},24932:(e,t,r)=>{r.d(t,{A:()=>n});const n={activelist:"general_activelist__FWpML",viewBorderWrap:"general_viewBorderWrap__h1m3m",editBorderWrap:"general_editBorderWrap__p-Bng",editinfo:"general_editinfo__FLHp1",editpara:"general_editpara__Db271",listwrapp:"general_listwrapp__S9ISd"}},31342:(e,t,r)=>{r.d(t,{f:()=>n});const n=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:n="GET",headers:a={},body:s}=t,i=localStorage.getItem("access_token"),o=s instanceof FormData,l={"Content-Type":o?"multipart/form-data":"application/json",...a};r&&(l.Authorization=`Bearer ${i}`);const c={method:n,headers:l,body:o?s:JSON.stringify(s),redirect:"follow"};try{const t=new URL(e),r=await fetch(t,c),n=r.headers.get("Content-Type");if(!r.ok){var d;let e=null;e=n&&n.includes("application/json")?await r.json():await r.text(),401===r.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const t=new Error((null===(d=e)||void 0===d?void 0:d.message)||`HTTP error! Status: ${r.status}`);throw t.status=r.status,t.data=e,t}if(n&&n.includes("application/json"))return await r.json();return{message:"Non-JSON response",body:await r.text()}}catch(m){throw console.error("Fetch API error:",m),m}}},37753:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),a=r(65173),s=r.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}var l=(0,n.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,p=void 0===m?"":m,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-telephone",p].filter(Boolean).join(" ")},u),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l},59638:(e,t,r)=>{r.d(t,{EZ:()=>i,F1:()=>f,Fl:()=>p,OF:()=>l,QK:()=>g,Ql:()=>o,X6:()=>c,Ye:()=>x,ab:()=>j,i6:()=>m,kB:()=>y,nP:()=>d,o6:()=>h,oO:()=>s,oo:()=>u,zZ:()=>v});var n=r(31342);const a="https://app.memate.com.au/api/v1",s=async e=>{const t=new URL(`${a}${`/clients/restore/${e}/`}`);return(0,n.f)(t.toString(),{method:"POST"})},i=async e=>{const t=new URL(`${a}${`/clients/${e}/`}`);return(0,n.f)(t.toString(),{method:"GET"})},o=async()=>{const e=new URL(`${a}/references/clients/categories/`);return(0,n.f)(e.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${a}/references/clients/industries/`);return(0,n.f)(e.toString(),{method:"GET"})},c=async()=>{const e=new URL(`${a}/references/countries/`),t=await(0,n.f)(e.toString(),{method:"GET"},!1),r=[1];return(null===t||void 0===t?void 0:t.filter((e=>r.includes(e.id))))||[]},d=async e=>{const t=new URL(`${a}${`/references/states/${e}/`}`);return(0,n.f)(t.toString(),{method:"GET"},!1)},m=async e=>{const t=new URL(`${a}${`/references/cities/${e}/`}`);return(0,n.f)(t.toString(),{method:"GET"},!1)},p=async()=>{const e=new URL(`${a}/references/desktop-users/`);return(0,n.f)(e.toString(),{method:"GET"})},u=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;const o=(e-1)*t,l=new URL(`${a}/clients/`);return l.searchParams.append("limit",t),l.searchParams.append("offset",o),r&&l.searchParams.append("search",r),s&&l.searchParams.append("ordering",s),i&&l.searchParams.append("deleted",1),(0,n.f)(l.toString(),{method:"GET"})},h=async function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";const o=(t-1)*r,l=new URL(`${a}${`/clients/${e}/orders/`}`);return l.searchParams.append("limit",r),l.searchParams.append("offset",o),s&&l.searchParams.append("number",s),i&&l.searchParams.append("ordering",i),(0,n.f)(l.toString(),{method:"GET"})},g=async e=>{const t=new URL(`${a}${`/clients/address/${e}/main`}`);return(0,n.f)(t.toString(),{method:"PUT"})},x=async e=>{const t=new URL(`${a}${`/clients/contact-persons/${e}/main`}`);return(0,n.f)(t.toString(),{method:"PUT"})},v=async e=>{const t=new URL(`${a}${`/clients/delete/${e}/`}`);return(0,n.f)(t.toString(),{method:"DELETE"})},f=async e=>{const t=new URL(`${a}${`/clients/contact-persons/${e}/delete/`}`);return(0,n.f)(t.toString(),{method:"DELETE"})},j=async e=>{const t=new URL(`${a}${`/clients/address/${e}/delete/`}`);return(0,n.f)(t.toString(),{method:"DELETE"})},y=async e=>{const t={method:"PUT",body:{unique_id:e}},r=new URL(`${a}/projects/back/`);return(0,n.f)(r.toString(),t)}},63882:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(65043),a=r(32952),s=r(14282),i=r(76163),o=r(69956),l=r(89488),c=r(55683),d=r(58387),m=r(29853);const p={title:"file-uploader_title__+HTTy",previewSection:"file-uploader_previewSection__mnNRf",previewBox:"file-uploader_previewBox__j6psm",previewBoxImg1:"file-uploader_previewBoxImg1__SR-1w",rectangle:"file-uploader_rectangle__dFhi8",previewBoxImg2:"file-uploader_previewBoxImg2__zYCKK",previewBoxImg3:"file-uploader_previewBoxImg3__YNTWI",previewBoxImg4:"file-uploader_previewBoxImg4__cRl+e",previewBoxImg5:"file-uploader_previewBoxImg5__GzHFj",previewActions:"file-uploader_previewActions__UO1dp",label:"file-uploader_label__Udhfq",label2:"file-uploader_label2__cY-JF"};var u=r(70579);const h=e=>{let{show:t,setShow:r,setPhoto:h,additionalDesign:g,shape:x="rect",aspect:v=1}=e;const[f,j]=(0,n.useState)([]),[y,w]=(0,n.useState)({x:0,y:0}),[b,N]=(0,n.useState)(1),[A,_]=(0,n.useState)(0),[S,$]=(0,n.useState)(null),[E,B]=(0,n.useState)({}),P=(0,n.useCallback)(((e,t)=>{$(t)}),[]),C=(0,n.useCallback)((async()=>{if(!f.length||!S)return;const e=document.createElement("canvas"),t=e.getContext("2d"),r=new Image;r.src=f[0].preview,await new Promise((e=>r.onload=e)),e.width=S.width,e.height=S.height,t.translate(e.width/2,e.height/2),t.rotate(A*Math.PI/180),t.translate(-e.width/2,-e.height/2),t.drawImage(r,S.x,S.y,S.width,S.height,0,0,S.width,S.height);return e.toDataURL("image/jpeg")}),[f,S,A]),I=async()=>{const e=await C();e&&B({img2:e,img3:e,img4:e,img5:e})};(0,n.useEffect)((()=>{I()}),[b,y,A,f,S]);const{getRootProps:T,getInputProps:L}=(0,l.VB)({maxFiles:1,accept:{"image/*":[]},onDrop:e=>{j(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}});return(0,u.jsxs)(a.A,{style:{zIndex:1111},show:t,centered:!0,onHide:()=>r(!1),onShow:I,children:[(0,u.jsx)(a.A.Header,{closeButton:!0,children:(0,u.jsx)(a.A.Title,{children:(0,u.jsx)("span",{className:`${p.title}`,children:"Edit Photo"})})}),(0,u.jsxs)(a.A.Body,{children:[g,(0,u.jsxs)("div",{className:`${p.previewSection}`,children:[(0,u.jsxs)("div",{className:`${p.previewBox}`,children:[(0,u.jsx)("div",{className:(0,d.A)(p.previewBoxImg1,"round"===x?"rounded-circle":"",1===v?p.square:p.rectangle),children:(0,u.jsx)(c.Ay,{image:f.length>0?f[0].preview:null,crop:y,zoom:b,cropShape:x,rotation:A,onCropChange:w,onZoomChange:N,onCropComplete:P,aspect:v,restrictPosition:!1,style:{containerStyle:{width:"100%",height:"100%",position:"relative"},cropAreaStyle:{width:"100%",height:"100%"},mediaStyle:{width:"100%",height:"100%",objectFit:"contain"}}})}),(0,u.jsx)("div",{className:(0,d.A)(p.previewBoxImg2,"round"===x?"rounded-circle":"",1===v?p.square:p.rectangle),children:E.img2&&(0,u.jsx)("img",{src:E.img2,alt:"Preview 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,u.jsx)("div",{className:(0,d.A)(p.previewBoxImg3,"round"===x?"rounded-circle":"",1===v?p.square:p.rectangle),children:E.img3&&(0,u.jsx)("img",{src:E.img3,alt:"Preview 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,u.jsx)("div",{className:(0,d.A)(p.previewBoxImg4,"round"===x?"rounded-circle":"",1===v?p.square:p.rectangle),children:E.img4&&(0,u.jsx)("img",{src:E.img4,alt:"Preview 4",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,u.jsx)("div",{className:(0,d.A)(p.previewBoxImg5,"round"===x?"rounded-circle":"",1===v?p.square:p.rectangle),children:E.img5&&(0,u.jsx)("img",{src:E.img5,alt:"Preview 5",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,u.jsxs)("div",{className:`${p.previewActions}`,children:[(0,u.jsxs)(m.A.Group,{children:[(0,u.jsx)(m.A.Label,{className:`${p.label}`,children:"Zoom"}),(0,u.jsx)(m.A.Range,{value:b,min:1,max:3,step:.1,className:"custom-range",onChange:e=>N(e.target.value)})]}),(0,u.jsx)("div",{className:"d-flex align-item-center pt-4 ms-4",style:{gap:"8px"},children:(0,u.jsxs)(s.A,{className:"text-button",onClick:()=>{_((e=>(e+90)%360))},children:[(0,u.jsx)(i.A,{color:"#106B99",size:24}),"Rotate"]})})]})]}),(0,u.jsxs)("div",{...T({className:"dropzone d-flex justify-content-center align-items-center flex-column cursor-pointer"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,u.jsx)("input",{...L()}),(0,u.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,u.jsx)(o.A,{})}),(0,u.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,u.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,u.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})]}),(0,u.jsxs)(a.A.Footer,{className:"d-flex justify-content-end",children:[(0,u.jsx)(s.A,{className:"outline-button",onClick:e=>{e.stopPropagation(),j([]),B({}),h(null),r(!1)},children:"Cancel"}),(0,u.jsx)(s.A,{className:"solid-button",onClick:async()=>{const e=await C(),t=function(e,t){const r=atob(e.split(",")[1]),n=new ArrayBuffer(r.length),a=new Uint8Array(n);for(let s=0;s<r.length;s++)a[s]=r.charCodeAt(s);return new Blob([n],{type:t})}(e,"image/jpeg");h({croppedImageBase64:e,croppedImageBlob:t}),r(!1)},children:"Save Photo"})]})]})}},64497:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var n=r(65043),a=r(27417),s=r(73898),i=r(72413),o=r(37753),l=r(544),c=r(49367),d=r(24858),m=r(17380),p=r(35475),u=r(18403),h=r(93747),g=r(47097),x=r(58387),v=r(88060),f=r(56328),j=r(80899),y=r(24932),w=r(59638),b=r(623),N=r(48417),A=r(27472),_=r(58027),S=r(63882),$=r(70579);const E=j.Ik().shape({legal_name:j.Yj().required("Company Legal Name is required"),trading_name:j.Yj().required("Trading Name is required"),abn:j.Yj().nullable().transform((e=>""===e?null:e)).matches(/^\d{11}$/,"ABN must be an 11-digit number").notRequired(),main_email:j.Yj().email("Invalid email").required("Main Company Email is required"),main_phone:j.Yj(),country:j.Yj().required("Country is required"),state:j.Yj().required("State is required"),city:j.Yj().required("City is required"),address:j.Yj(),postcode:j.Yj(),company_logo:j.gl().nullable()});function B(e){let{photo:t,setPhoto:r,data:a}=e;const[s,i]=(0,n.useState)(!1);return(0,$.jsxs)("section",{className:"container mb-3",style:{marginTop:"24px",padding:"0px"},children:[(0,$.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{width:"100%",minHeight:"126px",padding:"16px",background:"#fff",borderRadius:"4px",border:"1px solid #D0D5DD"},children:[null!==t&&void 0!==t&&t.croppedImageBase64?(0,$.jsx)("div",{className:"text-center",children:(0,$.jsx)("img",{alt:"uploaded-file",src:null===t||void 0===t?void 0:t.croppedImageBase64,style:{width:"64px",height:"32px",marginBottom:"12px",borderRadius:"4px"}})}):(0,$.jsx)("button",{type:"button",onClick:()=>i(!0),className:"d-flex justify-content-center align-items-center",style:{width:"64px",height:"32px",padding:"0px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"4px",marginBottom:"16px"},children:null!==a&&void 0!==a&&a.company_logo&&a.has_photo?(0,$.jsx)("div",{style:{width:"64px",height:"32px",borderRadius:"4px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,$.jsx)("img",{src:null===a||void 0===a?void 0:a.company_logo,style:{width:"100%"},alt:"Uploaded Photo"})}):(0,$.jsx)(l.A,{})}),(0,$.jsx)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:(0,$.jsx)("span",{style:{color:"#1AB2FF",fontWeight:"600",cursor:"pointer"},onClick:()=>i(!0),children:"Click to upload"})}),(0,$.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,$.jsx)(S.A,{show:s,setShow:i,setPhoto:r,aspect:2})]})}const P=function(){var e,t,r,l;const{trialHeight:j}=(0,N.$)(),[S,P]=(0,n.useState)(!1),C=S?100:0,[I,T]=(0,n.useState)({}),[L,R]=(0,n.useState)(1),[F,O]=(0,n.useState)(""),[z,U]=(0,n.useState)(""),k=(0,h.I)({queryKey:["countries"],queryFn:w.X6,enabled:!0}),q=(0,h.I)({queryKey:["states",L],queryFn:()=>(0,w.nP)(L),enabled:!!L,retry:1}),G=(0,h.I)({queryKey:["cities",F],queryFn:()=>(0,w.i6)(F),enabled:!!F}),{register:W,handleSubmit:D,control:H,formState:{errors:M},reset:V,setValue:Y}=(0,d.mN)({resolver:(0,u.t)(E),defaultValues:{country:1}});console.log("errors: ",M);const{data:K,isLoading:J,error:Z}=(0,h.I)({queryKey:["generalInfo"],queryFn:b.YC,onSuccess:e=>{V(e)},onError:e=>{console.error("Error fetching data:",e)}}),Q=(0,g.n)({mutationFn:e=>(0,b.IY)(e,I),onSuccess:()=>{window.location.reload(),f.oR.success("Company Information updated successfully")}});return(0,n.useEffect)((()=>{null!==K&&void 0!==K&&K.main_phone&&Y("main_phone",K.main_phone)}),[K]),(0,n.useEffect)((()=>{K&&(R(K.country),O(K.state),U(K.city),Y("city",K.city),Y("state",K.state),Y("country",K.country))}),[K]),J?(0,$.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",background:"white",width:"60px",height:"60px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},className:"shadow-lg",children:(0,$.jsx)(a.A,{animation:"border",role:"status",children:(0,$.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,$.jsxs)("form",{onSubmit:D((e=>{null==e.abn&&(e.abn=""),Q.mutate({...e})})),children:[(0,$.jsx)(c.mg,{children:(0,$.jsx)("title",{children:"MeMate - General Information"})}),(0,$.jsxs)("div",{className:"headSticky",children:[(0,$.jsx)("h1",{children:"Company Information"}),(0,$.jsx)("div",{className:"contentMenuTab",children:(0,$.jsxs)("ul",{children:[(0,$.jsx)("li",{className:"menuActive",children:(0,$.jsx)(p.N_,{to:"/settings/generalinformation",children:"General Information"})}),(0,$.jsx)("li",{children:(0,$.jsx)(p.N_,{to:"/settings/generalinformation/bank-details",children:"Bank Details "})}),(0,$.jsx)("li",{children:(0,$.jsx)(p.N_,{to:"/settings/generalinformation/region-and-language",children:"Region & Language"})})]})})]}),(0,$.jsx)("div",{className:"content_wrap_main "+(S?"isEditingwrap":""),style:{height:`calc(100vh - 230px - ${j}px - ${C}px)`},children:(0,$.jsx)("div",{className:"content_wrapper",children:(0,$.jsxs)("div",{className:"listwrapper",children:[(0,$.jsxs)("div",{className:"topHeadStyle",children:[(0,$.jsxs)("div",{className:"",children:[(0,$.jsx)("h2",{children:"General Information"}),S?(0,$.jsx)("p",{children:"Provide key details about your company"}):(0,$.jsx)($.Fragment,{})]}),!S&&(0,$.jsxs)(p.N_,{to:"#",onClick:()=>{P(!0)},children:["Edit",(0,$.jsx)(s.A,{color:"#344054",size:20})]})]}),(0,$.jsxs)("ul",{children:[(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsxs)("span",{children:["Company Legal Name",S&&(0,$.jsx)("span",{className:"required",children:"*"})]}),S?(0,$.jsxs)("div",{children:[(0,$.jsxs)("div",{className:"inputInfo "+(null!==M&&void 0!==M&&M.legal_name?"error-border":""),children:[(0,$.jsx)("input",{...W("legal_name"),placeholder:"Enter company legal name",defaultValue:null===K||void 0===K?void 0:K.legal_name}),(null===M||void 0===M?void 0:M.legal_name)&&(0,$.jsx)("img",{className:"ExclamationCircle",src:A.A,alt:"Exclamation Circle"})]}),(null===M||void 0===M?void 0:M.legal_name)&&(0,$.jsx)("p",{className:"error-message",children:null===M||void 0===M||null===(e=M.legal_name)||void 0===e?void 0:e.message})]}):(0,$.jsx)("strong",{children:null===K||void 0===K?void 0:K.legal_name})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsx)("p",{children:"Please provide the complete legal name of your company, as it will be displayed on outgoing documentation."})}):(0,$.jsx)($.Fragment,{})]}),(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsxs)("span",{children:["Company Trading name",S&&(0,$.jsx)("span",{className:"required",children:"*"})]}),S?(0,$.jsxs)("div",{children:[(0,$.jsxs)("div",{className:"inputInfo "+(M.trading_name?"error-border":""),children:[(0,$.jsx)("input",{...W("trading_name"),placeholder:"Enter Trading Name",defaultValue:K.trading_name}),M.trading_name&&(0,$.jsx)("img",{className:"ExclamationCircle",src:A.A,alt:"Exclamation Circle"})]}),M.trading_name&&(0,$.jsx)("p",{className:"error-message",children:M.trading_name.message})]}):(0,$.jsxs)("strong",{children:[K.trading_name," "]})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsx)("p",{children:"Please enter a trading name. This will be displayed when you communicate with contractors, clients, and suppliers."})}):(0,$.jsx)($.Fragment,{})]}),(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsx)("span",{children:"ABN"}),S?(0,$.jsxs)("div",{children:[(0,$.jsxs)("div",{className:"inputInfo "+(M.abn?"error-border":""),children:[(0,$.jsx)("input",{...W("abn",{onChange:e=>{const t=e.target.value.replace(/\D/g,"");Y("abn",t,{shouldValidate:!0})},onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text").replace(/\D/g,"");Y("abn",t,{shouldValidate:!0})}}),placeholder:"Enter ABN",defaultValue:K.abn}),M.abn&&(0,$.jsx)("img",{className:"ExclamationCircle",src:A.A,alt:"Exclamation Circle"})]}),M.abn&&(0,$.jsx)("p",{className:"error-message",children:M.abn.message})]}):(0,$.jsxs)("strong",{children:[K.abn," "]})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsx)("p",{children:"Please input Active Business Number"})}):(0,$.jsx)($.Fragment,{})]}),(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsxs)("span",{children:["Main Company Email",S&&(0,$.jsx)("span",{className:"required",children:"*"})]}),S?(0,$.jsxs)("div",{children:[(0,$.jsxs)("div",{className:"inputInfo "+(M.main_email?"error-border":""),children:[(0,$.jsx)("input",{...W("main_email"),placeholder:"Enter Email",defaultValue:K.main_email}),M.main_email&&(0,$.jsx)("img",{className:"ExclamationCircle",src:A.A,alt:"Exclamation Circle"})]}),M.main_email&&(0,$.jsx)("p",{className:"error-message",children:M.main_email.message})]}):(0,$.jsxs)("strong",{children:[K.main_email," ",(0,$.jsx)(i.A,{color:"#158ECC",size:20})]})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsx)("p",{children:"Insert emails which will be used to send all your automatic outgoing emails and notifications."})}):(0,$.jsx)($.Fragment,{})]}),(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsx)("span",{children:"Main Company Phone Number"}),S?(0,$.jsxs)("div",{children:[(0,$.jsx)(d.xI,{name:"main_phone",control:H,render:e=>{let{field:t}=e;return(0,$.jsx)(m.LR,{className:"phoneInput",defaultCountry:"au",value:t.value||"",placeholder:"Enter Phone Number",style:{width:"315px"},onChange:e=>t.onChange(e)})}}),M.main_phone&&(0,$.jsx)("p",{className:"error-message",children:M.main_phone.message})]}):(0,$.jsxs)("strong",{children:[K.main_phone," ",(0,$.jsx)(o.A,{color:"#158ECC",size:20})]})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsx)("p",{children:"Insert emails which will be used to send all your automatic outgoing emails and notifications."})}):(0,$.jsx)($.Fragment,{})]}),(0,$.jsx)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsxs)("span",{children:["Country",S&&(0,$.jsx)("span",{className:"required",children:"*"})]}),S?(0,$.jsxs)("div",{children:[(0,$.jsx)("div",{className:"inputInfo",style:{width:"320px"},children:(0,$.jsx)(v.m,{value:L,defaultValue:K.country,options:k&&(null===(t=k.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:e.name}))))||[],placeholder:"Select a country",className:(0,x.A)("w-100 rounded",{"error-border":M.country}),onChange:e=>{Y("country",e.value),R(e.value)},loading:null===k||void 0===k?void 0:k.isFetching,disabled:null===k||void 0===k?void 0:k.isFetching,filter:!0,filterInputAutoFocus:!0})}),M.country&&(0,$.jsx)("p",{className:"error-message",children:M.country.message})]}):(0,$.jsx)("strong",{children:K.country_name})]})}),(0,$.jsx)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsxs)("span",{children:["State",S&&(0,$.jsx)("span",{className:"required",children:"*"})]}),S?(0,$.jsxs)("div",{children:[(0,$.jsx)("div",{className:"inputInfo",style:{width:"320px"},children:(0,$.jsx)(v.m,{value:F,defaultValue:K.state,options:q&&(null===(r=q.data)||void 0===r?void 0:r.map((e=>({value:e.id,label:e.name}))))||[],placeholder:"Select a state",className:(0,x.A)("w-100 rounded",{"error-border":M.state}),onChange:e=>{Y("state",e.value),O(e.value)},loading:null===q||void 0===q?void 0:q.isFetching,disabled:null===q||void 0===q?void 0:q.isFetching,emptyMessage:L?"No states found":"Select a country first",filter:!0,filterInputAutoFocus:!0})}),M.state&&(0,$.jsx)("p",{className:"error-message",children:M.state.message})]}):(0,$.jsx)("strong",{children:K.state_name})]})}),(0,$.jsx)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsxs)("span",{children:["City",S&&(0,$.jsx)("span",{className:"required",children:"*"})]}),S?(0,$.jsxs)("div",{children:[(0,$.jsx)("div",{className:"inputInfo",style:{width:"320px"},children:(0,$.jsx)(v.m,{value:z,defaultValue:K.city,options:G&&(null===(l=G.data)||void 0===l?void 0:l.map((e=>({value:e.id,label:e.name}))))||[],placeholder:"Select a city",className:(0,x.A)("w-100 rounded",{"error-border":M.city}),onChange:e=>{Y("city",e.value),U(e.value)},loading:null===G||void 0===G?void 0:G.isFetching,disabled:null===G||void 0===G?void 0:G.isFetching,emptyMessage:F?"No cities found":"Select a state first",filter:!0,filterInputAutoFocus:!0})}),M.city&&(0,$.jsx)("p",{className:"error-message",children:M.city.message})]}):(0,$.jsx)("strong",{children:K.city_name})]})}),(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsx)("span",{children:"Street Address"}),S?(0,$.jsxs)("div",{children:[(0,$.jsxs)("div",{className:"inputInfo "+(M.address?"error-border":""),children:[(0,$.jsx)("input",{...W("address"),placeholder:"Enter Address",defaultValue:K.address}),M.address&&(0,$.jsx)("img",{className:"ExclamationCircle",src:A.A,alt:"Exclamation Circle"})]}),M.address&&(0,$.jsx)("p",{className:"error-message",children:M.address.message})]}):(0,$.jsx)("strong",{children:K.address})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsx)("p",{})}):(0,$.jsx)($.Fragment,{})]}),(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsx)("span",{children:"Postcode"}),S?(0,$.jsxs)("div",{children:[(0,$.jsxs)("div",{className:"inputInfo "+(M.postcode?"error-border":""),children:[(0,$.jsx)("input",{...W("postcode"),placeholder:"Enter postcode",defaultValue:K.postcode,type:"number"}),M.postcode&&(0,$.jsx)("img",{className:"ExclamationCircle",src:A.A,alt:"Exclamation Circle"})]}),M.postcode&&(0,$.jsx)("p",{className:"error-message",children:M.postcode.message})]}):(0,$.jsx)("strong",{children:K.postcode})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsx)("p",{})}):(0,$.jsx)($.Fragment,{})]}),(0,$.jsxs)("li",{className:""+(S?`${y.A.editBorderWrap}`:`${y.A.viewBorderWrap}`),children:[(0,$.jsxs)("div",{className:y.A.editinfo,children:[(0,$.jsx)("span",{children:"Company Logo for Documentation"}),S?(0,$.jsx)("div",{className:"upload-btn-wrapper",children:(0,$.jsx)(B,{photo:I,data:K,setPhoto:T})}):(0,$.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{border:"1px solid #dedede",width:"64px",height:"32px",borderRadius:"4px",overflow:"hidden"},children:(0,$.jsx)(_.A,{photo:K.company_logo,has_photo:K.has_photo,is_business:!0,size:28})})]}),S?(0,$.jsx)("div",{className:y.A.editpara,children:(0,$.jsxs)("div",{className:"logo",children:[(0,$.jsx)("h5",{children:"Company logo"}),(0,$.jsx)("p",{children:"Upload the logo for your unique quotes and invoices."})]})}):(0,$.jsx)($.Fragment,{})]})]})]})})}),S&&(0,$.jsxs)("div",{className:"updateButtonGeneral",children:[(0,$.jsx)("button",{className:"cancel",type:"button",onClick:()=>P(!1),children:"Cancel"}),(0,$.jsx)("button",{type:"submit",className:"save mr-3",disabled:Q.isPending,children:Q.isPending?"Updating...":"Update"})]})]})}},72413:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),a=r(65173),s=r.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}var l=(0,n.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,p=void 0===m?"":m,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-link-45deg",p].filter(Boolean).join(" ")},u),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"}),n.createElement("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l},73898:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),a=r(65173),s=r.n(a),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}var l=(0,n.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"currentColor":r,s=e.size,l=void 0===s?"1em":s,c=e.title,d=void 0===c?null:c,m=e.className,p=void 0===m?"":m,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:a,className:["bi","bi-pencil-square",p].filter(Boolean).join(" ")},u),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number]),title:s().string,className:s().string};const c=l},96440:e=>{var t=function(){};e.exports=t}}]);
//# sourceMappingURL=8200.7356c82c.chunk.js.map