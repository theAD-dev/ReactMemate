"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[7344],{17344:(e,s,l)=>{l.d(s,{A:()=>q});var a=l(65043),r=l(61072),d=l(78602),i=l(95192),n=l(24858),o=l(17380),t=l(18403),c=l(28261),m=l(58387),u=l(54972),h=l(88060),x=l(28676),p=l(74532),v=l(72052),g=l(27932),A=l(80899),j=l(20685),N=l(59638),f=l(88780),b=l(57189),y=l(27472),C=l(63882),S=l(70579);const I=A.Ik({firstname:A.Yj().required("First name is required"),lastname:A.Yj().required("Last name is required"),email:A.Yj().nullable().transform((e=>""===e?null:e)).matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Invalid email address").notRequired(),payment_terms:A.ai().typeError("Enter a valid payment terms").required("Payment terms are required"),category:A.ai().typeError("Enter a valid category").required("Category is required"),add_to_mailchimp:A.zM(),mailchimp_list_id:A.Yj().when("add_to_mailchimp",{is:!0,then:e=>e.required("Please select a mailing list"),otherwise:e=>e.notRequired()})}).required(),q=(0,a.forwardRef)(((e,s)=>{var l,A,q,_,w,F,k,E,P,T,G,L,V,H,M,z,K,Y,B,D,R,$,O,J;let{photo:Q,setPhoto:U,onSubmit:W,defaultValues:X}=e;const{session:Z}=(0,b.As)(),[ee,se]=(0,a.useState)(!1),[le,ae]=(0,a.useState)(!1),[re,de]=(0,a.useState)(""),[ie,ne]=(0,a.useState)(""),oe=(0,c.I)({queryKey:["countries"],queryFn:N.X6,enabled:!0}),te=(0,c.I)({queryKey:["states",re],queryFn:()=>(0,N.nP)(re),enabled:!!re,retry:1}),ce=(0,c.I)({queryKey:["cities",ie],queryFn:()=>(0,N.i6)(ie),enabled:!!ie}),me=(0,c.I)({queryKey:["categories"],queryFn:N.Ql}),ue=(0,c.I)({queryKey:["mailchimp-lists"],queryFn:f.Yn,enabled:le&&(null===Z||void 0===Z?void 0:Z.has_mailchimp)}),{control:he,register:xe,handleSubmit:pe,formState:{errors:ve},setValue:ge,watch:Ae}=(0,n.mN)({resolver:(0,t.t)(I),defaultValues:X}),je=Ae("email");return(0,a.useEffect)((()=>{var e,s,l,a;null!==X&&void 0!==X&&null!==(e=X.address)&&void 0!==e&&e.country&&de(null===X||void 0===X||null===(s=X.address)||void 0===s?void 0:s.country),null!==X&&void 0!==X&&null!==(l=X.address)&&void 0!==l&&l.state&&ne(null===X||void 0===X||null===(a=X.address)||void 0===a?void 0:a.state)}),[null===X||void 0===X?void 0:X.address]),(0,a.useEffect)((()=>{var e;if(null!==me&&void 0!==me&&null!==(e=me.data)&&void 0!==e&&e.length&&!X.category){var s;let e=null===(s=me.data)||void 0===s?void 0:s.find((e=>"regular"===e.name.toLowerCase()));e.name&&ge("category",e.id)}}),[null===me||void 0===me?void 0:me.data,X,ge]),(0,S.jsxs)("form",{ref:s,onSubmit:pe(W),children:[(0,S.jsxs)(r.A,{className:(0,m.A)(j.A.bgGreay,"pt-0"),children:[(0,S.jsxs)(d.A,{sm:12,children:[(0,S.jsxs)("div",{className:(0,m.A)(j.A.fileUploadBox,"cursor-pointer"),onClick:()=>se(!0),children:[(0,S.jsx)("div",{className:(0,m.A)(j.A.uploadedImgBox),children:Q?(0,S.jsx)("img",{src:(null===Q||void 0===Q?void 0:Q.croppedImageBase64)||Q,alt:"profile-img"}):(0,S.jsx)(i.A,{size:32,color:"#667085"})}),(0,S.jsx)("p",{className:(0,m.A)("mb-0",j.A.uploadedText1),children:(0,S.jsx)("span",{className:(0,m.A)("mb-0",j.A.uploadedText2),children:"Click to upload"})}),(0,S.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]}),(0,S.jsx)(C.A,{show:ee,setShow:se,setPhoto:U,shape:"round"})]}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsxs)("label",{className:(0,m.A)(j.A.lable),children:["First Name",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsxs)(x.C,{children:[(0,S.jsx)(p.m,{children:ve.firstname&&(0,S.jsx)("img",{src:y.A,className:"mb-3"})}),(0,S.jsx)(v.S,{...xe("firstname"),className:(0,m.A)(j.A.inputText,{[j.A.error]:ve.firstname}),placeholder:"Enter first name"})]}),ve.firstname&&(0,S.jsx)("p",{className:"error-message",children:ve.firstname.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsxs)("label",{className:(0,m.A)(j.A.lable),children:["Last Name",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsxs)(x.C,{children:[(0,S.jsx)(p.m,{children:ve.lastname&&(0,S.jsx)("img",{src:y.A,className:"mb-3"})}),(0,S.jsx)(v.S,{...xe("lastname"),className:(0,m.A)(j.A.inputText,{[j.A.error]:ve.lastname}),placeholder:"Enter last name"})]}),ve.lastname&&(0,S.jsx)("p",{className:"error-message",children:ve.lastname.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"Email"}),(0,S.jsxs)(x.C,{children:[(0,S.jsx)(p.m,{children:ve.email&&(0,S.jsx)("img",{src:y.A,className:"mb-3"})}),(0,S.jsx)(v.S,{...xe("email"),className:(0,m.A)(j.A.inputText,{[j.A.error]:ve.email}),placeholder:"example@email.com"})]}),ve.email&&(0,S.jsx)("p",{className:"error-message",children:ve.email.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"Phone number"}),(0,S.jsx)(n.xI,{name:"phone",control:he,render:e=>{let{field:s}=e;return(0,S.jsx)(o.LR,{defaultCountry:"au",value:s.value,className:"phoneInput rounded",containerClass:j.A.countrySelector,onChange:s.onChange,style:{border:"1px solid "+(ve.phone?"red":"#dedede")}})}}),ve.phone&&(0,S.jsx)("p",{className:"error-message",children:ve.phone.message})]})})]}),(0,S.jsx)("h2",{className:(0,m.A)(j.A.headingInputs,"mt-4"),children:"Payment Terms"}),(0,S.jsxs)(r.A,{className:(0,m.A)(j.A.bgGreay),children:[(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsxs)("label",{className:(0,m.A)(j.A.lable),children:["Payment Terms",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsx)(n.xI,{name:"payment_terms",control:he,render:e=>{let{field:s}=e;return(0,S.jsx)(h.m,{...s,options:[{value:1,label:"COD"},{value:0,label:"Prepaid"},{value:7,label:"Week"},{value:14,label:"Two weeks"},{value:30,label:"One month"}]||0,onChange:e=>{s.onChange(e.value)},className:(0,m.A)(j.A.dropdownSelect,"dropdown-height-fixed",{[j.A.error]:ve.payment_terms}),style:{height:"46px"},value:s.value,placeholder:"Select payment terms",scrollHeight:"380px",filterInputAutoFocus:!0})}}),ve.payment_terms&&(0,S.jsx)("p",{className:"error-message",children:ve.payment_terms.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsxs)("label",{className:(0,m.A)(j.A.lable),children:["Customers Discount Category",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsx)(n.xI,{name:"category",control:he,render:e=>{var s;let{field:l}=e;return(0,S.jsx)(h.m,{...l,options:[...me&&(null===(s=me.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:`${e.name} - ${e.value}%`}))))||[]],onChange:e=>{l.onChange(e.value)},className:(0,m.A)(j.A.dropdownSelect,"dropdown-height-fixed",{[j.A.error]:ve.category}),style:{height:"46px"},value:l.value,loading:null===me||void 0===me?void 0:me.isFetching,placeholder:"Select a category",scrollHeight:"380px",filterInputAutoFocus:!0})}}),ve.category&&(0,S.jsx)("p",{className:"error-message",children:ve.category.message})]})})]}),(0,S.jsx)("h2",{className:(0,m.A)(j.A.headingInputs),children:"Locations"}),(0,S.jsxs)(r.A,{className:(0,m.A)(j.A.bgGreay),children:[(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"Location Name"}),(0,S.jsxs)(x.C,{children:[(0,S.jsx)(p.m,{children:(null===(l=ve.address)||void 0===l?void 0:l.title)&&(0,S.jsx)("img",{src:y.A,className:"mb-3"})}),(0,S.jsx)(v.S,{...xe("address.title"),className:(0,m.A)(j.A.inputText,{[j.A.error]:null===(A=ve.address)||void 0===A?void 0:A.title}),placeholder:"Enter location name"})]}),(null===(q=ve.address)||void 0===q?void 0:q.title)&&(0,S.jsx)("p",{className:"error-message",children:null===(_=ve.address)||void 0===_||null===(w=_.title)||void 0===w?void 0:w.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"Country"}),(0,S.jsx)(n.xI,{name:"address.country",control:he,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,S.jsx)(h.m,{...l,options:oe&&(null===(s=oe.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),de(e.value)},className:(0,m.A)(j.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:null===oe||void 0===oe?void 0:oe.isFetching,placeholder:"Select a country",scrollHeight:"380px",filterInputAutoFocus:!0})}}),(null===(F=ve.address)||void 0===F?void 0:F.country)&&(0,S.jsx)("p",{className:"error-message",children:null===(k=ve.address)||void 0===k||null===(E=k.country)||void 0===E?void 0:E.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"State"}),(0,S.jsx)(n.xI,{name:"address.state",control:he,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,S.jsx)(h.m,{...l,options:te&&(null===(s=te.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value),ne(e.value)},className:(0,m.A)(j.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:null===te||void 0===te?void 0:te.isFetching,placeholder:"Select a state",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(P=ve.address)||void 0===P?void 0:P.state)&&(0,S.jsx)("p",{className:"error-message",children:null===(T=ve.address)||void 0===T||null===(G=T.state)||void 0===G?void 0:G.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"City/Suburb"}),(0,S.jsx)(n.xI,{name:"address.city",control:he,defaultValue:"",render:e=>{var s;let{field:l}=e;return(0,S.jsx)(h.m,{...l,options:ce&&(null===(s=ce.data)||void 0===s?void 0:s.map((e=>({value:e.id,label:e.name}))))||[],onChange:e=>{l.onChange(e.value)},className:(0,m.A)(j.A.dropdownSelect,"dropdown-height-fixed"),style:{height:"46px"},value:l.value,loading:null===ce||void 0===ce?void 0:ce.isFetching,disabled:null===ce||void 0===ce?void 0:ce.isFetching,placeholder:"Select a city",emptyMessage:ie?"No cities found":"Select a state first",scrollHeight:"380px",filter:!0,filterInputAutoFocus:!0})}}),(null===(L=ve.address)||void 0===L?void 0:L.city)&&(0,S.jsx)("p",{className:"error-message",children:null===(V=ve.address)||void 0===V||null===(H=V.city)||void 0===H?void 0:H.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"Street Address"}),(0,S.jsxs)(x.C,{children:[(0,S.jsx)(p.m,{children:(null===(M=ve.address)||void 0===M?void 0:M.address)&&(0,S.jsx)("img",{src:y.A,className:"mb-3"})}),(0,S.jsx)(v.S,{...xe("address.address"),className:(0,m.A)(j.A.inputText,{[j.A.error]:null===(z=ve.address)||void 0===z?void 0:z.address}),placeholder:"Enter street address"})]}),(null===(K=ve.address)||void 0===K?void 0:K.address)&&(0,S.jsx)("p",{className:"error-message",children:null===(Y=ve.address)||void 0===Y||null===(B=Y.address)||void 0===B?void 0:B.message})]})}),(0,S.jsx)(d.A,{sm:6,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"Postcode"}),(0,S.jsxs)(x.C,{children:[(0,S.jsx)(p.m,{children:(null===(D=ve.address)||void 0===D?void 0:D.postcode)&&(0,S.jsx)("img",{src:y.A,className:"mb-3"})}),(0,S.jsx)(v.S,{...xe("address.postcode"),keyfilter:"int",className:(0,m.A)(j.A.inputText,{[j.A.error]:null===(R=ve.address)||void 0===R?void 0:R.postcode}),placeholder:"Enter postcode"})]}),(null===($=ve.address)||void 0===$?void 0:$.postcode)&&(0,S.jsx)("p",{className:"error-message",children:null===(O=ve.address)||void 0===O||null===(J=O.postcode)||void 0===J?void 0:J.message})]})})]}),(0,S.jsx)("h2",{className:(0,m.A)(j.A.headingInputs),children:"Client Description"}),(0,S.jsx)(r.A,{className:(0,m.A)(j.A.bgGreay),children:(0,S.jsx)(d.A,{children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,S.jsx)("label",{className:(0,m.A)(j.A.lable),children:"Description"}),(0,S.jsxs)(x.C,{children:[(0,S.jsx)(p.m,{style:{top:"80%"},children:ve.description&&(0,S.jsx)("img",{src:y.A})}),(0,S.jsx)(g.Z,{...xe("description"),rows:5,cols:30,className:(0,m.A)(j.A.inputText,{[j.A.error]:ve.description}),style:{resize:"none"},placeholder:"Enter a description..."})]}),ve.description&&(0,S.jsx)("p",{className:"error-message",children:ve.description.message})]})})}),(null===Z||void 0===Z?void 0:Z.has_mailchimp)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h2",{className:(0,m.A)(j.A.headingInputs),children:"Mailchimp Integration"}),(0,S.jsxs)(r.A,{className:(0,m.A)(j.A.bgGreay),children:[(0,S.jsxs)(d.A,{sm:12,children:[(0,S.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,S.jsx)(n.xI,{name:"add_to_mailchimp",control:he,render:e=>{let{field:s}=e;return(0,S.jsx)(u.S,{inputId:"add_to_mailchimp",checked:s.value||!1,onChange:e=>{s.onChange(e.checked),ae(e.checked)},disabled:!je})}}),(0,S.jsx)("label",{htmlFor:"add_to_mailchimp",className:(0,m.A)(j.A.lable,"mb-0"),children:"Add to Mailchimp mailing list"})]}),!je&&(0,S.jsx)("p",{className:"text-muted",style:{fontSize:"12px",marginTop:"-8px",marginBottom:"12px"},children:"Please enter an email address to enable this option"})]}),le&&(0,S.jsx)(d.A,{sm:12,children:(0,S.jsxs)("div",{className:"d-flex flex-column gap-1 mb-4",children:[(0,S.jsxs)("label",{className:(0,m.A)(j.A.lable),children:["Mailing List",(0,S.jsx)("span",{className:"required",children:"*"})]}),(0,S.jsx)(n.xI,{name:"mailchimp_list_id",control:he,render:e=>{var s;let{field:l}=e;return(0,S.jsx)(h.m,{...l,options:Array.isArray(null===ue||void 0===ue||null===(s=ue.data)||void 0===s?void 0:s.lists)?ue.data.lists.map((e=>({value:e.id,label:e.name}))):[],onChange:e=>{l.onChange(e.value)},className:(0,m.A)(j.A.dropdownSelect,"dropdown-height-fixed",{[j.A.error]:ve.mailchimp_list_id}),style:{height:"46px"},value:l.value,loading:null===ue||void 0===ue?void 0:ue.isFetching,placeholder:"Select a mailing list",scrollHeight:"380px",filterInputAutoFocus:!0,emptyMessage:null!==ue&&void 0!==ue&&ue.isFetching?"Loading...":"No mailing lists found"})}}),ve.mailchimp_list_id&&(0,S.jsx)("p",{className:"error-message",children:ve.mailchimp_list_id.message})]})})]})]})]})}))}}]);
//# sourceMappingURL=7344.30a523e3.chunk.js.map