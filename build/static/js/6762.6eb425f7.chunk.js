"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[6762],{12671:(e,t,r)=>{r.d(t,{IQ:()=>s,IR:()=>i,JP:()=>c,oF:()=>o,rg:()=>l,wx:()=>a,x1:()=>d});var n=r(20701);const s=async()=>(0,n.y)("/settings/accounting/",{method:"GET"}),a=async(e,t)=>{const r=`/settings/accounting/${e}/`,s={method:"PUT",body:t};return(0,n.y)(r,s)},i=async()=>(0,n.y)("/suppliers/industries/",{method:"GET"}),o=async(e,t)=>{const r=`/suppliers/industries/${e}/`,s={method:"PUT",body:t};return(0,n.y)(r,s)},c=async()=>(0,n.y)("/references/xero-codes/",{method:"GET"}),l=async()=>(0,n.y)("/account_codes/",{method:"GET"}),d=async()=>(0,n.y)("/account_codes/sync/",{method:"PUT"})},14834:(e,t,r)=>{function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=parseFloat(e);return isNaN(r)?"0.00":t&&Math.abs(r)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(r):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}r.d(t,{m:()=>n})},18403:(e,t,r)=>{r.d(t,{t:()=>c});var n=r(24858);const s=(e,t,r)=>{if(e&&"reportValidity"in e){const s=(0,n.Jt)(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},a=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?s(n.ref,r,e):n.refs&&n.refs.forEach((t=>s(t,r,e)))}},i=(e,t)=>{t.shouldUseNativeValidation&&a(e,t);const r={};for(const s in e){const a=(0,n.Jt)(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(o(t.names||Object.keys(e),s)){const e=Object.assign({},(0,n.Jt)(r,s));(0,n.hZ)(e,"root",i),(0,n.hZ)(r,s,e)}else(0,n.hZ)(r,s,i)}return r},o=(e,t)=>e.some((e=>e.startsWith(t+".")));function c(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),function(s,o,c){try{return Promise.resolve(function(n,i){try{var l=(t.context,Promise.resolve(e["sync"===r.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},t,{context:o}))).then((function(e){return c.shouldUseNativeValidation&&a({},c),{values:r.raw?s:e,errors:{}}})))}catch(d){return i(d)}return l&&l.then?l.then(void 0,i):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:i((t=e,r=!c.shouldUseNativeValidation&&"all"===c.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var s=e[t.path].types,a=s&&s[t.type];e[t.path]=(0,n.Gb)(t.path,r,e,t.type,a?[].concat(a,t.message):t.message)}return e}),{})),c)};var t,r})))}catch(l){return Promise.reject(l)}}}},27307:(e,t,r)=>{r.d(t,{PU:()=>c,mC:()=>o,vi:()=>i});var n=r(47097),s=r(56328),a=r(12671);const i=()=>(0,n.n)({mutationFn:e=>{let{id:t,data:r}=e;return(0,a.wx)(t,r)},onSuccess:()=>{s.oR.success("Accounting target updated successfully")},onError:e=>{console.error("Error updating accounting target:",e),s.oR.error("Failed to update accounting target. Please try again.")}}),o=()=>(0,n.n)({mutationFn:e=>{let{id:t,data:r}=e;return(0,a.oF)(t,r)},onSuccess:()=>{s.oR.success("The supplier category code have been updated successfully.")},onError:e=>{console.error("Error updating supplier category code:",e),s.oR.error("Failed to update supplier category code. Please try again.")}}),c=()=>(0,n.n)({mutationFn:()=>(0,a.x1)(),onSuccess:()=>{s.oR.success("Account codes synced successfully"),window.location.reload()},onError:e=>{console.error("Error syncing account codes:",e),s.oR.error("Failed to sync account codes. Please try again.")}})},40748:(e,t,r)=>{r.d(t,{A:()=>n});const n={modal:"accounting_modal__NAThj",modalHeader:"accounting_modalHeader__hyBfM",headerTitle:"accounting_headerTitle__9luE3",circledesignstyle:"accounting_circledesignstyle__WBgzI",out:"accounting_out__kcA0q",inputBox:"accounting_inputBox__9qwkR",tablePrimeBar:"accounting_tablePrimeBar__MkG2R"}},62924:(e,t,r)=>{r.d(t,{Od:()=>o,PV:()=>i,Xn:()=>a,c2:()=>c});var n=r(28261),s=r(12671);const a=()=>(0,n.I)({queryKey:["accounting-list"],queryFn:s.IQ}),i=()=>(0,n.I)({queryKey:["industry-service-list"],queryFn:s.IR}),o=()=>(0,n.I)({queryKey:["xero-codes-list"],queryFn:s.JP}),c=()=>(0,n.I)({queryKey:["account-code-list"],queryFn:s.rg})},73898:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(65043),s=r(65173),a=r.n(s),i=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}var c=(0,n.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,c=void 0===a?"1em":a,l=e.title,d=void 0===l?null:l,u=e.className,m=void 0===u?"":u,h=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,i);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:s,className:["bi","bi-pencil-square",m].filter(Boolean).join(" ")},h),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const l=c},86762:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(65043),s=r(73898),a=r(49367),i=r(24858),o=r(35475),c=r(18403),l=r(72018),d=r(9642),u=r(64824),m=r(55797),h=r(72052),g=r(80899),p=r(40748),y=r(48417),v=r(62924),f=r(27307),x=r(14834),j=r(70579);const b=g.Ik().shape({target:g.ai().typeError("Target must be a number").required("Target is required").positive("Target must be positive")}),N=()=>{const{trialHeight:e}=(0,y.$)(),[t,r]=(0,n.useState)(null),[g,N]=(0,n.useState)(!1),w=(0,v.Xn)(),{register:_,handleSubmit:P,setValue:T,formState:{errors:A}}=(0,i.mN)({resolver:(0,c.t)(b)}),E=()=>{N(!1),T("target",""),r(null)},{mutate:F,isPending:S}=(0,f.vi)(),O=(0,j.jsx)("div",{className:`${p.A.modalHeader}`,children:(0,j.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,j.jsx)("div",{className:p.A.circledesignstyle,children:(0,j.jsx)("div",{className:p.A.out,children:(0,j.jsx)(s.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,j.jsx)("span",{className:`white-space-nowrap ${p.A.headerTitle}`,children:"Edit Target"})]})});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.mg,{children:(0,j.jsx)("title",{children:"MeMate - Department Turnover Plan"})}),(0,j.jsxs)("div",{className:"headSticky",children:[(0,j.jsx)("h1",{children:"Accounting"}),(0,j.jsx)("div",{className:"contentMenuTab",children:(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{className:"menuActive",children:(0,j.jsx)(o.N_,{to:"/settings/accounting/department-turnover-plan",children:"Department Turnover Plan"})}),(0,j.jsx)("li",{children:(0,j.jsx)(o.N_,{to:"/settings/accounting/industry-service",children:"Supplier Categories"})}),(0,j.jsx)("li",{children:(0,j.jsx)(o.N_,{to:"/settings/accounting/account-code",children:"Account Codes"})})]})})]}),(0,j.jsx)("div",{className:`content_wrap_main w-100 ${p.A.tablePrimeBar}`,style:{paddingBottom:`${e}px`},children:(0,j.jsx)("div",{className:"content_wrapper w-100",children:(0,j.jsxs)("div",{className:"listwrapper",children:[(0,j.jsx)("div",{className:"topHeadStyle pb-4",children:(0,j.jsx)("h2",{children:"Department Turnover Plan"})}),(0,j.jsxs)(u.b,{className:"w-100",value:w.data||[],tableStyle:{minWidth:"100%",border:"1px solid #f2f2f2"},children:[(0,j.jsx)(d.V,{field:"name",header:"Category Name",body:e=>(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsx)(l.$,{label:"Edit",onClick:()=>(e=>{r(e),T("target",e.target),N(!0)})(e),className:"primary-text-button ms-3 show-on-hover-element not-show-checked",text:!0})]}),style:{width:"100%"}}),(0,j.jsx)(d.V,{field:"target",header:"Target",body:e=>`$${(0,x.m)(e.target)}`,style:{width:"56px"},className:"text-end"})]}),(0,j.jsx)(m.l,{visible:g,modal:!0,header:O,className:`${p.A.modal} custom-modal`,onHide:()=>N(!1),children:(0,j.jsxs)("form",{onSubmit:P((e=>{F({id:null===t||void 0===t?void 0:t.id,data:{target:e.target}},{onSuccess:()=>{E(),w.refetch()}})})),children:[(0,j.jsxs)("div",{className:"d-flex flex-column mb-4",children:[(0,j.jsx)("h6",{className:"mb-3",style:{fontSize:"16px",color:"#1D2939",fontWeight:600},children:null===t||void 0===t?void 0:t.name}),(0,j.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Target"}),(0,j.jsx)(h.S,{..._("target"),className:p.A.inputBox}),A.target&&(0,j.jsx)("small",{className:"p-error",children:A.target.message})]}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-3",children:[(0,j.jsx)(l.$,{className:"outline-button",onClick:E,children:"Cancel"}),(0,j.jsx)(l.$,{className:"solid-button",style:{minWidth:"132px"},type:"submit",loading:S,children:"Save Details"})]})]})})]})})})]})}}}]);
//# sourceMappingURL=6762.6eb425f7.chunk.js.map