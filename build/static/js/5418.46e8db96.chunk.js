"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5418],{3494:(e,r,n)=>{n.d(r,{A:()=>o});var t=n(65043),s=n(65173),a=n.n(s),l=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(null,arguments)}var c=(0,t.forwardRef)((function(e,r){var n=e.color,s=void 0===n?"currentColor":n,a=e.size,c=void 0===a?"1em":a,o=e.title,u=void 0===o?null:o,h=e.className,d=void 0===h?"":h,m=function(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,l);return t.createElement("svg",i({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:s,className:["bi","bi-people",d].filter(Boolean).join(" ")},m),u?t.createElement("title",null,u):null,t.createElement("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const o=c},36237:(e,r,n)=>{n.d(r,{A:()=>o});var t=n(65043),s=n(65173),a=n.n(s),l=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(null,arguments)}var c=(0,t.forwardRef)((function(e,r){var n=e.color,s=void 0===n?"currentColor":n,a=e.size,c=void 0===a?"1em":a,o=e.title,u=void 0===o?null:o,h=e.className,d=void 0===h?"":h,m=function(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,l);return t.createElement("svg",i({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:s,className:["bi","bi-info-square",d].filter(Boolean).join(" ")},m),u?t.createElement("title",null,u):null,t.createElement("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),t.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const o=c},38294:(e,r,n)=>{n.d(r,{A:()=>o});var t=n(65043),s=n(65173),a=n.n(s),l=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(null,arguments)}var c=(0,t.forwardRef)((function(e,r){var n=e.color,s=void 0===n?"currentColor":n,a=e.size,c=void 0===a?"1em":a,o=e.title,u=void 0===o?null:o,h=e.className,d=void 0===h?"":h,m=function(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,l);return t.createElement("svg",i({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:s,className:["bi","bi-chevron-left",d].filter(Boolean).join(" ")},m),u?t.createElement("title",null,u):null,t.createElement("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const o=c},54967:(e,r,n)=>{n.d(r,{A:()=>c,h:()=>o});var t=n(65043),s=n(44541),a=n(95192);const l="image-avatar_clientImg__-nnRU";var i=n(70579);const c=e=>{let{has_photo:r,photo:n,is_business:l,size:c}=e;const[o,u]=(0,t.useState)(!1),h=l?s.A:a.A;return(0,i.jsx)(i.Fragment,{children:r&&n&&!o?(0,i.jsx)("img",{src:n,alt:"client avatar",className:"w-100",onError:()=>u(!0)}):(0,i.jsx)(h,{color:"#667085",size:c})})},o=e=>{let{has_photo:r,photo:n,is_business:c}=e;const[o,u]=(0,t.useState)(!1),h=c?s.A:a.A;return(0,i.jsx)("div",{className:`d-flex justify-content-center align-items-center ${l} ${c?"":"rounded-circle"}`,style:{overflow:"hidden"},children:r&&n&&!o?(0,i.jsx)("img",{src:n,alt:"client avatar",className:"w-100",onError:()=>u(!0)}):(0,i.jsx)(h,{color:"#667085"})})}},64416:(e,r,n)=>{n.d(r,{A:()=>o});var t=n(65043),s=n(65173),a=n.n(s),l=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i.apply(null,arguments)}var c=(0,t.forwardRef)((function(e,r){var n=e.color,s=void 0===n?"currentColor":n,a=e.size,c=void 0===a?"1em":a,o=e.title,u=void 0===o?null:o,h=e.className,d=void 0===h?"":h,m=function(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,l);return t.createElement("svg",i({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:s,className:["bi","bi-card-list",d].filter(Boolean).join(" ")},m),u?t.createElement("title",null,u):null,t.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"}),t.createElement("path",{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const o=c},93477:(e,r,n)=>{n.r(r),n.d(r,{ExistingClientsSearch:()=>N,default:()=>A});var t=n(65043),s=n(61072),a=n(78602),l=n(65975),i=n(38294),c=n(3494),o=n(36237),u=n(64416),h=n(25721),d=n(35475);function m(e,r,n){var s=this,a=(0,t.useRef)(null),l=(0,t.useRef)(0),i=(0,t.useRef)(null),c=(0,t.useRef)([]),o=(0,t.useRef)(),u=(0,t.useRef)(),h=(0,t.useRef)(e),d=(0,t.useRef)(!0);h.current=e;var m="undefined"!=typeof window,f=!r&&0!==r&&m;if("function"!=typeof e)throw new TypeError("Expected a function");r=+r||0;var p=!!(n=n||{}).leading,v=!("trailing"in n)||!!n.trailing,x="maxWait"in n,g="debounceOnServer"in n&&!!n.debounceOnServer,j=x?Math.max(+n.maxWait||0,r):null;(0,t.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var w=(0,t.useMemo)((function(){var e=function(e){var r=c.current,n=o.current;return c.current=o.current=null,l.current=e,u.current=h.current.apply(n,r)},n=function(e,r){f&&cancelAnimationFrame(i.current),i.current=f?requestAnimationFrame(e):setTimeout(e,r)},t=function(e){if(!d.current)return!1;var n=e-a.current;return!a.current||n>=r||n<0||x&&e-l.current>=j},w=function(r){return i.current=null,v&&c.current?e(r):(c.current=o.current=null,u.current)},b=function e(){var s=Date.now();if(t(s))return w(s);if(d.current){var i=r-(s-a.current),c=x?Math.min(i,j-(s-l.current)):i;n(e,c)}},y=function(){if(m||g){var h=Date.now(),f=t(h);if(c.current=[].slice.call(arguments),o.current=s,a.current=h,f){if(!i.current&&d.current)return l.current=a.current,n(b,r),p?e(a.current):u.current;if(x)return n(b,r),e(a.current)}return i.current||n(b,r),u.current}};return y.cancel=function(){i.current&&(f?cancelAnimationFrame(i.current):clearTimeout(i.current)),l.current=0,c.current=a.current=o.current=i.current=null},y.isPending=function(){return!!i.current},y.flush=function(){return i.current?w(Date.now()):u.current},y}),[p,x,r,j,v,f,m,g]);return w}function f(e,r){return e===r}function p(e,r,n){var s=n&&n.equalityFn||f,a=(0,t.useRef)(e),l=(0,t.useState)({})[1],i=m((0,t.useCallback)((function(e){a.current=e,l({})}),[l]),r,n),c=(0,t.useRef)(e);return s(c.current,e)||(i(e),c.current=e),[a.current,i]}const v="https://dev.memate.com.au/api/v1",x=async(e,r,n)=>{const t=new Headers,s=localStorage.getItem("access_token");t.append("Authorization",`Bearer ${s}`),t.append("Content-Type","application/json");const a={method:"GET",headers:t,redirect:"follow"};try{const t=new URL(`${v}/clients`);t.searchParams.append("limit",e),t.searchParams.append("offset",r),n&&t.searchParams.append("name",n);const s=await fetch(t,a);return await s.json()}catch(l){throw console.error(l),l}};var g=n(48417);const j=n.p+"static/media/nodata.1f066de0dd0d7036f545.png",w=n.p+"static/media/nodataBg.d4aafd78fd6f37fd2b34.png";var b=n(54967),y=n(70579);const N=()=>{const{trialHeight:e}=(0,g.$)(),[r,n]=(0,t.useState)(""),[i]=p(r,500),[c,o]=(0,t.useState)([]),[u,m]=(0,t.useState)(!0),[f,v]=(0,t.useState)(!1),[N,A]=(0,t.useState)(0),O=(0,t.useRef)(null),E=(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(!0);try{const r=25,n=e?0:N*r,t=(await x(r,n,i.toLowerCase())).results;e?(o(t),A(1)):(o((e=>{const r=new Set(e.map((e=>e.id))),n=t.filter((e=>!r.has(e.id)));return[...e,...n]})),A((e=>e+1))),t.length<r&&m(!1)}catch(r){console.error("Error fetching items:",r)}finally{v(!1)}}),[N,i]),S=e=>{e[0].isIntersecting&&u&&!f&&E()};return(0,t.useEffect)((()=>{const e=new IntersectionObserver(S);return O.current&&e.observe(O.current),()=>{O.current&&e.unobserve(O.current)}}),[S]),(0,t.useEffect)((()=>{E(!0)}),[i]),(0,y.jsx)("div",{className:"existingClients py-0",children:(0,y.jsx)("div",{style:{height:`calc(100vh - 385px - ${e}px)`},children:(0,y.jsx)("div",{className:"newQuoteContent",style:{height:"100%"},children:(0,y.jsxs)("div",{className:"h-100 mt-0",children:[(0,y.jsx)("div",{className:"search-header",children:(0,y.jsxs)("div",{className:"searchGroupFilter d-flex align-items-center",style:{gap:"10px"},children:[(0,y.jsx)(h.A,{color:"#98A2B3",size:20}),(0,y.jsx)("input",{id:"search-box",placeholder:"Search",value:r,className:"pl-2",onChange:e=>n(e.target.value)})]})}),(0,y.jsx)("div",{className:"mt-2 h-100",children:(0,y.jsxs)("ul",{className:"client customscrollBar",children:[c&&c.map((e=>(0,y.jsx)("li",{children:(0,y.jsxs)(d.N_,{to:(e.is_business,`/sales/newquote/selectyourclient/client-information/scope-of-work/${e.id}`),className:"d-flex align-items-center w-100",children:[(0,y.jsx)(b.h,{has_photo:e.has_photo,photo:e.photo,is_business:e.is_business}),(0,y.jsx)("span",{className:"name",children:e.name})]})},e.id))),(0,y.jsx)("div",{className:"rowBorderHide targetObserver",children:(0,y.jsx)("div",{className:"targetObserver px-3",ref:O,children:f&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.A,{children:[(0,y.jsx)(a.A,{sm:1,children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,y.jsx)(a.A,{sm:11,className:"ps-0",children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]}),(0,y.jsxs)(s.A,{children:[(0,y.jsx)(a.A,{sm:1,children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,y.jsx)(a.A,{sm:11,className:"ps-0",children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]})]})})}),!f&&(!c||0===c.length)&&(0,y.jsxs)("div",{className:"no-search",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundImage:`url(${w})`},children:[(0,y.jsx)("img",{src:j,alt:"no-data",style:{width:"332px"}}),(0,y.jsx)("h1",{children:"There is no results"}),(0,y.jsx)("p",{children:"The user you are looking for doesn't exist."})]})]})})]})})})})},A=()=>{const{trialHeight:e}=(0,g.$)(),[r,n]=(0,t.useState)(""),[m]=p(r,500),[f,v]=(0,t.useState)([]),[N,A]=(0,t.useState)(!0),[O,E]=(0,t.useState)(!1),[S,C]=(0,t.useState)(0),z=(0,t.useRef)(null),P=(0,t.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(!0);try{const r=25,n=e?0:S*r,t=(await x(r,n,m.toLowerCase())).results;e?(v(t),C(1)):(v((e=>{const r=new Set(e.map((e=>e.id))),n=t.filter((e=>!r.has(e.id)));return[...e,...n]})),C((e=>e+1))),t.length<r&&A(!1)}catch(r){console.error("Error fetching items:",r)}finally{E(!1)}}),[S,m]),B=e=>{e[0].isIntersecting&&N&&!O&&P()};return(0,t.useEffect)((()=>{const e=new IntersectionObserver(B);return z.current&&e.observe(z.current),()=>{z.current&&e.unobserve(z.current)}}),[B]),(0,t.useEffect)((()=>{P(!0)}),[m]),(0,y.jsx)("div",{className:"newQuotePage existingClients overflowScroll",children:(0,y.jsxs)("div",{style:{height:`calc(100vh - 249px - ${e}px)`},children:[(0,y.jsx)("div",{className:"newQuoteBack",children:(0,y.jsx)(d.k2,{to:"/sales/newquote/selectyourclient",children:(0,y.jsxs)("button",{children:[(0,y.jsx)(i.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,y.jsxs)("div",{className:"newQuoteContent",style:{height:"100%"},children:[(0,y.jsx)("div",{className:"navStepClient",children:(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{className:"activeClientTab",children:[(0,y.jsx)("span",{children:(0,y.jsx)(c.A,{color:"#D0D5DD",size:15})})," ",(0,y.jsx)("p",{children:"Choose Client"})]}),(0,y.jsxs)("li",{className:"deactiveColorBox",children:[(0,y.jsx)("span",{children:(0,y.jsx)(o.A,{color:"#A3E0FF",size:15})})," ",(0,y.jsx)("p",{children:"Client Information"})," "]}),(0,y.jsxs)("li",{className:"deactiveColorBox",children:[(0,y.jsx)("span",{children:(0,y.jsx)(u.A,{color:"#A3E0FF",size:15})})," ",(0,y.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,y.jsxs)("div",{className:"mt-4 h-100",children:[(0,y.jsx)("div",{className:"search-header",children:(0,y.jsxs)("div",{className:"searchGroupFilter d-flex align-items-center",style:{gap:"10px"},children:[(0,y.jsx)(h.A,{color:"#98A2B3",size:20}),(0,y.jsx)("input",{id:"search-box",placeholder:"Search",value:r,className:"pl-2",onChange:e=>n(e.target.value)})]})}),(0,y.jsx)("div",{className:"mt-4 h-100",children:(0,y.jsxs)("ul",{className:"client customscrollBar",children:[f&&f.map((e=>(0,y.jsx)("li",{children:(0,y.jsxs)(d.N_,{to:(e.is_business,`/sales/newquote/selectyourclient/client-information/scope-of-work/${e.id}`),className:"d-flex align-items-center w-100",children:[(0,y.jsx)(b.h,{has_photo:e.has_photo,photo:e.photo,is_business:e.is_business}),(0,y.jsx)("span",{className:"name",children:e.name})]})},e.id))),(0,y.jsx)("div",{className:"rowBorderHide targetObserver",children:(0,y.jsx)("div",{className:"targetObserver px-3",ref:z,children:O&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.A,{children:[(0,y.jsx)(a.A,{sm:1,children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,y.jsx)(a.A,{sm:11,className:"ps-0",children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]}),(0,y.jsxs)(s.A,{children:[(0,y.jsx)(a.A,{sm:1,children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,y.jsx)(a.A,{sm:11,className:"ps-0",children:(0,y.jsx)(l.A,{as:"p",animation:"wave",className:"mb-4",children:(0,y.jsx)(l.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]})]})})}),!O&&(!f||0===f.length)&&(0,y.jsxs)("div",{className:"no-search",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundImage:`url(${w})`},children:[(0,y.jsx)("img",{src:j,alt:"no-data",style:{width:"332px"}}),(0,y.jsx)("h1",{children:"There is no results"}),(0,y.jsx)("p",{children:"The user you are looking for doesn't exist."})]})]})})]})]})]})})}}}]);
//# sourceMappingURL=5418.46e8db96.chunk.js.map