/*! For license information please see 2742.b27f381d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[2742],{14834:(e,t,r)=>{function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=parseFloat(e);return isNaN(r)?"0.00":t&&Math.abs(r)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(r):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}r.d(t,{m:()=>n})},17030:(e,t,r)=>{r.d(t,{DY:()=>o,Dc:()=>s,MY:()=>y,VL:()=>p,Vn:()=>c,WL:()=>i,_0:()=>v,ax:()=>a,cM:()=>m,dl:()=>g,jH:()=>h,mL:()=>u,sl:()=>x,tA:()=>d,zw:()=>f});var n=r(31342);const l="https://app.memate.com.au/api/v1",a=async e=>{const t=new URL(`${l}/references/calc-indexes/`);return 1===e&&t.searchParams.append("all",1),(0,n.f)(t.toString(),{method:"GET"})},s=async e=>{const t=new URL(`${l}${`/references/calculators/${e}/`}`),r=await(0,n.f)(t.toString(),{method:"GET"});return Array.isArray(r)?r.filter((e=>!e.deleted)):r&&!r.deleted?r:null},i=async e=>{const t=new URL(`${l}${`/projects/${e}/`}`);return(0,n.f)(t.toString(),{method:"GET"})},o=async e=>{const t={method:"POST",body:e},r=new URL(`${l}/sales/new-request/`);return(0,n.f)(r.toString(),t)},c=async(e,t)=>{if(!e)throw new Error("No id found");const r={method:"PUT",body:t},a=new URL(`${l}${`/sales/projects/${e}/`}`);return(0,n.f)(a.toString(),r)},d=async e=>{const t={method:"POST",body:e},r=new URL(`${l}/projects/merges/new/`);return(0,n.f)(r.toString(),t)},u=async e=>{const t=new URL(`${l}${`/projects/merges/${e}/delete/`}`);return(0,n.f)(t.toString(),{method:"DELETE"})},p=async e=>{const t={method:"POST",body:e},r=new URL(`${l}/settings/departments/`);return(0,n.f)(r.toString(),t)},m=async(e,t)=>{if(!e)return;const r={method:"PUT",body:t},a=new URL(`${l}${`/settings/departments/update/${e}/`}`);return(0,n.f)(a.toString(),r)},f=async e=>{const t={method:"POST",body:e},r=new URL(`${l}/settings/sub-departments/`);return(0,n.f)(r.toString(),t)},v=async(e,t)=>{if(!e)return;const r={method:"PUT",body:t},a=new URL(`${l}${`/settings/sub-departments/update/${e}/`}`);return(0,n.f)(a.toString(),r)},h=async(e,t)=>{const r={method:"POST",body:t},a=new URL(`${l}${`/references/calculators/${e}/new/`}`);return(0,n.f)(a.toString(),r)},x=async(e,t,r)=>{const a={method:"PUT",body:r},s=new URL(`${l}${`/references/calculators/${e}/update/${t}/`}`);return(0,n.f)(s.toString(),a)},y=async e=>{const t=new URL(`${l}${e}`);return(0,n.f)(t.toString(),{method:"DELETE"})},g=async e=>{const t={method:"POST",body:e.map(((e,t)=>({id:e.id,order:t+1})))},r=new URL(`${l}/settings/departments/order/`);return(0,n.f)(r.toString(),t)}},27643:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ee});var n=r(65043),l=r(61072),a=r(78602),s=r(83627),i=r(48792),o=r(73898),c=r(65173),d=r.n(c),u=["color","size","title","className"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(null,arguments)}var m=(0,n.forwardRef)((function(e,t){var r=e.color,l=void 0===r?"currentColor":r,a=e.size,s=void 0===a?"1em":a,i=e.title,o=void 0===i?null:i,c=e.className,d=void 0===c?"":c,m=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,u);return n.createElement("svg",p({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:l,className:["bi","bi-chevron-up",d].filter(Boolean).join(" ")},m),o?n.createElement("title",null,o):null,n.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"}))}));m.propTypes={color:d().string,size:d().oneOfType([d().string,d().number]),title:d().string,className:d().string};const f=m;var v=r(66415),h=r(56741),x=["color","size","title","className"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(null,arguments)}var g=(0,n.forwardRef)((function(e,t){var r=e.color,l=void 0===r?"currentColor":r,a=e.size,s=void 0===a?"1em":a,i=e.title,o=void 0===i?null:i,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,x);return n.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:l,className:["bi","bi-backspace",d].filter(Boolean).join(" ")},u),o?n.createElement("title",null,o):null,n.createElement("path",{d:"M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"}),n.createElement("path",{d:"M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"}))}));g.propTypes={color:d().string,size:d().oneOfType([d().string,d().number]),title:d().string,className:d().string};const j=g;var b=["color","size","title","className"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(null,arguments)}var N=(0,n.forwardRef)((function(e,t){var r=e.color,l=void 0===r?"currentColor":r,a=e.size,s=void 0===a?"1em":a,i=e.title,o=void 0===i?null:i,c=e.className,d=void 0===c?"":c,u=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,b);return n.createElement("svg",w({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:l,className:["bi","bi-save",d].filter(Boolean).join(" ")},u),o?n.createElement("title",null,o):null,n.createElement("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"}))}));N.propTypes={color:d().string,size:d().oneOfType([d().string,d().number]),title:d().string,className:d().string};const _=N;var S=r(93202),A=r(49367),C=r(29485),F=r(93747),E=r(58387),O=r(21052),P=r(55797),$=r(79255),R=r(72052),D=r(27932),T=r(93740),M=r(74856),z=r(14282),B=r(56328);const I={wraper:"calculators_wraper__aewG6",topHeadBorder:"calculators_topHeadBorder__mfKCt","p-highlight":"calculators_p-highlight__3d9zk",innerExpandIcon:"calculators_innerExpandIcon__7485N",innerCollapseIcon:"calculators_innerCollapseIcon__aNrMn",accorHeadbox:"calculators_accorHeadbox__f+ij1","p-icon":"calculators_p-icon__NQaQ7",hoverToShow:"calculators_hoverToShow__S4I4X",downBoxStyle:"calculators_downBoxStyle__-Xc7q",iconSpace:"calculators_iconSpace__ZEbgh",creaeDepartment:"calculators_creaeDepartment__toV7V",accorHeadStyle:"calculators_accorHeadStyle__vUjqD",accorInHeadStyle:"calculators_accorInHeadStyle__TUddA",innerBoxStyle:"calculators_innerBoxStyle__QFtjy",calculateBox:"calculators_calculateBox__zaz7B",boxcal:"calculators_boxcal__LdDA4",profit:"calculators_profit__65eR-",RItem:"calculators_RItem__nCFaj",deleteOutline:"calculators_deleteOutline__9D2St",delete:"calculators_delete__+52fT",create:"calculators_create__mEJIe",editBut:"calculators_editBut__QEaEh",contentStyle:"calculators_contentStyle__rkbzC",modelStyleBoxstatus:"calculators_modelStyleBoxstatus__OxGQ8",iconborderStyle:"calculators_iconborderStyle__Peyjs",stepBoxStylePayment:"calculators_stepBoxStylePayment__VwrhK",inputInfo:"calculators_inputInfo__LCuyT",modal:"calculators_modal__Kc6BD",modalHeader:"calculators_modalHeader__w-xRT",headerTitle:"calculators_headerTitle__JxbZh",circledesignstyle:"calculators_circledesignstyle__OS-4Z",out:"calculators_out__nhZ8X",inputBox:"calculators_inputBox__HLy1o",editIcon:"calculators_editIcon__zJxtm",deleteIcon:"calculators_deleteIcon__qWFbY",inputNumber:"calculators_inputNumber__t4+mu",inputNumber2:"calculators_inputNumber2__feIc7",bottom:"calculators_bottom__MVPLM",editIconBox:"calculators_editIconBox__c5sps",editIconBox2:"calculators_editIconBox2__rx5xR",edidcodtUpdate:"calculators_edidcodtUpdate__1NIAn"};var k=r(94819),L=r(17030);const H=r.p+"static/media/confirm-img.798ad3693ffcf996930da9c6e63e7908.svg";var q=r(70579);const U=e=>{let{title:t,api:r,refetch:l,isOutline:a=!1}=e;const[s,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),d=(0,q.jsx)("div",{className:`${I.modalHeader}`,children:(0,q.jsx)("div",{className:"w-100 d-flex justify-content-center align-items-center gap-2",children:(0,q.jsxs)("span",{className:`white-space-nowrap mt-2 mb-2 ${I.headerTitle}`,children:["Are you sure you want to delete ",t,"?"]})})}),u=(0,q.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,q.jsx)(z.A,{className:"outline-button",onClick:()=>c(!1),children:"Cancel"}),(0,q.jsxs)(z.A,{className:"danger-button",onClick:async()=>{try{i(!0),await(0,L.MY)(r),l(),B.oR.success(`${t} deleted successfully`),c(!1)}catch(e){console.log("err: ",e),B.oR.error(`Failed to delete ${t}. Please try again.`)}finally{i(!1)}},disabled:s,children:["Delete ",t," ",s&&(0,q.jsx)(T.p,{style:{width:"20px",height:"20px",color:"#fff"}})]})]});return(0,q.jsxs)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,q.jsxs)(z.A,{className:a?I.deleteOutline:I.delete,onClick:e=>c(!0),children:[(0,q.jsx)(k.A,{color:"#B42318",size:18,className:"me-2"}),"Delete ",t]}),(0,q.jsx)(P.l,{visible:o,modal:!0,header:d,footer:u,className:`${I.modal} custom-modal`,style:{width:"670px"},onHide:()=>c(!1),children:(0,q.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:(0,q.jsx)("img",{src:H,alt:"confirm"})})})]})};var V=r(14834),G=r(27734);const K=e=>{let t=parseFloat((null===e||void 0===e?void 0:e.cost)||0),r=0,n=parseFloat(null===e||void 0===e?void 0:e.profit_type_value)||0;return"MRK"===(null===e||void 0===e?void 0:e.profit_type)?r=t+t*(n/100):"MRG"===(null===e||void 0===e?void 0:e.profit_type)?r=t/(1-n/100):"AMN"===(null===e||void 0===e?void 0:e.profit_type)&&(r=t+n),console.log("unit_price: ",r,e),(0,V.m)(parseFloat(r).toFixed(2))},Y=e=>{let{calculator:t,index:r,refetch:s,tempCalculator:i,setTempCalculator:c,editId:d,setEditId:u}=e;const[p,m]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if("MRG"===(null===i||void 0===i?void 0:i.profit_type)){let e=(null===i||void 0===i?void 0:i.profit_type_value)||0;e>100&&(e=99.99),c((t=>({...t,profit_type_value:e})))}}),[i]);return(0,n.useEffect)((()=>{f&&i!==t&&d===t.id&&c(t)}),[f,t,d]),(0,n.useEffect)((()=>{if(f&&i&&d===t.id){let e=(parseFloat(null===i||void 0===i?void 0:i.cost)||0)*(parseFloat(null===i||void 0===i?void 0:i.quantity)||0),t=parseFloat(null===i||void 0===i?void 0:i.profit_type_value)||0;"MRK"===(null===i||void 0===i?void 0:i.profit_type)?e+=e*t/100:"MRG"===(null===i||void 0===i?void 0:i.profit_type)?e/=1-t/100:"AMN"===(null===i||void 0===i?void 0:i.profit_type)&&(e+=t);let r=parseFloat(null===i||void 0===i?void 0:i.discount)||0,n=parseFloat(e-e*r/100).toFixed(2);n!==i.total&&c((e=>({...e,total:n})))}}),[i,f,d,t.id,c]),(0,q.jsx)("div",{className:`${I.contentStyle}`,children:f&&d===t.id?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("h6",{className:"font-14",style:{color:"#475467"},children:["Full Description ",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)(D.Z,{autoResize:!0,value:null===i||void 0===i?void 0:i.description,onChange:e=>c((t=>({...t,description:e.target.value}))),className:"w-100 border mb-3",rows:5,style:{height:"145px",overflow:"auto",resize:"none"}}),(0,q.jsxs)(l.A,{className:I.edidcodtUpdate,children:[(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex gap-2 justify-content-between align-items-center ",children:[(0,q.jsxs)("div",{className:"left",children:[(0,q.jsxs)("label",{children:["Cost ",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)($.Y,{className:(0,E.A)(I.inputNumber),prefix:"$",value:parseFloat((null===i||void 0===i?void 0:i.cost)||0),onValueChange:e=>c((t=>({...t,cost:e.value}))),maxFractionDigits:2,minFractionDigits:2,inputId:"minmaxfraction"})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",padding:"4px",background:"#EBF8FF",marginTop:"25px"},children:(0,q.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsx)("label",{children:"Markup/Margin"}),(0,q.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,q.jsx)($.Y,{className:(0,E.A)(I.inputNumber2),value:parseFloat((null===i||void 0===i?void 0:i.profit_type_value)||0),onValueChange:e=>c((t=>({...t,profit_type_value:e.value}))),maxFractionDigits:2,minFractionDigits:2,max:"MRG"===(null===i||void 0===i?void 0:i.profit_type)?99.99:void 0}),(0,q.jsxs)("select",{value:null===i||void 0===i?void 0:i.profit_type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>c((t=>({...t,profit_type:e.target.value}))),children:[(0,q.jsx)("option",{value:"MRG",children:"MRG %"}),(0,q.jsx)("option",{value:"AMN",children:"AMT $"}),(0,q.jsx)("option",{value:"MRK",children:"MRK %"})]})]})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsx)("label",{className:"mb-2",children:"Unit Price"}),(0,q.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,q.jsxs)("strong",{children:["$",K(i)]})})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF",marginTop:"30px"},children:(0,q.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsxs)("label",{children:["Quantity/Hours ",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,q.jsx)($.Y,{className:(0,E.A)(I.inputNumber2),inputId:"withoutgrouping",maxFractionDigits:2,minFractionDigits:2,value:parseFloat((null===i||void 0===i?void 0:i.quantity)||0),onValueChange:e=>c((t=>({...t,quantity:e.value})))})})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,q.jsxs)(a.A,{children:[(0,q.jsx)("label",{className:"mb-2",children:"Sub Total:"}),(0,q.jsxs)("strong",{children:["$ ",(0,V.m)(parseFloat((null===i||void 0===i?void 0:i.total)||0))]})]})]}),(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,q.jsx)("span",{}),(0,q.jsxs)("div",{className:(0,E.A)(I.RItem),children:[(0,q.jsxs)(z.A,{className:I.deleteOutline,onClick:()=>{v(!1),u(null),c(null)},children:[(0,q.jsx)(j,{color:"#B42318",size:18,className:"me-2"}),"Cancel"]}),(0,q.jsxs)(z.A,{className:I.editBut,disabled:p,onClick:async()=>{if(null===i||void 0===i||!i.description)return void B.oR.error("Description is required.");if(null===i||void 0===i||!i.cost)return void B.oR.error("Cost is required.");if(null===i||void 0===i||!i.quantity)return void B.oR.error("Quantity/Hours is required.");let e={title:null===i||void 0===i?void 0:i.title,description:null===i||void 0===i?void 0:i.description,type:"Cost"===(null===i||void 0===i?void 0:i.type)?0:1,cost:null===i||void 0===i?void 0:i.cost,quantity:null===i||void 0===i?void 0:i.quantity,profit_type:null===i||void 0===i?void 0:i.profit_type,profit_type_value:null===i||void 0===i?void 0:i.profit_type_value,total:null===i||void 0===i?void 0:i.total};try{m(!0),await(0,L.sl)(r,t.id,e),B.oR.success("Calculator updated successfully."),v(!1),u(null),s(r),c(null)}catch(n){console.log("Error during updating calculator",n),B.oR.error("Failed to update calculator. Please try again.")}finally{m(!1)}},children:[p?(0,q.jsx)(T.p,{className:"me-2",style:{width:"18px",height:"18px"}}):(0,q.jsx)(_,{color:"#106B99",size:18,className:"me-2"}),"Save Calculator"]})]})]})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("h6",{className:"font-14",style:{color:"#667085",fontWeight:400},children:"Description"}),(0,q.jsx)("p",{style:{whiteSpace:"pre-line"},children:(null===t||void 0===t?void 0:t.description)||""}),(0,q.jsxs)(l.A,{children:[(0,q.jsxs)(a.A,{children:[(0,q.jsx)("label",{children:"Cost"}),(0,q.jsxs)("strong",{children:["$",(0,V.m)(parseFloat((null===t||void 0===t?void 0:t.cost)||0).toFixed(2))]})]}),(0,q.jsxs)(a.A,{children:[(0,q.jsx)("label",{children:"Margin/Markup"}),(0,q.jsxs)("strong",{children:[parseFloat((null===t||void 0===t?void 0:t.profit_type_value)||0).toFixed(2)," ","AMN"===(null===t||void 0===t?void 0:t.profit_type)?"AMT $":"MRG"===(null===t||void 0===t?void 0:t.profit_type)?"MRG %":"MRK %"]})]}),(0,q.jsxs)(a.A,{children:[(0,q.jsx)("label",{children:"Unit Price"}),(0,q.jsxs)("strong",{children:["$",K(t)]})]}),(0,q.jsxs)(a.A,{children:[(0,q.jsx)("label",{children:"Quantity/Hours"}),(0,q.jsx)("strong",{children:(0,V.m)(parseFloat((null===t||void 0===t?void 0:t.quantity)||0))})]}),(0,q.jsxs)(a.A,{children:[(0,q.jsx)("label",{children:"Sub Total:"}),(0,q.jsxs)("strong",{children:["$",(0,V.m)(parseFloat(t.total||0).toFixed(2))]})]})]}),(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,q.jsx)("span",{}),(0,q.jsxs)("div",{className:(0,E.A)(I.RItem),children:[(0,q.jsx)(U,{title:"Calculator",isOutline:!0,api:`/references/calculators/delete/${t.id}/`,refetch:()=>s(r)}),(0,q.jsxs)(z.A,{className:I.editBut,onClick:()=>{v(!0),u(t.id)},children:[(0,q.jsx)(o.A,{color:"#106B99",size:18,className:"me-2"}),"Edit Calculator"]})]})]})]})})},Q=e=>{let{tempCalculator:t,setTempCalculator:r,index:s,name:i,refetch:o,cancelCreateCalculator:c}=e;const[d,u]=(0,n.useState)(!1);(0,n.useEffect)((()=>{"MRG"===t.profit_type&&r((e=>({...e,profit_type_value:Math.min(e.profit_type_value,99.99)})))}),[t.profit_type,t.profit_type_value]);const p=(0,n.useMemo)((()=>{let e=(parseFloat(t.cost)||0)*(parseFloat(t.quantity)||0),r=parseFloat(t.profit_type_value)||0;"MRK"===t.profit_type?e+=e*r/100:"MRG"===t.profit_type?e/=1-r/100:"AMN"===t.profit_type&&(e+=r);let n=parseFloat(t.discount)||0;return parseFloat(e-e*n/100).toFixed(2)}),[t.cost,t.quantity,t.profit_type,t.profit_type_value,t.discount]);(0,n.useEffect)((()=>{p!==t.total&&r((e=>({...e,total:p})))}),[p,t.total]);return(0,q.jsxs)("div",{className:`${I.contentStyle}`,children:[(0,q.jsxs)("h6",{children:["Full Description",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)(D.Z,{autoResize:!0,value:null===t||void 0===t?void 0:t.description,onChange:e=>r((t=>({...t,description:e.target.value}))),className:"w-100 border mb-3",rows:5,style:{height:"145px",overflow:"auto",resize:"none",outline:"none",boxShadow:"none"}}),(0,q.jsxs)(l.A,{className:I.edidcodtUpdate,children:[(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex gap-2 justify-content-between align-items-center",children:[(0,q.jsxs)("div",{className:"left",children:[(0,q.jsxs)("label",{children:["Cost ",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)($.Y,{className:(0,E.A)(I.inputNumber),prefix:"$",value:(null===t||void 0===t?void 0:t.cost)&&parseFloat((null===t||void 0===t?void 0:t.cost)||0),onValueChange:e=>r((t=>({...t,cost:e.value}))),maxFractionDigits:2,minFractionDigits:2,placeholder:"$0.00",inputId:"minmaxfraction"})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",padding:"4px",background:"#EBF8FF",marginTop:"20px"},children:(0,q.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsx)("label",{className:"d-block text-center",children:"Markup/Margin"}),(0,q.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,q.jsx)($.Y,{className:(0,E.A)(I.inputNumber2),value:parseFloat((null===t||void 0===t?void 0:t.profit_type_value)||0),onValueChange:e=>r((t=>({...t,profit_type_value:parseFloat(e.value)}))),max:"MRG"===(null===t||void 0===t?void 0:t.profit_type)?99.99:void 0,maxFractionDigits:2,minFractionDigits:2,placeholder:"0.00"}),(0,q.jsxs)("select",{value:null===t||void 0===t?void 0:t.profit_type,style:{border:"0px solid #fff",background:"transparent",fontSize:"14px"},onChange:e=>r((t=>({...t,profit_type:e.target.value}))),children:[(0,q.jsx)("option",{value:"MRG",children:"MRG %"}),(0,q.jsx)("option",{value:"AMN",children:"AMT $"}),(0,q.jsx)("option",{value:"MRK",children:"MRK %"})]})]})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle pt-3",style:{width:"20px",height:"20px"},children:"="})]})}),(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsx)("label",{className:"mb-2",children:"Unit Price"}),(0,q.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,q.jsxs)("strong",{children:["$ ",K(t)]})})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",background:"#EBF8FF",marginTop:"35px"},children:(0,q.jsx)(h.A,{color:"#1AB2FF",size:12})})]})}),(0,q.jsx)(a.A,{children:(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsxs)("label",{children:["Quantity/Hours ",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,q.jsx)($.Y,{className:(0,E.A)(I.inputNumber2),inputId:"withoutgrouping",placeholder:"0",maxFractionDigits:2,minFractionDigits:2,value:(null===t||void 0===t?void 0:t.quantity)&&parseFloat((null===t||void 0===t?void 0:t.quantity)||0),onValueChange:e=>r((t=>({...t,quantity:e.value})))})})]}),(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle",style:{width:"20px",height:"20px",marginTop:"20px"},children:"="})]})}),(0,q.jsxs)(a.A,{children:[(0,q.jsx)("label",{className:"mb-2",children:"Sub Total:"}),(0,q.jsxs)("strong",{children:["$ ",(0,V.m)(parseFloat((null===t||void 0===t?void 0:t.total)||0).toFixed(2))]})]})]}),(0,q.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,q.jsx)("span",{}),(0,q.jsxs)("div",{className:(0,E.A)(I.RItem),children:[(0,q.jsxs)(z.A,{className:I.delete,onClick:()=>c(null),children:[(0,q.jsx)(j,{color:"#B42318",size:18,className:"me-2"}),"Cancel"]}),(0,q.jsxs)(z.A,{className:I.create,disabled:d,onClick:async()=>{if(!t.description)return void B.oR.error("Description is required.");if(!t.cost)return void B.oR.error("Cost is required.");if(!t.quantity)return void B.oR.error("Quantity/Hours is required.");const e={title:i||"",description:t.description,type:"Cost"===t.type?0:1,cost:t.cost,quantity:t.quantity,profit_type:t.profit_type,profit_type_value:t.profit_type_value,total:t.total};try{u(!0),await(0,L.jH)(s,e),B.oR.success("Calculator created successfully."),c(null),o(s),r({profit_type:"MRK",profit_type_value:0,cost:void 0,quantity:1,discount:0,total:0,description:"",type:"Cost"})}catch(n){console.error("Error during creating calculator",n),B.oR.error("Failed to create calculator. Please try again.")}finally{u(!1)}},children:[d?(0,q.jsx)(T.p,{className:"me-2",style:{width:"18px",height:"18px"}}):(0,q.jsx)(_,{color:"#106B99",size:18,className:"me-2"}),"Save Calculator"]})]})]})]})},W=e=>{let{calculators:t=[],index:r,name:l,refetch:a,isNewCreate:s,cancelCreateCalculator:i}=e;const[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[p,m]=(0,n.useState)({profit_type:"MRK",profit_type_value:0,cost:0,quantity:1,discount:0,total:0,description:"",type:"Cost"}),f=t.filter(((e,t,r)=>t===r.findIndex((t=>t.id===e.id&&!(null!==e&&void 0!==e&&e.deleted)))));let v=f;null!==d&&void 0!==d&&d.id&&(v=f.filter((e=>e.id!==d.id)));const h=((e,t)=>{let r=0,n=0;null===e||void 0===e||e.forEach((e=>{let t=parseFloat(null===e||void 0===e?void 0:e.cost)||0,l=parseFloat(null===e||void 0===e?void 0:e.quantity)||0;r+=parseFloat(t*l||0),n+=parseFloat((null===e||void 0===e?void 0:e.total)||0)}));let l=0,a=0;"ex"===t?(l=.1*n,a=n+l):"in"===t?(a=n,l=.1*a/1.1,n=a-l):"no"===t&&(l=0,a=n);const s=n-r;return{budget:parseFloat(r).toFixed(2),operationalProfit:parseFloat(s).toFixed(2),subtotal:parseFloat(n).toFixed(2),tax:parseFloat(l).toFixed(2),total:parseFloat(a).toFixed(2)}})([...v,p,d],"ex");return(0,n.useEffect)((()=>{s&&m({profit_type:"MRK",profit_type_value:0,cost:void 0,quantity:1,discount:0,total:0,description:"",type:"Cost"})}),[s]),(0,q.jsxs)("div",{children:[s&&(0,q.jsx)(Q,{index:r,name:l,refetch:a,cancelCreateCalculator:i,tempCalculator:p,setTempCalculator:m}),null===f||void 0===f?void 0:f.map((e=>(0,q.jsx)(Y,{index:r,calculator:e,refetch:a,tempCalculator:d,setTempCalculator:u,editId:o,setEditId:c},e.id))),(0,q.jsx)("div",{className:I.calculateBox,children:(0,q.jsxs)("ul",{children:[(0,q.jsxs)("li",{children:[(0,q.jsxs)("div",{className:`${I.boxcal}`,children:[(0,q.jsx)("h6",{children:"Budget"}),(0,q.jsxs)("strong",{children:["$",(0,V.m)(+h.budget)]})]}),(0,q.jsxs)("div",{className:`${I.profit} ${I.boxcal}`,children:[(0,q.jsx)("h6",{children:"Operational Profit"}),(0,q.jsxs)("strong",{children:["$",(0,V.m)(+h.operationalProfit)]})]})]}),(0,q.jsxs)("li",{children:[(0,q.jsxs)("div",{className:`${I.boxcal}`,children:[(0,q.jsx)("h6",{children:"Total"}),(0,q.jsxs)("strong",{children:["$",(0,V.m)(+h.subtotal)]})]}),(0,q.jsxs)("div",{className:`${I.boxcal}`,children:[(0,q.jsx)("h6",{children:"Total + GST"}),(0,q.jsxs)("strong",{children:["$",(0,V.m)(+h.total)]})]})]})]})})]})},Z=()=>(0,q.jsxs)("div",{style:{padding:"16px 24px 16px 52px"},children:[(0,q.jsx)(M.E,{width:"10rem",className:"mb-2"}),(0,q.jsx)(M.E,{className:"mb-2"}),(0,q.jsx)(M.E,{className:"mb-2"}),(0,q.jsx)(M.E,{className:"mb-2"}),(0,q.jsxs)(l.A,{children:[(0,q.jsxs)(a.A,{sm:3,children:[(0,q.jsx)(M.E,{width:"4rem",className:"mb-2"}),(0,q.jsx)(M.E,{width:"8rem",className:"mb-2"})]}),(0,q.jsxs)(a.A,{sm:3,children:[(0,q.jsx)(M.E,{width:"4rem",className:"mb-2"}),(0,q.jsx)(M.E,{width:"5rem",className:"mb-2"})]}),(0,q.jsxs)(a.A,{sm:3,children:[(0,q.jsx)(M.E,{width:"4rem",className:"mb-2"}),(0,q.jsx)(M.E,{width:"8rem",className:"mb-2"})]})]}),(0,q.jsxs)(l.A,{children:[(0,q.jsxs)(a.A,{sm:2,className:"py-3 px-2",children:[(0,q.jsx)(M.E,{width:"3rem",className:"mb-2"}),(0,q.jsx)(M.E,{width:"100%",className:"mb-2"})]}),(0,q.jsxs)(a.A,{sm:2,className:"py-3 px-2",children:[(0,q.jsx)(M.E,{width:"3rem",className:"mb-2"}),(0,q.jsx)(M.E,{width:"100%",className:"mb-2"})]}),(0,q.jsx)(a.A,{sm:6}),(0,q.jsxs)(a.A,{sm:2,className:"py-3",children:[(0,q.jsx)(M.E,{width:"3rem",className:"mb-2"}),(0,q.jsx)(M.E,{width:"100%",className:"mb-2"})]})]})]}),X=e=>{let{visible:t,setVisible:r,refetch:l,editDepartment:a,setEditDepartment:s,orderDepartments:i}=e;const[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)("");(0,n.useEffect)((()=>{null!==a&&void 0!==a&&a.name&&u(null===a||void 0===a?void 0:a.name)}),[null===a||void 0===a?void 0:a.name]);const p=()=>{r(!1),u(""),s({id:null,name:null})},m=(0,q.jsx)("div",{className:`${I.modalHeader}`,children:(0,q.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,q.jsx)("div",{className:I.circledesignstyle,children:(0,q.jsx)("div",{className:I.out,children:(0,q.jsx)(S.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,q.jsx)("span",{className:`white-space-nowrap ${I.headerTitle}`,children:null!==a&&void 0!==a&&a.id?"Edit Department":"Create Department"})]})}),f=(0,q.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,q.jsx)(z.A,{className:"outline-button",onClick:p,disabled:o,children:"Cancel"}),(0,q.jsxs)(z.A,{className:"solid-button",style:{width:"fit-content"},onClick:async()=>{try{if(d){if(c(!0),null!==a&&void 0!==a&&a.id)await(0,L.cM)(null===a||void 0===a?void 0:a.id,{name:d}),B.oR.success("Department updated successfully."),s({id:null,name:null});else{await(0,L.VL)({name:d,order:i.length}),B.oR.success("New department created successfully.");const e=document.querySelector(".content_wrap_main");e&&setTimeout((()=>{e.scrollTo({top:e.scrollHeight+100,behavior:"smooth"})}),500)}l(),p()}}catch(e){console.error(`Error ${null!==a&&void 0!==a&&a.id?"updating":"creating"} department:`,e),B.oR.error(`Failed to ${null!==a&&void 0!==a&&a.id?"update":"create"} department. Please try again.`)}finally{c(!1)}},disabled:(null===d||void 0===d?void 0:d.length)<1||o,children:["Save Details ",o&&(0,q.jsx)(T.p,{style:{width:"20px",height:"20px"}})]})]});return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(P.l,{visible:t,modal:!0,header:m,footer:f,className:`${I.modal} custom-modal`,onHide:p,children:(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsxs)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:["Department name ",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)(R.S,{value:d,onChange:e=>u(e.target.value),className:I.inputBox})]})})})},J=e=>{let{visible2:t,setVisible2:r,refetch:l,editSubDepartment:a,setEditSubDepartment:s,orderDepartments:i}=e;const[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),p=null===a||void 0===a?void 0:a.parent;(0,n.useEffect)((()=>{null!==a&&void 0!==a&&a.name&&u(null===a||void 0===a?void 0:a.name)}),[null===a||void 0===a?void 0:a.name]);const m=()=>{r(!1),u(""),s({id:null,name:null,parent:null})},f=(0,q.jsx)("div",{className:`${I.modalHeader}`,children:(0,q.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,q.jsx)("div",{className:I.circledesignstyle,children:(0,q.jsx)("div",{className:I.out,children:(0,q.jsx)(S.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,q.jsx)("span",{className:`white-space-nowrap ${I.headerTitle}`,children:null!==a&&void 0!==a&&a.id?"Edit Product / Service ":"Create Product / Service "})]})}),v=(0,q.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,q.jsx)(z.A,{className:"outline-button",onClick:m,disabled:o,children:"Cancel"}),(0,q.jsxs)(z.A,{className:"solid-button",style:{width:"fit-content"},onClick:async()=>{try{if(d){if(!p)return B.oR.error("Parent id not found");var e,t;if(c(!0),null!==a&&void 0!==a&&a.id)await(0,L._0)(null===a||void 0===a?void 0:a.id,{name:d,parent:p}),B.oR.success("Product or Service updated successfully."),s({id:null,name:null,parent:null});else await(0,L.zw)({name:d,parent:p,order:(null===i||void 0===i||null===(e=i.find((e=>e.id===p)))||void 0===e||null===(t=e.subindexes)||void 0===t?void 0:t.length)||0}),B.oR.success("New product or service created successfully.");l(),m()}}catch(r){console.error(`Error ${null!==a&&void 0!==a&&a.id?"updating":"creating"} product or service :`,r),B.oR.error(`Failed to ${null!==a&&void 0!==a&&a.id?"update":"create"} product or service . Please try again.`)}finally{c(!1)}},disabled:(null===d||void 0===d?void 0:d.length)<1||o,children:["Save Details ",o&&(0,q.jsx)(T.p,{style:{width:"20px",height:"20px"}})]})]});return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(P.l,{visible:t,modal:!0,header:f,footer:v,className:`${I.modal} custom-modal`,onHide:m,children:(0,q.jsxs)("div",{className:"d-flex flex-column",children:[(0,q.jsxs)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:["Product or Service Name ",(0,q.jsx)("span",{style:{color:"#f04438"},children:"*"})]}),(0,q.jsx)(R.S,{value:d,onChange:e=>u(e.target.value),className:I.inputBox})]})})})},ee=()=>{const[e,t]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),[a,c]=(0,n.useState)(null),[d,u]=(0,n.useState)({id:null,name:null}),[p,m]=(0,n.useState)(null),[h,x]=(0,n.useState)({}),[y,g]=(0,n.useState)([]),[j,b]=(0,n.useState)(void 0),[w,N]=(0,n.useState)(void 0),_=(0,F.I)({queryKey:["departments"],queryFn:()=>(0,L.ax)(1),enabled:!0}),S=async e=>{const t=await(0,L.Dc)(e);x((r=>({...r,[e]:t||[]})))},P=(e,t)=>{var r;const{source:n,destination:l}=e;if(!l)return;const a=null===y||void 0===y||null===(r=y.find((e=>e.id===t)))||void 0===r?void 0:r.subindexes;if(!a)return;const s=Array.from(a),[i]=s.splice(n.index,1);s.splice(l.index,0,i);const o=null===y||void 0===y?void 0:y.map((e=>e.id===t?{...e,subindexes:s}:e));g(o),(async e=>{try{await(0,L.dl)(e),B.oR.success("Sub-departments reordered successfully.")}catch(t){console.error("Error reordering sub-departments:",t),B.oR.error("Failed to reorder sub-departments. Please try again.")}})(s)};return(0,n.useEffect)((()=>{if(null!==_&&void 0!==_&&_.data){var e,t;const r=(Array.isArray(_.data)?null===(e=_.data)||void 0===e||null===(t=e.filter((e=>!(null!==e&&void 0!==e&&e.deleted))))||void 0===t?void 0:t.sort(((e,t)=>e.order-t.order)):[]).map((e=>{var t,r;const n=null===(t=e.subindexes)||void 0===t||null===(r=t.filter((e=>!(null!==e&&void 0!==e&&e.deleted))))||void 0===r?void 0:r.sort(((e,t)=>e.order-t.order));return{...e,subindexes:n}}));g(r)}}),[null===_||void 0===_?void 0:_.data]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(A.mg,{children:(0,q.jsx)("title",{children:"MeMate - Departments"})}),(0,q.jsx)("div",{className:"headSticky",children:(0,q.jsx)("h1",{children:"Calculators"})}),(0,q.jsx)("div",{className:(0,E.A)(I.wraper,"content_wrap_main"),children:(0,q.jsx)("div",{className:"content_wrapper",children:(0,q.jsxs)("div",{className:"listwrapper",children:[(0,q.jsxs)("div",{className:`topHeadStyle pb-4 ${I.topHeadBorder}`,children:[(0,q.jsx)("h2",{children:"Departments"}),(0,q.jsxs)("button",{onClick:()=>t(!0),className:"outline-button",children:["Create Department ",(0,q.jsx)(s.A,{color:"#000000",size:20,className:"mb-1 ms-1"})]})]}),(0,q.jsx)(C.JY,{onDragEnd:e=>{const{source:t,destination:r}=e;if(!r)return;const n=Array.from(y),[l]=n.splice(t.index,1);n.splice(r.index,0,l),g(n),(async e=>{try{await(0,L.dl)(e),B.oR.success("Departments reordered successfully.")}catch(t){console.error("Error reordering departments:",t),B.oR.error("Failed to reorder departments. Please try again.")}})(n)},children:(0,q.jsx)(C.gL,{droppableId:"departments",type:"DEPARTMENTS",children:e=>(0,q.jsx)("div",{className:"departments-droppable",...e.droppableProps,ref:e.innerRef,children:(0,q.jsx)(O.n,{activeIndex:j,onTabChange:e=>b(e.index),expandIcon:(0,q.jsx)(q.Fragment,{}),collapseIcon:(0,q.jsx)(q.Fragment,{}),onTabOpen:()=>{N(void 0)},children:null===y||void 0===y?void 0:y.map(((e,r)=>{const n=(null===e||void 0===e?void 0:e.subindexes)||[];return(0,q.jsx)(O.g,{className:(0,E.A)(I.accorHeadbox,"main-accordion-header"),header:(0,q.jsx)(C.sx,{draggableId:`department-${e.id}`,index:r,children:(n,a)=>(0,q.jsxs)("div",{ref:n.innerRef,...n.draggableProps,className:(0,E.A)("d-flex align-items-center justify-content-between p-3 departmentAccordionHeadContainer",I.accordionHeadContainer,{dragging:a.isDragging}),style:{...n.draggableProps.style,backgroundColor:a.isDragging?"#f0f0f0":"#fff",border:a.isDragging?"1px solid #ccc":"none"},children:[(0,q.jsxs)("div",{className:"d-flex align-items-center",children:[(0,q.jsx)("div",{...n.dragHandleProps,style:{cursor:"move"},onClick:e=>e.stopPropagation(),children:(0,q.jsx)(i.A,{color:"#98A2B3",size:16})}),(0,q.jsx)("span",{className:(0,E.A)(I.accorHeadStyle,"active-header-text ms-2"),children:e.name}),(0,q.jsx)("div",{className:(0,E.A)(I.editIconBox,"editItem"),onClick:r=>((e,r)=>{e.preventDefault(),e.stopPropagation(),t(!0),u(r)})(r,{id:e.id,name:e.name}),style:{visibility:"hidden"},children:(0,q.jsx)(o.A,{color:"#106B99",size:16})})]}),(0,q.jsxs)("div",{className:(0,E.A)(I.RItem,"editItem"),style:{visibility:"hidden",marginRight:"14px"},children:[(0,q.jsx)(U,{title:"Department",api:`/settings/departments/delete/${e.id}/`,refetch:_.refetch}),(0,q.jsxs)(z.A,{className:I.create,onClick:t=>((e,t,r)=>{e.preventDefault(),e.stopPropagation(),m({parent:t}),l(!0),b(r)})(t,e.id,r),children:[(0,q.jsx)(s.A,{color:"#106B99",size:18,className:"me-2"}),"Product / Service"]}),j===r?(0,q.jsx)("div",{className:(0,E.A)("collapseIcon"),children:(0,q.jsx)(f,{size:16,color:"#344054"})}):(0,q.jsx)("div",{className:(0,E.A)("expandIcon"),children:(0,q.jsx)(v.A,{size:16,color:"#106B99"})})]})]})},e.id),children:(0,q.jsx)(C.JY,{onDragEnd:t=>P(t,e.id),children:(0,q.jsx)(C.gL,{droppableId:`sub-departments-${e.id}`,type:"SUB_DEPARTMENTS",children:t=>(0,q.jsx)("div",{className:"sub-departments-droppable",...t.droppableProps,ref:t.innerRef,children:(0,q.jsx)(O.n,{activeIndex:w,onTabChange:e=>N(e.index),className:"innerAccordion",expandIcon:(0,q.jsx)(q.Fragment,{}),collapseIcon:(0,q.jsx)(q.Fragment,{}),onTabOpen:e=>{const t=n[e.index].id;S(t)},onTabClose:()=>!1,children:null===n||void 0===n?void 0:n.map(((t,r)=>(0,q.jsx)(O.g,{className:(0,E.A)(I.innerBoxStyle,I.innerAccordionTab),header:(0,q.jsx)(C.sx,{draggableId:`sub-department-${t.id}`,index:r,children:(n,a)=>(0,q.jsxs)("div",{ref:n.innerRef,...n.draggableProps,style:{...n.draggableProps.style,backgroundColor:a.isDragging?"#f0f0f0":"#f9fafb",border:a.isDragging?"1px solid #ccc":"none"},className:"d-flex align-items-center justify-content-between subDepartmentAccordionHeadContainer p-3",children:[(0,q.jsxs)("div",{className:"d-flex align-items-center",children:[(0,q.jsx)("div",{...n.dragHandleProps,style:{cursor:"move"},onClick:e=>e.stopPropagation(),children:(0,q.jsx)(i.A,{color:"#98A2B3",size:16,style:{position:"relative",top:"-2px",left:"-6px"}})}),w===r?(0,q.jsx)("div",{className:(0,E.A)(I.innerCollapseIcon),children:(0,q.jsx)(f,{size:16,color:"#344054"})}):(0,q.jsx)("div",{className:(0,E.A)(I.innerExpandIcon),children:(0,q.jsx)(v.A,{size:16,color:"#106B99"})}),(0,q.jsx)("span",{className:(0,E.A)(I.accorHeadStyle,"active-header-text"),children:t.name}),(0,q.jsx)("div",{className:(0,E.A)(I.editIconBox2,"editItem"),onClick:r=>((e,t,r,n)=>{e.preventDefault(),e.stopPropagation(),m({id:t,parent:r,name:n}),l(!0)})(r,t.id,e.id,t.name),style:{visibility:"hidden"},children:(0,q.jsx)(o.A,{color:"#106B99",size:16})})]}),(0,q.jsxs)("div",{className:(0,E.A)(I.RItem,"editItem"),style:{visibility:"hidden"},children:[(0,q.jsx)(U,{title:"Product / Service ",api:`/settings/sub-departments/delete/${t.id}/`,refetch:_.refetch}),(0,q.jsxs)(z.A,{className:I.create,onClick:e=>((e,t,r)=>{e.preventDefault(),e.stopPropagation(),c(t),N(r),S(t)})(e,t.id,r),children:[(0,q.jsx)(s.A,{color:"#106B99",size:18,className:"me-2"}),"Create Calculator"]})]})]})},t.id),children:h[t.id]?(0,q.jsx)(W,{index:t.id,isNewCreate:a===t.id,cancelCreateCalculator:c,refetch:S,calculators:h[t.id],name:t.name}):(0,q.jsx)(Z,{})},t.id)))})})})})},e.id)}))})})})})]})})}),(0,q.jsx)(X,{visible:e,setVisible:t,refetch:_.refetch,editDepartment:d,setEditDepartment:u,orderDepartments:y}),(0,q.jsx)(J,{visible2:r,setVisible2:l,refetch:_.refetch,editSubDepartment:p,setEditSubDepartment:m,orderDepartments:y}),(null===_||void 0===_?void 0:_.isFetching)&&(0,q.jsx)(G.A,{})]})}},45154:(e,t,r)=>{r.d(t,{D:()=>s});var n=r(65043),l=r(51414);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(null,arguments)}var s=n.memo(n.forwardRef((function(e,t){var r=l.z.getPTI(e);return n.createElement("svg",a({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),n.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))})));s.displayName="ChevronDownIcon"},53763:(e,t,r)=>{e.exports=r(54983)},54983:(e,t)=>{var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,l=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,o=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118,j=r?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case a:case i:case s:case m:return e;default:switch(e=e&&e.$$typeof){case c:case p:case h:case v:case o:return e;default:return t}}case l:return t}}}function w(e){return b(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=o,t.Element=n,t.ForwardRef=p,t.Fragment=a,t.Lazy=h,t.Memo=v,t.Portal=l,t.Profiler=i,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return w(e)||b(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===o},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===h},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===l},t.isProfiler=function(e){return b(e)===i},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===i||e===s||e===m||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===v||e.$$typeof===o||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===g||e.$$typeof===j||e.$$typeof===x)},t.typeOf=b},73898:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),l=r(65173),a=r.n(l),s=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}var o=(0,n.forwardRef)((function(e,t){var r=e.color,l=void 0===r?"currentColor":r,a=e.size,o=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,s);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-pencil-square",p].filter(Boolean).join(" ")},m),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=o},74856:(e,t,r)=>{r.d(t,{E:()=>v});var n=r(65043),l=r(84052),a=r(41828),s=r(2028),i=r(4504);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function d(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={root:function(e){var t=e.props;return(0,i.xW)("p-skeleton p-component",{"p-skeleton-circle":"circle"===t.shape,"p-skeleton-none":"none"===t.animation})}},p=a.x.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:u,inlineStyles:{root:{position:"relative"}},styles:'\n@layer primereact {\n    .p-skeleton {\n        position: relative;\n        overflow: hidden;\n    }\n    \n    .p-skeleton::after {\n        content: "";\n        animation: p-skeleton-animation 1.2s infinite;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(-100%);\n        z-index: 1;\n    }\n    \n    .p-skeleton-circle {\n        border-radius: 50%;\n    }\n    \n    .p-skeleton-none::after {\n        animation: none;\n    }\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n'}});function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=n.memo(n.forwardRef((function(e,t){var r=(0,s.qV)(),o=n.useContext(l.UM),c=p.getProps(e,o),d=p.setMetaData({props:c}),u=d.ptm,m=d.cx,v=d.sx,h=d.isUnstyled;(0,a.j)(p.css.styles,h,{name:"skeleton"});var x=n.useRef(null);n.useImperativeHandle(t,(function(){return{props:c,getElement:function(){return x.current}}}));var y=c.size?{width:c.size,height:c.size,borderRadius:c.borderRadius}:{width:c.width,height:c.height,borderRadius:c.borderRadius},g=r({ref:x,className:(0,i.xW)(c.className,m("root")),style:f(f({},y),v("root")),"aria-hidden":!0},p.getOtherProps(c),u("root"));return n.createElement("div",g)})));v.displayName="Skeleton"},80219:(e,t,r)=>{var n=r(53763),l={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function o(e){return n.isMemo(e)?s:i[e.$$typeof]||l}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(f){var l=m(r);l&&l!==f&&e(t,l,n)}var s=d(r);u&&(s=s.concat(u(r)));for(var i=o(t),v=o(r),h=0;h<s.length;++h){var x=s[h];if(!a[x]&&(!n||!n[x])&&(!v||!v[x])&&(!i||!i[x])){var y=p(r,x);try{c(t,x,y)}catch(g){}}}}return t}},83627:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),l=r(65173),a=r.n(l),s=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}var o=(0,n.forwardRef)((function(e,t){var r=e.color,l=void 0===r?"currentColor":r,a=e.size,o=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,s);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-plus-lg",p].filter(Boolean).join(" ")},m),d?n.createElement("title",null,d):null,n.createElement("path",{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=o},93202:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),l=r(65173),a=r.n(l),s=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}var o=(0,n.forwardRef)((function(e,t){var r=e.color,l=void 0===r?"currentColor":r,a=e.size,o=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,s);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-plus-circle",p].filter(Boolean).join(" ")},m),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),n.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=o},94819:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(65043),l=r(65173),a=r.n(l),s=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}var o=(0,n.forwardRef)((function(e,t){var r=e.color,l=void 0===r?"currentColor":r,a=e.size,o=void 0===a?"1em":a,c=e.title,d=void 0===c?null:c,u=e.className,p=void 0===u?"":u,m=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,s);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:l,className:["bi","bi-trash",p].filter(Boolean).join(" ")},m),d?n.createElement("title",null,d):null,n.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),n.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const c=o}}]);
//# sourceMappingURL=2742.b27f381d.chunk.js.map