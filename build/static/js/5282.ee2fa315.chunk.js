"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5282],{10586:(e,t,s)=>{s.d(t,{$R:()=>i,Bu:()=>r,D3:()=>m,E4:()=>x,JP:()=>l,Rv:()=>d,Wz:()=>p,a_:()=>u,eY:()=>c,ik:()=>h,md:()=>n,oP:()=>v});var o=s(31342);const a="https://dev.memate.com.au/api/v1",n=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4?arguments[4]:void 0;const r=(e-1)*t,i=new URL(`${a}/expenses/`);return i.searchParams.append("limit",t),i.searchParams.append("offset",r),s&&i.searchParams.append("search",s),n&&i.searchParams.append("ordering",n),l&&i.searchParams.append("status","not_paid"),(0,o.f)(i.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${a}/references/xero-codes/`);return(0,o.f)(e.toString(),{method:"GET"})},r=async()=>{const e=new URL(`${a}/references/projects/`);return(0,o.f)(e.toString(),{method:"GET"})},i=async e=>{const t=new URL(`${a}${`/expenses/update/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},d=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/expenses/new/`);return(0,o.f)(s.toString(),t)},c=async(e,t)=>{const s={method:"PUT",body:t},n=new URL(`${a}${`/expenses/update/${e}/`}`);return(0,o.f)(n.toString(),s)},m=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/expenses/paid/`);return(0,o.f)(s.toString(),t)},h=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/expenses/unpaid/`);return(0,o.f)(s.toString(),t)},u=async e=>{const t={method:"PUT",body:e},s=new URL(`${a}/expenses/to-xero/`);return(0,o.f)(s.toString(),t)},p=async e=>{const t=new URL(`${a}${`/expenses/delete/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},x=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/clients/statement/pdf/`);return(0,o.f)(s.toString(),t)},v=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/clients/statement/`);return(0,o.f)(s.toString(),t)}},11281:(e,t,s)=>{s.d(t,{A:()=>P,I:()=>B});var o=s(65043),a=s(14282),n=s(13846),l=s(61072),r=s(78602),i=s(56741),d=s(9634),c=s(56682),m=s(69956),h=s(89488),u=s(93747),p=s(47097),x=s(86213),v=s(58387),g=s(85371),f=s(88060),j=s(28676),b=s(74532),y=s(72052),w=s(27932),N=s(93740),A=s(31892),S=s(20288),C=s(56328);const F={newJobTag:"create-job_newJobTag__fPJdn",border:"create-job_border__hGK6q",borderBottom:"create-job_borderBottom__KJ5iU",background:"create-job_background__dGbHa",customLabel:"create-job_customLabel__I8dZw",inputBox:"create-job_inputBox__yF5TW",chooseUserBox:"create-job_chooseUserBox__xDARH",paymentType:"create-job_paymentType__oiVO6",typeBorder:"create-job_typeBorder__O8Hp4",paymentmain:"create-job_paymentmain__SXRTF",customRadio:"create-job_customRadio__OfCn+",fix:"create-job_fix__GX+LF",hours:"create-job_hours__ZBMQO",timetracker:"create-job_timetracker__pDwPP",shift:"create-job_shift__yhUPp",timeFrame:"create-job_timeFrame__V+Ijt",radioLabel:"create-job_radioLabel__RPn7y",RadioButton:"create-job_RadioButton__0hySC",fileBox:"create-job_fileBox__zkj0v",imgBox:"create-job_imgBox__Fi0m-",fileType:"create-job_fileType__kElHf",fileTypeSmall:"create-job_fileTypeSmall__tBXk4",fileNameBox:"create-job_fileNameBox__0Vs4a",deleteBox:"create-job_deleteBox__ZgDq5",openTransition:"create-job_openTransition__KZ-SQ"};var $=s(81047),R=s(10586),_=s(38391),E=s(90386),L=s(33296),k=s(58027),T=s(70579);function B(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;e&&(e=null===(t=e)||void 0===t?void 0:t.toLowerCase());const o={"application/pdf":{name:"PDF",color:"#D92D20"},"application/vnd.ms-excel":{name:"Excel",color:"#22A746"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{name:"Excel",color:"#22A746"},"application/msword":{name:"Word",color:"#2368E1"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{name:"Word",color:"#2368E1"},"image/jpeg":{name:"JPEG",color:"#FFAA00"},"image/png":{name:"PNG",color:"#00ADEF"},"image/gif":{name:"GIF",color:"#F64A8A"},"video/mp4":{name:"MP4",color:"#9C27B0"},"audio/mp3":{name:"MP3",color:"#4CAF50"},"audio/wav":{name:"WAV",color:"#795548"},"text/plain":{name:"Text",color:"#8E8E8E"},"application/zip":{name:"ZIP",color:"#FFD700"},"application/json":{name:"JSON",color:"#22A746"},"image/svg+xml":{name:"SVG",color:"#FF5722"},"application/x-rar-compressed":{name:"RAR",color:"#F44336"},"application/vnd.ms-powerpoint":{name:"PPT",color:"#FF9800"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{name:"PPT",color:"#FF9800"},"application/vnd.ms-publisher":{name:"Publisher",color:"#4CAF50"},"application/x-shockwave-flash":{name:"SWF",color:"#FFEB3B"},"application/x-tar":{name:"TAR",color:"#FFC107"},zip:{name:"ZIP",color:"#FFD700"},rar:{name:"RAR",color:"#F44336"},ppt:{name:"PPT",color:"#FF9800"},pub:{name:"Publisher",color:"#4CAF50"},swf:{name:"SWF",color:"#FFEB3B"},tar:{name:"TAR",color:"#FFC107"},pdf:{name:"PDF",color:"#D92D20"},doc:{name:"Word",color:"#2368E1"},docx:{name:"Word",color:"#2368E1"},xls:{name:"Excel",color:"#22A746"},xlsx:{name:"Excel",color:"#22A746"},jpg:{name:"JPEG",color:"#FFAA00"},jpeg:{name:"JPEG",color:"#FFAA00"},png:{name:"PNG",color:"#00ADEF"},gif:{name:"GIF",color:"#F64A8A"},mp4:{name:"MP4",color:"#9C27B0"},mp3:{name:"MP3",color:"#4CAF50"},wav:{name:"WAV",color:"#795548"},txt:{name:"Text",color:"#8E8E8E"},json:{name:"JSON",color:"#22A746"},svg:{name:"SVG",color:"#FF5722"},pptx:{name:"PPT",color:"#FF9800"}}[e]||{name:"Unknown",color:"#000000"};return(0,T.jsxs)("div",{className:F.imgBox,children:[(0,T.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 32 41",fill:"none",children:[(0,T.jsx)("path",{d:"M0 4.5874C0 2.37826 1.79086 0.587402 4 0.587402H20L32 12.5874V36.5874C32 38.7965 30.2091 40.5874 28 40.5874H4C1.79086 40.5874 0 38.7965 0 36.5874V4.5874Z",fill:o.color}),(0,T.jsx)("path",{opacity:"0.3",d:"M20 0.587402L32 12.5874H24C21.7909 12.5874 20 10.7965 20 8.5874V0.587402Z",fill:"white"})]}),(0,T.jsx)("div",{className:`${F.fileType} ${32!=s?F.fileTypeSmall:""}`,children:o.name})]})}const P=e=>{var t;let{visible:s,setVisible:P,setRefetch:U=()=>{},workerId:I,isEditMode:H=!1,jobData:D=null,jobId:M=null,jobProjectId:O,refetch:W=()=>{}}=e;const G=localStorage.getItem("access_token"),q=(0,o.useRef)(null),z=o.useMemo((()=>window.location.href),[]),J=o.useMemo((()=>new URL(z)),[z]),V=o.useMemo((()=>new URLSearchParams(J.search)),[J]),[Z,K]=(0,o.useState)(""),[Q,X]=(0,o.useState)(!1),[Y,ee]=(0,o.useState)(!1),[te,se]=(0,o.useState)(!1),[oe,ae]=(0,o.useState)(""),[ne,le]=(0,o.useState)(""),[re,ie]=(0,o.useState)(""),[de,ce]=(0,o.useState)({}),[me,he]=(0,o.useState)("0.00"),[ue,pe]=(0,o.useState)(""),[xe,ve]=(0,o.useState)(""),[ge,fe]=(0,o.useState)("Weekly"),[je,be]=(0,o.useState)([]),[ye,we]=(0,o.useState)([]),[Ne,Ae]=(0,o.useState)(""),[Se,Ce]=(0,o.useState)([]),[Fe,$e]=(0,o.useState)(""),[Re,_e]=(0,o.useState)(""),[Ee,Le]=(0,o.useState)(""),[ke,Te]=(0,o.useState)([]),{getRootProps:Be,getInputProps:Pe}=(0,h.VB)({onDrop:e=>{const t=e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e),progress:0})));Te((e=>[...e,...t]))}}),[Ue,Ie]=(0,o.useState)("2"),[He,De]=(0,o.useState)("1"),[Me,Oe]=(0,o.useState)(0),We=new Date,[Ge,qe]=(0,o.useState)(We),[ze,Je]=(0,o.useState)(""),[Ve,Ze]=(0,o.useState)("1.00"),[Ke,Qe]=(0,o.useState)("1.00"),[Xe,Ye]=(0,o.useState)({}),et=(0,u.I)({queryKey:["jobTemplate"],queryFn:$.tC}),tt=(0,u.I)({queryKey:["templateId",Z],queryFn:()=>(0,$.iS)(Z),enabled:!!Z,retry:1}),st=(0,u.I)({queryKey:["mobileuser"],queryFn:E.tD}),ot=(0,u.I)({queryKey:["getProjectsList"],queryFn:R.Bu}),at=e=>(0,T.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,T.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:"openJob"===(null===e||void 0===e?void 0:e.image)?(0,T.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none",children:[(0,T.jsx)("path",{d:"M7.14307 6.57171C6.82748 6.57171 6.57164 6.82754 6.57164 7.14314C6.57164 7.45873 6.82748 7.71457 7.14307 7.71457H12.8574C13.1729 7.71457 13.4288 7.45873 13.4288 7.14314C13.4288 6.82754 13.1729 6.57171 12.8574 6.57171H7.14307Z",fill:"#475467"}),(0,T.jsx)("path",{d:"M7.14307 8.85742C6.82748 8.85742 6.57164 9.11326 6.57164 9.42885C6.57164 9.74444 6.82748 10.0003 7.14307 10.0003H10.5716C10.8872 10.0003 11.1431 9.74444 11.1431 9.42885C11.1431 9.11326 10.8872 8.85742 10.5716 8.85742H7.14307Z",fill:"#475467"}),(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 3.14314C11.2626 3.14314 12.2859 2.11979 12.2859 0.857422H15.1431C16.0898 0.857422 16.8574 1.62493 16.8574 2.57171V17.4289C16.8574 18.3756 16.0898 19.1431 15.1431 19.1431H4.85735C3.91058 19.1431 3.14307 18.3756 3.14307 17.4289V2.57171C3.14307 1.62493 3.91058 0.857422 4.85735 0.857422H7.7145C7.7145 2.11979 8.73784 3.14314 10.0002 3.14314ZM10.0002 4.28599C11.493 4.28599 12.763 3.33193 13.2337 2.00028H15.1431C15.4587 2.00028 15.7145 2.25612 15.7145 2.57171V17.4289C15.7145 17.7444 15.4587 18.0003 15.1431 18.0003H4.85735C4.54176 18.0003 4.28592 17.7444 4.28592 17.4289V2.57171C4.28592 2.25612 4.54176 2.00028 4.85735 2.00028H6.76673C7.2374 3.33193 8.50739 4.28599 10.0002 4.28599Z",fill:"#475467"})]}):(0,T.jsx)(k.A,{photo:null===e||void 0===e?void 0:e.image,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),(0,T.jsx)("div",{children:e.label})]}),nt=(e,t)=>e?(0,T.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,T.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"24px",height:"24px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:"openJob"===(null===e||void 0===e?void 0:e.image)?(0,T.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none",children:[(0,T.jsx)("path",{d:"M7.14307 6.57171C6.82748 6.57171 6.57164 6.82754 6.57164 7.14314C6.57164 7.45873 6.82748 7.71457 7.14307 7.71457H12.8574C13.1729 7.71457 13.4288 7.45873 13.4288 7.14314C13.4288 6.82754 13.1729 6.57171 12.8574 6.57171H7.14307Z",fill:"#475467"}),(0,T.jsx)("path",{d:"M7.14307 8.85742C6.82748 8.85742 6.57164 9.11326 6.57164 9.42885C6.57164 9.74444 6.82748 10.0003 7.14307 10.0003H10.5716C10.8872 10.0003 11.1431 9.74444 11.1431 9.42885C11.1431 9.11326 10.8872 8.85742 10.5716 8.85742H7.14307Z",fill:"#475467"}),(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 3.14314C11.2626 3.14314 12.2859 2.11979 12.2859 0.857422H15.1431C16.0898 0.857422 16.8574 1.62493 16.8574 2.57171V17.4289C16.8574 18.3756 16.0898 19.1431 15.1431 19.1431H4.85735C3.91058 19.1431 3.14307 18.3756 3.14307 17.4289V2.57171C3.14307 1.62493 3.91058 0.857422 4.85735 0.857422H7.7145C7.7145 2.11979 8.73784 3.14314 10.0002 3.14314ZM10.0002 4.28599C11.493 4.28599 12.763 3.33193 13.2337 2.00028H15.1431C15.4587 2.00028 15.7145 2.25612 15.7145 2.57171V17.4289C15.7145 17.7444 15.4587 18.0003 15.1431 18.0003H4.85735C4.54176 18.0003 4.28592 17.7444 4.28592 17.4289V2.57171C4.28592 2.25612 4.54176 2.00028 4.85735 2.00028H6.76673C7.2374 3.33193 8.50739 4.28599 10.0002 4.28599Z",fill:"#475467"})]}):(0,T.jsx)(k.A,{photo:null===e||void 0===e?void 0:e.image,has_photo:null===e||void 0===e?void 0:e.has_photo,is_business:!1,size:17})}),(0,T.jsx)("div",{children:e.label})]}):(0,T.jsx)("span",{children:t.placeholder}),lt=()=>{K(""),X(!1),ee(!1),se(!1),ae(""),le(""),ie(""),ce({}),he("0.00"),pe(""),ve(""),fe("Weekly"),be([]),we([]),Ae(""),Ce([]),$e(""),_e(""),Le(""),Te([]),Ie("2"),Oe(0),De("1"),qe(""),Je(""),Ze("1.00"),Qe("1.00"),Ye({})};(0,o.useEffect)((()=>{if(null!==tt&&void 0!==tt&&tt.data){var e,t;const s=(null===tt||void 0===tt||null===(e=tt.data)||void 0===e?void 0:e.title)||"";ae(s.substring(0,50)),le((null===tt||void 0===tt||null===(t=tt.data)||void 0===t?void 0:t.description)||""),Ye((e=>({...e,jobReference:!1}))),Ye((e=>({...e,description:!1})))}}),[null===tt||void 0===tt?void 0:tt.data]),(0,o.useEffect)((()=>{const e=V.get("projectId"),t=V.get("reference");t&&(ae(t),J.searchParams.delete("reference"),window.history.replaceState({},"",J)),e&&(P(!0),ve(+e),J.searchParams.delete("projectId"),window.history.replaceState({},"",J))}),[P,V,J]);const rt=async(e,t)=>{try{const s=await x.A.put(t,e,{headers:{"Content-Type":""},onUploadProgress:s=>{const o=Math.round(s.loaded/s.total*100);Te((s=>s.map((s=>s.name===e.name?Object.assign(s,{progress:o,url:t}):s))))}});return Te((t=>t.map((t=>t.name===e.name?Object.assign(t,{progress:100,uploaded:!0}):t)))),s}catch(s){let t="Upload failed";return t=s.response?403===s.response.status?"Permission denied (403 Forbidden)":`Server error: ${s.response.status}`:s.request?"No response from server":s.message,console.error(`Error uploading ${e.name}:`,t),Te((s=>s.map((s=>s.name===e.name?Object.assign(s,{progress:0,error:!0,errorMessage:t,uploadFailed:!0}):s)))),{error:!0,message:t}}},it=(0,p.n)({mutationFn:e=>H&&M?(0,_.lh)(M,e):(0,_.El)(e),onSuccess:async e=>{const t=H?M:e.id;ke.length>0&&(await(async e=>{if(!ke.length)return;if(!e)return C.oR.error("Job id not found");let t=0,s=0;for(const a of ke)try{const o=await x.A.post(`https://dev.memate.com.au/api/v1/jobs/attachments/url/${e}/`,{filename:a.name},{headers:{Authorization:`Bearer ${G}`}}),{url:n}=o.data;if(!n){console.error(`No URL returned for file: ${a.name}`),s++;continue}const l=await rt(a,n);l&&!l.error?t++:s++}catch(o){console.error("Error uploading file:",a.name,o),Te((e=>e.map((e=>e.name===a.name?Object.assign(e,{progress:0,error:!0,errorMessage:o.message||"Failed to get upload URL",uploadFailed:!0}):e)))),s++}t>0&&C.oR.success(`Successfully uploaded ${t} file(s)`),s>0&&C.oR.error(`Failed to upload ${s} file(s)`)})(t),await(async e=>{let t=[];for(const a of ke){var s;if(a.error||!a.url)continue;let e={name:null===a||void 0===a?void 0:a.name,link:(null===a||void 0===a||null===(s=a.url)||void 0===s?void 0:s.split("?")[0])||"",size:null===a||void 0===a?void 0:a.size};t.push(e)}try{const s=await x.A.post(`https://dev.memate.com.au/api/v1/jobs/attachments/${e}/`,{attachments:t||[]},{headers:{Authorization:`Bearer ${G}`}});console.log("response",s)}catch(o){console.error("Error uploading file:",o),C.oR.error("Failed to update attachments in DB. Please try again.")}})(t)),D&&W(),U((e=>!e)),C.oR.success(`Job ${H?"updated":"created"} successfully`),P(!1),lt(),q.current=null},onError:e=>{q.current=null,console.error(`Error ${H?"updating":"creating"} job:`,e),C.oR.error(`Failed to ${H?"update":"create"} job. Please try again.`)}}),dt=e=>{const t={jobReference:!1,description:!1,userId:!1,type:!1,cost:!1,duration:!1,time_type:!1,start:!1,end:!1,projectId:!1},s={};if(oe?s.short_description=oe:t.jobReference=!0,ne&&(s.long_description=ne),re?re&&"0"!=re&&(s.worker=re):t.userId=!0,Ue?s.type=Ue:t.type=!0,"2"!==Ue||Me?s.cost=Me:t.cost=!0,Ve&&"0.0"!=Ve?Ve&&(s.duration=+Ve):t.duration=!0,He?s.time_type=He:t.time_type=!0,Ge?s.start_date=new Date(Ge).toISOString():t.start=!0,"1"===He||ze?ze&&(s.end_date=new Date(ze).toISOString()):t.end=!0,"1"!==He||"3"!==Ue||Ke){if("1"===He&&"3"===Ue&&Ke){const e=Math.ceil(Ve/Ke);s.end_date=new Date(new Date(Ge).getTime()+24*e*60*60*1e3).toISOString()}}else t.dayShiftHours=!0;if(xe){var o;const e=null===ot||void 0===ot||null===(o=ot.data)||void 0===o?void 0:o.find((e=>e.id===xe));e&&(s.project=e.unique_id)}Ee&&(s.project_photos=Ee),s.published=e,q.current=e,Ye(t),Object.values(t).includes(!0)||it.mutate(s)},ct=(0,o.useCallback)((e=>{var t,s;let o=null===st||void 0===st||null===(t=st.data)||void 0===t||null===(s=t.users)||void 0===s?void 0:s.find((t=>t.id===e)),a={7:"WEEK",14:"TWO_WEEKS",28:"FOUR_WEEKS",1:"MONTH"};o&&ce({hourlyRate:parseFloat((null===o||void 0===o?void 0:o.hourly_rate)||0).toFixed(2),paymentCycle:a[null===o||void 0===o?void 0:o.payment_cycle]||"",image:(null===o||void 0===o?void 0:o.photo)||"",has_photo:null===o||void 0===o?void 0:o.has_photo,name:`${o.first_name} ${o.last_name}`})}),[null===st||void 0===st||null===(t=st.data)||void 0===t?void 0:t.users]);return(0,o.useEffect)((()=>{I&&(ie(+I||"0"),ct(+I||""))}),[I,ct]),(0,o.useEffect)((()=>{O&&ve(O)}),[O]),(0,o.useEffect)((()=>{if(H&&D&&null!==ot&&void 0!==ot&&ot.data){if(ae(D.short_description||""),le(D.long_description||""),D.worker?(ie(D.worker.id),ct(D.worker.id)):ie("0"),D.project){var e;const t=null===ot||void 0===ot||null===(e=ot.data)||void 0===e?void 0:e.find((e=>e.unique_id===D.project.unique_id));ve((null===t||void 0===t?void 0:t.id)||"")}if(Ie(D.type||"2"),Oe(D.cost||0),De(D.time_type||""),Ze(D.duration||""),D.start_date){const e=new Date(1e3*+D.start_date);qe(e)}if(D.end_date){const e=new Date(1e3*+D.end_date);Je(e)}if("1"===D.time_type&&"3"===D.type){const e=new Date(1e3*+D.start_date),t=new Date(1e3*+D.end_date),s=Math.ceil((t-e)/864e5);Qe(parseFloat(s).toFixed(2))}Le(D.project_photos||"3"),D.attachments&&D.attachments.length>0&&Te(D.attachments.map((e=>({name:e.name,size:e.size,url:e.link,progress:100,isExisting:!0}))))}}),[H,D,ct,null===ot||void 0===ot?void 0:ot.data]),(0,o.useEffect)((()=>{if(null!==st&&void 0!==st&&st.data&&re&&("1"===He&&"2"===Ue||"T"===He&&"4"===Ue)){var e;const t=null===st||void 0===st||null===(e=st.data)||void 0===e?void 0:e.users.find((e=>e.id===re));if(t){let e=Me/(null===t||void 0===t?void 0:t.hourly_rate);Ze(parseFloat(e).toFixed(2))}}}),[Me,null===st||void 0===st?void 0:st.data,re,He,Ue]),(0,T.jsx)(S.B,{visible:s,position:"right",onHide:()=>{P(!1),lt()},modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{var t,s,o,h,u;let{closeIconRef:p,hide:x}=e;return(0,T.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,T.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"12px"},children:[(0,T.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[!H&&(0,T.jsx)("div",{style:{position:"relative",textAlign:"start"},children:(0,T.jsx)(f.m,{options:et&&(null===(t=et.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:`${e.name}`}))))||[],className:(0,v.A)(F.dropdownSelect,"dropdown-height-fixed","outline-none"),style:{height:"44px",width:"606px"},placeholder:"Select template",onChange:e=>{K(e.value)},value:Z,loading:null===et||void 0===et?void 0:et.isFetching,filter:!0,filterInputAutoFocus:!0})}),H&&(0,T.jsxs)("h2",{className:"mb-0",style:{fontSize:"18px",fontWeight:"500"},children:["Edit Job #",M]})]}),(0,T.jsx)("span",{children:(0,T.jsx)(a.A,{type:"button",className:"text-button",ref:p,onClick:e=>x(e),children:(0,T.jsx)(i.A,{size:24,color:"#667085"})})})]}),(0,T.jsxs)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 68px - 80px)",overflow:"auto"},children:[(0,T.jsxs)(n.A,{className:(0,v.A)(F.border,"mb-3"),children:[(0,T.jsxs)(n.A.Body,{className:(0,v.A)("d-flex justify-content-between align-items-center",F.borderBottom),children:[(0,T.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Job Details"}),(0,T.jsx)("div",{className:(0,v.A)(F.newJobTag,"mb-0"),children:H?"Edit Job":"New Job"})]}),(0,T.jsxs)(n.A.Header,{className:(0,v.A)(F.background,"border-0"),children:[(0,T.jsxs)("div",{className:"form-group mb-3",children:[(0,T.jsxs)("label",{className:(0,v.A)(F.customLabel),children:["Job Reference",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)("div",{style:{position:"relative"},children:(0,T.jsxs)(j.C,{children:[(0,T.jsx)(b.m,{children:(null===tt||void 0===tt?void 0:tt.isFetching)&&(0,T.jsx)(N.p,{style:{width:"20px",height:"20px",position:"relative",top:"-5px"}})}),(0,T.jsx)(y.S,{value:oe,className:(0,v.A)(F.inputBox,"w-100"),onChange:e=>{const t=e.target.value;t.length<=50&&(ae(t),t&&Ye((e=>({...e,jobReference:!1}))))},maxLength:50,placeholder:"Enter job reference"})]})}),(0,T.jsxs)("div",{className:"d-flex justify-content-between",children:[(null===Xe||void 0===Xe?void 0:Xe.jobReference)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Job reference is required"}),(0,T.jsxs)("small",{className:"text-muted ms-auto",children:[oe.length,"/50"]})]})]}),(0,T.jsxs)("div",{className:"form-group mb-3",children:[(0,T.jsx)("label",{className:(0,v.A)(F.customLabel),children:"Job Description"}),(0,T.jsx)("div",{style:{position:"relative"},children:(0,T.jsxs)(j.C,{children:[(0,T.jsx)(b.m,{children:(null===tt||void 0===tt?void 0:tt.isFetching)&&(0,T.jsx)(N.p,{style:{width:"20px",height:"20px",position:"relative",top:"-5px"}})}),(0,T.jsx)(w.Z,{value:ne,className:(0,v.A)(F.inputBox,"w-100 outline-none"),onChange:e=>{le(e.target.value),e.target.value&&Ye((e=>({...e,description:!1})))},style:{height:"126px"},placeholder:"Enter a description..."})]})}),(null===Xe||void 0===Xe?void 0:Xe.description)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Description is required"})]})]})]}),(0,T.jsx)(n.A,{className:(0,v.A)(F.border,"mb-3"),children:(0,T.jsxs)(n.A.Header,{className:(0,v.A)(F.background,"border-0 py-4"),children:[(0,T.jsxs)("h1",{className:"font-16 font-weight-light",style:{color:"#475467",fontWeight:400},children:["Assigned to",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(l.A,{children:[(0,T.jsx)(r.A,{sm:5,className:"d-flex align-items-center",children:(0,T.jsxs)("div",{style:{position:"relative",textAlign:"start"},children:[(0,T.jsx)("label",{className:(0,v.A)(F.customLabel),children:"Choose User"}),(0,T.jsx)(f.m,{options:[{value:"0",label:"Open job",image:"openJob",has_photo:!1},...(null===st||void 0===st||null===(s=st.data)||void 0===s||null===(o=s.users)||void 0===o||null===(h=o.filter((e=>"disconnected"!==e.status)))||void 0===h?void 0:h.map((e=>({value:e.id,label:`${e.first_name} ${e.last_name}`,image:null===e||void 0===e?void 0:e.photo,has_photo:null===e||void 0===e?void 0:e.has_photo}))))||[]],itemTemplate:at,className:(0,v.A)(F.dropdownSelect,"dropdown-height-fixed","outline-none"),style:{height:"44px",width:"245px"},placeholder:"Select user",onChange:e=>{ie(e.value),ct(e.value),e.value&&Ye((e=>({...e,userId:!1})))},value:re,valueTemplate:nt,loading:null===st||void 0===st?void 0:st.isFetching,scrollHeight:"350px",filter:!0,filterInputAutoFocus:!0}),(null===Xe||void 0===Xe?void 0:Xe.userId)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Worker is required"})]})}),(0,T.jsx)(r.A,{sm:7,children:re&&"0"!=re&&(0,T.jsxs)(l.A,{className:(0,v.A)(F.chooseUserBox,"flex-nowrap"),children:[(0,T.jsx)(r.A,{sm:2,className:"p-0",children:(0,T.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"62px",height:"62px",borderRadius:"50%",overflow:"hidden",border:"1px solid #dedede"},children:(0,T.jsx)(k.A,{photo:null===de||void 0===de?void 0:de.image,has_photo:null===de||void 0===de?void 0:de.has_photo,is_business:!1,size:40})})}),(0,T.jsxs)(r.A,{sm:5,className:"pe-0 ps-0",children:[(0,T.jsx)("label",{className:(0,v.A)(F.customLabel,"text-nowrap"),children:(null===de||void 0===de?void 0:de.name)||"-"}),(0,T.jsx)("div",{style:{background:"#EBF8FF",border:"1px solid #A3E0FF",borderRadius:"23px",textAlign:"center"},children:"Employee"})]}),(0,T.jsxs)(r.A,{sm:5,className:"",children:[(0,T.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,T.jsx)("div",{style:{width:"16px",height:"16px",background:"#EBF8FF",border:"1px solid #A3E0FF",borderRadius:"23px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:"$"}),(0,T.jsxs)("span",{children:[(null===de||void 0===de?void 0:de.hourlyRate)||"-"," AUD"]})]}),(0,T.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,T.jsx)("div",{style:{width:"16px",height:"16px",background:"#EBF8FF",border:"1px solid #A3E0FF",borderRadius:"23px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,T.jsx)(d.A,{color:"#158ECC",size:16})}),(0,T.jsx)("span",{children:(null===de||void 0===de?void 0:de.paymentCycle)||"-"})]})]})]})})]})]})}),(0,T.jsxs)(n.A,{className:(0,v.A)(F.border,"mb-3"),children:[(0,T.jsx)(n.A.Body,{className:(0,v.A)(F.borderBottom),children:(0,T.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Time / Money"})}),(0,T.jsx)(n.A.Header,{className:(0,v.A)(F.background,"border-0 pt-2",F.borderBottom),children:(0,T.jsxs)("div",{className:F.paymentType,children:[(0,T.jsx)("label",{className:(0,v.A)(F.lable),children:"Payment Type"}),(0,T.jsxs)("div",{className:F.paymentmain,children:[(0,T.jsxs)("div",{className:`flex align-items-center ${F.RadioButton}`,children:[(0,T.jsx)("input",{type:"radio",id:"fix",name:"paymentype",value:"2",onChange:e=>{Ie(e.target.value),"2"===e.target.value&&Ye((e=>({...e,type:!1})))},checked:"2"===Ue,className:F.customRadio}),(0,T.jsx)("label",{htmlFor:"fix",className:(0,v.A)(F.radioLabel,F.fix),children:"Fix"})]}),(0,T.jsx)("span",{children:"OR"}),(0,T.jsxs)("div",{className:`flex align-items-center ${F.RadioButton}`,children:[(0,T.jsx)("input",{type:"radio",id:"hours",name:"paymentype",value:"3",onChange:e=>{Ie(e.target.value),"3"===e.target.value&&Ye((e=>({...e,type:!1})))},checked:"3"===Ue,className:F.customRadio}),(0,T.jsx)("label",{htmlFor:"hours",className:(0,v.A)(F.radioLabel,F.hours),children:"Hours"})]}),(0,T.jsx)("span",{children:"OR"}),(0,T.jsxs)("div",{className:`flex align-items-center ${F.RadioButton}`,children:[(0,T.jsx)("input",{type:"radio",id:"timetracker",name:"paymentype",value:"4",onChange:e=>{Ie(e.target.value),"4"===e.target.value&&Ye((e=>({...e,type:!1})))},checked:"4"===Ue,className:F.customRadio}),(0,T.jsx)("label",{htmlFor:"timetracker",className:(0,v.A)(F.radioLabel,F.timetracker),children:"Time Tracker"})]})]}),(null===Xe||void 0===Xe?void 0:Xe.type)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Payment Type is required"}),"2"===Ue?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("label",{className:(0,v.A)(F.lable,"mt-4 mb-2"),children:["Payment",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(j.C,{iconPosition:"left",children:[(0,T.jsx)(b.m,{children:(0,T.jsx)("span",{style:{position:"relative",top:"-4px"},children:"$"})}),(0,T.jsx)(y.S,{value:Me,onChange:e=>{Oe(e.target.value),e.target.value&&Ye((e=>({...e,cost:!1})))},keyfilter:"num",onBlur:e=>{var t;return Oe(parseFloat((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||0).toFixed(2))},style:{paddingLeft:"28px",width:"230px"},className:(0,v.A)(F.inputBox,"outline-none"),placeholder:"20"})]}),(null===Xe||void 0===Xe?void 0:Xe.cost)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Payment is required"})]}):(0,T.jsxs)("div",{style:{width:"fit-content"},children:[(0,T.jsxs)("label",{className:(0,v.A)(F.lable,"mt-4 mb-2 d-block"),children:["3"===Ue?"Hours":"Time Estimation",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(j.C,{iconPosition:"left",children:[(0,T.jsx)(b.m,{children:(0,T.jsx)("span",{style:{position:"relative",top:"-4px"},children:"H"})}),(0,T.jsx)(y.S,{value:Ve,onChange:e=>{Ze(e.target.value),Qe(e.target.value),e.target.value&&Ye((e=>({...e,duration:!1})))},keyfilter:"num",onBlur:e=>{var t;Ze(parseFloat((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||0).toFixed(2)),Qe(parseFloat(e.target.value||0).toFixed(2))},style:{paddingLeft:"28px",width:"150px"},className:(0,v.A)(F.inputBox,"outline-none"),placeholder:"1.0"})]}),(null===Xe||void 0===Xe?void 0:Xe.duration)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"3"===Ue?"Hours is required":"Time Estimation is required"})]})]})}),(0,T.jsxs)(n.A.Header,{className:(0,v.A)(F.background,"border-0"),children:[(0,T.jsxs)("div",{className:F.paymentType,children:[(0,T.jsxs)("label",{className:(0,v.A)(F.lable),children:["Time",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)("div",{className:F.paymentmain,children:["4"!==Ue&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:`flex align-items-center ${F.RadioButton}`,children:[(0,T.jsx)("input",{type:"radio",id:"shift",name:"timetype",value:"1",onChange:e=>{De(e.target.value),"1"===e.target.value&&Ye((e=>({...e,time_type:!1})))},checked:"1"===He,className:F.customRadio}),(0,T.jsx)("label",{htmlFor:"shift",className:(0,v.A)(F.radioLabel,F.shift),children:"Shift"})]}),(0,T.jsx)("span",{children:"OR"})]}),(0,T.jsxs)("div",{className:`flex align-items-center ${F.RadioButton}`,children:[(0,T.jsx)("input",{type:"radio",id:"timeframe",name:"timetype",value:"T",onChange:e=>{De(e.target.value),"T"===e.target.value&&Ye((e=>({...e,time_type:!1})))},checked:"T"===He,className:F.customRadio}),(0,T.jsx)("label",{htmlFor:"timeframe",className:(0,v.A)(F.radioLabel,F.timeFrame),children:"Time Frame"})]})]}),(null===Xe||void 0===Xe?void 0:Xe.time_type)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Time type is required"})]}),(0,T.jsxs)("div",{className:"d-flex gap-2",children:[(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsxs)("label",{className:(0,v.A)(F.lable,"mt-4 mb-2 d-block"),children:["Starts",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(g.V,{value:Ge,onChange:e=>{qe(e.value),e.value&&Ye((e=>({...e,start:!1})))},showButtonBar:!0,placeholder:"17 Jun 2021",dateFormat:"dd M yy",locale:"en",showIcon:!0,style:{height:"46px",width:"230px",overflow:"hidden"},icon:(0,T.jsx)(d.A,{color:"#667085",size:20}),className:(0,v.A)(F.inputBox,"p-0 outline-none"),hourFormat:"24",showTime:!0}),(null===Xe||void 0===Xe?void 0:Xe.start)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Start is required"})]}),"1"!==He&&(0,T.jsxs)("div",{className:"form-group",children:[(0,T.jsxs)("label",{className:(0,v.A)(F.lable,"mt-4 mb-2 d-block"),children:["End",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(g.V,{value:ze,onChange:e=>{Je(e.value),e.value&&Ye((e=>({...e,end:!1})))},showButtonBar:!0,placeholder:"20 Jun 2021",dateFormat:"dd M yy",locale:"en",showIcon:!0,style:{height:"46px",width:"230px",overflow:"hidden"},icon:(0,T.jsx)(d.A,{color:"#667085",size:20}),className:(0,v.A)(F.inputBox,"p-0 outline-none"),hourFormat:"24",showTime:!0}),(null===Xe||void 0===Xe?void 0:Xe.end)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"End is required"})]}),"2"===Ue&&"T"!==He?(0,T.jsxs)("div",{style:{width:"fit-content"},children:[(0,T.jsxs)("label",{className:(0,v.A)(F.lable,"mt-4 mb-2 d-block"),children:["Hours",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(j.C,{iconPosition:"right",children:[(0,T.jsx)(b.m,{children:(0,T.jsx)(c.A,{color:"#667085",size:20,style:{position:"relative",top:"-5px"}})}),(0,T.jsx)(y.S,{value:Ve,onChange:e=>Ze(e.target.value),keyfilter:"num",onBlur:e=>{var t;return Ze(parseFloat((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||0).toFixed(2))},style:{paddingLeft:"12px",width:"150px"},className:(0,v.A)(F.inputBox,"outline-none"),placeholder:"1.0"})]}),(null===Xe||void 0===Xe?void 0:Xe.duration)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Hours is required"})]}):"1"===He||"1"!==He&&"4"===Ue?(0,T.jsxs)("div",{style:{width:"fit-content"},children:[(0,T.jsxs)("label",{className:(0,v.A)(F.lable,"mt-4 mb-2 d-block"),children:["Hours",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(j.C,{iconPosition:"right",children:[(0,T.jsx)(b.m,{children:(0,T.jsx)(c.A,{color:"#667085",size:20,style:{position:"relative",top:"-5px"}})}),(0,T.jsx)(y.S,{value:Ke,onChange:e=>Qe(e.target.value),keyfilter:"num",onBlur:e=>{var t;return Qe(parseFloat((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||0).toFixed(2))},style:{paddingLeft:"12px",width:"150px"},className:(0,v.A)(F.inputBox,"outline-none"),placeholder:"1.0"})]}),(null===Xe||void 0===Xe?void 0:Xe.dayShiftHours)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Hours is required"})]}):""]})]})]}),(0,T.jsxs)(n.A,{className:(0,v.A)(F.border,"mb-3"),children:[(0,T.jsx)(n.A.Body,{className:(0,v.A)(F.borderBottom),children:(0,T.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Link to Project"})}),(0,T.jsx)(n.A.Header,{className:(0,v.A)(F.background,"border-0",F.borderBottom),children:(0,T.jsxs)("div",{style:{position:"relative",textAlign:"start"},children:[(0,T.jsx)("label",{className:(0,v.A)(F.customLabel),children:"Project"}),(0,T.jsx)(f.m,{options:ot&&(null===(u=ot.data)||void 0===u?void 0:u.map((e=>({value:e.id,label:`${e.number}: ${e.reference}`}))))||[],className:(0,v.A)(F.dropdownSelect,"dropdown-height-fixed","outline-none","mb-3"),style:{height:"44px",width:"100%"},placeholder:"Select project",onChange:e=>{ve(e.value),e.value&&Ye((e=>({...e,projectId:!1})))},value:xe,loading:null===ot||void 0===ot?void 0:ot.isFetching,scrollHeight:"400px",filter:!0,filterInputAutoFocus:!0}),(null===Xe||void 0===Xe?void 0:Xe.projectId)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Project is required"})]})})]}),(0,T.jsxs)(n.A,{className:(0,v.A)(F.border,"mb-3"),children:[(0,T.jsx)(n.A.Body,{className:(0,v.A)(F.borderBottom,"cursor-pointer"),onClick:()=>X(!Q),children:(0,T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,T.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Set to repeat"}),(0,T.jsx)("button",{className:"text-button p-0",children:Q?(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),Q&&(0,T.jsxs)("div",{className:F.openTransition,children:[(0,T.jsx)(n.A.Header,{className:(0,v.A)(F.background,"border-0",F.borderBottom),children:(0,T.jsxs)("div",{className:"d-flex align-items-center gap-4 py-1",children:[(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"Weekly",name:"repeat",value:"Weekly",onChange:e=>fe(e.value),checked:"Weekly"===ge}),(0,T.jsx)("label",{htmlFor:"Weekly",className:"ms-2 cursor-pointer",children:"Weekly"})]}),(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"Monthly",name:"repeat",value:"Monthly",onChange:e=>fe(e.value),checked:"Monthly"===ge}),(0,T.jsx)("label",{htmlFor:"Monthly",className:"ms-2 cursor-pointer",children:"Monthly"})]})]})}),(0,T.jsx)(n.A.Header,{className:(0,v.A)(F.background,"border-0",F.borderBottom),children:(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)("label",{className:"mb-2",children:"Repeat on"}),"Weekly"===ge&&(0,T.jsx)("div",{className:"d-flex gap-3 align-items-center",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(((e,t)=>(0,T.jsx)("button",{onClick:()=>{be((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]))},className:(0,v.A)("outline-button",{"active-outline-button":je.includes(t)}),children:e},e)))}),"Monthly"===ge&&(0,T.jsx)("div",{className:"d-flex gap-2 align-items-center flex-wrap",children:Array.from({length:31},((e,t)=>t+1)).map((e=>(0,T.jsx)("button",{onClick:()=>{we((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},className:(0,v.A)("outline-button",{"active-outline-button":ye.includes(e)}),children:e},e)))}),(null===Xe||void 0===Xe?void 0:Xe.on)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Repeats on are required"})]})}),(0,T.jsxs)(n.A.Header,{className:(0,v.A)(F.background,"border-0",F.borderBottom),children:[(0,T.jsx)("label",{className:"mb-2",children:"Starts"}),(0,T.jsx)(g.V,{value:Ne,onChange:e=>Ae(e.value),showButtonBar:!0,placeholder:"17 Jun 2021",dateFormat:"dd M yy",locale:"en",showIcon:!0,style:{height:"46px",width:"180px",overflow:"hidden"},icon:(0,T.jsx)(d.A,{color:"#667085",size:20}),className:(0,v.A)(F.inputBox,"p-0 outline-none")}),(null===Xe||void 0===Xe?void 0:Xe.repeatStart)&&(0,T.jsx)("p",{className:"error-message mb-0",children:"Starts is required"})]}),(0,T.jsxs)(n.A.Header,{className:(0,v.A)(F.background,"border-0 d-flex",F.borderBottom),children:[(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)("label",{className:"mb-1",children:"Ends"}),(0,T.jsxs)("div",{className:"d-flex align-items-center gap-4 py-1",children:[(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"On",name:"ending",value:"On",onChange:e=>Ce(e.value),checked:"On"===ge}),(0,T.jsx)("label",{htmlFor:"On",className:"ms-2 cursor-pointer",children:"On"})]}),(0,T.jsx)(g.V,{value:Fe,onChange:e=>$e(e.value),showButtonBar:!0,placeholder:"20 Jun 2021",dateFormat:"dd M yy",locale:"en",showIcon:!0,style:{height:"46px",width:"180px",overflow:"hidden"},icon:(0,T.jsx)(d.A,{color:"#667085",size:20}),className:(0,v.A)(F.inputBox,"p-0 outline-none")}),(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"Never",name:"ending",value:"Never",onChange:e=>Ce(e.value),checked:"Never"===ge}),(0,T.jsx)("label",{htmlFor:"Never",className:"ms-2 cursor-pointer",children:"Never"})]})]})]}),(0,T.jsxs)("div",{className:"d-flex flex-column ms-3",children:[(0,T.jsx)("label",{className:"mb-1",children:"Occurrences"}),(0,T.jsx)(f.m,{options:[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7}],className:(0,v.A)(F.dropdownSelect,"dropdown-height-fixed","outline-none","mb-3"),style:{height:"44px",width:"100%"},placeholder:"Select Occurrences",onChange:e=>{ve(e.value)},value:xe,loading:null===ot||void 0===ot?void 0:ot.isFetching,filter:!0,filterInputAutoFocus:!0})]})]}),(0,T.jsxs)(n.A.Header,{className:(0,v.A)(F.background,"border-0 d-flex flex-column",F.borderBottom),children:[(0,T.jsx)("label",{className:"mb-1",children:"Set Schedule Ahead"}),(0,T.jsx)(f.m,{options:[{label:"1 Week",value:1},{label:"2 Week",value:2},{label:"3 Week",value:3},{label:"4 Week",value:4},{label:"5 Week",value:5},{label:"6 Week",value:6},{label:"7 Week",value:7}],className:(0,v.A)(F.dropdownSelect,"dropdown-height-fixed","outline-none","mb-3"),style:{height:"44px",width:"250px"},placeholder:"Select week",onChange:e=>{_e(e.value)},value:Re,filterInputAutoFocus:!0})]}),(0,T.jsxs)(n.A.Header,{className:(0,v.A)(F.background,"border-0 d-flex justify-content-between",F.borderBottom),children:[(0,T.jsx)(a.A,{className:"outline-button",children:"Cancel"}),(0,T.jsx)(a.A,{className:"outline-button active-outline-button",children:"Apply"})]})]})]}),(0,T.jsxs)(n.A,{className:(0,v.A)(F.border,"mb-3"),children:[(0,T.jsx)(n.A.Body,{className:(0,v.A)(F.borderBottom,"cursor-pointer"),onClick:()=>se(!te),children:(0,T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,T.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Project Photos"}),(0,T.jsx)("button",{className:"text-button p-0",children:te?(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),te&&(0,T.jsx)(n.A.Header,{className:(0,v.A)(F.background,"border-0 d-flex justify-content-between",F.borderBottom),children:(0,T.jsxs)("div",{className:"d-flex align-items-center gap-4 py-1",children:[(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"None",name:"projectPhotoDeliver",value:"",onChange:e=>Le(e.value),checked:""==Ee}),(0,T.jsx)("label",{htmlFor:"None",className:"ms-2 cursor-pointer",children:"None"})]}),(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"Before and After",name:"projectPhotoDeliver",value:"1",onChange:e=>Le(e.value),checked:"1"==Ee}),(0,T.jsx)("label",{htmlFor:"Before and After",className:"ms-2 cursor-pointer",children:"Before and After"})]}),(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"After",name:"projectPhotoDeliver",value:"2",onChange:e=>Le(e.value),checked:"2"===Ee}),(0,T.jsx)("label",{htmlFor:"After",className:"ms-2 cursor-pointer",children:"Photos Of the Process"})]}),(0,T.jsxs)("div",{className:"flex align-items-center",children:[(0,T.jsx)(A.a,{inputId:"All",name:"projectPhotoDeliver",value:"3",onChange:e=>Le(e.value),checked:"3"==Ee}),(0,T.jsx)("label",{htmlFor:"All",className:"ms-2 cursor-pointer",children:"All"})]})]})})]}),(0,T.jsxs)(n.A,{className:(0,v.A)(F.border,"mb-3"),children:[(0,T.jsx)(n.A.Body,{className:(0,v.A)(F.borderBottom,"cursor-pointer"),onClick:()=>ee(!Y),children:(0,T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,T.jsx)("h1",{className:"font-16 mb-0 font-weight-light",style:{color:"#475467",fontWeight:400},children:"Attachments"}),(0,T.jsx)("button",{className:"text-button p-0",children:Y?(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 7.35355C13.1583 7.54882 12.8417 7.54882 12.6464 7.35355L7 1.70711L1.35355 7.35355C1.15829 7.54881 0.841709 7.54881 0.646446 7.35355C0.451184 7.15829 0.451184 6.84171 0.646446 6.64645L6.64645 0.646446C6.84171 0.451184 7.15829 0.451184 7.35355 0.646446L13.3536 6.64645C13.5488 6.84171 13.5488 7.15829 13.3536 7.35355Z",fill:"#344054"})}):(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.64645 4.64645C1.84171 4.45118 2.15829 4.45118 2.35355 4.64645L8 10.2929L13.6464 4.64645C13.8417 4.45118 14.1583 4.45118 14.3536 4.64645C14.5488 4.84171 14.5488 5.15829 14.3536 5.35355L8.35355 11.3536C8.15829 11.5488 7.84171 11.5488 7.64645 11.3536L1.64645 5.35355C1.45118 5.15829 1.45118 4.84171 1.64645 4.64645Z",fill:"#344054"})})})]})}),Y&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(n.A.Header,{className:(0,v.A)(F.background,"border-0 d-flex justify-content-between"),children:(0,T.jsxs)("div",{...Be({className:"dropzone d-flex justify-content-center align-items-center flex-column"}),style:{width:"100%",height:"126px",background:"#fff",borderRadius:"4px",border:"1px solid #EAECF0",marginTop:"16px"},children:[(0,T.jsx)("input",{...Pe()}),(0,T.jsx)("button",{type:"button",className:"d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px",border:"1px solid #EAECF0",background:"#fff",borderRadius:"8px",marginBottom:"16px"},children:(0,T.jsx)(m.A,{})}),(0,T.jsxs)("p",{className:"mb-0",style:{color:"#475467",fontSize:"14px"},children:[(0,T.jsx)("span",{style:{color:"#106B99",fontWeight:"600"},children:"Click to upload"})," or drag and drop"]}),(0,T.jsx)("span",{style:{color:"#475467",fontSize:"12px"},children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})}),(0,T.jsx)(n.A.Header,{className:(0,v.A)(F.background,"border-0 d-flex flex-column",F.borderBottom),children:(0,T.jsx)("div",{className:"d-flex flex-column gap-3",children:null===ke||void 0===ke?void 0:ke.map(((e,t)=>(0,T.jsxs)("div",{className:F.fileBox,children:[B(e.type),(0,T.jsxs)("div",{className:F.fileNameBox,children:[(0,T.jsx)("p",{className:"mb-0",children:(null===e||void 0===e?void 0:e.name)||""}),(0,T.jsxs)("p",{className:"mb-0",children:[parseFloat((null===e||void 0===e?void 0:e.size)/1024).toFixed(2)," KB",e.error?(0,T.jsx)("span",{style:{color:"#F04438"},children:" - Upload failed"}):` - ${parseInt(null===e||void 0===e?void 0:e.progress)||0}% uploaded`]}),e.errorMessage&&(0,T.jsx)("p",{className:"mb-0",style:{color:"#F04438",fontSize:"12px"},children:e.errorMessage})]}),(0,T.jsx)("div",{className:"ms-auto",children:e.error?(0,T.jsx)("div",{style:{color:"#F04438",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},children:"!"}):(0,T.jsx)(L.A,{percentage:parseInt(null===e||void 0===e?void 0:e.progress)||0,size:30,color:"#158ECC"})})]},t)))})})]})]})]}),(0,T.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,T.jsx)(a.A,{type:"button",onClick:e=>{e.stopPropagation(),P(!1)},className:"outline-button",children:"Cancel"}),(0,T.jsxs)(a.A,{type:"button",onClick:()=>dt(!1),className:"outline-button active-outline-button",disabled:null===it||void 0===it?void 0:it.isPending,children:[H?"Update Draft":"Save Draft",(null===it||void 0===it?void 0:it.isPending)&&!q.current&&(0,T.jsx)(N.p,{style:{width:"20px",height:"20px",color:"#fff"}})]}),(0,T.jsxs)(a.A,{type:"button",onClick:()=>dt(!0),className:"solid-button",style:{minWidth:"75px"},disabled:null===it||void 0===it?void 0:it.isPending,children:[H?"Update and Publish":"Save and Publish",(null===it||void 0===it?void 0:it.isPending)&&q.current&&(0,T.jsx)(N.p,{style:{width:"20px",height:"20px",color:"#fff"}})]})]})]})}})}},14834:(e,t,s)=>{function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=parseFloat(e);return isNaN(s)?"0.00":t&&Math.abs(s)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(s):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}s.d(t,{m:()=>o})},31342:(e,t,s)=>{s.d(t,{f:()=>o});const o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{method:o="GET",headers:a={},body:n}=t,l=localStorage.getItem("access_token"),r=n instanceof FormData,i={"Content-Type":r?"multipart/form-data":"application/json",...a};s&&(i.Authorization=`Bearer ${l}`);const d={method:o,headers:i,body:r?n:JSON.stringify(n),redirect:"follow"};try{const t=new URL(e),s=await fetch(t,d),o=s.headers.get("Content-Type");if(!s.ok){var c;let e=null;e=o&&o.includes("application/json")?await s.json():await s.text(),401===s.status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/login"));const t=new Error((null===(c=e)||void 0===c?void 0:c.message)||`HTTP error! Status: ${s.status}`);throw t.status=s.status,t.data=e,t}if(o&&o.includes("application/json"))return await s.json();return{message:"Non-JSON response",body:await s.text()}}catch(m){throw console.error("Fetch API error:",m),m}}},33296:(e,t,s)=>{s.d(t,{A:()=>a});var o=s(70579);const a=e=>{let{percentage:t,size:s=100,strokeWidth:a=4,color:n="#4CAF50",background:l="#ddd"}=e;const r=(s-a)/2,i=2*Math.PI*r,d=i-t/100*i;return(0,o.jsxs)("svg",{width:s,height:s,children:[(0,o.jsx)("circle",{cx:s/2,cy:s/2,r:r,fill:"none",stroke:l,strokeWidth:a}),(0,o.jsx)("circle",{cx:s/2,cy:s/2,r:r,fill:"none",stroke:n,strokeWidth:a,strokeDasharray:i,strokeDashoffset:d,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.3s ease"}})]})}},38391:(e,t,s)=>{s.d(t,{AO:()=>m,El:()=>l,Gj:()=>n,ax:()=>r,lh:()=>d,uP:()=>i,z8:()=>c});var o=s(31342);const a="https://dev.memate.com.au/api/v1",n=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4?arguments[4]:void 0;const r=(e-1)*t,i=new URL(`${a}/jobs/`);return i.searchParams.append("limit",t),i.searchParams.append("offset",r),s&&i.searchParams.append("search",s),n&&i.searchParams.append("ordering",n),l&&i.searchParams.append("deleted",1),i.searchParams.append("status","3,2,1,6,a"),(0,o.f)(i.toString(),{method:"GET"})},l=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/jobs/create/`);return(0,o.f)(s.toString(),t)},r=async e=>{const t=new URL(`${a}${`/jobs/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},i=async()=>{const e=new URL(`${a}/dashboard/`);return(0,o.f)(e.toString(),{method:"GET"})},d=async(e,t)=>{const s={method:"PUT",body:t},n=new URL(`${a}${`/jobs/update/${e}/`}`);return(0,o.f)(n.toString(),s)},c=async e=>{const t=new URL(`${a}${`/jobs/to-approve/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},m=async(e,t)=>{const s={method:"POST",body:t},n=new URL(`${a}${`/jobs/approve/${e}/`}`);return(0,o.f)(n.toString(),s)}},81047:(e,t,s)=>{s.d(t,{AO:()=>p,Ad:()=>w,Bz:()=>_,Hb:()=>m,IT:()=>R,Kb:()=>r,Mp:()=>y,Pf:()=>S,Rh:()=>N,SQ:()=>c,T6:()=>v,UM:()=>j,VQ:()=>$,Xm:()=>d,bd:()=>F,bj:()=>x,gY:()=>g,hS:()=>u,hx:()=>C,iS:()=>l,p4:()=>i,pJ:()=>b,rJ:()=>A,s:()=>h,sB:()=>f,tC:()=>n});var o=s(31342);const a="https://dev.memate.com.au/api/v1",n=async()=>{const e=new URL(`${a}/jobs/templates/`);return(0,o.f)(e.toString(),{method:"GET"})},l=async e=>{const t=new URL(`${a}${`/jobs/templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},r=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/jobs/templates/`);return(0,o.f)(s.toString(),t)},i=async(e,t)=>{const s={method:"PUT",body:t},n=new URL(`${a}${`/jobs/templates/${e}/`}`);return(0,o.f)(n.toString(),s)},d=async e=>{const t=new URL(`${a}${`/jobs/templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},c=async()=>{const e=new URL(`${a}/settings/templates/email-templates/`);return(0,o.f)(e.toString(),{method:"GET"})},m=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/settings/templates/email-templates/`);return(0,o.f)(s.toString(),t)},h=async(e,t)=>{const s={method:"PUT",body:t},n=new URL(`${a}${`/settings/templates/email-templates/${e}/`}`);return(0,o.f)(n.toString(),s)},u=async e=>{const t=new URL(`${a}${`/settings/templates/email-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},p=async()=>{const e=new URL(`${a}/email-signatures/`);return(0,o.f)(e.toString(),{method:"GET"})},x=async e=>{const t=new URL(`${a}${`/email-signatures/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},v=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/email-signatures/`);return(0,o.f)(s.toString(),t)},g=async(e,t)=>{const s={method:"PUT",body:t},n=new URL(`${a}${`/email-signatures/${e}/`}`);return(0,o.f)(n.toString(),s)},f=async e=>{const t=new URL(`${a}${`/email-signatures/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},j=async e=>{const t=new URL(`${a}${`/settings/email-signatures/default/${e}/`}`);return(0,o.f)(t.toString(),{method:"PUT"})},b=async()=>{const e=new URL(`${a}/sms-templates/`);return(0,o.f)(e.toString(),{method:"GET"})},y=async e=>{const t=new URL(`${a}${`/sms-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},w=async e=>{const t={method:"POST",body:e},s=new URL(`${a}/sms-templates/`);return(0,o.f)(s.toString(),t)},N=async(e,t)=>{const s={method:"PUT",body:t},n=new URL(`${a}${`/sms-templates/${e}/`}`);return(0,o.f)(n.toString(),s)},A=async e=>{const t=new URL(`${a}${`/sms-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},S=async e=>{const t=new URL(`${a}${`/proposals/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},C=async()=>{const e=new URL(`${a}/references/outgoing-email/`);return(0,o.f)(e.toString(),{method:"GET"})},F=async e=>{const t=new URL(`${a}${`/settings/templates/email-templates/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})},$=async()=>{const e=new URL(`${a}/settings/proposals/`);return(0,o.f)(e.toString(),{method:"GET"})},R=async e=>{const t=new URL(`${a}${`/settings/proposals/${e}/`}`);return(0,o.f)(t.toString(),{method:"GET"})},_=async e=>{const t=new URL(`${a}${`/settings/proposals/delete/${e}/`}`);return(0,o.f)(t.toString(),{method:"DELETE"})}},90386:(e,t,s)=>{s.d(t,{V_:()=>l,bd:()=>i,h9:()=>r,tD:()=>n});var o=s(31342);const a="https://dev.memate.com.au/api/v1",n=async()=>{const e=new URL(`${a}/team/mobile-users/`);return(0,o.f)(e.toString(),{method:"GET"})},l=async()=>{const e=new URL(`${a}/users/desktop-users/`);return(0,o.f)(e.toString(),{method:"GET"})},r=async function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e||!t||!s)return;const l=(t-1)*s,r=new URL(`${a}${`/team/mobile-users/${e}/invoices/`}`);return r.searchParams.append("limit",s),r.searchParams.append("offset",l),n&&r.searchParams.append("number",n),(0,o.f)(r.toString(),{method:"GET"})},i=async(e,t)=>{const s={method:"PUT",body:t},n=new URL(`${a}${`/team/mobile-users/${e}/`}`);return(0,o.f)(n.toString(),s)}}}]);
//# sourceMappingURL=5282.ee2fa315.chunk.js.map