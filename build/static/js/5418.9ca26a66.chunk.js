"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[5418],{54967:(e,s,r)=>{r.d(s,{A:()=>l,h:()=>o});var n=r(65043),t=r(44541),a=r(95192);const c="image-avatar_clientImg__-nnRU";var i=r(70579);const l=e=>{let{has_photo:s,photo:r,is_business:c,size:l}=e;const[o,u]=(0,n.useState)(!1),h=c?t.A:a.A;return(0,i.jsx)(i.Fragment,{children:s&&r&&!o?(0,i.jsx)("img",{src:r,alt:"client avatar",className:"w-100",onError:()=>u(!0)}):(0,i.jsx)(h,{color:"#667085",size:l})})},o=e=>{let{has_photo:s,photo:r,is_business:l}=e;const[o,u]=(0,n.useState)(!1),h=l?t.A:a.A;return(0,i.jsx)("div",{className:`d-flex justify-content-center align-items-center ${c} ${l?"":"rounded-circle"}`,style:{overflow:"hidden"},children:s&&r&&!o?(0,i.jsx)("img",{src:r,alt:"client avatar",className:"w-100",onError:()=>u(!0)}):(0,i.jsx)(h,{color:"#667085"})})}},64416:(e,s,r)=>{r.d(s,{A:()=>o});var n=r(65043),t=r(65173),a=r.n(t),c=["color","size","title","className"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}var l=(0,n.forwardRef)((function(e,s){var r=e.color,t=void 0===r?"currentColor":r,a=e.size,l=void 0===a?"1em":a,o=e.title,u=void 0===o?null:o,h=e.className,d=void 0===h?"":h,m=function(e,s){if(null==e)return{};var r,n,t=function(e,s){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(s.includes(n))continue;r[n]=e[n]}return r}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],s.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}(e,c);return n.createElement("svg",i({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:t,className:["bi","bi-card-list",d].filter(Boolean).join(" ")},m),u?n.createElement("title",null,u):null,n.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"}),n.createElement("path",{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),title:a().string,className:a().string};const o=l},93477:(e,s,r)=>{r.r(s),r.d(s,{ExistingClientsSearch:()=>A,default:()=>N});var n=r(65043),t=r(61072),a=r(78602),c=r(65975),i=r(38294),l=r(3494),o=r(36237),u=r(64416),h=r(25721),d=r(35475);function m(e,s,r){var t=this,a=(0,n.useRef)(null),c=(0,n.useRef)(0),i=(0,n.useRef)(null),l=(0,n.useRef)([]),o=(0,n.useRef)(),u=(0,n.useRef)(),h=(0,n.useRef)(e),d=(0,n.useRef)(!0);h.current=e;var m="undefined"!=typeof window,x=!s&&0!==s&&m;if("function"!=typeof e)throw new TypeError("Expected a function");s=+s||0;var p=!!(r=r||{}).leading,f=!("trailing"in r)||!!r.trailing,j="maxWait"in r,v="debounceOnServer"in r&&!!r.debounceOnServer,g=j?Math.max(+r.maxWait||0,s):null;(0,n.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var w=(0,n.useMemo)((function(){var e=function(e){var s=l.current,r=o.current;return l.current=o.current=null,c.current=e,u.current=h.current.apply(r,s)},r=function(e,s){x&&cancelAnimationFrame(i.current),i.current=x?requestAnimationFrame(e):setTimeout(e,s)},n=function(e){if(!d.current)return!1;var r=e-a.current;return!a.current||r>=s||r<0||j&&e-c.current>=g},w=function(s){return i.current=null,f&&l.current?e(s):(l.current=o.current=null,u.current)},y=function e(){var t=Date.now();if(n(t))return w(t);if(d.current){var i=s-(t-a.current),l=j?Math.min(i,g-(t-c.current)):i;r(e,l)}},b=function(){if(m||v){var h=Date.now(),x=n(h);if(l.current=[].slice.call(arguments),o.current=t,a.current=h,x){if(!i.current&&d.current)return c.current=a.current,r(y,s),p?e(a.current):u.current;if(j)return r(y,s),e(a.current)}return i.current||r(y,s),u.current}};return b.cancel=function(){i.current&&(x?cancelAnimationFrame(i.current):clearTimeout(i.current)),c.current=0,l.current=a.current=o.current=i.current=null},b.isPending=function(){return!!i.current},b.flush=function(){return i.current?w(Date.now()):u.current},b}),[p,j,s,g,f,x,m,v]);return w}function x(e,s){return e===s}function p(e,s,r){var t=r&&r.equalityFn||x,a=(0,n.useRef)(e),c=(0,n.useState)({})[1],i=m((0,n.useCallback)((function(e){a.current=e,c({})}),[c]),s,r),l=(0,n.useRef)(e);return t(l.current,e)||(i(e),l.current=e),[a.current,i]}const f="https://dev.memate.com.au/api/v1",j=async(e,s,r)=>{const n=new Headers,t=localStorage.getItem("access_token");n.append("Authorization",`Bearer ${t}`),n.append("Content-Type","application/json");const a={method:"GET",headers:n,redirect:"follow"};try{const n=new URL(`${f}/clients`);n.searchParams.append("limit",e),n.searchParams.append("offset",s),r&&n.searchParams.append("name",r);const t=await fetch(n,a);return await t.json()}catch(c){throw console.error(c),c}};var v=r(48417);const g=r.p+"static/media/nodata.1f066de0dd0d7036f545.png",w=r.p+"static/media/nodataBg.d4aafd78fd6f37fd2b34.png";var y=r(54967),b=r(70579);const A=()=>{const{trialHeight:e}=(0,v.$)(),[s,r]=(0,n.useState)(""),[i]=p(s,500),[l,o]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),[x,f]=(0,n.useState)(!1),[A,N]=(0,n.useState)(0),S=(0,n.useRef)(null),C=(0,n.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(!0);try{const s=25,r=e?0:A*s,n=(await j(s,r,i.toLowerCase())).results;e?(o(n),N(1)):(o((e=>{const s=new Set(e.map((e=>e.id))),r=n.filter((e=>!s.has(e.id)));return[...e,...r]})),N((e=>e+1))),n.length<s&&m(!1)}catch(s){console.error("Error fetching items:",s)}finally{f(!1)}}),[A,i]),E=e=>{e[0].isIntersecting&&u&&!x&&C()};return(0,n.useEffect)((()=>{const e=new IntersectionObserver(E);return S.current&&e.observe(S.current),()=>{S.current&&e.unobserve(S.current)}}),[E]),(0,n.useEffect)((()=>{C(!0)}),[i]),(0,b.jsx)("div",{className:"existingClients py-0",children:(0,b.jsx)("div",{style:{height:`calc(100vh - 385px - ${e}px)`},children:(0,b.jsx)("div",{className:"newQuoteContent",style:{height:"100%"},children:(0,b.jsxs)("div",{className:"h-100 mt-0",children:[(0,b.jsx)("div",{className:"search-header",children:(0,b.jsxs)("div",{className:"searchGroupFilter d-flex align-items-center",style:{gap:"10px"},children:[(0,b.jsx)(h.A,{color:"#98A2B3",size:20}),(0,b.jsx)("input",{id:"search-box",placeholder:"Search",value:s,className:"pl-2",onChange:e=>r(e.target.value)})]})}),(0,b.jsx)("div",{className:"mt-2 h-100",children:(0,b.jsxs)("ul",{className:"client customscrollBar",children:[l&&l.map((e=>(0,b.jsx)("li",{children:(0,b.jsxs)(d.N_,{to:(e.is_business,`/sales/newquote/selectyourclient/client-information/scope-of-work/${e.id}`),className:"d-flex align-items-center w-100",children:[(0,b.jsx)(y.h,{has_photo:e.has_photo,photo:e.photo,is_business:e.is_business}),(0,b.jsx)("span",{className:"name",children:e.name})]})},e.id))),(0,b.jsx)("div",{className:"rowBorderHide targetObserver",children:(0,b.jsx)("div",{className:"targetObserver px-3",ref:S,children:x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(t.A,{children:[(0,b.jsx)(a.A,{sm:1,children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,b.jsx)(a.A,{sm:11,className:"ps-0",children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]}),(0,b.jsxs)(t.A,{children:[(0,b.jsx)(a.A,{sm:1,children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,b.jsx)(a.A,{sm:11,className:"ps-0",children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]})]})})}),!x&&(!l||0===l.length)&&(0,b.jsxs)("div",{className:"no-search",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundImage:`url(${w})`},children:[(0,b.jsx)("img",{src:g,alt:"no-data",style:{width:"332px"}}),(0,b.jsx)("h1",{children:"There is no results"}),(0,b.jsx)("p",{children:"The user you are looking for doesn't exist."})]})]})})]})})})})},N=()=>{const{trialHeight:e}=(0,v.$)(),[s,r]=(0,n.useState)(""),[m]=p(s,500),[x,f]=(0,n.useState)([]),[A,N]=(0,n.useState)(!0),[S,C]=(0,n.useState)(!1),[E,_]=(0,n.useState)(0),k=(0,n.useRef)(null),O=(0,n.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C(!0);try{const s=25,r=e?0:E*s,n=(await j(s,r,m.toLowerCase())).results;e?(f(n),_(1)):(f((e=>{const s=new Set(e.map((e=>e.id))),r=n.filter((e=>!s.has(e.id)));return[...e,...r]})),_((e=>e+1))),n.length<s&&N(!1)}catch(s){console.error("Error fetching items:",s)}finally{C(!1)}}),[E,m]),R=e=>{e[0].isIntersecting&&A&&!S&&O()};return(0,n.useEffect)((()=>{const e=new IntersectionObserver(R);return k.current&&e.observe(k.current),()=>{k.current&&e.unobserve(k.current)}}),[R]),(0,n.useEffect)((()=>{O(!0)}),[m]),(0,b.jsx)("div",{className:"newQuotePage existingClients overflowScroll",children:(0,b.jsxs)("div",{style:{height:`calc(100vh - 249px - ${e}px)`},children:[(0,b.jsx)("div",{className:"newQuoteBack",children:(0,b.jsx)(d.k2,{to:"/sales/newquote/selectyourclient",children:(0,b.jsxs)("button",{children:[(0,b.jsx)(i.A,{color:"#000000",size:20})," \xa0\xa0Go Back"]})})}),(0,b.jsxs)("div",{className:"newQuoteContent",style:{height:"100%"},children:[(0,b.jsx)("div",{className:"navStepClient",children:(0,b.jsxs)("ul",{children:[(0,b.jsxs)("li",{className:"activeClientTab",children:[(0,b.jsx)("span",{children:(0,b.jsx)(l.A,{color:"#D0D5DD",size:15})})," ",(0,b.jsx)("p",{children:"Choose Client"})]}),(0,b.jsxs)("li",{className:"deactiveColorBox",children:[(0,b.jsx)("span",{children:(0,b.jsx)(o.A,{color:"#A3E0FF",size:15})})," ",(0,b.jsx)("p",{children:"Client Information"})," "]}),(0,b.jsxs)("li",{className:"deactiveColorBox",children:[(0,b.jsx)("span",{children:(0,b.jsx)(u.A,{color:"#A3E0FF",size:15})})," ",(0,b.jsx)("p",{children:"Scope of Work"})," "]})]})}),(0,b.jsxs)("div",{className:"mt-4 h-100",children:[(0,b.jsx)("div",{className:"search-header",children:(0,b.jsxs)("div",{className:"searchGroupFilter d-flex align-items-center",style:{gap:"10px"},children:[(0,b.jsx)(h.A,{color:"#98A2B3",size:20}),(0,b.jsx)("input",{id:"search-box",placeholder:"Search",value:s,className:"pl-2",onChange:e=>r(e.target.value)})]})}),(0,b.jsx)("div",{className:"mt-4 h-100",children:(0,b.jsxs)("ul",{className:"client customscrollBar",children:[x&&x.map((e=>(0,b.jsx)("li",{children:(0,b.jsxs)(d.N_,{to:(e.is_business,`/sales/newquote/selectyourclient/client-information/scope-of-work/${e.id}`),className:"d-flex align-items-center w-100",children:[(0,b.jsx)(y.h,{has_photo:e.has_photo,photo:e.photo,is_business:e.is_business}),(0,b.jsx)("span",{className:"name",children:e.name})]})},e.id))),(0,b.jsx)("div",{className:"rowBorderHide targetObserver",children:(0,b.jsx)("div",{className:"targetObserver px-3",ref:k,children:S&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(t.A,{children:[(0,b.jsx)(a.A,{sm:1,children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,b.jsx)(a.A,{sm:11,className:"ps-0",children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]}),(0,b.jsxs)(t.A,{children:[(0,b.jsx)(a.A,{sm:1,children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})}),(0,b.jsx)(a.A,{sm:11,className:"ps-0",children:(0,b.jsx)(c.A,{as:"p",animation:"wave",className:"mb-4",children:(0,b.jsx)(c.A,{xs:12,bg:"secondary",style:{height:"30px"}})})})]})]})})}),!S&&(!x||0===x.length)&&(0,b.jsxs)("div",{className:"no-search",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundImage:`url(${w})`},children:[(0,b.jsx)("img",{src:g,alt:"no-data",style:{width:"332px"}}),(0,b.jsx)("h1",{children:"There is no results"}),(0,b.jsx)("p",{children:"The user you are looking for doesn't exist."})]})]})})]})]})]})})}}}]);
//# sourceMappingURL=5418.9ca26a66.chunk.js.map