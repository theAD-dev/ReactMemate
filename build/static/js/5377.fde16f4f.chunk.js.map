{"version":3,"file":"static/js/5377.fde16f4f.chunk.js","mappings":"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","sources":["shared/lib/format-aud.js","APIs/CalApi.js","components/Business/shared/utils/helper.js","APIs/base-api.js","webpack://memateapp/./src/ui/image-with-fallback/image-avatar.module.scss?81d4","ui/image-with-fallback/image-avatar.jsx","APIs/ClientsApi.js","APIs/email-template.js","components/Business/Pages/sales/new-request/department-quote/department-quote-table-row-loading.js","components/Business/Pages/sales/new-request/department-quote/select-component.js","webpack://memateapp/./src/components/Business/features/sales-features/merges-calculation/create-merge-calculation/create-merge-calculation.module.scss?7822","components/Business/features/sales-features/merges-calculation/create-merge-calculation/index.js","webpack://memateapp/./src/components/Business/features/sales-features/merges-calculation/list-merge-calculations/list-merge-calculation.module.scss?7117","components/Business/features/sales-features/merges-calculation/delete-merge-calculation/index.js","webpack://memateapp/./src/components/Business/features/sales-features/merges-calculation/edit-merge-calculation/edit-merge-calculation.module.scss?eb01","components/Business/features/sales-features/merges-calculation/edit-merge-calculation/index.js","components/Business/features/sales-features/merges-calculation/view-merge-calculation/index.js","components/Business/features/sales-features/merges-calculation/list-merge-calculations/index.js","components/Business/Pages/sales/new-request/department-quote/department-calculation-table.js","components/Business/Pages/sales/new-request/department-quote/quote-to-business.js","components/Business/Pages/sales/new-request/department-quote/quote-to-client.js","components/Business/Pages/sales/new-request/ui/custom-radio-button.js","components/Business/Pages/sales/new-request/department-quote/index.js","webpack://memateapp/./src/components/Business/features/sales-features/create-proposal/create-proposal.module.scss?17ba","webpack://memateapp/./src/components/Business/features/sales-features/create-proposal/file-uploader/file-uploader.module.scss?611f","components/Business/features/sales-features/create-proposal/file-uploader/utils.js","components/Business/features/sales-features/create-proposal/file-uploader/file-uploader.js","webpack://memateapp/./src/ui/send-proposal/send-proposal-email.module.scss?e126","ui/send-proposal/send-proposal-email-form.jsx","components/Business/features/sales-features/send-proposal/send-proposal.jsx","components/Business/features/sales-features/create-proposal/create-proposal.js","webpack://memateapp/./src/ui/send-email/send-email.module.scss?c792","ui/send-email/send-email-form.jsx","components/Business/features/sales-features/send-quote/send-quote.jsx","components/Business/Pages/sales/new-request/calculate-quote.js"],"sourcesContent":["export function formatAUD(amount, shorten = false) {\n    const num = parseFloat(amount);\n\n    if (isNaN(num)) {\n        return \"0.00\";\n    }\n\n    if (shorten && Math.abs(num) >= 1000.00) {\n        return new Intl.NumberFormat('en-AU', {\n            notation: \"compact\",\n            compactDisplay: \"short\",\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n        }).format(num);\n    }\n\n    return new Intl.NumberFormat('en-AU', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n    }).format(num);\n}","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getDepartments = async (all) => {\n  const endpoint = `/references/calc-indexes/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  if (all === 1) url.searchParams.append('all', 1);\n\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getCalculationByReferenceId = async (id) => {\n  const endpoint = `/references/calculators/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  const result = await fetchAPI(url.toString(), options);\n  return Array.isArray(result)\n    ? result.filter(item => !item.deleted)\n    : result && !result.deleted ? result : null;\n};\n\nexport const getQuoteByUniqueId = async (unique_id) => {\n  const endpoint = `/projects/${unique_id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createNewCalculationQuoteRequest = async (data) => {\n  const endpoint = '/sales/new-request/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateNewCalculationQuoteRequest = async (unique_id, data) => {\n  if (!unique_id) throw new Error(\"No id found\");\n\n  const endpoint = `/sales/projects/${unique_id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createNewMergeQuote = async (data) => {\n  const endpoint = '/projects/merges/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteMergeQuote = async (id) => {\n  const endpoint = `/projects/merges/${id}/delete/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getMergeItemsByUniqueId = async (unique_id) => {\n  const endpoint = `/projects/merges/${unique_id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createDepartment = async (data) => {\n  const endpoint = '/settings/departments/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateDepartment = async (id, data) => {\n  if (!id) return;\n\n  const endpoint = `/settings/departments/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createSubDepartment = async (data) => {\n  const endpoint = '/settings/sub-departments/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateSubDepartment = async (id, data) => {\n  if (!id) return;\n\n  const endpoint = `/settings/sub-departments/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createCalculator = async (index, data) => {\n  const endpoint = `/references/calculators/${index}/new/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateCalculator = async (index, id, data) => {\n  const endpoint = `/references/calculators/${index}/update/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteSettingCalculator = async (endpoint) => {\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createQuoteProposal = async (id, data) => {\n  const endpoint = `/proposals/new/${id}/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","export function adjustColor(color, amount) {\n  if (!color) return;\n  let usePound = false;\n\n  if (color[0] === \"#\") {\n    color = color.slice(1);\n    usePound = true;\n  }\n\n  let num = parseInt(color, 16);\n\n  let r = (num >> 16) + amount;\n  let g = ((num >> 8) & 0x00ff) + amount;\n  let b = (num & 0x0000ff) + amount;\n\n  return (\n    (usePound ? \"#\" : \"\") +\n    (r > 255 ? 255 : r < 0 ? 0 : r).toString(16).padStart(2, \"0\") +\n    (g > 255 ? 255 : g < 0 ? 0 : g).toString(16).padStart(2, \"0\") +\n    (b > 255 ? 255 : b < 0 ? 0 : b).toString(16).padStart(2, \"0\")\n  );\n}\n\nexport function romanize(num) {\n  var lookup = { M: 1000, CM: 900, D: 500, CD: 400, C: 100, XC: 90, L: 50, XL: 40, X: 10, IX: 9, V: 5, IV: 4, I: 1 }, roman = '', i;\n  for (i in lookup) {\n    while (num >= lookup[i]) {\n      roman += i;\n      num -= lookup[i];\n    }\n  }\n  return roman;\n}\n\nexport function formatMoney(number) {\n  return number.toLocaleString('en-US', { style: 'currency', currency: 'USD' });\n}\n\n\nexport const dateFormat = (dateInMiliSec, isDotformate) => {\n  if (!dateInMiliSec) return \"-\";\n\n  const options = { year: 'numeric', month: 'short', day: 'numeric' };\n  const date = new Date(1000 * +dateInMiliSec);\n\n  if(isDotformate) {\n    const dotFormattedDate = date.toLocaleDateString('en-GB', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    }).replace(/\\//g, '.');\n    return dotFormattedDate;\n  }\n\n  const formattedDate = date.toLocaleDateString('en-US', options)?.replace(/,/g, '');\n  return formattedDate;\n};","/**\n * A generic fetch function to make API calls.\n * @param {string} endpoint - The API endpoint to call.\n * @param {object} options - The fetch options including method, headers, and body.\n * @returns {Promise<any>} - The JSON response from the API.\n */\nexport const fetchAPI = async (endpoint, options = {}, isRequiredLoggedin = true) => {\n    const { method = 'GET', headers = {}, body } = options;\n    const accessToken = localStorage.getItem(\"access_token\");\n    const isFormData = body instanceof FormData;\n\n    const defaultHeaders = {\n        'Content-Type': isFormData ? 'multipart/form-data' : 'application/json',\n        ...headers\n    };\n\n    if (isRequiredLoggedin) {\n        defaultHeaders['Authorization'] = `Bearer ${accessToken}`;\n    }\n\n    const requestOptions = {\n        method,\n        headers: defaultHeaders,\n        body: isFormData ? body : JSON.stringify(body),\n        redirect: 'follow'\n    };\n\n    try {\n        const url = new URL(endpoint);\n        const response = await fetch(url, requestOptions);\n        const contentType = response.headers.get('Content-Type');\n\n        if (!response.ok) {\n            let errorData = null;\n\n            if (contentType && contentType.includes('application/json')) {\n                errorData = await response.json();\n            } else {\n                errorData = await response.text();\n            }\n\n            if (response.status === 401) {\n                localStorage.clear();\n                sessionStorage.clear();\n                window.location.replace(\"/login\");\n            }\n\n            const error = new Error(errorData?.message || `HTTP error! Status: ${response.status}`);\n            error.status = response.status;\n            error.data = errorData;\n            throw error;\n        }\n\n        if (contentType && contentType.includes('application/json')) {\n            return await response.json();\n        } else {\n            const text = await response.text();\n            return { message: 'Non-JSON response', body: text };\n        }\n    } catch (error) {\n        console.error('Fetch API error:', error);\n        // Rethrow to propagate to useMutation\n        throw error;\n    }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"clientImg\":\"image-avatar_clientImg__-nnRU\"};","import React, { useState } from 'react';\nimport { Building, Person } from 'react-bootstrap-icons';\nimport style from './image-avatar.module.scss';\n\nconst ImageAvatar = ({ has_photo, photo, is_business }) => {\n    const [imgError, setImgError] = useState(false);\n    const Icon = is_business ? Building : Person;\n\n    return (\n        <div className={`d-flex justify-content-center align-items-center ${style.clientImg} ${is_business ? \"\" : \"rounded-circle\"}`} style={{ overflow: 'hidden' }}>\n            {has_photo && photo && !imgError ? (\n                <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n            ) : (\n                <Icon color=\"#667085\" />\n            )}\n        </div>\n    );\n};\n\nexport const FallbackImage = ({ has_photo, photo, is_business, size }) => {\n    const [imgError, setImgError] = useState(false);\n    const Icon = is_business ? Building : Person;\n\n    return <>\n        {has_photo && photo && !imgError ? (\n            <img src={photo} alt=\"client avatar\" className=\"w-100\" onError={() => setImgError(true)} />\n        ) : (\n            <Icon color=\"#667085\" size={size}/>\n        )}\n    </>;\n};\n\nexport default ImageAvatar;\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const createNewIndividualClient = async (data) => {\n  const endpoint = '/clients/individual/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createNewBusinessClient = async (data) => {\n  const endpoint = '/clients/business/new/';\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const restoreClient = async (id) => {\n  const endpoint = `/clients/restore/${id}/`;\n  const options = {\n    method: 'POST'\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getClientById = async (id) => {\n  const endpoint = `/clients/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getClientCategories = async () => {\n  const endpoint = `/references/clients/categories/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getClientIndustries = async () => {\n  const endpoint = `/references/clients/industries/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getCountries = async () => {\n  const endpoint = `/references/countries/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const getStates = async (country) => {\n  const endpoint = `/references/states/${country}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const getCities = async (state) => {\n  const endpoint = `/references/cities/${state}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options, false);\n};\n\nexport const getProjectManager = async () => {\n  const endpoint = `/references/desktop-users/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const clientEditApi = async (id) => {\n  const endpoint = `/clients/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getListOfClients = async (page, limit, name = \"\", order = \"\", isShowDeleted) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/clients/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  url.searchParams.append(\"limit\", limit);\n  url.searchParams.append(\"offset\", offset);\n  if (name) url.searchParams.append(\"name\", name);\n  if (order) url.searchParams.append(\"ordering\", order);\n  if (isShowDeleted) url.searchParams.append('deleted', 1);\n\n  return fetchAPI(url.toString(), options);\n};\n\nexport const clientOrderHistory = async (id, page, limit, search = \"\", order = \"\",) => {\n  const offset = (page - 1) * limit;\n  const endpoint = `/clients/${id}/orders/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  url.searchParams.append(\"limit\", limit);\n  url.searchParams.append(\"offset\", offset);\n  if (search) url.searchParams.append(\"number\", search);\n  if (order) url.searchParams.append(\"ordering\", order);\n  \n  return fetchAPI(url.toString(), options);\n};\n\nexport const markeMainAddress = async (id) => {\n  const endpoint = `/clients/address/${id}/main`;\n  const options = {\n    method: 'PUT',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const markeMainContact = async (id) => {\n  const endpoint = `/clients/contact-persons/${id}/main`;\n  const options = {\n    method: 'PUT',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteClient = async (id) => {\n  const endpoint = `/clients/delete/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteContactPerson = async (id) => {\n  const endpoint = `/clients/contact-persons/${id}/delete/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteAddress = async (id) => {\n  const endpoint = `/clients/address/${id}/delete/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const fetchClients = async (limit, offset) => {\n  const myHeaders = new Headers();\n  const accessToken = localStorage.getItem(\"access_token\");\n  myHeaders.append(\"Authorization\", `Bearer ${accessToken}`);\n  myHeaders.append(\"Content-Type\", `application/json`);\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n\n  try {\n    // Append the limit and offset parameters to the URL query string\n    const url = new URL(`${API_BASE_URL}/clients`);\n    url.searchParams.append(\"limit\", limit);\n    url.searchParams.append(\"offset\", offset);\n\n    const response = await fetch(url, requestOptions);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Clients fetch error:', error);\n    throw error;\n  }\n};\n\nexport const bringBack = async (id) => {\n  const endpoint = `/projects/back/`;\n  const options = {\n    method: 'PUT',\n    body: { unique_id: id }\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n","import { fetchAPI } from \"./base-api\";\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_API_URL;\n\nexport const getJobTemplates = async () => {\n  const endpoint = `/jobs/templates/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getJobTemplate = async (id) => {\n  const endpoint = `/jobs/templates/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createJobTemplate = async (data) => {\n  const endpoint = `/jobs/templates/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateJobTemplate = async (id, data) => {\n  const endpoint = `/jobs/templates/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteJobTemplate = async (id) => {\n  const endpoint = `/jobs/templates/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getEmailTemplates = async () => {\n  const endpoint = `/settings/templates/email-templates/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createEmailTemplate = async (data) => {\n  const endpoint = `/settings/templates/email-templates/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateEmailTemplate = async (id, data) => {\n  const endpoint = `/settings/templates/email-templates/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getEmail = async (id) => {\n  const endpoint = `/settings/templates/email-templates/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getSignatureTemplates = async () => {\n  const endpoint = `/email-signatures/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getEmailSignature = async (id) => {\n  const endpoint = `/email-signatures/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createEmailSignature = async (data) => {\n  const endpoint = `/email-signatures/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateEmailSignature = async (id, data) => {\n  const endpoint = `/email-signatures/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteEmailSignature = async (id) => {\n  const endpoint = `/email-signatures/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const setDefaultEmailSignature = async (id) => {\n  const endpoint = `/settings/email-signatures/default/${id}/`;\n  const options = {\n    method: 'PUT',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getSMSTemplates = async () => {\n  const endpoint = `/sms-templates/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getSMS = async (id) => {\n  const endpoint = `/sms-templates/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createSMSTemplate = async (data) => {\n  const endpoint = `/sms-templates/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const updateSMSTemplate = async (id, data) => {\n  const endpoint = `/sms-templates/${id}/`;\n  const options = {\n    method: 'PUT',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteSMSTemplate = async (id) => {\n  const endpoint = `/sms-templates/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProposalBySalesId = async (id) => {\n  const endpoint = `/proposals/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getOutgoingEmail = async () => {\n  const endpoint = `/references/outgoing-email/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteEmailTemplates = async (id) => {\n  const endpoint = `/settings/templates/email-templates/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProposalsTemplates = async () => {\n  const endpoint = `/settings/proposals/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const getProposalsTemplate = async (id) => {\n  const endpoint = `/settings/proposals/${id}/`;\n  const options = {\n    method: 'GET',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const createProposalTemplate = async (data) => {\n  const endpoint = `/settings/proposals/new/`;\n  const options = {\n    method: 'POST',\n    body: data\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};\n\nexport const deleteProposalTemplates = async (id) => {\n  const endpoint = `/settings/proposals/delete/${id}/`;\n  const options = {\n    method: 'DELETE',\n  };\n  const url = new URL(`${API_BASE_URL}${endpoint}`);\n  return fetchAPI(url.toString(), options);\n};","import React from 'react';\nimport Placeholder from 'react-bootstrap/Placeholder';\n\nexport const DepartmentQuoteTableRowLoading = () => {\n    return (\n        <tr>\n            <td style={{ width: \"24px\" }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '64px', textAlign: 'center' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '192px', textAlign: 'center' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '600px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n\n            <td style={{ width: '128px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '185px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '118px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '166px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '83px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '118px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '32px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n        </tr>\n    );\n};\n\nexport const DepartmentRowChangeLoading = () => {\n    return (\n        <>\n            <td style={{ width: '64px', textAlign: 'center' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '192px', textAlign: 'center' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '600px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n\n            <td style={{ width: '128px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '185px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '118px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '166px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '83px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '118px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n            <td style={{ width: '32px' }}>\n                <Placeholder as=\"p\" animation=\"wave\">\n                    <Placeholder xs={12} bg=\"secondary\" />\n                </Placeholder>\n            </td>\n        </>\n    );\n};","import React from 'react';\nimport { ChevronDown } from 'react-bootstrap-icons';\nimport { Menu, MenuItem, MenuButton, SubMenu } from '@szhsin/react-menu';\nimport '@szhsin/react-menu/dist/index.css';\n\nconst SelectComponent = ({ departments, handleChange, title, keyValue }) => {\n    const handleSubMenuClick = (label, value) => {\n        handleChange(value, label, keyValue);\n    };\n\n    return (\n        <Menu\n            menuButton={\n                <MenuButton style={{\n                    width: '150px',\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    justifyContent: 'space-between',\n                    padding: '8px 0px',\n                    cursor: 'pointer',\n                    background: 'transparent',\n                    border: 'none',\n                    color: title ? '#101828' : '#98A2B3'\n                }}>\n                    <div className='ellipsis-width' title={title || \"Department\"}>\n                        {title || \"Department\"}\n                    </div>\n                    <span>\n                        <ChevronDown color=\"#98A2B3\" size={15} />\n                    </span>\n                </MenuButton>\n            }\n            overflow=\"auto\"\n            position=\"anchor\"\n            portal\n            className='departmentSelect'\n        >\n            {departments?.filter((data) => !data?.deleted)?.map((department) => (\n                <React.Fragment key={department.id}>\n                    {department?.subindexes?.length ? (\n                        <SubMenu\n                            key={department.id}\n                            label={department?.name}\n                            direction=\"right\"\n                            align=\"start\"\n                            menuStyle={{\n                                maxHeight: '500px',\n                                overflow: 'auto',\n                                textAlign: 'left'\n                            }}\n                        >\n                            {department.subindexes?.filter((data) => !data?.deleted)?.map((subitem) => (\n                                <MenuItem\n                                    key={subitem.id}\n                                    onClick={() => handleSubMenuClick(subitem?.name, subitem?.id)}\n                                >\n                                    {subitem?.name}\n                                </MenuItem>\n                            ))}\n                        </SubMenu>\n                    ) : (\n                        <MenuItem\n                            style={{ textAlign: 'left' }}\n                            key={department.id}\n                            onClick={() => handleSubMenuClick(department?.name, department?.id)}\n                        >\n                            {department?.name}\n                        </MenuItem>\n                    )}\n                </React.Fragment>\n            ))}\n        </Menu>\n    );\n};\n\nexport default SelectComponent;\n","// extracted by mini-css-extract-plugin\nexport default {\"mergeButton\":\"create-merge-calculation_mergeButton__A2lWg\",\"disabled\":\"create-merge-calculation_disabled__-KWur\",\"cancelButton\":\"create-merge-calculation_cancelButton__5g1vU\",\"deleteButton\":\"create-merge-calculation_deleteButton__AA6vR\"};","import React, { useEffect, useState } from 'react';\nimport { Button, Col, ListGroup, Modal, Row } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport clsx from 'clsx';\nimport Form from 'react-bootstrap/Form';\nimport * as yup from 'yup';\nimport style from './create-merge-calculation.module.scss';\nimport { romanize } from '../../../../shared/utils/helper';\n\n\n// Validation schema\nconst schema = yup\n  .object({\n    title: yup.string().required(\"Title is required\"),\n    description: yup.string().required(\"Description is required\"),\n  })\n  .required();\n\nconst CreateMergeCalculation = ({ selectItem, setSelectItem, merges, setMerges }) => {\n  const [show, setShow] = useState(false);\n  const romanNo = romanize((merges?.length || 0) + 1);\n  const [defaultValues,] = useState({\n    title: '',\n    description: ''\n  });\n  const { register, reset, handleSubmit, formState: { errors } } = useForm({\n    resolver: yupResolver(schema), defaultValues\n  });\n\n  useEffect(() => { reset(); }, [selectItem]);\n\n  const onSubmit = (data) => {\n    const payload = {\n      ...data,\n      alias: romanNo,\n      calculators: Object.values(selectItem)?.flat().map((value) => ({\n        key: value.key,\n        merge_id: value.merge_id,\n        calculator: value.calculator,\n        label: value.label,\n        total: value.total,\n        description: value.description\n      }))\n    };\n    setMerges((others) => ([...others, payload]));\n    handleClose();\n    setSelectItem({});\n  };\n\n  const deleteAndCancel = () => {\n    setShow(false);\n    setSelectItem({});\n  };\n  const handleClose = () => setShow(false);\n  const handleOpen = () => setShow(true);\n\n  return (\n    <React.Fragment>\n      <Button type='button' disabled={Object.keys(selectItem)?.length < 2} onClick={handleOpen} className={clsx(style.mergeButton, 'text-button', { [style.disabled]: Object.keys(selectItem)?.length < 2 })}>Merge Items</Button>\n      <Modal\n        size=\"lg\"\n        show={show}\n        centered\n        onHide={handleClose}\n        className={clsx('task-form', 'mergeForm')}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className='d-flex align-items-center'>\n            <div className='d-flex justify-content-center align-items-center' style={{ width: '36px', height: '36px', borderRadius: '50%', border: '1px solid #EAECF0', background: '#F2F4F7', color: '#344054', fontSize: '14px', fontWeight: 600 }}>\n              {romanNo}\n            </div>\n            <span className='modal-task-title'>Merge Items</span>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body className='px-0'>\n          <Form onSubmit={handleSubmit(onSubmit)}>\n            <div className='px-4' style={{ maxHeight: '450px', overflow: 'auto', }}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Task Title</Form.Label>\n                <Form.Control\n                  {...register(\"title\")}\n                  type=\"text\"\n                  placeholder=\"Merge items title\"\n                  className={`${errors.title ? 'border border-danger' : ''}`}\n                />\n                {errors.title && <Form.Text className=\"text-danger\">{errors.title.message}</Form.Text>}\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n                <Form.Label>Describe merging items</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={2}\n                  placeholder='Enter a description...'\n                  {...register(\"description\")}\n                  style={{ height: '80px', outline: 'none', boxShadow: 'none' }}\n                  className={`${errors.description ? 'border border-danger' : ''}`}\n                />\n                {errors.description && <Form.Text className=\"text-danger\">{errors.description.message}</Form.Text>}\n              </Form.Group>\n              <ListGroup variant=\"flush border rounded mb-4\" style={{ border: \"1px solid var(--Gray-100, #F2F4F7)\" }}>\n                {\n                  Object.entries(selectItem)?.map(([key, values]) =>\n                    values?.map((value) =>\n                      <ListGroup.Item key={`${key}-${value.id}`} className='d-flex justify-content-between'>\n                        <Row className='w-100'>\n                          <Col sm={4} className='text-start'>\n                            <span style={{ color: '#101828', fontSize: '16px' }}>\n                              {value?.label || \"\"}\n                            </span>\n                          </Col>\n                          <Col sm={6}>\n                            <span style={{ color: '#101828', fontSize: '16px' }}>\n                              {value?.description || \"\"}\n                            </span>\n                          </Col>\n                          <Col sm={2} className='text-end text-nowrap'>\n                            <span style={{ color: '#101828', fontSize: '16px', textAlign: 'end' }}>\n                              $ {parseFloat(value?.total).toFixed(2)}\n                            </span>\n                          </Col>\n                        </Row>\n                      </ListGroup.Item>\n                    )\n                  )\n                }\n              </ListGroup>\n            </div>\n            <Modal.Footer className='d-flex justify-content-between align-items-center'>\n              <Button type='button' onClick={deleteAndCancel} className={style.deleteButton}>\n                <Trash color='#B42318' size={18} />\n              </Button>\n              <div className='d-flex align-items-center gap-3'>\n                <Button type='button' onClick={handleClose} className='outline-button' style={{ minWidth: '67px' }}>Cancel</Button>\n                <Button type='submit' className='solid-button' style={{ minWidth: '67px' }}>Save</Button>\n              </div>\n            </Modal.Footer>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nexport default CreateMergeCalculation;","// extracted by mini-css-extract-plugin\nexport default {\"mergeListItem\":\"list-merge-calculation_mergeListItem__lMMHT\",\"mergeListSrBox\":\"list-merge-calculation_mergeListSrBox__Pg9x-\",\"divider\":\"list-merge-calculation_divider__uLh55\",\"divider2\":\"list-merge-calculation_divider2__ixjfs\"};","import React from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\nimport { useParams } from 'react-router-dom';\nimport { useMutation } from '@tanstack/react-query';\nimport { ConfirmPopup, confirmPopup } from 'primereact/confirmpopup';\nimport { toast } from 'sonner';\nimport { deleteMergeQuote } from '../../../../../../APIs/CalApi';\n\nconst DeleteMerge = ({ id, alias, refetch, setMerges }) => {\n  const { unique_id } = useParams();\n  const deleteMutation = useMutation({\n    mutationFn: () => deleteMergeQuote(id),\n    onSuccess: () => {\n      toast.success(`Merge item deleted successfully`);\n      refetch();\n    },\n    onError: (error) => {\n      console.log('error: ', error);\n      toast.error(`Failed to delete merge item. Please try again.`);\n    }\n  });\n\n  const accept = () => {\n    if (unique_id) {\n      if (!id) return toast.error(\"Id not found\");\n      deleteMutation.mutate();\n    } else {\n      setMerges((merges) => {\n        let updatedMerges = merges.filter((merge) => merge.alias !== alias);\n        return updatedMerges;\n      });\n    }\n  };\n  const reject = () => { };\n\n  const deleteMergeItem = (event) => {\n    confirmPopup({\n      target: event.currentTarget,\n      message: 'Do you want to delete this record?',\n      defaultFocus: 'reject',\n      acceptClassName: 'p-button-danger',\n      accept,\n      reject,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <ConfirmPopup />\n      {\n        deleteMutation.isPending ? (\n          <Spinner animation=\"border\" role=\"status\" size=\"sm\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        ) : <Trash onClick={deleteMergeItem} color=\"#98A2B3\" size={16} className='cursor-pointer' />\n      }\n    </React.Fragment>\n  );\n};\n\nexport default DeleteMerge;","// extracted by mini-css-extract-plugin\nexport default {\"mergeButton\":\"edit-merge-calculation_mergeButton__MJN7A\",\"disabled\":\"edit-merge-calculation_disabled__mjeA+\",\"cancelButton\":\"edit-merge-calculation_cancelButton__e50P9\",\"deleteButton\":\"edit-merge-calculation_deleteButton__5ACo9\"};","import React, { useEffect, useState } from 'react';\nimport { Button, Col, ListGroup, Modal, Row } from 'react-bootstrap';\nimport { Trash } from 'react-bootstrap-icons';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport clsx from 'clsx';\nimport Form from 'react-bootstrap/Form';\nimport * as yup from 'yup';\nimport style from './edit-merge-calculation.module.scss';\n\n\n// Validation schema\nconst schema = yup\n  .object({\n    title: yup.string().required(\"Title is required\"),\n    description: yup.string().required(\"Description is required\"),\n  })\n  .required();\n\nconst EditMergeCalculation = ({ merge, alias, setMerges, refetch, deleteMergeCalculator }) => {\n  const [show, setShow] = useState(false);\n  const romanNo = alias;\n  const [defaultValues,] = useState({\n    title: merge?.title || \"\",\n    description: merge?.description || \"\"\n  });\n  const { register, reset, handleSubmit, formState: { errors } } = useForm({\n    resolver: yupResolver(schema), defaultValues\n  });\n\n  useEffect(() => { reset(); }, [alias]);\n\n  const onSubmit = (data) => {\n    const payload = {\n      ...data,\n      alias: romanNo,\n      calculators: merge?.calculators?.map((value) => ({\n        key: value.key,\n        merge_id: value.merge_id,\n        calculator: value.calculator,\n        label: value.label,\n        total: value.total,\n        description: value.description\n      }))\n    };\n    setMerges((merges) =>\n      merges.map((item) =>\n        item.alias === romanNo ? { ...item, ...payload } : item\n      )\n    );\n    handleClose();\n  };\n\n  const deleteAndCancel = () => {\n    setShow(false);\n  };\n  const handleClose = () => setShow(false);\n  const handleOpen = () => setShow(true);\n\n  return (\n    <React.Fragment>\n      <Button type='button' onClick={handleOpen} className={clsx(style.mergeButton, 'text-button')}>Edit</Button>\n      <Modal\n        size=\"lg\"\n        show={show}\n        centered\n        onHide={handleClose}\n        className={clsx('task-form', 'mergeForm')}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className='d-flex align-items-center'>\n            <div className='d-flex justify-content-center align-items-center' style={{ width: '36px', height: '36px', borderRadius: '50%', border: '1px solid #EAECF0', background: '#F2F4F7', color: '#344054', fontSize: '14px', fontWeight: 600 }}>\n              {romanNo}\n            </div>\n            <span className='modal-task-title'>Edit Merge Items</span>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body className='px-0'>\n          <Form onSubmit={handleSubmit(onSubmit)}>\n            <div className='px-4' style={{ maxHeight: '450px', overflow: 'auto', }}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Task Title</Form.Label>\n                <Form.Control\n                  {...register(\"title\")}\n                  type=\"text\"\n                  placeholder=\"Merge items title\"\n                  className={`${errors.title ? 'border border-danger' : ''}`}\n                />\n                {errors.title && <Form.Text className=\"text-danger\">{errors.title.message}</Form.Text>}\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n                <Form.Label>Describe merging items</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={2}\n                  placeholder='Enter a description...'\n                  {...register(\"description\")}\n                  style={{ height: '80px', outline: 'none', boxShadow: 'none' }}\n                  className={`${errors.description ? 'border border-danger' : ''}`}\n                />\n                {errors.description && <Form.Text className=\"text-danger\">{errors.description.message}</Form.Text>}\n              </Form.Group>\n              <ListGroup variant=\"flush border rounded mb-4\" style={{ border: \"1px solid var(--Gray-100, #F2F4F7)\" }}>\n                {\n                  merge?.calculators?.map((value, index) =>\n                    <ListGroup.Item key={`${index}-${value.id}`} className='d-flex justify-content-between'>\n                      <Row className='w-100'>\n                        <Col sm={4} className='text-start'>\n                          <span style={{ color: '#101828', fontSize: '16px' }}>\n                            {value?.label || \"\"}\n                          </span>\n                        </Col>\n                        <Col sm={6}>\n                          <span style={{ color: '#101828', fontSize: '16px' }}>\n                            {value?.description || \"\"}\n                          </span>\n                        </Col>\n                        <Col sm={2} className='text-end text-nowrap'>\n                          <span style={{ color: '#101828', fontSize: '16px', textAlign: 'end' }}>\n                            $ {parseFloat(value?.total).toFixed(2)}\n                          </span>\n                          <Trash onClick={() => deleteMergeCalculator(value.calculator, value.key)} color='#98A2B3' size={16} className='ms-2' style={{ position: 'relative', left: '20px', cursor: 'pointer' }} />\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                  )\n                }\n              </ListGroup>\n            </div>\n            <Modal.Footer className='d-flex justify-content-between align-items-center'>\n              <Button type='button' onClick={deleteAndCancel} className={style.deleteButton}>\n                <Trash color='#B42318' size={18} />\n              </Button>\n              <div className='d-flex align-items-center gap-3'>\n                <Button type='button' onClick={handleClose} className='outline-button' style={{ minWidth: '67px' }}>Cancel</Button>\n                <Button type='submit' className='solid-button' style={{ minWidth: '67px' }}>Save</Button>\n              </div>\n            </Modal.Footer>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nexport default EditMergeCalculation;","import React from 'react';\nimport { useRef, useState } from 'react';\nimport { CloseButton, ListGroup } from 'react-bootstrap';\nimport { ControlledMenu, useClick } from '@szhsin/react-menu';\nimport '@szhsin/react-menu/dist/index.css';\n\nconst ViewMerge = ({ title, alias, items }) => {\n    const ref = useRef(null);\n    const [isOpen, setOpen] = useState(false);\n    const anchorProps = useClick(isOpen, setOpen);\n    return (\n        <React.Fragment>\n            <button type=\"button\" className=\"btn p-0 ellipsis-width\" style={{ maxWidth: '450px' }} ref={ref} {...anchorProps}>{title}</button>\n\n            <ControlledMenu\n                state={isOpen ? 'open' : 'closed'}\n                anchorRef={ref}\n                onClose={() => setOpen(false)}\n                menuStyle={{ padding: '24px 24px 20px 24px', width: '365px' }}\n            >\n                <div className='d-flex justify-content-between'>\n                    <div className='BoxNo'>\n                        <div className='no'>{alias}</div>\n                    </div>\n                    <CloseButton onClick={() => setOpen(false)}/>\n                </div>\n\n                <ListGroup variant=\"flush border\" style={{ marginTop: '16px' }}>\n                    {\n                        items?.map((data, index) =>\n                            <ListGroup.Item key={index} className='d-flex justify-content-between border-0'>\n                                <span style={{ color: '#475467', fontSize: '14px', fontWeight: 400 }}>{data?.label}</span>\n                                <span style={{ color: '#475467', fontSize: '14px', fontWeight: 600, whiteSpace: 'nowrap' }}>$ {data?.total || \"0.00\"}</span>\n                            </ListGroup.Item>\n                        )\n                    }\n                </ListGroup>\n            </ControlledMenu>\n        </React.Fragment>\n    );\n};\n\nexport default ViewMerge;","import React from 'react';\nimport clsx from 'clsx';\nimport style from './list-merge-calculation.module.scss';\nimport DeleteMerge from '../delete-merge-calculation';\nimport EditMergeCalculation from '../edit-merge-calculation';\nimport ViewMerge from '../view-merge-calculation';\n\nconst ListMergeCalculations = ({ merges, setMerges, refetch, deleteMergeCalculator }) => {\n    return (\n        <>\n            <div className={clsx('w-100', style.divider)} style={{}}></div>\n\n            {(merges?.length && <p className='mb-0' style={{ fontSize: '14px', fontWeight: '500', color: '#475467' }}>Merged Items</p>) || ''}\n\n            {\n                merges.map((merge, index) => (\n                    <div key={`${index}-${merge.id}`} className={clsx('d-flex align-items-center gap-3', style.mergeListItem)}>\n                        <div className={clsx('d-flex justify-content-center align-items-center', style.mergeListSrBox)}>\n                            {merge?.alias}\n                        </div>\n                        <div className='d-flex align-items-center gap-3' style={{ width: '317px' }}>\n                            <ViewMerge title={merge.title} alias={merge?.alias} items={merge.calculators} />\n                            <EditMergeCalculation merge={merge} setMerges={setMerges} alias={merge?.alias} deleteMergeCalculator={deleteMergeCalculator} />\n                        </div>\n                        <span style={{ minWidth: '120px', color: '#667085' }}>$ {merge?.calculators?.reduce((sum, item) => sum + parseFloat(item.total), 0).toFixed(2) || \"0.00\"}</span>\n                        <DeleteMerge id={merge.id} alias={merge?.alias} refetch={refetch} setMerges={setMerges} />\n                    </div>\n                ))\n            }\n\n            {(merges?.length && <div className={clsx('w-100', style.divider2)}></div>) || \"\"}\n        </>\n    );\n};\n\nexport default ListMergeCalculations;","import React, { useEffect, useState } from 'react';\nimport { Check, GripVertical, Trash } from 'react-bootstrap-icons';\nimport { useParams } from 'react-router-dom';\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\nimport { useQuery } from '@tanstack/react-query';\nimport { nanoid } from \"nanoid\";\nimport { InputNumber } from 'primereact/inputnumber';\nimport { toast } from 'sonner';\nimport { DepartmentQuoteTableRowLoading, DepartmentRowChangeLoading } from './department-quote-table-row-loading';\nimport SelectComponent from './select-component';\nimport { getCalculationByReferenceId, getDepartments } from '../../../../../../APIs/CalApi';\nimport { formatAUD } from '../../../../../../shared/lib/format-aud';\nimport CreateMergeCalculation from '../../../../features/sales-features/merges-calculation/create-merge-calculation';\nimport ListMergeCalculations from '../../../../features/sales-features/merges-calculation/list-merge-calculations';\nimport { romanize } from '../../../../shared/utils/helper';\n\nconst DepartmentCalculationTableEmptyRow = ({ srNo, departments, handleChange }) => {\n    return (\n        <tr>\n            <td style={{ width: '24px' }} className='shadowRight-'></td>\n            <td style={{ width: '64px', textAlign: 'left' }}>{srNo + 1}</td>\n            <td style={{ width: '192px' }}>\n                <SelectComponent departments={departments} handleChange={handleChange} isShowlabel={false} />\n            </td>\n            <td style={{ width: '100%', paddingTop: '10px' }}>\n                <textarea disabled rows={1} placeholder='Enter a description...' style={{ background: 'transparent', border: '0px solid #fff', resize: 'none', boxSizing: 'border-box' }} onChange={() => { }}></textarea>\n            </td>\n            <td style={{ width: '128px' }}>\n                <div className='d-flex align-items-center'>\n                    <span style={{ color: 'rgb(152, 162, 179)' }}>$</span>\n                    <input\n                        type=\"text\"\n                        disabled\n                        style={{ padding: '4px', width: '100px', background: 'transparent', color: '#98A2B3' }}\n                        value={`${'0.00'}`}\n                        onChange={() => { }}\n                    />\n                </div>\n            </td>\n            <td style={{ width: '185px' }}>\n                <div className='d-flex align-items-center'>\n                    <input\n                        type=\"text\"\n                        disabled\n                        style={{ padding: '4px', width: '60px', background: 'transparent', color: '#98A2B3' }}\n                        value={`${'0.00'}`}\n                        onChange={() => { }}\n                    />\n                    <select value={\"MRG\"} disabled style={{ border: '0px solid #fff', background: 'transparent' }} onChange={() => { }}>\n                        <option value={\"MRG\"}>MRG %</option>\n                        <option value={\"AMN\"}>AMT $</option>\n                        <option value={\"MRK\"}>MRK %</option>\n                    </select>\n                </div>\n            </td>\n            <td style={{ width: '118px', textAlign: 'left', color: 'rgb(152, 162, 179)' }}>$ {\"0.00\"}</td>\n            <td style={{ width: '166px' }}>\n                <div className='d-flex align-items-center'>\n                    <input\n                        type=\"text\"\n                        disabled\n                        style={{ padding: '4px', width: '60px', background: 'transparent', color: '#98A2B3' }}\n                        value={`${'0.00'}`}\n                        onChange={() => { }}\n                    />\n                    <select value={\"Cost\"} disabled style={{ border: '0px solid #fff', background: 'transparent' }} onChange={() => { }}>\n                        <option value=\"Cost\">1/Q</option>\n                        <option value=\"Hourly\">1/H</option>\n                    </select>\n                </div>\n            </td>\n            <td style={{ width: '83px' }}>\n                <div className='d-flex align-items-center'>\n                    <input\n                        type=\"text\"\n                        disabled\n                        style={{ width: '60px', padding: '4px', background: 'transparent', color: '#98A2B3' }}\n                        value={`${\"0.00%\"}`}\n                        onChange={() => { }}\n                    />\n                </div>\n            </td>\n            <td style={{ width: '118px', textAlign: 'left', color: 'rgb(152, 162, 179)' }}>$ {\"0.00\"}</td>\n            <td style={{ width: '32px', position: 'sticky', right: '0px' }} className='shadowLeft-'>\n                <Trash color=\"#98A2B3\" style={{ cursor: 'not-allowed', opacity: '.5' }} onClick={() => { }} />\n            </td>\n        </tr>\n    );\n};\n\nconst DepartmentCalculationTableHead = () => {\n    return (\n        <thead>\n            <tr>\n                <th style={{ width: '24px' }}></th>\n                <th style={{ width: '64px', textAlign: 'left' }}>Order</th>\n                <th style={{ width: '192px' }}>Department</th>\n                <th style={{ width: '100%' }}>Description</th>\n                <th style={{ width: '128px' }}>Cost</th>\n                <th style={{ width: '185px' }}>Markup / Margin</th>\n                <th style={{ width: '118px' }}>Unit Price</th>\n                <th style={{ width: '166px' }}>Qty / Unit</th>\n                <th style={{ width: '83px' }}>Discount</th>\n                <th style={{ width: '118px' }}>Amount</th>\n                <th style={{ width: '32px' }}></th>\n            </tr>\n        </thead>\n    );\n};\n\nconst DepartmentCalculationTableBody = ({ rows, updateData, deleteRow, selectItem, setSelectItem, mapMergeItemWithNo, checkedItems = [], departments, handleDepartmentChange, selectKey }) => {\n    const handleChange = (event, value, key) => {\n        const mergeKey = `${key}-${value.id}`;\n\n        setSelectItem((oldItems) => {\n            if (event.target.checked) {\n                const items = {\n                    label: value.label,\n                    description: value?.description,\n                    calculator: value?.calculator,\n                    index: value?.index,\n                    total: value?.total,\n                    key: key,\n                    merge_id: value?.merge_id\n                };\n\n                let newItems = oldItems[mergeKey] || [];\n                newItems.push(items);\n\n                return {\n                    ...oldItems,\n                    [mergeKey]: newItems\n                };\n            } else {\n                const updatedItems = { ...oldItems };\n                if (updatedItems[mergeKey]) delete updatedItems[mergeKey];\n                return updatedItems;\n            }\n        });\n    };\n\n    return (\n        <>\n            {Object.entries(rows).map(([key, values], id) => (\n                <React.Fragment key={key}>\n                    {\n                        values?.map((value, index) =>\n                            <Draggable draggableId={`row-${key}-${value.id}`} key={`${key}-${value.id}`} index={id}>\n                                {(provided) => (\n                                    <tr\n                                        key={`tr-${key}-${value.id}`}\n                                        ref={provided.innerRef}\n                                        {...provided.draggableProps}\n                                        style={{\n                                            ...provided.draggableProps.style,\n                                            cursor: 'default',\n                                        }}\n                                        className={`calculation-tr ${checkedItems.includes(key) ? 'selected' : ''}`}\n                                    >\n\n                                        {\n                                            selectKey === key ? (\n                                                <>\n                                                    <td {...provided.dragHandleProps} style={{ width: '24px' }}>\n                                                        {\n                                                            index === 0 && <GripVertical color=\"#98A2B3\" style={{ cursor: 'move' }} />\n                                                        }\n                                                    </td>\n                                                    <DepartmentRowChangeLoading />\n                                                </>\n                                            )\n                                                : (\n                                                    <>\n                                                        <td {...provided.dragHandleProps} style={{ width: '24px' }} className='shadowRight-'>\n                                                            {\n                                                                index === 0 && <GripVertical color=\"#98A2B3\" style={{ cursor: 'move' }} />\n                                                            }\n                                                        </td>\n                                                        <td style={{ width: '64px', textAlign: 'left' }}>\n\n                                                            <div className='d-flex align-items-center justify-content-end gap-2'>\n                                                                {index === 0 && (<span>{id + 1}</span>)}\n                                                                {\n                                                                    mapMergeItemWithNo[`${key}-${value.calculator}`] ? (\n                                                                        <div className='d-flex justify-content-center align-items-center' style={{ width: '20px', height: '20px', borderRadius: '24px', background: '#F2F4F7', border: '1px solid #EAECF0', color: '#344054', fontSize: '10px', marginRight: '0px' }}>\n                                                                            {mapMergeItemWithNo[`${key}-${value.calculator}`]}\n                                                                        </div>\n                                                                    ) : (\n                                                                        <label className=\"customCheckBox checkbox\" style={{ marginRight: '0px' }}>\n                                                                            <input type=\"checkbox\" checked={selectItem[`${key}-${value.id}`] ? true : false} onChange={(e) => handleChange(e, value, key)} />\n                                                                            <span className=\"checkmark\" style={{ top: '0px' }}>\n                                                                                <Check color=\"#1AB2FF\" size={20} />\n                                                                            </span>\n                                                                        </label>\n                                                                    )\n                                                                }\n                                                            </div>\n                                                        </td>\n                                                        <td style={{ width: '192px' }}>\n                                                            {\n                                                                index === 0 && (\n                                                                    <SelectComponent departments={departments} handleChange={handleDepartmentChange} title={value.label} keyValue={key} />\n                                                                )\n                                                            }\n                                                        </td>\n                                                        <td style={{ width: '300px', textAlign: 'left' }}>\n                                                            <textarea rows={1} className=\"auto-expand\" style={{ background: 'transparent', border: '0px solid #fff', fontSize: '14px' }} value={value.description}\n                                                                onChange={(e) => updateData(key, value.id, 'description', e.target.value)}\n                                                                onInput={(e) => {\n                                                                    e.target.style.height = 'auto';\n                                                                    e.target.style.height = `${e.target.scrollHeight}px`;\n                                                                }}\n                                                                onFocus={(e) => {\n                                                                    e.target.style.height = 'auto';\n                                                                    e.target.style.height = `${e.target.scrollHeight}px`;\n                                                                }}\n                                                                onBlur={(e) => {\n                                                                    e.target.style.height = '50px';\n                                                                }}\n                                                                onClick={(e) => {\n                                                                    e.target.style.height = 'auto';\n                                                                    e.target.style.height = `${e.target.scrollHeight}px`;\n                                                                }}\n                                                            ></textarea>\n                                                        </td>\n                                                        <td style={{ width: '128px' }}>\n                                                            <div className='d-flex align-items-center'>\n                                                                <InputNumber\n                                                                    prefix=\"$\"\n                                                                    value={value.cost}\n                                                                    onValueChange={(e) => updateData(key, value.id, 'cost', e.target.value)}\n                                                                    maxFractionDigits={2}\n                                                                    minFractionDigits={2}\n                                                                    placeholder='$0.00'\n                                                                    inputId=\"minmaxfraction\"\n                                                                    className='w-100'\n                                                                    inputStyle={{ width: '120px', padding: '4px', background: 'transparent' }}\n                                                                />\n                                                            </div>\n                                                        </td>\n                                                        <td style={{ width: '185px' }}>\n                                                            <div className='d-flex align-items-center'>\n                                                                <InputNumber\n                                                                    value={value.profit_type_value}\n                                                                    onValueChange={(e) => updateData(key, value.id, 'profit_type_value', e.target.value)}\n                                                                    maxFractionDigits={2}\n                                                                    minFractionDigits={2}\n                                                                    placeholder='0.00'\n                                                                    inputId=\"minmaxfraction\"\n                                                                    className='w-100'\n                                                                    inputStyle={{ width: '60px', padding: '4px', background: 'transparent' }}\n                                                                />\n                                                                <select value={value.profit_type} style={{ border: '0px solid #fff', background: 'transparent', fontSize: '14px' }} onChange={(e) => updateData(key, value.id, 'profit_type', e.target.value)}>\n                                                                    <option value={\"MRG\"}>MRG %</option>\n                                                                    <option value={\"AMN\"}>AMT $</option>\n                                                                    <option value={\"MRK\"}>MRK %</option>\n                                                                </select>\n                                                            </div>\n                                                        </td>\n                                                        <td style={{ width: '100%', textAlign: 'left', fontSize: '14px' }}>${formatAUD(value.unit_price || \"0.00\")}</td>\n                                                        <td style={{ width: '166px' }}>\n                                                            <div className='d-flex align-items-center'>\n                                                                <InputNumber\n                                                                    value={value.quantity}\n                                                                    onValueChange={(e) => updateData(key, value.id, 'quantity', e.target.value)}\n                                                                    maxFractionDigits={2}\n                                                                    minFractionDigits={2}\n                                                                    placeholder='0.00'\n                                                                    inputId=\"minmaxfraction\"\n                                                                    className='w-100'\n                                                                    inputStyle={{ width: '60px', padding: '4px', background: 'transparent' }}\n                                                                />\n                                                                <select value={value.type} style={{ border: '0px solid #fff', background: 'transparent', fontSize: '14px' }} onChange={(e) => updateData(key, value.id, 'type', e.target.value)}>\n                                                                    <option value=\"Cost\">1/Q</option>\n                                                                    <option value=\"Hourly\">1/H</option>\n                                                                </select>\n                                                            </div>\n                                                        </td>\n\n                                                        <td style={{ width: '60px' }}>\n                                                            <div className='d-flex align-items-center'>\n                                                                <InputNumber\n                                                                    suffix=\"%\"\n                                                                    value={value.discount}\n                                                                    onValueChange={(e) => updateData(key, value.id, 'discount', e.target.value)}\n                                                                    maxFractionDigits={2}\n                                                                    minFractionDigits={2}\n                                                                    placeholder='0.00%'\n                                                                    inputId=\"minmaxfraction\"\n                                                                    className='w-100'\n                                                                    inputStyle={{ width: '60px', padding: '4px', background: 'transparent' }}\n                                                                />\n                                                            </div>\n                                                        </td>\n\n                                                        <td style={{ textAlign: 'left', fontSize: '14px' }}>$ {formatAUD(value.total || 0.00)}</td>\n                                                        <td style={{ width: '32px', position: 'sticky', right: '0px' }} className='shadowLeft-'>\n                                                            <Trash color=\"#98A2B3\" style={{ cursor: 'pointer' }} onClick={() => deleteRow(key, value.id, value.calculator)} />\n                                                        </td>\n                                                    </>\n                                                )\n                                        }\n\n                                    </tr>\n                                )}\n                            </Draggable>\n                        )\n                    }\n                </React.Fragment>\n            ))}\n        </>\n    );\n};\n\nconst DepartmentCalculationTable = ({ setTotals, setPayload, defaultDiscount, xero_tax, preExistCalculation, preMerges, refetch, setMergeDeletedItems }) => {\n    const { unique_id } = useParams();\n    const [rows, setRows] = useState({});\n    const [subItem, setSubItem] = useState(null);\n    const [subItemLabel, setSubItemLabel] = useState(null);\n    const [selectKey, setSelectKey] = useState(null);\n    const [preExistMerges, setPreExistMerges] = useState([]);\n\n    const [merges, setMerges] = useState([]);\n    const [selectItem, setSelectItem] = useState({});\n    const [mapMergeItemWithNo, setMapMergeItemWithNo] = useState({});\n\n    const { data: departments } = useQuery({\n        queryKey: ['departments'],\n        queryFn: getDepartments,\n        enabled: true,\n    });\n    const { isLoading: isLoadingSubItem, data } = useQuery({\n        queryKey: ['calcReferenceId', subItem],\n        queryFn: () => getCalculationByReferenceId(subItem),\n        enabled: !!subItem,\n        retry: 1,\n    });\n\n    const onDragEnd = (result) => {\n        const { source, destination } = result;\n\n        // Dropped outside the list\n        if (!destination) {\n            return;\n        }\n\n        const keys = Object.keys(rows);\n        const sourceKey = keys[source.index];\n        const destinationKey = keys[destination.index];\n\n        if (!sourceKey || !destinationKey) {\n            console.error('Invalid source or destination key.');\n            return;\n        }\n\n        // Reorder keys\n        const reorderedKeys = Array.from(keys);\n        const [removedKey] = reorderedKeys.splice(source.index, 1);\n        reorderedKeys.splice(destination.index, 0, removedKey);\n\n        // Rebuild the rows object with reordered keys\n        const reorderedRows = reorderedKeys.reduce((acc, key) => {\n            acc[key] = rows[key];\n            return acc;\n        }, {});\n\n        setRows(reorderedRows);\n    };\n\n    const handleChange = (subitemId, label) => {\n        if (subitemId) setSubItem(subitemId);\n        if (label) setSubItemLabel(label);\n    };\n\n    const calculateTotal = (item) => {\n        let cost = parseFloat(item.cost) || 0;\n        let quantity = parseFloat(item.quantity) || 0;\n        let subtotal = cost * quantity;\n\n        let margin = parseFloat(item.profit_type_value) || 0;\n        if (item.profit_type === \"MRK\") {\n            subtotal += (subtotal * margin) / 100;\n        } else if (item.profit_type === \"MRG\") {\n            subtotal = subtotal / (1 - margin / 100);\n        } else if (item.profit_type === \"AMN\") {\n            subtotal += margin;\n        }\n\n        let discount = parseFloat(item.discount) || 0;\n        let total = subtotal - (subtotal * discount) / 100;\n\n        return parseFloat(total).toFixed(2);\n    };\n\n    const calculateUnitPrice = (item) => {\n        let cost = parseFloat(item.cost) || 0;\n        let unit_price = 0.00;\n\n        let margin = parseFloat(item.profit_type_value) || 0;\n        if (item.profit_type === \"MRK\") {\n            unit_price = cost + (cost * (margin / 100));\n        } else if (item.profit_type === \"MRG\") {\n            unit_price = cost / (1 - (margin / 100));\n        } else if (item.profit_type === \"AMN\") {\n            unit_price = cost + margin;\n        }\n\n        return parseFloat(unit_price).toFixed(2);\n    };\n\n    const updateData = (key, id, type, value) => {\n        setRows(prevRows => {\n            const updatedRows = {\n                ...prevRows,\n                [key]: prevRows[key].map(item => {\n                    if (item.id === id) {\n                        const updatedItem = { ...item, [type]: value };\n                        if (updatedItem.profit_type === \"MRG\" && updatedItem.profit_type_value >= 100) {\n                            updatedItem.profit_type_value = 99.99;\n                        }\n                        updatedItem.unit_price = calculateUnitPrice(updatedItem);\n                        updatedItem.total = calculateTotal(updatedItem);\n                        return updatedItem;\n                    }\n                    return item;\n                })\n            };\n            return updatedRows;\n        });\n    };\n\n    const deleteMergeCalculator = (calcReferenceId, key) => {\n        let idsToDelete = [], mergeCount = 0;\n\n        const updatedMerges = merges.reduce((result, item) => {\n            const updatedCalculators = item.calculators.filter(\n                calc => !(calc.calculator === calcReferenceId && calc.key === key)\n            );\n\n            if (updatedCalculators.length < 2) {\n                if (item.id && unique_id) idsToDelete.push(item.id);\n                return result;\n            }\n\n            mergeCount++;\n            const alias = romanize(mergeCount);\n            result.push({ ...item, calculators: updatedCalculators, alias });\n            return result;\n        }, []);\n        setMerges(updatedMerges);\n        setMergeDeletedItems((prev) => [...new Set([...prev, ...idsToDelete])]);\n    };\n\n    const deleteRow = (key, id, calcReferenceId) => {\n        setRows(prevRows => {\n            const updatedRows = {\n                ...prevRows,\n                [key]: prevRows[key].filter(item => item.id !== id)\n            };\n\n            if (updatedRows[key].length === 0) delete updatedRows[key];\n\n            return updatedRows;\n        });\n        deleteMergeCalculator(calcReferenceId, key);\n    };\n\n    useEffect(() => {\n        if (data && data.length && subItem) {\n            if (data.length) {\n                data.forEach((item) => {\n                    item.label = subItemLabel;\n                    item.calculator = item.id;\n                    item.index = subItem;\n                    item.merge_id = nanoid(6);\n                    item.discount = defaultDiscount;\n                    item.quantity = parseFloat(parseFloat(item.quantity) || 1).toFixed(2);\n                    item.unit_price = calculateUnitPrice(item);\n                    item.total = calculateTotal(item);\n                });\n            } else {\n                data.push({\n                    label: subItemLabel,\n                    calculator: data.id,\n                    index: subItem,\n                    merge_id: nanoid(6),\n                    discount: defaultDiscount,\n                    quantity: parseFloat(parseFloat(data.quantity) || 1).toFixed(2),\n                });\n            }\n\n            let filteredData = data.filter((item, index, self) =>\n                index === self.findIndex((t) => t.id === item.id)\n            );\n\n            let key = `${nanoid(6)}`;\n            setRows((prevRows) => ({\n                ...prevRows,\n                [`${key}`]: filteredData,\n            }));\n\n            setSubItem(\"\");\n        }\n\n        if (subItem && data?.length === 0) {\n            toast.error(`No calculation found inside ${subItemLabel}`);\n        }\n\n    }, [data, subItem, defaultDiscount, subItemLabel]);\n\n    const handleDepartmentChange = async (value, label, keyValue) => {\n        if (!value || !keyValue) return;\n\n        try {\n            setSelectKey(keyValue);\n            const calculators = await getCalculationByReferenceId(value);\n            if (calculators?.length) {\n                calculators.forEach((item) => {\n                    item.label = label;\n                    item.calculator = item.id;\n                    item.index = value;\n                    item.merge_id = nanoid(6);\n                    item.discount = defaultDiscount;\n                    item.quantity = parseFloat(parseFloat(item.quantity) || 1).toFixed(2);\n                    item.unit_price = calculateUnitPrice(item);\n                    item.total = calculateTotal(item);\n                });\n\n                let filteredData = calculators.filter((item, index, self) =>\n                    index === self.findIndex((t) => t.id === item.id)\n                );\n\n                setRows((prevRows) => ({\n                    ...prevRows,\n                    [`${keyValue}`]: filteredData,\n                }));\n\n            } else {\n                toast.error(`No calculation found inside ${label}`);\n            }\n        } catch (error) {\n            console.error('Error in handleDepartmentChange:', error);\n        } finally {\n            setSelectKey(null);\n        }\n    };\n\n    const calculateSummary = (taxType) => {\n        let budget = 0;\n        let subtotal = 0;\n\n        Object.values(rows)?.forEach(departmentRows => {\n            departmentRows?.forEach(item => {\n                let rate = parseFloat(item.cost) || 0;\n                let quantity = parseFloat(item.quantity) || 0;\n                let cost = rate * quantity;\n                budget += parseFloat(cost || 0);\n                subtotal += parseFloat(item.total || 0);\n            });\n        });\n\n        let tax = 0;\n        let total = 0;\n\n        if (taxType === 'ex') {\n            tax = subtotal * 0.10;\n            total = subtotal + tax;\n        } else if (taxType === 'in') {\n            total = subtotal;\n            tax = total * 0.10 / 1.10;\n            subtotal = total - tax;\n        } else if (taxType === 'no') {\n            tax = 0;\n            total = subtotal;\n        }\n\n        const operationalProfit = subtotal - budget;\n\n        return {\n            budget: parseFloat(budget || 0.00).toFixed(2),\n            operationalProfit: parseFloat(operationalProfit).toFixed(2),\n            subtotal: parseFloat(subtotal).toFixed(2),\n            tax: parseFloat(tax).toFixed(2),\n            total: parseFloat(total).toFixed(2),\n        };\n    };\n\n    useEffect(() => {\n        const summary = calculateSummary(xero_tax);\n        setTotals(summary);\n\n        const calculations = Object.entries(rows).flatMap(([key, items], parentIndex) => {\n            return items.map((item) => {\n                const { id, ...rest } = item;\n                return {\n                    ...rest,\n                    cost: parseFloat(rest.cost || 0.00).toFixed(2),\n                    profit_type_value: parseFloat(rest.profit_type_value || 0.00).toFixed(2),\n                    unit_price: parseFloat(rest.unit_price || 0.00).toFixed(2),\n                    quantity: parseFloat(rest.quantity || 0.00).toFixed(2),\n                    discount: parseFloat(rest.discount || 0.00).toFixed(2),\n                    order: parentIndex + 1, // Use the parent's index as the order\n                };\n            });\n        });\n        setPayload((others) => ({ ...others, expense: summary.total || \"\", calculations }));\n    }, [rows, xero_tax]);\n\n    useEffect(() => {\n        setPreExistMerges(preMerges);\n    }, [preMerges]);\n\n    useEffect(() => {\n        if (!preExistCalculation?.length || !departments?.length) return;\n\n        // Build a map of subindex id to subindex name\n        const subindexMap = departments.reduce((map, department) => {\n            department.subindexes.forEach(subindex => {\n                map[subindex.id] = subindex.name;\n            });\n            return map;\n        }, {});\n\n        // Add merge id to preExistCalculation\n        preExistCalculation.forEach(item => {\n            if (!item.merge_id) item.merge_id = nanoid(6);\n        });\n\n        // Group by order first, then assign nanoid keys\n        const orderGroups = preExistCalculation.reduce((acc, { order, index, ...item }) => {\n            acc[order] = acc[order] || [];\n            let unit_price = item.unit_price;\n            if (unit_price === \"0.00\" || !unit_price) {\n                unit_price = calculateUnitPrice(item);\n            } else if (unit_price) {\n                unit_price = calculateUnitPrice(item);\n            }\n            acc[order].push({ ...item, unit_price, label: subindexMap[index] || \"Unknown\", index });\n            return acc;\n        }, {});\n\n        const reformattedData = Object.keys(orderGroups).reduce((acc, order) => {\n            const key = nanoid(6);\n            acc[key] = orderGroups[order];\n            return acc;\n        }, {});\n\n        // Build a mapping of calculator IDs to reformattedData keys\n        const calculatorKeyMap = {};\n        Object.entries(reformattedData).forEach(([key, items]) => {\n            items.forEach(item => {\n                calculatorKeyMap[item.id] = key;\n            });\n        });\n\n        // Create key-index map and reformat preExistMerges data\n        const reformattedMerges = preExistMerges.map((merge, index) => {\n            const alias = romanize(index + 1);\n\n            const calculators = merge?.calculators?.map(cal => {\n                const findData = preExistCalculation.find(data => data.id === cal.calculator);\n                const key = calculatorKeyMap[findData?.id];\n                return { label: subindexMap[findData?.index], description: findData?.description, total: findData?.total, calculator: findData?.calculator, key, merge_id: findData?.merge_id };\n            });\n\n            return { ...merge, alias, calculators };\n        });\n\n        setRows(reformattedData);\n        setMerges(reformattedMerges);\n\n    }, [preExistCalculation, preExistMerges, departments]);\n\n    useEffect(() => {\n        if (departments?.length) {\n            const keyIndexMap = {};\n            merges?.forEach((merge, index) => {\n                const alias = romanize(index + 1);\n                merge?.calculators?.forEach(cal => {\n                    keyIndexMap[`${cal.key}-${cal.calculator}`] = alias;\n                });\n            });\n\n            setMapMergeItemWithNo(keyIndexMap);\n            setPayload((others) => ({ ...others, merges }));\n        }\n    }, [merges]);\n\n\n    return (\n        <>\n            <div className=\"pb-3\" style={{ overflowX: 'auto', width: '100%' }}>\n                <DragDropContext onDragEnd={onDragEnd}>\n                    <table className='w-100 department-calculation'>\n                        <DepartmentCalculationTableHead />\n                        <Droppable droppableId=\"departmentQuoteTable\">\n                            {(provided) => (\n                                <tbody {...provided.droppableProps} ref={provided.innerRef}>\n                                    <DepartmentCalculationTableBody\n                                        rows={rows}\n                                        updateData={updateData}\n                                        deleteRow={deleteRow}\n                                        defaultDiscount={defaultDiscount}\n                                        selectItem={selectItem}\n                                        setSelectItem={setSelectItem}\n                                        mapMergeItemWithNo={mapMergeItemWithNo}\n                                        checkedItems={Object.keys(selectItem)}\n\n                                        selectKey={selectKey}\n                                        departments={departments}\n                                        handleDepartmentChange={handleDepartmentChange}\n                                    />\n                                    {\n                                        isLoadingSubItem && <DepartmentQuoteTableRowLoading />\n                                    }\n\n                                    <DepartmentCalculationTableEmptyRow srNo={Object.keys(rows || {}).length} departments={departments} handleChange={handleChange} />\n                                    {provided.placeholder}\n                                </tbody>\n                            )}\n                        </Droppable>\n                    </table>\n                </DragDropContext>\n            </div>\n            <div className='merge-section' style={{ marginTop: '20px', textAlign: 'left' }}>\n                <CreateMergeCalculation unique_id={unique_id} selectItem={selectItem}\n                    setSelectItem={setSelectItem} merges={merges} setMerges={setMerges}\n                    setPayload={setPayload} refetch={refetch} setPreExistMerges={setPreExistMerges}\n                />\n                <ListMergeCalculations unique_id={unique_id} merges={merges}\n                    setMerges={setMerges}\n                    refetch={refetch}\n                    deleteMergeCalculator={deleteMergeCalculator}\n                />\n            </div>\n\n        </>\n    );\n};\n\nexport default DepartmentCalculationTable;","import React, { useEffect, useRef, useState } from 'react';\nimport { Col, Placeholder, Row } from 'react-bootstrap';\nimport { Search } from 'react-bootstrap-icons';\nimport { useQuery } from '@tanstack/react-query';\nimport { Dropdown } from 'primereact/dropdown';\nimport { useDebounce } from 'primereact/hooks';\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from 'primereact/inputtext';\nimport { toast } from 'sonner';\nimport { getClientById, getListOfClients } from '../../../../../../APIs/ClientsApi';\nimport ImageAvatar from '../../../../../../ui/image-with-fallback/image-avatar';\n\nconst QuoteToBusiness = ({ isLoading, data, setPayload }) => {\n    const [selectClient, setSelectClient] = useState(null);\n    const [selectContact, setSelectContact] = useState(null);\n    const [isEdit, setIsEdit] = useState(false);\n\n    const observerRef = useRef(null);\n    const dropdownRef = useRef(null);\n    const [clients, setClients] = useState([]);\n    const [page, setPage] = useState(1);\n    const [hasMoreData, setHasMoreData] = useState(true);\n    const [loading, setLoading] = useState(false);\n    const [inputValue, debouncedValue, setInputValue] = useDebounce('', 400);\n    const limit = 25;\n\n    const mainAddress = data.addresses.find(address => address.is_main) || (data.addresses?.length ? data.addresses[0] : {});\n    const mainContact = data.contact_persons.find(contact => contact.is_main) || (data.contact_persons?.length ? data.contact_persons[0] : {});\n\n    const clientQuery = useQuery({\n        queryKey: ['id', selectClient],\n        queryFn: () => getClientById(selectClient),\n        enabled: !!selectClient,\n        retry: 1,\n    });\n\n    const contactOptions = clientQuery.data?.contact_persons || [];\n\n    useEffect(() => {\n        setPage(1);\n    }, [debouncedValue]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            setLoading(true);\n            const data = await getListOfClients(page, limit, debouncedValue);\n            if (page === 1) setClients(data.results);\n            else {\n                if (data?.results?.length > 0) {\n                    setClients(prev => {\n                        const existingClientIds = new Set(prev.map(client => client.id));\n                        const newClients = data.results.filter(client => !existingClientIds.has(client.id));\n                        return [...prev, ...newClients];\n                    });\n                }\n            }\n            setHasMoreData(data.count !== clients.length);\n            setLoading(false);\n        };\n\n        loadData();\n    }, [page, debouncedValue]);\n\n    // Wait for the dropdown to render its items\n    const setupObserver = () => {\n        const lastRow = document.querySelector('.p-dropdown-items .p-dropdown-item:last-child');\n\n        if (lastRow && !observerRef.current) {\n            observerRef.current = new IntersectionObserver(entries => {\n                if (entries[0].isIntersecting) {\n                    setPage(prevPage => prevPage + 1);\n                }\n            }, { threshold: 1.0 });\n            observerRef.current.observe(lastRow);\n        }\n    };\n\n    useEffect(() => {\n        if (!isEdit || !clients.length || !hasMoreData || !dropdownRef.current) return;\n\n        // Use a small delay or MutationObserver to ensure DOM is ready\n        const timeout = setTimeout(setupObserver, 100);\n\n        return () => {\n            clearTimeout(timeout);\n            if (observerRef.current) {\n                observerRef.current.disconnect();\n                observerRef.current = null;\n            }\n        };\n    }, [clients, hasMoreData, isEdit]);\n\n    const filterTemplate = () => {\n        return (\n            <IconField iconPosition=\"left\">\n                <InputIcon><Search className='mb-2' /></InputIcon>\n                <InputText\n                    type=\"text\"\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    className=\"p-inputtext p-component\"\n                    placeholder=\"Search clients\"\n                    style={{ width: '100%' }}\n\n                />\n            </IconField>\n        );\n    };\n\n    const handleChangeSave = () => {\n        if (!selectClient) return toast.error('Please select a client');\n        setPayload((prev) => ({ ...prev, client: selectClient, contact_person: selectContact }));\n        setIsEdit(false);\n    };\n\n    const clientOptionTemplate = (option) => {\n        return (\n            <div className=\"d-flex align-items-center gap-1\">\n                <ImageAvatar has_photo={option.has_photo} photo={option.photo} is_business={option.is_business} />\n                <div>{option.name}</div>\n            </div>\n        );\n    };\n\n    const selectedOptionTemplate = (option) => {\n        if (option?.name) {\n            return (\n                <div className=\"d-flex align-items-center gap-1\">\n                    <ImageAvatar has_photo={option?.has_photo} photo={option?.photo} is_business={option?.is_business} />\n                    <div>{option?.name}</div>\n                </div>\n            );\n        }\n    };\n\n    return (\n        <>\n            <Row>\n                {isEdit ? (\n                    <>\n                        <Col sm={6} style={{ minHeight: '190px' }}>\n                            <p style={{ color: '#667085', fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>Company<span className='required'>*</span></p>\n                            <Dropdown\n                                ref={dropdownRef}\n                                value={selectClient}\n                                loading={loading}\n                                onChange={(e) => setSelectClient(e.value)}\n                                options={clients}\n                                itemTemplate={clientOptionTemplate}\n                                valueTemplate={selectClient && selectedOptionTemplate}\n                                optionLabel=\"name\"\n                                optionValue=\"id\"\n                                placeholder=\"Select client\"\n                                filter\n                                filterTemplate={filterTemplate}\n                                virtualScrollerOptions={{ itemSize: 46, lazy: true, onLazyLoad: setupObserver }}\n                                className=\"w-100\"\n                            />\n                        </Col>\n                        <Col sm={6} style={{ minHeight: '190px' }}>\n                            <p style={{ color: '#667085', fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>Main Contact</p>\n                            <Dropdown\n                                value={selectContact}\n                                onChange={(e) => setSelectContact(e.value)}\n                                options={contactOptions}\n                                optionLabel={(option) => `${option.firstname} ${option.lastname}`}\n                                optionValue='id'\n                                placeholder=\"Select contact\"\n                                filter\n                                loading={clientQuery.isLoading}\n                                className=\"w-100\"\n                            />\n                        </Col>\n                    </>\n                ) : (\n                    <>\n                        <Col sm={6}>\n                            {isLoading ? (\n                                <>\n                                    <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                                    </Placeholder>\n                                    <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                                    </Placeholder>\n                                    <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                                    </Placeholder>\n                                    <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                                    </Placeholder>\n                                    <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                        <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                                    </Placeholder>\n                                </>\n                            ) : (\n                                <>\n                                    <p style={{ color: '#667085', fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>Company</p>\n                                    <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{data?.name || '-'}</p>\n                                    <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>ABN: {data?.abn || '-'}</p>\n                                    <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{data?.phone || '-'}</p>\n                                    <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '8px' }}>{mainAddress?.address || '-'}</p>\n                                </>\n                            )}\n                        </Col>\n                        <Col sm={6}>\n                            <p style={{ color: '#667085', fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>Main Contact</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{`${mainContact?.firstname || '-'} ${mainContact?.lastname || '-'}`}</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{mainContact?.position || '-'}</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{mainContact?.phone || '-'}</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{mainContact?.email || '-'}</p>\n                        </Col>\n                    </>\n                )}\n\n                <Col sm={12}>\n                    {isEdit ? (\n                        <div className=\"d-flex\">\n                            <button onClick={handleChangeSave} className=\"btn py-0\" style={{ color: '#158ECC', fontSize: '14px', fontWeight: '600' }}>\n                                Save\n                            </button>\n                            <button onClick={() => setIsEdit(!isEdit)} className=\"btn py-0\" style={{ color: '#B42318', fontSize: '14px', fontWeight: '600' }}>\n                                Cancel\n                            </button>\n                        </div>\n                    ) : (\n                        <button onClick={() => setIsEdit(!isEdit)} className=\"btn p-0\" style={{ color: '#158ECC', fontSize: '14px', fontWeight: '600' }}>\n                            Edit info\n                        </button>\n                    )}\n                </Col>\n            </Row>\n        </>\n    );\n};\n\nexport default QuoteToBusiness;","import React, { useEffect, useRef, useState } from 'react';\nimport { Col, Placeholder, Row } from 'react-bootstrap';\nimport { Search } from 'react-bootstrap-icons';\nimport { useQuery } from '@tanstack/react-query';\nimport { Dropdown } from 'primereact/dropdown';\nimport { useDebounce } from 'primereact/hooks';\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from 'primereact/inputtext';\nimport { toast } from 'sonner';\nimport { getClientById, getListOfClients } from '../../../../../../APIs/ClientsApi';\nimport ImageAvatar from '../../../../../../ui/image-with-fallback/image-avatar';\n\nconst QuoteToClient = ({ isLoading, data, setPayload }) => {\n    const [selectClient, setSelectClient] = useState(null);\n    const [selectContact, setSelectContact] = useState(null);\n    const [isEdit, setIsEdit] = useState(false);\n\n    const observerRef = useRef(null);\n    const dropdownRef = useRef(null);\n    const [clients, setClients] = useState([]);\n    const [page, setPage] = useState(1);\n    const [hasMoreData, setHasMoreData] = useState(true);\n    const [loading, setLoading] = useState(false);\n    const [inputValue, debouncedValue, setInputValue] = useDebounce('', 400);\n    const limit = 25;\n\n    const mainContact = data?.contact_persons?.find(contact => contact.is_main) || (data?.contact_persons?.length ? data?.contact_persons[0] : {});\n\n    const clientQuery = useQuery({\n        queryKey: ['id', selectClient],\n        queryFn: () => getClientById(selectClient),\n        enabled: !!selectClient,\n        retry: 1,\n    });\n\n    const contactOptions = clientQuery.data?.contact_persons || [];\n\n    useEffect(() => {\n        setPage(1);\n    }, [debouncedValue]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            setLoading(true);\n            const data = await getListOfClients(page, limit, debouncedValue);\n            if (page === 1) setClients(data.results);\n            else {\n                if (data?.results?.length > 0) {\n                    setClients(prev => {\n                        const existingClientIds = new Set(prev.map(client => client.id));\n                        const newClients = data.results.filter(client => !existingClientIds.has(client.id));\n                        return [...prev, ...newClients];\n                    });\n                }\n            }\n            setHasMoreData(data.count !== clients.length);\n            setLoading(false);\n        };\n\n        loadData();\n    }, [page, debouncedValue]);\n\n    // Wait for the dropdown to render its items\n    const setupObserver = () => {\n        const lastRow = document.querySelector('.p-dropdown-items .p-dropdown-item:last-child');\n\n        if (lastRow && !observerRef.current) {\n            observerRef.current = new IntersectionObserver(entries => {\n                if (entries[0].isIntersecting) {\n                    setPage(prevPage => prevPage + 1);\n                }\n            }, { threshold: 1.0 });\n            observerRef.current.observe(lastRow);\n        }\n    };\n\n    useEffect(() => {\n        if (!isEdit || !clients.length || !hasMoreData || !dropdownRef.current) return;\n\n        // Use a small delay or MutationObserver to ensure DOM is ready\n        const timeout = setTimeout(setupObserver, 100);\n\n        return () => {\n            clearTimeout(timeout);\n            if (observerRef.current) {\n                observerRef.current.disconnect();\n                observerRef.current = null;\n            }\n        };\n    }, [clients, hasMoreData, isEdit]);\n\n    const filterTemplate = () => {\n        return (\n            <IconField iconPosition=\"left\">\n                <InputIcon><Search className='mb-2' /></InputIcon>\n                <InputText\n                    type=\"text\"\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    className=\"p-inputtext p-component\"\n                    placeholder=\"Search clients\"\n                    style={{ width: '100%' }}\n\n                />\n            </IconField>\n        );\n    };\n\n    const handleChangeSave = () => {\n        if (!selectClient) return toast.error('Please select a client');\n        setPayload((prev) => ({ ...prev, client: selectClient, contact_person: selectContact }));\n        setIsEdit(false);\n    };\n\n    const clientOptionTemplate = (option) => {\n        return (\n            <div className=\"d-flex align-items-center gap-1\">\n                <ImageAvatar has_photo={option.has_photo} photo={option.photo} is_business={option.is_business} />\n                <div>{option.name}</div>\n            </div>\n        );\n    };\n\n    const selectedOptionTemplate = (option) => {\n        if (option?.name) {\n            return (\n                <div className=\"d-flex align-items-center gap-1\">\n                    <ImageAvatar has_photo={option?.has_photo} photo={option?.photo} is_business={option?.is_business} />\n                    <div>{option?.name}</div>\n                </div>\n            );\n        }\n    };\n\n    return (\n        <Row>\n            {isEdit ? (\n                <>\n                    <Col sm={6} style={{ minHeight: '190px' }}>\n                        <p style={{ color: '#667085', fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>Company<span className='required'>*</span></p>\n                        <Dropdown\n                            ref={dropdownRef}\n                            value={selectClient}\n                            loading={loading}\n                            onChange={(e) => setSelectClient(e.value)}\n                            options={clients}\n                            itemTemplate={clientOptionTemplate}\n                            valueTemplate={selectClient && selectedOptionTemplate}\n                            optionLabel=\"name\"\n                            optionValue=\"id\"\n                            placeholder=\"Select client\"\n                            filter\n                            filterTemplate={filterTemplate}\n                            virtualScrollerOptions={{ itemSize: 46, lazy: true, onLazyLoad: setupObserver }}\n                            className=\"w-100\"\n                        />\n                    </Col>\n                    <Col sm={6} style={{ minHeight: '190px' }}>\n                        <p style={{ color: '#667085', fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>Main Contact</p>\n                        <Dropdown\n                            value={selectContact}\n                            onChange={(e) => setSelectContact(e.value)}\n                            options={contactOptions}\n                            optionLabel={(option) => `${option.firstname} ${option.lastname}`}\n                            optionValue='id'\n                            placeholder=\"Select contact\"\n                            filter\n                            loading={clientQuery.isLoading}\n                            className=\"w-100\"\n                        />\n                    </Col>\n                </>\n            ) : (\n                <Col sm={12}>\n                    {isLoading ? (\n                        <>\n                            <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                            </Placeholder>\n                            <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                            </Placeholder>\n                            <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                            </Placeholder>\n                            <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                            </Placeholder>\n                            <Placeholder as=\"p\" animation=\"wave\" className=\"mb-1 mt-0\">\n                                <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '100%', height: '12px' }} />\n                            </Placeholder>\n                        </>\n                    ) : (\n                        <>\n                            <p style={{ color: '#667085', fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>Main Contact</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{`${mainContact?.firstname || '-'} ${mainContact?.lastname || '-'}`}</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{mainContact?.position || '-'}</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{mainContact?.phone || '-'}</p>\n                            <p style={{ color: '#1D2939', fontSize: '16px', fontWeight: '400', marginBottom: '4px' }}>{mainContact?.email || '-'}</p>\n                        </>\n                    )}\n                </Col>\n            )}\n\n            <Col sm={12}>\n                {isEdit ? (\n                    <div className=\"d-flex\">\n                        <button onClick={handleChangeSave} className=\"btn py-0\" style={{ color: '#158ECC', fontSize: '14px', fontWeight: '600' }}>\n                            Save\n                        </button>\n                        <button onClick={() => setIsEdit(!isEdit)} className=\"btn py-0\" style={{ color: '#B42318', fontSize: '14px', fontWeight: '600' }}>\n                            Cancel\n                        </button>\n                    </div>\n                ) : (\n                    <button onClick={() => setIsEdit(!isEdit)} className=\"btn p-0\" style={{ color: '#158ECC', fontSize: '14px', fontWeight: '600' }}>\n                        Edit info\n                    </button>\n                )}\n            </Col>\n        </Row>\n    );\n};\n\nexport default QuoteToClient;\n","import React from 'react';\n\nconst CustomRadioButton = ({ label, name, value, checked, onChange, disabled }) => {\n  return (\n    <label className={`custom-radio-button ${disabled ? 'disabled' : ''}`}>\n      <input\n        type=\"radio\"\n        name={name}\n        value={value}\n        checked={checked}\n        onChange={onChange}\n        disabled={disabled}\n      />\n      <span className=\"custom-radio-button__checkmark\"></span>\n      {label}\n    </label>\n  );\n};\n\nexport default CustomRadioButton;\n","import React, { useEffect, useState } from 'react';\nimport { Col, Row, Placeholder, OverlayTrigger, Tooltip, Button } from 'react-bootstrap';\nimport { ChevronDown, InfoCircle, PencilSquare } from 'react-bootstrap-icons';\nimport { components } from 'react-select';\nimport Select1 from 'react-select';\nimport { FormControl, MenuItem, Select } from '@mui/material';\nimport { useQuery } from '@tanstack/react-query';\nimport { Calendar } from 'primereact/calendar';\nimport { Dropdown } from 'primereact/dropdown';\nimport { InputNumber } from 'primereact/inputnumber';\nimport Form from 'react-bootstrap/Form';\nimport DepartmentCalculationTable from './department-calculation-table';\nimport QuoteToBusiness from './quote-to-business';\nimport QuoteToClient from './quote-to-client';\nimport { getClientById, getProjectManager } from '../../../../../../APIs/ClientsApi';\nimport ImageAvatar from '../../../../../../ui/image-with-fallback/image-avatar';\nimport CustomRadioButton from '../ui/custom-radio-button';\n\nconst CustomOption = (props) => {\n  return (\n    <components.Option {...props}>\n      <div className='d-flex align-items-center'>\n        <ImageAvatar has_photo={props?.data.has_photo} photo={props.data.image} is_business={false} />\n        {props.data.label}\n      </div>\n    </components.Option>\n  );\n};\n\nconst DepartmentQuote = React.memo(({ payload, setPayload, setTotals, refetch, preExistCalculation, preExistMerges, setMergeDeletedItems, setContactPersons, quoteType }) => {\n  const [paymentCollection, setPaymentCollection] = useState('request');\n  const [selectedManagers, setSelectedManagers] = useState([]);\n  const [editedReference, setEditedReference] = useState('');\n  const [isEditingReference, setIsEditingReference] = useState(false);\n  const [editedDescription, setEditedDescription] = useState('');\n  const [isEditingDescription, setIsEditingDescription] = useState(false);\n  const handleEditReference = () => {\n    setIsEditingReference(true);\n    setEditedReference(payload.reference || '');\n  };\n  const handleEditDescription = () => {\n    setIsEditingDescription(true);\n    setEditedDescription(payload.description || '');\n  };\n\n  const handleDataChange = (e) => {\n    setEditedReference(e.target.value);\n    setEditedDescription(e.target.value);\n  };\n\n  const handleSaveReference = () => {\n    setIsEditingReference(false);\n    setPayload((prev) => ({ ...prev, reference: editedReference }));\n  };\n  const handleSaveDescription = () => {\n    setIsEditingDescription(false);\n    setPayload((prev) => ({ ...prev, description: editedDescription }));\n  };\n\n\n  const projectManagerQuery = useQuery({ queryKey: ['project-manager'], queryFn: getProjectManager });\n  const clientQuery = useQuery({\n    queryKey: ['id', payload.client],\n    queryFn: () => getClientById(payload.client),\n    enabled: !!payload.client,\n    retry: 1,\n  });\n\n  useEffect(() => {\n    if (clientQuery.data?.contact_persons?.length) {\n      let person = clientQuery.data?.contact_persons[0];\n      let find = clientQuery.data?.contact_persons.find((contact) => contact.is_main === true);\n      if (find) {\n        setPayload((others) => ({ ...others, contact_person: find.id }));\n      } else {\n        setPayload((others) => ({ ...others, contact_person: person.id }));\n      }\n      setContactPersons(clientQuery.data?.contact_persons);\n    }\n  }, [clientQuery.data]);\n\n  useEffect(() => {\n    if (payload.managers) {\n      const uniqueManagers = payload.managers.reduce((acc, manager) => {\n        if (!acc.some(item => item.manager === manager.manager)) {\n          acc.push(manager);\n        }\n        return acc;\n      }, []);\n\n      const initialManagers = uniqueManagers.map(manager => ({\n        value: manager.manager,\n        has_photo: projectManagerQuery?.data?.find(user => user.id === manager.manager)?.has_photo,\n        label: projectManagerQuery?.data?.find(user => user.id === manager.manager)?.name || 'Unknown',\n        image: projectManagerQuery?.data?.find(user => user.id === manager.manager)?.photo || 'https://dev.memate.com.au/media/no_org.png'\n      }));\n      setSelectedManagers(initialManagers);\n    }\n  }, [payload.managers, projectManagerQuery.data]);\n\n  return (\n    <React.Fragment>\n      <div className='company-info text-left' style={{ background: '#fff', borderRadius: '4px', padding: '16px', marginBottom: '16px' }}>\n        <Row>\n          <Col md={8} style={{ borderRight: '1px solid #F2F4F7' }}>\n            <h3 style={{ color: '#344054', fontSize: '16px', fontWeight: '600' }}>Reference  <InfoCircle color=\"#667085\" size={16} /></h3>\n            {clientQuery.isLoading ? (\n              <Placeholder as=\"p\" animation=\"wave\">\n                <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '120px', height: '20px' }} />\n              </Placeholder>\n            ) : isEditingReference ? (\n              <p>\n                <input\n                  type=\"text\"\n                  value={editedReference}\n                  onChange={handleDataChange}\n                  onBlur={handleSaveReference}\n                  autoFocus\n                  className=\"border rounded p-2 w-100\"\n                />\n              </p>\n            ) : (\n              <div>\n                <p style={{ color: '#475467', fontSize: '16px', fontWeight: '400', marginBottom: '16px', whiteSpace: \"pre-line\" }}>\n                  {payload.reference}\n                  <PencilSquare size={16} color=\"#106B99\" onClick={handleEditReference} className='ms-2' style={{ cursor: 'pointer' }} />\n                </p>\n              </div>\n            )}\n\n\n            <h3 style={{ color: '#344054', fontSize: '16px', fontWeight: '600' }}>Description</h3>\n            {clientQuery.isLoading ? (\n              <Placeholder as=\"p\" animation=\"wave\">\n                <Placeholder xs={12} bg=\"secondary\" className=\"rounded-0\" size=\"sm\" style={{ width: '120px', height: '20px' }} />\n              </Placeholder>\n            ) : isEditingDescription ? (\n              <p>\n                <textarea\n                  type=\"text\"\n                  value={editedDescription}\n                  onChange={handleDataChange}\n                  onBlur={handleSaveDescription}\n                  autoFocus\n                  className=\"border rounded p-2\"\n                  style={{ resize: 'none', width: '100%', height: '120px' }}\n                ></textarea>\n              </p>\n            ) : (\n              <div>\n                <p style={{ color: '#475467', fontSize: '16px', fontWeight: '400', marginBottom: '16px', whiteSpace: \"pre-line\" }}>\n                  {payload.description}\n                  <PencilSquare size={16} color=\"#106B99\" onClick={handleEditDescription} className='ms-2' style={{ cursor: 'pointer' }} /></p>\n              </div>\n            )}\n\n          </Col>\n          <Col md={4}>\n            <h3 style={{ color: '#344054', fontSize: '16px', fontWeight: '600' }}>Quote To  <InfoCircle color=\"#667085\" size={16} /></h3>\n            <Row>\n              {\n                clientQuery?.data?.is_business ?\n                  <QuoteToBusiness isLoading={clientQuery?.isLoading} data={clientQuery?.data} setPayload={setPayload} />\n                  :\n                  <QuoteToClient isLoading={clientQuery?.isLoading} data={clientQuery?.data} setPayload={setPayload} />\n              }\n            </Row>\n          </Col>\n        </Row>\n      </div>\n      <div className='DepartmentQuote mb-3' style={{ background: '#fff', borderRadius: '4px', padding: '16px', width: '100%' }}>\n\n        <DepartmentCalculationTable setTotals={setTotals} setPayload={setPayload} xero_tax={payload.xero_tax} defaultDiscount={clientQuery?.data?.category?.value || 0} preExistCalculation={preExistCalculation} preMerges={preExistMerges} refetch={refetch} setMergeDeletedItems={setMergeDeletedItems} />\n\n        <Row>\n          <Col md={6}>\n            <Form.Group className=\"mb-3 text-start note-textarea\" controlId=\"exampleForm.ControlTextarea1\">\n              <Form.Label style={{ color: '#475467', fontSize: '14px' }}>Notes on the quote/invoice</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                placeholder='Enter a description...'\n                value={payload.note || \"\"}\n                onChange={(e) => setPayload((data) => ({ ...data, note: e.target.value }))}\n                required\n                className='textarea'\n                style={{ height: '229px', padding: '12px 14px', resize: 'none' }}\n              />\n            </Form.Group>\n          </Col>\n          <Col md={6}>\n            <Row>\n              <Col>\n                <Row>\n                  <Col sm={12} className='text-start'>\n                    <div className='formgroupboxs mb-3 mt-1'>\n                      <label style={{ color: '#475467', fontSize: '14px', display: 'block', marginBottom: '6px' }}>Project Manager<span className='required'>*</span></label>\n                      <div className={`inputInfo px-0`} style={{ minHeight: '46px', height: 'fit-content', padding: '0px 14px' }}>\n                        <Select1\n                          placeholder=\"Select Manager\"\n                          className=\"basic-multi-select w-100 border-0\"\n                          closeMenuOnSelect={false}\n                          components={{ Option: CustomOption }}\n                          value={selectedManagers}\n                          onChange={(selected) => {\n                            const managers = selected\n                              ? [...new Map(selected.map((obj) => [obj.value, { manager: obj.value }])).values()]\n                              : [];\n\n                            setSelectedManagers(selected);\n                            setPayload((others) => ({ ...others, managers: managers || [] }));\n                          }}\n                          isMulti\n                          styles={{\n                            control: (styles) => ({\n                              ...styles, boxShadow: 'none',\n                            }),\n                            multiValueRemove: (styles) => {\n                              return {\n                                ...styles,\n                                ':hover': {\n                                  backgroundColor: '#fff',\n                                  cursor: 'pointer'\n                                },\n                              };\n                            },\n                            multiValue: (styles, { data }) => {\n                              return {\n                                ...styles,\n                                backgroundColor: '#fff',\n                                border: '1px solid #D0D5DD',\n                                borderRadius: '4px',\n                                ':before': {\n                                  borderRadius: '50%',\n                                  content: '\" \"',\n                                  backgroundImage: data?.has_photo ? `url(${data.image})` : 'url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGZpbGw9IiM2NjcwODUiIGNsYXNzPSJiaSBiaS1wZXJzb24iPjxwYXRoIGQ9Ik04IDhhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTItM2EyIDIgMCAxIDEtNCAwIDIgMiAwIDEgMSA0IDBtNCA4YzAgMS0xIDEtMSAxSDMscy0xIDAtMS0xIDEtNCA2LTQgNiAzIDYgNG0tMS0uMDA0Yy0uMDAxLS4yNDYtLjE1NC0uOTg2LS44MzItMS42NjRDMTEuNTE2IDEwLjY4IDEwLjI4OSAxMCA4IDEwcy0zLjUxNi42OC00LjE2OCAxLjMzMmMtLjY3OC42NzgtLjgzIDEuNDE4LS44MzIgMS42NjR6Ij48L3BhdGg+PC9zdmc+\")',\n                                  backgroundSize: 'cover',\n                                  backgroundPosition: 'center',\n                                  backgroundRepeat: 'no-repeat',\n                                  display: 'block',\n                                  marginRight: 8,\n                                  position: 'relative',\n                                  top: '5px',\n                                  left: '5px',\n                                  height: 16,\n                                  width: 16,\n                                  border: '0.3px solid #101828'\n                                },\n                              };\n                            },\n                          }}\n                          options={projectManagerQuery?.data?.map((user) => ({\n                            value: user.id,\n                            label: user.name,\n                            image: user.photo,\n                            has_photo: user.has_photo\n                          }))}\n                        />\n                      </div>\n                    </div>\n\n                  </Col>\n                  <Col sm={12} className='text-start'>\n                    <div className=\"formgroupboxs mb-3\">\n                      <label style={{ color: '#475467', fontSize: '14px', marginBottom: '6px' }}>PO</label>\n                      <div className={`inputInfo px-0`} style={{ height: '46px' }}>\n                        <Form.Control\n                          required\n                          type=\"text\"\n                          placeholder=\"Purchase Order #\"\n                          value={payload?.purchase_order || \"\"}\n                          style={{ color: '#101828' }}\n                          className='w-100 m-0 border-0 no-border-outline'\n                          onChange={(e) => setPayload((data) => ({ ...data, purchase_order: e.target.value }))}\n                        />\n                      </div>\n                    </div>\n                  </Col>\n                  <Col sm={12} className='text-start'>\n                    <Form.Group className=\"mb-3 mui-select-custom\">\n                      <Form.Label style={{ color: '#475467', fontSize: '14px', marginBottom: '6px' }}>Amounts are<span className='required'>*</span></Form.Label>\n                      <FormControl sx={{ m: 0, minWidth: `100%`, color: '#101828' }}>\n                        <Select\n                          value={payload?.xero_tax || \"\"}\n                          onChange={(e) => setPayload((data) => ({ ...data, xero_tax: e.target.value }))}\n                          displayEmpty\n                          inputProps={{ 'aria-label': 'Without label' }}\n                          IconComponent={ChevronDown}\n                        >\n                          <MenuItem value={\"ex\"}>Tax exclusive</MenuItem>\n                          <MenuItem value={\"in\"}>Tax Inclusive</MenuItem>\n                          <MenuItem value={\"no\"}>No tax</MenuItem>\n                        </Select>\n                      </FormControl>\n                    </Form.Group>\n                  </Col>\n                </Row>\n              </Col>\n              <Col>\n                <Row>\n                  <Col sm={12} className='quoteInvoice'>\n                    <div className=\"radio-buttons mt-4 pt-3\">\n                      <CustomRadioButton\n                        label={<><b>Request Payment </b> <span> Create an invoice requesting <br></br>payment on a specific date</span></>}\n                        name=\"payment\"\n                        value=\"request\"\n                        checked={paymentCollection === 'request'}\n                        onChange={() => setPaymentCollection(\"request\")}\n                      />\n                      <CustomRadioButton\n                        label={<><b>Autocharge Customer </b> <span> Automatically charge a payment<br></br> method on file</span></>}\n                        name=\"payment\"\n                        value=\"auto\"\n                        checked={paymentCollection === 'auto'}\n                        onChange={() => setPaymentCollection(\"auto\")}\n                      />\n                    </div>\n                  </Col>\n                  <Col sm={12}>\n                    <div className=\"toggle-switch-wrap\">\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={Boolean(payload.display_discount)}\n                          onChange={(e) => setPayload((prevPayload) => ({\n                            ...prevPayload,\n                            display_discount: e.target.checked\n                          }))}\n                        />\n                        <span className=\"switch\" />\n                      </label>\n                      <em>Display Discounts</em>\n                    </div>\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </div>\n\n      {quoteType === 'Recurring' &&\n        <div style={{ background: '#fff', borderRadius: '4px', padding: '16px', width: '100%' }} >\n          <h3 style={{ color: 'rgb(52, 64, 84)', fontSize: '16px', fontWeight: '600', textAlign: 'left' }}>\n            Recurring Details {\" \"}\n            {['top'].map((placement) => (\n              <OverlayTrigger\n                key={placement}\n                placement={placement}\n                overlay={\n                  <Tooltip className='TooltipOverlay width-300' id={`tooltip-${placement}`}>\n                    <div className='text-start'>\n                      1. Daily - 15 Upfront <br />\n                      2. Weekly - Day of the Week - 5 Upfront<br />\n                      3. Biweekly - Day of the week - 4 Upfront<br />\n                      4. Monthly - Date - 3 Upfront<br />\n                      5. Last Day of the Month - Date - 3 Upfront<br />\n                      6. Quarterly - Date - 4 Upfront<br />\n                      7. Yearly - 2 Upfront\n                    </div>\n\n                  </Tooltip>\n                }\n              >\n                <Button className='ms-1 bg-transparent border-0 p-0'><InfoCircle size={16} color=\"#667085\" /> </Button>\n              </OverlayTrigger>\n            ))}\n          </h3>\n\n          <div className='d-flex align-items-center gap-3'>\n            <div className=\"formgroupboxs mb-3 text-start\">\n              <label style={{ color: '#475467', fontSize: '14px', marginBottom: '6px', display: 'block' }}>Frequency <span className='required'>*</span></label>\n              <Dropdown\n                style={{ height: '46px',  minWidth: '250px', maxWidth: '250px'  }}\n                value={payload?.recurring?.frequency || null}\n                onChange={(e) => setPayload((data) => ({ ...data, recurring: { ...data?.recurring, frequency: e.value } }))}\n                options={[\n                  { label: \"Daily\", value: \"D\" },\n                  { label: \"Weekly\", value: \"W\" },\n                  { label: \"Biweekly\", value: \"B\" },\n                  { label: \"Monthly\", value: \"M\" },\n                  { label: \"Last Day of the Month\", value: \"L\" },\n                  { label: \"Quarterly\", value: \"Q\" },\n                  { label: \"Yearly\", value: \"Y\" },\n                ]}\n                className=\"w-100 outline-none\"\n                placeholder=\"Select frequency\"\n              />\n            </div>\n\n            <div className=\"formgroupboxs mb-3 text-start\">\n              <label style={{ color: '#475467', fontSize: '14px', marginBottom: '6px' }}>Start <span className='required'>*</span></label>\n              <Calendar\n                value={payload?.recurring?.start_date || null}\n                onChange={(e) => setPayload((data) => ({ ...data, recurring: { ...data?.recurring, start_date: e.value } }))}\n                showButtonBar\n                placeholder='DD/MM/YY'\n                dateFormat=\"dd/mm/yy\"\n                locale=\"en\"\n                style={{ height: '46px' }}\n                className='w-100 outline-none border rounded'\n              />\n            </div>\n\n            <div className=\"formgroupboxs mb-3 text-start\">\n              <label style={{ color: '#475467', fontSize: '14px', marginBottom: '6px' }}>End <span className='required'>*</span></label>\n              <Dropdown\n                value={payload?.recurring?.end_by}\n                onChange={(e) => setPayload((data) => ({ ...data, recurring: { ...data?.recurring, end_by: e.value } }))}\n                options={[\n                  { label: \"No end\", value: 0 },\n                  { label: \"Number of Occurrences\", value: 2 },\n                  { label: \"By date\", value: 1 },\n                ]}\n                style={{ height: '46px', minWidth: '260px' }}\n                className=\"w-100 outline-none\"\n                placeholder=\"Select an end\"\n              />\n            </div>\n\n            {\n              payload?.recurring?.end_by === 2 ?\n                <div className=\"formgroupboxs mb-3 text-start\">\n                  <label style={{ color: '#475467', fontSize: '14px', marginBottom: '6px' }}>Number of Occurrences <span className='required'>*</span></label>\n                  <InputNumber\n                    value={payload?.recurring?.occurrences || 0}\n                    onValueChange={(e) => setPayload((data) => ({ ...data, recurring: { ...data?.recurring, occurrences: e.target.value } }))}\n                    style={{ height: '46px' }}\n                    placeholder='Enter number of occurrences'\n                    inputStyle={{ width: '80px' }}\n                    className='w-100 outline-none border rounded'\n                  />\n                </div>\n                : payload?.recurring?.end_by === 1 ?\n                  <div className=\"formgroupboxs mb-3 text-start\">\n                    <label style={{ color: '#475467', fontSize: '14px', marginBottom: '6px' }}>By Date <span className='required'>*</span></label>\n                    <Calendar\n                      value={payload?.recurring?.end_date || null}\n                      onChange={(e) => setPayload((data) => ({ ...data, recurring: { ...data?.recurring, end_date: e.value } }))}\n                      showButtonBar\n                      placeholder='DD/MM/YY'\n                      dateFormat=\"dd/mm/yy\"\n                      locale=\"en\"\n                      style={{ height: '46px' }}\n                      className='w-100 outline-none border rounded'\n                    />\n                  </div>\n                  : null\n            }\n          </div>\n        </div>\n      }\n\n    </React.Fragment>\n  );\n});\n\nexport default DepartmentQuote;","// extracted by mini-css-extract-plugin\nexport default {\"iconStyle\":\"create-proposal_iconStyle__Q0cmV\",\"headerTitle\":\"create-proposal_headerTitle__vMyBv\",\"customLabel\":\"create-proposal_customLabel__vKXkN\",\"dropdownSelect\":\"create-proposal_dropdownSelect__uAoBl\",\"accordion\":\"create-proposal_accordion__WM+iT\",\"error\":\"create-proposal_error__QxGLm\",\"p-accordion-content\":\"create-proposal_p-accordion-content__om9Aa\",\"uploadBox\":\"create-proposal_uploadBox__KxAAF\",\"imageBox\":\"create-proposal_imageBox__-Eh-d\",\"uploadButton\":\"create-proposal_uploadButton__jHShw\",\"uploadText\":\"create-proposal_uploadText__mWPJf\",\"trashBox\":\"create-proposal_trashBox__A3WDp\"};","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"file-uploader_title__MJFJ7\",\"previewSection\":\"file-uploader_previewSection__ot4jI\",\"previewBox\":\"file-uploader_previewBox__KC4if\",\"previewBoxImg1\":\"file-uploader_previewBoxImg1__rKP04\",\"previewBoxImg2\":\"file-uploader_previewBoxImg2__7XwSP\",\"previewBoxImg3\":\"file-uploader_previewBoxImg3__7luuQ\",\"previewBoxImg4\":\"file-uploader_previewBoxImg4__EcGdL\",\"previewBoxImg5\":\"file-uploader_previewBoxImg5__2ZZPh\",\"previewActions\":\"file-uploader_previewActions__r3LWm\",\"label\":\"file-uploader_label__pWhYK\",\"label2\":\"file-uploader_label2__N-JEM\"};","import { nanoid } from \"nanoid\";\n\nexport function base64ToBlob(base64, mime) {\n    const byteString = atob(base64.split(',')[1]);\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type: mime });\n}\n\nexport const base64ToFile = (base64String) => {\n    const photoHintId = nanoid(6);\n    const fileName = `${photoHintId}.jpg`;\n    const byteString = atob(base64String.split(',')[1]); // Decode Base64 string\n    const mimeString = base64String.split(',')[0].split(':')[1].split(';')[0]; // Get MIME type\n\n    const arrayBuffer = new ArrayBuffer(byteString.length);\n    const uint8Array = new Uint8Array(arrayBuffer);\n\n    for (let i = 0; i < byteString.length; i++) {\n        uint8Array[i] = byteString.charCodeAt(i);\n    }\n\n    return new File([uint8Array], fileName, { type: mimeString });\n};","import React, { useCallback, useEffect, useState } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport { ArrowClockwise, CloudUpload } from 'react-bootstrap-icons';\nimport { useDropzone } from 'react-dropzone';\nimport Cropper from 'react-easy-crop';\nimport clsx from 'clsx';\nimport Form from 'react-bootstrap/Form';\nimport { toast } from 'sonner';\nimport styles from './file-uploader.module.scss';\nimport { base64ToBlob } from './utils';\n\nconst FileUploader = ({ show, setShow, setPhoto, additionalDesign, shape=\"rect\" }) => {\n    const [files, setFiles] = useState([]);\n    const [crop, setCrop] = useState({ x: 0, y: 0 });\n    const [zoom, setZoom] = useState(1);\n    const [rotation, setRotation] = useState(0);\n    const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n    const [croppedImages, setCroppedImages] = useState({});\n\n    const handleClose = () => setShow(false);\n\n    const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n        setCroppedAreaPixels(croppedAreaPixels);\n    }, []);\n\n    const getCroppedImg = useCallback(async () => {\n        if (!files.length || !croppedAreaPixels) return;\n\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        const img = new Image();\n        img.src = files[0].preview;\n        await new Promise((resolve) => (img.onload = resolve));\n\n        // Set canvas dimensions to the cropped area's dimensions\n        canvas.width = croppedAreaPixels.width;\n        canvas.height = croppedAreaPixels.height;\n\n        // Translate canvas to center to rotate around the center\n        ctx.translate(canvas.width / 2, canvas.height / 2);\n        ctx.rotate((rotation * Math.PI) / 180);\n        ctx.translate(-canvas.width / 2, -canvas.height / 2);\n\n        ctx.drawImage(\n            img,\n            croppedAreaPixels.x,\n            croppedAreaPixels.y,\n            croppedAreaPixels.width,\n            croppedAreaPixels.height,\n            0,\n            0,\n            croppedAreaPixels.width,\n            croppedAreaPixels.height\n        );\n\n        const base64Image = canvas.toDataURL('image/jpeg');\n        return base64Image;\n    }, [files, croppedAreaPixels, rotation]);\n\n    const generateCroppedImages = async () => {\n        const croppedImage = await getCroppedImg();\n        if (croppedImage) {\n            setCroppedImages({\n                img2: croppedImage,\n                img3: croppedImage,\n                img4: croppedImage,\n                img5: croppedImage,\n            });\n        }\n    };\n\n    useEffect(() => {\n        generateCroppedImages();\n    }, [zoom, crop, rotation, files, croppedAreaPixels]);\n\n    const {\n        getRootProps,\n        getInputProps\n    } = useDropzone({\n        maxFiles: 1,\n        accept: {\n            'image/*': []\n        },\n        onDrop: acceptedFiles => {\n            setFiles(acceptedFiles.map(file => Object.assign(file, {\n                preview: URL.createObjectURL(file)\n            })));\n        }\n    });\n\n    const remove = (e) => {\n        e.stopPropagation();\n        setFiles([]);\n        setCroppedImages({});\n        setShow(false);\n    };\n\n    const rotateImage = () => {\n        setRotation((prevRotation) => (prevRotation + 90) % 360);\n    };\n\n    const handleImage = async () => {\n        const croppedImageBase64 = await getCroppedImg();\n        if (!croppedImageBase64) return toast.error('Please select a photo');\n        const croppedImageBlob = base64ToBlob(croppedImageBase64, 'image/jpeg');\n        setPhoto({ croppedImageBase64, croppedImageBlob });\n        setShow(false);\n        setFiles([]);\n        setCroppedImages({});\n    };\n\n    return (\n        <Modal style={{ zIndex: 1111 }} show={show} centered onHide={handleClose} onShow={generateCroppedImages}>\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    <span className={`${styles.title}`}>Edit Photo</span>\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {additionalDesign}\n                <div className={`${styles.previewSection}`}>\n                    <div className={`${styles.previewBox}`}>\n                        <div className={clsx(styles.previewBoxImg1, shape === 'round' ? 'rounded-circle' : '')}>\n                            <Cropper\n                                image={files.length > 0 ? files[0].preview : null}\n                                crop={crop}\n                                zoom={zoom}\n                                cropShape={shape}\n                                rotation={rotation}\n                                onCropChange={setCrop}\n                                onZoomChange={setZoom}\n                                onCropComplete={onCropComplete}\n                                aspect={3/2} // or remove this if you want a flexible aspect ratio\n                                restrictPosition={false} // Allow full movement within the bounds\n                                style={{\n                                    containerStyle: {\n                                        width: '100%',\n                                        height: '100%',\n                                        position: 'relative',\n                                    },\n                                    cropAreaStyle: {\n                                        width: '100%',\n                                        height: '100%',\n                                    },\n                                    mediaStyle: {\n                                        width: '100%',\n                                        height: '100%',\n                                        objectFit: 'contain',\n                                    },\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <div className={`${styles.previewActions}`}>\n                        <Form.Group>\n                            <Form.Label className={`${styles.label}`}>Zoom</Form.Label>\n                            <Form.Range\n                                value={zoom}\n                                min={1}\n                                max={3}\n                                step={0.1}\n                                className='custom-range'\n                                onChange={(e) => setZoom(e.target.value)}\n                            />\n                        </Form.Group>\n                        <div className='d-flex align-item-center pt-4 ms-4' style={{ gap: '8px' }}>\n                            <Button className='text-button' onClick={rotateImage}>\n                                <ArrowClockwise color='#106B99' size={24} />\n                                Rotate\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n\n                <div {...getRootProps({ className: 'dropzone d-flex justify-content-center align-items-center flex-column' })} style={{ width: '100%', height: '126px', background: '#fff', borderRadius: '4px', border: '1px solid #EAECF0', marginTop: '16px' }}>\n                    <input {...getInputProps()} />\n                    <button type='button' className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', border: '1px solid #EAECF0', background: '#fff', borderRadius: '8px', marginBottom: '16px' }}>\n                        <CloudUpload />\n                    </button>\n                    <p className='mb-0' style={{ color: '#475467', fontSize: '14px' }}><span style={{ color: '#106B99', fontWeight: '600' }}>Click to upload</span> or drag and drop</p>\n                    <span style={{ color: '#475467', fontSize: '12px' }}>SVG, PNG, JPG or GIF (max. 800x400px)</span>\n                </div>\n            </Modal.Body>\n            <Modal.Footer className='d-flex justify-content-end'>\n                <Button className='outline-button' onClick={remove}>Cancel</Button>\n                <Button className='solid-button' onClick={handleImage}>Save Photo</Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default FileUploader;\n","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-proposal-email_headerTitle__Z8dTz\",\"customLabel\":\"send-proposal-email_customLabel__BN+xG\",\"bag\":\"send-proposal-email_bag__a-GeD\",\"lable\":\"send-proposal-email_lable__PQY4a\",\"dropdownSelect\":\"send-proposal-email_dropdownSelect__WENZ5\",\"autoCompleteBox\":\"send-proposal-email_autoCompleteBox__la62D\",\"AutoComplete\":\"send-proposal-email_AutoComplete__55Bdi\",\"bcc\":\"send-proposal-email_bcc__G5naH\",\"box\":\"send-proposal-email_box__CiEmC\",\"active\":\"send-proposal-email_active__ERNoo\",\"inputBox\":\"send-proposal-email_inputBox__-sHnD\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Button, Col, Row } from \"react-bootstrap\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport style from \"./send-proposal-email.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\n\nconst headerElement = (\n    <div className={`${style.modalHeader}`}>\n        <div className=\"w-100 d-flex align-items-center gap-2\">\n            <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                Send a Proposal\n            </span>\n        </div>\n    </div>\n);\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendProposalEmailForm = ({ show, setShow, contactPersons, setPayload, save }) => {\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const handleClose = () => setShow(false);\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n    });\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n    });\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n    });\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n\n        if (!emailTemplateId && emailTemplateQuery?.data) {\n            const activeTemplateId = emailTemplateQuery?.data?.find((template) => template.type === 'Proposal');\n            if (activeTemplateId?.id) setEmailTemplatedId(activeTemplateId.id);\n        }\n\n    }, [emailQuery, outgoingEmailTemplateQuery]);\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n        setIsLoading(true);\n        await save();\n        setIsLoading(false);\n    };\n\n    const footerContent = (\n        <div className=\"d-flex justify-content-end gap-2\">\n            <Button className=\"outline-button\" onClick={() => setShow(false)}>\n                Cancel\n            </Button>\n            <Button className=\"solid-button\" disabled={isLoading} onClick={onSubmit}>\n                Send{\" \"}\n                {isLoading && (\n                    <ProgressSpinner\n                        style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                    />\n                )}\n            </Button>\n        </div>\n    );\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email));\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setTo((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setCC((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setBCC((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email));\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n\n    return (\n        <Dialog\n            visible={show}\n            modal={true}\n            header={headerElement}\n            footer={footerContent}\n            className={`${style.modal} custom-modal`}\n            style={{ width: \"896px\" }}\n            onHide={handleClose}\n        >\n            <Row>\n                <Col sm={6} className='mb-3'>\n                    <div style={{ position: 'relative' }}>\n                        <label className={clsx(style.customLabel)}>FROM</label>\n                        <Dropdown\n                            options={\n                                (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                    value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                    label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                }])) ||\n                                []\n                            }\n                            className={clsx(\n                                style.dropdownSelect,\n                                \"dropdown-height-fixed w-100\"\n                            )}\n                            style={{ height: \"46px\", paddingLeft: '60px' }}\n                            placeholder=\"Select from email\"\n                            onChange={(e) => {\n                                setFrom(e.value);\n                                setErrors((others) => ({ ...others, from: false }));\n                            }}\n                            value={from}\n                        />\n                    </div>\n                    {errors?.from && (\n                        <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                    )}\n                </Col>\n                <Col sm={6} className='mb-3'>\n                    <div style={{ position: 'relative' }}>\n                        <label className={clsx(style.customLabel)}>Templates</label>\n                        <Dropdown\n                            options={\n                                (emailTemplateQuery &&\n                                    emailTemplateQuery.data?.map((emailTemplate) => ({\n                                        value: emailTemplate.id,\n                                        label: `${emailTemplate.name}`,\n                                    }))) ||\n                                []\n                            }\n                            className={clsx(\n                                style.dropdownSelect,\n                                \"dropdown-height-fixed w-100\"\n                            )}\n                            style={{ height: \"46px\", paddingLeft: '88px' }}\n                            placeholder=\"Select template\"\n                            onChange={(e) => {\n                                setEmailTemplatedId(e.value);\n                            }}\n                            value={emailTemplateId}\n                            loading={emailTemplateQuery?.isFetching}\n                        />\n                    </div>\n                </Col>\n            </Row>\n            <Row>\n                <Col sm={12} className='mb-3'>\n                    <div className=\"d-flex gap-3 w-100\">\n                        <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                            <div style={{ width: '50px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>TO</label>\n                            <AutoComplete\n                                ref={autoCompleteRef}\n                                value={to}\n                                completeMethod={search}\n                                onChange={(e) => {\n                                    setTo(e.value);\n                                    setErrors((others) => ({ ...others, to: false }));\n                                }}\n                                multiple\n                                suggestions={filteredEmails}\n                                onClick={onFocus}\n                                onFocus={onFocus}\n                                onKeyUp={onInputChange}\n                                onBlur={(e) => {\n                                    const currentValue = e.target.value.trim();\n                                    if (currentValue) {\n                                        setTo((prev) => [...new Set([...prev, currentValue])]);\n                                        e.target.value = '';\n                                    }\n                                }}\n                                className={clsx(style.AutoComplete, \"w-100\")}\n                                placeholder=\"TO\"\n                            />\n                        </div>\n                        <Button\n                            className={clsx(style.box, { [style.active]: showCC })}\n                            onClick={() => { setShowCC(!showCC); setCC([]); }}\n                        >\n                            CC\n                        </Button>\n                        <Button\n                            className={clsx(style.box, { [style.active]: showBCC })}\n                            onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                        >\n                            BCC\n                        </Button>\n                    </div>\n                    {errors?.to && (\n                        <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                    )}\n                </Col>\n                {\n                    showCC &&\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '50px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>CC</label>\n                            <AutoComplete\n                                ref={autoCompleteRef2}\n                                value={cc}\n                                completeMethod={search}\n                                onChange={(e) => { setCC(e.value); }}\n                                multiple\n                                suggestions={filteredEmails}\n                                onClick={onFocus2}\n                                onFocus={onFocus2}\n                                onKeyUp={onInputChange2}\n                                onBlur={(e) => {\n                                    const currentValue = e.target.value.trim();\n                                    if (currentValue) {\n                                        setCC((prev) => [...new Set([...prev, currentValue])]);\n                                        e.target.value = '';\n                                    }\n                                }}\n                                className={clsx(style.AutoComplete, \"w-100\")}\n                                placeholder=\"CC\"\n                            />\n                        </div>\n                    </Col>\n                }\n\n                {\n                    showBCC && <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>BCC</label>\n                            <AutoComplete\n                                ref={autoCompleteRef3}\n                                value={bcc}\n                                completeMethod={search}\n                                onChange={(e) => { setBCC(e.value); }}\n                                multiple\n                                suggestions={filteredEmails}\n                                onClick={onFocus3}\n                                onFocus={onFocus3}\n                                onKeyUp={onInputChange3}\n                                onBlur={(e) => {\n                                    const currentValue = e.target.value.trim();\n                                    if (currentValue) {\n                                        setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                        e.target.value = '';\n                                    }\n                                }}\n                                className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                placeholder=\"BCC\"\n                            />\n                        </div>\n                    </Col>\n                }\n                <Col sm={12} className='mb-2'>\n                    <div style={{ position: 'relative' }}>\n                        <div style={{ width: '60px' }} className={style.bag}></div>\n                        <label className={clsx(style.customLabel)}>SUBJECT</label>\n                        <IconField>\n                            <InputIcon>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <InputText\n                                value={subject}\n                                className={clsx(style.inputBox, 'w-100')}\n                                style={{ paddingLeft: '100px' }}\n                                onChange={(e) => {\n                                    setSubject(e.target.value);\n                                    setErrors((others) => ({ ...others, subject: false }));\n                                }}\n                                placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                            />\n                        </IconField>\n                    </div>\n                    {errors?.subject && (\n                        <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                    )}\n                </Col>\n                <Col sm={12} className='mb-3'>\n                    <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                        <label className={clsx(style.lable)}>Message</label>\n                        <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                            {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                        </InputIcon>\n                        <Editor\n                            style={{ minHeight: \"150px\" }}\n                            headerTemplate={header}\n                            value={text}\n                            placeholder='Enter a description...'\n                            onTextChange={(e) => {\n                                setText(e.htmlValue);\n                                setErrors((others) => ({ ...others, text: false }));\n                            }}\n                        />\n                    </div>\n                    {errors?.text && (\n                        <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                    )}\n                </Col>\n                <Col sm={12}>\n                    <div style={{ position: 'relative' }}>\n                        <label className={clsx(style.customLabel)}>Signature</label>\n                        <Dropdown\n                            options={\n                                (signatureQuery &&\n                                    signatureQuery.data?.map((template) => ({\n                                        value: template.id,\n                                        label: `${template.name}`,\n                                    }))) ||\n                                []\n                            }\n                            panelClassName='px880-dropdown-item'\n                            className={clsx(\n                                style.dropdownSelect,\n                                \"dropdown-height-fixed w-100\"\n                            )}\n                            style={{ height: \"46px\", paddingLeft: '88px' }}\n                            placeholder=\"Select signature\"\n                            onChange={(e) => {\n                                setSignature(e.value);\n                            }}\n                            value={signature}\n                            loading={signatureQuery?.isFetching}\n                        />\n                    </div>\n                </Col>\n            </Row>\n        </Dialog>\n    );\n};\n\nexport default SendProposalEmailForm;","import React from 'react';\nimport SendProposalEmailForm from '../../../../../ui/send-proposal/send-proposal-email-form';\n\nconst SendProposal = ({ show, setShow, contactPersons, setPayload, onSubmit, handleClose }) => {\n  const save = async () => {\n    const res = await onSubmit('send');\n    return res;\n  };\n\n  return (\n    <SendProposalEmailForm show={show} setShow={setShow} contactPersons={contactPersons} setPayload={setPayload} save={save} handleOtherClose={handleClose} />\n  );\n};\n\nexport default SendProposal;","import React, { useEffect, useState } from 'react';\nimport { Button, Col, Row } from \"react-bootstrap\";\nimport { Check2Circle, CloudUpload, PlusLg, Trash } from 'react-bootstrap-icons';\nimport { useParams } from 'react-router-dom';\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { nanoid } from 'nanoid';\nimport { Accordion, AccordionTab } from 'primereact/accordion';\nimport { Dialog } from \"primereact/dialog\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport { toast } from 'sonner';\nimport style from './create-proposal.module.scss';\nimport FileUploader from './file-uploader/file-uploader';\nimport { getProposalBySalesId, getProposalsTemplate, getProposalsTemplates } from '../../../../../APIs/email-template';\nimport SendProposal from '../send-proposal/send-proposal';\n\n\nconst headerElement = (\n    <div className={`${style.modalHeader}`}>\n        <div className=\"w-100 d-flex align-items-center gap-2\">\n            <b className={style.iconStyle}><Check2Circle size={24} color=\"#079455\" /></b>\n            <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                Proposal\n            </span>\n        </div>\n    </div>\n);\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\n\nconst header = renderHeader();\n\nconst CreateProposal = ({ show, setShow, refetch, contactPersons, isExist }) => {\n    const { unique_id } = useParams();\n    const [isLoading, setIsLoading] = useState(false);\n    const [isVisible, setIsVisible] = useState(false);\n    const [errors, setErrors] = useState({});\n    const [fileName, setFileName] = useState('');\n    const [showSendModal, setShowSendModal] = useState(false);\n    const [payload, setPayload] = useState({});\n\n    const [templateId, setTemplatedId] = useState(null);\n    const [sections, setSections] = useState([]);\n    const [image, setImage] = useState(null);\n\n    const proposalTemplateQuery = useQuery({\n        queryKey: [\"proposalTemplate\"],\n        queryFn: getProposalsTemplates,\n    });\n\n    const readProposalQuery = useQuery({\n        queryKey: [\"readProposal\", unique_id],\n        queryFn: () => getProposalBySalesId(unique_id),\n        enabled: !!unique_id && isExist,\n        retry: 0,\n    });\n    \n    useEffect(() => {\n        if (readProposalQuery?.data) {\n            setTemplatedId(readProposalQuery?.data?.template);\n        }\n        if (!image && readProposalQuery?.data?.image) {\n            setImage({ croppedImageBase64: readProposalQuery?.data?.image });\n        }\n    }, [readProposalQuery?.data]);\n\n    const proposalQuery = useQuery({\n        queryKey: [\"getProposal\", templateId],\n        queryFn: () => getProposalsTemplate(templateId),\n        enabled: !!templateId,\n        retry: 0,\n    });\n    const sendProposalAction = () => {\n        // if (!templateId) return toast.error('Template is required');\n        if (!unique_id) return toast.error('Id not found');\n        let notdeletedSections = sections?.filter(section => !section.delete);\n        if (!notdeletedSections?.length) return toast.error('Please add proposal content');\n\n        const newErrors = {};\n        const sectionErrors = sections?.filter(section => !section.delete)?.map((section) => {\n            const sectionError = {};\n\n            if (!section.title) sectionError.title = true;\n            if (!section.description) sectionError.description = true;\n            return sectionError;\n        });\n        if (sectionErrors.some(sectionError => Object.keys(sectionError).length > 0)) {\n            newErrors.sections = sectionErrors;\n        }\n\n        // if (!image) {\n        //     newErrors.image = true;\n        // }\n\n        setErrors(newErrors);\n\n        if (Object.keys(newErrors).length === 0) {\n            setShow(false);\n            setShowSendModal(true);\n        }\n    };\n    const onSubmit = async (action) => {\n        // if (!templateId) return toast.error('Template is required');\n        if (!unique_id) return toast.error('Id not found');\n        let notdeletedSections = sections?.filter(section => !section.delete);\n        if (!notdeletedSections?.length) return toast.error('Please add proposal content');\n        setErrors({});\n\n        const newErrors = {};\n        const sectionErrors = sections?.filter(section => !section.delete)?.map((section) => {\n            const sectionError = {};\n\n            if (!section.title) sectionError.title = true;\n            if (!section.description) sectionError.description = true;\n            return sectionError;\n        });\n        if (sectionErrors.some(sectionError => Object.keys(sectionError).length > 0)) {\n            newErrors.sections = sectionErrors;\n        }\n\n        // if (!image) {\n        //     newErrors.image = true;\n        // }\n\n        setErrors(newErrors);\n        if (Object.keys(newErrors).length === 0) {\n            const formData = new FormData();\n\n            sections.forEach((section, index) => {\n                formData.append(`sections[${index}]title`, section.title);\n                formData.append(`sections[${index}]description`, section.description);\n                formData.append(`sections[${index}]delete`, !!section.delete);\n                if (readProposalQuery?.data && section.id) formData.append(`sections[${index}]id`, section.id);\n            });\n            if (templateId) formData.append('template', templateId);\n            else formData.append('template', \"\");\n\n            if (action === \"send\") {\n                formData.append('action', 'send');\n                formData.append('subject', payload?.subject);\n                formData.append('email_body', payload?.email_body);\n                formData.append('from_email', payload?.from_email);\n                formData.append('to', payload?.to);\n                if (payload?.cc) formData.append('cc', payload?.cc);\n                if (payload?.bcc) formData.append('bcc', payload?.bcc);\n            } else {\n                formData.append('action', 'create');\n            }\n\n            if (image?.croppedImageBlob) {\n                const photoHintId = nanoid(6);\n                formData.append('image', image?.croppedImageBlob, `${photoHintId}.jpg`);\n            }\n            const accessToken = localStorage.getItem(\"access_token\");\n\n            setIsLoading(true);\n            let method = \"POST\";\n            let URL = `${process.env.REACT_APP_BACKEND_API_URL}/proposals/new/${unique_id}/`;\n            if (readProposalQuery?.data) {\n                method = \"PUT\";\n                URL = `${process.env.REACT_APP_BACKEND_API_URL}/proposals/update/${unique_id}/`;\n            }\n            try {\n                setIsLoading(true);\n\n                const response = await fetch(URL, {\n                    method: method,\n                    headers: {\n                        'Authorization': `Bearer ${accessToken}`,\n                    },\n                    body: formData,\n                });\n\n                const data = await response.json();\n                setIsLoading(false);\n\n                if (response.ok) {\n                    handleClose();\n                    toast.success(`Proposal ${action === 'send' ? 'created and send' : 'created'} successfully!`);\n                    refetch();\n                    readProposalQuery.refetch();\n                    return \"success\";\n                } else {\n                    toast.error(`Failed to ${action === 'send' ? 'create and send' : 'create'} the proposal. Please try again.`);\n                    return \"error\";\n                }\n            } catch (error) {\n                setIsLoading(false);\n                console.error(\"Error creating proposal:\", error);\n                toast.error(`Failed to ${action === 'send' ? 'create and send' : 'create'} the proposal. Please try again.`);\n                return \"error\";\n            } finally {\n                setIsLoading(false);\n            }\n        }\n    };\n    const handleClose = () => {\n        setShow(false);\n        // setTemplatedId(null);\n        // setSections([]);\n        // setImage(null);\n        // setFileName('');\n        setShowSendModal(false);\n    };\n    const handleAddSection = () => {\n        setSections([...sections, { title: \"\", description: \"\" }]);\n    };\n    const handleDeleteSection = (index, id) => {\n        if (id) {\n            setSections((prevSections) =>\n                prevSections.map((section, i) =>\n                    i === index ? { ...section, delete: true } : section\n                )\n            );\n        } else {\n            setSections((prevSections) =>\n                prevSections.filter((section, i) => i !== index)\n            );\n        }\n    };\n    const handleImageUpload = (event) => {\n        const file = event.target.files[0];\n        if (file) {\n            setImage(file);\n            setFileName(file.name);\n        }\n    };\n    const footerContent = (\n        <div className='d-flex justify-content-between'>\n            <Button className='text-button text-danger' onClick={handleClose}>Cancel</Button>\n            <div className=\"d-flex justify-content-end gap-2\">\n                <Button className=\"btn info-button\" onClick={handleAddSection}>\n                    Add  New Section <PlusLg color='#106B99' />\n                </Button>\n                <Button className=\"outline-button\" disabled={isLoading} onClick={onSubmit}>\n                    Create & Save\n                    {isLoading && (\n                        <ProgressSpinner\n                            style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                        />\n                    )}\n                </Button>\n                <Button className=\"solid-button\" onClick={sendProposalAction}>\n                    Send Proposal\n                </Button>\n            </div>\n        </div>\n    );\n\n    useEffect(() => {\n        if (templateId && templateId != readProposalQuery?.data?.template && proposalQuery?.data) {\n            setSections([\n                ...readProposalQuery?.data?.sections?.map(section => ({ ...section, delete: true })) || [],\n                ...proposalQuery?.data?.sections?.map(({ id, ...rest }) => ({ ...rest })) || []\n            ]);\n        } else if (templateId === readProposalQuery?.data?.template) {\n            setSections(readProposalQuery?.data?.sections);\n        }\n    }, [templateId, proposalQuery?.data, readProposalQuery?.data]);\n\n    return (\n        <>\n            <Dialog\n                visible={show}\n                modal={true}\n                header={headerElement}\n                footer={footerContent}\n                className={`${style.modal} custom-modal p-0`}\n                style={{ width: \"896px\" }}\n                onHide={handleClose}\n            >\n                <Row className='px-4 pt-4 border-bottom mb-3 bg-white'>\n                    <Col sm={12} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <label className={clsx(style.customLabel)}>Templates</label>\n                            <Dropdown\n                                options={\n                                    (proposalTemplateQuery &&\n                                        proposalTemplateQuery.data?.map((template) => ({\n                                            value: template.id,\n                                            label: `${template.name}`,\n                                        }))) ||\n                                    []\n                                }\n                                className={clsx(\n                                    style.dropdownSelect,\n                                    \"dropdown-height-fixed w-100\"\n                                )}\n                                style={{ height: \"46px\", paddingLeft: '88px' }}\n                                placeholder=\"Select template\"\n                                onChange={(e) => {\n                                    setTemplatedId(e.value);\n                                }}\n                                value={templateId}\n                                loading={proposalTemplateQuery?.isFetching}\n                                showClear\n                            />\n                        </div>\n                    </Col>\n                </Row>\n                <div className='d-flex flex-column px-4'>\n                    <div className='d-flex gap-3 justify-content-center align-items-center mb-1'>\n                        {\n                            image?.croppedImageBase64\n                                ?\n                                <div style={{ position: 'relative', cursor: 'pointer' }} onClick={() => setIsVisible(true)}>\n                                    <div className={style.imageBox} style={{ overflow: 'hidden', textAlign: 'center' }}>\n                                        <img\n                                            alt=\"uploaded-file\"\n                                            src={image?.croppedImageBase64}\n                                            style={{ width: \"100%\", height: \"100#\" }}\n                                        />\n                                    </div>\n                                    <div className={clsx(style.trashBox, 'cursor-pointer')} onClick={(e) => { e.stopPropagation(); setImage(null); }}>\n                                        <Trash color='#F04438' size={16} />\n                                    </div>\n                                </div>\n                                : <div className={style.uploadBox} style={{ cursor: 'pointer' }} onClick={() => setIsVisible(true)}>\n                                    <div className={style.uploadButton}>\n                                        <CloudUpload color='#475467' size={20} />\n                                    </div>\n                                    <p className={style.uploadText}>Click to upload</p>\n                                </div>\n                        }\n                    </div>\n                    <FileUploader show={isVisible} setShow={setIsVisible} setPhoto={setImage} />\n                    {errors?.image && (\n                        <p className=\"error-message mb-2\">{\"Image is required\"}</p>\n                    )}\n\n                    {/* <div className='d-flex gap-3 align-items-center mb-1'>\n                        <Button className='outline-button w-fit' style={{ position: 'relative', cursor: 'pointer' }}>\n                            Upload Image <Upload />\n                            <input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                onChange={handleImageUpload}\n                                style={{\n                                    position: 'absolute',\n                                    opacity: 0,\n                                    width: '100%',\n                                    height: '100%',\n                                    cursor: 'pointer',\n                                }}\n                            />\n                        </Button>\n                        {fileName && (\n                            <span>{fileName}</span>\n                        )}\n                    </div>\n                    {errors?.image && (\n                        <p className=\"error-message mb-2\">{\"Image is required\"}</p>\n                    )} */}\n                    <Accordion activeIndex={0} className='mt-3'>\n                        {sections?.map((section, originalIndex) => ({ ...section, originalIndex }))?.filter(section => !section.delete)?.map((section, index) => (\n                            <AccordionTab key={section?.id || `accordion-${index}`} className={clsx(style.accordion, { [style.error]: (errors?.sections?.[index]?.title || errors?.sections?.[index]?.description) ? true : false }, 'proposal-accordion')} header={`Paragraph ${index + 1}`}>\n                                <div className=\"flex flex-column gap-2 w-100\" style={{ marginBottom: '16px' }}>\n                                    <label className={style.label}>Paragraph title</label>\n                                    <IconField>\n                                        <InputIcon>\n                                            {proposalQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                        </InputIcon>\n                                        <InputText\n                                            value={section?.title}\n                                            className={clsx(style.inputBox, 'w-100 border mt-2')}\n                                            onChange={(e) => {\n                                                setSections(prevSections => {\n                                                    const newSections = [...prevSections];\n                                                    newSections[section?.originalIndex] = { ...newSections[section?.originalIndex], title: e.target.value };\n                                                    return newSections;\n                                                });\n                                            }}\n                                            placeholder=\"Section Title\"\n                                        />\n                                    </IconField>\n                                    {errors?.sections?.[index]?.title && (\n                                        <p className=\"error-message mb-0\">{\"Title is required\"}</p>\n                                    )}\n                                </div>\n                                <div className=\"d-flex flex-column gap-1 w-100 pb-2\" style={{ position: 'relative' }}>\n                                    <label className={clsx(style.lable)}>Paragraph</label>\n                                    <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                                        {proposalQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                                    </InputIcon>\n                                    <Editor\n                                        style={{ minHeight: \"299px\" }}\n                                        headerTemplate={header}\n                                        value={section.description}\n                                        placeholder='Enter a description...'\n                                        onTextChange={(e) => {\n                                            setSections(prevSections => {\n                                                const newSections = [...prevSections];\n                                                newSections[section?.originalIndex] = { ...newSections[section?.originalIndex], description: e.htmlValue };\n                                                return newSections;\n                                            });\n                                        }}\n                                    />\n                                    {errors?.sections?.[index]?.description && (\n                                        <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                                    )}\n                                </div>\n                                <div className='bg-white mt-2 pt-2 d-flex justify-content-end'>\n                                    <Button className='danger-outline-button' onClick={() => handleDeleteSection(section?.originalIndex, section?.id)}>Delete Paragraph</Button>\n                                </div>\n                            </AccordionTab>\n                        ))}\n                    </Accordion>\n                </div>\n            </Dialog >\n            <SendProposal show={showSendModal} setShow={setShowSendModal} contactPersons={contactPersons} setPayload={setPayload} onSubmit={onSubmit} handleClose={handleClose} />\n        </>\n    );\n};\n\nexport default CreateProposal;","// extracted by mini-css-extract-plugin\nexport default {\"headerTitle\":\"send-email_headerTitle__cXbQd\",\"customLabel\":\"send-email_customLabel__ulebR\",\"bag\":\"send-email_bag__+1Isj\",\"lable\":\"send-email_lable__pfv8S\",\"dropdownSelect\":\"send-email_dropdownSelect__yuxmj\",\"autoCompleteBox\":\"send-email_autoCompleteBox__zqO6y\",\"AutoComplete\":\"send-email_AutoComplete__peyFk\",\"bcc\":\"send-email_bcc__vHuNY\",\"box\":\"send-email_box__KRxo7\",\"active\":\"send-email_active__sUnBO\",\"inputBox\":\"send-email_inputBox__cV-UR\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Button, Col, Row } from \"react-bootstrap\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport clsx from 'clsx';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Editor } from \"primereact/editor\";\nimport { IconField } from 'primereact/iconfield';\nimport { InputIcon } from 'primereact/inputicon';\nimport { InputText } from \"primereact/inputtext\";\nimport { ProgressSpinner } from \"primereact/progressspinner\";\nimport style from \"./send-email.module.scss\";\nimport { getEmail, getEmailTemplates, getOutgoingEmail, getSignatureTemplates } from '../../APIs/email-template';\n\nconst headerElement = (\n    <div className={`${style.modalHeader}`}>\n        <div className=\"w-100 d-flex align-items-center gap-2\">\n            <span className={`white-space-nowrap mt-2 mb-2 ${style.headerTitle}`}>\n                Send a Quote\n            </span>\n        </div>\n    </div>\n);\n\nconst renderHeader = () => (\n    <span className=\"ql-formats\">\n        <button className=\"ql-bold\" aria-label=\"Bold\"></button>\n        <button className=\"ql-italic\" aria-label=\"Italic\"></button>\n        <button className=\"ql-underline\" aria-label=\"Underline\"></button>\n        <button className=\"ql-strike\" aria-label=\"Strikethrough\"></button>\n        <button className=\"ql-blockquote\" aria-label=\"Blockquote\"></button>\n        <button\n            className=\"ql-list\"\n            value=\"ordered\"\n            aria-label=\"Ordered List\"\n        ></button>\n        <button\n            className=\"ql-list\"\n            value=\"bullet\"\n            aria-label=\"Bullet List\"\n        ></button>\n        <button className=\"ql-align\" value=\"\" aria-label=\"Align Left\"></button>\n        <button\n            className=\"ql-align\"\n            value=\"center\"\n            aria-label=\"Align Center\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"right\"\n            aria-label=\"Align Right\"\n        ></button>\n        <button\n            className=\"ql-align\"\n            value=\"justify\"\n            aria-label=\"Justify\"\n        ></button>\n        <button className=\"ql-link\" aria-label=\"Insert Link\"></button>\n        <button className=\"ql-image\" aria-label=\"Insert Image\"></button>\n        <button className=\"ql-code-block\" aria-label=\"Code Block\"></button>\n    </span>\n);\nconst header = renderHeader();\n\nconst SendEmailForm = ({ show, setShow, contactPersons, setPayload, save }) => {\n    const profileData = JSON.parse(window.localStorage.getItem('profileData') || '{}');\n    const [from, setFrom] = useState('');\n    const [to, setTo] = useState([]);\n    const [cc, setCC] = useState([]);\n    const [bcc, setBCC] = useState([]);\n    const [subject, setSubject] = useState(null);\n    const [text, setText] = useState(null);\n    const [signature, setSignature] = useState(null);\n    const [errors, setErrors] = useState({});\n    const [filteredEmails, setFilteredEmails] = useState([]);\n    const autoCompleteRef = useRef(null);\n    const autoCompleteRef2 = useRef(null);\n    const autoCompleteRef3 = useRef(null);\n    const [showCC, setShowCC] = useState(false);\n    const [showBCC, setShowBCC] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const handleClose = () => setShow(false);\n    const [emailTemplateId, setEmailTemplatedId] = useState(null);\n    const emailTemplateQuery = useQuery({\n        queryKey: [\"emailTemplate\"],\n        queryFn: getEmailTemplates,\n    });\n    const signatureQuery = useQuery({\n        queryKey: [\"getSignatureTemplates\"],\n        queryFn: getSignatureTemplates,\n    });\n    const outgoingEmailTemplateQuery = useQuery({\n        queryKey: [\"getOutgoingEmail\"],\n        queryFn: getOutgoingEmail,\n    });\n    const emailQuery = useQuery({\n        queryKey: [\"emailQuery\", emailTemplateId],\n        queryFn: () => getEmail(emailTemplateId),\n        enabled: !!emailTemplateId,\n        retry: 1,\n    });\n\n    useEffect(() => {\n        if (outgoingEmailTemplateQuery?.data) {\n            if (outgoingEmailTemplateQuery?.data?.outgoing_email && outgoingEmailTemplateQuery?.data?.outgoing_email_verified)\n                setFrom(outgoingEmailTemplateQuery?.data?.outgoing_email);\n            else\n                setFrom('no-reply@memate.com.au');\n        }\n\n        if (emailTemplateQuery?.data) {\n            const activeTemplateId = emailTemplateQuery?.data?.find((template) => template.type === 'Quote');\n            if (activeTemplateId?.id) setEmailTemplatedId(activeTemplateId?.id);\n        }\n\n    }, [emailTemplateQuery, outgoingEmailTemplateQuery]);\n\n    const onSubmit = async () => {\n        let errorCount = 0;\n        setErrors({});\n\n        if (!from) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, from: true }));\n        }\n\n        if (to?.length === 0) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, to: true }));\n        }\n\n        if (!subject) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, subject: true }));\n        }\n\n        if (!text) {\n            ++errorCount;\n            setErrors((others) => ({ ...others, text: true }));\n        }\n\n        if (errorCount) return;\n        setIsLoading(true);\n        await save();\n        setIsLoading(false);\n    };\n\n    const footerContent = (\n        <div className=\"d-flex justify-content-end gap-2\">\n            <Button className=\"outline-button\" onClick={() => setShow(false)}>\n                Cancel\n            </Button>\n            <Button disabled={isLoading} className=\"solid-button\" onClick={onSubmit}>\n                Send{\" \"}\n                {isLoading && (\n                    <ProgressSpinner\n                        style={{ width: \"20px\", height: \"20px\", color: \"#fff\" }}\n                    />\n                )}\n            </Button>\n        </div>\n    );\n\n    const search = (event) => {\n        const query = event?.query?.toLowerCase() || '';\n        let emails = contactPersons.map((data) => (data.email));\n        emails = emails.filter((email) => !to.includes(email));\n        emails = emails.filter((email) => !cc.includes(email));\n        emails = emails.filter((email) => !bcc.includes(email));\n\n        emails = emails.filter((email) =>\n            email.toLowerCase().includes(query)\n        );\n        console.log('emails: ', emails);\n\n        setFilteredEmails(emails);\n    };\n\n    const onInputChange = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setTo((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange2 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setCC((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onInputChange3 = (e) => {\n        const currentValue = e.target.value;\n        if (currentValue.includes(',') || e.key === 'Enter') {\n            const emails = currentValue.split(/[\\s,]+/).filter((email) => email);\n            setBCC((prev) => [...new Set([...prev, ...emails])]);\n            e.target.value = '';\n        }\n    };\n\n    const onFocus = () => {\n        search();\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n    };\n\n    const onFocus2 = () => {\n        search();\n        if (autoCompleteRef2.current) autoCompleteRef2.current.show();\n    };\n\n    const onFocus3 = () => {\n        search();\n        if (autoCompleteRef3.current) autoCompleteRef3.current.show();\n    };\n\n    useEffect(() => {\n        if (contactPersons?.length) {\n            let emails = contactPersons.map((data) => (data.email));\n            setFilteredEmails(emails);\n        }\n    }, [contactPersons]);\n\n    useEffect(() => {\n        setPayload((prev) => ({\n            ...prev,\n            subject: subject,\n            email_body: text,\n            from_email: from,\n            to: to?.toString(),\n            ...(cc.length > 0 && { cc: cc.toString() }),\n            ...(bcc.length > 0 && { bcc: bcc.toString() }),\n            ...(signature && { signature: signature })\n        }));\n    }, [subject, text, from, to, cc, bcc, signature, setPayload]);\n\n    useEffect(() => {\n        if (signatureQuery?.data) {\n            setSignature(signatureQuery?.data?.find((template) => template.id === profileData.email_signature)?.id);\n        }\n    }, [signatureQuery?.data, profileData.email_signature]);\n\n    useEffect(() => {\n        setText(emailQuery?.data?.body || \"\");\n        setSubject(emailQuery?.data?.subject);\n        setErrors((others) => ({ ...others, subject: false }));\n        setErrors((others) => ({ ...others, text: false }));\n    }, [emailQuery?.data]);\n    return (\n        <Dialog\n            visible={show}\n            modal={true}\n            header={headerElement}\n            footer={footerContent}\n            className={`${style.modal} custom-modal`}\n            style={{ width: \"896px\" }}\n            onHide={handleClose}\n        >\n            <Row>\n                <Col sm={6} className='mb-3'>\n                    <div style={{ position: 'relative' }}>\n                        <label className={clsx(style.customLabel)}>FROM</label>\n                        <Dropdown\n                            options={\n                                (outgoingEmailTemplateQuery && outgoingEmailTemplateQuery?.data && ([{\n                                    value: outgoingEmailTemplateQuery?.data?.outgoing_email,\n                                    label: `${outgoingEmailTemplateQuery?.data?.outgoing_email}`,\n                                }])) ||\n                                []\n                            }\n                            className={clsx(\n                                style.dropdownSelect,\n                                \"dropdown-height-fixed w-100\"\n                            )}\n                            style={{ height: \"46px\", paddingLeft: '60px' }}\n                            placeholder=\"Select from email\"\n                            onChange={(e) => {\n                                setFrom(e.value);\n                                setErrors((others) => ({ ...others, from: false }));\n                            }}\n                            value={from}\n                        />\n                    </div>\n                    {errors?.from && (\n                        <p className=\"error-message mb-0\">{\"From email is required\"}</p>\n                    )}\n                </Col>\n                <Col sm={6} className='mb-3'>\n                    <div style={{ position: 'relative' }}>\n                        <label className={clsx(style.customLabel)}>Templates</label>\n                        <Dropdown\n                            options={\n                                (emailTemplateQuery &&\n                                    emailTemplateQuery.data?.map((emailTemplate) => ({\n                                        value: emailTemplate.id,\n                                        label: `${emailTemplate.name}`,\n                                    }))) ||\n                                []\n                            }\n                            className={clsx(\n                                style.dropdownSelect,\n                                \"dropdown-height-fixed w-100\"\n                            )}\n                            style={{ height: \"46px\", paddingLeft: '88px' }}\n                            placeholder=\"Select template\"\n                            onChange={(e) => {\n                                setEmailTemplatedId(e.value);\n                            }}\n                            value={emailTemplateId}\n                            loading={emailTemplateQuery?.isFetching}\n                        />\n                    </div>\n                </Col>\n            </Row>\n            <Row>\n                <Col sm={12} className='mb-3'>\n                    <div className=\"d-flex gap-3 w-100\">\n                        <div style={{ position: 'relative' }} className={style.autoCompleteBox}>\n                            <div style={{ width: '50px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>TO</label>\n                            <AutoComplete\n                                ref={autoCompleteRef}\n                                value={to}\n                                completeMethod={search}\n                                onChange={(e) => {\n                                    setTo(e.value);\n                                    setErrors((others) => ({ ...others, to: false }));\n                                }}\n                                multiple\n                                suggestions={filteredEmails}\n                                onClick={onFocus}\n                                onFocus={onFocus}\n                                onKeyUp={onInputChange}\n                                onBlur={(e) => {\n                                    const currentValue = e.target.value.trim();\n                                    if (currentValue) {\n                                        setTo((prev) => [...new Set([...prev, currentValue])]);\n                                        e.target.value = '';\n                                    }\n                                }}\n                                className={clsx(style.AutoComplete, \"w-100\")}\n                                placeholder=\"TO\"\n                            />\n                        </div>\n                        <Button\n                            className={clsx(style.box, { [style.active]: showCC })}\n                            onClick={() => { setShowCC(!showCC); setCC([]); }}\n                        >\n                            CC\n                        </Button>\n                        <Button\n                            className={clsx(style.box, { [style.active]: showBCC })}\n                            onClick={() => { setShowBCC(!showBCC); setBCC([]); }}\n                        >\n                            BCC\n                        </Button>\n                    </div>\n                    {errors?.to && (\n                        <p className=\"error-message mb-0\">{\"To email is required\"}</p>\n                    )}\n                </Col>\n                {\n                    showCC &&\n                    <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '50px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>CC</label>\n                            <AutoComplete\n                                ref={autoCompleteRef2}\n                                value={cc}\n                                completeMethod={search}\n                                onChange={(e) => { setCC(e.value); }}\n                                multiple\n                                suggestions={filteredEmails}\n                                onClick={onFocus2}\n                                onFocus={onFocus2}\n                                onKeyUp={onInputChange2}\n                                onBlur={(e) => {\n                                    const currentValue = e.target.value.trim();\n                                    if (currentValue) {\n                                        setCC((prev) => [...new Set([...prev, currentValue])]);\n                                        e.target.value = '';\n                                    }\n                                }}\n                                className={clsx(style.AutoComplete, \"w-100\")}\n                                placeholder=\"CC\"\n                            />\n                        </div>\n                    </Col>\n                }\n\n                {\n                    showBCC && <Col sm={6} className='mb-3'>\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ width: '60px' }} className={style.bag}></div>\n                            <label className={clsx(style.customLabel)}>BCC</label>\n                            <AutoComplete\n                                ref={autoCompleteRef3}\n                                value={bcc}\n                                completeMethod={search}\n                                onChange={(e) => { setBCC(e.value); }}\n                                multiple\n                                suggestions={filteredEmails}\n                                onClick={onFocus3}\n                                onFocus={onFocus3}\n                                onKeyUp={onInputChange3}\n                                onBlur={(e) => {\n                                    const currentValue = e.target.value.trim();\n                                    if (currentValue) {\n                                        setBCC((prev) => [...new Set([...prev, currentValue])]);\n                                        e.target.value = '';\n                                    }\n                                }}\n                                className={clsx(style.AutoComplete, style.bcc, \"w-100\")}\n                                placeholder=\"BCC\"\n                            />\n                        </div>\n                    </Col>\n                }\n                <Col sm={12} className='mb-2'>\n                    <div style={{ position: 'relative' }}>\n                        <div style={{ width: '60px' }} className={style.bag}></div>\n                        <label className={clsx(style.customLabel)}>SUBJECT</label>\n                        <IconField>\n                            <InputIcon>\n                                {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                            </InputIcon>\n                            <InputText\n                                value={subject}\n                                className={clsx(style.inputBox, 'w-100')}\n                                style={{ paddingLeft: '100px' }}\n                                onChange={(e) => {\n                                    setSubject(e.target.value);\n                                    setErrors((others) => ({ ...others, subject: false }));\n                                }}\n                                placeholder=\"{Organization} | Quotation: {number} | {reference}\"\n                            />\n                        </IconField>\n                    </div>\n                    {errors?.subject && (\n                        <p className=\"error-message mb-0\">{\"Subject is required\"}</p>\n                    )}\n                </Col>\n                <Col sm={12} className='mb-3'>\n                    <div className=\"d-flex flex-column gap-1\" style={{ position: 'relative' }}>\n                        <label className={clsx(style.lable)}>Message</label>\n                        <InputIcon style={{ position: 'absolute', right: '15px', top: '40px', zIndex: 1 }}>\n                            {emailQuery?.isFetching && <ProgressSpinner style={{ width: '20px', height: '20px', position: 'relative', top: '-5px' }} />}\n                        </InputIcon>\n                        <Editor\n                            style={{ minHeight: \"150px\" }}\n                            headerTemplate={header}\n                            value={text}\n                            placeholder='Enter a description...'\n                            onTextChange={(e) => {\n                                setText(e.htmlValue);\n                                setErrors((others) => ({ ...others, text: false }));\n                            }}\n                        />\n                    </div>\n                    {errors?.text && (\n                        <p className=\"error-message mb-0\">{\"Message is required\"}</p>\n                    )}\n                </Col>\n                <Col sm={12}>\n                    <div style={{ position: 'relative' }}>\n                        <label className={clsx(style.customLabel)}>Signature</label>\n                        <Dropdown\n                            options={\n                                (signatureQuery &&\n                                    signatureQuery.data?.map((template) => ({\n                                        value: template.id,\n                                        label: `${template.name}`,\n                                    }))) ||\n                                []\n                            }\n                            panelClassName='px880-dropdown-item'\n                            className={clsx(\n                                style.dropdownSelect,\n                                \"dropdown-height-fixed w-100\"\n                            )}\n                            style={{ height: \"46px\", paddingLeft: '88px' }}\n                            placeholder=\"Select signature\"\n                            onChange={(e) => {\n                                setSignature(e.value);\n                            }}\n                            value={signature}\n                            loading={signatureQuery?.isFetching}\n                        />\n                    </div>\n                </Col>\n            </Row>\n        </Dialog>\n    );\n};\n\nexport default SendEmailForm;","import React from 'react';\nimport SendEmailForm from '../../../../../ui/send-email/send-email-form';\n\nconst SendQuote = ({ show, setShow, contactPersons, setPayload, createNewRequest }) => {\n  const save = async () => {\n    await createNewRequest('send');\n  };\n\n  return (\n    <SendEmailForm show={show} setShow={setShow} contactPersons={contactPersons} setPayload={setPayload} save={save} />\n  );\n};\n\nexport default SendQuote;","import React, { useEffect, useState } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { ChevronLeft, FiletypePdf, PlusSlashMinus } from 'react-bootstrap-icons';\nimport { NavLink, useNavigate, useParams } from 'react-router-dom';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { toast } from 'sonner';\nimport DepartmentQuote from './department-quote';\nimport CustomRadioButton from './ui/custom-radio-button';\nimport { createNewCalculationQuoteRequest, createNewMergeQuote, deleteMergeQuote, getQuoteByUniqueId, updateNewCalculationQuoteRequest } from '../../../../../APIs/CalApi';\nimport { useTrialHeight } from '../../../../../app/providers/trial-height-provider';\nimport { formatAUD } from '../../../../../shared/lib/format-aud';\nimport CreateProposal from '../../../features/sales-features/create-proposal/create-proposal';\nimport SendQuote from '../../../features/sales-features/send-quote/send-quote';\n\n\nconst CalculateQuote = () => {\n    const navigate = useNavigate();\n    const { trialHeight } = useTrialHeight();\n    const [contactPersons, setContactPersons] = useState([]);\n    const [showQuoteModal, setShowQuoteModal] = useState(false);\n    const [showProposalModal, setShowProposalModal] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [quoteType, setQuoteType] = useState('Standard');\n    const [payload, setPayload] = useState({});\n    const [mergeDeletedItems, setMergeDeletedItems] = useState([]);\n    const [totals, setTotals] = useState({ budget: 0, operationalProfit: 0, subtotal: 0, tax: 0, total: 0 });\n    const { unique_id } = useParams();\n    const newRequestQuery = useQuery({\n        queryKey: ['unique_id', unique_id],\n        queryFn: () => getQuoteByUniqueId(unique_id),\n        enabled: !!unique_id,\n        retry: 1,\n        cacheTime: 0,\n        refetchOnWindowFocus: false,\n    });\n\n    useEffect(() => {\n        if (!unique_id) {\n            const storedSessionData = JSON.parse(window.sessionStorage.getItem(`new-request`) || \"{}\");\n            const profileData = JSON.parse(window.localStorage.getItem('profileData') || \"{}\");\n            setPayload((others) => ({\n                ...others,\n                xero_tax: \"ex\",\n                display_discount: true,\n                managers: [{ manager: profileData?.desktop_user_id }],\n                client: storedSessionData?.id || \"\",\n                reference: storedSessionData?.reference || \"\",\n                description: storedSessionData?.requirements || \"\"\n            }));\n        } else if (newRequestQuery?.data) {\n            let quoteType = newRequestQuery?.data?.recurring?.frequency ? 'Recurring' : 'Standard';\n            setQuoteType(quoteType);\n            const newData = { ...newRequestQuery?.data };\n            if (quoteType === 'Recurring') {\n                newData.recurring.start_date = new Date(+newData.recurring.start_date * 1000);\n                newData.recurring.end_by = +newData.recurring.end_by;\n                if (newData.recurring.end_by === 1)\n                    newData.recurring.end_date = new Date(+newData.recurring.end_date * 1000);\n            }\n            setPayload((others) => ({ ...others, ...newData }));\n        }\n    }, [unique_id, newRequestQuery?.data]);\n\n    const newRequestMutation = useMutation({\n        mutationFn: (data) => createNewCalculationQuoteRequest(data),\n        onSuccess: (response) => {\n            if (!response) {\n                toast.error(`Failed to create new calculation quote. Please try again.`);\n            }\n        },\n        onError: (error) => {\n            setIsLoading(false);\n            console.error('Error creating new calculation quote:', error);\n            toast.error(`Failed to create new calculation quote. Please try again.`);\n        }\n    });\n\n    const updateRequestMutation = useMutation({\n        mutationFn: (data) => updateNewCalculationQuoteRequest(unique_id, data),\n        onSuccess: (response) => {\n            if (!response) {\n                setIsLoading(false);\n                toast.error(`Failed to update calculation quote. Please try again.`);\n            }\n        },\n        onError: (error) => {\n            setIsLoading(false);\n            console.log('Error updating new calculation quote:', error, error?.data?.client?.[0]);\n\n            if (error?.status === 400) {\n                const msg = error?.data?.client?.[0];\n                if (msg?.includes('Invalid pk') && msg?.includes('object does not exist')) {\n                    return toast.error(\"This client has been deleted. Please restore it before continuing.\");\n                }\n            }\n\n            toast.error(`Failed to update calculation quote. Please try again.`);\n        }\n    });\n\n    const createNewRequest = async (action) => {\n        payload.action = action;\n        if (action !== \"send\") {\n            delete payload.subject;\n            delete payload.email_body;\n            delete payload.to;\n            delete payload.cc;\n            delete payload.bcc;\n            delete payload.from_email;\n            delete payload.signature;\n        }\n\n        if (action === \"saveAndsend\") {\n            setShowQuoteModal(true);\n            return;\n        }\n\n        if (action === \"quote-pdf-open\") {\n            payload.action = \"save\";\n        }\n\n        const merges = payload.merges;\n        if (payload.merges) delete payload.merges;\n\n        if (!payload?.client) return toast.error('Client is required');\n        // if (!payload?.contact_person && action !== \"draft\") return toast.error('Contact person is required');\n        if ((!payload?.managers || !payload.managers?.length) && action !== \"draft\") return toast.error('Project manager is required');\n        if ((!payload?.calculations || !payload.calculations.length) && action !== \"draft\") return toast.error('At least one calculation is required');\n        if (!payload?.xero_tax && action !== \"draft\") return toast.error('Tax details is required');\n        if (!payload?.expense && action !== \"draft\") return toast.error('Expense is required');\n\n        if (quoteType === 'Recurring' && !payload?.recurring) return toast.error('Recurring details is required');\n        if (quoteType === 'Recurring' && !payload?.recurring?.frequency) return toast.error('Recurring frequency is required');\n        if (quoteType === 'Recurring' && !payload?.recurring?.start_date) return toast.error('Recurring start date is required');\n        if (quoteType === 'Recurring' && !([0, 1, 2].includes(payload?.recurring?.end_by))) return toast.error('Recurring end by is required');\n        if (quoteType === 'Recurring' && payload?.recurring?.end_by === 1 && !payload?.recurring?.end_date) return toast.error('Recurring end date is required');\n        if (quoteType === 'Recurring' && payload?.recurring?.end_by === 2 && !payload?.recurring?.occurrences) return toast.error('Recurring projects is required');\n        if (quoteType === 'Recurring') {\n            if (payload.recurring.start_date)\n                payload.recurring.start_date = payload.recurring.start_date.toISOString().split('T')[0];\n            if (payload.recurring.end_date && payload.recurring.end_by === 1)\n                payload.recurring.end_date = payload.recurring.end_date.toISOString().split('T')[0];\n            else {\n                delete payload.recurring.end_date;\n            }\n        }\n\n        let result;\n        setIsLoading(true);\n        if (mergeDeletedItems.length) {\n            for (const id of mergeDeletedItems) {\n                try {\n                    if (id) await deleteMergeQuote(id);\n                } catch (error) {\n                    console.log('Error during with deleting merge: ', error);\n                }\n            }\n        }\n        if (unique_id) {\n            result = await updateRequestMutation.mutateAsync(payload);\n            let uniqueid = result?.unique_id;\n\n            if (merges && merges?.length) {\n                let calculatorMap = result.calculations?.reduce((map, item) => {\n                    map[item.merge_id] = item.id;\n                    return map;\n                }, {});\n\n                const updateMerges = merges?.map(item => ({\n                    ...item,\n                    unique_id: uniqueid,\n                    calculations: item.calculators.map(calc => ({\n                        calculator: calculatorMap[calc.merge_id]\n                    }))\n                }));\n\n                for (const merge of updateMerges) {\n                    try {\n                        if (merge.id) await deleteMergeQuote(merge.id);\n                        await createNewMergeQuote(merge);\n                    } catch (error) {\n                        setIsLoading(false);\n                        console.log('Error during with creating merge: ', error);\n                    }\n                }\n                toast.success(`Calculations and merge items updated successfully.`);\n            } else {\n                toast.success(`Calculations updated successfully.`);\n            }\n\n        } else {\n            result = await newRequestMutation.mutateAsync(payload);\n            let uniqueid = result?.unique_id;\n\n            if (merges && merges?.length) {\n                let calculatorMap = result.calculations?.reduce((map, item) => {\n                    map[item.merge_id] = item.id;\n                    return map;\n                }, {});\n\n                const updateMerges = merges?.map(item => ({\n                    ...item,\n                    unique_id: uniqueid,\n                    calculations: item.calculators.map(calc => ({\n                        calculator: calculatorMap[calc.merge_id]\n                    }))\n                }));\n\n                updateMerges.forEach(async (merge) => {\n                    try {\n                        await createNewMergeQuote(merge);\n                    } catch (error) {\n                        setIsLoading(false);\n                        console.log('Error during with creating merge: ', error);\n                    }\n                });\n                toast.success(`Calculations and new merge items created successfully.`);\n            } else {\n                toast.success(`Calculations created successfully.`);\n            }\n        }\n\n        if (action === \"quote-pdf-open\") {\n            if (result?.quote_url) {\n                window.open(result.quote_url, '_blank');\n            } else {\n                toast.error('Quote PDF not found.');\n            }\n        } else {\n            navigate(`/sales`);\n        }\n\n        setIsLoading(false);\n        setShowQuoteModal(false);\n    };\n\n    return (\n        <div className='newQuotePage'>\n            <div className='topbar d-flex justify-content-between' style={{ padding: '16px 32px', height: '72px', position: 'relative', boxShadow: \"rgba(0, 0, 0, 0.05) 0px 1px 2px 0px\" }}>\n                <NavLink to={\"\"}>\n                    <button className='back-button' style={{ padding: \"10px 16px\" }} onClick={() => { navigate(-1); }}>\n                        <ChevronLeft color=\"#000000\" size={17} /> &nbsp;Go Back\n                    </button>\n                </NavLink>\n                <h2 className='m-0' style={{ fontSize: '22px', fontWeight: '600', position: 'absolute', left: '42.5%' }}>\n                    <div className='d-flex flex-column align-items-center gap-1'>\n                        <div className='d-flex align-items-center'><PlusSlashMinus color=\"#1D2939\" size={16} />&nbsp; Calculate a Quote</div>\n                        {newRequestQuery?.data?.number && <small className='font-14 border px-3 py-1 rounded' style={{ width: 'fit-content' }}>{newRequestQuery?.data?.number}</small>}\n                    </div>\n                </h2>\n                <div className='d-flex align-items-center justify-content-end'>\n                    <CustomRadioButton\n                        label=\"Standard\"\n                        name=\"customRadio\"\n                        value=\"Standard\"\n                        checked={quoteType === 'Standard'}\n                        onChange={(e) => setQuoteType(e.target.value)}\n                        disabled={false}\n                    />\n                    <CustomRadioButton\n                        label=\"Recurring\"\n                        name=\"customRadio\"\n                        value=\"Recurring\"\n                        checked={quoteType === 'Recurring'}\n                        onChange={(e) => setQuoteType(e.target.value)}\n                    />\n                    <CustomRadioButton\n                        label=\"Subscription\"\n                        name=\"customRadio\"\n                        value=\"Subscription\"\n                        checked={quoteType === 'Subscription'}\n                        onChange={(e) => setQuoteType(e.target.value)}\n                        disabled={true}\n                    />\n                    <CustomRadioButton\n                        label=\"Retainer\"\n                        name=\"customRadio\"\n                        value=\"Retainer\"\n                        checked={quoteType === 'Retainer'}\n                        onChange={(e) => setQuoteType(e.target.value)}\n                        disabled={true}\n                    />\n                </div>\n            </div>\n\n            <div className='w-100' style={{ overflow: 'auto', height: `calc(100% - 208px - ${trialHeight}px)`, padding: '16px 32px' }}>\n                <DepartmentQuote payload={payload} setPayload={setPayload} totals={totals} setTotals={setTotals} refetch={newRequestQuery?.refetch} preExistMerges={newRequestQuery?.data?.merges || []} preExistCalculation={newRequestQuery?.data?.calculations || []} setMergeDeletedItems={setMergeDeletedItems} setContactPersons={setContactPersons} quoteType={quoteType} />\n            </div>\n\n            <div className='calculation-quote-bottom w-100' style={{ padding: '8px 24px', height: '136px', background: '#fff', borderTop: '1px solid #f2f2f2', boxShadow: 'rgba(0, 0, 0, 0.06) 0px 0px 4px 0px inset' }}>\n                <div className='d-flex justify-content-between align-items-center pb-3' style={{ gap: '20px', width: '100%', overflowX: 'auto' }}>\n                    <div className='d-flex align-items-center' style={{ gap: '16px' }}>\n                        <div className='item'>\n                            <label>Budget</label>\n                            <div className='amount'>${formatAUD(totals.budget)}</div>\n                        </div>\n                        <div className='item'>\n                            <label>Operational Profit</label>\n                            <div className='amount' style={{ color: '#079455' }}>${formatAUD(totals.operationalProfit)}</div>\n                        </div>\n                    </div>\n                    <div className='d-flex align-items-center' style={{ gap: '16px' }}>\n                        <div className='item'>\n                            <label>Subtotal</label>\n                            <div className='amount'>${formatAUD(totals.subtotal)}</div>\n                        </div>\n                        <div className='item'>\n                            <label>Tax (10%)</label>\n                            <div className='amount'>${formatAUD(totals.tax)}</div>\n                        </div>\n                        <div className='item' style={{ minWidth: 'fit-content' }}>\n                            <label>Total</label>\n                            <div className='amount'>${formatAUD(totals.total)}</div>\n                        </div>\n                    </div>\n                </div>\n                <div className='d-flex justify-content-between align-items-center'>\n                    <div className='d-flex align-items-center' style={{ gap: '0px' }}>\n                        <a href='/sales' type=\"button\" className=\"button-custom text-button text-danger padding-left-0\" style={{ color: '#B42318' }}>\n                            Cancel\n                        </a>\n                        {\n                            <a href='#' onClick={() => createNewRequest('quote-pdf-open')} type=\"button\" className=\"button-custom text-button px-0\">\n                                Quote PDF\n                            </a>\n                        }\n                        {\n                            newRequestQuery?.data?.proposal_pdf ? (\n                                <div className='d-flex align-items-center gap-2'>\n                                    <button type=\"button\" className=\"button-custom text-button pe-0\" onClick={() => setShowProposalModal(true)}>\n                                        Edit Proposal\n                                    </button>\n                                    <a href={`${newRequestQuery?.data?.proposal_pdf}`} target='_blank' type=\"button\" className=\"button-custom text-button ps-0\" rel=\"noreferrer\">\n                                        <FiletypePdf color='#106B99' size={20} />\n                                    </a>\n                                </div>\n                            ) : (\n                                <button type=\"button\" disabled={!unique_id} className=\"button-custom text-button px-2\" onClick={() => setShowProposalModal(true)}>\n                                    Create Proposal\n                                </button>\n                            )\n                        }\n                    </div>\n                    <div className='d-flex align-items-center' style={{ gap: '8px' }}>\n                        <button type=\"button\" disabled={newRequestMutation.isPending || updateRequestMutation.isPending} onClick={() => createNewRequest('draft')} className=\"button-custom text-button\">\n                            Save Draft\n                            {(newRequestMutation.isPending || updateRequestMutation.isPending)\n                                && (newRequestMutation?.variables?.action === \"draft\" || updateRequestMutation?.variables?.action === \"draft\")\n                                && <ProgressSpinner style={{ width: '20px', height: '20px' }} />}\n                        </button>\n                        <button type=\"button\" disabled={newRequestMutation.isPending || updateRequestMutation.isPending} onClick={() => createNewRequest('save')} className=\"button-custom submit-button-light\">\n                            Save\n                            {(newRequestMutation.isPending || updateRequestMutation.isPending)\n                                && (newRequestMutation?.variables?.action === \"save\" || updateRequestMutation?.variables?.action === \"save\")\n                                && <ProgressSpinner style={{ width: '20px', height: '20px' }} />}\n                        </button>\n                        <button type=\"button\" disabled={newRequestMutation.isPending || updateRequestMutation.isPending} onClick={() => createNewRequest('saveAndsend')} className=\"submit-button\">\n                            Save and Send\n                            {(newRequestMutation.isPending || updateRequestMutation.isPending)\n                                && (newRequestMutation?.variables?.action === \"send\" || updateRequestMutation?.variables?.action === \"send\")\n                                && <ProgressSpinner style={{ width: '20px', height: '20px' }} />}\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <SendQuote show={showQuoteModal} setShow={setShowQuoteModal} contactPersons={contactPersons} setPayload={setPayload} createNewRequest={createNewRequest} />\n            <CreateProposal show={showProposalModal} setShow={setShowProposalModal} refetch={newRequestQuery?.refetch} contactPersons={contactPersons} isExist={!!newRequestQuery?.data?.proposal_pdf} />\n\n            {\n                (newRequestMutation.isPending || newRequestQuery.isFetching || isLoading) && <div style={{ position: 'absolute', top: '50%', left: '50%', background: 'white', width: '60px', height: '60px', borderRadius: '4px', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 10 }} className=\"shadow-lg\">\n                    <Spinner animation=\"border\" role=\"status\">\n                        <span className=\"visually-hidden\">Loading...</span>\n                    </Spinner>\n                </div>\n            }\n        </div >\n    );\n};\n\n\n\nexport default CalculateQuote;"],"names":["formatAUD","amount","shorten","arguments","length","undefined","num","parseFloat","isNaN","Math","abs","Intl","NumberFormat","notation","compactDisplay","minimumFractionDigits","maximumFractionDigits","format","API_BASE_URL","process","getDepartments","async","url","URL","all","searchParams","append","fetchAPI","toString","method","getCalculationByReferenceId","id","result","Array","isArray","filter","item","deleted","getQuoteByUniqueId","unique_id","createNewCalculationQuoteRequest","options","body","data","updateNewCalculationQuoteRequest","Error","createNewMergeQuote","deleteMergeQuote","createDepartment","updateDepartment","createSubDepartment","updateSubDepartment","createCalculator","index","updateCalculator","deleteSettingCalculator","endpoint","romanize","i","lookup","M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I","roman","formatMoney","number","toLocaleString","style","currency","dateFormat","dateInMiliSec","isDotformate","_date$toLocaleDateStr","date","Date","toLocaleDateString","day","month","year","replace","isRequiredLoggedin","headers","accessToken","localStorage","getItem","isFormData","FormData","defaultHeaders","requestOptions","JSON","stringify","redirect","response","fetch","contentType","get","ok","_errorData","errorData","includes","json","text","status","clear","sessionStorage","window","location","error","message","console","FallbackImage","_ref2","has_photo","photo","is_business","size","imgError","setImgError","useState","Icon","Building","Person","_jsx","_Fragment","children","src","alt","className","onError","color","_ref","overflow","restoreClient","getClientById","getClientCategories","getClientIndustries","getCountries","getStates","country","getCities","state","getProjectManager","getListOfClients","page","limit","name","order","isShowDeleted","offset","clientOrderHistory","search","markeMainAddress","markeMainContact","deleteClient","deleteContactPerson","deleteAddress","bringBack","getJobTemplates","getJobTemplate","createJobTemplate","updateJobTemplate","deleteJobTemplate","getEmailTemplates","createEmailTemplate","updateEmailTemplate","getEmail","getSignatureTemplates","getEmailSignature","createEmailSignature","updateEmailSignature","deleteEmailSignature","setDefaultEmailSignature","getSMSTemplates","getSMS","createSMSTemplate","updateSMSTemplate","deleteSMSTemplate","getProposalBySalesId","getOutgoingEmail","deleteEmailTemplates","getProposalsTemplates","getProposalsTemplate","deleteProposalTemplates","DepartmentQuoteTableRowLoading","_jsxs","width","Placeholder","as","animation","xs","bg","textAlign","DepartmentRowChangeLoading","_departments$filter","departments","handleChange","title","keyValue","handleSubMenuClick","label","value","Menu","menuButton","MenuButton","display","alignItems","justifyContent","padding","cursor","background","border","ChevronDown","position","portal","map","department","_department$subindexe","_department$subindexe2","_department$subindexe3","React","subindexes","SubMenu","direction","align","menuStyle","maxHeight","subitem","MenuItem","onClick","schema","yup","required","description","_Object$keys","_Object$keys2","_Object$entries","selectItem","setSelectItem","merges","setMerges","show","setShow","romanNo","defaultValues","register","reset","handleSubmit","formState","errors","useForm","resolver","yupResolver","useEffect","handleClose","Button","type","disabled","Object","keys","handleOpen","clsx","Modal","centered","onHide","Header","closeButton","Title","height","borderRadius","fontSize","fontWeight","Body","Form","onSubmit","_Object$values","payload","alias","calculators","values","flat","key","merge_id","calculator","total","others","Group","Label","Control","placeholder","Text","controlId","rows","outline","boxShadow","ListGroup","variant","entries","Item","Row","Col","sm","toFixed","Footer","deleteAndCancel","Trash","minWidth","refetch","useParams","deleteMutation","useMutation","mutationFn","onSuccess","toast","success","log","accept","mutate","merge","reject","ConfirmPopup","isPending","Spinner","role","event","confirmPopup","target","currentTarget","defaultFocus","acceptClassName","_merge$calculators2","deleteMergeCalculator","_merge$calculators","left","items","ref","useRef","isOpen","setOpen","anchorProps","useClick","maxWidth","ControlledMenu","anchorRef","onClose","CloseButton","marginTop","whiteSpace","ViewMerge","EditMergeCalculation","reduce","sum","DeleteMerge","DepartmentCalculationTableEmptyRow","srNo","SelectComponent","isShowlabel","paddingTop","resize","boxSizing","onChange","right","opacity","DepartmentCalculationTableHead","DepartmentCalculationTableBody","updateData","deleteRow","mapMergeItemWithNo","checkedItems","handleDepartmentChange","selectKey","_ref3","Draggable","draggableId","provided","innerRef","draggableProps","dragHandleProps","GripVertical","marginRight","checked","e","mergeKey","oldItems","newItems","push","updatedItems","top","Check","onInput","scrollHeight","onFocus","onBlur","InputNumber","prefix","cost","onValueChange","maxFractionDigits","minFractionDigits","inputId","inputStyle","profit_type_value","profit_type","unit_price","quantity","suffix","discount","_ref4","setTotals","setPayload","defaultDiscount","xero_tax","preExistCalculation","preMerges","setMergeDeletedItems","setRows","subItem","setSubItem","subItemLabel","setSubItemLabel","setSelectKey","preExistMerges","setPreExistMerges","setMapMergeItemWithNo","useQuery","queryKey","queryFn","enabled","isLoading","isLoadingSubItem","retry","subitemId","calculateTotal","subtotal","margin","calculateUnitPrice","prevRows","updatedItem","calcReferenceId","idsToDelete","mergeCount","updatedMerges","updatedCalculators","calc","prev","Set","updatedRows","forEach","nanoid","filteredData","self","findIndex","t","summary","taxType","budget","departmentRows","rate","tax","operationalProfit","calculateSummary","calculations","flatMap","_ref5","parentIndex","rest","expense","subindexMap","subindex","orderGroups","acc","_ref6","reformattedData","calculatorKeyMap","_ref7","reformattedMerges","cal","findData","find","keyIndexMap","overflowX","DragDropContext","onDragEnd","source","destination","sourceKey","destinationKey","reorderedKeys","from","removedKey","splice","reorderedRows","Droppable","droppableId","droppableProps","CreateMergeCalculation","ListMergeCalculations","_data$addresses","_data$contact_persons","_clientQuery$data","selectClient","setSelectClient","selectContact","setSelectContact","isEdit","setIsEdit","observerRef","dropdownRef","clients","setClients","setPage","hasMoreData","setHasMoreData","loading","setLoading","inputValue","debouncedValue","setInputValue","useDebounce","mainAddress","addresses","address","is_main","mainContact","contact_persons","contact","clientQuery","contactOptions","_data$results","results","existingClientIds","client","newClients","has","count","loadData","setupObserver","lastRow","document","querySelector","current","IntersectionObserver","isIntersecting","prevPage","threshold","observe","timeout","setTimeout","clearTimeout","disconnect","minHeight","marginBottom","Dropdown","itemTemplate","option","ImageAvatar","valueTemplate","optionLabel","optionValue","filterTemplate","IconField","iconPosition","InputIcon","Search","InputText","virtualScrollerOptions","itemSize","lazy","onLazyLoad","firstname","lastname","abn","phone","email","handleChangeSave","contact_person","_data$contact_persons2","CustomOption","props","components","Option","image","_clientQuery$data5","_clientQuery$data6","_clientQuery$data6$ca","_projectManagerQuery$7","_payload$recurring","_payload$recurring2","_payload$recurring3","_payload$recurring4","_payload$recurring5","_payload$recurring6","_payload$recurring7","setContactPersons","quoteType","paymentCollection","setPaymentCollection","selectedManagers","setSelectedManagers","editedReference","setEditedReference","isEditingReference","setIsEditingReference","editedDescription","setEditedDescription","isEditingDescription","setIsEditingDescription","handleDataChange","projectManagerQuery","_clientQuery$data$con","_clientQuery$data2","_clientQuery$data3","_clientQuery$data4","person","managers","initialManagers","manager","some","_projectManagerQuery$","_projectManagerQuery$2","_projectManagerQuery$3","_projectManagerQuery$4","_projectManagerQuery$5","_projectManagerQuery$6","user","md","borderRight","InfoCircle","handleSaveReference","reference","autoFocus","PencilSquare","handleEditReference","handleSaveDescription","handleEditDescription","QuoteToBusiness","QuoteToClient","DepartmentCalculationTable","category","note","Select1","closeMenuOnSelect","selected","Map","obj","isMulti","styles","control","multiValueRemove","backgroundColor","multiValue","content","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","purchase_order","FormControl","sx","m","Select","displayEmpty","inputProps","IconComponent","CustomRadioButton","Boolean","display_discount","prevPayload","placement","OverlayTrigger","overlay","Tooltip","recurring","frequency","Calendar","start_date","showButtonBar","locale","end_by","occurrences","end_date","setPhoto","additionalDesign","shape","files","setFiles","crop","setCrop","x","y","zoom","setZoom","rotation","setRotation","croppedAreaPixels","setCroppedAreaPixels","croppedImages","setCroppedImages","onCropComplete","useCallback","croppedArea","getCroppedImg","canvas","createElement","ctx","getContext","img","Image","preview","Promise","resolve","onload","translate","rotate","PI","drawImage","toDataURL","generateCroppedImages","croppedImage","img2","img3","img4","img5","getRootProps","getInputProps","useDropzone","maxFiles","onDrop","acceptedFiles","file","assign","createObjectURL","zIndex","onShow","Cropper","cropShape","onCropChange","onZoomChange","aspect","restrictPosition","containerStyle","cropAreaStyle","mediaStyle","objectFit","Range","min","max","step","gap","rotateImage","prevRotation","ArrowClockwise","CloudUpload","stopPropagation","croppedImageBase64","croppedImageBlob","base64","mime","byteString","atob","split","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","base64ToBlob","headerElement","modalHeader","headerTitle","header","_outgoingEmailTemplat4","_outgoingEmailTemplat5","_emailTemplateQuery$d2","_signatureQuery$data2","contactPersons","save","profileData","parse","setFrom","to","setTo","cc","setCC","bcc","setBCC","subject","setSubject","setText","signature","setSignature","setErrors","filteredEmails","setFilteredEmails","autoCompleteRef","autoCompleteRef2","autoCompleteRef3","showCC","setShowCC","showBCC","setShowBCC","setIsLoading","emailTemplateId","setEmailTemplatedId","emailTemplateQuery","signatureQuery","outgoingEmailTemplateQuery","emailQuery","_outgoingEmailTemplat","_outgoingEmailTemplat2","_outgoingEmailTemplat3","outgoing_email","outgoing_email_verified","_emailTemplateQuery$d","activeTemplateId","template","footerContent","errorCount","ProgressSpinner","_event$query","query","toLowerCase","emails","onFocus2","onFocus3","email_body","from_email","_emailQuery$data","_emailQuery$data2","_signatureQuery$data","_signatureQuery$data$","email_signature","Dialog","visible","modal","footer","customLabel","dropdownSelect","paddingLeft","emailTemplate","isFetching","autoCompleteBox","bag","AutoComplete","completeMethod","multiple","suggestions","onKeyUp","currentValue","trim","box","active","inputBox","lable","Editor","headerTemplate","onTextChange","htmlValue","panelClassName","SendProposalEmailForm","handleOtherClose","iconStyle","Check2Circle","_proposalTemplateQuer","_sections$map","_sections$map$filter","isExist","isVisible","setIsVisible","fileName","setFileName","showSendModal","setShowSendModal","templateId","setTemplatedId","sections","setSections","setImage","proposalTemplateQuery","readProposalQuery","_readProposalQuery$da2","_readProposalQuery$da","_readProposalQuery$da3","proposalQuery","_sections$filter2","notdeletedSections","section","delete","newErrors","sectionErrors","sectionError","formData","action","photoHintId","handleAddSection","PlusLg","sendProposalAction","_sections$filter","_readProposalQuery$da4","_readProposalQuery$da7","_readProposalQuery$da5","_readProposalQuery$da6","_proposalQuery$data","_proposalQuery$data$s","_readProposalQuery$da8","showClear","imageBox","trashBox","uploadBox","uploadButton","uploadText","FileUploader","Accordion","activeIndex","originalIndex","_errors$sections","_errors$sections$inde","_errors$sections2","_errors$sections2$ind","_errors$sections3","_errors$sections3$ind","_errors$sections4","_errors$sections4$ind","AccordionTab","accordion","prevSections","newSections","handleDeleteSection","SendProposal","createNewRequest","SendEmailForm","CalculateQuote","_newRequestQuery$data3","_newRequestQuery$data4","_newRequestQuery$data5","_newRequestQuery$data6","_newRequestQuery$data7","_newRequestQuery$data8","_newRequestMutation$v","_updateRequestMutatio","_newRequestMutation$v2","_updateRequestMutatio2","_newRequestMutation$v3","_updateRequestMutatio3","_newRequestQuery$data9","navigate","useNavigate","trialHeight","useTrialHeight","showQuoteModal","setShowQuoteModal","showProposalModal","setShowProposalModal","setQuoteType","mergeDeletedItems","totals","newRequestQuery","cacheTime","refetchOnWindowFocus","_newRequestQuery$data","_newRequestQuery$data2","newData","storedSessionData","desktop_user_id","requirements","newRequestMutation","updateRequestMutation","_error$data","_error$data$client","_error$data2","_error$data2$client","msg","_payload$managers","toISOString","_result","mutateAsync","uniqueid","_result$calculations","calculatorMap","updateMerges","_result2","_result$calculations2","_result3","quote_url","open","NavLink","ChevronLeft","PlusSlashMinus","DepartmentQuote","borderTop","href","proposal_pdf","rel","FiletypePdf","variables","SendQuote","CreateProposal"],"sourceRoot":""}