"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[4501],{1690:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);const n=s.p+"static/media/Featured icon.f0452deecdd8a0600a95469561a90cfe.svg"},4488:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(65043),i=s(98139),l=s.n(i),a=s(70579);const o=e=>n.forwardRef(((t,s)=>(0,a.jsx)("div",{...t,ref:s,className:l()(t.className,e)})))},14834:(e,t,s)=>{function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=parseFloat(e);return isNaN(s)?"0.00":t&&Math.abs(s)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(s):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}s.d(t,{m:()=>n})},70870:(e,t,s)=>{s.r(t),s.d(t,{default:()=>he});var n=s(65043),i=s(14282),l=s(72970),a=s(88166),o=s(18091),r=s(75329),d=s(39759),c=s(49367),u=s(35475),m=s(47097),h=s(58387),p=s(2028),x=s(93740),v=s(90818),f=s(56328),g=s(94819),b=s(65173),j=s.n(b),y=["color","size","title","className"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},w.apply(null,arguments)}var N=(0,n.forwardRef)((function(e,t){var s=e.color,i=void 0===s?"currentColor":s,l=e.size,a=void 0===l?"1em":l,o=e.title,r=void 0===o?null:o,d=e.className,c=void 0===d?"":d,u=function(e,t){if(null==e)return{};var s,n,i=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}(e,y);return n.createElement("svg",w({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:i,className:["bi","bi-file-earmark-pdf",c].filter(Boolean).join(" ")},u),r?n.createElement("title",null,r):null,n.createElement("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"}),n.createElement("path",{d:"M4.603 14.087a.8.8 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.7 7.7 0 0 1 1.482-.645 20 20 0 0 0 1.062-2.227 7.3 7.3 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.188-.012.396-.047.614-.084.51-.27 1.134-.52 1.794a11 11 0 0 0 .98 1.686 5.8 5.8 0 0 1 1.334.05c.364.066.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.86.86 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.7 5.7 0 0 1-.911-.95 11.7 11.7 0 0 0-1.997.406 11.3 11.3 0 0 1-1.02 1.51c-.292.35-.609.656-.927.787a.8.8 0 0 1-.58.029m1.379-1.901q-.25.115-.459.238c-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361q.016.032.026.044l.035-.012c.137-.056.355-.235.635-.572a8 8 0 0 0 .45-.606m1.64-1.33a13 13 0 0 1 1.01-.193 12 12 0 0 1-.51-.858 21 21 0 0 1-.5 1.05zm2.446.45q.226.245.435.41c.24.19.407.253.498.256a.1.1 0 0 0 .07-.015.3.3 0 0 0 .094-.125.44.44 0 0 0 .059-.2.1.1 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a4 4 0 0 0-.612-.053zM8.078 7.8a7 7 0 0 0 .2-.828q.046-.282.038-.465a.6.6 0 0 0-.032-.198.5.5 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822q.036.167.09.346z"}))}));N.propTypes={color:j().string,size:j().oneOfType([j().string,j().number]),title:j().string,className:j().string};const _=N;var E=s(72018),S=s(9642),C=s(64824),k=s(76104);const A={filterBox:"expenses_filterBox__wxXcv",menu:"expenses_menu__5taYH",newButton:"expenses_newButton__SU4MY",total:"expenses_total__LH43I",totalCount:"expenses_totalCount__5Yt5A",totalMoney:"expenses_totalMoney__L+hKb",clientImg:"expenses_clientImg__VRYOd",ellipsis:"expenses_ellipsis__94-xF",location:"expenses_location__JzKDi",active:"expenses_active__J0Nsm",selectedCount:"expenses_selectedCount__wP1-v",deletedRow:"expenses_deletedRow__FYQdz",paidRow:"expenses_paidRow__STtg1",unpaidRow:"expenses_unpaidRow__eujRL",fontStanderdSize:"expenses_fontStanderdSize__F1Lwi",plusIcon:"expenses_plusIcon__YeleL","paid-false":"expenses_paid-false__Oe4Ym",status:"expenses_status__W0wup",inactive:"expenses_inactive__J0oTn",actionButton:"expenses_actionButton__XzmE2",allMoneyButton:"expenses_allMoneyButton__FCs0l",unpaidMoneyButton:"expenses_unpaidMoneyButton__kA4gC",shakeText:"expenses_shakeText__4E+55","tilt-n-move-shaking":"expenses_tilt-n-move-shaking__fDQcc"};var F=s(10586),R=s(48417),O=s(14834),z=s(27734),D=s(54967),P=s(99868),$=s(93202),M=s(56741),B=s(93747),V=s(20288);const T="expense-edit_circledesignstyle__0R-yu",W="expense-edit_out__t3U+W",I="expense-edit_expensesEditHead__vh0iB";var L=s(14836),H=s(61072),U=s(78602),Y=s(74856),q=s(70579);const X=()=>(0,q.jsx)("div",{className:"loading-details-sidebar",children:(0,q.jsx)("div",{className:"d-flex flex-column",children:(0,q.jsxs)("div",{className:"modal-body",style:{padding:"0px 12px 12px 12px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:[(0,q.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,q.jsx)(Y.E,{height:"2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{height:"1.5rem",width:"10rem",className:"mb-2"})]}),(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"}),(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"}),(0,q.jsxs)(H.A,{children:[(0,q.jsxs)(U.A,{children:[(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,q.jsxs)(U.A,{children:[(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,q.jsxs)(H.A,{children:[(0,q.jsxs)(U.A,{children:[(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,q.jsxs)(U.A,{children:[(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,q.jsxs)(H.A,{children:[(0,q.jsx)(U.A,{children:(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"94px"})}),(0,q.jsx)(U.A,{children:(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"94px"})}),(0,q.jsx)(U.A,{children:(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"94px"})})]}),(0,q.jsxs)("div",{className:"d-flex align-items-center mb-4 gap-1",children:[(0,q.jsx)(Y.E,{height:"2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{height:"2rem",width:"10rem",className:"mb-2"})]}),(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"50%",className:"mb-4",height:"45px"}),(0,q.jsxs)(H.A,{children:[(0,q.jsxs)(U.A,{children:[(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"})]}),(0,q.jsxs)(U.A,{children:[(0,q.jsx)(Y.E,{height:"1.2rem",width:"10rem",className:"mb-2"}),(0,q.jsx)(Y.E,{width:"100%",className:"mb-4",height:"45px"})]})]}),(0,q.jsxs)("div",{className:"d-flex align-items-center mb-4 gap-1",children:[(0,q.jsx)(Y.E,{height:"2rem",width:"2rem",className:"mb-2"}),(0,q.jsx)(Y.E,{height:"2rem",width:"50%",className:"mb-2"})]})]})})}),K=e=>{let{visible:t,setVisible:s,setEditData:l,id:a,name:o,setRefetch:r}=e;const d=(0,n.useRef)(null),[c,u]=(0,n.useState)({}),h=(0,B.I)({queryKey:["getExpense",a],queryFn:()=>(0,F.$R)(a),enabled:!!a}),p=(0,m.n)({mutationFn:e=>(0,F.eY)(a,e),onSuccess:e=>{console.log("response: ",e),f.oR.success("Expense updated successfully"),s(!1),l({}),u({}),r((e=>!e))},onError:e=>{console.error("Error updating expense:",e),f.oR.error("Failed to update expense. Please try again.")}}),x=async(e,t)=>{u((t=>({...t,...e}))),delete e["gst-calculation"],delete e.option,delete e.subtotal,delete e.totalAmount,delete e.tax,e.order||delete e.order,e.type||(e.type=1),e.date&&(e.date=new Date(e.date).toISOString().split("T")[0]),e.due_date&&(e.due_date=new Date(e.due_date).toISOString().split("T")[0]),console.log("data: ",e),p.mutateAsync(e)},v=()=>{d.current&&d.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,n.useEffect)((()=>{if(null!==h&&void 0!==h&&h.data){var e,t,s;console.log("call......");const i=(n=null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.nogst,(null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.gst)?"ex":n?"no":"in"),{subtotal:l,tax:a,totalAmount:o}=((e,t)=>{let s=0,n=0;return"ex"===t?(n=e,s=.1*n):"in"===t?(s=.1*e/1.1,n=e-s):(n=e,s=0),{subtotal:n.toFixed(2),tax:s.toFixed(2),totalAmount:(parseFloat(n)+parseFloat(s)).toFixed(2)}})(+(null===h||void 0===h||null===(s=h.data)||void 0===s?void 0:s.amount),i);u((e=>{var t,s,n,r,d,c,u,m,p,x,v,f,g,b;return{...e,note:null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.note,supplier:null===h||void 0===h||null===(s=h.data)||void 0===s?void 0:s.supplier,invoice_reference:null===h||void 0===h||null===(n=h.data)||void 0===n?void 0:n.invoice_reference,date:new Date(1e3*+(null===h||void 0===h||null===(r=h.data)||void 0===r?void 0:r.date)),due_date:new Date(1e3*+(null===h||void 0===h||null===(d=h.data)||void 0===d?void 0:d.due_date)),amount:null===h||void 0===h||null===(c=h.data)||void 0===c?void 0:c.amount,nogst:null===h||void 0===h||null===(u=h.data)||void 0===u?void 0:u.nogst,gst:null===h||void 0===h||null===(m=h.data)||void 0===m?void 0:m.gst,order:null===h||void 0===h||null===(p=h.data)||void 0===p?void 0:p.order,type:+(null===h||void 0===h||null===(x=h.data)||void 0===x?void 0:x.type),account_code:null===h||void 0===h||null===(v=h.data)||void 0===v?void 0:v.account_code,department:null===h||void 0===h||null===(f=h.data)||void 0===f?void 0:f.department,notification:null===h||void 0===h||null===(g=h.data)||void 0===g?void 0:g.notification,"gst-calculation":i,subtotal:l,tax:a,totalAmount:o,option:null!==h&&void 0!==h&&null!==(b=h.data)&&void 0!==b&&b.order?"Assign to order":"Assign to timeframe"}}))}var n}),[null===h||void 0===h?void 0:h.data]),(0,q.jsx)(V.B,{visible:t,position:"right",onHide:()=>{s(!1),l({})},modal:!1,dismissable:!1,style:{width:"702px"},content:e=>{var t,n;let{closeIconRef:r,hide:u}=e;return(0,q.jsxs)("div",{className:"create-sidebar d-flex flex-column",children:[(0,q.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-shrink-0",style:{borderBottom:"1px solid #EAECF0",padding:"24px"},children:[(0,q.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,q.jsx)("div",{className:T,children:(0,q.jsx)("div",{className:W,children:(0,q.jsx)($.A,{size:24,color:"#17B26A"})})}),(0,q.jsx)("span",{style:{color:"344054",fontSize:"20px",fontWeight:600},children:"Update Expense"})]}),(0,q.jsx)("span",{children:(0,q.jsx)(i.A,{type:"button",className:"text-button",ref:r,onClick:e=>u(e),children:(0,q.jsx)(M.A,{size:24,color:"#667085"})})})]}),(0,q.jsx)("div",{className:"modal-body",style:{padding:"24px",height:"calc(100vh - 72px - 105px)",overflow:"auto"},children:null!==h&&void 0!==h&&h.isFetching||null===c||void 0===c||!c.option?(0,q.jsx)(X,{}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:`d-flex align-items-center mb-2 justify-content-between ${I}`,children:[(0,q.jsx)("h5",{children:"Supplier Details"}),(0,q.jsxs)("h6",{children:["Expense ID: ",(null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.number)||"-"]})]}),(0,q.jsx)(L.A,{ref:d,onSubmit:x,defaultValues:c,defaultSupplier:{name:o,id:null===h||void 0===h||null===(n=h.data)||void 0===n?void 0:n.supplier},id:a})]})}),(0,q.jsxs)("div",{className:"modal-footer d-flex align-items-center justify-content-end gap-3",style:{padding:"16px 24px",borderTop:"1px solid var(--Gray-200, #EAECF0)",height:"72px"},children:[(0,q.jsx)(i.A,{type:"button",onClick:e=>{e.stopPropagation(),s(!1),l({})},className:"outline-button",children:"Cancel"}),(0,q.jsx)(i.A,{type:"button",onClick:v,className:"solid-button",style:{minWidth:"70px"},children:p.isPending?"Loading...":"Update"})]})]})}})};var J=s(51038),Q=s(20092),Z=s(55797);const G="dialog_modal__HiKtw",ee="dialog_modalHeader__CCaHg",te="dialog_headerTitle__zaVm3",se="dialog_iconStyle__uliFd",ne="dialog_paidTotal__H5dQT",ie="dialog_unpaidTotal__BulDM";function le(e){let{visible:t,setVisible:s,details:n,setRefetch:i}=e;const l=(0,m.n)({mutationFn:e=>(0,F.D3)(e),onSuccess:()=>{i((e=>!e)),s(),f.oR.success("Expenses have been successfully marked as paid.")},onError:e=>{console.log("error: ",e),f.oR.error("Failed to mark the expenses as paid. Please try again.")}}),a=(0,q.jsxs)("div",{className:`${ee}`,children:[(0,q.jsx)("b",{className:se,children:(0,q.jsx)(J.A,{size:24,color:"#B54708"})}),(0,q.jsx)("span",{className:`white-space-nowrap ${te}`,children:"Mark Expense as paid?"})]}),o=(0,q.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-3",children:[(0,q.jsx)(E.$,{label:"Cancel",className:"outline-button outline-none",onClick:()=>s(!1),autoFocus:!0}),(0,q.jsx)(E.$,{label:null!==l&&void 0!==l&&l.isPending?"Loading...":"Mark as paid",className:"success-button outline-none",onClick:()=>{const e=null===n||void 0===n?void 0:n.id;l.mutate({ids:[e]})},autoFocus:!0})]});return(0,q.jsx)(Z.l,{visible:t,modal:!0,header:a,footer:o,className:`${G} custom-modal`,onHide:()=>{t&&s(!1)},children:(0,q.jsxs)("div",{className:"px-3",children:[(0,q.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Reference"}),(0,q.jsx)("h6",{style:{fontSize:"16px",color:"#475467",fontWeight:600,marginBottom:"16px"},children:(null===n||void 0===n?void 0:n.invoice_reference)||""}),(0,q.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Total"}),(0,q.jsxs)("div",{className:`${ne}`,children:[(0,q.jsx)(Q.E,{severity:"success"})," $ ",(null===n||void 0===n?void 0:n.total)||"0.00"]})]})})}var ae=s(1690);function oe(e){let{visible:t,setVisible:s,details:n,setRefetch:i}=e;const l=(0,m.n)({mutationFn:e=>(0,F.ik)(e),onSuccess:()=>{i((e=>!e)),s(),f.oR.success("Expenses have been successfully marked as unpaid.")},onError:e=>{console.log("error: ",e),f.oR.error("Failed to mark the expenses as unpaid. Please try again.")}}),a=(0,q.jsxs)("div",{className:`${ee}`,children:[(0,q.jsx)("img",{src:ae.A,alt:"task-details",style:{width:"48px",height:"48px"}}),(0,q.jsx)("span",{className:`white-space-nowrap ${te}`,children:"Mark Expense as Unpaid?"})]}),o=(0,q.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-3",children:[(0,q.jsx)(E.$,{label:"Cancel",className:"outline-button outline-none",onClick:()=>s(!1),autoFocus:!0}),(0,q.jsx)(E.$,{label:null!==l&&void 0!==l&&l.isPending?"Loading...":"Mark as Unpaid",className:"danger-button font-Weight-600",style:{padding:"10px 10px"},onClick:()=>{const e=null===n||void 0===n?void 0:n.id;l.mutate({ids:[e]})},autoFocus:!0})]});return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(Z.l,{visible:t,modal:!1,header:a,footer:o,className:`${G} custom-modal`,onHide:()=>{t&&s(!1)},children:(0,q.jsxs)("div",{className:"px-3",children:[(0,q.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Reference"}),(0,q.jsx)("h6",{style:{fontSize:"16px",color:"#475467",fontWeight:600,marginBottom:"16px"},children:(null===n||void 0===n?void 0:n.invoice_reference)||""}),(0,q.jsx)("p",{className:"font-16 mb-1",style:{color:"#344054"},children:"Total"}),(0,q.jsxs)("div",{className:`${ie}`,children:[(0,q.jsx)(Q.E,{severity:"danger"})," $ ",(null===n||void 0===n?void 0:n.total)||"0.00"]})]})})})}const re=e=>{let{showDialog:t,setShowDialog:s,setRefetch:n}=e;const{data:i,show:l}=t;return(0,q.jsx)(q.Fragment,{children:!l||null!==i&&void 0!==i&&i.paid?l?(0,q.jsx)(oe,{visible:l,details:i,setVisible:()=>s({data:null,show:!1}),setRefetch:n}):"":(0,q.jsx)(le,{visible:l,details:i,setVisible:()=>s({data:null,show:!1}),setRefetch:n})})},de=e=>{const t=new Date(1e3*e);return`${t.getDate()} ${new Intl.DateTimeFormat("en-US",{month:"short"}).format(t)} ${t.getFullYear()}`},ce=(0,n.forwardRef)(((e,t)=>{let{searchValue:s,setTotal:i,setTotalMoney:l,selected:a,setSelected:o,isShowDeleted:r,refetch:d,setRefetch:c}=e;const h=(0,n.useRef)(null),{trialHeight:p}=(0,R.$)(),[v,b]=(0,n.useState)([]),[j,y]=(0,n.useState)(1),[w,N]=(0,n.useState)({sortField:"number",sortOrder:-1}),[$,M]=(0,n.useState)({sortField:"number",sortOrder:-1}),[B,V]=(0,n.useState)(!0),[T,W]=(0,n.useState)(!1),[I,L]=(0,n.useState)(""),[H,U]=(0,n.useState)(!1),[Y,X]=(0,n.useState)({data:null,show:!1});(0,n.useEffect)((()=>{y(1)}),[s,d,r]),(0,n.useEffect)((()=>{(async()=>{W(!0);let e="";1===(null===$||void 0===$?void 0:$.sortOrder)?e=`${$.sortField}`:-1===(null===$||void 0===$?void 0:$.sortOrder)&&(e=`-${$.sortField}`);const t=await(0,F.md)(j,25,s,e,r);var n;(i((()=>(null===t||void 0===t?void 0:t.count)||0)),l((null===t||void 0===t?void 0:t.total_amount)||0),1===j)?b(t.results):(null===t||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length)>0&&b((e=>{const s=new Set(e.map((e=>e.id))),n=t.results.filter((e=>!s.has(e.id)));return[...e,...n]}));N($),V(t.count!==v.length),W(!1)})()}),[j,s,$,d,r]),(0,n.useEffect)((()=>{if(v.length>0&&B){h.current=new IntersectionObserver((e=>{e[0].isIntersecting&&y((e=>e+1))}));const e=document.querySelector(".p-datatable-tbody tr:not(.p-datatable-emptymessage):last-child");e&&h.current.observe(e)}return()=>{h.current&&h.current.disconnect()}}),[v,B]);const J=(0,m.n)({mutationFn:e=>(0,F.Wz)(e),onSuccess:()=>{f.oR.success("Expense deleted successfully"),J.reset(),c(!d)},onError:e=>{J.reset(),console.log("error: ",e),f.oR.error("Failed to delete expense. Please try again.")}});return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(C.b,{ref:t,value:v,scrollable:!0,selectionMode:"checkbox",columnResizeMode:"expand",resizableColumns:!0,showGridlines:!0,size:"large",scrollHeight:`calc(100vh - 175px - ${p}px)`,className:"border",selection:a,onSelectionChange:e=>o(e.value),loading:T,loadingIcon:z.A,emptyMessage:(0,q.jsx)(P.A,{isDataExist:!!s||!!r}),sortField:null===w||void 0===w?void 0:w.sortField,sortOrder:null===w||void 0===w?void 0:w.sortOrder,onSort:e=>{const{sortField:t,sortOrder:s}=e;M({sortField:t,sortOrder:s}),y(1)},rowClassName:e=>null!==e&&void 0!==e&&e.deleted?A.deletedRow:null!==e&&void 0!==e&&e.paid?A.paidRow:A.unpaidRow,children:[(0,q.jsx)(S.V,{selectionMode:"multiple",headerClassName:"ps-4 border-end-0",bodyClassName:"show-on-hover border-end-0 ps-4",headerStyle:{width:"3rem",textAlign:"center"},frozen:!0}),(0,q.jsx)(S.V,{field:"number",header:"Expense ID",body:e=>{var t;return(0,q.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,q.jsx)("span",{children:null===(t=e.number)||void 0===t?void 0:t.split("-")[1]}),(0,q.jsx)(E.$,{label:"Open",onClick:()=>{var t;U(!0),L({id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e||null===(t=e.supplier)||void 0===t?void 0:t.name})},className:"primary-text-button ms-3 show-on-hover-element not-show-checked",text:!0})]})},headerClassName:"paddingLeftHide",bodyClassName:"paddingLeftHide",style:{minWidth:"100px"},frozen:!0,sortable:!0}),(0,q.jsx)(S.V,{field:"supplier.name",header:"Supplier A\u2192Z",body:e=>{var t,s,n;return(0,q.jsxs)("div",{className:"d-flex align-items-center",children:[(0,q.jsx)(D.h,{has_photo:null===e||void 0===e||null===(t=e.supplier)||void 0===t?void 0:t.has_photo,photo:null===e||void 0===e||null===(s=e.supplier)||void 0===s?void 0:s.photo,is_business:!0}),(0,q.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,q.jsx)("div",{className:`${A.ellipsis}`,children:null===(n=e.supplier)||void 0===n?void 0:n.name}),e.deleted?(0,q.jsx)(k.v,{value:"Deleted",style:{height:"22px",width:"59px",borderRadius:"16px",border:"1px solid #FECDCA",background:"#FEF3F2",color:"#912018",fontSize:"12px",fontWeight:500}}):""]})]})},headerClassName:"shadowRight",bodyClassName:"shadowRight",style:{minWidth:"224px"},frozen:!0,sortable:!0}),(0,q.jsx)(S.V,{field:"invoice_reference",header:"Reference",body:e=>(0,q.jsx)("div",{className:"ellipsis-width",title:e.invoice_reference,style:{maxWidth:"250px"},children:e.invoice_reference}),style:{minWidth:"94px"}}),(0,q.jsx)(S.V,{field:"created",header:"Due Date",body:e=>(0,q.jsx)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",style:{color:"#98A2B3"},children:de(e.created)}),style:{minWidth:"56px"},className:"text-center"}),(0,q.jsx)(S.V,{field:"jobsdone",header:"Total",body:e=>(0,q.jsx)("div",{className:`d-flex align-items-center justify-content-end show-on-hover ${A.fontStanderdSize}`,children:(0,q.jsxs)("div",{className:` ${e.paid?A["paid-true"]:A["paid-false"]}`,children:["$",(0,O.m)(e.total)]})}),style:{minWidth:"56px",textAlign:"end"}}),(0,q.jsx)(S.V,{field:"type",header:"Interval/Project",body:e=>e.order?(null===e||void 0===e?void 0:e.order.number)||"-":e.type,style:{minWidth:"123px",textAlign:"right"}}),(0,q.jsx)(S.V,{field:"account_code.code",header:"Account Code",body:e=>{var t,s;return(0,q.jsxs)("div",{className:`d-flex align-items-center justify-content-start show-on-hover ${A.fontStanderdSize}`,children:[null===(t=e.account_code)||void 0===t?void 0:t.code," : ",null===(s=e.account_code)||void 0===s?void 0:s.name]})},style:{minWidth:"114px",textAlign:"left"},sortable:!0}),(0,q.jsx)(S.V,{field:"total_requests",header:"Xero/Myob",body:e=>(0,q.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:"in_progress"===(null===e||void 0===e?void 0:e.xero_status)?(0,q.jsx)("span",{style:{color:"#158ECC"},className:A.shakeText,children:"xero"}):"completed"===(null===e||void 0===e?void 0:e.xero_status)?(0,q.jsx)("span",{style:{color:"#158ECC"},children:"xero"}):(0,q.jsx)("span",{})}),style:{minWidth:"89px",textAlign:"center"}}),(0,q.jsx)(S.V,{field:"department.name",header:"Departments",body:e=>{var t;return(0,q.jsx)("div",{className:`d-flex align-items-center justify-content-start show-on-hover ${A.fontStanderdSize}`,children:null===e||void 0===e||null===(t=e.department)||void 0===t?void 0:t.name})},style:{minWidth:"140px"},sortable:!0}),(0,q.jsx)(S.V,{field:"file",header:"File",body:e=>e.file?(0,q.jsx)(u.N_,{to:e.file,target:"_blank",children:(0,q.jsx)(_,{color:"#667085",size:16})}):"",style:{minWidth:"60px",textAlign:"center",maxWidth:"60px",width:"60px"}}),(0,q.jsx)(S.V,{field:"paid",header:"Status",body:e=>e.paid?(0,q.jsx)(E.$,{onClick:()=>X({data:e,show:!0}),className:"success-outline-button font-14 mx-auto",style:{width:"86px",height:"36px"},children:"Paid"}):(0,q.jsx)(E.$,{onClick:()=>X({data:e,show:!0}),className:"danger-outline-button font-14 mx-auto",style:{width:"86px",height:"36px"},children:"Not Paid"}),style:{minWidth:"140px",maxWidth:"140px",width:"140px"},bodyStyle:{color:"#667085"},bodyClassName:"shadowLeft text-center",headerClassName:"shadowLeft text-center",frozen:!0,alignFrozen:"right"}),(0,q.jsx)(S.V,{header:"Actions",body:e=>(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center w-100 h-100",children:null!==J&&void 0!==J&&J.variables&&(null===J||void 0===J?void 0:J.variables)===e.id?(0,q.jsx)(x.p,{style:{width:"20px",height:"20px"}}):(0,q.jsx)(g.A,{color:"#667085",size:20,className:"cursor-pointer",onClick:async()=>{await J.mutateAsync(e.id)}})}),style:{minWidth:"75px",maxWidth:"75px",width:"75px",textAlign:"center"},bodyStyle:{color:"#667085"},frozen:!0,alignFrozen:"right"})]}),(0,q.jsx)(K,{id:null===I||void 0===I?void 0:I.id,name:null===I||void 0===I?void 0:I.name,visible:H,setVisible:U,setEditData:L,setRefetch:c}),(0,q.jsx)(re,{showDialog:Y,setShowDialog:X,setRefetch:c})]})})),ue=ce;var me=s(62284);const he=()=>{const e=(0,n.useRef)(null),t=(0,n.useRef)(null),[s]=(0,u.ok)(),g=s.get("isShowUnpaid"),[b,j]=(0,n.useState)(0),[y,w]=(0,n.useState)(0),[N,_]=(0,n.useState)(!1),[E,S]=(0,n.useState)(!1),[C,k]=(0,n.useState)(!!g),[R,z]=(0,n.useState)(null),[D,P,$]=(0,p.d7)("",400),M=(0,m.n)({mutationFn:e=>(0,F.a_)(e),onSuccess:()=>{S((e=>!e)),z(null),f.oR.success("Expense successfully sent to Xero!")},onError:e=>{console.log("error: ",e),f.oR.error("Failed to send the expense to xero. Please try again.")}}),B=(0,m.n)({mutationFn:e=>(0,F.D3)(e),onSuccess:()=>{S((e=>!e)),z(null),f.oR.success("Expenses have been successfully marked as paid.")},onError:e=>{console.log("error: ",e),f.oR.error("Failed to mark the expenses as paid. Please try again.")}}),V=(0,m.n)({mutationFn:e=>(0,F.ik)(e),onSuccess:()=>{S((e=>!e)),z(null),f.oR.success("Expenses have been successfully marked as unpaid.")},onError:e=>{console.log("error: ",e),f.oR.error("Failed to mark the expenses as unpaid. Please try again.")}});return(0,q.jsxs)("div",{className:"peoples-page",children:[(0,q.jsx)(c.mg,{children:(0,q.jsx)("title",{children:"MeMate - Expenses"})}),(0,q.jsxs)("div",{className:`topbar ${null!==R&&void 0!==R&&R.length?A.active:""}`,style:{padding:"4px 32px 4px 23px",position:"relative",height:"48px"},children:[(0,q.jsx)("div",{className:"left-side d-flex align-items-center",style:{gap:"16px"},children:null!==R&&void 0!==R&&R.length?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("h6",{className:A.selectedCount,children:["Selected: ",null===R||void 0===R?void 0:R.length]}),(0,q.jsxs)("div",{className:"filtered-box d-flex align-items-center gap-2",children:[(0,q.jsxs)("button",{className:`danger-outline-button ${A.actionButton}`,onClick:()=>{const e=R.map((e=>e.id));V.mutate({ids:e})},disabled:null===V||void 0===V?void 0:V.isPending,children:["Mark as Unpaid ",null!==V&&void 0!==V&&V.isPending?(0,q.jsx)(x.p,{style:{width:"20px",height:"20px"}}):(0,q.jsx)(l.A,{color:"#B42318",size:20})," "]}),(0,q.jsxs)("button",{className:`success-outline-button ${A.actionButton}`,onClick:()=>{const e=R.map((e=>e.id));B.mutate({ids:e})},disabled:null===B||void 0===B?void 0:B.isPending,children:["Mark as Paid ",null!==B&&void 0!==B&&B.isPending?(0,q.jsx)(x.p,{style:{width:"20px",height:"20px"}}):(0,q.jsx)(a.A,{color:"#067647",size:20})," "]}),(0,q.jsxs)("button",{className:`outline-button ${A.actionButton}`,onClick:()=>{const e=R.map((e=>e.id));M.mutate({ids:e})},disabled:M.isPending,children:["Send to Xero/MYOB",M.isPending?(0,q.jsx)(x.p,{style:{width:"20px",height:"20px"}}):(0,q.jsx)(o.A,{color:"#1D2939",size:20})]}),(0,q.jsx)("button",{className:`${A.filterBox}`,onClick:()=>{return t=!0,void(e.current?e.current.exportCSV({selectionOnly:t}):console.error("DataTable ref is null"));var t},children:(0,q.jsx)(r.A,{})})]})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:"filtered-box",children:[(0,q.jsx)("button",{className:`${A.filterBox}`,children:(0,q.jsx)(d.A,{size:20})}),(0,q.jsx)(v.b,{model:[],className:(0,h.A)(A.menu),popup:!0,ref:t,breakpoint:"767px"})]}),(0,q.jsxs)("div",{className:"searchBox",style:{position:"relative"},children:[(0,q.jsx)("div",{style:{position:"absolute",top:"2px",left:"6px"},children:(0,q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,q.jsx)("path",{d:"M14.6777 12.9299C15.6661 11.5841 16.25 9.92275 16.25 8.125C16.25 3.63769 12.6123 0 8.125 0C3.63769 0 0 3.63769 0 8.125C0 12.6123 3.63769 16.25 8.125 16.25C9.92323 16.25 11.585 15.6658 12.9309 14.6769L12.9299 14.6777C12.9667 14.7277 13.0078 14.7756 13.053 14.8208L17.8661 19.6339C18.3543 20.122 19.1457 20.122 19.6339 19.6339C20.122 19.1457 20.122 18.3543 19.6339 17.8661L14.8208 13.053C14.7756 13.0078 14.7277 12.9667 14.6777 12.9299ZM15 8.125C15 11.922 11.922 15 8.125 15C4.32804 15 1.25 11.922 1.25 8.125C1.25 4.32804 4.32804 1.25 8.125 1.25C11.922 1.25 15 4.32804 15 8.125Z",fill:"#98A2B3"})})}),(0,q.jsx)("input",{type:"text",placeholder:"Search",value:D,onChange:e=>$(e.target.value),className:"border search-resource",style:{borderRadius:"4px",width:"184px",border:"1px solid #D0D5DD",color:"#424242",paddingLeft:"36px",fontSize:"14px",height:"32px"}})]})]})}),!(null!==R&&void 0!==R&&R.length)&&(0,q.jsxs)("div",{className:"featureName d-flex align-items-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,q.jsx)("h1",{className:"title p-0",style:{marginRight:"16px"},children:"Expenses"}),(0,q.jsx)(i.A,{onClick:()=>_(!0),className:`${A.newButton}`,children:"New"})]}),(0,q.jsxs)("div",{className:"right-side d-flex align-items-center",style:{gap:"8px"},children:[(0,q.jsx)(i.A,{className:C?A.unpaidMoneyButton:A.allMoneyButton,onClick:()=>{k(!C),"true"===g&&C&&window.history.pushState({},"","/expenses")},children:"Unpaid"}),C&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("h1",{className:`${A.total} mb-0`,children:"Total"}),(0,q.jsxs)("div",{className:`${A.totalCount}`,children:[b," Expenses"]}),(0,q.jsxs)("h1",{className:A.totalMoney,children:["$",(0,O.m)(y||0)]})]})]})]}),(0,q.jsx)(ue,{ref:e,searchValue:P,setTotal:j,setTotalMoney:w,selected:R,setSelected:z,isShowDeleted:C,refetch:E,setRefetch:S}),(0,q.jsx)(me.A,{visible:N,setVisible:_,setRefetch:S})]})}},74856:(e,t,s)=>{s.d(t,{E:()=>x});var n=s(65043),i=s(84052),l=s(41828),a=s(2028),o=s(4504);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t,s){return(t=d(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u={root:function(e){var t=e.props;return(0,o.xW)("p-skeleton p-component",{"p-skeleton-circle":"circle"===t.shape,"p-skeleton-none":"none"===t.animation})}},m=l.x.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:u,inlineStyles:{root:{position:"relative"}},styles:'\n@layer primereact {\n    .p-skeleton {\n        position: relative;\n        overflow: hidden;\n    }\n    \n    .p-skeleton::after {\n        content: "";\n        animation: p-skeleton-animation 1.2s infinite;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(-100%);\n        z-index: 1;\n    }\n    \n    .p-skeleton-circle {\n        border-radius: 50%;\n    }\n    \n    .p-skeleton-none::after {\n        animation: none;\n    }\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n'}});function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var x=n.memo(n.forwardRef((function(e,t){var s=(0,a.qV)(),r=n.useContext(i.UM),d=m.getProps(e,r),c=m.setMetaData({props:d}),u=c.ptm,h=c.cx,x=c.sx,v=c.isUnstyled;(0,l.j)(m.css.styles,v,{name:"skeleton"});var f=n.useRef(null);n.useImperativeHandle(t,(function(){return{props:d,getElement:function(){return f.current}}}));var g=d.size?{width:d.size,height:d.size,borderRadius:d.borderRadius}:{width:d.width,height:d.height,borderRadius:d.borderRadius},b=s({ref:f,className:(0,o.xW)(d.className,h("root")),style:p(p({},g),x("root")),"aria-hidden":!0},m.getOtherProps(d),u("root"));return n.createElement("div",b)})));x.displayName="Skeleton"},88166:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(65043),i=s(65173),l=s.n(i),a=["color","size","title","className"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(null,arguments)}var r=(0,n.forwardRef)((function(e,t){var s=e.color,i=void 0===s?"currentColor":s,l=e.size,r=void 0===l?"1em":l,d=e.title,c=void 0===d?null:d,u=e.className,m=void 0===u?"":u,h=function(e,t){if(null==e)return{};var s,n,i=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}(e,a);return n.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:i,className:["bi","bi-check-circle",m].filter(Boolean).join(" ")},h),c?n.createElement("title",null,c):null,n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),n.createElement("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"}))}));r.propTypes={color:l().string,size:l().oneOfType([l().string,l().number]),title:l().string,className:l().string};const d=r}}]);
//# sourceMappingURL=4501.18fa74f5.chunk.js.map