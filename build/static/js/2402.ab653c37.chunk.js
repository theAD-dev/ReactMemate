"use strict";(self.webpackChunkmemateapp=self.webpackChunkmemateapp||[]).push([[2402],{52402:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var n=a(65043),s=a(73898),r=a(49367),i=a(24858),l=a(35475),c=a(18403),o=a(72018),d=a(9642),m=a(64824),u=a(55797),h=a(72052),g=a(80899);const p="accounting_modal__NAThj",x="accounting_modalHeader__hyBfM",v="accounting_headerTitle__9luE3",f="accounting_circledesignstyle__WBgzI",j="accounting_out__kcA0q",b="accounting_inputBox__9qwkR",y="accounting_tablePrimeBar__MkG2R";var N=a(48417),w=a(93747),_=a(20701);const T=async()=>(0,_.y)("/settings/accounting/",{method:"GET"});var S=a(47097),k=a(56328);const E=()=>(0,S.n)({mutationFn:e=>{let{id:t,data:a}=e;return(async(e,t)=>{const a=`/settings/accounting/${e}/`,n={method:"PUT",body:t};return(0,_.y)(a,n)})(t,a)},onSuccess:()=>{k.oR.success("Accounting target updated successfully")},onError:e=>{console.error("Error updating accounting target:",e),k.oR.error("Failed to update accounting target. Please try again.")}});var A=a(14834),O=a(70579);const $=g.Ik().shape({target:g.ai().typeError("Target must be a number").required("Target is required").positive("Target must be positive")}),F=()=>{const{trialHeight:e}=(0,N.$)(),[t,a]=(0,n.useState)(null),[g,_]=(0,n.useState)(!1),S=(0,w.I)({queryKey:["accounting-list"],queryFn:T}),{register:k,handleSubmit:F,setValue:P,formState:{errors:z}}=(0,i.mN)({resolver:(0,c.t)($)}),D=()=>{_(!1),P("target",""),a(null)},{mutate:B,isPending:M}=E(),q=(0,O.jsx)("div",{className:`${x}`,children:(0,O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,O.jsx)("div",{className:f,children:(0,O.jsx)("div",{className:j,children:(0,O.jsx)(s.A,{size:24,color:"#17B26A",className:"mb-3"})})}),(0,O.jsx)("span",{className:`white-space-nowrap ${v}`,children:"Edit Target"})]})});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(r.mg,{children:(0,O.jsx)("title",{children:"MeMate - Department Turnover Plan"})}),(0,O.jsxs)("div",{className:"headSticky",children:[(0,O.jsx)("h1",{children:"Accounting"}),(0,O.jsx)("div",{className:"contentMenuTab",children:(0,O.jsxs)("ul",{children:[(0,O.jsx)("li",{className:"menuActive",children:(0,O.jsx)(l.N_,{to:"/settings/accounting/department-turnover-plan",children:"Department Turnover Plan"})}),(0,O.jsx)("li",{children:(0,O.jsx)(l.N_,{to:"/settings/accounting/expenses",children:"Expenses"})})]})})]}),(0,O.jsx)("div",{className:`content_wrap_main w-100 ${y}`,style:{paddingBottom:`${e}px`},children:(0,O.jsx)("div",{className:"content_wrapper w-100",children:(0,O.jsxs)("div",{className:"listwrapper",children:[(0,O.jsx)("div",{className:"topHeadStyle pb-4",children:(0,O.jsx)("h2",{children:"Department Turnover Plan"})}),(0,O.jsxs)(m.b,{className:"w-100",value:S.data||[],tableStyle:{minWidth:"100%",border:"1px solid #f2f2f2"},children:[(0,O.jsx)(d.V,{field:"name",header:"Category Name",body:e=>(0,O.jsxs)("div",{className:"d-flex align-items-center justify-content-between show-on-hover",children:[(0,O.jsx)("span",{children:e.name}),(0,O.jsx)(o.$,{label:"Edit",onClick:()=>(e=>{a(e),P("target",e.target),_(!0)})(e),className:"primary-text-button ms-3 show-on-hover-element not-show-checked",text:!0})]}),style:{width:"100%"}}),(0,O.jsx)(d.V,{field:"target",header:"Target",body:e=>`$${(0,A.m)(e.target)}`,style:{width:"56px"},className:"text-end"})]}),(0,O.jsx)(u.l,{visible:g,modal:!0,header:q,className:`${p} custom-modal`,onHide:()=>_(!1),children:(0,O.jsxs)("form",{onSubmit:F((e=>{B({id:null===t||void 0===t?void 0:t.id,data:{target:e.target}},{onSuccess:()=>{D(),S.refetch()}})})),children:[(0,O.jsxs)("div",{className:"d-flex flex-column mb-4",children:[(0,O.jsx)("h6",{className:"mb-3",style:{fontSize:"16px",color:"#1D2939",fontWeight:600},children:null===t||void 0===t?void 0:t.name}),(0,O.jsx)("p",{className:"font-14 mb-1",style:{color:"#475467",fontWeight:500},children:"Target"}),(0,O.jsx)(h.S,{...k("target"),className:b}),z.target&&(0,O.jsx)("small",{className:"p-error",children:z.target.message})]}),(0,O.jsx)("hr",{}),(0,O.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-3",children:[(0,O.jsx)(o.$,{className:"outline-button",onClick:D,children:"Cancel"}),(0,O.jsx)(o.$,{className:"solid-button",style:{minWidth:"132px"},type:"submit",loading:M,children:"Save Details"})]})]})})]})})})]})}},14834:(e,t,a)=>{function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=parseFloat(e);return isNaN(a)?"0.00":t&&Math.abs(a)>=1e3?new Intl.NumberFormat("en-AU",{notation:"compact",compactDisplay:"short",minimumFractionDigits:2,maximumFractionDigits:2}).format(a):new Intl.NumberFormat("en-AU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}a.d(t,{m:()=>n})},73898:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(65043),s=a(65173),r=a.n(s),i=["color","size","title","className"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var o=(0,n.forwardRef)((function(e,t){var a=e.color,s=e.size,r=e.title,o=e.className,d=c(e,i);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:s,height:s,fill:a,className:["bi","bi-pencil-square",o].filter(Boolean).join(" ")},d),r?n.createElement("title",null,r):null,n.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"}))}));o.propTypes={color:r().string,size:r().oneOfType([r().string,r().number]),title:r().string,className:r().string},o.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=o}}]);
//# sourceMappingURL=2402.ab653c37.chunk.js.map