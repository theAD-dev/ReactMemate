{"version":3,"file":"static/js/2434.76c1b8d8.chunk.js","mappings":"8eACA,QAAoC,yCAApC,EAAmF,2BAAnF,EAAwH,+BAAxH,EAAoN,6BAApN,EAA6P,iCAA7P,EAAsS,6BAAtS,EAAif,sCAAjf,EAA8rB,yCAA9rB,EAA21B,mCAA31B,EAA44B,mCAA54B,EAAy7B,+BAAz7B,EAAw+B,qCAAx+B,EAAoqC,+BAApqC,EAAmyC,mCAAnyC,EAAk1C,iCAAl1C,EAA47C,uCAA57C,EAAy/C,2CAAz/C,GAA0lD,wCAA1lD,GAAipD,oCAAjpD,GAAqsD,qCAArsD,GAAwvD,mCAAxvD,GAA0yD,oCAA1yD,GAA21D,kCAA31D,GAA24D,mCAA34D,GAA67D,oCAA77D,GAA4hE,6BAA5hE,GAAukE,mCAAvkE,GAAwnE,mCAAxnE,GAAuqE,iC,yGCIhqE,MAAMA,GAAyBC,IACpC,IAEE,GAAgC,kBAArBA,GAAsD,OAArBA,EAA2B,CAErE,KAAIC,MAAMC,QAAQF,IAAqBA,EAAiBG,OAAS,GAAKF,MAAMC,QAAQF,EAAiB,KAQnG,OAAOA,EARiG,CAExG,MAAMI,EAAYJ,EAAiB,GAAGK,MAAKC,GAAsB,SAAbA,EAAM,KACtDF,GAAaA,EAAU,KACzBJ,EAAmBI,EAAU,GAEjC,CAIF,CAGA,GAAgC,kBAArBJ,EAA+B,CAExC,MAAMO,EAAYP,EAAiBQ,MAAM,8BAEzC,GAAID,GAAaA,EAAU,GACzB,OAAOE,KAAKC,MAAMH,EAAU,IAI9B,MAAMI,EAAYX,EAAiBY,QAAQ,KACrCC,EAAUb,EAAiBc,YAAY,KAE7C,IAAmB,IAAfH,IAAiC,IAAbE,EAAgB,CACtC,MAAME,EAAaf,EAAiBgB,UAAUL,EAAWE,EAAU,GACnE,OAAOJ,KAAKC,MAAMK,EACpB,CACF,CAEA,OAAO,IACT,CAAE,MAAOE,GAEP,OADAC,QAAQD,MAAM,qCAAsCA,GAC7C,IACT,GAQWE,GAA2BC,IACtC,IAAKA,EAAM,OAAO,KAGlB,IAAIC,EAAS,OACTD,EAAKE,eAEPD,EAASD,EAAKE,aAAaC,QAAQ,cAAe,IAAIC,QAIxD,IAAIC,EAAiB,MACK,IAAtBL,EAAKM,aACPD,EAAiB,MACc,IAAtBL,EAAKM,eACdD,EAAiB,MAInB,MAAME,EAAcC,WAAWP,IAAW,EAC1C,IAAIQ,EAAWF,EACXG,EAAM,EASV,MAPuB,OAAnBL,GACFK,EAAoB,GAAdH,EAAqB,IAC3BE,EAAWF,EAAcG,GACG,OAAnBL,IACTK,EAAiB,GAAXD,GAGD,CACLE,kBAAmBX,EAAKY,gBAAkB,GAC1CX,OAAQM,EAAYM,QAAQ,GAC5B,kBAAmBR,EACnBS,IAAwB,OAAnBT,EACLU,MAA0B,OAAnBV,EACPI,SAAUA,EAASI,QAAQ,GAC3BH,IAAKA,EAAIG,QAAQ,GACjBG,aAAcP,EAAWC,GAAKG,QAAQ,GACtCI,KAAMjB,EAAKkB,aAAe,GAC3B,E,uFCxDH,SAASC,GAASC,EAAIC,GAClB,IAAIC,EACJ,OAAO,WAAc,IAAD,IAAAC,EAAAC,UAAAzC,OAAT0C,EAAI,IAAA5C,MAAA0C,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJD,EAAIC,GAAAF,UAAAE,GACXC,aAAaL,GACbA,EAAYM,YAAW,IAAMR,KAAMK,IAAOJ,EAC9C,CACJ,CAEA,MAAMQ,GAASC,EAAAA,GACH,CACJC,SAAUD,EAAAA,KAAaE,UAAU,+BAA+BC,SAAS,wBACzEtB,kBAAmBmB,EAAAA,KAAaG,SAAS,iCACzCC,KAAMJ,EAAAA,KAAaG,SAAS,oBAC5BE,SAAUL,EAAAA,KACLG,SAAS,wBACTG,KACG,gBACA,2CACA,SAAUC,GACN,MAAM,KAAEH,GAASI,KAAKC,OACtB,IAAKL,IAASG,EAAO,OAAO,EAE5B,MAAMG,EAAc,IAAIC,KAAKP,GACvBQ,EAAU,IAAID,KAAKJ,GAMzB,OAHAG,EAAYG,SAAS,EAAG,EAAG,EAAG,GAC9BD,EAAQC,SAAS,EAAG,EAAG,EAAG,GAEnBD,GAAWF,CACtB,IAERvC,OAAQ6B,EAAAA,KAAaG,SAAS,sBAC9BlB,MAAOe,EAAAA,KAAcG,SAAS,2BAC9BnB,IAAKgB,EAAAA,KAAcG,SAAS,2BAI/BA,WAECW,IAAeC,EAAAA,EAAAA,aAAW,CAAAC,EAA8DC,KAAS,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAA,IAArE,SAAEC,GAAQ,cAAEC,GAAa,GAAEC,GAAE,gBAAEC,GAAe,UAAEC,IAAWrB,GAChEsB,EAAAA,EAAAA,QAAO,MAA/B,MACMC,IAAcD,EAAAA,EAAAA,QAAO,MACrBE,GAAcC,aAAaC,QAAQ,iBAElCC,GAAiBC,KAAsBC,EAAAA,EAAAA,WAAS,IAChDC,GAAeC,KAAoBF,EAAAA,EAAAA,WAAwB,OAAfT,SAAe,IAAfA,QAAe,EAAfA,GAAiBD,KAAM,KACnEa,GAAkBC,KAAuBJ,EAAAA,EAAAA,UAAST,IAAmB,OACrEc,GAAWC,KAAgBN,EAAAA,EAAAA,UAAS,KACpCO,GAAOC,KAAYR,EAAAA,EAAAA,UAAS,KAC5BS,GAAMC,KAAWV,EAAAA,EAAAA,UAAS,IAC1BW,GAAaC,KAAkBZ,EAAAA,EAAAA,UAAS,KACxCa,GAAaC,KAAkBd,EAAAA,EAAAA,WAAS,IACxCe,GAAqBC,KAA0BhB,EAAAA,EAAAA,WAAS,IACxDiB,GAAyBC,KAA8BlB,EAAAA,EAAAA,WAAS,IAChEmB,GAAuBC,KAA4BpB,EAAAA,EAAAA,WAAS,IAC5DqB,GAAOC,KAAYtB,EAAAA,EAAAA,UAAS,KAG7B,QAAEuB,GAAO,MAAEC,GAAK,SAAEC,GAAQ,aAAEC,GAAY,SAAEC,GAAQ,UAAEC,GAAS,MAAEC,GAAK,SAAEC,GAAQ,QAAEC,GAASC,WAAW,OAAEC,MAAaC,EAAAA,EAAAA,IAAQ,CAC7HC,UAAUC,EAAAA,EAAAA,GAAYlF,IACtBmC,oBAGE,aACFgD,GAAY,cACZC,KACAC,EAAAA,EAAAA,IAAY,CACZC,SAAU,EACVC,UAAU,EACVC,OAAQ,CAAE,kBAAmB,CAAC,OAAQ,OAAQ,OAAQ,UACtDC,QAAS,QACTC,OAAQC,IACJ,MAAMC,EAAWD,EAAcE,KAAIC,GAAQC,OAAOC,OAAOF,EAAM,CAC3DG,QAASC,IAAIC,gBAAgBL,GAC7BM,SAAU,MAEd9C,IAAS,IAAM,IACRsC,KAEPS,GAAsBT,GAAU,EAAM,KAK1CT,aAAcmB,GACdlB,cAAemB,KACflB,EAAAA,EAAAA,IAAY,CACZC,SAAU,EACVC,UAAU,EACVC,OAAQ,CAAE,kBAAmB,CAAC,OAAQ,OAAQ,OAAQ,UACtDC,QAAS,QACTC,OAASC,IACL,MAAMC,EAAWD,EAAcE,KAAKC,GAChCC,OAAOC,OAAOF,EAAM,CAChBG,QAASC,IAAIC,gBAAgBL,GAC7BM,SAAU,EACVI,YAAY,MAGpBlD,IAAS,IAAM,IAAIsC,KACnBS,GAAsBT,GAAU,EAAK,IAIvCa,GAAaC,MAAOZ,EAAMa,IACrBC,EAAAA,EAAMC,IAAIF,EAAKb,EAAM,CACxBgB,QAAS,CACL,eAAgB,IAEpBC,iBAAmBC,IACf,MAAMZ,EAAWa,KAAKC,MACjBF,EAAcG,OAASH,EAAcI,MAAS,KAEnD9D,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAElB,WAAUO,QAC7BW,KAEZ,IAEPE,OAAOC,IACNxJ,QAAQyJ,IAAI,QAASD,GACrBnE,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAElB,SAAU,EAAGO,MAAK3I,OAAO,IAC5CsJ,KAEZ,IAIJjB,GAAwBK,MAAOrD,EAAOsE,KACxC,GAAKtE,EAAMnG,OAEX,IAAK,MAAM4I,KAAQzC,EACf,IAEI,MAAMuE,QAAiBhB,EAAAA,EAAMiB,KACzB,kDACA,CAAEC,UAAWhC,EAAKyB,MAClB,CACIT,QAAS,CACLiB,cAAe,UAAUtF,SAK/B,IAAEkE,GAAQiB,EAASzJ,KACzB,IAAKwI,EAGD,OAFArD,GAAS,SACT0E,EAAAA,GAAMhK,MAAM,oBAAoB8H,EAAKyB,iCAKnCd,GAAWX,EAAMa,GAGvB,MAAMsB,EAAUtB,EAAIuB,MAAM,KAAK,IAAM,GAMrC,GALID,IACA7D,GAAS,CAAC6D,IACVnE,IAAuB,KAGtB6D,EAYD,OAVAlD,GAAS,OAAQwD,QAGjB3E,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAElB,SAAU,MAC7BkB,MAMlB,GAAIK,EAAc,CAEdrE,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAElB,SAAU,IAAK+B,cAAc,IAChDb,MAKdU,EAAAA,GAAMI,KAAK,mCAAoC,CAC3CC,SAAU,MAGd,IACI,MAAMC,QAAmB1B,EAAAA,EAAMiB,KAC3B,uDACA,CAAEU,SAAUN,GACZ,CACInB,QAAS,CACLiB,cAAe,UAAUtF,QAM/B+F,EAAgB1L,GAAgC,OAAVwL,QAAU,IAAVA,OAAU,EAAVA,EAAYnK,MACxD,GAAIqK,EAAe,CAEf,MAAMC,EAAgBvK,GAAwBsK,GAC1CC,GAEAhE,GAAS,OAAQwD,GAGjBlC,OAAO2C,QAAQD,GAAeE,SAAQC,IAAmB,IAAjBC,EAAKrI,GAAMoI,EAC/CnE,GAASoE,EAAKrI,EAAM,IAIxBqE,GAAQ,CAAC,oBAAqB,SAAU,MAAO,UAG/CmD,EAAAA,GAAMc,QAAQ,oCAGdxF,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAEa,cAAc,EAAOY,WAAW,IACnDzB,QAKdhE,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAEa,cAAc,EAAOa,UAAU,IAClD1B,MAGdU,EAAAA,GAAMiB,QAAQ,wDAEtB,MAEI3F,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAEa,cAAc,EAAOa,UAAU,IAClD1B,MAGdU,EAAAA,GAAMiB,QAAQ,uDAEtB,CAAE,MAAOC,GACLjL,QAAQD,MAAM,+BAAgCkL,GAE9C5F,IAAU+D,GACCA,EAAUxB,KAAKyB,GAClBA,EAAEC,OAASzB,EAAKyB,KACVxB,OAAOC,OAAOsB,EAAG,CAAEa,cAAc,EAAOe,SAAS,IACjD5B,MAGdU,EAAAA,GAAMhK,MAAM,oDAChB,CACJ,CACJ,CAAE,MAAOA,GACLC,QAAQD,MAAM,wBAAyB8H,EAAKyB,KAAMvJ,GAClDgK,EAAAA,GAAMhK,MAAM,oBAAoB8H,EAAKyB,0BACzC,CACJ,EAWE4B,GAAS7J,IAAU8J,IAAW,IAADC,EAC/B,MAAMC,GAAa,OAALF,QAAK,IAALA,GAAa,QAARC,EAALD,EAAOG,cAAM,IAAAF,OAAR,EAALA,EAAeG,gBAAiB,GAC9C9F,GAAe4F,EAAM,GACtB,MAEHG,EAAAA,EAAAA,YAAU,KACNjG,GAAQ,EAAE,GACX,CAACC,GAAaQ,MAEjBwF,EAAAA,EAAAA,YAAU,KACW/C,WACb,MAAMvI,QAAauL,EAAAA,GAAAA,IAAmBnG,GAhPhC,GAgP6CE,GAAa,QAChE,GAAa,IAATF,GAAY,CACZ,GAAIR,GAAe,CACf,MAAM4G,EAAoBxL,EAAKyL,QAAQL,QAAOrJ,GAAYA,EAASkC,KAAOW,KAC1E,OAAOK,GAAa,CAACH,MAAqB0G,GAC9C,CAEAvG,GAAajF,EAAKyL,QACtB,KAEK,CAAC,IAADC,EACD,IAAQ,OAAJ1L,QAAI,IAAJA,GAAa,QAAT0L,EAAJ1L,EAAMyL,eAAO,IAAAC,OAAT,EAAJA,EAAe3M,QAAS,EAAG,CAC3B,IAAI0M,EAAUzL,EAAKyL,QACf7G,KACA6G,EAAU,CAAC3G,MAAqB9E,EAAKyL,UAEzCxG,IAAa0G,IACT,IAAIC,EAAWD,EACX/G,KACAgH,EAAW,IAAID,EAAM7G,KAEzB,MAAM+G,EAAsB,IAAIC,IAAIF,EAASlE,KAAI3F,GAAYA,EAASkC,MAChE8H,EAAeN,EAAQL,QAAOrJ,IAAa8J,EAAoBG,IAAIjK,EAASkC,MAClF,MAAO,IAAI0H,KAASI,EAAa,GAEzC,CACJ,CACAtG,GAAezF,EAAKiM,QAAUjH,GAAUjG,OAAO,EAGnDmN,EAAU,GACX,CAAC9G,GAAME,GAAaV,GAAeE,GAAkBgB,MAExDwF,EAAAA,EAAAA,YAAU,KACN,GAAItG,GAAUjG,OAAS,GAAKyG,GAAa,CACrC,MAAM2G,EAAUvK,YAAW,KACvB,MAAMwK,EAAUC,SAASC,cAAc,sEACvCxM,QAAQyJ,IAAI,YAAa6C,GAErBA,IACA/H,GAAYkI,QAAU,IAAIC,sBAAqBjC,IACvCA,EAAQ,GAAGkC,iBACXpH,IAAQqH,GAAYA,EAAW,IAC/B5M,QAAQyJ,IAAI,8BAA+BgB,EAAQ,GAAGkC,gBAC1D,IAEJpI,GAAYkI,QAAQI,QAAQP,GAChC,GACD,KAEH,MAAO,KACHzK,aAAawK,GACT9H,GAAYkI,SAASlI,GAAYkI,QAAQK,YAAY,CAEjE,IACD,CAAC5H,GAAWQ,KAEf,MAsBMqH,GAAmBxK,IACrB,GAAIA,EAAO,CACP,MAAMrB,EAAcR,WAAW+F,GAAU,YAAc,GACjD,SAAE9F,EAAQ,cAAEqM,EAAe9L,YAAa+L,GAzB7BC,EAAC/M,EAAQgN,KAC9B,IAAIH,EAAgB,EAChBrM,EAAW,EAaf,MAXgB,OAAZwM,GACAxM,EAAWR,EACX6M,EAA2B,GAAXrM,GACG,OAAZwM,GACPH,EAAyB,GAAT7M,EAAgB,IAChCQ,EAAWR,EAAS6M,IAEpBrM,EAAWR,EACX6M,EAAgB,GAGb,CACHrM,SAAUA,EAASI,QAAQ,GAC3BiM,cAAeA,EAAcjM,QAAQ,GACrCG,aAAcR,WAAWC,GAAYD,WAAWsM,IAAgBjM,QAAQ,GAC3E,EAMoEmM,CAAiBhM,EAAaqB,GAE/FiE,GAAS,MAAOwG,GAChBxG,GAAS,WAAY7F,GACrB6F,GAAS,cAAeyG,GACxBzG,GAAS,QAAmB,OAAVjE,GAClBiE,GAAS,MAAiB,OAAVjE,GAChBqE,GAAQ,CAAC,OACb,GAGEwG,IAAgBC,EAAAA,EAAAA,GAAS,CAAEC,SAAU,CAAC,oBAAqBC,QAASC,GAAAA,KAEpEC,IAAeJ,EAAAA,EAAAA,GAAS,CAAEC,SAAU,CAAC,mBAAoBC,QAASG,GAAAA,KAElEC,GAAU,CAAC,oBAAqB,wBAC/BC,GAAQC,KAAkBhJ,EAAAA,EAAAA,WAAsB,OAAbX,SAAa,IAAbA,QAAa,EAAbA,GAAe0J,SAAUD,GAAQ,IAErEG,GAAapH,GAAM,UACzB8E,EAAAA,EAAAA,YAAU,KACFsC,IAAYlH,GAAQ,CAAC,SAAS,GACnC,CAACkH,KACJ,MAAMC,GAAYrH,GAAM,QAClBsH,GAAiBA,KACJ,sBAAXJ,IAAmCE,IACnCnH,GAAS,QAAS,CAAEsH,KAAM,SAAUC,QAAS,sBAGlC,wBAAXN,IAAqCG,IACrCpH,GAAS,OAAQ,CAAEsH,KAAM,SAAUC,QAAS,oBAChD,GAGJ1C,EAAAA,EAAAA,YAAU,KACF1D,OAAOqG,KAAKrH,IAAQ7H,OAAS,GAC7B+O,IAAgB,GACrB,CAAClH,MAEJ0E,EAAAA,EAAAA,YAAU,KACS,wBAAXoC,IACApH,GAAS,QAAS,IACD,OAAbtC,SAAa,IAAbA,IAAAA,GAAe+J,MAAMzH,GAAS,OAAqB,OAAbtC,SAAa,IAAbA,QAAa,EAAbA,GAAe+J,OACvC,sBAAXL,KACPpH,GAAS,OAAQ,IACA,OAAbtC,SAAa,IAAbA,IAAAA,GAAekK,OAAO5H,GAAS,QAAsB,OAAbtC,SAAa,IAAbA,QAAa,EAAbA,GAAekK,QAG/D5H,GAAS,SAAUoH,GAAO,GAC3B,CAACA,MAEJpC,EAAAA,EAAAA,YAAU,KACW,OAAbtH,SAAa,IAAbA,IAAAA,GAAe0J,QAAQC,GAA4B,OAAb3J,SAAa,IAAbA,QAAa,EAAbA,GAAe0J,OAAO,GACjE,CAAc,OAAb1J,SAAa,IAAbA,QAAa,EAAbA,GAAe0J,UAanBpC,EAAAA,EAAAA,YAAU,KACFnH,IACAmC,GAAS,SAAUnC,GACvB,GACD,CAACA,MAEJmH,EAAAA,EAAAA,YAAU,KACDrH,IAAIqC,GAAS,kBAAmB,KAAK,GAC3C,KAEHgF,EAAAA,EAAAA,YAAU,KAAO,IAAD6C,EAAAC,EAGZ,GAFIxJ,IAAe0B,GAAS,YAAa1B,IACrCA,IAAe8B,GAAQ,CAAC,aACR,OAAhB5B,SAAgB,IAAhBA,IAAyB,QAATqJ,EAAhBrJ,GAAkBuJ,eAAO,IAAAF,GAAzBA,EAA2BG,MAAqB,OAAbpB,SAAa,IAAbA,IAAmB,QAANkB,EAAblB,GAAelN,YAAI,IAAAoO,GAAnBA,EAAqBrP,OAAQ,CAAC,IAADwP,EAChE,IAAIC,EAAwB,OAAbtB,SAAa,IAAbA,IAAmB,QAANqB,EAAbrB,GAAelN,YAAI,IAAAuO,OAAN,EAAbA,EAAqBtP,MAAKqP,IAAI,IAAAG,EAAA,OAAIH,EAAKA,QAAyB,OAAhBxJ,SAAgB,IAAhBA,IAAyB,QAAT2J,EAAhB3J,GAAkBuJ,eAAO,IAAAI,OAAT,EAAhBA,EAA2BH,KAAK,IACnF,OAARE,QAAQ,IAARA,GAAAA,EAAUvK,IAAIqC,GAAS,eAAwB,OAARkI,QAAQ,IAARA,OAAQ,EAARA,EAAUvK,GACzD,MAAWD,GAAc0K,cACrBpI,GAAS,eAAgBtC,GAAc0K,cAAgB,GAC3D,GACD,CAAC9J,GAA4B,OAAbsI,SAAa,IAAbA,QAAa,EAAbA,GAAelN,KAAMsG,GAAUI,GAAS1C,GAAc0K,aAA8B,OAAhB5J,SAAgB,IAAhBA,IAAyB,QAAT9B,EAAhB8B,GAAkBuJ,eAAO,IAAArL,OAAT,EAAhBA,EAA2BsL,OAElH,MAAMK,IACFC,EAAAA,GAAAA,KAAA,OAAKC,UAAU,wEAAwEC,MAAO,CAAEC,aAAc,oBAAqBC,QAAS,qBAAsBC,UAC9JC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,kCAAiCI,SAAA,EAC5CL,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,EAAyBF,UACrCL,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,EAAWF,UACvBL,EAAAA,GAAAA,KAACQ,EAAAA,EAAU,CAACC,KAAM,GAAIC,MAAM,iBAGpCV,EAAAA,GAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,SAAUC,SAAU,OAAQC,WAAY,KAAMP,SAAC,2BAWjF3D,EAAAA,EAAAA,YAAU,KACW,OAAbtH,SAAa,IAAbA,IAAAA,GAAe2D,OACf1B,GAAS,CAAc,OAAbjC,SAAa,IAAbA,QAAa,EAAbA,GAAe2D,OACzBhC,IAAuB,GAC3B,GACD,CAAc,OAAb3B,SAAa,IAAbA,QAAa,EAAbA,GAAe2D,OAMnB,OACIuH,EAAAA,GAAAA,MAAA,OAAAD,SAAA,EACIC,EAAAA,GAAAA,MAAA,QAAMnM,IAAKA,EAAKgB,SAAUsC,IAhERrG,IACtB8N,KAEIlG,OAAOqG,KAAKrH,IAAQ7H,OAAS,EAC7Be,QAAQyJ,IAAI,qBAAsB3C,IAItC7C,GAAS/D,EAAMmG,GAAM,IAwDwC8I,SAAA,EACrDC,EAAAA,GAAAA,MAACO,EAAAA,EAAG,CAACZ,WAAWa,EAAAA,EAAAA,GAAKP,EAAgB,QAAQF,SAAA,EACzCL,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,gCAA+BI,SAAA,EAC1CC,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,YAAQL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,UACzEL,EAAAA,GAAAA,KAAA,SAAOb,KAAK,YAAa3H,GAAS,eAClCwI,EAAAA,GAAAA,KAACiB,EAAAA,EAAQ,CACLxN,MAAOuC,GACP6I,QAASzI,GACT8K,YAAY,OACZC,YAAY,KACZC,SAAWC,IACPpL,IAAkBoL,EAAE5N,OACpB,IAAI6N,EAAelL,GAAU/F,MAAK8C,GAAYA,EAASkC,KAAOgM,EAAE5N,QAChE0C,GAAoBmL,GAAgB,CAAC,EAAE,EAE3CC,aAAezC,IAEPwB,EAAAA,GAAAA,MAAA,OAAKL,UAAU,wCAAuCI,SAAA,EAClDL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,mDAAmDC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,OAAQC,aAAc,MAAOC,SAAU,SAAUC,OAAQ,qBAAsBvB,UAC7KL,EAAAA,GAAAA,KAAC6B,GAAAA,EAAa,CAACC,MAAa,OAANhD,QAAM,IAANA,OAAM,EAANA,EAAQgD,MAAOC,UAAiB,OAANjD,QAAM,IAANA,OAAM,EAANA,EAAQiD,UAAWC,aAAa,EAAMvB,KAAM,QAEhGT,EAAAA,GAAAA,KAAA,OAAKC,UAAU,iBAAiBC,MAAO,CAAE+B,SAAU,SAAU5B,SAAQ,OAANvB,QAAM,IAANA,OAAM,EAANA,EAAQtE,UAInF0H,cAAgBpD,GAER9I,IACIsK,EAAAA,GAAAA,MAAA,OAAKL,UAAU,wCAAuCI,SAAA,EAClDL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,mDAAmDC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,OAAQC,aAAc,MAAOC,SAAU,SAAUC,OAAQ,qBAAsBvB,UAC7KL,EAAAA,GAAAA,KAAC6B,GAAAA,EAAa,CAACC,MAAa,OAANhD,QAAM,IAANA,OAAM,EAANA,EAAQgD,MAAOC,UAAiB,OAANjD,QAAM,IAANA,OAAM,EAANA,EAAQiD,UAAWC,aAAa,EAAMvB,KAAM,QAEhGT,EAAAA,GAAAA,KAAA,OAAKC,UAAU,iBAAiBC,MAAO,CAAE+B,SAAU,SAAU5B,SAAQ,OAANvB,QAAM,IAANA,OAAM,EAANA,EAAQtE,UAE3E,KAGZyF,WAAWa,EAAAA,EAAAA,GAAKP,EAAuB,wBAAyB,CAAE,CAACA,GAAqB,OAANvI,SAAM,IAANA,QAAM,EAANA,GAAQ7E,WAC1FgP,eAAgB,oBAChBjC,MAAO,CAAEuB,OAAQ,QACjBW,aAAa,QACbC,YAAY,sBACZ7F,QAAM,EACN8F,SAAUlG,GACVmG,sBAAsB,IAoCzBvK,GAAO7E,WAAY6M,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAErI,GAAO7E,SAASiM,gBAI1EY,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,0EAAyEI,UACpFC,EAAAA,GAAAA,MAACkC,EAAAA,EAAM,CAACvC,UAAWM,EAA0BkC,QAASA,IAAMxL,IAA2B,GAAMoJ,SAAA,CAAC,uBAAmBL,EAAAA,GAAAA,KAAC0C,EAAAA,EAAI,CAACjC,KAAM,GAAIC,MAAM,oBAI/IV,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAIf,UAAU,OAAMI,UACzBC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,2BAA0BI,SAAA,EACrCC,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,gBAAYL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,UAC7EC,EAAAA,GAAAA,MAACqC,EAAAA,EAAS,CAAAtC,SAAA,EACNL,EAAAA,GAAAA,KAAC4C,EAAAA,EAAS,CAAAvC,UAAQ,OAANrI,SAAM,IAANA,QAAM,EAANA,GAAQjG,qBAAqBiO,EAAAA,GAAAA,KAAA,OAAK6C,IAAKC,GAAAA,EAAmB7C,UAAU,YAChFD,EAAAA,GAAAA,KAAC+C,EAAAA,EAAS,IAAKvL,GAAS,qBAAsByI,WAAWa,EAAAA,EAAAA,GAAKP,EAAkB,CAAE,CAACA,GAAevI,GAAOjG,oBAAsBsQ,YAAY,gCAExI,OAANrK,SAAM,IAANA,QAAM,EAANA,GAAQjG,qBAAqBiO,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAA0B,QAA1BhM,EAAE2D,GAAOjG,yBAAiB,IAAAsC,OAAA,EAAxBA,EAA0B+K,gBAI9FkB,EAAAA,GAAAA,MAACS,EAAAA,EAAG,CAACC,GAAI,GAAGX,SAAA,EACRC,EAAAA,GAAAA,MAACO,EAAAA,EAAG,CAAAR,SAAA,EACAC,EAAAA,GAAAA,MAACS,EAAAA,EAAG,CAACC,GAAI,EAAEX,SAAA,EACPL,EAAAA,GAAAA,KAAA,SAAOC,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAC,iBACtCC,EAAAA,GAAAA,MAAA,UAASlI,GAAa,CAAE6H,UAAW,0EAA4EC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,QAASuB,WAAY,OAAQtB,aAAc,MAAOE,OAAQ,oBAAqBqB,UAAW,OAAQ5C,SAAA,EAC7OL,EAAAA,GAAAA,KAAA,YAAW3H,QACX2H,EAAAA,GAAAA,KAAA,UAAQb,KAAK,SAASc,UAAU,mDAAmDC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,OAAQG,OAAQ,oBAAqBoB,WAAY,OAAQtB,aAAc,MAAOwB,aAAc,QAAS7C,UACpNL,EAAAA,GAAAA,KAACmD,EAAAA,EAAM,CAAC1C,KAAM,GAAIC,MAAM,eAE5BJ,EAAAA,GAAAA,MAAA,KAAGL,UAAU,OAAOC,MAAO,CAAEQ,MAAO,UAAWC,SAAU,QAASN,SAAA,EAACL,EAAAA,GAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,UAAWE,WAAY,OAAQP,SAAC,oBAAsB,wBAC/IL,EAAAA,GAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,UAAWC,SAAU,QAASN,SAAC,yDAG7DC,EAAAA,GAAAA,MAACS,EAAAA,EAAG,CAACC,GAAI,EAAEX,SAAA,EACPL,EAAAA,GAAAA,KAAA,SAAOC,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAC,2BACtCC,EAAAA,GAAAA,MAAA,UAAS/G,GAAe,CAAE0G,UAAW,0EAA4EC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,QAASuB,WAAY,OAAQtB,aAAc,MAAOE,OAAQ,oBAAqBqB,UAAW,OAAQ5C,SAAA,EAC/OL,EAAAA,GAAAA,KAAA,YAAWxG,QACXwG,EAAAA,GAAAA,KAAA,UAAQb,KAAK,SAASc,UAAU,mDAAmDC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,OAAQG,OAAQ,iBAAkBoB,WAAY,UAAWtB,aAAc,MAAOwB,aAAc,QAAS7C,UACpNL,EAAAA,GAAAA,KAAA,OAAK6C,IAAKO,GAAWnD,UAAU,aAEnCK,EAAAA,GAAAA,MAAA,KAAGL,UAAU,OAAOC,MAAO,CAAEQ,MAAO,UAAWC,SAAU,QAASN,SAAA,EAACL,EAAAA,GAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,UAAWE,WAAY,OAAQP,SAAC,oBAAsB,wBAC/IL,EAAAA,GAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,UAAWC,SAAU,QAASN,SAAC,6DAMjEC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,qBAAoBI,SAAA,EACzB,OAAL/J,SAAK,IAALA,QAAK,EAALA,GAAOnG,QAAS,IAAK6P,EAAAA,GAAAA,KAAA,SAAOC,WAAWa,EAAAA,EAAAA,GAAKP,EAAc,aAAaF,SAAC,kCAEhE,OAAL/J,SAAK,IAALA,QAAK,EAALA,GAAOwC,KAAI,CAACC,EAAMsK,KACd/C,EAAAA,GAAAA,MAAA,OAAiBL,UAAWM,EAAeF,SAAA,EACtCiD,EAAAA,GAAAA,GAAYvK,EAAKoG,OAClBmB,EAAAA,GAAAA,MAAA,OAAKL,UAAWM,EAAmBF,SAAA,EAC/BL,EAAAA,GAAAA,KAAA,KAAGC,UAAU,OAAMI,UAAM,OAAJtH,QAAI,IAAJA,OAAI,EAAJA,EAAMyB,OAAQ,MACnC8F,EAAAA,GAAAA,MAAA,KAAGL,UAAU,OAAMI,SAAA,CAAEzO,YAAe,OAAJmH,QAAI,IAAJA,OAAI,EAAJA,EAAM0H,MAAO,MAAMxO,QAAQ,GAAG,SAAOsR,SAAa,OAAJxK,QAAI,IAAJA,OAAI,EAAJA,EAAMM,WAAa,EAAE,oBAEvG2G,EAAAA,GAAAA,KAAA,OAAKC,UAAU,UAASI,SAEhBtH,EAAK9H,OACD+O,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,EAAiBF,UAC7BL,EAAAA,GAAAA,KAACwD,EAAAA,EAAqB,CAAC9C,MAAM,UAAUD,KAAM,OAEjD1H,EAAKqC,cACLkF,EAAAA,GAAAA,MAAA,OAAKL,UAAWM,EAAuBF,SAAA,EACnCL,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,KAChBP,EAAAA,GAAAA,KAAA,QAAMC,UAAWM,GAAwBF,SAAC,uBAE9CtH,EAAKiD,WACLsE,EAAAA,GAAAA,MAAA,OAAKL,UAAWM,GAAoBF,SAAA,EAChCL,EAAAA,GAAAA,KAAA,OAAKwB,MAAM,KAAKC,OAAO,KAAKgC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAA4BtD,UAC1FL,EAAAA,GAAAA,KAAA,QAAM4D,EAAE,iIAAiIF,KAAK,eAElJ1D,EAAAA,GAAAA,KAAA,QAAMC,UAAWM,GAAqBF,SAAC,sBAE3CtH,EAAKkD,UACLqE,EAAAA,GAAAA,MAAA,OAAKL,UAAWM,GAAmBF,SAAA,EAC/BL,EAAAA,GAAAA,KAAA,OAAKwB,MAAM,KAAKC,OAAO,KAAKgC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAA4BtD,UAC1FL,EAAAA,GAAAA,KAAA,QAAM4D,EAAE,iLAAiLF,KAAK,eAElM1D,EAAAA,GAAAA,KAAA,QAAMC,UAAWM,GAAoBF,SAAC,qBAE1CtH,EAAKoD,SACLmE,EAAAA,GAAAA,MAAA,OAAKL,UAAWM,GAAkBF,SAAA,EAC9BL,EAAAA,GAAAA,KAACwD,EAAAA,EAAqB,CAAC9C,MAAM,UAAUD,KAAM,MAC7CT,EAAAA,GAAAA,KAAA,QAAMC,UAAWM,GAAmBF,SAAC,gBAExB,KAAjBtH,EAAKM,UACL2G,EAAAA,GAAAA,KAAC6D,EAAAA,EAAe,CAACnD,MAAM,UAAUD,KAAM,MAEvCT,EAAAA,GAAAA,KAAC8D,GAAAA,EAAmB,CAACC,WAAYR,SAAa,OAAJxK,QAAI,IAAJA,OAAI,EAAJA,EAAMM,WAAa,EAAGoH,KAAM,GAAIC,MAAM,gBAvCtF2C,YAkD1BrD,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,qCAAoCI,SAAA,EAC/CC,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,QAAIL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,UACrEL,EAAAA,GAAAA,KAACgE,EAAAA,GAAU,CACPxJ,KAAK,OACLlD,QAASA,GACT2M,OAAQC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OACdlE,EAAAA,GAAAA,KAACoE,EAAAA,EAAQ,IAAKD,EACV/C,SAAWC,IACP8C,EAAM/C,SAASC,EAAE5N,OAEjBT,YAAW,IAAM8E,GAAQ,aAAa,EAAE,EAE5CuM,eAAa,EACbhC,YAAY,WACZiC,WAAW,WACXC,UAAQ,EACRrE,MAAO,CAAEuB,OAAQ,QACjB+C,MAAMxE,EAAAA,GAAAA,KAACyE,EAAAA,EAAS,CAAC/D,MAAM,UAAUD,KAAM,KACvCR,WAAWa,EAAAA,EAAAA,GAAKP,EAAkB,CAAE,CAACA,GAAevI,GAAO1E,MAAQ,qBACrE,KAGH,OAAN0E,SAAM,IAANA,QAAM,EAANA,GAAQ1E,QAAQ0M,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAa,QAAb/L,EAAE0D,GAAO1E,YAAI,IAAAgB,OAAA,EAAXA,EAAa8K,gBAIpEY,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,qCAAoCI,SAAA,EAC/CC,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,YAAQL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,UACzEL,EAAAA,GAAAA,KAACgE,EAAAA,GAAU,CACPxJ,KAAK,WACLlD,QAASA,GACT2M,OAAQS,IAAgB,IAAf,MAAEP,GAAOO,EAEd,MAAM9Q,EAAcgE,GAAM,QACpB+M,EAAU/Q,EAAc,IAAIC,KAAKD,GAAe,KAEtD,OACIoM,EAAAA,GAAAA,KAACoE,EAAAA,EAAQ,IAAKD,EACV/C,SAAWC,IACP8C,EAAM/C,SAASC,EAAE5N,OAEjBqE,GAAQ,WAAW,EAEvBuM,eAAa,EACbhC,YAAY,WACZiC,WAAW,WACXM,OAAO,KACPL,UAAQ,EACRI,QAASA,EACTzE,MAAO,CAAEuB,OAAQ,QACjB+C,MAAMxE,EAAAA,GAAAA,KAACyE,EAAAA,EAAS,CAAC/D,MAAM,UAAUD,KAAM,KACvCR,WAAWa,EAAAA,EAAAA,GAAKP,EAAkB,CAAE,CAACA,GAAevI,GAAOzE,UAAY,qBACzE,KAIP,OAANyE,SAAM,IAANA,QAAM,EAANA,GAAQzE,YAAYyM,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAiB,QAAjB9L,EAAEyD,GAAOzE,gBAAQ,IAAAgB,OAAA,EAAfA,EAAiB6K,gBAK5EY,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,2BAA0BI,SAAA,EACrCC,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,gBAAYL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,UAC7EC,EAAAA,GAAAA,MAACqC,EAAAA,EAAS,CAAAtC,SAAA,EACNL,EAAAA,GAAAA,KAAC6E,EAAAA,EAAW,CACRC,OAAO,IACPrR,MAAOmE,GAAM,UACbmN,cAAgB1D,IACZ3J,GAAS,SAAU2J,EAAE5N,OACrBwK,GAAgBtG,GAAU,mBAAmB,EAEjDqN,OAAQA,IAAM/G,GAAgBtG,GAAU,oBACxCuI,MAAO,CAAEuB,OAAQ,OAAQrB,QAAS,OAClCH,WAAWa,EAAAA,EAAAA,GAAKP,EAAkB,CAAE,CAACA,GAAevI,GAAO3G,SAC3DgR,YAAY,uBACZ4C,kBAAmB,EACnBC,kBAAmB,EACnBC,QAAQ,oBAEZnF,EAAAA,GAAAA,KAAC4C,EAAAA,EAAS,CAAAvC,SAAErI,GAAO3G,SAAU2O,EAAAA,GAAAA,KAAA,OAAK6C,IAAKC,GAAAA,EAAmB7C,UAAU,eAEjE,OAANjI,SAAM,IAANA,QAAM,EAANA,GAAQ3G,UAAU2O,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAe,QAAf7L,GAAEwD,GAAO3G,cAAM,IAAAmD,QAAA,EAAbA,GAAe4K,gBAGxEY,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,gCAA+BI,SAAA,EAC1CC,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,OAAGL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,UACpEL,EAAAA,GAAAA,KAAA,SAAOb,KAAK,YAAa3H,GAAS,YAClCwI,EAAAA,GAAAA,KAACgE,EAAAA,GAAU,CACPxJ,KAAK,kBACLlD,QAASA,GACT2M,OAAQmB,IAAA,IAAC,MAAEjB,GAAOiB,EAAA,OACdpF,EAAAA,GAAAA,KAACiB,EAAAA,EAAQ,IACDkD,EACJtF,QAAS,CACL,CAAEpL,MAAO,KAAM4R,MAAO,iBACtB,CAAE5R,MAAO,KAAM4R,MAAO,iBACtB,CAAE5R,MAAO,KAAM4R,MAAO,YACrB,EACLjE,SAAWC,IACP8C,EAAM/C,SAASC,EAAE5N,OACjBwK,GAAgBoD,EAAE5N,MAAM,EAE5BwM,WAAWa,EAAAA,EAAAA,GAAKP,EAAuB,wBAAyB,CAAE,CAACA,GAAqB,OAANvI,SAAM,IAANA,QAAM,EAANA,GAAQ9F,MAC1FgO,MAAO,CAAEuB,OAAQ,QACjBhO,MAAO0Q,EAAM1Q,MACb4O,YAAY,aACZE,sBAAsB,GACxB,KAGH,OAANvK,SAAM,IAANA,QAAM,EAANA,GAAQ9F,OAAO8N,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAY,QAAZ5L,GAAEuD,GAAO9F,WAAG,IAAAuC,QAAA,EAAVA,GAAY2K,mBAKtEkB,EAAAA,GAAAA,MAACO,EAAAA,EAAG,CAACZ,UAAW,GAAGM,IAAqBF,SAAA,EACpCC,EAAAA,GAAAA,MAACS,EAAAA,EAAG,CAACd,UAAU,gDAAgDC,MAAO,CAAEoF,SAAU,YAAajF,SAAA,EAC3FL,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,EAAeF,UAC3BC,EAAAA,GAAAA,MAAA,OAAAD,SAAA,EACIL,EAAAA,GAAAA,KAAA,QAAAK,SAAM,cACNC,EAAAA,GAAAA,MAAA,UAAAD,SAAA,CAAQ,KAAEkF,EAAAA,GAAAA,GAAU3N,GAAM,aAAe,iBAGjDoI,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,EAAmBF,UAC/BL,EAAAA,GAAAA,KAACwF,EAAAA,EAAU,CAAC9E,MAAM,UAAUD,KAAM,WAG1CH,EAAAA,GAAAA,MAACS,EAAAA,EAAG,CAACd,UAAU,gDAAgDC,MAAO,CAAEoF,SAAU,YAAajF,SAAA,EAC3FL,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,EAAeF,UAC3BC,EAAAA,GAAAA,MAAA,OAAAD,SAAA,EACIL,EAAAA,GAAAA,KAAA,QAAAK,SAAM,SACNC,EAAAA,GAAAA,MAAA,UAAAD,SAAA,CAAQ,KAAEkF,EAAAA,GAAAA,GAAU3N,GAAM,QAAU,iBAG5CoI,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,EAAmBF,UAC/BL,EAAAA,GAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,UAAWC,SAAU,OAAQC,WAAY,KAAMP,SAAC,YAG9EL,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACb,MAAO,CAAEoF,SAAU,YAAajF,UACjCL,EAAAA,GAAAA,KAAA,OAAKC,UAAW,GAAGM,KAAwBA,IAAiBF,UACxDC,EAAAA,GAAAA,MAAA,OAAAD,SAAA,EACIL,EAAAA,GAAAA,KAAA,QAAAK,SAAM,WACNC,EAAAA,GAAAA,MAAA,UAAQL,UAAU,cAAaI,SAAA,CAAC,KAAEkF,EAAAA,GAAAA,GAAU3N,GAAM,gBAAkB,sBAMpF0I,EAAAA,GAAAA,MAACO,EAAAA,EAAG,CAACZ,WAAWa,EAAAA,EAAAA,GAAKP,EAAgB,sBAAsBF,SAAA,EACvDL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,oDAAmDI,UAC9DL,EAAAA,GAAAA,KAACyF,EAAAA,EAAY,CAAChS,MAAOqL,GAAQmB,UAAWM,GAAqBa,SAAWC,GAAMtC,GAAesC,EAAE5N,OAAQoL,QAASA,OAUrG,sBAAXC,IAEQkB,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAGX,UACRC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,qCAAoCI,SAAA,EAC/CL,EAAAA,GAAAA,KAAC0F,EAAAA,EAAO,CAACJ,SAAS,MAAMK,OAAQ,wBAChCrF,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,mBAAeL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,MAAQ,KAACL,EAAAA,GAAAA,KAAC4F,EAAAA,EAAc,CAAClF,MAAM,UAAUR,MAAO,CAAEoF,SAAU,WAAYO,IAAK,QAAU5F,UAAW,yBAA0B,kBAAgB,sGAC5ND,EAAAA,GAAAA,KAACgE,EAAAA,GAAU,CACPxJ,KAAK,QACLlD,QAASA,GACT2M,OAAQ6B,IAAA,IAAAC,EAAA,IAAC,MAAE5B,GAAO2B,EAAA,OACd9F,EAAAA,GAAAA,KAACiB,EAAAA,EAAQ,IACDkD,EACJtF,SAAqB,OAAZF,SAAY,IAAZA,IAAkB,QAANoH,EAAZpH,GAAcvN,YAAI,IAAA2U,OAAN,EAAZA,EAAoBjN,KAAKkN,IAAO,CACrCvS,MAAOuS,EAAQ3Q,GACfgQ,MAAO,GAAGW,EAAQC,WAAWD,EAAQE,kBAClC,GACP9E,SAAWC,IACP8C,EAAM/C,SAASC,EAAE5N,MAAM,EAE3BwM,WAAWa,EAAAA,EAAAA,GAAKP,EAAuB,wBAAyB,CAAE,CAACA,GAAqB,OAANvI,SAAM,IAANA,QAAM,EAANA,GAAQsH,QAC1FY,MAAO,CAAEuB,OAAQ,QACjBhO,MAAO0Q,EAAM1Q,MACb0S,QAAqB,OAAZxH,SAAY,IAAZA,QAAY,EAAZA,GAAcyH,WACvB/D,YAAY,iBACZ7F,QAAM,EACN+F,sBAAsB,EACtBH,aAAa,SACf,KAGH,OAANpK,SAAM,IAANA,QAAM,EAANA,GAAQsH,SAASU,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAc,QAAd3L,GAAEsD,GAAOsH,aAAK,IAAA5K,QAAA,EAAZA,GAAc0K,gBAKtEY,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAGX,UACRC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,qCAAoCI,SAAA,EAC/CL,EAAAA,GAAAA,KAAC0F,EAAAA,EAAO,CAACJ,SAAS,MAAMK,OAAQ,wBAChCrF,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,yBAAqBL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,MAAQ,KAACL,EAAAA,GAAAA,KAAC4F,EAAAA,EAAc,CAAClF,MAAM,UAAUR,MAAO,CAAEoF,SAAU,WAAYO,IAAK,QAAU5F,UAAW,yBAA0B,kBAAgB,0IAClOD,EAAAA,GAAAA,KAACgE,EAAAA,GAAU,CACPxJ,KAAK,OACLlD,QAASA,GACT2M,OAAQoC,IAAA,IAAC,MAAElC,GAAOkC,EAAA,OACdrG,EAAAA,GAAAA,KAACiB,EAAAA,EAAQ,IACDkD,EACJtF,QAAS,CACL,CAAEpL,MAAO,EAAG4R,MAAO,WACnB,CAAE5R,MAAO,EAAG4R,MAAO,WAEvBjE,SAAWC,IACP8C,EAAM/C,SAASC,EAAE5N,MAAM,EAE3BwM,WAAWa,EAAAA,EAAAA,GAAKP,EAAuB,wBAAyB,CAAE,CAACA,GAAqB,OAANvI,SAAM,IAANA,QAAM,EAANA,GAAQmH,OAC1Fe,MAAO,CAAEuB,OAAQ,QACjBhO,MAAO0Q,EAAM1Q,MACb4O,YAAY,+BACZE,sBAAsB,GACxB,KAGH,OAANvK,SAAM,IAANA,QAAM,EAANA,GAAQmH,QAAQa,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAa,QAAb1L,GAAEqD,GAAOmH,YAAI,IAAAxK,QAAA,EAAXA,GAAayK,mBAOpFY,EAAAA,GAAAA,KAACa,EAAAA,EAAG,CAACZ,WAAWa,EAAAA,EAAAA,GAAKP,GAAgBF,UACjCL,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAGX,UACRC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,2BAA0BI,SAAA,EACrCL,EAAAA,GAAAA,KAAA,SAAOC,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAC,WACtCC,EAAAA,GAAAA,MAACqC,EAAAA,EAAS,CAAAtC,SAAA,EACNL,EAAAA,GAAAA,KAAC4C,EAAAA,EAAS,CAAC1C,MAAO,CAAE2F,IAAK,OAAQxF,SAAErI,GAAO3F,OAAQ2N,EAAAA,GAAAA,KAAA,OAAK6C,IAAKC,GAAAA,EAAmBwD,IAAI,kBACnFtG,EAAAA,GAAAA,KAACuG,EAAAA,EAAa,IAAK/O,GAAS,QAASgP,KAAM,EAAGC,KAAM,GAAIxG,WAAWa,EAAAA,EAAAA,GAAKP,EAAkB,CAAE,CAACA,GAAevI,GAAO3F,OAAS6N,MAAO,CAAEwG,OAAQ,QAAUrE,YAAY,uBAEtKrK,GAAO3F,OAAQ2N,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAErI,GAAO3F,KAAK+M,kBAKtEY,EAAAA,GAAAA,KAACa,EAAAA,EAAG,CAACZ,WAAWa,EAAAA,EAAAA,GAAKP,GAAgBF,UACjCL,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAGX,UACRC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,qCAAoCI,SAAA,EAC/CL,EAAAA,GAAAA,KAAA,SAAOC,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAC,kBACtCL,EAAAA,GAAAA,KAACgE,EAAAA,GAAU,CACPxJ,KAAK,eACLlD,QAASA,GACT2M,OAAQ0C,IAAA,IAAAC,EAAA,IAAC,MAAEzC,GAAOwC,EAAA,OACd3G,EAAAA,GAAAA,KAACiB,EAAAA,EAAQ,IACDkD,EACJtF,QAAS,IACDP,KAA8B,OAAbA,SAAa,IAAbA,IAAmB,QAANsI,EAAbtI,GAAelN,YAAI,IAAAwV,OAAN,EAAbA,EAAqB9N,KAAK4G,IAAI,CAC/CjM,MAAOiM,EAAKrK,GACZgQ,MAAO,GAAG3F,EAAKA,SAASA,EAAKlF,aACzB,KACP,GACL4G,SAAWC,IACP8C,EAAM/C,SAASC,EAAE5N,MAAM,EAE3BwM,WAAWa,EAAAA,EAAAA,GAAKP,EAAuB,wBAAyB,CAAE,CAACA,GAAqB,OAANvI,SAAM,IAANA,QAAM,EAANA,GAAQ8H,eAC1FI,MAAO,CAAEuB,OAAQ,QACjBW,aAAa,QACb3O,MAAO0Q,EAAM1Q,MACb0S,QAAsB,OAAb7H,SAAa,IAAbA,QAAa,EAAbA,GAAe8H,WACxB/D,YAAY,sBACZ7F,QAAM,EACN+F,sBAAsB,GACxB,KAGH,OAANvK,SAAM,IAANA,QAAM,EAANA,GAAQ8H,gBAAgBE,EAAAA,GAAAA,KAAA,KAAGC,UAAU,gBAAeI,SAAqB,QAArBzL,GAAEoD,GAAO8H,oBAAY,IAAAlL,QAAA,EAAnBA,GAAqBwK,iBAqClF,OAALhI,SAAK,IAALA,IAAAA,GAAOjH,QACJ6P,EAAAA,GAAAA,KAACa,EAAAA,EAAG,CAACZ,WAAWa,EAAAA,EAAAA,GAAKP,GAAgBF,UACjCL,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,GAAGX,UACRL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,2BAA0BI,UACrCC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,qBAAoBI,SAAA,EAC/BL,EAAAA,GAAAA,KAAA,SAAOC,WAAWa,EAAAA,EAAAA,GAAKP,EAAc,QAAQF,SAAC,kCAE1CjJ,GAAM,KACFkJ,EAAAA,GAAAA,MAAA,OAAKL,UAAWM,EAAeF,SAAA,EAC1BiD,EAAAA,GAAAA,IAAoB,QAARzO,GAAAuC,GAAM,UAAE,IAAAvC,IAAY,QAAZC,GAARD,GAAUsG,MAAM,YAAI,IAAArG,QAAZ,EAARA,IAA+B,QAARC,GAAAqC,GAAM,UAAE,IAAArC,QAAA,EAARA,GAAUoG,MAAM,KAAKhL,QAAS,KAAM,KACxEmQ,EAAAA,GAAAA,MAAA,OAAKL,UAAWM,EAAmBF,SAAA,EAC/BL,EAAAA,GAAAA,KAAC6G,EAAAA,GAAI,CAAC5G,UAAU,WAAW6G,GAAI1P,GAAM,GAAIuO,OAAO,SAAQtF,UAACL,EAAAA,GAAAA,KAAA,KAAGC,UAAU,OAAMI,UAAU,QAARrL,GAAAoC,GAAM,UAAE,IAAApC,IAAY,QAAZC,GAARD,GAAUmG,MAAM,YAAI,IAAAlG,QAAZ,EAARA,IAA+B,QAARC,GAAAkC,GAAM,UAAE,IAAAlC,QAAA,EAARA,GAAUiG,MAAM,KAAKhL,QAAS,KAAM,QACzI6P,EAAAA,GAAAA,KAAA,KAAGC,UAAU,aAEjBD,EAAAA,GAAAA,KAAA,OAAKC,UAAU,UAASI,UACpBL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,mDAAmDC,MAAO,CAAE8C,WAAY,UAAWtB,aAAc,QAASF,MAAO,OAAQC,OAAQ,QAASpB,UACrJL,EAAAA,GAAAA,KAAC+G,EAAAA,EAAK,CAACtG,KAAM,GAAIC,MAAM,UAAUR,MAAO,CAAE8G,OAAQ,WAAavE,QAjhBhGwE,KACfvP,GAAS,OAAQ,IACjBL,GAAS,IACTN,IAAuB,EAAM,oBAwhBf,OAuBNiJ,EAAAA,GAAAA,KAACkH,EAAAA,EAAO,CAACC,QAASrQ,KAA4B,OAALM,SAAK,IAALA,QAAK,EAALA,GAAOjH,QAAQiX,OAAQrH,GAAuBuF,SAAS,QAAQ+B,OAAO,EAAOC,aAAa,EAAOpH,MAAO,CAAEsB,MAAO,SAAU+F,aAAc,SAAWC,cAAc,0BAA0BC,OAAQA,IAAM1Q,IAAuB,GAAOsJ,UAC7QL,EAAAA,GAAAA,KAAC0H,GAAW,CAACpR,MAAOc,OAG3BvB,KACGmK,EAAAA,GAAAA,KAAC2H,GAAa,CACVR,QAAStR,GACT4R,OAAQA,IAAM3R,IAAmB,KAIxCkB,KACGgJ,EAAAA,GAAAA,KAAC4H,GAAAA,EAAc,CACXT,QAASnQ,GACT6Q,WAAY5Q,GACZ6Q,QAASA,IAAM3Q,IAAyB4F,IAASA,QAGvD,IAIR2K,GAAcK,IAAgB,IAAf,MAAEzR,GAAOyR,EAC1B,MAAOC,EAAYC,IAAiBlS,EAAAA,EAAAA,UAAS,CAAC,GAYxCmS,EAAaA,CAACnP,EAAMoP,KACtBF,GAAelL,IAAU,IAADqL,EAAAC,EACpB,MAAM1K,GAAoB,QAAVyK,EAAArL,EAAKhE,UAAK,IAAAqP,OAAA,EAAVA,EAAYE,cAAe,EACrCC,GAAqB,QAAVF,EAAAtL,EAAKhE,UAAK,IAAAsP,OAAA,EAAVA,EAAYE,WAAY,EACnCC,EAAUtO,KAAKuO,IAAIvO,KAAKwO,IAAI/K,EAAUwK,EAAQ,GAAII,GACxD,MAAO,IACAxL,EACH,CAAChE,GAAO,IACDgE,EAAKhE,GACRuP,YAAaE,GAEpB,GACH,EAGN,OACIxI,EAAAA,GAAAA,KAAA,OAAKE,MAAO,CAAEyI,QAAS,OAAQC,IAAK,QAASvI,SACxC/J,EAAMwC,KAAI,CAACC,EAAMsK,KACd,GA5Ba,kCAAkC7P,KA4BnCuF,GACR,OACIiH,EAAAA,GAAAA,KAAA,OAEI6C,IAAK9J,EACLuN,IAAK,WAAWjD,IAChBnD,MAAO,CACH+B,SAAU,OACV4G,UAAW,QACXjH,OAAQ,mBANPyB,GAYjB,GA1CGzJ,IAAQ,UAAUpG,KAAKoG,GA0CtBkP,CAAM/P,GAAO,CACb,MAAMgQ,EAAef,EAAWjP,IAAS,CAAC,GACpC,SAAEwP,EAAW,KAAI,YAAED,EAAc,GAAMS,EAE7C,OACIzI,EAAAA,GAAAA,MAAA,OAEIJ,MAAO,CACH0B,OAAQ,iBACRxB,QAAS,OACT6B,SAAU,SACZ5B,SAAA,EAEFL,EAAAA,GAAAA,KAACgJ,EAAAA,GAAQ,CACLjQ,KAAMA,EACNkQ,cAAgB5H,GAvDlB6H,EAACnQ,EAAIoQ,KAAoB,IAAlB,SAAEZ,GAAUY,EACzClB,GAAelL,IAAI,IACZA,EACH,CAAChE,GAAO,IAAKgE,EAAKhE,GAAOwP,WAAUD,YAAa,MACjD,EAmD2CY,CAAkBnQ,EAAMsI,GAC9C+H,YAAc1O,GACVxJ,QAAQD,MAAM,kBAAmByJ,GACpC2F,UAEDL,EAAAA,GAAAA,KAACqJ,EAAAA,GAAI,CAACC,WAAYhB,EAAa9G,MAAO,QAGzC+G,IACGjI,EAAAA,GAAAA,MAAA,OACIJ,MAAO,CACHyI,QAAS,OACTY,eAAgB,SAChBC,WAAY,SACZvG,UAAW,OACX2F,IAAK,QACPvI,SAAA,EAEFL,EAAAA,GAAAA,KAAA,UACIC,UAAU,sBACVC,MAAO,CAAEuB,OAAQ,QACjBgB,QAASA,IAAMyF,EAAWnP,GAAO,GACjC0Q,SAAUnB,GAAe,EAAEjI,SAC9B,YAGDC,EAAAA,GAAAA,MAAA,QAAAD,SAAA,CACKiI,EAAY,OAAKC,MAEtBvI,EAAAA,GAAAA,KAAA,UACIC,UAAU,sBACVC,MAAO,CAAEuB,OAAQ,QACjBgB,QAASA,IAAMyF,EAAWnP,EAAM,GAChC0Q,SAAUnB,GAAeC,EAASlI,SACrC,gBA3CJgD,EAkDjB,CAEA,OAAO/C,EAAAA,GAAAA,MAAA,KAAAD,SAAA,CAAe,0BAAwBtH,IAA/BsK,EAAwC,KAEzD,EAIRsE,GAAgB+B,EAAAA,MAAWC,IAA8C,IAADC,EAAA,IAA5C,QAAEzC,EAAO,OAAEM,EAAM,cAAErS,EAAgB,CAAC,GAAGuU,EACrE,MAAMlU,GAAcD,EAAAA,EAAAA,QAAO,OACpBQ,EAAeC,IAAoBF,EAAAA,EAAAA,WAA+B,QAAtB6T,EAAAxU,EAAcjC,gBAAQ,IAAAyW,OAAA,EAAtBA,EAAwBvU,KAAM,KAC1Ea,EAAkBC,IAAuBJ,EAAAA,EAAAA,UAASX,EAAcjC,UAAY,OAC5EiD,EAAWC,IAAgBN,EAAAA,EAAAA,UAAS,KACpCS,EAAMC,IAAWV,EAAAA,EAAAA,UAAS,IAC1BW,EAAaC,IAAkBZ,EAAAA,EAAAA,UAAS,KACxCa,EAAaC,IAAkBd,EAAAA,EAAAA,WAAS,IACxCqB,EAAOC,IAAYtB,EAAAA,EAAAA,UAAS,IAG7BqG,EAAS7J,IAAU8J,IAAW,IAADwN,EAC/B,MAAMtN,GAAa,OAALF,QAAK,IAALA,GAAa,QAARwN,EAALxN,EAAOG,cAAM,IAAAqN,OAAR,EAALA,EAAepN,gBAAiB,GAC9C9F,EAAe4F,EAAM,GACtB,MAEHG,EAAAA,EAAAA,YAAU,KACNjG,EAAQ,EAAE,GACX,CAACC,KAEJgG,EAAAA,EAAAA,YAAU,KACW/C,WACb,MAAMvI,QAAauL,EAAAA,GAAAA,IAAmBnG,EAbhC,GAa6CE,EAAa,QAChE,GAAa,IAATF,EAAY,CACZ,GAAIR,EAAe,CACf,MAAM4G,EAAoBxL,EAAKyL,QAAQL,QAAOrJ,GAAYA,EAASkC,KAAOW,IAC1E,OAAOK,EAAa,CAACH,KAAqB0G,GAC9C,CAEAvG,EAAajF,EAAKyL,QACtB,KAEK,CAAC,IAADiN,EACD,IAAQ,OAAJ1Y,QAAI,IAAJA,GAAa,QAAT0Y,EAAJ1Y,EAAMyL,eAAO,IAAAiN,OAAT,EAAJA,EAAe3Z,QAAS,EAAG,CAC3B,IAAI0M,EAAUzL,EAAKyL,QACf7G,IACA6G,EAAU,CAAC3G,KAAqB9E,EAAKyL,UAEzCxG,GAAa0G,IACT,IAAIC,EAAWD,EACX/G,IACAgH,EAAW,IAAID,EAAM7G,IAEzB,MAAM+G,EAAsB,IAAIC,IAAIF,EAASlE,KAAI3F,GAAYA,EAASkC,MAChE8H,EAAeN,EAAQL,QAAOrJ,IAAa8J,EAAoBG,IAAIjK,EAASkC,MAClF,MAAO,IAAI0H,KAASI,EAAa,GAEzC,CACJ,CACAtG,EAAezF,EAAKiM,QAAUjH,EAAUjG,OAAO,EAGnDmN,EAAU,GACX,CAAC9G,EAAME,EAAaV,EAAeE,KAEtCwG,EAAAA,EAAAA,YAAU,KACN,GAAItG,EAAUjG,OAAS,GAAKyG,EAAa,CACrC,MAAM2G,EAAUvK,YAAW,KACvB,MAAMwK,EAAUC,SAASC,cAAc,sEACvCxM,QAAQyJ,IAAI,YAAa6C,GAErBA,IACA/H,EAAYkI,QAAU,IAAIC,sBAAqBjC,IACvCA,EAAQ,GAAGkC,iBACXpH,GAAQqH,GAAYA,EAAW,IAC/B5M,QAAQyJ,IAAI,8BAA+BgB,EAAQ,GAAGkC,gBAC1D,IAEJpI,EAAYkI,QAAQI,QAAQP,GAChC,GACD,KAEH,MAAO,KACHzK,aAAawK,GACT9H,EAAYkI,SAASlI,EAAYkI,QAAQK,YAAY,CAEjE,IACD,CAAC5H,EAAWQ,IAEf,MAAMmT,GACFzJ,EAAAA,GAAAA,MAAA,OAAKL,UAAW,GAAGM,KAAqBF,SAAA,EACpCL,EAAAA,GAAAA,KAAA,OAAKC,UAAWM,GAAiBF,UAC7BL,EAAAA,GAAAA,KAAA,OAAK6C,IAAKO,GAAWkD,IAAI,mBAE7BtG,EAAAA,GAAAA,KAAA,QAAMC,UAAW,sBAAsBM,KAAqBF,SAAC,cAI/D2J,GACFhK,EAAAA,GAAAA,KAAA,OAAKC,UAAU,wDAKnB,OACIK,EAAAA,GAAAA,MAAC2J,EAAAA,EAAM,CAAC9C,QAASA,EAASE,OAAK,EAACI,OAAQA,EAAQL,OAAQ2C,EAAeG,OAAQF,EAAe/J,UAAW,GAAGM,kBAA4BF,SAAA,EACpIC,EAAAA,GAAAA,MAACO,EAAAA,EAAG,CAACZ,UAAU,OAAMI,SAAA,EACjBL,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPC,EAAAA,GAAAA,MAAA,OAAKL,UAAU,2BAA0BI,SAAA,EACrCC,EAAAA,GAAAA,MAAA,SAAOL,WAAWa,EAAAA,EAAAA,GAAKP,GAAcF,SAAA,CAAC,YAAQL,EAAAA,GAAAA,KAAA,QAAMC,UAAU,WAAUI,SAAC,UACzEL,EAAAA,GAAAA,KAACiB,EAAAA,EAAQ,CACLxN,MAAOuC,EACP6I,QAASzI,EACT8K,YAAY,OACZC,YAAY,KACZC,SAAWC,IACPpL,GAAkBoL,EAAE5N,OACpB,IAAI6N,EAAelL,EAAU/F,MAAK8C,GAAYA,EAASkC,KAAOgM,EAAE5N,QAChE0C,EAAoBmL,GAAgB,CAAC,EAAE,EAE3CC,aAAezC,IAEPwB,EAAAA,GAAAA,MAAA,OAAKL,UAAU,wCAAuCI,SAAA,EAClDL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,mDAAmDC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,OAAQC,aAAc,MAAOC,SAAU,SAAUC,OAAQ,qBAAsBvB,UAC7KL,EAAAA,GAAAA,KAAC6B,GAAAA,EAAa,CAACC,MAAa,OAANhD,QAAM,IAANA,OAAM,EAANA,EAAQgD,MAAOC,UAAiB,OAANjD,QAAM,IAANA,OAAM,EAANA,EAAQiD,UAAWC,aAAa,EAAMvB,KAAM,QAEhGT,EAAAA,GAAAA,KAAA,OAAKC,UAAU,iBAAiBC,MAAO,CAAE+B,SAAU,SAAU5B,SAAQ,OAANvB,QAAM,IAANA,OAAM,EAANA,EAAQtE,UAInF0H,cAAgBpD,GAER9I,GACIsK,EAAAA,GAAAA,MAAA,OAAKL,UAAU,wCAAuCI,SAAA,EAClDL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,mDAAmDC,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,OAAQC,aAAc,MAAOC,SAAU,SAAUC,OAAQ,qBAAsBvB,UAC7KL,EAAAA,GAAAA,KAAC6B,GAAAA,EAAa,CAACC,MAAa,OAANhD,QAAM,IAANA,OAAM,EAANA,EAAQgD,MAAOC,UAAiB,OAANjD,QAAM,IAANA,OAAM,EAANA,EAAQiD,UAAWC,aAAa,EAAMvB,KAAM,QAEhGT,EAAAA,GAAAA,KAAA,OAAKC,UAAU,iBAAiBC,MAAO,CAAE+B,SAAU,SAAU5B,SAAQ,OAANvB,QAAM,IAANA,OAAM,EAANA,EAAQtE,UAE3E,KAGZyF,WAAWa,EAAAA,EAAAA,GAAKP,EAAuB,yBACvC4B,eAAgB,oBAChBjC,MAAO,CAAEuB,OAAQ,QACjBW,aAAa,QACbC,YAAY,sBACZ7F,QAAM,EACN8F,SAAUlG,EACVmG,sBAAsB,UAKlCvC,EAAAA,GAAAA,KAACe,EAAAA,EAAG,CAACC,GAAI,EAAEX,UACPL,EAAAA,GAAAA,KAAA,OAAKC,UAAU,qEAAoEI,UAC/EL,EAAAA,GAAAA,KAAC6G,EAAAA,GAAI,CAACC,GAAI,iCAAkCnB,OAAO,SAAQtF,UACvDC,EAAAA,GAAAA,MAACkC,EAAAA,EAAM,CAACvC,UAAWM,EAAyBF,SAAA,CAAC,uBAAmBL,EAAAA,GAAAA,KAAC0C,EAAAA,EAAI,CAACjC,KAAM,GAAIC,MAAM,yBAKtGV,EAAAA,GAAAA,KAAA,UACAA,EAAAA,GAAAA,KAACa,EAAAA,EAAG,MAGC,IAIjB,K,0ICx1CA,QAAoC,2CAApC,EAAqF,6B,yBCWrF,MAkIA,EAlIuB3M,IAAuC,IAAtC,QAAEiT,EAAO,WAAEU,EAAU,QAAEC,GAAS5T,EACtD,MAAMiW,GAAU3U,EAAAA,EAAAA,QAAO,MACjB4U,EAAiB,IAAIC,iBAAgBC,EAAAA,EAAAA,MAAclO,QAAQmO,IAAI,mBAC9DC,EAAWC,IAAgB1U,EAAAA,EAAAA,WAAS,IACpC+L,EAAO4I,IAAY3U,EAAAA,EAAAA,UAAS,OAC5BX,IAAmBW,EAAAA,EAAAA,UAAS,CACjC4U,gBAAiB,CAAC,CAAC,GACnBC,UAAW,CAAC,CAAEC,MAAO,gBAAiBC,QAAS,MAoE3CrT,EAAekC,UACnBzI,QAAQyJ,IAAI,SAAUvJ,GAlELuI,WACjBzI,QAAQyJ,IAAI,SAAUvJ,GACtB,MAAM2Z,EAAW,IAAIC,SAErBD,EAASE,OAAO,OAAQ7Z,EAAKoJ,MACzBpJ,EAAK8Z,OAAOH,EAASE,OAAO,QAAS7Z,EAAK8Z,OAC1C9Z,EAAK+Z,SAASJ,EAASE,OAAO,UAAW7Z,EAAK+Z,SAC9C/Z,EAAKga,KAAKL,EAASE,OAAO,MAAO7Z,EAAKga,KAC1C,MAAMC,GAAkB,OAAJja,QAAI,IAAJA,OAAI,EAAJA,EAAMka,SAASC,EAAAA,EAAAA,GAA2Bna,EAAKka,OA2BnE,GA1Be,OAAXD,QAAW,IAAXA,GAAAA,EAAaG,gBAAgBT,EAASE,OAAO,QAAS7Z,EAAKka,OAC3Dla,EAAKqO,SAASsL,EAASE,OAAO,UAAW7Z,EAAKqO,SAC9CrO,EAAKiB,MAAM0Y,EAASE,OAAO,OAAQ7Z,EAAKiB,MAE5CjB,EAAKwZ,UAAUhP,SAAQ,CAAC6P,EAASpI,KAC3BoI,EAAQC,OACVX,EAASE,OAAO,aAAa5H,YAAiBoI,EAAQA,SACtDV,EAASE,OAAO,aAAa5H,SAAcoI,EAAQC,MACnDX,EAASE,OAAO,aAAa5H,aAAkBoI,EAAQE,UACvDZ,EAASE,OAAO,aAAa5H,YAAiBoI,EAAQG,SACtDb,EAASE,OAAO,aAAa5H,UAAeoI,EAAQZ,OACtD,IAGFzZ,EAAKuZ,gBAAgB/O,SAAQ,CAACiQ,EAAQxI,KACpC,GAAIwI,EAAOC,WAAaD,EAAOX,MAAO,CACpCH,EAASE,OAAO,mBAAmB5H,cAAmBwI,EAAOC,WAC7Df,EAASE,OAAO,mBAAmB5H,aAAkBwI,EAAOE,UAC5DhB,EAASE,OAAO,mBAAmB5H,UAAewI,EAAOX,OACzD,MAAMG,GAAoB,OAANQ,QAAM,IAANA,OAAM,EAANA,EAAQP,SAASC,EAAAA,EAAAA,GAA2BM,EAAOP,OACxD,OAAXD,QAAW,IAAXA,GAAAA,EAAaG,gBAAgBT,EAASE,OAAO,mBAAmB5H,UAAewI,EAAOP,OAC1FP,EAASE,OAAO,mBAAmB5H,aAAkBwI,EAAOvG,UAC5DyF,EAASE,OAAO,mBAAmB5H,YAAiBwI,EAAOD,QAC7D,KAGO,OAAL9J,QAAK,IAALA,GAAAA,EAAOkK,iBAAkB,CAC3B,MAAMC,GAAcC,EAAAA,EAAAA,IAAO,GAC3BnB,EAASE,OAAO,QAAc,OAALnJ,QAAK,IAALA,OAAK,EAALA,EAAOkK,iBAAkB,GAAGC,QACvD,CAEA,IACExB,GAAa,GACb,MAAM/U,EAAcC,aAAaC,QAAQ,gBACnCiF,QAAiBsR,MAAM,kDAA2D,CACtFC,OAAQ,OACRrS,QAAS,CACP,cAAiB,UAAUrE,KAE7B2W,KAAMtB,IAEJlQ,EAASyR,IACXpb,QAAQyJ,IAAI,aAAcE,GAC1BI,EAAAA,GAAMc,QAAQ,qCACd8L,GAAW,GACXC,GAAS/K,IAAUA,KAEnB9B,EAAAA,GAAMhK,MAAM,mDAEhB,CAAE,MAAOyJ,GACPO,EAAAA,GAAMhK,MAAM,mDACd,CAAC,QACCwZ,GAAa,EACf,GAKA8B,CAAWnb,EAAK,EAGZob,EAAuBA,KACvBrC,EAAQxM,SACVwM,EAAQxM,QAAQ8O,cAAc,IAAIC,MAAM,SAAU,CAAEC,YAAY,EAAMC,SAAS,IACjF,EAaF,OAVAlQ,EAAAA,EAAAA,YAAU,KACHyK,GAASuD,EAAS,KAAK,GAC3B,CAACvD,KAEJzK,EAAAA,EAAAA,YAAU,KACJ0N,GACFvC,GAAW,EACb,GACC,CAACuC,EAAgBvC,KAGlB7H,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACC,QAASA,EAAS7B,SAAS,QAAQmC,OAAQA,IAAMI,GAAW,GAAQR,OAAO,EAAOC,aAAa,EAAOpH,MAAO,CAAEsB,MAAO,SAC7HqL,QAAShR,IAAA,IAAC,aAAEiR,EAAY,KAAEC,GAAMlR,EAAA,OAC9ByE,EAAAA,EAAAA,MAAA,OAAKL,UAAU,oCAAmCI,SAAA,EAChDC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,kEAAkEC,MAAO,CAAEC,aAAc,oBAAqBC,QAAS,QAASC,SAAA,EAC7IC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,kCAAiCI,SAAA,EAC9CL,EAAAA,EAAAA,KAAA,OAAKC,UAAWM,EAAyBF,UACvCL,EAAAA,EAAAA,KAAA,OAAKC,UAAWM,EAAWF,UACzBL,EAAAA,EAAAA,KAACwF,EAAAA,EAAU,CAAC/E,KAAM,GAAIC,MAAM,iBAGhCV,EAAAA,EAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,SAAUC,SAAU,OAAQC,WAAY,KAAMP,SAAC,4BAEvEL,EAAAA,EAAAA,KAAA,QAAAK,UACEL,EAAAA,EAAAA,KAACwC,EAAAA,EAAM,CAACrD,KAAK,SAASc,UAAU,cAAc9L,IAAK2Y,EAAcrK,QAAUpB,GAAM0L,EAAK1L,GAAGhB,UACvFL,EAAAA,EAAAA,KAACgN,EAAAA,EAAC,CAACvM,KAAM,GAAIC,MAAM,oBAKzBV,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAaC,MAAO,CAAEE,QAAS,OAAQqB,OAAQ,6BAA8BE,SAAU,QAAStB,UAC7GL,EAAAA,EAAAA,KAACiN,EAAAA,EAAY,CAACnL,MAAOA,EAAO4I,SAAUA,EAAUvW,IAAKgW,EAAShV,SAAUsC,EAAcrC,cAAeA,OAGvGkL,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mEAAmEC,MAAO,CAAEE,QAAS,YAAa8M,UAAW,qCAAsCzL,OAAQ,QAASpB,SAAA,EACjLL,EAAAA,EAAAA,KAACwC,EAAAA,EAAM,CAACrD,KAAK,SAASsD,QAAUpB,IAAQA,EAAE8L,kBAAmBtF,GAAW,EAAM,EAAK5H,UAAU,iBAAgBI,SAAC,YAC9GL,EAAAA,EAAAA,KAACwC,EAAAA,EAAM,CAACrD,KAAK,SAASsK,SAAUe,EAAW/H,QAAS+J,EAAsBvM,UAAU,eAAeC,MAAO,CAAEkN,SAAU,QAAS/M,SAAEmK,EAAY,aAAe,cAE1J,GAEC,C,+HCzIf,QAAoC,8CAApC,EAAwF,gCAAxF,EAAmsB,6C,qCCYnsB,MAsHA,EAtH0BtW,IAA8E,IAA7E,QAAEiT,EAAO,WAAEU,EAAU,WAAEwF,EAAU,iBAAEC,EAAgB,iBAAEC,GAAkBrZ,EAC9F,MAAM0F,EAAM4T,OAAOC,SAASC,KACtBC,EAAS,IAAIxU,IAAIS,GACjBgU,EAAS,IAAIvD,gBAAgBsD,EAAOvR,SACnC7G,EAAWsY,IAAgB9X,EAAAA,EAAAA,UAAS,MAErC+X,EAAQ,IAAIja,KACZka,EAAW,IAAIla,KAAKia,GAC1BC,EAASC,QAAQD,EAASE,UAAY,GAEtC,MAAM9D,GAAU3U,EAAAA,EAAAA,QAAO,OAChBJ,EAAe8Y,IAAoBnY,EAAAA,EAAAA,UAAS,CAC/C+I,OAAQ,sBACRK,KAAM,EACNgP,cAAc,EACd7a,KAAMwa,EACNva,SAAUwa,KAGdrR,EAAAA,EAAAA,YAAU,KACN,MAAM0R,EAAiBR,EAAOrD,IAAI,cAAgB+C,EAC5CpH,EAAY0H,EAAOrD,IAAI,cAAgBgD,EACzCrH,IACAgI,GAAkBnR,IAAI,IAAWA,EAAMhL,kBAAmBmU,MAC1DyH,EAAOU,aAAaC,OAAO,aAC3Bd,OAAOe,QAAQC,aAAa,CAAC,EAAG,GAAIb,IAGpCS,IACAP,EAAaO,GACbF,GAAkBnR,IAAI,IAAWA,EAAM+B,OAAQ,wBAC/C6O,EAAOU,aAAaC,OAAO,aAC3Bd,OAAOe,QAAQC,aAAa,CAAC,EAAG,GAAIb,GACxC,GACD,CAACpY,EAAWsS,IAEf,MAAM4G,GAAWC,EAAAA,EAAAA,GAAY,CACzBC,WAAavd,IAASwd,EAAAA,EAAAA,IAAiBxd,GACvCyd,UAAYhU,IACR3J,QAAQyJ,IAAI,aAAcE,GAC1BI,EAAAA,GAAMc,QAAQ,gCACd+S,IACAzB,GAAYvF,IAAaA,GAAQ,EAErCiH,QAAU9d,IACNC,QAAQD,MAAM,0BAA2BA,GACzCgK,EAAAA,GAAMhK,MAAM,8CAA8C,IAI5DwG,EAAekC,iBACVvI,EAAK,0BACLA,EAAK0N,cACL1N,EAAKS,gBACLT,EAAKgB,mBACLhB,EAAKU,IAEPV,EAAKkO,cAAclO,EAAKkO,MACxBlO,EAAK+N,OAAM/N,EAAK+N,KAAO,GACxB/N,EAAKkC,OAAMlC,EAAKkC,KAAO,IAAIO,KAAKzC,EAAKkC,MAAM0b,cAAc7T,MAAM,KAAK,IACpE/J,EAAKmC,WAAUnC,EAAKmC,SAAW,IAAIM,KAAKzC,EAAKmC,UAAUyb,cAAc7T,MAAM,KAAK,IACpFsT,EAASQ,OAAO7d,EAAK,EAGnBob,EAAuBA,KACrBrC,EAAQxM,SACRwM,EAAQxM,QAAQ8O,cAAc,IAAIC,MAAM,SAAU,CAAEC,YAAY,EAAMC,SAAS,IACnF,EAGEkC,EAAcA,KAChBjH,GAAW,GACXgG,EAAa,MACbK,EAAiB,CACbpP,OAAQ,sBACRK,KAAM,EACNgP,cAAc,EACd7a,KAAMwa,EACNva,SAAUwa,GACZ,EAEN,OACI/N,EAAAA,EAAAA,KAACkH,EAAAA,EAAO,CAACC,QAASA,EAAS7B,SAAS,QAAQmC,OAAQqH,EAAazH,OAAO,EAAOC,aAAa,EAAOpH,MAAO,CAAEsB,MAAO,SAC/GqL,QAAShR,IAAA,IAAC,aAAEiR,EAAY,KAAEC,GAAMlR,EAAA,OAC5ByE,EAAAA,EAAAA,MAAA,OAAKL,UAAU,oCAAmCI,SAAA,EAC9CC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,kEAAkEC,MAAO,CAAEC,aAAc,oBAAqBC,QAAS,QAASC,SAAA,EAC3IC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,kCAAiCI,SAAA,EAC5CL,EAAAA,EAAAA,KAAA,OAAKC,UAAWM,EAAyBF,UACrCL,EAAAA,EAAAA,KAAA,OAAKC,UAAWM,EAAWF,UACvBL,EAAAA,EAAAA,KAACwF,EAAAA,EAAU,CAAC/E,KAAM,GAAIC,MAAM,iBAGpCV,EAAAA,EAAAA,KAAA,QAAME,MAAO,CAAEQ,MAAO,SAAUC,SAAU,OAAQC,WAAY,KAAMP,SAAC,2BAEzEL,EAAAA,EAAAA,KAAA,QAAAK,UACIL,EAAAA,EAAAA,KAACwC,EAAAA,EAAM,CAACrD,KAAK,SAASc,UAAU,cAAc9L,IAAK2Y,EAAcrK,QAAUpB,GAAM0L,EAAK1L,GAAGhB,UACrFL,EAAAA,EAAAA,KAACgN,EAAAA,EAAC,CAACvM,KAAM,GAAIC,MAAM,oBAK/BJ,EAAAA,EAAAA,MAAA,OAAKL,UAAU,aAAaC,MAAO,CAAEE,QAAS,OAAQqB,OAAQ,6BAA8BE,SAAU,QAAStB,SAAA,EAC3GL,EAAAA,EAAAA,KAAA,OAAKC,UAAW,0DAA0DM,IAA0BF,UAChGL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,uBAERL,EAAAA,EAAAA,KAAChM,EAAAA,EAAY,CAACG,IAAKgW,EAAShV,SAAUsC,EAAcrC,cAAeA,EAAeG,UAAWA,QAGjG+K,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mEAAmEC,MAAO,CAAEE,QAAS,YAAa8M,UAAW,qCAAsCzL,OAAQ,QAASpB,SAAA,EAC/KL,EAAAA,EAAAA,KAACwC,EAAAA,EAAM,CAACrD,KAAK,SAASsD,QAAUpB,IAAQA,EAAE8L,kBAAmB2B,GAAa,EAAK7O,UAAU,iBAAiBwJ,SAAUgF,EAASjE,UAAUnK,SAAC,YACxIC,EAAAA,EAAAA,MAACkC,EAAAA,EAAM,CAACrD,KAAK,SAASsD,QAAS+J,EAAsBvM,UAAU,eAAeC,MAAO,CAAEkN,SAAU,QAAU3D,SAAUgF,EAASjE,UAAUnK,SAAA,CAAC,QAAMoO,EAASjE,YAAaxK,EAAAA,EAAAA,KAACkP,EAAAA,EAAe,CAAChP,MAAO,CAAEsB,MAAO,OAAQC,OAAQ,kBAExN,GAEH,C","sources":["webpack://memateapp/./src/components/Business/shared/ui/expense-ui/expenses-form.module.scss?7b45","shared/lib/extract-ai-response.js","components/Business/shared/ui/expense-ui/expenses-form.js","webpack://memateapp/./src/components/Business/features/supliers-features/supplier-create/supplier-create.module.scss?107e","components/Business/features/supliers-features/supplier-create/index.js","webpack://memateapp/./src/components/Business/features/expenses-features/new-expenses-create/new-expense-create.module.scss?aa4a","components/Business/features/expenses-features/new-expenses-create/new-expense-create.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"circledesignstyle\":\"expenses-form_circledesignstyle__mbb1-\",\"out\":\"expenses-form_out__KMiJx\",\"bgGreay\":\"expenses-form_bgGreay__JyrcA\",\"fileUploadBox\":\"expenses-form_fileUploadBox__QqdfG\",\"lable\":\"expenses-form_lable__PwIbw\",\"inputText\":\"expenses-form_inputText__juz8k\",\"error\":\"expenses-form_error__BY34l\",\"phoneInput\":\"expenses-form_phoneInput__phIqe\",\"countrySelector\":\"expenses-form_countrySelector__jh886\",\"headingInputs\":\"expenses-form_headingInputs__yQe3t\",\"dropdownSelect\":\"expenses-form_dropdownSelect__9h-UH\",\"tempDelete\":\"expenses-form_tempDelete__9u3Mi\",\"tempAdd\":\"expenses-form_tempAdd__+At5w\",\"expensesEditHead\":\"expenses-form_expensesEditHead__iCDmi\",\"expensesCreateNew\":\"expenses-form_expensesCreateNew__okukP\",\"customCalendar\":\"expenses-form_customCalendar__ihmVH\",\"customIcon\":\"expenses-form_customIcon__O0pZc\",\"dividerIcon\":\"expenses-form_dividerIcon__9TOjY\",\"expTotalRow\":\"expenses-form_expTotalRow__8u8o3\",\"CalItem\":\"expenses-form_CalItem__5I8ic\",\"CalItemActive\":\"expenses-form_CalItemActive__NBMtY\",\"tabsExpenses\":\"expenses-form_tabsExpenses__LYCvt\",\"active\":\"expenses-form_active__6X+QV\",\"autoComplete\":\"expenses-form_autoComplete__xaJgU\",\"fileBox\":\"expenses-form_fileBox__vJk+d\",\"imgBox\":\"expenses-form_imgBox__s6UcP\",\"fileType\":\"expenses-form_fileType__FWLXy\",\"fileNameBox\":\"expenses-form_fileNameBox__Sb+Fy\",\"deleteBox\":\"expenses-form_deleteBox__IPh+B\",\"openTransition\":\"expenses-form_openTransition__JKSLK\",\"aiProcessingBox\":\"expenses-form_aiProcessingBox__Xslof\",\"aiProcessingSpinner\":\"expenses-form_aiProcessingSpinner__2Ykt8\",\"spin\":\"expenses-form_spin__wPR6I\",\"aiProcessingText\":\"expenses-form_aiProcessingText__r+NWH\",\"aiSuccessBox\":\"expenses-form_aiSuccessBox__5wZSk\",\"aiSuccessText\":\"expenses-form_aiSuccessText__g6HC8\",\"aiNoDataBox\":\"expenses-form_aiNoDataBox__dy9sT\",\"aiNoDataText\":\"expenses-form_aiNoDataText__fTku6\",\"aiErrorBox\":\"expenses-form_aiErrorBox__nCorV\",\"aiErrorText\":\"expenses-form_aiErrorText__a5YuG\",\"selectButton\":\"expenses-form_selectButton__z9PXk\",\"reviewButton\":\"expenses-form_reviewButton__t4Vcn\",\"modal\":\"expenses-form_modal__lciui\",\"modalHeader\":\"expenses-form_modalHeader__Kf8rL\",\"headerTitle\":\"expenses-form_headerTitle__2VPHZ\",\"iconStyle\":\"expenses-form_iconStyle__s2Evh\"};","/**\n * Extracts JSON data from AI response string\n * @param {string} aiResponseString - The AI response string containing JSON data\n * @returns {Object|null} - Parsed JSON object or null if extraction fails\n */\nexport const extractAIResponseData = (aiResponseString) => {\n  try {\n    // Check if the input is already an object\n    if (typeof aiResponseString === 'object' && aiResponseString !== null) {\n      // If it's an array with the specific structure from the AI response\n      if (Array.isArray(aiResponseString) && aiResponseString.length > 0 && Array.isArray(aiResponseString[0])) {\n        // Find the text entry in the array\n        const textEntry = aiResponseString[0].find(entry => entry[0] === 'text');\n        if (textEntry && textEntry[1]) {\n          aiResponseString = textEntry[1];\n        }\n      } else {\n        // If it's already a valid object, return it\n        return aiResponseString;\n      }\n    }\n\n    // If it's a string, extract the JSON part\n    if (typeof aiResponseString === 'string') {\n      // Look for JSON pattern between triple backticks\n      const jsonMatch = aiResponseString.match(/```json\\s*([\\s\\S]*?)\\s*```/);\n      \n      if (jsonMatch && jsonMatch[1]) {\n        return JSON.parse(jsonMatch[1]);\n      }\n      \n      // Try to find JSON without the markdown formatting\n      const jsonStart = aiResponseString.indexOf('{');\n      const jsonEnd = aiResponseString.lastIndexOf('}');\n      \n      if (jsonStart !== -1 && jsonEnd !== -1) {\n        const jsonString = aiResponseString.substring(jsonStart, jsonEnd + 1);\n        return JSON.parse(jsonString);\n      }\n    }\n    \n    return null;\n  } catch (error) {\n    console.error('Error extracting AI response data:', error);\n    return null;\n  }\n};\n\n/**\n * Formats the AI response data for the expenses form\n * @param {Object} data - The extracted AI response data\n * @returns {Object} - Formatted data for the expenses form\n */\nexport const formatExpenseDataFromAI = (data) => {\n  if (!data) return null;\n  \n  // Parse the amount from the total_amount field\n  let amount = \"0.00\";\n  if (data.total_amount) {\n    // Remove currency symbol and commas\n    amount = data.total_amount.replace(/[A-Za-z$,]/g, '').trim();\n  }\n  \n  // Determine GST calculation type based on gst_included\n  let gstCalculation = 'no'; // Default to No GST\n  if (data.gst_included === true) {\n    gstCalculation = 'in'; // GST Inclusive\n  } else if (data.gst_included === false) {\n    gstCalculation = 'ex'; // GST Exclusive\n  }\n  \n  // Calculate GST amounts\n  const amountValue = parseFloat(amount) || 0;\n  let subtotal = amountValue;\n  let tax = 0;\n  \n  if (gstCalculation === 'in') {\n    tax = amountValue * 0.10 / 1.10;\n    subtotal = amountValue - tax;\n  } else if (gstCalculation === 'ex') {\n    tax = subtotal * 0.10;\n  }\n  \n  return {\n    invoice_reference: data.invoice_number || '',\n    amount: amountValue.toFixed(2),\n    'gst-calculation': gstCalculation,\n    gst: gstCalculation === 'ex',\n    nogst: gstCalculation === 'no',\n    subtotal: subtotal.toFixed(2),\n    tax: tax.toFixed(2),\n    totalAmount: (subtotal + tax).toFixed(2),\n    note: data.description || ''\n  };\n};\n","import React, { forwardRef, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Row } from 'react-bootstrap';\nimport { Plus, Calendar3, QuestionCircle, ExclamationCircleFill, Upload, PlusCircle, CheckCircleFill, Trash, InfoCircle } from 'react-bootstrap-icons';\nimport { useDropzone } from 'react-dropzone';\nimport { useForm, Controller } from 'react-hook-form';\nimport { Document, Page } from 'react-pdf';\nimport { Link } from 'react-router-dom';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport clsx from 'clsx';\nimport { Calendar } from 'primereact/calendar';\nimport { Dialog } from 'primereact/dialog';\nimport { Dropdown } from 'primereact/dropdown';\nimport { IconField } from \"primereact/iconfield\";\nimport { InputIcon } from \"primereact/inputicon\";\nimport { InputNumber } from 'primereact/inputnumber';\nimport { InputText } from \"primereact/inputtext\";\nimport { InputTextarea } from 'primereact/inputtextarea';\nimport { SelectButton } from 'primereact/selectbutton';\nimport { Sidebar } from 'primereact/sidebar';\nimport { Tooltip } from 'primereact/tooltip';\nimport { toast } from 'sonner';\nimport * as yup from 'yup';\nimport styles from './expenses-form.module.scss';\nimport { getProjectsList, getXeroCodesList } from '../../../../../APIs/expenses-api';\nimport { getListOfSuppliers } from '../../../../../APIs/SuppliersApi';\nimport aiScanImg from '../../../../../assets/ai-scan.png';\nimport exclamationCircle from \"../../../../../assets/images/icon/exclamation-circle.svg\";\nimport { extractAIResponseData, formatExpenseDataFromAI } from '../../../../../shared/lib/extract-ai-response';\nimport { formatAUD } from '../../../../../shared/lib/format-aud';\nimport { CircularProgressBar } from '../../../../../shared/ui/circular-progressbar';\nimport { FallbackImage } from '../../../../../shared/ui/image-with-fallback/image-avatar';\nimport { getFileIcon } from '../../../../Work/features/create-job/create-job';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport SupplierCreate from '../../../features/supliers-features/supplier-create';\n\nfunction debounce(fn, delay) {\n    let timeoutId;\n    return (...args) => {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => fn(...args), delay);\n    };\n}\n\nconst schema = yup\n    .object({\n        supplier: yup.number().typeError(\"Supplier must be a valid id\").required(\"Supplier is required\"),\n        invoice_reference: yup.string().required(\"Invoice reference is required\"),\n        date: yup.string().required(\"Date is required\"),\n        due_date: yup.string()\n            .required(\"Due date is required\")\n            .test(\n                'is-after-date',\n                'Due date must be after the invoice date',\n                function (value) {\n                    const { date } = this.parent;\n                    if (!date || !value) return true; // Skip validation if either date is missing\n\n                    const invoiceDate = new Date(date);\n                    const dueDate = new Date(value);\n\n                    // Set hours, minutes, seconds, and milliseconds to 0 for both dates to compare only the dates\n                    invoiceDate.setHours(0, 0, 0, 0);\n                    dueDate.setHours(0, 0, 0, 0);\n\n                    return dueDate >= invoiceDate;\n                }\n            ),\n        amount: yup.string().required(\"Amount is required\"),\n        nogst: yup.boolean().required(\"NOGST must be a boolean\"),\n        gst: yup.boolean().required(\"GST must be a boolean\"),\n        // account_code: yup.string().required(\"Account Code is required\"),\n        // department: yup.number().required(\"Department is required\"),\n    })\n    .required();\n\nconst ExpensesForm = forwardRef(({ onSubmit, defaultValues, id, defaultSupplier, projectId }, ref) => {\n    const autoCompleteRef = useRef(null);\n    const observerRef = useRef(null);\n    const accessToken = localStorage.getItem(\"access_token\");\n\n    const [showReviewModal, setShowReviewModal] = useState(false);\n    const [supplierValue, setSupplierValue] = useState(defaultSupplier?.id || \"\");\n    const [selectedSupplier, setSelectedSupplier] = useState(defaultSupplier || null);\n    const [suppliers, setSuppliers] = useState([]);\n    const [files, setFiles] = useState([]);\n    const [page, setPage] = useState(1);\n    const [searchValue, setSearchValue] = useState(\"\");\n    const [hasMoreData, setHasMoreData] = useState(true);\n    const [showDocumentSideBar, setShowDocumentSidebar] = useState(false);\n    const [showCreateSupplierModal, setShowCreateSupplierModal] = useState(false);\n    const [supplierRefetchToggle, setSupplierRefetchToggle] = useState(false);\n    const [links, setLinks] = useState([]);\n    const limit = 25;\n\n    const { control, reset, register, handleSubmit, setValue, getValues, watch, setError, trigger, formState: { errors } } = useForm({\n        resolver: yupResolver(schema),\n        defaultValues\n    });\n\n    const {\n        getRootProps,\n        getInputProps\n    } = useDropzone({\n        maxFiles: 1,\n        multiple: false,\n        accept: { 'application/pdf': ['.pdf', '.png', '.jpg', '.jpeg'] },\n        maxSize: 5 * 1024 * 1024,\n        onDrop: acceptedFiles => {\n            const newFiles = acceptedFiles.map(file => Object.assign(file, {\n                preview: URL.createObjectURL(file),\n                progress: 0,\n            }));\n            setFiles(() => [\n                ...newFiles,\n            ]);\n            fileUploadBySignedURL(newFiles, false);\n        }\n    });\n\n    const {\n        getRootProps: getAIRootProps,\n        getInputProps: getAIInputProps,\n    } = useDropzone({\n        maxFiles: 1,\n        multiple: false,\n        accept: { 'application/pdf': ['.pdf', '.png', '.jpg', '.jpeg'] },\n        maxSize: 5 * 1024 * 1024,\n        onDrop: (acceptedFiles) => {\n            const newFiles = acceptedFiles.map((file) =>\n                Object.assign(file, {\n                    preview: URL.createObjectURL(file),\n                    progress: 0,\n                    aiAnalysis: true,\n                })\n            );\n            setFiles(() => [...newFiles]);\n            fileUploadBySignedURL(newFiles, true);\n        },\n    });\n\n    const uploadToS3 = async (file, url) => {\n        return axios.put(url, file, {\n            headers: {\n                \"Content-Type\": \"\",\n            },\n            onUploadProgress: (progressEvent) => {\n                const progress = Math.round(\n                    (progressEvent.loaded / progressEvent.total) * 100\n                );\n                setFiles((prevFiles) => {\n                    return prevFiles.map((f) =>\n                        f.name === file.name\n                            ? Object.assign(f, { progress, url })\n                            : f\n                    );\n                });\n            },\n        }).catch((err) => {\n            console.log('err: ', err);\n            setFiles((prevFiles) => {\n                return prevFiles.map((f) =>\n                    f.name === file.name\n                        ? Object.assign(f, { progress: 0, url, error: true })\n                        : f\n                );\n            });\n        });\n    };\n\n    const fileUploadBySignedURL = async (files, isAIAnalysis) => {\n        if (!files.length) return;\n\n        for (const file of files) {\n            try {\n                // Step 1: Get the signed URL from the backend\n                const response = await axios.post(\n                    `${process.env.REACT_APP_BACKEND_API_URL}/expenses/file/`,\n                    { file_name: file.name },\n                    {\n                        headers: {\n                            Authorization: `Bearer ${accessToken}`,\n                        },\n                    }\n                );\n\n                const { url } = response.data;\n                if (!url) {\n                    setFiles([]);\n                    toast.error(`Failed to upload ${file.name}. Please try again.`);\n                    return;\n                }\n\n                // Step 2: Upload the file to S3 using the signed URL\n                await uploadToS3(file, url);\n\n                // step 3: Get the AI recognize response\n                const fileUrl = url.split(\"?\")[0] || \"\";\n                if (fileUrl) {\n                    setLinks([fileUrl]);\n                    setShowDocumentSidebar(true);\n                }\n\n                if (!isAIAnalysis) {\n                    // set the file url\n                    setValue('file', fileUrl);\n\n                    // Update file progress to show AI processing\n                    setFiles((prevFiles) => {\n                        return prevFiles.map((f) =>\n                            f.name === file.name\n                                ? Object.assign(f, { progress: 100 })\n                                : f\n                        );\n                    });\n                    return;\n                }\n\n                if (isAIAnalysis) {\n                    // Update file progress to show AI processing\n                    setFiles((prevFiles) => {\n                        return prevFiles.map((f) =>\n                            f.name === file.name\n                                ? Object.assign(f, { progress: 100, aiProcessing: true })\n                                : f\n                        );\n                    });\n\n                    // Show toast notification for AI processing\n                    toast.info('AI is analyzing your document...', {\n                        duration: 3000,\n                    });\n\n                    try {\n                        const aiResponse = await axios.post(\n                            `${process.env.REACT_APP_BACKEND_API_URL}/expenses/recognize/`,\n                            { file_url: fileUrl },\n                            {\n                                headers: {\n                                    Authorization: `Bearer ${accessToken}`,\n                                },\n                            }\n                        );\n\n                        // Extract and process the AI response data\n                        const extractedData = extractAIResponseData(aiResponse?.data);\n                        if (extractedData) {\n                            // Format the data for the form\n                            const formattedData = formatExpenseDataFromAI(extractedData);\n                            if (formattedData) {\n                                // set the file url\n                                setValue('file', fileUrl);\n\n                                // Prefill the form with the extracted data\n                                Object.entries(formattedData).forEach(([key, value]) => {\n                                    setValue(key, value);\n                                });\n\n                                // Trigger validation for required fields\n                                trigger(['invoice_reference', 'amount', 'gst', 'nogst']);\n\n                                // Show success message\n                                toast.success('Form prefilled with invoice data');\n\n                                // Update file to show success\n                                setFiles((prevFiles) => {\n                                    return prevFiles.map((f) =>\n                                        f.name === file.name\n                                            ? Object.assign(f, { aiProcessing: false, aiSuccess: true })\n                                            : f\n                                    );\n                                });\n                            } else {\n                                // Update file to show no data extracted\n                                setFiles((prevFiles) => {\n                                    return prevFiles.map((f) =>\n                                        f.name === file.name\n                                            ? Object.assign(f, { aiProcessing: false, aiNoData: true })\n                                            : f\n                                    );\n                                });\n                                toast.warning('No invoice data could be extracted from the document');\n                            }\n                        } else {\n                            // Update file to show no data extracted\n                            setFiles((prevFiles) => {\n                                return prevFiles.map((f) =>\n                                    f.name === file.name\n                                        ? Object.assign(f, { aiProcessing: false, aiNoData: true })\n                                        : f\n                                );\n                            });\n                            toast.warning('No invoice data could be extracted from the document');\n                        }\n                    } catch (aiError) {\n                        console.error(\"Error during AI recognition:\", aiError);\n                        // Update file to show AI error\n                        setFiles((prevFiles) => {\n                            return prevFiles.map((f) =>\n                                f.name === file.name\n                                    ? Object.assign(f, { aiProcessing: false, aiError: true })\n                                    : f\n                            );\n                        });\n                        toast.error('Failed to analyze the document. Please try again.');\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error uploading file:\", file.name, error);\n                toast.error(`Failed to upload ${file.name}. Please try again.`);\n            }\n        }\n    };\n\n    const onFocus = () => {\n        if (autoCompleteRef.current) autoCompleteRef.current.show();\n        const lastRow = document.querySelector('.p-autocomplete-items li.p-autocomplete-item:last-child');\n        if (lastRow) {\n            observerRef.current.observe(lastRow);\n        }\n    };\n\n    const search = debounce((event) => {\n        const query = event?.filter?.toLowerCase() || '';\n        setSearchValue(query);\n    }, 300);\n\n    useEffect(() => {\n        setPage(1);\n    }, [searchValue, supplierRefetchToggle]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            const data = await getListOfSuppliers(page, limit, searchValue, 'name');\n            if (page === 1) {\n                if (supplierValue) {\n                    const filteredSuppliers = data.results.filter(supplier => supplier.id !== supplierValue);\n                    return setSuppliers([selectedSupplier, ...filteredSuppliers]);\n                }\n\n                setSuppliers(data.results);\n            }\n\n            else {\n                if (data?.results?.length > 0) {\n                    let results = data.results;\n                    if (supplierValue) {\n                        results = [selectedSupplier, ...data.results];\n                    }\n                    setSuppliers(prev => {\n                        let previous = prev;\n                        if (supplierValue) {\n                            previous = [...prev, selectedSupplier];\n                        }\n                        const existingSupplierIds = new Set(previous.map(supplier => supplier.id));\n                        const newSuppliers = results.filter(supplier => !existingSupplierIds.has(supplier.id));\n                        return [...prev, ...newSuppliers];\n                    });\n                }\n            }\n            setHasMoreData(data.count !== suppliers.length);\n        };\n\n        loadData();\n    }, [page, searchValue, supplierValue, selectedSupplier, supplierRefetchToggle]);\n\n    useEffect(() => {\n        if (suppliers.length > 0 && hasMoreData) {\n            const timeout = setTimeout(() => {\n                const lastRow = document.querySelector('.supplier-dropdown .p-dropdown-items li.p-dropdown-item:last-child');\n                console.log('lastRow: ', lastRow);\n\n                if (lastRow) {\n                    observerRef.current = new IntersectionObserver(entries => {\n                        if (entries[0].isIntersecting) {\n                            setPage(prevPage => prevPage + 1);\n                            console.log('entries[0].isIntersecting: ', entries[0].isIntersecting);\n                        }\n                    });\n                    observerRef.current.observe(lastRow);\n                }\n            }, 1000); // Wait for DOM paint\n\n            return () => {\n                clearTimeout(timeout);\n                if (observerRef.current) observerRef.current.disconnect();\n            };\n        }\n    }, [suppliers, hasMoreData]);\n\n    const calculateAmounts = (amount, gstType) => {\n        let calculatedTax = 0;\n        let subtotal = 0;\n\n        if (gstType === 'ex') {\n            subtotal = amount;\n            calculatedTax = subtotal * 0.10;\n        } else if (gstType === 'in') {\n            calculatedTax = amount * 0.10 / 1.10;\n            subtotal = amount - calculatedTax;\n        } else {\n            subtotal = amount;\n            calculatedTax = 0;\n        }\n\n        return {\n            subtotal: subtotal.toFixed(2),\n            calculatedTax: calculatedTax.toFixed(2),\n            totalAmount: (parseFloat(subtotal) + parseFloat(calculatedTax)).toFixed(2),\n        };\n    };\n\n    const handleGstChange = (value) => {\n        if (value) {\n            const totalAmount = parseFloat(getValues(\"amount\")) || 0;\n            const { subtotal, calculatedTax, totalAmount: newTotalAmount } = calculateAmounts(totalAmount, value);\n\n            setValue(\"tax\", calculatedTax);\n            setValue(\"subtotal\", subtotal);\n            setValue(\"totalAmount\", newTotalAmount);\n            setValue(\"nogst\", value === 'no');\n            setValue(\"gst\", value === 'ex');\n            trigger(['gst']);\n        }\n    };\n\n    const xeroCodesList = useQuery({ queryKey: ['getXeroCodesList'], queryFn: getXeroCodesList });\n    // const departmentsList = useQuery({ queryKey: ['getDepartments'], queryFn: getDepartments });\n    const projectsList = useQuery({ queryKey: ['getProjectsList'], queryFn: getProjectsList });\n\n    const options = ['Assign to project', 'Assign to timeframe'];\n    const [option, setOptionValue] = useState(defaultValues?.option || options[0]);\n\n    const watchOrder = watch('order');\n    useEffect(() => {\n        if (watchOrder) trigger(['order']);\n    }, [watchOrder]);\n    const watchType = watch('type');\n    const validateFields = () => {\n        if (option === 'Assign to project' && !watchOrder) {\n            setError(\"order\", { type: \"manual\", message: \"Order is required\" });\n        }\n\n        if (option === 'Assign to timeframe' && !watchType) {\n            setError(\"type\", { type: \"manual\", message: \"Type is required\" });\n        }\n    };\n\n    useEffect(() => {\n        if (Object.keys(errors).length > 0)\n            validateFields();\n    }, [errors]);\n\n    useEffect(() => {\n        if (option === 'Assign to timeframe') {\n            setValue('order', '');\n            if (defaultValues?.type) setValue('type', defaultValues?.type);\n        } else if (option === 'Assign to project') {\n            setValue('type', '');\n            if (defaultValues?.order) setValue('order', defaultValues?.order);\n        }\n\n        setValue('option', option);\n    }, [option]);\n\n    useEffect(() => {\n        if (defaultValues?.option) setOptionValue(defaultValues?.option);\n    }, [defaultValues?.option]);\n\n    const handleFormSubmit = (data) => {\n        validateFields();\n\n        if (Object.keys(errors).length > 0) {\n            console.log('Validation errors:', errors);\n            return;\n        }\n\n        onSubmit(data, reset);\n    };\n\n    useEffect(() => {\n        if (projectId) {\n            setValue('order', +projectId);\n        }\n    }, [projectId]);\n\n    useEffect(() => {\n        if (!id) setValue('gst-calculation', 'in');\n    }, []);\n\n    useEffect(() => {\n        if (supplierValue) setValue('supplier', +supplierValue);\n        if (supplierValue) trigger(['supplier']);\n        if (selectedSupplier?.service?.code && xeroCodesList?.data?.length) {\n            let findCode = xeroCodesList?.data?.find(code => code.code === selectedSupplier?.service?.code);\n            if (findCode?.id) setValue('account_code', findCode?.id);\n        } else if (defaultValues.account_code) {\n            setValue('account_code', defaultValues.account_code || '');\n        }\n    }, [supplierValue, xeroCodesList?.data, setValue, trigger, defaultValues.account_code, selectedSupplier?.service?.code]);\n\n    const documentSidebarHeader = (\n        <div className=\"d-flex align-items-center justify-content-between flex-shrink-0 w-100\" style={{ borderBottom: '1px solid #EAECF0', padding: '4px 10px 24px 0px' }}>\n            <div className=\"d-flex align-items-center gap-2\">\n                <div className={styles.circledesignstyle}>\n                    <div className={styles.out}>\n                        <InfoCircle size={24} color=\"#17B26A\" />\n                    </div>\n                </div>\n                <span style={{ color: '344054', fontSize: '20px', fontWeight: 600 }}>Document Preview</span>\n            </div>\n        </div>\n    );\n\n    const removeFile = () => {\n        setValue('file', '');\n        setLinks([]);\n        setShowDocumentSidebar(false);\n    };\n\n    useEffect(() => {\n        if (defaultValues?.file) {\n            setLinks([defaultValues?.file]);\n            setShowDocumentSidebar(true);\n        }\n    }, [defaultValues?.file]);\n\n    const handleReviewClick = () => {\n        setShowReviewModal(true);\n    };\n\n    return (\n        <div>\n            <form ref={ref} onSubmit={handleSubmit(handleFormSubmit)} >\n                <Row className={clsx(styles.bgGreay, 'pt-3')}>\n                    <Col sm={8}>\n                        <div className=\"d-flex flex-column gap-1 mb-3\">\n                            <label className={clsx(styles.lable)}>Supplier<span className='required'>*</span></label>\n                            <input type=\"hidden\" {...register(\"supplier\")} />\n                            <Dropdown\n                                value={supplierValue}\n                                options={suppliers}\n                                optionLabel=\"name\"\n                                optionValue=\"id\"\n                                onChange={(e) => {\n                                    setSupplierValue(+e.value);\n                                    let findSupplier = suppliers.find(supplier => supplier.id === e.value);\n                                    setSelectedSupplier(findSupplier || {});\n                                }}\n                                itemTemplate={(option) => {\n                                    return (\n                                        <div className='d-flex gap-2 align-items-center w-100'>\n                                            <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '4px', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={true} size={17} />\n                                            </div>\n                                            <div className='ellipsis-width' style={{ maxWidth: '350px' }}>{option?.name}</div>\n                                        </div>\n                                    );\n                                }}\n                                valueTemplate={(option) => {\n                                    return (\n                                        supplierValue ? (\n                                            <div className='d-flex gap-2 align-items-center w-100'>\n                                                <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '4px', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                    <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={true} size={17} />\n                                                </div>\n                                                <div className='ellipsis-width' style={{ maxWidth: '350px' }}>{option?.name}</div>\n                                            </div>\n                                        ) : null\n                                    );\n                                }}\n                                className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors?.supplier })}\n                                panelClassName={\"supplier-dropdown\"}\n                                style={{ height: '46px' }}\n                                scrollHeight=\"350px\"\n                                placeholder=\"Search for supplier\"\n                                filter\n                                onFilter={search}\n                                filterInputAutoFocus={true}\n                            />\n                            {/* <AutoComplete\n                                ref={autoCompleteRef}\n                                value={supplierValue || \"\"}\n                                completeMethod={search}\n                                onChange={(e) => {\n                                    if (!e.value) setSearchValue(\"\");\n                                    setSupplierValue(e.value);\n                                }}\n                                dropdownAutoFocus={true}\n                                field=\"name\"\n                                suggestions={suppliers}\n                                itemTemplate={(option) => {\n                                    return (\n                                        <div className='d-flex gap-2 align-items-center w-100'>\n                                            <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '4px', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={true} size={17} />\n                                            </div>\n                                            <div className='ellipsis-width' style={{ maxWidth: '350px' }}>{option?.name}</div>\n                                        </div>\n                                    );\n                                }}\n                                onClick={onFocus}\n                                onFocus={onFocus}\n                                onBlur={() => {\n                                    console.log('blur');\n                                    setPage(1);\n                                    setSearchValue(\"\");\n                                    setHasMoreData(true);\n                                }}\n                                style={{ minHeight: '46px' }}\n                                scrollHeight='450px'\n                                className={clsx(styles.autoComplete, \"w-100\", { [styles.error]: errors.supplier })}\n                                placeholder=\"Search for supplier\"\n                            /> */}\n                            {errors.supplier && <p className=\"error-message\">{errors.supplier.message}</p>}\n                        </div>\n                    </Col>\n\n                    <Col sm={4}>\n                        <div className=\"d-flex justify-content-end text-md-end flex-column gap-1 mt-3 pt-3 mb-3\">\n                            <Button className={styles.expensesCreateNew} onClick={() => setShowCreateSupplierModal(true)}>Create New Supplier<Plus size={24} color=\"#475467\" /></Button>\n                        </div>\n                    </Col>\n\n                    <Col sm={12} className='mb-4'>\n                        <div className=\"d-flex flex-column gap-1\">\n                            <label className={clsx(styles.lable)}>Invoice/#Ref<span className='required'>*</span></label>\n                            <IconField>\n                                <InputIcon>{errors?.invoice_reference && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                                <InputText {...register(\"invoice_reference\")} className={clsx(styles.inputText, { [styles.error]: errors.invoice_reference })} placeholder='Enter invoice reference' />\n                            </IconField>\n                            {errors?.invoice_reference && <p className=\"error-message\">{errors.invoice_reference?.message}</p>}\n                        </div>\n                    </Col>\n\n                    <Col sm={12}>\n                        <Row>\n                            <Col sm={6}>\n                                <label className={clsx(styles.lable)}>Upload Only</label>\n                                <div {...getRootProps({ className: 'dropzone d-flex justify-content-center align-items-center flex-column' })} style={{ width: '100%', height: '126px', background: '#fff', borderRadius: '4px', border: '1px solid #EAECF0', marginTop: '5px' }}>\n                                    <input {...getInputProps()} />\n                                    <button type='button' className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', border: '1px solid #EAECF0', background: '#fff', borderRadius: '8px', marginBottom: '16px' }}>\n                                        <Upload size={20} color='#475467' />\n                                    </button>\n                                    <p className='mb-0' style={{ color: '#475467', fontSize: '14px' }}><span style={{ color: '#106B99', fontWeight: '600' }}>Click to upload</span> or drag and drop</p>\n                                    <span style={{ color: '#475467', fontSize: '12px' }}>PDF, SVG, PNG, JPG files • Max size: 5MB</span>\n                                </div>\n                            </Col>\n                            <Col sm={6}>\n                                <label className={clsx(styles.lable)}>Upload & Read With AI</label>\n                                <div {...getAIRootProps({ className: 'dropzone d-flex justify-content-center align-items-center flex-column' })} style={{ width: '100%', height: '126px', background: '#fff', borderRadius: '4px', border: '1px solid #EAECF0', marginTop: '5px' }}>\n                                    <input {...getAIInputProps()} />\n                                    <button type='button' className='d-flex justify-content-center align-items-center' style={{ width: '40px', height: '40px', border: '1px solid #FFF', background: '#f2f2f2', borderRadius: '8px', marginBottom: '16px' }}>\n                                        <img src={aiScanImg} className='w-100' />\n                                    </button>\n                                    <p className='mb-0' style={{ color: '#475467', fontSize: '14px' }}><span style={{ color: '#106B99', fontWeight: '600' }}>Click to upload</span> or drag and drop</p>\n                                    <span style={{ color: '#475467', fontSize: '12px' }}>PDF, PNG, JPG, JPEG files • Max size: 5MB</span>\n                                </div>\n                            </Col>\n                        </Row>\n\n\n                        <div className='d-flex flex-column'>\n                            {files?.length > 0 && <label className={clsx(styles.lable, 'mt-4 mb-1')}>Photo/Document Of The Expense</label>}\n                            {\n                                files?.map((file, index) => (\n                                    <div key={index} className={styles.fileBox}>\n                                        {getFileIcon(file.type)}\n                                        <div className={styles.fileNameBox}>\n                                            <p className='mb-0'>{file?.name || \"\"}</p>\n                                            <p className='mb-0'>{parseFloat(file?.size / 1024).toFixed(2)} KB - {parseInt(file?.progress) || 0}% uploaded</p>\n                                        </div>\n                                        <div className='ms-auto'>\n                                            {\n                                                file.error ? (\n                                                    <div className={styles.deleteBox}>\n                                                        <ExclamationCircleFill color='#F04438' size={16} />\n                                                    </div>\n                                                ) : file.aiProcessing ? (\n                                                    <div className={styles.aiProcessingBox}>\n                                                        <div className={styles.aiProcessingSpinner}></div>\n                                                        <span className={styles.aiProcessingText}>AI analyzing...</span>\n                                                    </div>\n                                                ) : file.aiSuccess ? (\n                                                    <div className={styles.aiSuccessBox}>\n                                                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                                            <path d=\"M8 0C3.6 0 0 3.6 0 8C0 12.4 3.6 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0ZM7 11.4L3.6 8L5 6.6L7 8.6L11 4.6L12.4 6L7 11.4Z\" fill=\"#12B76A\" />\n                                                        </svg>\n                                                        <span className={styles.aiSuccessText}>Data extracted</span>\n                                                    </div>\n                                                ) : file.aiNoData ? (\n                                                    <div className={styles.aiNoDataBox}>\n                                                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                                            <path d=\"M8 0C3.6 0 0 3.6 0 8C0 12.4 3.6 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0ZM8 12C7.4 12 7 11.6 7 11C7 10.4 7.4 10 8 10C8.6 10 9 10.4 9 11C9 11.6 8.6 12 8 12ZM9 9H7V4H9V9Z\" fill=\"#F79009\" />\n                                                        </svg>\n                                                        <span className={styles.aiNoDataText}>No data found</span>\n                                                    </div>\n                                                ) : file.aiError ? (\n                                                    <div className={styles.aiErrorBox}>\n                                                        <ExclamationCircleFill color='#F04438' size={16} />\n                                                        <span className={styles.aiErrorText}>AI error</span>\n                                                    </div>\n                                                ) : file.progress == 100 ? (\n                                                    <CheckCircleFill color='#12B76A' size={20} />\n                                                ) : (\n                                                    <CircularProgressBar percentage={parseInt(file?.progress) || 0} size={30} color=\"#158ECC\" />\n                                                )\n                                            }\n\n                                        </div>\n                                    </div>\n                                ))\n                            }\n                        </div>\n                    </Col>\n\n                    <Col sm={6}>\n                        <div className=\"d-flex flex-column gap-1 mt-4 mb-4\">\n                            <label className={clsx(styles.lable)}>Date<span className='required'>*</span></label>\n                            <Controller\n                                name=\"date\"\n                                control={control}\n                                render={({ field }) => (\n                                    <Calendar {...field}\n                                        onChange={(e) => {\n                                            field.onChange(e.value);\n                                            // Trigger validation for due_date when invoice date changes\n                                            setTimeout(() => trigger('due_date'), 0);\n                                        }}\n                                        showButtonBar\n                                        placeholder='DD/MM/YY'\n                                        dateFormat=\"dd/mm/yy\"\n                                        showIcon\n                                        style={{ height: '46px' }}\n                                        icon={<Calendar3 color='#667085' size={20} />}\n                                        className={clsx(styles.inputText, { [styles.error]: errors.date }, 'p-0 outline-none')}\n                                    />\n                                )}\n                            />\n                            {errors?.date && <p className=\"error-message\">{errors.date?.message}</p>}\n                        </div>\n                    </Col>\n\n                    <Col sm={6}>\n                        <div className=\"d-flex flex-column gap-1 mt-4 mb-4\">\n                            <label className={clsx(styles.lable)}>Due Date<span className='required'>*</span></label>\n                            <Controller\n                                name=\"due_date\"\n                                control={control}\n                                render={({ field }) => {\n                                    // Get the current invoice date value to set as minimum date\n                                    const invoiceDate = watch('date');\n                                    const minDate = invoiceDate ? new Date(invoiceDate) : null;\n\n                                    return (\n                                        <Calendar {...field}\n                                            onChange={(e) => {\n                                                field.onChange(e.value);\n                                                // Trigger validation after date change\n                                                trigger('due_date');\n                                            }}\n                                            showButtonBar\n                                            placeholder='DD/MM/YY'\n                                            dateFormat=\"dd/mm/yy\"\n                                            locale=\"en\"\n                                            showIcon\n                                            minDate={minDate}\n                                            style={{ height: '46px' }}\n                                            icon={<Calendar3 color='#667085' size={20} />}\n                                            className={clsx(styles.inputText, { [styles.error]: errors.due_date }, 'p-0 outline-none')}\n                                        />\n                                    );\n                                }}\n                            />\n                            {errors?.due_date && <p className=\"error-message\">{errors.due_date?.message}</p>}\n                        </div>\n                    </Col>\n\n\n                    <Col sm={6}>\n                        <div className=\"d-flex flex-column gap-1\">\n                            <label className={clsx(styles.lable)}>Total Amount<span className='required'>*</span></label>\n                            <IconField>\n                                <InputNumber\n                                    prefix=\"$\"\n                                    value={watch('amount')}\n                                    onValueChange={(e) => {\n                                        setValue('amount', e.value);\n                                        handleGstChange(getValues('gst-calculation'));\n                                    }}\n                                    onBlur={() => handleGstChange(getValues('gst-calculation'))}\n                                    style={{ height: '46px', padding: '0px' }}\n                                    className={clsx(styles.inputText, { [styles.error]: errors.amount })}\n                                    placeholder='$ Enter total amount'\n                                    maxFractionDigits={2}\n                                    minFractionDigits={2}\n                                    inputId=\"minmaxfraction\"\n                                />\n                                <InputIcon>{errors.amount && <img src={exclamationCircle} className='mb-3' />}</InputIcon>\n                            </IconField>\n                            {errors?.amount && <p className=\"error-message\">{errors.amount?.message}</p>}\n                        </div>\n                    </Col>\n                    <Col sm={6}>\n                        <div className=\"d-flex flex-column gap-1 mb-2\">\n                            <label className={clsx(styles.lable)}>GST<span className='required'>*</span></label>\n                            <input type=\"hidden\" {...register(\"nogst\")} />\n                            <Controller\n                                name=\"gst-calculation\"\n                                control={control}\n                                render={({ field }) => (\n                                    <Dropdown\n                                        {...field}\n                                        options={[\n                                            { value: 'ex', label: \"GST Exclusive\" },\n                                            { value: 'in', label: \"GST Inclusive\" },\n                                            { value: 'no', label: \"No GST\" },\n                                        ] || []}\n                                        onChange={(e) => {\n                                            field.onChange(e.value);\n                                            handleGstChange(e.value);\n                                        }}\n                                        className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors?.gst })}\n                                        style={{ height: '46px' }}\n                                        value={field.value}\n                                        placeholder=\"Select GST\"\n                                        filterInputAutoFocus={true}\n                                    />\n                                )}\n                            />\n                            {errors?.gst && <p className=\"error-message\">{errors.gst?.message}</p>}\n                        </div>\n                    </Col>\n                </Row>\n\n                <Row className={`${styles.expTotalRow}`}>\n                    <Col className='d-flex align-items-center justify-content-end' style={{ position: 'relative' }}>\n                        <div className={styles.CalItem}>\n                            <div>\n                                <span>Subtotal</span>\n                                <strong>${formatAUD(watch('subtotal') || \"0.00\")}</strong>\n                            </div>\n                        </div>\n                        <div className={styles.dividerIcon}>\n                            <PlusCircle color='#667085' size={20} />\n                        </div>\n                    </Col>\n                    <Col className='d-flex align-items-center justify-content-end' style={{ position: 'relative' }}>\n                        <div className={styles.CalItem}>\n                            <div>\n                                <span>Tax</span>\n                                <strong>${formatAUD(watch('tax') || \"0.00\")}</strong>\n                            </div>\n                        </div>\n                        <div className={styles.dividerIcon}>\n                            <span style={{ color: '#1D2939', fontSize: '14px', fontWeight: 600 }}>=</span>\n                        </div>\n                    </Col>\n                    <Col style={{ position: 'relative' }}>\n                        <div className={`${styles.CalItemActive} ${styles.CalItem}`}>\n                            <div>\n                                <span>Total</span>\n                                <strong className='text-nowrap'>${formatAUD(watch('totalAmount') || \"0.00\")}</strong>\n                            </div>\n                        </div>\n                    </Col>\n                </Row>\n\n                <Row className={clsx(styles.bgGreay, 'customSelectButton')}>\n                    <div className='d-flex justify-content-between align-items-center'>\n                        <SelectButton value={option} className={styles.selectButton} onChange={(e) => setOptionValue(e.value)} options={options} />\n                        {/* <Button className={styles.reviewButton} onClick={handleReviewClick}>Review\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                                <path d=\"M9.57154 7.80883C9.7088 7.39705 10.2912 7.39706 10.4285 7.80884L11.2353 10.2294C11.595 11.3083 12.4416 12.155 13.5206 12.5146L15.9412 13.3215C16.3529 13.4588 16.3529 14.0412 15.9412 14.1785L13.5206 14.9853C12.4417 15.345 11.595 16.1916 11.2353 17.2706L10.4285 19.6911C10.2912 20.1029 9.7088 20.1029 9.57154 19.6911L8.76466 17.2706C8.40501 16.1916 7.55836 15.345 6.47941 14.9853L4.05884 14.1785C3.64705 14.0412 3.64705 13.4588 4.05884 13.3215L6.47941 12.5146C7.55836 12.155 8.40501 11.3083 8.76467 10.2294L9.57154 7.80883Z\" fill=\"#106B99\" />\n                                <path d=\"M4.74293 1.4353C4.82529 1.18823 5.17476 1.18823 5.25711 1.4353L5.74122 2.88763C5.957 3.535 6.465 4.043 7.11237 4.25879L8.56471 4.7429C8.81178 4.82526 8.81178 5.17473 8.56471 5.25709L7.11238 5.7412C6.465 5.95699 5.957 6.46499 5.74122 7.11236L5.25711 8.5647C5.17476 8.81177 4.82528 8.81177 4.74293 8.5647L4.2588 7.11235C4.04301 6.46498 3.53502 5.95699 2.88765 5.7412L1.4353 5.25709C1.18823 5.17473 1.18823 4.82526 1.4353 4.7429L2.88765 4.25879C3.53502 4.043 4.04301 3.53501 4.2588 2.88764L4.74293 1.4353Z\" fill=\"#106B99\" />\n                                <path d=\"M13.5786 0.123533C13.6335 -0.0411787 13.8665 -0.0411773 13.9214 0.123535L14.2441 1.09175C14.388 1.52333 14.7267 1.862 15.1583 2.00586L16.1265 2.3286C16.2912 2.38351 16.2912 2.61649 16.1265 2.67139L15.1583 2.99413C14.7267 3.13799 14.388 3.47666 14.2441 3.90824L13.9214 4.87647C13.8665 5.04118 13.6335 5.04118 13.5786 4.87647L13.2559 3.90823C13.112 3.47665 12.7734 3.13799 12.3418 2.99413L11.3735 2.67139C11.2088 2.61649 11.2088 2.38351 11.3735 2.3286L12.3418 2.00586C12.7734 1.862 13.112 1.52334 13.2559 1.09176L13.5786 0.123533Z\" fill=\"#106B99\" />\n                            </svg>\n                        </Button> */}\n                    </div>\n                    {\n                        option === 'Assign to project'\n                            ? (\n                                <Col sm={12}>\n                                    <div className=\"d-flex flex-column gap-1 mt-4 mb-4\">\n                                        <Tooltip position='top' target={`.info-timeinterval`} />\n                                        <label className={clsx(styles.lable)}>Link to Project<span className='required'>*</span> <QuestionCircle color='#667085' style={{ position: 'relative', top: '-1px' }} className={`ms-1 info-timeinterval`} data-pr-tooltip=\"Select an existing project to assign expenses and display the exact cost of using this asset.\" /></label>\n                                        <Controller\n                                            name=\"order\"\n                                            control={control}\n                                            render={({ field }) => (\n                                                <Dropdown\n                                                    {...field}\n                                                    options={projectsList?.data?.map((project) => ({\n                                                        value: project.id,\n                                                        label: `${project.number}: ${project.reference}`\n                                                    })) || []}\n                                                    onChange={(e) => {\n                                                        field.onChange(e.value);\n                                                    }}\n                                                    className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors?.order })}\n                                                    style={{ height: '46px' }}\n                                                    value={field.value}\n                                                    loading={projectsList?.isFetching}\n                                                    placeholder=\"Select project\"\n                                                    filter\n                                                    filterInputAutoFocus={true}\n                                                    scrollHeight=\"400px\"\n                                                />\n                                            )}\n                                        />\n                                        {errors?.order && <p className=\"error-message\">{errors.order?.message}</p>}\n                                    </div>\n                                </Col>\n                            )\n                            : (\n                                <Col sm={12}>\n                                    <div className=\"d-flex flex-column gap-1 mt-4 mb-4\">\n                                        <Tooltip position='top' target={`.info-timeinterval`} />\n                                        <label className={clsx(styles.lable)}>Expense time interval<span className='required'>*</span> <QuestionCircle color='#667085' style={{ position: 'relative', top: '-1px' }} className={`ms-1 info-timeinterval`} data-pr-tooltip=\"Selecting this option will categorize the expense under 'Operational Expense' and distribute it evenly over the chosen timeframe.\" /></label>\n                                        <Controller\n                                            name=\"type\"\n                                            control={control}\n                                            render={({ field }) => (\n                                                <Dropdown\n                                                    {...field}\n                                                    options={[\n                                                        { value: 1, label: 'Monthly' },\n                                                        { value: 2, label: 'Yearly' }\n                                                    ]}\n                                                    onChange={(e) => {\n                                                        field.onChange(e.value);\n                                                    }}\n                                                    className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors?.type })}\n                                                    style={{ height: '46px' }}\n                                                    value={field.value}\n                                                    placeholder=\"Select expense time interval\"\n                                                    filterInputAutoFocus={true}\n                                                />\n                                            )}\n                                        />\n                                        {errors?.type && <p className=\"error-message\">{errors.type?.message}</p>}\n                                    </div>\n                                </Col>\n                            )\n                    }\n                </Row>\n\n                <Row className={clsx(styles.bgGreay)}>\n                    <Col sm={12}>\n                        <div className=\"d-flex flex-column gap-1\">\n                            <label className={clsx(styles.lable)}>Notes</label>\n                            <IconField>\n                                <InputIcon style={{ top: '75%' }}>{errors.note && <img src={exclamationCircle} alt='error-icon' />}</InputIcon>\n                                <InputTextarea {...register(\"note\")} rows={3} cols={30} className={clsx(styles.inputText, { [styles.error]: errors.note })} style={{ resize: 'none' }} placeholder='Enter a note...' />\n                            </IconField>\n                            {errors.note && <p className=\"error-message\">{errors.note.message}</p>}\n                        </div>\n                    </Col>\n                </Row>\n\n                <Row className={clsx(styles.bgGreay)}>\n                    <Col sm={12}>\n                        <div className=\"d-flex flex-column gap-1 mt-4 mb-4\">\n                            <label className={clsx(styles.lable)}>Account Code</label>\n                            <Controller\n                                name=\"account_code\"\n                                control={control}\n                                render={({ field }) => (\n                                    <Dropdown\n                                        {...field}\n                                        options={[\n                                            ...(xeroCodesList && xeroCodesList?.data?.map((code) => ({\n                                                value: code.id,\n                                                label: `${code.code}: ${code.name}`\n                                            }))) || []\n                                        ] || []}\n                                        onChange={(e) => {\n                                            field.onChange(e.value);\n                                        }}\n                                        className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors?.account_code })}\n                                        style={{ height: '46px' }}\n                                        scrollHeight=\"400px\"\n                                        value={field.value}\n                                        loading={xeroCodesList?.isFetching}\n                                        placeholder=\"Select account code\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                    />\n                                )}\n                            />\n                            {errors?.account_code && <p className=\"error-message\">{errors.account_code?.message}</p>}\n                        </div>\n                    </Col>\n                    {/* <Col sm={6}>\n                        <div className=\"d-flex flex-column gap-1 mt-4 mb-4\">\n                            <label className={clsx(styles.lable)}>Department</label>\n                            <Controller\n                                name=\"department\"\n                                control={control}\n                                render={({ field }) => (\n                                    <Dropdown\n                                        {...field}\n                                        options={[\n                                            ...(departmentsList && departmentsList?.data?.map((department) => ({\n                                                value: department.id,\n                                                label: `${department.name}`\n                                            }))) || []\n                                        ] || []}\n                                        onChange={(e) => {\n                                            field.onChange(e.value);\n                                        }}\n                                        className={clsx(styles.dropdownSelect, 'dropdown-height-fixed', { [styles.error]: errors?.department })}\n                                        style={{ height: '46px' }}\n                                        scrollHeight=\"400px\"\n                                        value={field.value}\n                                        loading={departmentsList?.isFetching}\n                                        placeholder=\"Select department\"\n                                        filter\n                                        filterInputAutoFocus={true}\n                                    />\n                                )}\n                            />\n                            {errors?.department && <p className=\"error-message\">{errors.department?.message}</p>}\n                        </div>\n                    </Col> */}\n                </Row>\n\n                {links?.length ?\n                    <Row className={clsx(styles.bgGreay)}>\n                        <Col sm={12}>\n                            <div className=\"d-flex flex-column gap-1\">\n                                <div className='d-flex flex-column'>\n                                    <label className={clsx(styles.lable, 'mb-2')}>Photo/Document Of The Expense</label>\n                                    {\n                                        links[0] && (\n                                            <div className={styles.fileBox}>\n                                                {getFileIcon(links[0]?.split(\".\")?.[links[0]?.split(\".\").length - 1] || \"\")}\n                                                <div className={styles.fileNameBox}>\n                                                    <Link className='linkText' to={links[0]} target='_blank'><p className='mb-0'>{links[0]?.split(\"/\")?.[links[0]?.split(\"/\").length - 1] || \"\"}</p></Link>\n                                                    <p className='mb-0'></p>\n                                                </div>\n                                                <div className='ms-auto'>\n                                                    <div className='d-flex align-items-center justify-content-center' style={{ background: '#FEE4E2', borderRadius: '200px', width: '30px', height: '30px' }}>\n                                                        <Trash size={16} color=\"#F04438\" style={{ cursor: 'pointer' }} onClick={removeFile} />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )\n                                    }\n                                </div>\n                            </div>\n                        </Col>\n                    </Row>\n                    : \"\"\n                }\n\n                {/* <div className=\"flex align-items-center\">\n                <Controller\n                    name=\"notification\"\n                    control={control}\n                    render={({ field: { onChange, onBlur, value, ref } }) => (\n                        <Checkbox\n                            inputRef={ref}\n                            checked={value}\n                            onChange={(e) => {\n                                onChange(e.checked);\n                            }}\n                            onBlur={onBlur}\n                        />\n                    )}\n                />\n                <label className=\"ms-2\" style={{ position: 'relative', top: '1px', color: '#344054', fontWeight: 500, fontSize: '14px' }}>Send Email Notification when paid</label>\n            </div> */}\n            </form>\n\n            {\n                <Sidebar visible={showDocumentSideBar && links?.length} header={documentSidebarHeader} position=\"right\" modal={false} dismissable={false} style={{ width: '1200px', paddingRight: '720px' }} maskClassName=\"p-sidebar-mask-document\" onHide={() => setShowDocumentSidebar(false)}>\n                    <FilePreview files={links} />\n                </Sidebar>\n            }\n            {showReviewModal && (\n                <ReviewExpense\n                    visible={showReviewModal}\n                    onHide={() => setShowReviewModal(false)}\n                />\n            )}\n\n            {showCreateSupplierModal && (\n                <SupplierCreate\n                    visible={showCreateSupplierModal}\n                    setVisible={setShowCreateSupplierModal}\n                    refetch={() => setSupplierRefetchToggle(prev => !prev)}\n                />\n            )}\n        </div>\n    );\n});\n\nconst FilePreview = ({ files }) => {\n    const [pageStates, setPageStates] = useState({});\n\n    const isImage = (url) => /\\.(jpeg|jpg|png|webp|gif|svg)$/i.test(url);\n    const isPDF = (url) => /\\.pdf$/i.test(url);\n\n    const handleLoadSuccess = (file, { numPages }) => {\n        setPageStates((prev) => ({\n            ...prev,\n            [file]: { ...prev[file], numPages, currentPage: 1 },\n        }));\n    };\n\n    const changePage = (file, offset) => {\n        setPageStates((prev) => {\n            const current = prev[file]?.currentPage || 1;\n            const numPages = prev[file]?.numPages || 1;\n            const newPage = Math.min(Math.max(current + offset, 1), numPages);\n            return {\n                ...prev,\n                [file]: {\n                    ...prev[file],\n                    currentPage: newPage,\n                },\n            };\n        });\n    };\n\n    return (\n        <div style={{ display: 'grid', gap: '2rem' }}>\n            {files.map((file, index) => {\n                if (isImage(file)) {\n                    return (\n                        <img\n                            key={index}\n                            src={file}\n                            alt={`preview-${index}`}\n                            style={{\n                                maxWidth: '100%',\n                                maxHeight: '400px',\n                                border: '1px solid #ccc',\n                            }}\n                        />\n                    );\n                }\n\n                if (isPDF(file)) {\n                    const currentState = pageStates[file] || {};\n                    const { numPages = null, currentPage = 1 } = currentState;\n\n                    return (\n                        <div\n                            key={index}\n                            style={{\n                                border: '1px solid #ccc',\n                                padding: '1rem',\n                                maxWidth: '420px',\n                            }}\n                        >\n                            <Document\n                                file={file}\n                                onLoadSuccess={(e) => handleLoadSuccess(file, e)}\n                                onLoadError={(err) =>\n                                    console.error('PDF load error:', err)\n                                }\n                            >\n                                <Page pageNumber={currentPage} width={400} />\n                            </Document>\n\n                            {numPages && (\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        justifyContent: 'center',\n                                        alignItems: 'center',\n                                        marginTop: '1rem',\n                                        gap: '1rem',\n                                    }}\n                                >\n                                    <button\n                                        className='outline-button px-2'\n                                        style={{ height: '30px' }}\n                                        onClick={() => changePage(file, -1)}\n                                        disabled={currentPage <= 1}\n                                    >\n                                        ‹\n                                    </button>\n                                    <span>\n                                        {currentPage} of {numPages}\n                                    </span>\n                                    <button\n                                        className='outline-button px-2'\n                                        style={{ height: '30px' }}\n                                        onClick={() => changePage(file, 1)}\n                                        disabled={currentPage >= numPages}\n                                    >\n                                        ›\n                                    </button>\n                                </div>\n                            )}\n                        </div>\n                    );\n                }\n\n                return <p key={index}>Unsupported file type: {file}</p>;\n            })}\n        </div>\n    );\n};\n\nconst ReviewExpense = React.memo(({ visible, onHide, defaultValues = {} }) => {\n    const observerRef = useRef(null);\n    const [supplierValue, setSupplierValue] = useState(defaultValues.supplier?.id || \"\");\n    const [selectedSupplier, setSelectedSupplier] = useState(defaultValues.supplier || null);\n    const [suppliers, setSuppliers] = useState([]);\n    const [page, setPage] = useState(1);\n    const [searchValue, setSearchValue] = useState(\"\");\n    const [hasMoreData, setHasMoreData] = useState(true);\n    const [links, setLinks] = useState([]);\n    const limit = 25;\n\n    const search = debounce((event) => {\n        const query = event?.filter?.toLowerCase() || '';\n        setSearchValue(query);\n    }, 300);\n\n    useEffect(() => {\n        setPage(1);\n    }, [searchValue]);\n\n    useEffect(() => {\n        const loadData = async () => {\n            const data = await getListOfSuppliers(page, limit, searchValue, 'name');\n            if (page === 1) {\n                if (supplierValue) {\n                    const filteredSuppliers = data.results.filter(supplier => supplier.id !== supplierValue);\n                    return setSuppliers([selectedSupplier, ...filteredSuppliers]);\n                }\n\n                setSuppliers(data.results);\n            }\n\n            else {\n                if (data?.results?.length > 0) {\n                    let results = data.results;\n                    if (supplierValue) {\n                        results = [selectedSupplier, ...data.results];\n                    }\n                    setSuppliers(prev => {\n                        let previous = prev;\n                        if (supplierValue) {\n                            previous = [...prev, selectedSupplier];\n                        }\n                        const existingSupplierIds = new Set(previous.map(supplier => supplier.id));\n                        const newSuppliers = results.filter(supplier => !existingSupplierIds.has(supplier.id));\n                        return [...prev, ...newSuppliers];\n                    });\n                }\n            }\n            setHasMoreData(data.count !== suppliers.length);\n        };\n\n        loadData();\n    }, [page, searchValue, supplierValue, selectedSupplier]);\n\n    useEffect(() => {\n        if (suppliers.length > 0 && hasMoreData) {\n            const timeout = setTimeout(() => {\n                const lastRow = document.querySelector('.supplier-dropdown .p-dropdown-items li.p-dropdown-item:last-child');\n                console.log('lastRow: ', lastRow);\n\n                if (lastRow) {\n                    observerRef.current = new IntersectionObserver(entries => {\n                        if (entries[0].isIntersecting) {\n                            setPage(prevPage => prevPage + 1);\n                            console.log('entries[0].isIntersecting: ', entries[0].isIntersecting);\n                        }\n                    });\n                    observerRef.current.observe(lastRow);\n                }\n            }, 1000); // Wait for DOM paint\n\n            return () => {\n                clearTimeout(timeout);\n                if (observerRef.current) observerRef.current.disconnect();\n            };\n        }\n    }, [suppliers, hasMoreData]);\n\n    const headerElement = (\n        <div className={`${styles.modalHeader}`}>\n            <div className={styles.iconStyle}>\n                <img src={aiScanImg} alt=\"Review Icon\" />\n            </div>\n            <span className={`white-space-nowrap ${styles.headerTitle}`}>Review</span>\n        </div>\n    );\n\n    const footerContent = (\n        <div className=\"d-flex justify-content-end align-items-center gap-3\">\n            {/* <Button disabled={paidMutation?.isPending} label=\"Cancel\" className=\"outline-button outline-none\" onClick={() => setVisible(false)} autoFocus /> */}\n            {/* <Button disabled={paidMutation?.isPending} label={paidMutation?.isPending ? \"Loading...\" : \"Mark as paid\"} className=\"success-button outline-none\" onClick={handlePaidExpense} autoFocus /> */}\n        </div>\n    );\n    return (\n        <Dialog visible={visible} modal onHide={onHide} header={headerElement} footer={footerContent} className={`${styles.modal} custom-modal`} >\n            <Row className='mb-2'>\n                <Col sm={8}>\n                    <div className=\"d-flex flex-column gap-1\">\n                        <label className={clsx(styles.lable)}>Supplier<span className='required'>*</span></label>\n                        <Dropdown\n                            value={supplierValue}\n                            options={suppliers}\n                            optionLabel=\"name\"\n                            optionValue=\"id\"\n                            onChange={(e) => {\n                                setSupplierValue(+e.value);\n                                let findSupplier = suppliers.find(supplier => supplier.id === e.value);\n                                setSelectedSupplier(findSupplier || {});\n                            }}\n                            itemTemplate={(option) => {\n                                return (\n                                    <div className='d-flex gap-2 align-items-center w-100'>\n                                        <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '4px', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                            <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={true} size={17} />\n                                        </div>\n                                        <div className='ellipsis-width' style={{ maxWidth: '350px' }}>{option?.name}</div>\n                                    </div>\n                                );\n                            }}\n                            valueTemplate={(option) => {\n                                return (\n                                    supplierValue ? (\n                                        <div className='d-flex gap-2 align-items-center w-100'>\n                                            <div className='d-flex justify-content-center align-items-center' style={{ width: '24px', height: '24px', borderRadius: '4px', overflow: 'hidden', border: '1px solid #dedede' }}>\n                                                <FallbackImage photo={option?.photo} has_photo={option?.has_photo} is_business={true} size={17} />\n                                            </div>\n                                            <div className='ellipsis-width' style={{ maxWidth: '350px' }}>{option?.name}</div>\n                                        </div>\n                                    ) : null\n                                );\n                            }}\n                            className={clsx(styles.dropdownSelect, 'dropdown-height-fixed')}\n                            panelClassName={\"supplier-dropdown\"}\n                            style={{ height: '46px' }}\n                            scrollHeight=\"350px\"\n                            placeholder=\"Search for supplier\"\n                            filter\n                            onFilter={search}\n                            filterInputAutoFocus={true}\n                        />\n                    </div>\n                </Col>\n\n                <Col sm={4}>\n                    <div className=\"d-flex justify-content-end text-md-end flex-column gap-1 mt-3 pt-3\">\n                        <Link to={\"/suppliers?addNewSupplier=true\"} target='_blank'>\n                            <Button className={styles.expensesCreateNew}>Create New Supplier<Plus size={24} color=\"#475467\" /></Button>\n                        </Link>\n                    </div>\n                </Col>\n            </Row>\n            <hr />\n            <Row>\n\n            </Row>\n        </Dialog>\n    );\n});\n\nexport default ExpensesForm;","// extracted by mini-css-extract-plugin\nexport default {\"circledesignstyle\":\"supplier-create_circledesignstyle__RXgvx\",\"out\":\"supplier-create_out__lEI-I\",\"tab\":\"supplier-create_tab__dSUke\",\"iconBox\":\"supplier-create_iconBox__rDYMY\",\"tabText\":\"supplier-create_tabText__l0k3i\",\"active\":\"supplier-create_active__Rphlh\",\"bgGreay\":\"supplier-create_bgGreay__laJf2\",\"fileUploadBox\":\"supplier-create_fileUploadBox__z31UF\",\"uploadedImgBox\":\"supplier-create_uploadedImgBox__gTrVH\",\"uploadedText1\":\"supplier-create_uploadedText1__a1udq\",\"uploadedText2\":\"supplier-create_uploadedText2__NIItB\",\"lable\":\"supplier-create_lable__Ph2h4\",\"inputText\":\"supplier-create_inputText__pEINV\",\"error\":\"supplier-create_error__SN0Nv\",\"phoneInput\":\"supplier-create_phoneInput__WIIfS\",\"countrySelector\":\"supplier-create_countrySelector__rhyKO\",\"headingInputs\":\"supplier-create_headingInputs__cG1T8\",\"dropdownSelect\":\"supplier-create_dropdownSelect__de+vx\",\"tempDelete\":\"supplier-create_tempDelete__lruWX\",\"tempAdd\":\"supplier-create_tempAdd__6Elmk\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { PlusCircle, X } from 'react-bootstrap-icons';\nimport { useLocation } from 'react-router-dom';\nimport { parsePhoneNumberFromString } from 'libphonenumber-js';\nimport { nanoid } from 'nanoid';\nimport { Sidebar } from 'primereact/sidebar';\nimport { toast } from 'sonner';\nimport styles from './supplier-create.module.scss';\nimport SupplierForm from '../../../shared/ui/supliers-ui/supplier-form';\n\n\nconst SupplierCreate = ({ visible, setVisible, refetch }) => {\n  const formRef = useRef(null);\n  const addNewSupplier = new URLSearchParams(useLocation().search).get(\"addNewSupplier\");\n  const [isPending, setIsPending] = useState(false);\n  const [photo, setPhoto] = useState(null);\n  const [defaultValues, ] = useState({\n    contact_persons: [{}],\n    addresses: [{ title: \"Main Location\", country: 1 }],\n  });\n\n  const FormSubmit = async (data) => {\n    console.log('data: ', data);\n    const formData = new FormData();\n\n    formData.append(\"name\", data.name);\n    if (data.email) formData.append(\"email\", data.email);\n    if (data.website) formData.append(\"website\", data.website);\n    if (data.abn) formData.append(\"abn\", data.abn);\n    const phoneNumber = data?.phone && parsePhoneNumberFromString(data.phone);\n    if (phoneNumber?.nationalNumber) formData.append(\"phone\", data.phone);\n    if (data.service) formData.append(\"service\", data.service);\n    if (data.note) formData.append(\"note\", data.note);\n\n    data.addresses.forEach((address, index) => {\n      if (address.city) {\n        formData.append(`addresses[${index}]address`, address.address);\n        formData.append(`addresses[${index}]city`, address.city);\n        formData.append(`addresses[${index}]postcode`, address.postcode);\n        formData.append(`addresses[${index}]is_main`, address.is_main);\n        formData.append(`addresses[${index}]title`, address.title);\n      }\n    });\n\n    data.contact_persons.forEach((person, index) => {\n      if (person.firstname || person.email) {\n        formData.append(`contact_persons[${index}]firstname`, person.firstname);\n        formData.append(`contact_persons[${index}]lastname`, person.lastname);\n        formData.append(`contact_persons[${index}]email`, person.email);\n        const phoneNumber = person?.phone && parsePhoneNumberFromString(person.phone);\n        if (phoneNumber?.nationalNumber) formData.append(`contact_persons[${index}]phone`, person.phone);\n        formData.append(`contact_persons[${index}]position`, person.position);\n        formData.append(`contact_persons[${index}]is_main`, person.is_main);\n      }\n    });\n\n    if (photo?.croppedImageBlob) {\n      const photoHintId = nanoid(6);\n      formData.append('photo', photo?.croppedImageBlob, `${photoHintId}.jpg`);\n    }\n\n    try {\n      setIsPending(true);\n      const accessToken = localStorage.getItem(\"access_token\");\n      const response = await fetch(`${process.env.REACT_APP_BACKEND_API_URL}/suppliers/new/`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${accessToken}`\n        },\n        body: formData,\n      });\n      if (response.ok) {\n        console.log('response: ', response);\n        toast.success(`New supplier created successfully`);\n        setVisible(false);\n        refetch((prev) => !prev);\n      } else {\n        toast.error('Failed to create new supplier. Please try again.');\n      }\n    } catch (err) {\n      toast.error(`Failed to create new supplier. Please try again.`);\n    } finally {\n      setIsPending(false);\n    }\n  };\n\n  const handleSubmit = async (data) => {\n    console.log('data: ', data);\n    FormSubmit(data);\n  };\n\n  const handleExternalSubmit = () => {\n    if (formRef.current) {\n      formRef.current.dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }));\n    }\n  };\n\n  useEffect(() => {\n    if (!visible) setPhoto(null);\n  }, [visible]);\n\n  useEffect(() => {\n    if (addNewSupplier) {\n      setVisible(true);\n    }\n  }, [addNewSupplier, setVisible]);\n\n  return (\n    <Sidebar visible={visible} position=\"right\" onHide={() => setVisible(false)} modal={false} dismissable={false} style={{ width: '702px' }}\n      content={({ closeIconRef, hide }) => (\n        <div className='create-sidebar d-flex flex-column'>\n          <div className=\"d-flex align-items-center justify-content-between flex-shrink-0\" style={{ borderBottom: '1px solid #EAECF0', padding: '24px' }}>\n            <div className=\"d-flex align-items-center gap-2\">\n              <div className={styles.circledesignstyle}>\n                <div className={styles.out}>\n                  <PlusCircle size={24} color=\"#17B26A\" />\n                </div>\n              </div>\n              <span style={{ color: '344054', fontSize: '20px', fontWeight: 600 }}>Create new Supplier</span>\n            </div>\n            <span>\n              <Button type=\"button\" className='text-button' ref={closeIconRef} onClick={(e) => hide(e)}>\n                <X size={24} color='#667085' />\n              </Button>\n            </span>\n          </div>\n\n          <div className='modal-body' style={{ padding: '24px', height: 'calc(100vh - 72px - 122px)', overflow: 'auto' }}>\n            <SupplierForm photo={photo} setPhoto={setPhoto} ref={formRef} onSubmit={handleSubmit} defaultValues={defaultValues} />\n          </div>\n\n          <div className='modal-footer d-flex align-items-center justify-content-end gap-3' style={{ padding: '16px 24px', borderTop: \"1px solid var(--Gray-200, #EAECF0)\", height: '72px' }}>\n            <Button type='button' onClick={(e) => { e.stopPropagation(); setVisible(false); }} className='outline-button'>Cancel</Button>\n            <Button type='button' disabled={isPending} onClick={handleExternalSubmit} className='solid-button' style={{ minWidth: '75px' }}>{isPending ? \"Loading...\" : \"Save\"}</Button>\n          </div>\n        </div>\n      )}\n    ></Sidebar>\n  );\n};\n\nexport default SupplierCreate;","// extracted by mini-css-extract-plugin\nexport default {\"circledesignstyle\":\"new-expense-create_circledesignstyle__Ke3sy\",\"out\":\"new-expense-create_out__C1Mi-\",\"bgGreay\":\"new-expense-create_bgGreay__g2IX6\",\"fileUploadBox\":\"new-expense-create_fileUploadBox__lKcNi\",\"lable\":\"new-expense-create_lable__er5YG\",\"inputText\":\"new-expense-create_inputText__67rf1\",\"error\":\"new-expense-create_error__exTkr\",\"phoneInput\":\"new-expense-create_phoneInput__8m0if\",\"countrySelector\":\"new-expense-create_countrySelector__JcTx+\",\"headingInputs\":\"new-expense-create_headingInputs__vduP8\",\"dropdownSelect\":\"new-expense-create_dropdownSelect__CLtdF\",\"tempDelete\":\"new-expense-create_tempDelete__nk8Ly\",\"tempAdd\":\"new-expense-create_tempAdd__nj5Hm\",\"expensesEditHead\":\"new-expense-create_expensesEditHead__xr-7V\",\"expensesCreateNew\":\"new-expense-create_expensesCreateNew__NnaRF\",\"customCalendar\":\"new-expense-create_customCalendar__GifKn\",\"customIcon\":\"new-expense-create_customIcon__Sq5Zs\",\"expTotalRow\":\"new-expense-create_expTotalRow__kP3IT\",\"CalItem\":\"new-expense-create_CalItem__RBEak\",\"CalItemActive\":\"new-expense-create_CalItemActive__q16n0\",\"tabsExpenses\":\"new-expense-create_tabsExpenses__xtomK\",\"active\":\"new-expense-create_active__+KR+4\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { PlusCircle, X } from 'react-bootstrap-icons';\nimport { useMutation } from '@tanstack/react-query';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Sidebar } from 'primereact/sidebar';\nimport { toast } from 'sonner';\nimport styles from './new-expense-create.module.scss';\nimport { createNewExpense } from '../../../../../APIs/expenses-api';\nimport ExpensesForm from '../../../shared/ui/expense-ui/expenses-form';\n\n\n\nconst NewExpensesCreate = ({ visible, setVisible, setRefetch, expenseProjectId, projectReference }) => {\n    const url = window.location.href;\n    const urlObj = new URL(url);\n    const params = new URLSearchParams(urlObj.search);\n    const [projectId, setProjectId] = useState(null);\n\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    const formRef = useRef(null);\n    const [defaultValues, setDefaultValues] = useState({\n        option: 'Assign to timeframe',\n        type: 2,\n        notification: false,\n        date: today,\n        due_date: tomorrow\n    });\n\n    useEffect(() => {\n        const projectParamId = params.get('projectId') || expenseProjectId;\n        const reference = params.get('reference') || projectReference;\n        if (reference) {\n            setDefaultValues((prev) => ({ ...prev, invoice_reference: reference }));\n            urlObj.searchParams.delete('reference');\n            window.history.replaceState({}, '', urlObj);\n        }\n \n        if (projectParamId) {\n            setProjectId(projectParamId);\n            setDefaultValues((prev) => ({ ...prev, option: 'Assign to project' }));\n            urlObj.searchParams.delete('projectId');\n            window.history.replaceState({}, '', urlObj);\n        }\n    }, [projectId, setVisible]);\n\n    const mutation = useMutation({\n        mutationFn: (data) => createNewExpense(data),\n        onSuccess: (response) => {\n            console.log('response: ', response);\n            toast.success(`Expense created successfully`);\n            handleClose();\n            setRefetch((refetch) => !refetch);\n        },\n        onError: (error) => {\n            console.error('Error creating expense:', error);\n            toast.error('Failed to create expense. Please try again.');\n        }\n    });\n\n    const handleSubmit = async (data) => {\n        delete data[\"gst-calculation\"];\n        delete data.option;\n        delete data.subtotal;\n        delete data.totalAmount;\n        delete data.tax;\n\n        if (!data.order) delete data.order;\n        if (!data.type) data.type = 1;\n        if (data.date) data.date = new Date(data.date).toISOString().split('T')[0];\n        if (data.due_date) data.due_date = new Date(data.due_date).toISOString().split('T')[0];\n        mutation.mutate(data);\n    };\n\n    const handleExternalSubmit = () => {\n        if (formRef.current) {\n            formRef.current.dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }));\n        }\n    };\n\n    const handleClose = () => {\n        setVisible(false);\n        setProjectId(null);\n        setDefaultValues({\n            option: 'Assign to timeframe',\n            type: 2,\n            notification: false,\n            date: today,\n            due_date: tomorrow\n        });\n    };\n    return (\n        <Sidebar visible={visible} position=\"right\" onHide={handleClose} modal={false} dismissable={false} style={{ width: '702px' }}\n            content={({ closeIconRef, hide }) => (\n                <div className='create-sidebar d-flex flex-column'>\n                    <div className=\"d-flex align-items-center justify-content-between flex-shrink-0\" style={{ borderBottom: '1px solid #EAECF0', padding: '24px' }}>\n                        <div className=\"d-flex align-items-center gap-2\">\n                            <div className={styles.circledesignstyle}>\n                                <div className={styles.out}>\n                                    <PlusCircle size={24} color=\"#17B26A\" />\n                                </div>\n                            </div>\n                            <span style={{ color: '344054', fontSize: '20px', fontWeight: 600 }}>Create new Expense</span>\n                        </div>\n                        <span>\n                            <Button type=\"button\" className='text-button' ref={closeIconRef} onClick={(e) => hide(e)}>\n                                <X size={24} color='#667085' />\n                            </Button>\n                        </span>\n                    </div>\n\n                    <div className='modal-body' style={{ padding: '24px', height: 'calc(100vh - 72px - 122px)', overflow: 'auto' }}>\n                        <div className={`d-flex align-items-center mb-2 justify-content-between ${styles.expensesEditHead}`}>\n                            <h5>Expense Details</h5>\n                        </div>\n                        <ExpensesForm ref={formRef} onSubmit={handleSubmit} defaultValues={defaultValues} projectId={projectId} />\n                    </div>\n\n                    <div className='modal-footer d-flex align-items-center justify-content-end gap-3' style={{ padding: '16px 24px', borderTop: \"1px solid var(--Gray-200, #EAECF0)\", height: '72px' }}>\n                        <Button type='button' onClick={(e) => { e.stopPropagation(); handleClose(); }} className='outline-button' disabled={mutation.isPending}>Cancel</Button>\n                        <Button type='button' onClick={handleExternalSubmit} className='solid-button' style={{ minWidth: '70px' }} disabled={mutation.isPending}>Save {mutation.isPending && <ProgressSpinner style={{ width: '18px', height: '18px' }}/>}</Button>\n                    </div>\n                </div>\n            )}\n        ></Sidebar>\n    );\n};\n\nexport default NewExpensesCreate;"],"names":["extractAIResponseData","aiResponseString","Array","isArray","length","textEntry","find","entry","jsonMatch","match","JSON","parse","jsonStart","indexOf","jsonEnd","lastIndexOf","jsonString","substring","error","console","formatExpenseDataFromAI","data","amount","total_amount","replace","trim","gstCalculation","gst_included","amountValue","parseFloat","subtotal","tax","invoice_reference","invoice_number","toFixed","gst","nogst","totalAmount","note","description","debounce","fn","delay","timeoutId","_len","arguments","args","_key","clearTimeout","setTimeout","schema","yup","supplier","typeError","required","date","due_date","test","value","this","parent","invoiceDate","Date","dueDate","setHours","ExpensesForm","forwardRef","_ref","ref","_selectedSupplier$ser3","_errors$invoice_refer","_errors$date","_errors$due_date","_errors$amount","_errors$gst","_errors$order","_errors$type","_errors$account_code","_links$","_links$$split","_links$2","_links$3","_links$3$split","_links$4","onSubmit","defaultValues","id","defaultSupplier","projectId","useRef","observerRef","accessToken","localStorage","getItem","showReviewModal","setShowReviewModal","useState","supplierValue","setSupplierValue","selectedSupplier","setSelectedSupplier","suppliers","setSuppliers","files","setFiles","page","setPage","searchValue","setSearchValue","hasMoreData","setHasMoreData","showDocumentSideBar","setShowDocumentSidebar","showCreateSupplierModal","setShowCreateSupplierModal","supplierRefetchToggle","setSupplierRefetchToggle","links","setLinks","control","reset","register","handleSubmit","setValue","getValues","watch","setError","trigger","formState","errors","useForm","resolver","yupResolver","getRootProps","getInputProps","useDropzone","maxFiles","multiple","accept","maxSize","onDrop","acceptedFiles","newFiles","map","file","Object","assign","preview","URL","createObjectURL","progress","fileUploadBySignedURL","getAIRootProps","getAIInputProps","aiAnalysis","uploadToS3","async","url","axios","put","headers","onUploadProgress","progressEvent","Math","round","loaded","total","prevFiles","f","name","catch","err","log","isAIAnalysis","response","post","file_name","Authorization","toast","fileUrl","split","aiProcessing","info","duration","aiResponse","file_url","extractedData","formattedData","entries","forEach","_ref2","key","success","aiSuccess","aiNoData","warning","aiError","search","event","_event$filter","query","filter","toLowerCase","useEffect","getListOfSuppliers","filteredSuppliers","results","_data$results","prev","previous","existingSupplierIds","Set","newSuppliers","has","count","loadData","timeout","lastRow","document","querySelector","current","IntersectionObserver","isIntersecting","prevPage","observe","disconnect","handleGstChange","calculatedTax","newTotalAmount","calculateAmounts","gstType","xeroCodesList","useQuery","queryKey","queryFn","getXeroCodesList","projectsList","getProjectsList","options","option","setOptionValue","watchOrder","watchType","validateFields","type","message","keys","order","_selectedSupplier$ser","_xeroCodesList$data","service","code","_xeroCodesList$data2","findCode","_selectedSupplier$ser2","account_code","documentSidebarHeader","_jsx","className","style","borderBottom","padding","children","_jsxs","styles","InfoCircle","size","color","fontSize","fontWeight","Row","clsx","Col","sm","Dropdown","optionLabel","optionValue","onChange","e","findSupplier","itemTemplate","width","height","borderRadius","overflow","border","FallbackImage","photo","has_photo","is_business","maxWidth","valueTemplate","panelClassName","scrollHeight","placeholder","onFilter","filterInputAutoFocus","Button","onClick","Plus","IconField","InputIcon","src","exclamationCircle","InputText","background","marginTop","marginBottom","Upload","aiScanImg","index","getFileIcon","parseInt","ExclamationCircleFill","viewBox","fill","xmlns","d","CheckCircleFill","CircularProgressBar","percentage","Controller","render","_ref3","field","Calendar","showButtonBar","dateFormat","showIcon","icon","Calendar3","_ref4","minDate","locale","InputNumber","prefix","onValueChange","onBlur","maxFractionDigits","minFractionDigits","inputId","_ref5","label","position","formatAUD","PlusCircle","SelectButton","Tooltip","target","QuestionCircle","top","_ref6","_projectsList$data","project","number","reference","loading","isFetching","_ref7","alt","InputTextarea","rows","cols","resize","_ref8","_xeroCodesList$data3","Link","to","Trash","cursor","removeFile","Sidebar","visible","header","modal","dismissable","paddingRight","maskClassName","onHide","FilePreview","ReviewExpense","SupplierCreate","setVisible","refetch","_ref9","pageStates","setPageStates","changePage","offset","_prev$file","_prev$file2","currentPage","numPages","newPage","min","max","display","gap","maxHeight","isPDF","currentState","Document","onLoadSuccess","handleLoadSuccess","_ref10","onLoadError","Page","pageNumber","justifyContent","alignItems","disabled","React","_ref11","_defaultValues$suppli","_event$filter2","_data$results2","headerElement","footerContent","Dialog","footer","formRef","addNewSupplier","URLSearchParams","useLocation","get","isPending","setIsPending","setPhoto","contact_persons","addresses","title","country","formData","FormData","append","email","website","abn","phoneNumber","phone","parsePhoneNumberFromString","nationalNumber","address","city","postcode","is_main","person","firstname","lastname","croppedImageBlob","photoHintId","nanoid","fetch","method","body","ok","FormSubmit","handleExternalSubmit","dispatchEvent","Event","cancelable","bubbles","content","closeIconRef","hide","X","SupplierForm","borderTop","stopPropagation","minWidth","setRefetch","expenseProjectId","projectReference","window","location","href","urlObj","params","setProjectId","today","tomorrow","setDate","getDate","setDefaultValues","notification","projectParamId","searchParams","delete","history","replaceState","mutation","useMutation","mutationFn","createNewExpense","onSuccess","handleClose","onError","toISOString","mutate","ProgressSpinner"],"sourceRoot":""}